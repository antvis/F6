{"version":3,"sources":["webpack://f6/webpack/universalModuleDefinition","webpack://f6/webpack/bootstrap","webpack://f6//Users/bing/git/antv/layout/lib/util/string.js","webpack://f6//Users/bing/git/antv/layout/lib/util/array.js","webpack://f6//Users/bing/git/antv/layout/lib/util/number.js","webpack://f6//Users/bing/git/antv/layout/lib/util/math.js","webpack://f6//Users/bing/git/antv/layout/lib/util/object.js","webpack://f6//Users/bing/git/antv/layout/lib/util/function.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/grid.js","webpack://f6/./src/extends/layout/gridLayout/index.ts","webpack://f6//Users/bing/git/antv/layout/lib/layout/base.js","webpack://f6//Users/bing/git/antv/layout/lib/util/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","camelize","isString","val","fn","cache","camelizeRE","str","replace","_","toUpperCase","isArray","Array","toNumber","isNaN","isNumber","num","Number","parseFloat","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","nodeIdxMap","edges","degrees","forEach","e","source","target","adjMatrix","dist","size","length","j","Infinity","k","data","directed","nodes","matrix","nodeMap","Error","node","id","push","sIndex","tIndex","ratio","result","row","newRow","v","traverseUp","children","__assign","assign","arguments","apply","clone","isObject","Date","getTime","cp_1","map","cp_2","keys","isFunction","extendStatics","__extends","b","setPrototypeOf","__proto__","TypeError","String","__","constructor","GridLayout","util_1","_super","options","_this","begin","preventOverlap","preventOverlapPadding","condense","sortBy","nodeSize","width","height","col","cellWidth","cellHeight","cellUsed","id2manPos","onLayoutEnd","updateCfg","getDefaultCfg","rows","undefined","cols","position","execute","self","x","y","layoutNodes","degree","values_1","sort","n1","n2","window","innerWidth","innerHeight","oRows","oCols","columns","cells","Math","ceil","splits","sqrt","round","sm","small","lg","large","nodew","nodeh","w","h","max","rcPos","pos","used","use","getPos","res","min","moveToNextCell","getType","Base","combos","positions","destroyed","layout","init","reloadData","executeWithWorker","cfg","destroy","onTick","__createBinding","k2","__exportStar"],"mappings":"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","file":"extends/layout/gridLayout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6\"] = factory();\n\telse\n\t\troot[\"f6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 442);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","\"use strict\";\n/**\n * @fileOverview grid layout\n * @author shiwu.wyy@antfin.com\n * this algorithm refers to <cytoscape.js> - https://github.com/cytoscape/cytoscape.js/\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridLayout = void 0;\nvar util_1 = require(\"../util\");\nvar base_1 = require(\"./base\");\n/**\n * 网格布局\n */\nvar GridLayout = /** @class */ (function (_super) {\n    __extends(GridLayout, _super);\n    function GridLayout(options) {\n        var _this = _super.call(this) || this;\n        /** 布局起始点 */\n        _this.begin = [0, 0];\n        /** prevents node overlap, may overflow boundingBox if not enough space */\n        _this.preventOverlap = true;\n        /** extra spacing around nodes when preventOverlap: true */\n        _this.preventOverlapPadding = 10;\n        /** uses all available space on false, uses minimal space on true */\n        _this.condense = false;\n        /** a sorting function to order the nodes; e.g. function(a, b){ return a.datapublic ('weight') - b.data('weight') } */\n        _this.sortBy = \"degree\";\n        _this.nodeSize = 30;\n        _this.nodes = [];\n        _this.edges = [];\n        _this.width = 300;\n        _this.height = 300;\n        _this.row = 0;\n        _this.col = 0;\n        _this.cellWidth = 0;\n        _this.cellHeight = 0;\n        _this.cellUsed = {};\n        _this.id2manPos = {};\n        /** 迭代结束的回调函数 */\n        _this.onLayoutEnd = function () { };\n        _this.updateCfg(options);\n        return _this;\n    }\n    GridLayout.prototype.getDefaultCfg = function () {\n        return {\n            begin: [0, 0],\n            preventOverlap: true,\n            preventOverlapPadding: 10,\n            condense: false,\n            rows: undefined,\n            cols: undefined,\n            position: undefined,\n            sortBy: \"degree\",\n            nodeSize: 30\n        };\n    };\n    /**\n     * 执行布局\n     */\n    GridLayout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes;\n        var n = nodes.length;\n        var begin = self.begin;\n        if (n === 0) {\n            if (self.onLayoutEnd)\n                self.onLayoutEnd();\n            return;\n        }\n        if (n === 1) {\n            nodes[0].x = begin[0];\n            nodes[0].y = begin[1];\n            if (self.onLayoutEnd)\n                self.onLayoutEnd();\n            return;\n        }\n        var edges = self.edges;\n        var layoutNodes = [];\n        nodes.forEach(function (node) {\n            layoutNodes.push(node);\n        });\n        var nodeIdxMap = {};\n        layoutNodes.forEach(function (node, i) {\n            nodeIdxMap[node.id] = i;\n        });\n        if (self.sortBy === \"degree\" ||\n            !util_1.isString(self.sortBy) ||\n            layoutNodes[0][self.sortBy] === undefined) {\n            self.sortBy = \"degree\";\n            if (util_1.isNaN(nodes[0].degree)) {\n                var values_1 = util_1.getDegree(layoutNodes.length, nodeIdxMap, edges);\n                layoutNodes.forEach(function (node, i) {\n                    node.degree = values_1[i];\n                });\n            }\n        }\n        // sort nodes by value\n        layoutNodes.sort(function (n1, n2) { return n2[self.sortBy] - n1[self.sortBy]; });\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        var oRows = self.rows;\n        var oCols = self.cols != null ? self.cols : self.columns;\n        self.cells = n;\n        // if rows or columns were set in self, use those values\n        if (oRows != null && oCols != null) {\n            self.rows = oRows;\n            self.cols = oCols;\n        }\n        else if (oRows != null && oCols == null) {\n            self.rows = oRows;\n            self.cols = Math.ceil(self.cells / self.rows);\n        }\n        else if (oRows == null && oCols != null) {\n            self.cols = oCols;\n            self.rows = Math.ceil(self.cells / self.cols);\n        }\n        else {\n            // otherwise use the automatic values and adjust accordingly\t      // otherwise use the automatic values and adjust accordingly\n            // width/height * splits^2 = cells where splits is number of times to split width\n            self.splits = Math.sqrt((self.cells * self.height) / self.width);\n            self.rows = Math.round(self.splits);\n            self.cols = Math.round((self.width / self.height) * self.splits);\n        }\n        if (self.cols * self.rows > self.cells) {\n            // otherwise use the automatic values and adjust accordingly\n            // if rounding was up, see if we can reduce rows or columns\n            var sm = self.small();\n            var lg = self.large();\n            // reducing the small side takes away the most cells, so try it first\n            if ((sm - 1) * lg >= self.cells) {\n                self.small(sm - 1);\n            }\n            else if ((lg - 1) * sm >= self.cells) {\n                self.large(lg - 1);\n            }\n        }\n        else {\n            // if rounding was too low, add rows or columns\n            while (self.cols * self.rows < self.cells) {\n                var sm = self.small();\n                var lg = self.large();\n                // try to add to larger side first (adds less in multiplication)\n                if ((lg + 1) * sm >= self.cells) {\n                    self.large(lg + 1);\n                }\n                else {\n                    self.small(sm + 1);\n                }\n            }\n        }\n        self.cellWidth = self.width / self.cols;\n        self.cellHeight = self.height / self.rows;\n        if (self.condense) {\n            self.cellWidth = 0;\n            self.cellHeight = 0;\n        }\n        if (self.preventOverlap) {\n            layoutNodes.forEach(function (node) {\n                if (!node.x || !node.y) {\n                    // for bb\n                    node.x = 0;\n                    node.y = 0;\n                }\n                var nodew;\n                var nodeh;\n                if (util_1.isArray(node.size)) {\n                    nodew = node.size[0];\n                    nodeh = node.size[1];\n                }\n                else if (util_1.isNumber(node.size)) {\n                    nodew = node.size;\n                    nodeh = node.size;\n                }\n                if (nodew === undefined || nodeh === undefined) {\n                    if (util_1.isArray(self.nodeSize)) {\n                        nodew = self.nodeSize[0];\n                        nodeh = self.nodeSize[1];\n                    }\n                    else if (util_1.isNumber(self.nodeSize)) {\n                        nodew = self.nodeSize;\n                        nodeh = self.nodeSize;\n                    }\n                    else {\n                        nodew = 30;\n                        nodeh = 30;\n                    }\n                }\n                var p = self.preventOverlapPadding;\n                var w = nodew + p;\n                var h = nodeh + p;\n                self.cellWidth = Math.max(self.cellWidth, w);\n                self.cellHeight = Math.max(self.cellHeight, h);\n            });\n        }\n        self.cellUsed = {}; // e.g. 'c-0-2' => true\n        // to keep track of current cell position\n        self.row = 0;\n        self.col = 0;\n        // get a cache of all the manual positions\n        self.id2manPos = {};\n        for (var i = 0; i < layoutNodes.length; i++) {\n            var node = layoutNodes[i];\n            var rcPos = void 0;\n            if (self.position) {\n                rcPos = self.position(node);\n            }\n            if (rcPos && (rcPos.row !== undefined || rcPos.col !== undefined)) {\n                // must have at least row or col def'd\n                var pos = {\n                    row: rcPos.row,\n                    col: rcPos.col\n                };\n                if (pos.col === undefined) {\n                    // find unused col\n                    pos.col = 0;\n                    while (self.used(pos.row, pos.col)) {\n                        pos.col++;\n                    }\n                }\n                else if (pos.row === undefined) {\n                    // find unused row\n                    pos.row = 0;\n                    while (self.used(pos.row, pos.col)) {\n                        pos.row++;\n                    }\n                }\n                self.id2manPos[node.id] = pos;\n                self.use(pos.row, pos.col);\n            }\n            self.getPos(node);\n        }\n        if (self.onLayoutEnd)\n            self.onLayoutEnd();\n        return {\n            edges: edges,\n            nodes: layoutNodes\n        };\n    };\n    GridLayout.prototype.small = function (val) {\n        var self = this;\n        var res;\n        var rows = self.rows || 5;\n        var cols = self.cols || 5;\n        if (val == null) {\n            res = Math.min(rows, cols);\n        }\n        else {\n            var min = Math.min(rows, cols);\n            if (min === self.rows) {\n                self.rows = val;\n            }\n            else {\n                self.cols = val;\n            }\n        }\n        return res;\n    };\n    GridLayout.prototype.large = function (val) {\n        var self = this;\n        var res;\n        var rows = self.rows || 5;\n        var cols = self.cols || 5;\n        if (val == null) {\n            res = Math.max(rows, cols);\n        }\n        else {\n            var max = Math.max(rows, cols);\n            if (max === self.rows) {\n                self.rows = val;\n            }\n            else {\n                self.cols = val;\n            }\n        }\n        return res;\n    };\n    GridLayout.prototype.used = function (row, col) {\n        var self = this;\n        return self.cellUsed[\"c-\" + row + \"-\" + col] || false;\n    };\n    GridLayout.prototype.use = function (row, col) {\n        var self = this;\n        self.cellUsed[\"c-\" + row + \"-\" + col] = true;\n    };\n    GridLayout.prototype.moveToNextCell = function () {\n        var self = this;\n        var cols = self.cols || 5;\n        self.col++;\n        if (self.col >= cols) {\n            self.col = 0;\n            self.row++;\n        }\n    };\n    GridLayout.prototype.getPos = function (node) {\n        var self = this;\n        var begin = self.begin;\n        var cellWidth = self.cellWidth;\n        var cellHeight = self.cellHeight;\n        var x;\n        var y;\n        // see if we have a manual position set\n        var rcPos = self.id2manPos[node.id];\n        if (rcPos) {\n            x = rcPos.col * cellWidth + cellWidth / 2 + begin[0];\n            y = rcPos.row * cellHeight + cellHeight / 2 + begin[1];\n        }\n        else {\n            // otherwise set automatically\n            while (self.used(self.row, self.col)) {\n                self.moveToNextCell();\n            }\n            x = self.col * cellWidth + cellWidth / 2 + begin[0];\n            y = self.row * cellHeight + cellHeight / 2 + begin[1];\n            self.use(self.row, self.col);\n            self.moveToNextCell();\n        }\n        node.x = x;\n        node.y = y;\n    };\n    GridLayout.prototype.getType = function () {\n        return \"grid\";\n    };\n    return GridLayout;\n}(base_1.Base));\nexports.GridLayout = GridLayout;\n//# sourceMappingURL=grid.js.map","import { GridLayout } from '@antv/layout/lib/layout/grid';\n\nexport default GridLayout;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    Base.prototype.onTick = function () { };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}