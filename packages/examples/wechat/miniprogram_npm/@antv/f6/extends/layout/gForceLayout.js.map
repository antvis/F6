{"version":3,"sources":["webpack://f6/webpack/universalModuleDefinition","webpack://f6/webpack/bootstrap","webpack://f6//Users/bing/git/antv/layout/lib/util/string.js","webpack://f6//Users/bing/git/antv/layout/lib/util/array.js","webpack://f6//Users/bing/git/antv/layout/lib/util/number.js","webpack://f6//Users/bing/git/antv/layout/lib/util/math.js","webpack://f6//Users/bing/git/antv/layout/lib/util/object.js","webpack://f6//Users/bing/git/antv/layout/lib/util/function.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/gForce.js","webpack://f6/./src/extends/layout/gForceLayout/index.ts","webpack://f6//Users/bing/git/antv/layout/lib/layout/base.js","webpack://f6//Users/bing/git/antv/layout/lib/util/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","camelize","isString","val","fn","cache","camelizeRE","str","replace","_","toUpperCase","isArray","Array","toNumber","isNaN","isNumber","num","Number","parseFloat","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","nodeIdxMap","edges","degrees","forEach","e","source","target","adjMatrix","dist","size","length","j","Infinity","k","data","directed","nodes","matrix","nodeMap","Error","node","id","push","sIndex","tIndex","ratio","result","row","newRow","v","traverseUp","children","__assign","assign","arguments","apply","clone","isObject","Date","getTime","cp_1","map","cp_2","keys","isFunction","extendStatics","__extends","b","setPrototypeOf","__proto__","TypeError","String","__","constructor","GForceLayout","base_1","util_1","proccessToFunc","defaultV","_super","options","_this","maxIteration","edgeStrength","nodeStrength","coulombDisScale","damping","maxSpeed","minMovement","interval","factor","linkDistance","gravity","preventOverlap","tick","width","height","updateCfg","getDefaultCfg","enableTick","execute","self","undefined","timeInterval","window","clearInterval","innerWidth","innerHeight","center","x","y","onLayoutEnd","Math","random","nodeSizeFunc","nodeSize","nodeSpacingFunc_1","nodeSpacing_1","nodeSpacing","getMass","run","iter","setInterval","accArray","velArray","calRepulsive","calAttractive","calGravity","stepInterval","max","updateVelocity","previousPos","updatePosition","movement","vx","vy","sqrt","ni","massi","nj","vecX","vecY","vecLength","nVecLength","direX","direY","param","massj","paramOverlap","edge","sourceNode","targetNode","sourceIdx","targetIdx","massSource","massTarget","defaultGravity","nodeLength","getCenter","customCenterOpt","vLength","param2","fx","fy","distX","distY","stop","destroy","destroyed","getType","Base","combos","positions","layout","init","reloadData","executeWithWorker","cfg","onTick","__createBinding","k2","__exportStar"],"mappings":"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","file":"extends/layout/gForceLayout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6\"] = factory();\n\telse\n\t\troot[\"f6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 441);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","\"use strict\";\n/**\n * @fileOverview fruchterman layout\n * @author shiwu.wyy@antfin.com\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GForceLayout = void 0;\nvar base_1 = require(\"./base\");\nvar util_1 = require(\"../util\");\nvar proccessToFunc = function (value, defaultV) {\n    var func;\n    if (!value) {\n        func = function (d) {\n            return defaultV || 1;\n        };\n    }\n    else if (util_1.isNumber(value)) {\n        func = function (d) {\n            return value;\n        };\n    }\n    else {\n        func = value;\n    }\n    return func;\n};\n/**\n * graphin 中的 force 布局\n */\nvar GForceLayout = /** @class */ (function (_super) {\n    __extends(GForceLayout, _super);\n    function GForceLayout(options) {\n        var _this = _super.call(this) || this;\n        /** 停止迭代的最大迭代数 */\n        _this.maxIteration = 1000;\n        /** 弹簧引力系数 */\n        _this.edgeStrength = 200;\n        /** 斥力系数 */\n        _this.nodeStrength = 1000;\n        /** 库伦系数 */\n        _this.coulombDisScale = 0.005;\n        /** 阻尼系数 */\n        _this.damping = 0.9;\n        /** 最大速度 */\n        _this.maxSpeed = 1000;\n        /** 一次迭代的平均移动距离小于该值时停止迭代 */\n        _this.minMovement = 0.5;\n        /** 迭代中衰减 */\n        _this.interval = 0.02;\n        /** 斥力的一个系数 */\n        _this.factor = 1;\n        /** 理想边长 */\n        _this.linkDistance = 1;\n        /** 重力大小 */\n        _this.gravity = 10;\n        /** 是否防止重叠 */\n        _this.preventOverlap = true;\n        /** 每次迭代结束的回调函数 */\n        _this.tick = function () { };\n        _this.nodes = [];\n        _this.edges = [];\n        _this.width = 300;\n        _this.height = 300;\n        _this.nodeMap = {};\n        _this.nodeIdxMap = {};\n        _this.updateCfg(options);\n        return _this;\n    }\n    GForceLayout.prototype.getDefaultCfg = function () {\n        return {\n            maxIteration: 500,\n            gravity: 10,\n            enableTick: true\n        };\n    };\n    /**\n     * 执行布局\n     */\n    GForceLayout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes;\n        if (self.timeInterval !== undefined && typeof window !== \"undefined\") {\n            window.clearInterval(self.timeInterval);\n        }\n        if (!nodes || nodes.length === 0) {\n            if (self.onLayoutEnd)\n                self.onLayoutEnd();\n            return;\n        }\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        if (!self.center) {\n            self.center = [self.width / 2, self.height / 2];\n        }\n        var center = self.center;\n        if (nodes.length === 1) {\n            nodes[0].x = center[0];\n            nodes[0].y = center[1];\n            if (self.onLayoutEnd)\n                self.onLayoutEnd();\n            return;\n        }\n        var nodeMap = {};\n        var nodeIdxMap = {};\n        nodes.forEach(function (node, i) {\n            if (!util_1.isNumber(node.x))\n                node.x = Math.random() * self.width;\n            if (!util_1.isNumber(node.y))\n                node.y = Math.random() * self.height;\n            nodeMap[node.id] = node;\n            nodeIdxMap[node.id] = i;\n        });\n        self.nodeMap = nodeMap;\n        self.nodeIdxMap = nodeIdxMap;\n        self.linkDistance = proccessToFunc(self.linkDistance, 1);\n        self.nodeStrength = proccessToFunc(self.nodeStrength, 1);\n        self.edgeStrength = proccessToFunc(self.edgeStrength, 1);\n        // node size function\n        var nodeSize = self.nodeSize;\n        var nodeSizeFunc;\n        if (self.preventOverlap) {\n            var nodeSpacing_1 = self.nodeSpacing;\n            var nodeSpacingFunc_1;\n            if (util_1.isNumber(nodeSpacing_1)) {\n                nodeSpacingFunc_1 = function () { return nodeSpacing_1; };\n            }\n            else if (util_1.isFunction(nodeSpacing_1)) {\n                nodeSpacingFunc_1 = nodeSpacing_1;\n            }\n            else {\n                nodeSpacingFunc_1 = function () { return 0; };\n            }\n            if (!nodeSize) {\n                nodeSizeFunc = function (d) {\n                    if (d.size) {\n                        if (util_1.isArray(d.size)) {\n                            var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n                            return res + nodeSpacingFunc_1(d);\n                        }\n                        return d.size + nodeSpacingFunc_1(d);\n                    }\n                    return 10 + nodeSpacingFunc_1(d);\n                };\n            }\n            else if (util_1.isArray(nodeSize)) {\n                nodeSizeFunc = function (d) {\n                    var res = nodeSize[0] > nodeSize[1] ? nodeSize[0] : nodeSize[1];\n                    return res + nodeSpacingFunc_1(d);\n                };\n            }\n            else {\n                nodeSizeFunc = function (d) { return nodeSize + nodeSpacingFunc_1(d); };\n            }\n        }\n        self.nodeSize = nodeSizeFunc;\n        var edges = self.edges;\n        self.degrees = util_1.getDegree(nodes.length, self.nodeIdxMap, edges);\n        if (!self.getMass) {\n            self.getMass = function (d) {\n                var mass = self.degrees[self.nodeIdxMap[d.id]] || 1;\n                return mass;\n            };\n        }\n        // layout\n        self.run();\n    };\n    GForceLayout.prototype.run = function () {\n        var self = this;\n        var nodes = self.nodes;\n        var edges = self.edges;\n        var maxIteration = self.maxIteration;\n        if (typeof window === \"undefined\")\n            return;\n        var iter = 0;\n        // interval for render the result after each iteration\n        this.timeInterval = window.setInterval(function () {\n            var accArray = [];\n            var velArray = [];\n            if (!nodes)\n                return;\n            nodes.forEach(function (_, i) {\n                accArray[2 * i] = 0;\n                accArray[2 * i + 1] = 0;\n                velArray[2 * i] = 0;\n                velArray[2 * i + 1] = 0;\n            });\n            self.calRepulsive(accArray, nodes);\n            if (edges)\n                self.calAttractive(accArray, edges);\n            self.calGravity(accArray, nodes);\n            var stepInterval = Math.max(0.02, self.interval - iter * 0.002);\n            self.updateVelocity(accArray, velArray, stepInterval, nodes);\n            var previousPos = [];\n            nodes.forEach(function (node) {\n                previousPos.push({\n                    x: node.x,\n                    y: node.y\n                });\n            });\n            self.updatePosition(velArray, stepInterval, nodes);\n            if (self.tick)\n                self.tick();\n            // whether to stop the iteration\n            var movement = 0;\n            nodes.forEach(function (node, j) {\n                var vx = node.x - previousPos[j].x;\n                var vy = node.y - previousPos[j].y;\n                movement += Math.sqrt(vx * vx + vy * vy);\n            });\n            movement /= nodes.length;\n            if (movement < self.minMovement) {\n                window.clearInterval(self.timeInterval);\n                if (self.onLayoutEnd)\n                    self.onLayoutEnd();\n            }\n            iter++;\n            if (iter >= maxIteration) {\n                if (self.onLayoutEnd)\n                    self.onLayoutEnd();\n                window.clearInterval(self.timeInterval);\n            }\n        }, 0);\n    };\n    GForceLayout.prototype.calRepulsive = function (accArray, nodes) {\n        var self = this;\n        // const nodes = self.nodes;\n        var getMass = self.getMass;\n        var nodeStrength = self.nodeStrength;\n        var factor = self.factor;\n        var coulombDisScale = self.coulombDisScale;\n        var preventOverlap = self.preventOverlap;\n        var nodeSize = self.nodeSize;\n        nodes.forEach(function (ni, i) {\n            var massi = getMass ? getMass(ni) : 1;\n            nodes.forEach(function (nj, j) {\n                if (i >= j)\n                    return;\n                // if (!accArray[j]) accArray[j] = 0;\n                var vecX = ni.x - nj.x;\n                var vecY = ni.y - nj.y;\n                var vecLength = Math.sqrt(vecX * vecX + vecY * vecY) + 0.01;\n                var nVecLength = (vecLength + 0.1) * coulombDisScale;\n                var direX = vecX / vecLength;\n                var direY = vecY / vecLength;\n                var param = (((nodeStrength(ni) + nodeStrength(nj)) / 2) * factor) /\n                    (nVecLength * nVecLength);\n                var massj = getMass ? getMass(nj) : 1;\n                accArray[2 * i] += (direX * param);\n                accArray[2 * i + 1] += (direY * param);\n                accArray[2 * j] -= (direX * param);\n                accArray[2 * j + 1] -= (direY * param);\n                if (preventOverlap && vecLength < (nodeSize(ni) + nodeSize(nj)) / 2) {\n                    var paramOverlap = (nodeStrength(ni) + nodeStrength(nj)) / 2 / (vecLength * vecLength);\n                    accArray[2 * i] += (direX * paramOverlap) / massi;\n                    accArray[2 * i + 1] += (direY * paramOverlap) / massi;\n                    accArray[2 * j] -= (direX * paramOverlap) / massj;\n                    accArray[2 * j + 1] -= (direY * paramOverlap) / massj;\n                }\n            });\n        });\n    };\n    GForceLayout.prototype.calAttractive = function (accArray, edges) {\n        var self = this;\n        // const edges = self.edges;\n        var nodeMap = self.nodeMap;\n        var nodeIdxMap = self.nodeIdxMap;\n        var linkDistance = self.linkDistance;\n        var edgeStrength = self.edgeStrength;\n        var getMass = self.getMass;\n        edges.forEach(function (edge, i) {\n            var sourceNode = nodeMap[edge.source];\n            var targetNode = nodeMap[edge.target];\n            var vecX = targetNode.x - sourceNode.x;\n            var vecY = targetNode.y - sourceNode.y;\n            var vecLength = Math.sqrt(vecX * vecX + vecY * vecY) + 0.01;\n            var direX = vecX / vecLength;\n            var direY = vecY / vecLength;\n            var length = linkDistance(edge) || 1;\n            var diff = length - vecLength;\n            var param = diff * edgeStrength(edge);\n            var sourceIdx = nodeIdxMap[edge.source];\n            var targetIdx = nodeIdxMap[edge.target];\n            var massSource = getMass ? getMass(sourceNode) : 1;\n            var massTarget = getMass ? getMass(targetNode) : 1;\n            accArray[2 * sourceIdx] -= (direX * param) / massSource;\n            accArray[2 * sourceIdx + 1] -= (direY * param) / massSource;\n            accArray[2 * targetIdx] += (direX * param) / massTarget;\n            accArray[2 * targetIdx + 1] += (direY * param) / massTarget;\n        });\n    };\n    GForceLayout.prototype.calGravity = function (accArray, nodes) {\n        var self = this;\n        // const nodes = self.nodes;\n        var center = self.center;\n        var defaultGravity = self.gravity;\n        var degrees = self.degrees;\n        var nodeLength = nodes.length;\n        for (var i = 0; i < nodeLength; i++) {\n            var node = nodes[i];\n            var vecX = node.x - center[0];\n            var vecY = node.y - center[1];\n            var gravity = defaultGravity;\n            if (self.getCenter) {\n                var customCenterOpt = self.getCenter(node, degrees[i]);\n                if (customCenterOpt &&\n                    util_1.isNumber(customCenterOpt[0]) &&\n                    util_1.isNumber(customCenterOpt[1]) &&\n                    util_1.isNumber(customCenterOpt[2])) {\n                    vecX = node.x - customCenterOpt[0];\n                    vecY = node.y - customCenterOpt[1];\n                    gravity = customCenterOpt[2];\n                }\n            }\n            if (!gravity)\n                continue;\n            accArray[2 * i] -= gravity * vecX;\n            accArray[2 * i + 1] -= gravity * vecY;\n        }\n    };\n    GForceLayout.prototype.updateVelocity = function (accArray, velArray, stepInterval, nodes) {\n        var self = this;\n        var param = stepInterval * self.damping;\n        // const nodes = self.nodes;\n        nodes.forEach(function (node, i) {\n            var vx = accArray[2 * i] * param || 0.01;\n            var vy = accArray[2 * i + 1] * param || 0.01;\n            var vLength = Math.sqrt(vx * vx + vy * vy);\n            if (vLength > self.maxSpeed) {\n                var param2 = self.maxSpeed / vLength;\n                vx = param2 * vx;\n                vy = param2 * vy;\n            }\n            velArray[2 * i] = vx;\n            velArray[2 * i + 1] = vy;\n        });\n    };\n    GForceLayout.prototype.updatePosition = function (velArray, stepInterval, nodes) {\n        nodes.forEach(function (node, i) {\n            if (util_1.isNumber(node.fx) && util_1.isNumber(node.fy)) {\n                node.x = node.fx;\n                node.y = node.fy;\n                return;\n            }\n            var distX = velArray[2 * i] * stepInterval;\n            var distY = velArray[2 * i + 1] * stepInterval;\n            node.x += distX;\n            node.y += distY;\n        });\n    };\n    GForceLayout.prototype.stop = function () {\n        if (this.timeInterval && typeof window !== \"undefined\") {\n            window.clearInterval(this.timeInterval);\n        }\n    };\n    GForceLayout.prototype.destroy = function () {\n        var self = this;\n        self.stop();\n        self.tick = null;\n        self.nodes = null;\n        self.edges = null;\n        self.destroyed = true;\n    };\n    GForceLayout.prototype.getType = function () {\n        return \"gForce\";\n    };\n    return GForceLayout;\n}(base_1.Base));\nexports.GForceLayout = GForceLayout;\n//# sourceMappingURL=gForce.js.map","import { GForceLayout } from '@antv/layout/lib/layout/gForce';\n\nexport default GForceLayout;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    Base.prototype.onTick = function () { };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}