{"version":3,"sources":["webpack://f6/webpack/universalModuleDefinition","webpack://f6/webpack/bootstrap","webpack://f6//Users/bing/git/antv/layout/lib/util/string.js","webpack://f6//Users/bing/git/antv/layout/lib/util/array.js","webpack://f6//Users/bing/git/antv/layout/lib/util/number.js","webpack://f6//Users/bing/git/antv/layout/lib/util/math.js","webpack://f6//Users/bing/git/antv/layout/lib/util/object.js","webpack://f6//Users/bing/git/antv/layout/lib/util/function.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/center.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/add.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/cover.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/quad.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/x.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/y.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/quadtree.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/data.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/extent.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/find.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/remove.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/root.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/size.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/visit.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/visitAfter.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/constant.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/jiggle.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/collide.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/link.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-dispatch@2.0.0@d3-dispatch/src/dispatch.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-timer@2.0.0@d3-timer/src/timer.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/lcg.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/simulation.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/manyBody.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/radial.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/x.js","webpack://f6//Users/bing/git/antv/layout/node_modules/_d3-force@2.1.1@d3-force/src/y.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/force/index.js","webpack://f6/./src/extends/layout/forceLayout/index.ts","webpack://f6//Users/bing/git/antv/layout/lib/layout/force/force.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/force/force-in-a-box.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/constants.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/base.js","webpack://f6//Users/bing/git/antv/layout/lib/util/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","camelize","isString","val","fn","cache","camelizeRE","str","replace","_","toUpperCase","isArray","Array","toNumber","isNaN","isNumber","num","Number","parseFloat","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","nodeIdxMap","edges","degrees","forEach","e","source","target","adjMatrix","dist","size","length","j","Infinity","k","data","directed","nodes","matrix","nodeMap","Error","node","id","push","sIndex","tIndex","ratio","result","row","newRow","v","traverseUp","children","__assign","assign","arguments","apply","clone","isObject","Date","getTime","cp_1","map","cp_2","keys","isFunction","x","y","strength","force","sx","sy","initialize","add","tree","parent","xm","ym","xp","yp","right","bottom","_root","leaf","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","next","defaultX","defaultY","quadtree","Quadtree","NaN","addAll","undefined","leaf_copy","copy","treeProto","child","pop","cover","xz","yz","Math","floor","z","visit","extent","find","radius","x2","y2","q","x3","y3","quads","Quad","dx","dy","d2","sqrt","remove","retainer","previous","removeAll","callback","visitAfter","random","vx","vy","radii","iterations","xi","yi","ri","ri2","prepare","index","quad","rj","jiggle","constant","_nodes","_random","nodeById","nodeId","links","strengths","distances","count","bias","link","min","distance","alpha","b","Map","initializeStrength","initializeDistance","noop","dispatch","test","Dispatch","parseTypenames","typenames","types","trim","split","indexOf","slice","type","set","concat","constructor","on","typename","T","that","args","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","window","requestAnimationFrame","f","setTimeout","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","stop","initialAngle","PI","simulation","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","stepper","step","event","tick","fx","fy","initializeNodes","angle","cos","sin","initializeForce","randomSource","delete","closest","distanceMin2","distanceMax2","theta2","accumulate","weight","abs","w","distanceMin","distanceMax","theta","radiuses","__createBinding","k2","__exportStar","extendStatics","__extends","setPrototypeOf","__proto__","String","__","__setModuleDefault","__importStar","mod","__importDefault","ForceLayout","d3Force","force_in_a_box_1","util_1","base_1","constants_1","_super","options","_this","center","nodeStrength","edgeStrength","preventOverlap","clusterNodeStrength","clusterEdgeStrength","clusterEdgeDistance","clusterNodeSize","clusterFociStrength","linkDistance","collideStrength","workerEnabled","onLayoutEnd","ticking","updateCfg","getDefaultCfg","nodeSize","nodeSpacing","forceSimulation","clustering","init","edge","res","expectKeys","execute","reloadData","self","clusterForce","edgeForce","forceLink","overlapProcess","nodeForce","forceManyBody","default","centerX","centerY","template","forceLinkDistance","forceLinkStrength","forceCharge","forceNodeSize","forceCenter","isInWorker","console","warn","totalTicks","totalTicksFloat","log","ceil","getSimulationTicks","currentTick","postMessage","LAYOUT_MESSAGE","TICK","nodeSizeFunc","nodeSpacingFunc","radius_1","radius_2","forceCollide","cfg","destroy","destroyed","Base","WorkerGlobalScope","templateForce","groupBy","cluster","offset","nodesMap","foci","none","templateNodes","enableGrouping","getFocisFromTemplate","net","gnodes","glinks","dNodes","clustersLinks","clustersCounts","sumforceNodeSize","tmpCount","computeClustersNodeCounts","dClusterLinks","clusterLinks","sourceID","targetID","getLinkKey","entries","_a","computeClustersLinkCounts","forceX","forceY","initializeWithForce","genNodesMap","getFocis","RUN","END","ERROR","GPURUN","GPUEND","combos","positions","layout","executeWithWorker","getType","onTick"],"mappings":"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","file":"extends/layout/forceLayout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6\"] = factory();\n\telse\n\t\troot[\"f6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 436);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./force\"), exports);\n//# sourceMappingURL=index.js.map","import { ForceLayout } from '@antv/layout/lib/layout/force';\n\nexport default ForceLayout;\n","\"use strict\";\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ForceLayout = void 0;\nvar d3Force = __importStar(require(\"d3-force\"));\nvar force_in_a_box_1 = __importDefault(require(\"./force-in-a-box\"));\nvar util_1 = require(\"../../util\");\nvar base_1 = require(\"../base\");\nvar constants_1 = require(\"../constants\");\n/**\n * 经典力导布局 force-directed\n */\nvar ForceLayout = /** @class */ (function (_super) {\n    __extends(ForceLayout, _super);\n    function ForceLayout(options) {\n        var _this = _super.call(this) || this;\n        /** 向心力作用点 */\n        _this.center = [0, 0];\n        /** 节点作用力 */\n        _this.nodeStrength = null;\n        /** 边的作用力, 默认为根据节点的入度出度自适应 */\n        _this.edgeStrength = null;\n        /** 是否防止节点相互覆盖 */\n        _this.preventOverlap = false;\n        /** 聚类节点作用力 */\n        _this.clusterNodeStrength = null;\n        /** 聚类边作用力 */\n        _this.clusterEdgeStrength = null;\n        /** 聚类边长度 */\n        _this.clusterEdgeDistance = null;\n        /** 聚类节点大小 / 直径，直径越大，越分散 */\n        _this.clusterNodeSize = null;\n        /** 用于 foci 的力 */\n        _this.clusterFociStrength = null;\n        /** 默认边长度 */\n        _this.linkDistance = 50;\n        /** 迭代阈值的衰减率 [0, 1]，0.028 对应最大迭代数为 300 */\n        _this.alphaDecay = 0.028;\n        /** 停止迭代的阈值 */\n        _this.alphaMin = 0.001;\n        /** 当前阈值 */\n        _this.alpha = 0.3;\n        /** 防止重叠的力强度 */\n        _this.collideStrength = 1;\n        /** 是否启用web worker。前提是在web worker里执行布局，否则无效\t*/\n        _this.workerEnabled = false;\n        _this.tick = function () { };\n        /** 布局完成回调 */\n        _this.onLayoutEnd = function () { };\n        /** 是否正在布局 */\n        _this.ticking = undefined;\n        if (options) {\n            _this.updateCfg(options);\n        }\n        return _this;\n    }\n    ForceLayout.prototype.getDefaultCfg = function () {\n        return {\n            center: [0, 0],\n            nodeStrength: null,\n            edgeStrength: null,\n            preventOverlap: false,\n            nodeSize: undefined,\n            nodeSpacing: undefined,\n            linkDistance: 50,\n            forceSimulation: null,\n            alphaDecay: 0.028,\n            alphaMin: 0.001,\n            alpha: 0.3,\n            collideStrength: 1,\n            clustering: false,\n            clusterNodeStrength: -1,\n            clusterEdgeStrength: 0.1,\n            clusterEdgeDistance: 100,\n            clusterFociStrength: 0.8,\n            clusterNodeSize: 10,\n            tick: function () { },\n            onLayoutEnd: function () { },\n            // 是否启用web worker。前提是在web worker里执行布局，否则无效\n            workerEnabled: false\n        };\n    };\n    /**\n     * 初始化\n     * @param {object} data 数据\n     */\n    ForceLayout.prototype.init = function (data) {\n        var self = this;\n        self.nodes = data.nodes || [];\n        var edges = data.edges || [];\n        self.edges = edges.map(function (edge) {\n            var res = {};\n            var expectKeys = [\"targetNode\", \"sourceNode\", \"startPoint\", \"endPoint\"];\n            Object.keys(edge).forEach(function (key) {\n                if (!(expectKeys.indexOf(key) > -1)) {\n                    res[key] = edge[key];\n                }\n            });\n            return res;\n        });\n        self.ticking = false;\n    };\n    /**\n     * 执行布局\n     */\n    ForceLayout.prototype.execute = function (reloadData) {\n        var self = this;\n        var nodes = self.nodes;\n        var edges = self.edges;\n        // 如果正在布局，忽略布局请求\n        if (self.ticking) {\n            return;\n        }\n        var simulation = self.forceSimulation;\n        var alphaMin = self.alphaMin;\n        var alphaDecay = self.alphaDecay;\n        var alpha = self.alpha;\n        if (!simulation) {\n            try {\n                // 定义节点的力\n                var nodeForce = d3Force.forceManyBody();\n                if (self.nodeStrength) {\n                    nodeForce.strength(self.nodeStrength);\n                }\n                simulation = d3Force.forceSimulation().nodes(nodes);\n                if (self.clustering) {\n                    var clusterForce = force_in_a_box_1.default();\n                    clusterForce\n                        .centerX(self.center[0])\n                        .centerY(self.center[1])\n                        .template(\"force\")\n                        .strength(self.clusterFociStrength);\n                    if (edges) {\n                        clusterForce.links(edges);\n                    }\n                    if (nodes) {\n                        clusterForce.nodes(nodes);\n                    }\n                    clusterForce\n                        .forceLinkDistance(self.clusterEdgeDistance)\n                        .forceLinkStrength(self.clusterEdgeStrength)\n                        .forceCharge(self.clusterNodeStrength)\n                        .forceNodeSize(self.clusterNodeSize);\n                    self.clusterForce = clusterForce;\n                    simulation.force(\"group\", clusterForce);\n                }\n                simulation\n                    .force(\"center\", d3Force.forceCenter(self.center[0], self.center[1]))\n                    .force(\"charge\", nodeForce)\n                    .alpha(alpha)\n                    .alphaDecay(alphaDecay)\n                    .alphaMin(alphaMin);\n                if (self.preventOverlap) {\n                    self.overlapProcess(simulation);\n                }\n                // 如果有边，定义边的力\n                if (edges) {\n                    // d3 的 forceLayout 会重新生成边的数据模型，为了避免污染源数据\n                    var edgeForce = d3Force\n                        .forceLink()\n                        .id(function (d) { return d.id; })\n                        .links(edges);\n                    if (self.edgeStrength) {\n                        edgeForce.strength(self.edgeStrength);\n                    }\n                    if (self.linkDistance) {\n                        edgeForce.distance(self.linkDistance);\n                    }\n                    self.edgeForce = edgeForce;\n                    simulation.force(\"link\", edgeForce);\n                }\n                if (self.workerEnabled && !isInWorker()) {\n                    // 如果不是运行在web worker里，不用web worker布局\n                    self.workerEnabled = false;\n                    console.warn(\"workerEnabled option is only supported when running in web worker.\");\n                }\n                if (!self.workerEnabled) {\n                    simulation\n                        .on(\"tick\", function () {\n                        self.tick();\n                    })\n                        .on(\"end\", function () {\n                        self.ticking = false;\n                        if (self.onLayoutEnd)\n                            self.onLayoutEnd();\n                    });\n                    self.ticking = true;\n                }\n                else {\n                    // worker is enabled\n                    simulation.stop();\n                    var totalTicks = getSimulationTicks(simulation);\n                    for (var currentTick = 1; currentTick <= totalTicks; currentTick++) {\n                        simulation.tick();\n                        // currentTick starts from 1.\n                        postMessage({\n                            nodes: nodes,\n                            currentTick: currentTick,\n                            totalTicks: totalTicks,\n                            type: constants_1.LAYOUT_MESSAGE.TICK\n                        }, undefined);\n                    }\n                    self.ticking = false;\n                }\n                self.forceSimulation = simulation;\n                self.ticking = true;\n            }\n            catch (e) {\n                self.ticking = false;\n                console.warn(e);\n            }\n        }\n        else {\n            if (reloadData) {\n                if (self.clustering && self.clusterForce) {\n                    self.clusterForce.nodes(nodes);\n                    self.clusterForce.links(edges);\n                }\n                simulation.nodes(nodes);\n                if (edges && self.edgeForce)\n                    self.edgeForce.links(edges);\n                else if (edges && !self.edgeForce) {\n                    // d3 的 forceLayout 会重新生成边的数据模型，为了避免污染源数据\n                    var edgeForce = d3Force\n                        .forceLink()\n                        .id(function (d) { return d.id; })\n                        .links(edges);\n                    if (self.edgeStrength) {\n                        edgeForce.strength(self.edgeStrength);\n                    }\n                    if (self.linkDistance) {\n                        edgeForce.distance(self.linkDistance);\n                    }\n                    self.edgeForce = edgeForce;\n                    simulation.force(\"link\", edgeForce);\n                }\n            }\n            if (self.preventOverlap) {\n                self.overlapProcess(simulation);\n            }\n            simulation.alpha(alpha).restart();\n            this.ticking = true;\n        }\n    };\n    /**\n     * 防止重叠\n     * @param {object} simulation 力模拟模型\n     */\n    ForceLayout.prototype.overlapProcess = function (simulation) {\n        var self = this;\n        var nodeSize = self.nodeSize;\n        var nodeSpacing = self.nodeSpacing;\n        var nodeSizeFunc;\n        var nodeSpacingFunc;\n        var collideStrength = self.collideStrength;\n        if (util_1.isNumber(nodeSpacing)) {\n            nodeSpacingFunc = function () { return nodeSpacing; };\n        }\n        else if (util_1.isFunction(nodeSpacing)) {\n            nodeSpacingFunc = nodeSpacing;\n        }\n        else {\n            nodeSpacingFunc = function () { return 0; };\n        }\n        if (!nodeSize) {\n            nodeSizeFunc = function (d) {\n                if (d.size) {\n                    if (util_1.isArray(d.size)) {\n                        var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n                        return res / 2 + nodeSpacingFunc(d);\n                    }\n                    return d.size / 2 + nodeSpacingFunc(d);\n                }\n                return 10 + nodeSpacingFunc(d);\n            };\n        }\n        else if (util_1.isFunction(nodeSize)) {\n            nodeSizeFunc = function (d) {\n                var size = nodeSize(d);\n                return size + nodeSpacingFunc(d);\n            };\n        }\n        else if (util_1.isArray(nodeSize)) {\n            var larger = nodeSize[0] > nodeSize[1] ? nodeSize[0] : nodeSize[1];\n            var radius_1 = larger / 2;\n            nodeSizeFunc = function (d) { return radius_1 + nodeSpacingFunc(d); };\n        }\n        else if (util_1.isNumber(nodeSize)) {\n            var radius_2 = nodeSize / 2;\n            nodeSizeFunc = function (d) { return radius_2 + nodeSpacingFunc(d); };\n        }\n        else {\n            nodeSizeFunc = function () { return 10; };\n        }\n        // forceCollide's parameter is a radius\n        simulation.force(\"collisionForce\", d3Force.forceCollide(nodeSizeFunc).strength(collideStrength));\n    };\n    /**\n     * 更新布局配置，但不执行布局\n     * @param {object} cfg 需要更新的配置项\n     */\n    ForceLayout.prototype.updateCfg = function (cfg) {\n        var self = this;\n        if (self.ticking) {\n            self.forceSimulation.stop();\n            self.ticking = false;\n        }\n        self.forceSimulation = null;\n        Object.assign(self, cfg);\n    };\n    ForceLayout.prototype.destroy = function () {\n        var self = this;\n        if (self.ticking) {\n            self.forceSimulation.stop();\n            self.ticking = false;\n        }\n        self.nodes = null;\n        self.edges = null;\n        self.destroyed = true;\n    };\n    return ForceLayout;\n}(base_1.Base));\nexports.ForceLayout = ForceLayout;\n// Return total ticks of d3-force simulation\nfunction getSimulationTicks(simulation) {\n    var alphaMin = simulation.alphaMin();\n    var alphaTarget = simulation.alphaTarget();\n    var alpha = simulation.alpha();\n    var totalTicksFloat = Math.log((alphaMin - alphaTarget) / (alpha - alphaTarget)) /\n        Math.log(1 - simulation.alphaDecay());\n    var totalTicks = Math.ceil(totalTicksFloat);\n    return totalTicks;\n}\n// 判断是否运行在web worker里\nfunction isInWorker() {\n    // eslint-disable-next-line no-undef\n    return (typeof WorkerGlobalScope !== \"undefined\" &&\n        self instanceof WorkerGlobalScope);\n}\n//# sourceMappingURL=force.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3Force = __importStar(require(\"d3-force\"));\n// https://github.com/john-guerra/forceInABox/blob/master/src/forceInABox.js\nfunction forceInABox() {\n    function constant(_) {\n        return function () { return _; };\n    }\n    var groupBy = function (d) {\n        return d.cluster;\n    };\n    var forceNodeSize = constant(1);\n    var forceCharge = constant(-1);\n    var forceLinkDistance = constant(100);\n    var forceLinkStrength = constant(0.1);\n    var offset = [0, 0];\n    var nodes = [];\n    var nodesMap = {};\n    var links = [];\n    var centerX = 100;\n    var centerY = 100;\n    var foci = {\n        none: {\n            x: 0,\n            y: 0,\n        },\n    };\n    var templateNodes = [];\n    var templateForce;\n    var template = 'force';\n    var enableGrouping = true;\n    var strength = 0.1;\n    function force(alpha) {\n        if (!enableGrouping) {\n            return force;\n        }\n        templateForce.tick();\n        getFocisFromTemplate();\n        for (var i = 0, n = nodes.length, node = void 0, k = alpha * strength; i < n; ++i) {\n            node = nodes[i];\n            node.vx += (foci[groupBy(node)].x - node.x) * k;\n            node.vy += (foci[groupBy(node)].y - node.y) * k;\n        }\n    }\n    function initialize() {\n        if (!nodes)\n            return;\n        initializeWithForce();\n    }\n    function initializeWithForce() {\n        if (!nodes || !nodes.length) {\n            return;\n        }\n        if (groupBy(nodes[0]) === undefined) {\n            throw Error(\"Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()\");\n        }\n        // checkLinksAsObjects();\n        var net = getGroupsGraph();\n        templateForce = d3Force\n            .forceSimulation(net.nodes)\n            .force('x', d3Force.forceX(centerX).strength(0.1))\n            .force('y', d3Force.forceY(centerY).strength(0.1))\n            .force('collide', d3Force.forceCollide(function (d) { return d.r; }).iterations(4))\n            .force('charge', d3Force.forceManyBody().strength(forceCharge))\n            .force('links', d3Force\n            .forceLink(net.nodes.length ? net.links : [])\n            .distance(forceLinkDistance)\n            .strength(forceLinkStrength));\n        templateNodes = templateForce.nodes();\n        getFocisFromTemplate();\n    }\n    function getGroupsGraph() {\n        var gnodes = [];\n        var glinks = [];\n        var dNodes = {};\n        var clustersList = [];\n        var clustersCounts = {};\n        var clustersLinks = [];\n        clustersCounts = computeClustersNodeCounts(nodes);\n        clustersLinks = computeClustersLinkCounts(links);\n        clustersList = Object.keys(clustersCounts);\n        clustersList.forEach(function (key, index) {\n            var val = clustersCounts[key];\n            // Uses approx meta-node size\n            gnodes.push({\n                id: key,\n                size: val.count,\n                r: Math.sqrt(val.sumforceNodeSize / Math.PI),\n            });\n            dNodes[key] = index;\n        });\n        clustersLinks.forEach(function (l) {\n            var source = dNodes[l.source];\n            var target = dNodes[l.target];\n            if (source !== undefined && target !== undefined) {\n                glinks.push({\n                    source: source,\n                    target: target,\n                    count: l.count,\n                });\n            }\n        });\n        return {\n            nodes: gnodes,\n            links: glinks,\n        };\n    }\n    function computeClustersNodeCounts(nodes) {\n        var clustersCounts = {};\n        nodes.forEach(function (d) {\n            var key = groupBy(d);\n            if (!clustersCounts[key]) {\n                clustersCounts[key] = {\n                    count: 0,\n                    sumforceNodeSize: 0,\n                };\n            }\n        });\n        nodes.forEach(function (d) {\n            var key = groupBy(d);\n            var nodeSize = forceNodeSize(d);\n            var tmpCount = clustersCounts[key];\n            tmpCount.count = tmpCount.count + 1;\n            tmpCount.sumforceNodeSize =\n                tmpCount.sumforceNodeSize + Math.PI * (nodeSize * nodeSize) * 1.3;\n            clustersCounts[key] = tmpCount;\n        });\n        return clustersCounts;\n    }\n    function computeClustersLinkCounts(links) {\n        var dClusterLinks = {};\n        var clusterLinks = [];\n        links.forEach(function (l) {\n            var key = getLinkKey(l);\n            var count = 0;\n            if (dClusterLinks[key] !== undefined) {\n                count = dClusterLinks[key];\n            }\n            count += 1;\n            dClusterLinks[key] = count;\n        });\n        var entries = Object.entries(dClusterLinks);\n        entries.forEach(function (_a) {\n            var key = _a[0], count = _a[1];\n            var source = key.split('~')[0];\n            var target = key.split('~')[1];\n            if (source !== undefined && target !== undefined) {\n                clusterLinks.push({\n                    source: source,\n                    target: target,\n                    count: count,\n                });\n            }\n        });\n        return clusterLinks;\n    }\n    function getFocisFromTemplate() {\n        foci = {\n            none: {\n                x: 0,\n                y: 0,\n            },\n        };\n        templateNodes.forEach(function (d) {\n            foci[d.id] = {\n                x: d.x - offset[0],\n                y: d.y - offset[1],\n            };\n        });\n        return foci;\n    }\n    function getLinkKey(l) {\n        var sourceID = groupBy(nodesMap[l.source]);\n        var targetID = groupBy(nodesMap[l.target]);\n        return sourceID <= targetID\n            ? sourceID + \"~\" + targetID\n            : targetID + \"~\" + sourceID;\n    }\n    function genNodesMap(nodes) {\n        nodesMap = {};\n        nodes.forEach(function (node) {\n            nodesMap[node.id] = node;\n        });\n    }\n    function setTemplate(x) {\n        if (!arguments.length)\n            return template;\n        template = x;\n        initialize();\n        return force;\n    }\n    function setGroupBy(x) {\n        if (!arguments.length)\n            return groupBy;\n        if (typeof x === 'string') {\n            groupBy = function (d) {\n                return d[x];\n            };\n            return force;\n        }\n        groupBy = x;\n        return force;\n    }\n    function setEnableGrouping(x) {\n        if (!arguments.length)\n            return enableGrouping;\n        enableGrouping = x;\n        return force;\n    }\n    function setStrength(x) {\n        if (!arguments.length)\n            return strength;\n        strength = x;\n        return force;\n    }\n    function setCenterX(_) {\n        if (arguments.length) {\n            centerX = _;\n            return force;\n        }\n        return centerX;\n    }\n    function setCenterY(_) {\n        if (arguments.length) {\n            centerY = _;\n            return force;\n        }\n        return centerY;\n    }\n    function setNodes(_) {\n        if (arguments.length) {\n            genNodesMap(_ || []);\n            nodes = _ || [];\n            return force;\n        }\n        return nodes;\n    }\n    function setLinks(_) {\n        if (arguments.length) {\n            links = _ || [];\n            initialize();\n            return force;\n        }\n        return links;\n    }\n    function setForceNodeSize(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceNodeSize = _;\n            }\n            else {\n                forceNodeSize = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceNodeSize;\n    }\n    function setForceCharge(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceCharge = _;\n            }\n            else {\n                forceCharge = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceCharge;\n    }\n    function setForceLinkDistance(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceLinkDistance = _;\n            }\n            else {\n                forceLinkDistance = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceLinkDistance;\n    }\n    function setForceLinkStrength(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceLinkStrength = _;\n            }\n            else {\n                forceLinkStrength = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceLinkStrength;\n    }\n    function setOffset(_) {\n        if (arguments.length) {\n            offset = _;\n            return force;\n        }\n        return offset;\n    }\n    force.initialize = function (_) {\n        nodes = _;\n        initialize();\n    };\n    force.template = setTemplate;\n    force.groupBy = setGroupBy;\n    force.enableGrouping = setEnableGrouping;\n    force.strength = setStrength;\n    force.centerX = setCenterX;\n    force.centerY = setCenterY;\n    force.nodes = setNodes;\n    force.links = setLinks;\n    force.forceNodeSize = setForceNodeSize;\n    // Legacy support\n    force.nodeSize = force.forceNodeSize;\n    force.forceCharge = setForceCharge;\n    force.forceLinkDistance = setForceLinkDistance;\n    force.forceLinkStrength = setForceLinkStrength;\n    force.offset = setOffset;\n    force.getFocis = getFocisFromTemplate;\n    return force;\n}\nexports.default = forceInABox;\n//# sourceMappingURL=force-in-a-box.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAYOUT_MESSAGE = void 0;\n/** layout message type */\nexports.LAYOUT_MESSAGE = {\n    // run layout\n    RUN: \"LAYOUT_RUN\",\n    // layout ended with success\n    END: \"LAYOUT_END\",\n    // layout error\n    ERROR: \"LAYOUT_ERROR\",\n    // layout tick, used in force directed layout\n    TICK: \"LAYOUT_TICK\",\n    GPURUN: \"GPU_LAYOUT_RUN\",\n    GPUEND: \"GPU_LAYOUT_END\"\n};\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    Base.prototype.onTick = function () { };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}