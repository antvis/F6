{"version":3,"sources":["webpack://f6/webpack/universalModuleDefinition","webpack://f6/webpack/bootstrap","webpack://f6//Users/bing/git/antv/layout/lib/util/string.js","webpack://f6//Users/bing/git/antv/layout/lib/util/array.js","webpack://f6//Users/bing/git/antv/layout/lib/util/number.js","webpack://f6//Users/bing/git/antv/layout/lib/util/math.js","webpack://f6//Users/bing/git/antv/layout/lib/util/object.js","webpack://f6//Users/bing/git/antv/layout/lib/util/function.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/forceAtlas2/index.js","webpack://f6/./src/extends/layout/forceAtlas2Layout/index.ts","webpack://f6//Users/bing/git/antv/layout/lib/layout/forceAtlas2/body.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/forceAtlas2/quad.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/forceAtlas2/quadTree.js","webpack://f6//Users/bing/git/antv/layout/lib/layout/base.js","webpack://f6//Users/bing/git/antv/layout/lib/util/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","camelize","isString","val","fn","cache","camelizeRE","str","replace","_","toUpperCase","isArray","Array","toNumber","isNaN","isNumber","num","Number","parseFloat","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","nodeIdxMap","edges","degrees","forEach","e","source","target","adjMatrix","dist","size","length","j","Infinity","k","data","directed","nodes","matrix","nodeMap","Error","node","id","push","sIndex","tIndex","ratio","result","row","newRow","v","traverseUp","children","__assign","assign","arguments","apply","clone","isObject","Date","getTime","cp_1","map","cp_2","keys","isFunction","extendStatics","__extends","b","setPrototypeOf","__proto__","TypeError","String","__","constructor","__importDefault","mod","ForceAtlas2Layout","base_1","util_1","body_1","quad_1","quadTree_1","_super","options","_this","center","width","height","kr","kg","preventOverlap","dissuadeHubs","barnesHut","maxIteration","ks","ksmax","tao","onLayoutEnd","prune","updateCfg","getDefaultCfg","execute","window","innerWidth","innerHeight","sizes","nodeNum","nodeWidth","nodeHeight","getWidth","getHeight","maxSize","Math","max","updateNodesByForces","nonLoopEdges","filter","edge","esize","idMap","edgeEndsIdMap","Es","undefined","x","random","y","node1","node2","sIdx","tIdx","sourceIdx","targetIdx","iteration","iterate","sg","iter","forces","preForces","bodies","params","rx","ry","mass","g","degree","default","getAttrForces","getOptRepGraForces","getRepGraForces","res","updatePos","tick","prevoIter","sourceNode","targetNode","dir","eucliDis","hypot","Fa1","Fa2","log","krPrime","dir_1","eucliDis_1","Fr","Fg","minx","maxx","miny","maxy","setPos","quadParams","xmid","ymid","massCenter","quad","quadTree","in","insert","resetForce","updateForce","fx","fy","swgns","trans","swgG","traG","minus","minusNorm","add","addNorm","preSG","sn","sqrt","absForce","dnx","dny","Base","Body","distanceTo","bo","dx","dy","addForce","F","contains","nenwMass","Quad","getLength","halfLen","NW","NE","SW","SE","QuadTree","param","body","theta","_isExternal","_putBody","combos","positions","destroyed","layout","init","reloadData","executeWithWorker","cfg","getType","destroy","onTick","__createBinding","k2","__exportStar"],"mappings":"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","file":"extends/layout/forceAtlas2Layout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6\"] = factory();\n\telse\n\t\troot[\"f6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 432);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ForceAtlas2Layout = void 0;\nvar base_1 = require(\"../base\");\nvar util_1 = require(\"../../util\");\nvar body_1 = __importDefault(require(\"./body\"));\nvar quad_1 = __importDefault(require(\"./quad\"));\nvar quadTree_1 = __importDefault(require(\"./quadTree\"));\nvar ForceAtlas2Layout = /** @class */ (function (_super) {\n    __extends(ForceAtlas2Layout, _super);\n    function ForceAtlas2Layout(options) {\n        var _this = _super.call(this) || this;\n        /** 布局中心 */\n        _this.center = [0, 0];\n        /** 宽度 */\n        _this.width = 300;\n        /** 高度 */\n        _this.height = 300;\n        _this.nodes = [];\n        _this.edges = [];\n        /**\n         * the parameter for repulsive forces,\n         * it will scale the layout but won't change the layout\n         * larger the kr, looser the layout\n         * @type  {number}\n         */\n        _this.kr = 5;\n        /**\n         * the parameter for gravity forces\n         * @type  {number}\n         */\n        _this.kg = 1;\n        /**\n         * modes:\n         * 'normal' for normal using\n         * 'linlog' for compact clusters.\n         * @type  {string}\n         */\n        _this.mode = 'normal';\n        /**\n         * whether preventing the node overlapping\n         * @type  {boolean}\n         */\n        _this.preventOverlap = false;\n        /**\n         * whether active the dissuade hub mode\n         * true: grant authorities (nodes with a high indegree)\n         * a more central position than hubs (nodes with a high outdegree)\n         * @type  {boolean}\n         */\n        _this.dissuadeHubs = false;\n        /**\n         * whether active the barnes hut optimization on computing repulsive forces\n         * @type  {boolean}\n         */\n        _this.barnesHut = false;\n        /**\n         * the max iteration number\n         * @type  {number}\n         */\n        _this.maxIteration = 0;\n        /**\n         * control the global velocity\n         * defualt: 0.1(gephi)\n         * @type  {number}\n         */\n        _this.ks = 0.1;\n        /**\n         * the max global velocity\n         * @type  {number}\n         */\n        _this.ksmax = 10;\n        /**\n         * the tolerance for the global swinging\n         * @type  {number}\n         */\n        _this.tao = 0.1;\n        /**\n         * the function of layout complete listener, display the legend and minimap after layout\n         * @type  {function}\n         */\n        _this.onLayoutEnd = function () { };\n        /**\n         * activate prune or not.\n         * prune the leaves during most iterations, layout the leaves in the last 50 iteraitons.\n         * if prune === '', it will be activated when the nodes number > 100\n         * note that it will reduce the quality of the layout\n         * @type  {boolean}\n         */\n        _this.prune = false;\n        _this.updateCfg(options);\n        return _this;\n    }\n    ForceAtlas2Layout.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // execute the layout\n    ForceAtlas2Layout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes, maxIteration = self.maxIteration, onLayoutEnd = self.onLayoutEnd, prune = self.prune;\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        // the whidth of each nodes\n        var sizes = [];\n        var nodeNum = nodes.length;\n        for (var i = 0; i < nodeNum; i += 1) {\n            var node = nodes[i];\n            var nodeWidth = 10;\n            var nodeHeight = 10;\n            if (util_1.isNumber(node.size)) {\n                nodeWidth = node.size;\n                nodeHeight = node.size;\n            }\n            if (util_1.isArray(node.size)) {\n                if (!isNaN(node.size[0]))\n                    nodeWidth = node.size[0];\n                if (!isNaN(node.size[1]))\n                    nodeHeight = node.size[1];\n            }\n            if (self.getWidth && !isNaN(self.getWidth(node)))\n                nodeHeight = self.getWidth(node);\n            if (self.getHeight && !isNaN(self.getHeight(node)))\n                nodeWidth = self.getHeight(node);\n            var maxSize = Math.max(nodeWidth, nodeHeight);\n            sizes.push(maxSize);\n        }\n        if (!self.barnesHut && nodeNum > 250)\n            self.barnesHut = true;\n        if (!self.prune && nodeNum > 100)\n            self.prune = true;\n        if (this.maxIteration === 0 && !self.prune) {\n            maxIteration = 250;\n            if (nodeNum <= 200 && nodeNum > 100)\n                maxIteration = 1000;\n            else if (nodeNum > 200)\n                maxIteration = 1200;\n            this.maxIteration = maxIteration;\n        }\n        else if (this.maxIteration === 0 && prune) {\n            maxIteration = 100;\n            if (nodeNum <= 200 && nodeNum > 100)\n                maxIteration = 500;\n            else if (nodeNum > 200)\n                maxIteration = 950;\n            this.maxIteration = maxIteration;\n        }\n        if (!self.kr) {\n            self.kr = 50;\n            if (nodeNum > 100 && nodeNum <= 500)\n                self.kr = 20;\n            else if (nodeNum > 500)\n                self.kr = 1;\n        }\n        if (!self.kg) {\n            self.kg = 20;\n            if (nodeNum > 100 && nodeNum <= 500)\n                self.kg = 10;\n            else if (nodeNum > 500)\n                self.kg = 1;\n        }\n        this.nodes = self.updateNodesByForces(sizes);\n        onLayoutEnd();\n    };\n    ForceAtlas2Layout.prototype.updateNodesByForces = function (sizes) {\n        var self = this;\n        var nodes = self.nodes, edges = self.edges, maxIteration = self.maxIteration;\n        var nonLoopEdges = edges.filter(function (edge) {\n            return edge.source !== edge.target;\n        });\n        var size = nodes.length;\n        var esize = nonLoopEdges.length;\n        var degrees = [];\n        var idMap = {};\n        var edgeEndsIdMap = {};\n        var Es = [];\n        for (var i = 0; i < size; i += 1) {\n            idMap[nodes[i].id] = i;\n            degrees[i] = 0;\n            if (nodes[i].x === undefined || isNaN(nodes[i].x)) {\n                nodes[i].x = Math.random() * 1000;\n            }\n            if (nodes[i].y === undefined || isNaN(nodes[i].y)) {\n                nodes[i].y = Math.random() * 1000;\n            }\n            Es.push({ x: nodes[i].x, y: nodes[i].y });\n        }\n        for (var i = 0; i < esize; i += 1) {\n            var node1 = void 0;\n            var node2 = void 0;\n            var sIdx = 0, tIdx = 0;\n            for (var j = 0; j < size; j += 1) {\n                if (nodes[j].id === nonLoopEdges[i].source) {\n                    node1 = nodes[j];\n                    sIdx = j;\n                }\n                else if (nodes[j].id === nonLoopEdges[i].target) {\n                    node2 = nodes[j];\n                    tIdx = j;\n                }\n                edgeEndsIdMap[i] = { sourceIdx: sIdx, targetIdx: tIdx };\n            }\n            if (node1)\n                degrees[idMap[node1.id]] += 1;\n            if (node2)\n                degrees[idMap[node2.id]] += 1;\n        }\n        var iteration = maxIteration;\n        nodes = this.iterate(iteration, idMap, edgeEndsIdMap, esize, degrees, sizes);\n        // if prune, place the leaves around their parents, and then re-layout for several iterations.\n        if (self.prune) {\n            for (var j = 0; j < esize; j += 1) {\n                if (degrees[edgeEndsIdMap[j].sourceIdx] <= 1) {\n                    nodes[edgeEndsIdMap[j].sourceIdx].x = nodes[edgeEndsIdMap[j].targetIdx].x;\n                    nodes[edgeEndsIdMap[j].sourceIdx].y = nodes[edgeEndsIdMap[j].targetIdx].y;\n                }\n                else if (degrees[edgeEndsIdMap[j].targetIdx] <= 1) {\n                    nodes[edgeEndsIdMap[j].targetIdx].x = nodes[edgeEndsIdMap[j].sourceIdx].x;\n                    nodes[edgeEndsIdMap[j].targetIdx].y = nodes[edgeEndsIdMap[j].sourceIdx].y;\n                }\n            }\n            self.prune = false;\n            self.barnesHut = false;\n            iteration = 100;\n            nodes = this.iterate(iteration, idMap, edgeEndsIdMap, esize, degrees, sizes);\n        }\n        return nodes;\n    };\n    ForceAtlas2Layout.prototype.iterate = function (iteration, idMap, edgeEndsIdMap, esize, degrees, sizes) {\n        var self = this;\n        var nodes = self.nodes, kr = self.kr, preventOverlap = self.preventOverlap, barnesHut = self.barnesHut;\n        var nodeNum = nodes.length;\n        var sg = 0;\n        var krPrime = 100;\n        var iter = iteration;\n        var prevoIter = 50;\n        var forces = [];\n        var preForces = [];\n        var bodies = [];\n        for (var i = 0; i < nodeNum; i += 1) {\n            forces[2 * i] = 0;\n            forces[2 * i + 1] = 0;\n            if (barnesHut) {\n                var params = {\n                    id: i,\n                    rx: nodes[i].x,\n                    ry: nodes[i].y,\n                    mass: 1,\n                    g: kr,\n                    degree: degrees[i]\n                };\n                bodies[i] = new body_1.default(params);\n            }\n        }\n        while (iter > 0) {\n            for (var i = 0; i < nodeNum; i += 1) {\n                preForces[2 * i] = forces[2 * i];\n                preForces[2 * i + 1] = forces[2 * i + 1];\n                forces[2 * i] = 0;\n                forces[2 * i + 1] = 0;\n            }\n            // attractive forces, existing on every actual edge\n            forces = this.getAttrForces(iter, prevoIter, esize, idMap, edgeEndsIdMap, degrees, sizes, forces);\n            // repulsive forces and Gravity, existing on every node pair\n            // if preventOverlap, using the no-optimized method in the last prevoIter instead.\n            if (barnesHut && ((preventOverlap && iter > prevoIter) || !preventOverlap)) {\n                forces = this.getOptRepGraForces(forces, bodies, degrees);\n            }\n            else {\n                forces = this.getRepGraForces(iter, prevoIter, forces, krPrime, sizes, degrees);\n            }\n            // update the positions\n            var res = this.updatePos(forces, preForces, sg, degrees);\n            nodes = res.nodes;\n            sg = res.sg;\n            iter--;\n            if (self.tick)\n                self.tick();\n        }\n        ;\n        return nodes;\n    };\n    ForceAtlas2Layout.prototype.getAttrForces = function (iter, prevoIter, esize, idMap, edgeEndsIdMap, degrees, sizes, forces) {\n        var self = this;\n        var nodes = self.nodes, preventOverlap = self.preventOverlap, dissuadeHubs = self.dissuadeHubs, mode = self.mode, prune = self.prune;\n        for (var i = 0; i < esize; i += 1) {\n            var sourceNode = nodes[edgeEndsIdMap[i].sourceIdx];\n            var sourceIdx = edgeEndsIdMap[i].sourceIdx;\n            var targetNode = nodes[edgeEndsIdMap[i].targetIdx];\n            var targetIdx = edgeEndsIdMap[i].targetIdx;\n            if (prune && (degrees[sourceIdx] <= 1 || degrees[targetIdx] <= 1))\n                continue;\n            var dir = [targetNode.x - sourceNode.x, targetNode.y - sourceNode.y];\n            var eucliDis = Math.hypot(dir[0], dir[1]);\n            eucliDis = eucliDis < 0.0001 ? 0.0001 : eucliDis;\n            dir[0] = dir[0] / eucliDis;\n            dir[1] = dir[1] / eucliDis;\n            if (preventOverlap && iter < prevoIter)\n                eucliDis = eucliDis - sizes[sourceIdx] - sizes[targetIdx];\n            var Fa1 = eucliDis;\n            var Fa2 = Fa1;\n            if (mode === 'linlog') {\n                Fa1 = Math.log(1 + eucliDis);\n                Fa2 = Fa1;\n            }\n            if (dissuadeHubs) {\n                Fa1 = eucliDis / degrees[sourceIdx];\n                Fa2 = eucliDis / degrees[targetIdx];\n            }\n            if (preventOverlap && iter < prevoIter && eucliDis <= 0) {\n                Fa1 = 0;\n                Fa2 = 0;\n            }\n            else if (preventOverlap && iter < prevoIter && eucliDis > 0) {\n                Fa1 = eucliDis;\n                Fa2 = eucliDis;\n            }\n            forces[2 * idMap[sourceNode.id]] += Fa1 * dir[0];\n            forces[2 * idMap[targetNode.id]] -= Fa2 * dir[0];\n            forces[2 * idMap[sourceNode.id] + 1] += Fa1 * dir[1];\n            forces[2 * idMap[targetNode.id] + 1] -= Fa2 * dir[1];\n        }\n        return forces;\n    };\n    ForceAtlas2Layout.prototype.getRepGraForces = function (iter, prevoIter, forces, krPrime, sizes, degrees) {\n        var self = this;\n        var nodes = self.nodes, preventOverlap = self.preventOverlap, kr = self.kr, kg = self.kg, center = self.center, prune = self.prune;\n        var nodeNum = nodes.length;\n        for (var i = 0; i < nodeNum; i += 1) {\n            for (var j = i + 1; j < nodeNum; j += 1) {\n                if (prune && (degrees[i] <= 1 || degrees[j] <= 1))\n                    continue;\n                var dir_1 = [nodes[j].x - nodes[i].x, nodes[j].y - nodes[i].y];\n                var eucliDis_1 = Math.hypot(dir_1[0], dir_1[1]);\n                eucliDis_1 = eucliDis_1 < 0.0001 ? 0.0001 : eucliDis_1;\n                dir_1[0] = dir_1[0] / eucliDis_1;\n                dir_1[1] = dir_1[1] / eucliDis_1;\n                if (preventOverlap && iter < prevoIter)\n                    eucliDis_1 = eucliDis_1 - sizes[i] - sizes[j];\n                var Fr = kr * (degrees[i] + 1) * (degrees[j] + 1) / eucliDis_1;\n                if (preventOverlap && iter < prevoIter && eucliDis_1 < 0) {\n                    Fr = krPrime * (degrees[i] + 1) * (degrees[j] + 1);\n                }\n                else if (preventOverlap && iter < prevoIter && eucliDis_1 === 0) {\n                    Fr = 0;\n                }\n                else if (preventOverlap && iter < prevoIter && eucliDis_1 > 0) {\n                    Fr = kr * (degrees[i] + 1) * (degrees[j] + 1) / eucliDis_1;\n                }\n                forces[2 * i] -= Fr * dir_1[0];\n                forces[2 * j] += Fr * dir_1[0];\n                forces[2 * i + 1] -= Fr * dir_1[1];\n                forces[2 * j + 1] += Fr * dir_1[1];\n            }\n            // gravity\n            var dir = [nodes[i].x - center[0], nodes[i].y - center[1]];\n            var eucliDis = Math.hypot(dir[0], dir[1]);\n            dir[0] = dir[0] / eucliDis;\n            dir[1] = dir[1] / eucliDis;\n            var Fg = kg * (degrees[i] + 1);\n            forces[2 * i] -= Fg * dir[0];\n            forces[2 * i + 1] -= Fg * dir[1];\n        }\n        return forces;\n    };\n    ForceAtlas2Layout.prototype.getOptRepGraForces = function (forces, bodies, degrees) {\n        var self = this;\n        var nodes = self.nodes, kg = self.kg, center = self.center, prune = self.prune;\n        var nodeNum = nodes.length;\n        var minx = 9e10, maxx = -9e10, miny = 9e10, maxy = -9e10;\n        for (var i = 0; i < nodeNum; i += 1) {\n            if (prune && (degrees[i] <= 1))\n                continue;\n            bodies[i].setPos(nodes[i].x, nodes[i].y);\n            if (nodes[i].x >= maxx)\n                maxx = nodes[i].x;\n            if (nodes[i].x <= minx)\n                minx = nodes[i].x;\n            if (nodes[i].y >= maxy)\n                maxy = nodes[i].y;\n            if (nodes[i].y <= miny)\n                miny = nodes[i].y;\n        }\n        var width = Math.max(maxx - minx, maxy - miny);\n        var quadParams = {\n            xmid: (maxx + minx) / 2,\n            ymid: (maxy + miny) / 2,\n            length: width,\n            massCenter: center,\n            mass: nodeNum\n        };\n        var quad = new quad_1.default(quadParams);\n        var quadTree = new quadTree_1.default(quad);\n        // build the tree, insert the nodes(quads) into the tree\n        for (var i = 0; i < nodeNum; i += 1) {\n            if (prune && (degrees[i] <= 1))\n                continue;\n            if (bodies[i].in(quad))\n                quadTree.insert(bodies[i]);\n        }\n        // update the repulsive forces and the gravity.\n        for (var i = 0; i < nodeNum; i += 1) {\n            if (prune && (degrees[i] <= 1))\n                continue;\n            bodies[i].resetForce();\n            quadTree.updateForce(bodies[i]);\n            forces[2 * i] -= bodies[i].fx;\n            forces[2 * i + 1] -= bodies[i].fy;\n            // gravity\n            var dir = [nodes[i].x - center[0], nodes[i].y - center[1]];\n            var eucliDis = Math.hypot(dir[0], dir[1]);\n            eucliDis = eucliDis < 0.0001 ? 0.0001 : eucliDis;\n            dir[0] = dir[0] / eucliDis;\n            dir[1] = dir[1] / eucliDis;\n            var Fg = kg * (degrees[i] + 1);\n            forces[2 * i] -= Fg * dir[0];\n            forces[2 * i + 1] -= Fg * dir[1];\n        }\n        return forces;\n    };\n    ForceAtlas2Layout.prototype.updatePos = function (forces, preForces, sg, degrees) {\n        var self = this;\n        var nodes = self.nodes, ks = self.ks, tao = self.tao, prune = self.prune, ksmax = self.ksmax;\n        var nodeNum = nodes.length;\n        var swgns = [];\n        var trans = [];\n        // swg(G) and tra(G)\n        var swgG = 0;\n        var traG = 0;\n        for (var i = 0; i < nodeNum; i += 1) {\n            if (prune && (degrees[i] <= 1))\n                continue;\n            var minus = [forces[2 * i] - preForces[2 * i],\n                forces[2 * i + 1] - preForces[2 * i + 1]\n            ];\n            var minusNorm = Math.hypot(minus[0], minus[1]);\n            var add = [forces[2 * i] + preForces[2 * i],\n                forces[2 * i + 1] + preForces[2 * i + 1]\n            ];\n            var addNorm = Math.hypot(add[0], add[1]);\n            swgns[i] = minusNorm;\n            trans[i] = addNorm / 2;\n            swgG += (degrees[i] + 1) * swgns[i];\n            traG += (degrees[i] + 1) * trans[i];\n        }\n        var preSG = sg;\n        sg = tao * traG / swgG;\n        if (preSG !== 0) {\n            sg = sg > (1.5 * preSG) ? (1.5 * preSG) : sg;\n        }\n        // update the node positions\n        for (var i = 0; i < nodeNum; i += 1) {\n            if (prune && (degrees[i] <= 1))\n                continue;\n            var sn = ks * sg / (1 + sg * Math.sqrt(swgns[i]));\n            var absForce = Math.hypot(forces[2 * i], forces[2 * i + 1]);\n            absForce = absForce < 0.0001 ? 0.0001 : absForce;\n            var max = ksmax / absForce;\n            sn = sn > max ? max : sn;\n            var dnx = sn * forces[2 * i];\n            var dny = sn * forces[2 * i + 1];\n            nodes[i].x += dnx;\n            nodes[i].y += dny;\n        }\n        return { nodes: nodes, sg: sg };\n    };\n    return ForceAtlas2Layout;\n}(base_1.Base));\nexports.ForceAtlas2Layout = ForceAtlas2Layout;\n//# sourceMappingURL=index.js.map","import { ForceAtlas2Layout } from '@antv/layout/lib/layout/forceAtlas2';\n\nexport default ForceAtlas2Layout;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// represents a body(a point mass) and its position\nvar Body = /** @class */ (function () {\n    function Body(params) {\n        /**\n         * the id of this body, the same with the node id\n         * @type  {number}\n         */\n        this.id = params.id || 0;\n        /**\n         * the position of this body\n         * @type  {number}\n         */\n        this.rx = params.rx;\n        /**\n         * the position of this body\n         * @type  {number}\n         */\n        this.ry = params.ry;\n        /**\n         * the force acting on this body\n         * @type  {number}\n         */\n        this.fx = 0;\n        /**\n         * the force acting on this body\n         * @type  {number}\n         */\n        this.fy = 0;\n        /**\n         * the mass of this body, =1 for a node\n         * @type  {number}\n         */\n        this.mass = params.mass;\n        /**\n         * the degree of the node represented by this body\n         * @type  {number}\n         */\n        this.degree = params.degree;\n        /**\n         * the parameter for repulsive force, = kr\n         * @type  {number}\n         */\n        this.g = params.g || 0;\n    }\n    // returns the euclidean distance\n    Body.prototype.distanceTo = function (bo) {\n        var dx = this.rx - bo.rx;\n        var dy = this.ry - bo.ry;\n        return Math.hypot(dx, dy);\n    };\n    Body.prototype.setPos = function (x, y) {\n        this.rx = x;\n        this.ry = y;\n    };\n    // resets the forces\n    Body.prototype.resetForce = function () {\n        this.fx = 0;\n        this.fy = 0;\n    };\n    Body.prototype.addForce = function (b) {\n        var dx = b.rx - this.rx;\n        var dy = b.ry - this.ry;\n        var dist = Math.hypot(dx, dy);\n        dist = dist < 0.0001 ? 0.0001 : dist;\n        // the repulsive defined by force atlas 2\n        var F = (this.g * (this.degree + 1) * (b.degree + 1)) / dist;\n        this.fx += F * dx / dist;\n        this.fy += F * dy / dist;\n    };\n    // if quad contains this body\n    Body.prototype.in = function (quad) {\n        return quad.contains(this.rx, this.ry);\n    };\n    // returns a new body\n    Body.prototype.add = function (bo) {\n        var nenwMass = this.mass + bo.mass;\n        var x = (this.rx * this.mass + bo.rx * bo.mass) / nenwMass;\n        var y = (this.ry * this.mass + bo.ry * bo.mass) / nenwMass;\n        var dg = this.degree + bo.degree;\n        var params = {\n            rx: x,\n            ry: y,\n            mass: nenwMass,\n            degree: dg\n        };\n        return new Body(params);\n    };\n    return Body;\n}());\nexports.default = Body;\n//# sourceMappingURL=body.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Quad = /** @class */ (function () {\n    function Quad(params) {\n        /**\n         * the center position of this quad\n         * @type  {number}\n         */\n        this.xmid = params.xmid;\n        /**\n         * the center position of this quad\n         * @type  {number}\n         */\n        this.ymid = params.ymid;\n        /**\n         * the length of this quad\n         * @type  {number}\n         */\n        this.length = params.length;\n        /**\n         * the mass center of this quad\n         * @type  {number}\n         */\n        this.massCenter = params.massCenter || [0, 0];\n        /**\n         * the mass of this quad\n         * @type  {number}\n         */\n        this.mass = params.mass || 1;\n    }\n    Quad.prototype.getLength = function () {\n        return this.length;\n    };\n    Quad.prototype.contains = function (x, y) {\n        var halfLen = this.length / 2;\n        return (x <= this.xmid + halfLen &&\n            x >= this.xmid - halfLen &&\n            y <= this.ymid + halfLen &&\n            y >= this.ymid - halfLen);\n    };\n    // northwest quadrant\n    Quad.prototype.NW = function () {\n        var x = this.xmid - this.length / 4;\n        var y = this.ymid + this.length / 4;\n        var len = this.length / 2;\n        var params = {\n            xmid: x,\n            ymid: y,\n            length: len\n        };\n        var NW = new Quad(params);\n        return NW;\n    };\n    // northeast\n    Quad.prototype.NE = function () {\n        var x = this.xmid + this.length / 4;\n        var y = this.ymid + this.length / 4;\n        var len = this.length / 2;\n        var params = {\n            xmid: x,\n            ymid: y,\n            length: len\n        };\n        var NE = new Quad(params);\n        return NE;\n    };\n    // southwest\n    Quad.prototype.SW = function () {\n        var x = this.xmid - this.length / 4;\n        var y = this.ymid - this.length / 4;\n        var len = this.length / 2;\n        var params = {\n            xmid: x,\n            ymid: y,\n            length: len\n        };\n        var SW = new Quad(params);\n        return SW;\n    };\n    // southeast\n    Quad.prototype.SE = function () {\n        var x = this.xmid + this.length / 4;\n        var y = this.ymid - this.length / 4;\n        var len = this.length / 2;\n        var params = {\n            xmid: x,\n            ymid: y,\n            length: len\n        };\n        var SE = new Quad(params);\n        return SE;\n    };\n    return Quad;\n}());\nexports.default = Quad;\n//# sourceMappingURL=quad.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @fileOverview quadTree\n * @author shiwu.wyy@antfin.com\n */\nvar QuadTree = /** @class */ (function () {\n    // each quadtree represents a quadrant and an aggregate body\n    // that represents all bodies inside the quadrant\n    function QuadTree(param) {\n        /**\n         * (aggregated) body in this quad\n         * @type  {object}\n         */\n        this.body = null;\n        /**\n         * tree representing the northwest quadrant\n         * @type  {object}\n         */\n        this.quad = null;\n        this.NW = null;\n        this.NE = null;\n        this.SW = null;\n        this.SE = null;\n        /**\n         * threshold\n         * @type  {number}\n         */\n        this.theta = 0.5;\n        if (param != null)\n            this.quad = param;\n    }\n    // insert a body(node) into the tree\n    QuadTree.prototype.insert = function (bo) {\n        // if this node does not contain a body, put the new body bo here\n        if (this.body == null) {\n            this.body = bo;\n            return;\n        }\n        // internal node\n        if (!this._isExternal()) {\n            // update mass info\n            this.body = this.body.add(bo);\n            // insert body into quadrant\n            this._putBody(bo);\n        }\n        else { // external node\n            // divide this region into four children\n            if (this.quad) {\n                this.NW = new QuadTree(this.quad.NW());\n                this.NE = new QuadTree(this.quad.NE());\n                this.SW = new QuadTree(this.quad.SW());\n                this.SE = new QuadTree(this.quad.SE());\n            }\n            // insert this body and bo\n            this._putBody(this.body);\n            this._putBody(bo);\n            // update the mass info\n            this.body = this.body.add(bo);\n        }\n    };\n    // inserts bo into a quad\n    QuadTree.prototype._putBody = function (bo) {\n        if (!this.quad)\n            return;\n        if (bo.in(this.quad.NW()) && this.NW)\n            this.NW.insert(bo);\n        else if (bo.in(this.quad.NE()) && this.NE)\n            this.NE.insert(bo);\n        else if (bo.in(this.quad.SW()) && this.SW)\n            this.SW.insert(bo);\n        else if (bo.in(this.quad.SE()) && this.SE)\n            this.SE.insert(bo);\n    };\n    QuadTree.prototype._isExternal = function () {\n        // four children are null\n        return (this.NW == null && this.NE == null && this.SW == null && this.SE == null);\n    };\n    // update the forces\n    QuadTree.prototype.updateForce = function (bo) {\n        if (this.body == null || bo === this.body) {\n            return;\n        }\n        // if the current node is external\n        if (this._isExternal())\n            bo.addForce(this.body);\n        // internal nodes\n        else {\n            var s = this.quad ? this.quad.getLength() : 0;\n            var d = this.body.distanceTo(bo);\n            // b is far enough\n            if ((s / d) < this.theta)\n                bo.addForce(this.body);\n            else {\n                this.NW && this.NW.updateForce(bo);\n                this.NE && this.NE.updateForce(bo);\n                this.SW && this.SW.updateForce(bo);\n                this.SE && this.SE.updateForce(bo);\n            }\n        }\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n//# sourceMappingURL=quadTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    Base.prototype.onTick = function () { };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}