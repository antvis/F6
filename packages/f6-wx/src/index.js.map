{"version":3,"sources":["webpack://f6/webpack/universalModuleDefinition","webpack://f6/webpack/bootstrap","webpack://f6/../src/is-array-like.ts","webpack://f6/../src/is-type.ts","webpack://f6/../src/is-function.ts","webpack://f6/../src/is-nil.ts","webpack://f6/../src/is-array.ts","webpack://f6/../src/is-object.ts","webpack://f6/../src/each.ts","webpack://f6/../src/keys.ts","webpack://f6/../src/is-object-like.ts","webpack://f6/../src/is-plain-object.ts","webpack://f6/../src/find-index.ts","webpack://f6/../src/max.ts","webpack://f6/../src/min.ts","webpack://f6/../src/pull.ts","webpack://f6/../src/is-string.ts","webpack://f6/../src/pull-at.ts","webpack://f6/../src/ends-with.ts","webpack://f6/../src/group-by.ts","webpack://f6/../src/wrap-behavior.ts","webpack://f6/../src/parse-radius.ts","webpack://f6/../src/is-number.ts","webpack://f6/../src/is-integer.ts","webpack://f6/../src/is-number-equal.ts","webpack://f6/../src/is-odd.ts","webpack://f6/../src/mod.ts","webpack://f6/../src/to-radian.ts","webpack://f6/../src/to-degree.ts","webpack://f6/../src/to-integer.ts","webpack://f6/../src/to-string.ts","webpack://f6/../src/values.ts","webpack://f6/../src/substitute.ts","webpack://f6/../src/upper-first.ts","webpack://f6/../src/is-boolean.ts","webpack://f6/../src/is-prototype.ts","webpack://f6/../src/mix.ts","webpack://f6/../src/clone.ts","webpack://f6/../src/deep-mix.ts","webpack://f6/../src/is-empty.ts","webpack://f6/../src/is-equal.ts","webpack://f6/../src/get.ts","webpack://f6/../src/unique-id.ts","webpack://f6/../src/pick.ts","webpack://f6/../src/noop.ts","webpack://f6/../src/cache.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/tslib/tslib.es6.js","webpack://f6/../core/es/behavior/behaviorOption.js","webpack://f6/../core/es/behavior/behavior.js","webpack://f6/../core/es/behavior/index.js","webpack://f6/../core/es/util/math.js","webpack://f6/../core/es/global.js","webpack://f6/../core/es/util/letterAspectRatio.js","webpack://f6/../core/es/util/graphic.js","webpack://f6/../core/es/util/validation.js","webpack://f6/../core/es/graph/controller/mode.js","webpack://f6/../core/es/interface/behavior.js","webpack://f6/../core/es/util/base.js","webpack://f6/../core/es/graph/controller/view.js","webpack://f6/../core/es/element/xml.js","webpack://f6/../core/es/element/shape.js","webpack://f6/../core/es/item/item.js","webpack://f6/../core/es/item/edge.js","webpack://f6/../core/es/item/node.js","webpack://f6/../core/es/item/combo.js","webpack://f6/../core/es/graph/controller/item.js","webpack://f6/../core/es/graph/controller/state.js","webpack://f6/../core/es/util/path.js","webpack://f6/../core/es/element/hull/convexHull.js","webpack://f6/../core/es/element/hull/bubbleset.js","webpack://f6/../core/es/item/hull.js","webpack://f6/../core/es/graph/graph.js","webpack://f6/../core/es/element/shapeBase.js","webpack://f6/../core/es/element/node.js","webpack://f6/../core/es/element/edge.js","webpack://f6/../core/es/element/combo.js","webpack://f6/../core/es/element/combos/circle.js","webpack://f6/../core/es/element/combos/rect.js","webpack://f6/../core/es/element/nodes/simple-circle.js","webpack://f6/../core/es/element/nodes/simple-rect.js","webpack://f6/../core/es/element/nodes/image.js","webpack://f6/../core/es/element/arrow.js","webpack://f6/../core/es/types/index.js","webpack://f6/../core/es/element/marker.js","webpack://f6/../core/es/element/index.js","webpack://f6/../core/es/util/color.js","webpack://f6/../core/es/util/index.js","webpack://f6/../core/es/graph/controller/layout.js","webpack://f6/../core/es/graph/controller/event.js","webpack://f6/../core/es/index.js","webpack://f6/../src/contains.ts","webpack://f6/../src/filter.ts","webpack://f6/../src/difference.ts","webpack://f6/../src/is-match.ts","webpack://f6/../src/find.ts","webpack://f6/../src/first-value.ts","webpack://f6/../src/flatten.ts","webpack://f6/../src/flatten-deep.ts","webpack://f6/../src/get-range.ts","webpack://f6/../src/reduce.ts","webpack://f6/../src/remove.ts","webpack://f6/../src/sort-by.ts","webpack://f6/../src/uniq.ts","webpack://f6/../src/union.ts","webpack://f6/../src/values-of-key.ts","webpack://f6/../src/head.ts","webpack://f6/../src/last.ts","webpack://f6/../src/starts-with.ts","webpack://f6/../src/every.ts","webpack://f6/../src/some.ts","webpack://f6/../src/group-to-map.ts","webpack://f6/../src/group.ts","webpack://f6/../src/get-wrap-behavior.ts","webpack://f6/../src/number2color.ts","webpack://f6/../src/clamp.ts","webpack://f6/../src/fixed-base.ts","webpack://f6/../src/is-decimal.ts","webpack://f6/../src/is-even.ts","webpack://f6/../src/is-negative.ts","webpack://f6/../src/is-positive.ts","webpack://f6/../src/max-by.ts","webpack://f6/../src/min-by.ts","webpack://f6/../src/for-in.ts","webpack://f6/../src/has.ts","webpack://f6/../src/has-key.ts","webpack://f6/../src/has-value.ts","webpack://f6/../src/lower-case.ts","webpack://f6/../src/lower-first.ts","webpack://f6/../src/upper-case.ts","webpack://f6/../src/get-type.ts","webpack://f6/../src/is-arguments.ts","webpack://f6/../src/is-date.ts","webpack://f6/../src/is-error.ts","webpack://f6/../src/is-finite.ts","webpack://f6/../src/is-null.ts","webpack://f6/../src/is-reg-exp.ts","webpack://f6/../src/is-undefined.ts","webpack://f6/../src/is-element.ts","webpack://f6/../src/request-animation-frame.ts","webpack://f6/../src/clear-animation-frame.ts","webpack://f6/../src/augment.ts","webpack://f6/../src/debounce.ts","webpack://f6/../src/memoize.ts","webpack://f6/../src/extend.ts","webpack://f6/../src/index-of.ts","webpack://f6/../src/is-equal-with.ts","webpack://f6/../src/map.ts","webpack://f6/../src/map-values.ts","webpack://f6/../src/set.ts","webpack://f6/../src/omit.ts","webpack://f6/../src/throttle.ts","webpack://f6/../src/to-array.ts","webpack://f6/../src/identity.ts","webpack://f6/../src/size.ts","webpack://f6/../src/ext.ts","webpack://f6/../../src/util/util.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/common.js","webpack://f6/../../src/layout/base.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/mat3.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec3.js","webpack://f6/../../src/util/index.ts","webpack://f6/../../src/util/string.ts","webpack://f6/../../src/util/array.ts","webpack://f6/../../src/util/number.ts","webpack://f6/../../src/util/math.ts","webpack://f6/../../src/util/object.ts","webpack://f6/../../src/util/function.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/input-consts.js","webpack://f6/./src/global.ts","webpack://f6/../../src/util/matrix.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/time.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizerjs/recognizer-consts.js","webpack://f6/./src/layout/index.ts","webpack://f6/../../src/util/path.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/adjacent-matrix.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/linked-list.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/queue.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/util.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/bfs.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/connected-component.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/degree.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/dfs.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/detect-cycle.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/dijkstra.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/find-path.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/floydWarshall.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/label-propagation.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/louvain.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/union-find.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/binary-heap.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/mts.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/pageRank.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/struct.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gSpan/gSpan.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/gaddi.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/structs/stack.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@antv/algorithm/es/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/utils-consts.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/touchactionjs/touchaction-Consts.js","webpack://f6/./src/util/layout.ts","webpack://f6/./src/util/index.ts","webpack://f6/../../src/util/text.ts","webpack://f6/../src/parse-path.ts","webpack://f6/../src/catmull-rom-2-bezier.ts","webpack://f6/../src/parse-path-string.ts","webpack://f6/../src/get-arc-params.ts","webpack://f6/../src/path-2-segments.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/each.js","webpack://f6/../src/index.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/gl-matrix/esm/vec2.js","webpack://f6/../src/create-dom.ts","webpack://f6/../src/modify-css.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/attribute.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizerjs/recognizer-constructor.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/in-array.js","webpack://f6/../../src/registy/index.ts","webpack://f6/../../src/layout/random.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/assign.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/bool-or-fn.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/split-str.js","webpack://f6/../../src/event/graph-event.ts","webpack://f6/../../src/abstract/base.ts","webpack://f6/../../src/util/offscreen.ts","webpack://f6/../../src/abstract/container.ts","webpack://f6/../../src/abstract/element.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/tslib/tslib.es6.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/path.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/event/graph-event.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/tslib/tslib.es6.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/util.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/base.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/gl-matrix/esm/common.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/gl-matrix/esm/mat3.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/gl-matrix/esm/vec2.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/matrix.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/element.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/container.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-timer/src/timer.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/linear.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/quad.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/cubic.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/poly.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/sin.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/math.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/exp.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/circle.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/bounce.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/back.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-ease/src/elastic.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-color/src/define.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-color/src/color.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/basis.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/constant.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/color.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/rgb.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/basisClosed.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/numberArray.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/array.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/date.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/number.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/object.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/string.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/d3-interpolate/src/value.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/animate/timeline.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/color.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/event/event-contoller.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/canvas.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/group.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/abstract/shape.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/register.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/rect.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/circle.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/util.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/node_modules/gl-matrix/esm/common.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/node_modules/gl-matrix/esm/vec2.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/line.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/bezier.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/quadratic.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/cubic.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/arc.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/segments.js","webpack://f6//Users/bing/git/antv/g/packages/g-math/esm/polyline.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/util.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/polyline.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/offscreen.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/util/text.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/text.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/path.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/polygon.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/line.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/bbox/ellipse.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/esm/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/util.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/parse.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/arc-params.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/arrow.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/draw.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/group.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/base.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/circle.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/ellipse.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/image.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-stroke/line.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/line.js","webpack://f6/../src/path-2-absolute.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/marker.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-path/polygon.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/gl-matrix/esm/common.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/gl-matrix/esm/mat3.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/gl-matrix/esm/vec2.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/gl-matrix/esm/vec3.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-stroke/arc.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/path.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/path.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-stroke/polyline.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/polygon.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/polyline.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/rect.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-stroke/rect-radius.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/in-stroke/rect.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/shape/text.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/hit.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/events.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/util/mini-canvas-proxy.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/patch/bbox/text.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/patch/bbox/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/patch/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/esm/canvas.js","webpack://f6/./src/graph/controller/event.ts","webpack://f6/./src/graph/controller/layout.ts","webpack://f6/./src/graph/graph.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/util.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/conversion.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/format-input.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/@ctrl/tinycolor/dist/module/index.js","webpack://f6/./node_modules/@ant-design/colors/dist/index.esm.js","webpack://f6/./src/util/color.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/pan.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-distance.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/has-parent.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/input-constructor.js","webpack://f6/../../src/layout/layout.ts","webpack://f6//Users/bing/git/antv/g/packages/g-base/lib/util/text.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/process/browser.js","webpack://f6/../../src/abstract/group.ts","webpack://f6/../../src/abstract/shape.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/hammer.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/if-undefined.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/rotate.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/invoke-array-arg.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/pinch.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/swipe.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizerjs/direction-str.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/tap.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/set-timeout-context.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/bind-fn.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizers/press.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/manager.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/touchactionjs/touchaction-constructor.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/in-str.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-center.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-angle.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-direction.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-velocity.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/input/touch.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/add-event-listeners.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/to-array.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/unique-array.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/deprecate.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/extend.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-convert/conversions.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-timer/src/timer.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/linear.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/quad.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/cubic.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/poly.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/sin.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/math.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/exp.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/circle.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/bounce.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/back.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-ease/src/elastic.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-color/src/define.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-color/src/color.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basis.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/constant.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/color.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/rgb.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/basisClosed.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/numberArray.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/array.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/date.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/number.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/object.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/string.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/d3-interpolate/src/value.js","webpack://f6/../../src/animate/timeline.ts","webpack://f6/../../src/util/color.ts","webpack://f6/../../src/event/event-contoller.ts","webpack://f6/../../src/abstract/canvas.ts","webpack://f6/../../src/bbox/register.ts","webpack://f6/../../src/bbox/rect.ts","webpack://f6/../../src/bbox/circle.ts","webpack://f6/../src/util.ts","webpack://f6/../src/quadratic.ts","webpack://f6/../src/cubic.ts","webpack://f6/../src/arc.ts","webpack://f6/../../src/bbox/util.ts","webpack://f6/../../src/bbox/polyline.ts","webpack://f6/../../src/bbox/path.ts","webpack://f6/../../src/bbox/index.ts","webpack://f6/../../src/bbox/polygon.ts","webpack://f6/../../src/bbox/text.ts","webpack://f6/../../src/bbox/line.ts","webpack://f6/../../src/bbox/ellipse.ts","webpack://f6//Users/bing/git/antv/f6-js/node_modules/detect-browser/es/index.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/node_modules/detect-browser/es/index.js","webpack://f6/./src/index.ts","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/touchactionjs/get-touchaction-props.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/unique-id.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizerjs/get-recognizer-by-name-if-manager.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/recognizerjs/state-str.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/touchactionjs/clean-touch-actions.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/create-input-instance.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/input-handler.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/compute-input-data.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/simple-clone-input-data.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/compute-delta-xy.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-scale.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/get-rotation.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/inputjs/compute-interval-input-data.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/input/pointerevent.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/remove-event-listeners.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/merge.js","webpack://f6//Users/bing/git/antv/g/packages/g-mobile/node_modules/g6-hammerjs/lib/utils/inherit.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/lib/util/util.js","webpack://f6//Users/bing/git/antv/g/packages/g-base/lib/util/offscreen.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-string/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-name/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/simple-swizzle/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/simple-swizzle/node_modules/is-arrayish/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-convert/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-convert/node_modules/color-name/index.js","webpack://f6//Users/bing/git/antv/f6-js/node_modules/color-convert/route.js","webpack://f6/../element/node_modules/tslib/tslib.es6.js","webpack://f6/../element/es/nodes/circle.js","webpack://f6/../element/es/nodes/rect.js","webpack://f6/../element/es/nodes/ellipse.js","webpack://f6/../element/es/nodes/diamond.js","webpack://f6/../element/es/nodes/triangle.js","webpack://f6/../element/es/nodes/modelRect.js","webpack://f6/../element/es/nodes/star.js","webpack://f6/../element/es/nodes/donut.js","webpack://f6/../element/es/edges/polyline-util.js","webpack://f6/../element/es/edges/router.js","webpack://f6/../element/es/edges/polyline.js","webpack://f6/./src/behavior/drag-canvas.ts","webpack://f6/./src/behavior/drag-node.ts","webpack://f6/./src/behavior/click-select.ts","webpack://f6/./src/behavior/zoom-canvas.ts","webpack://f6/./src/behavior/collapse-expand.ts","webpack://f6/./src/behavior/drag-combo.ts","webpack://f6/./src/behavior/collapse-expand-combo.ts","webpack://f6/./src/behavior/create-edge.ts","webpack://f6/./src/behavior/mobile-behavior.ts","webpack://f6/./src/behavior/index.ts","webpack://f6/./src/behavior/activate-relations.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","type","elements","_mix","obj","dist","rst","k","default_1","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","TypeError","String","__","constructor","__assign","assign","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","pop","push","__spreadArrays","il","a","j","jl","__spreadArray","to","from","pack","ar","slice","concat","getDefaultCfg","getEvents","updateCfg","cfg","shouldBegin","shouldUpdate","shouldEnd","graph","events","set","handler","event","on","unbind","off","val","Behavior","registerBehavior","behavior","Error","behaviorOption","base","_this","eventsToBind","handle","types","hasBehavior","getBehavior","transform","compare","attributeName","isBetween","min","max","getLineIntersect","p0","p1","p2","p3","E","x","D0","D1","kross","invertKross","getRectIntersectByPoint","rect","point","width","height","points","center","getCircleIntersectByPoint","circle","cx","cy","dx","dy","Math","sqrt","signX","sign","signY","angle","atan","abs","cos","sin","getEllipseIntersectByPoint","ellipse","rx","ry","atan2","PI","matrix","tag","vector","isNaN","transformMat3","inversedMatrix","invert","getCircleCenterByPoints","denominator","vx","vy","scaleMatrix","ratio","forEach","row","newRow","floydWarshall","adjMatrix","size","Infinity","getAdjMatrix","data","directed","nodes","edges","nodeMap","node","id","source","target","sIndex","tIndex","translate","group","vec","move","getMatrix","bbox","getCanvasBBox","minX","minY","movedMatrix","setMatrix","scaleXY","getDegree","nodeIdxMap","degrees","onSegment","q","isPointInPolygon","isHit","dcmp","xValue","intersectBBox","box1","box2","maxX","maxY","points1","points2","getBBox","xArr","map","yArr","parseToLines","lines","count","first","last","bbox1","bbox2","isIn","lines1","lines2","isIntersect","line","Line","x1","y1","x2","y2","getBBoxBoundLine","direction","top","left","bottom","right","fractionAlongLineA","la","lb","uaT","ubT","uB","ua","ub","Number","POSITIVE_INFINITY","itemIntersectByLine","item","directions","countIntersections","intersections","_a","fractionToLine","minDistance","testDistance","getPointsCenter","centerX","centerY","_i","points_1","squareDist","pow","pointLineSquareDist","projlenSq","px","py","dotprod","lenSq","isPointsOverlap","pointRectSquareDist","isLeft","isRight","isTop","isBottom","exactEquals","NaN","u","normalize","dot","subjectColor","comboFill","colorSet","version","rootContainerClassName","nodeContainerClassName","edgeContainerClassName","comboContainerClassName","delegateContainerClassName","defaultLoopPosition","nodeLabel","style","fill","fontSize","textAlign","textBaseline","offset","defaultNode","lineWidth","stroke","color","linkPoints","nodeStateStyles","active","shadowColor","shadowBlur","selected","fontWeight","highlight","inactive","disable","edgeLabel","defaultEdge","lineAppendWidth","edgeStateStyles","comboLabel","refY","refX","defaultCombo","padding","comboStateStyles","delegateStyle","fillOpacity","strokeOpacity","lineDash","A","B","C","D","F","G","h","H","I","J","K","L","M","N","O","Q","R","S","T","U","V","w","W","X","Y","z","Z","$","SELF_LINK_SIN","SELF_LINK_COS","element","leftTop","rightBottom","lx","ly","sourceNode","targetNode","containerMatrix","getKeyShape","loopCfg","position","startPoint","endPoint","rstart","rend","sinDeltaStart","cosDeltaStart","sinDeltaEnd","cosDeltaEnd","clockwise","swap","startVec","scaleRateStart","scaleRateEnd","startExtendVec","scale","controlPoint1","endVec","endExtendVec","controlPoint2","controlPoints","pathShape","percent","rotate","getPoint","getStartTangent","reverse","getEndTangent","offsetPoint","rad","normal","traverse","fn","children","traverseTree","traverseTreeUp","traverseUp","letter","letterAspectRatio","getTextSize","text","pattern","RegExp","split","test","array","addedMap","modelMap","cd","itemType","undefined","parentId","console","warn","mappedObj","mappedParent","parent_1","parent_2","pa","combo","comboId","cnode","maxDepth","tree","depth","child","parent","oriNodeModel","reconstructTree","trees","subtreeId","newParentId","subtree","brothers","comboChildsMap","foundSubTree","oldParentId","removed","index","splice","found_1","newParentDepth_1","currentDepth_1","getComboBBox","comboBBox","childItem","findById","isVisible","childBBox","keys","refreshEdge","anchorPoints","clonedObj","key1","obj2","clonedObj2_1","key2","error","combos","validated_1","param","nonNode","find","nodeIds","comboIds","ids","nonEdges","edge","includes","ModeController","destroyed","modes","default","formatModes","currentBehaves","setMode","setBehaviors","behave","behaviors","behaves","BehaviorInstance","mergeBehaviors","modeBehaviors","filterBehaviors","current","emit","delegate","remove","getMode","manipulateBehaviors","isAdd","currentMode","updateBehavior","newCfg","behaviorSet","length_2","length_1","destroy","_super","G6GraphEvent","canvasX","canvasY","detail","uniqueId","random","Date","now","parseInt","clientX","clientY","currentTarget","bubbles","isViewportChanged","ORIGIN_MATRIX","input","calculationItemsBBox","items","minx","maxx","miny","maxy","floor","ceil","processParallelEdges","offsetDiff","multiEdgeType","singleEdgeType","loopEdgeType","len","cod","loopPosition","edgeMap","tags","reverses","sourceTarget","sedge","src","dst","arcEdges","curveOffset","ViewController","getViewCenter","getFormatPadding","fitCenter","resetMatrix","viewCenter","groupCenter","fitView","zoom","focusPoint","animate","animateCfg","modelCenter","getPointByCanvas","viewportMatrix","dx_1","dy_1","lastX_1","lastY_1","newX_1","newY_1","getPointByClient","canvasPoint","getClientByPoint","canvas","getCanvasByPoint","focus","getType","sourceMatrix","getSource","targetMatrix","getTarget","changeSize","plugin","minZoom","_typeof","looseJSONParse","safeParse","str","JSON","parse","trim","firstAttempt","tail","arr","objectStack","syntaxStack","isLastPair","syntaxes","some","syntax","temp","nowChar","isInString","isLastTranslate","isInObject","isInArray","isWaitingValue","tempArr","generateTarget","lastOffset","defaultBbox","_b","attrs","marginTop","chilrenBBox","shapeHeight","shapeWidth","marginLeft","createNodeFromXML","gen","structures","compileXML","xml","tmp","endsWith","join","xmlParser","document","createElement","innerHTML","parseXML","getAttributeNames","tagName","toLowerCase","innerText","reduce","charAt","toUpperCase","getAttribute","keyshape","draw","resultTarget","renderTarget","rest","shape","addShape","origin","update","container","getContainer","newTarget","diffResult","compareTwoTarget","nowTarget","formerTarget","_c","_d","action","formerChilren","nowChilren","formerKeys","nowKeys","filter","delShape","targetShape","removeChild","updateTarget","originAttr","getOriginStyle","attr","getAnchorPoints","ucfirst","ShapeFactoryBase","defaultShapeType","className","getShape","afterDraw","baseUpdate","afterUpdate","setState","getControlPoints","ShapeFramework","options","drawShape","defaultAnchorPoints","Shape","registerFactory","factoryType","factoryBase","shapeFactory","getFactory","registerNode","shapeType","nodeDefinition","extendShapeType","shapeObj","Node","autoNodeDefinition","jsx","extendShape","registerEdge","edgeDefinition","Edge","registerCombo","comboDefinition","Combo","ItemBase","_cfg","defaultCfg","model","visible","locked","keyShape","states","init","stateStyles","styles","calculateBBox","calculateCanvasBBox","drawInner","clear","changeVisibility","updatePosition","getShapeCfg","setOriginStyle","restoreStates","self","keyShapeName","styles_1","currentStatesStyle_1","getCurrentStatesStyle","shapeAttrs","shapeStateStyle_1","getShapeStyleByName","shapeAttrs_1","keyShapeStateStyles_1","path","originStyles_1","keyShapeStyle","shapeName","state","clearCache","beforeDraw","currentShape","styles_2","newModel","getStateStyle","getStates","stateName","filterStateName","newStates","filterStates","clearStates","originStates","getModel","getID","isItem","hasState","refresh","updateShape","isOnlyMove","onlyMove","oriVisible","cfgVisible","originPosition","toFront","toBack","show","hide","enableCapture","enable","stopAnimate","END_MAP","linkCenter","setEnd","pointName","itemName","preItem","removeEdge","addEdge","getLinkPoint","anchorName","prePoint","getPrePoint","anchorIndex","getLinkPointByAnchor","oppositeName","getEndPoint","getControlPointsByCenter","sourcePoint","targetPoint","getEndCenter","setSource","setTarget","out","sourceItem","targetItem","getNearestPoint","curPoint","nearestPoint","dis","getEdges","getInEdges","getOutEdges","getNeighbors","intersectPoint","linkPoint","bbox_1","shapeCfg","pointArr","lock","unlock","hasLocked","existX","existY","hypot","cacheSize","cacheBBox","oriX","oriY","getChildren","getNodes","getCombos","addChild","addNode","addCombo","removeNode","removeCombo","ItemController","addItem","vType","upperType","defaultModel","mapper","mappedModel_1","isComboEdge","addGroup","comboGroup","setZIndex","comboModel_1","collapsed","setTimeout","collapseCombo","updateItem","mappedModel","edges_1","updateCombo","updateComboEdges","combEdges","edgeSF","edgeCfg","edgeGroup","hideItem","expandCombo","showItem","removeItem","itemModel","vitems","vindex","itemId","comboTrees","brothers_1","ctree","bidx","comboInTree_1","found_2","setItemState","enabled","autoPaint","priorityState","currentItem","clearItemStates","refreshItem","addCombos","comboModels","comboModel","sort","changeItemVisibility","id_1","children_1","found_3","timer","StateController","cachedStates","disabled","checkCache","cache","cacheState","updateState","enabledStates","disabledStates","clearTimeout","updateGraphStates","updateStates","map_1","substitute","replace","match","res","spliePath","unshift","tangent","perpendicular","pointsToPolygon","pathToPoints","seg","getClosedSpline","second","lastSecond","closedPath","x0","y0","cp1x","cp1y","cp2x","cp2y","unitNormal","nLength","vecFrom","roundedHull","polyPoints","roundedHull1","offsetVector","invOffsetVector","add","roundedHull2","segments","segmentIndex","arcData","segment","pathFragment","paddedHull","pointCount","extensionVec","extension0","extension1","tangentHalfLength","controlDelta","invControlDelta","control0","control1","control3","smoothHull2","hullPoints","pNext","priorIndex","cross","genConvexHull","lower","upper","defaultOps","maxRoutingIterations","maxMarchingIterations","pixelGroupSize","edgeR0","edgeR1","nodeR0","nodeR1","morphBuffer","threshold","skip","nodeInfluenceFactor","edgeInfluenceFactor","negativeNodeInfluenceFactor","MarchingSquares","contour","potentialArea","marched","getVal","cells","getState","squareVal","doMarch","xPos","yPos","prevX","prevY","findIndex","march","closestItem","distance","getRoute","nonMembers","visited","optimalNeighbor","closestNeighbour","minCost","neighbourItem","itemP","neighbourItemP","directLine","numberObstacles","_item","checkedLines","finalRoute","line1","line2","mergeLine","mergeLines","linesToCheck","hasIntersection","iterations","pointExists","flag","isPointInNonMembers","_nonMembers","_nonMembers_1","itemContour","_loop_1","intersections_1","testReroute","isFirst","tempMorphBuffer","virtualNode","rerouteLine","exist","pointInside","members","centroid","virtualEdges","scaleWidth","scaleHeight","activeRegion","NEGATIVE_INFINITY","bboxes","bboxes_1","getActiveRregion","Float32Array","hull","fillPotentialArea","marchedPath","round","members_1","isContourValid","memberInfluenceFactor","nonMemberInfluenceFactor","pos2GridIx","gridIx","gridIx2Pos","nodeInfA","edgeInfA","getAffectedRegion","thresholdR","addItemInfluence","influenceFactor","startX","startY","endX","endY","tempX","tempY","distanceSq","dr","minDistanceSq","mdr","addEdgeInfluence","buffer","wrapNormal","topIntersect","leftIntersect","bottomIntersect","rightIntersect","cornerPos","topLeft","topRight","bottomLeft","bottomRight","totalArea","calcHalfArea","intersect1","intersect2","Hull","setPadding","setType","calcPath","render","opacity","nodeSize","bubbleCfg","addMember","updateData","addNonMember","removeMember","removeNonMember","updateStyle","contain","nodeItem","shapePoints","shapeBBox","AbstractGraph","animating","enabledStack","undoStack","maxStep","redoStack","initCanvas","viewController","modeController","itemController","stateController","initLayoutController","initEventController","initGroups","initPlugins","onTick","nodeGroup","delegateGroup","renderer","plugins","fitViewPadding","maxZoom","groupByTypes","vedges","itemMap","onFrame","duration","easing","callback","tooltips","getGroup","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getWidth","getHeight","nodeFn","edgeFn","comboFn","findAll","findAllByState","moveTo","addBehaviors","removeBehaviors","zoomTo","toRatio","getZoom","focusItem","isAnimate","curAniamteCfg","paint","getGraphCenterPoint","getViewPortCenterPoint","stack","before","after","pushStack","setAutoPaint","auto","deletedModel","updateComboTree","newComboTrees","sortCombo","currentComboSorted","itemMap_1","foundParent_1","newCombo","parentCombo","itemMap_2","foundParent_2","foundNode_1","cloneNode","sortCombos","addedModel","UnupdateModel","afterModel","clearStack","layoutController","layout","read","diffItems","models","changeData","save","removeHulls","localRefresh","combosData","comboItems","getLayoutType","positionsAnimate","createCombo","comboConfig","elementId","cItem","uncombo","comboItem","treeToBeUncombo","parentItem","childModel","updateCombos","uItem","itemSubTree_1","valid_1","subTree","beforeData","afterData","vedge","getComboChildren","toNodes","isAnimating","originAttrs","refreshPositions","updatedNodes","changed","sourceModel","targetModel","getCurrentMode","avoidEmit","groups","updateLayout","oriLayoutCfg","layoutCfg","isLayoutTypeSame","gpuEnabled","updateLayoutCfg","changeLayout","destroyLayout","workerEnabled","layoutMethod","relayout","cnodes","ccombos","found","edgeWeightMap","addedVEdges","isVEdge","edgeModel","targetId","sourceId","vedgeModel","vedgeId","collapseExpandCombo","parentModel","depthMap","dataDepthMap","cTree","edgeItem","sourceDepth","targetDepth","getNodeDegree","nodeDegrees","inDegree","outDegree","degree","getUndoStack","getRedoStack","getStackData","toArray","stackType","stackData","currentAdjMatrix","getShortestPathMatrix","currentShourtestPathMatrix","eventName","once","createHull","hullMap","getHulls","getHullById","hullId","removeHull","hullInstance","hulls","timestamp","SHAPE_DEFAULT_ATTRS","shadowOffsetX","shadowOffsetY","SHAPES_DEFAULT_ATTRS","startArrow","endArrow","shapeBase","getCustomConfig","getOptions","labelCfg","fontFamily","window","getComputedStyle","getPropertyValue","descriptionCfg","drawLabel","labelStyle","getLabelStyle","draggable","labelBBox","labelMatrix","rotateCenter","background","drawLabelBg","labelBgClassname","defaultLabelCfg","getLabelBgStyleByPosition","getLabelStyleByPosition","calculateStyle","attrName","defaultStyle","getShapeStyle","updateShapeStyle","updateLabel","shapeStyle","subShape","labelClassName","labelBg","currentLabelCfg","cfgStyle","cfgBgStyle","rotateMatrix","calculateBgStyle","labelBgStyle","bgRotateMatrix","shapeStateStyle","itemStateStyle","keptAttrs","_loop_2","enableStatesStyle","originStyle_1","keyShapeName_1","keyShapeStyles_1","filtetDisableStatesStyle","_loop_3","subShape_1","subShapeStyles_1","value_1","value_2","value_3","enableStyle","originstyles","keyShapeSetted","_loop_4","originKey","_e","value_4","modelStateStyle","singleNode","labelPosition","getSize","backgroundStyle","backgroundWidth","backgroundHeight","updateLinkPoints","currentLinkPoints","defaultLinkPoints","markLeft","markRight","markTop","markBottom","markFill","markStroke","borderWidth","markSize","isAnchorPoint","hasIcon","updateIcon","icon","iconShape","iconConfig","labelShape","singleNodeDef","singleEdge","labelAutoRotate","getPath","strokeStyle","getPathPoints","currentAttr","previousStyle","routeCfg","radius","pointPercent","autoRotate","offsetX","offsetY","offsetStyle","_getTextAlign","revertAlign","defaultFontFamily","rotateAtStart","singleEdgeDef","arcPoint","midPoint","edgeAngle","curvePosition","minCurveOffset","yDist","xDist","singleCombo","singleComboDef","fixSize","itemCacheSize","leftDis","topDis","fixCollapseSize","img","clipCfg","drawClip","clip","setClip","rectX","rectY","shapeClassName","G6Event","triangle","begin","vee","diamond","triangleRect","tWidth","tLength","rWidth","rLength","gap","rectBegin","collapse","expand","upTriangle","l1","l2","downTriangle","defaultSubjectColors","mat3","LayoutController","layoutType","layoutMethods","initLayout","getLayoutCfgType","pipes","isArray","pipe","every","refreshLayout","destoryLayoutMethods","setDataFromGraph","hiddenNodes","hiddenEdges","comboEdges","nodeItems","edgeItems","nodeLength","edgeLength","comboLength","hiddenCombos","reLayoutMethod","reslove","onLayoutEnd","ticking","forceSimulation","stop","execute","isCustomLayout","reloadData","initPositions","start","currentCfg","onAllLayoutEnd","catch","filterLayoutData","nodesFilter","edegsFilter","edgesFilter","nodesMap_1","acc","cur","getLayoutBBox","graphGroupNodes","layoutOrder","layoutNodes","values","groupNodes","layoutAnimate","moveToZero","meanCenter","horiNum","horiGap","vertiGap","isFinite","beginX","beginY","allHavePos","initEvents","BaseGlobal","uniq","toString","num","maxData","requestAnimationFrame","cancelAnimationFrame","memoized","superObj","func","EPSILON","ARRAY_TYPE","RANDOM","glMatrix","fromMat4","clone","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","identity","transpose","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","subtract","multiplyScalar","multiplyScalarAndAdd","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","sub","divide","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","ax","ay","az","bx","by","bz","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","mag","cosine","acos","zero","div","sqrDist","sqrLen","stride","arg","PROPS_CLIENT_XY","PROPS_XY","DIRECTION_ALL","DIRECTION_VERTICAL","DIRECTION_HORIZONTAL","DIRECTION_DOWN","DIRECTION_UP","DIRECTION_RIGHT","DIRECTION_LEFT","DIRECTION_NONE","INPUT_CANCEL","INPUT_END","INPUT_MOVE","INPUT_START","COMPUTE_INTERVAL","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","uiContainerClassName","mainStroke","mainFill","activeFill","activeStroke","selectedFill","selectedStroke","highlightFill","highlightStroke","inactiveFill","inactiveStroke","disableFill","disableStroke","edgeMainStroke","edgeActiveStroke","edgeSelectedStroke","edgeHighlightStroke","edgeInactiveStroke","edgeDisableStroke","comboMainFill","comboMainStroke","comboActiveStroke","comboActiveFill","comboSelectedStroke","comboSelectedFill","comboHighlightStroke","comboHighlightFill","comboInactiveStroke","comboInactiveFill","comboDisableStroke","comboDisableFill","textWaterMarkerConfig","compatible","lineHeight","baseline","imageWaterMarkerConfig","image","waterMarkerImage","setExtraFunction","clearAnimationFrame","STATE_FAILED","STATE_CANCELLED","STATE_RECOGNIZED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","STATE_POSSIBLE","graphData","defaultComparator","LinkedListNode","LinkedList","comparator","head","prepend","newNode","append","delete","deleteNode","currentNode","deleteTail","deletedTail","deleteHead","deletedHead","fromArray","prevNode","nextNode","Queue","linkedList","isEmpty","peek","enqueue","dequeue","removeHead","nodeId","currentEdges","getEdgesByNodeId","substr","breadthFirstSearch","startNodeId","originalCallbacks","callbacks","seen","initiatedCallback","stubCallback","allowTraversalCallback","allowTraversal","enter","leave","initCallbacks","nodeQueue","previousNode","previous","detectStrongConnectComponents","nodeStack","inStack","indices","lowLink","allComponents","getComponent","neighbors","targetNodeID","component","tmpNode","nodes_1","getConnectedComponents","neighbor","detectConnectedComponents","getInDegree","getOutDegree","depthFirstSearch","depthFirstSearchRecursive","detectAllUndirectedCycle","include","allCycles","components_1","rootId","used","Set","curNode","curNodeId","neighborId","has","cycleValid","cyclePath","cycle","detectAllDirectedCycle","blocked","idx2Node","node2Idx","circuit","adjList","closed","thisNode","unblock","getMinComponentAdj","components","minCompIdx","minIdx","comp","nodeIdx_1","nodeIdx","subgraphNodes","sccs","scc","startNode","detectAllCycles","detectDirectedCycle","dfsParentMap","unvisitedSet","visitingSet","visitedSet","currentCycleNode","previousCycleNode","dfs","dijkstra","weightPropertyName","marks","prevs","nodeNum","minNode","minDis","minVertex","minNodeId","getOutEdgesNodeId","edgeTarget","edgeSource","weight","paths","findAllPaths","allPath","foundPaths","prevPaths","prevPaths_1","prePath","findShortestPath","end","findAllPath","isVisited","shift","adjacentMatrix","labelPropagation","maxIteration","clusters","cid","clusterId","idx","ks","iid","entry","jid","iter","neighborClusters","neighborWeight","neighborClusterId","maxWeight","bestClusterIds","selfClusterIdx","selfCluster","nodeInSelfClusterIdx","randomIdx","bestCluster","cluster","clusterEdges","clusterEdgeMap","sourceClusterId","targetClusterId","newEdgeId","newEdge","clustersArray","getModularity","modularity","clusteri","louvain","totalModularity","previousModularity","sumTot","bestIncrease","commonParam","kiin","scNode","scNodeIdx","removeModurarity","nodeNeighborIds","neighborNodeId","neighborCluster","clusterNodes","neighborClusterKiin","cNode","cNodeIdx","increase","previousClusterId_1","neighborClusterSumTot_1","selfClusterSumTot_1","newClusterIdMap","clusterIdx","newId","UnionFind","items_1","union","rootA","rootB","connected","defaultCompare","MinBinaryHeap","compareFn","list","getLeft","getRight","getParent","delMin","moveDown","insert","moveUp","primMST","selectedEdges","currNode","edgeQueue","currEdge","kruskalMST","weightEdges","disjointSet","curEdge","minimumSpanningTree","algo","prim","kruskal","pageRank","epsilon","linkProb","currentRank","leakedRank","maxIterations","nodesCount","curRanks","prevRanks","nodeDegree","Graph","edgeIdAutoIncrease","nodeLabelMap","edgeLabelMap","counter","getNodeNum","rEdge","DFSedge","fromNode","toNode","fromNodeLabel","toNodeLabel","nodeEdgeNodeLabel","nodeLabel1","nodeLabel2","equalTo","other","formNode","notEqualTo","DFScode","rmpath","dfsEdgeList","aLength","pushBack","toGraph","graphId","dfsEdge","fromNodeId","toNodeId","buildRmpath","oldFrom","fromNodeIdx","toNodeIdx","History","pdfs","his","nodesUsed","edgesUsed","preNode","hasNode","hasEdge","GSpan","graphs","minSupport","minNodeNum","maxNodeNum","_f","_g","verbose","dfsCode","support","frequentSize1Subgraphs","frequentSubgraphs","reportDF","findForwardRootEdges","findBackwardEdge","edge1","edge2","history","edge2ToEdges","findForwardPureEdges","rightmostEdge","minNodeLabel","rightmostEdgeToId","findForwardRmpathEdges","newToNodeLabel","getSupport","projected","graphMap","pro","findMinLabel","minLabel","isMin","log","dfsCodeMin","otherNode","projectIsMin","maxToC","backwardRoot","newTo","backwardEdge","minBackwardEdgeLabel","idx_1","forwardRoot","newFrom","forwardPureEdges","pathLength","forwardRmpathEdges","forwardMinEdgeNodeLabel","report","subGraphMining","generate1EdgeFrequentSubGraphs","nodeLabelCounter","nodeEdgeNodeCounter","nodeLableCounted","nodeEdgeNodeLabelCounted","graphNodeKey","graphKey","graphNodeEdgeNodeKey","nodeEdgeNodeKey","run","gSpan","params","nodeLabelProp","edgeLabelProp","formattedGraphs","fGraph","sourceIdx","targetIdx","formatGraphs","calculator","toGraphDatas","findKNeighborUnits","spm","units","findKNeighborUnit","unitNodeIdxs","labelCountMap","dists","nodeIdxs","neighborNum","nodeLabelCountMap","getIntersectNeighborInducedGraph","nodePairMap","neighborUnits","cachedInducedGraphMap","pair","startUnitNodeIds","endUnitNodeIds","endSet","intersect","intersectIdMap","intersectLength","getMatchedCount","structure","sourceLabel","targetLabel","strNodeLabel1","strNodeLabel2","strEdgeLabel","getNodeMaps","getEdgeMaps","getSpmMap","iId","jId","GADDI","patternSpm","spmMap","patternSpmMap","patternNodeMap","patternNodeLabelMap","patternEdgeLabelMap","kNeighborUnits","patternKNeighborUnits","nodePairsMap","maxNodePairNum","nodePairNumEachNode","foundNodePairCount","unit","nodePairForICount","outerLoopCount","oidx","innerLoopCount","findNodePairsRandomly","intGMap","freStructures","structureNum","matchedCountMap","subStructureCount","maxOffset","representClusterType","countMapI","sortedGraphKeys","totalCount","aveCount","aveIntraDist","aveCounts","graphsInCluster","aveIntraPerCluster","graphsNum","graphKey1","graph1Count","graphKey2","aveInterDist","aveCount1","aveCount2","structureCountMap","findRepresentStructure","dsG","ndsDist","beginPNode","candidates","minPatternNodeLabelDegreeMap","patternIntGraphMap","patternNDSDist","patternNDSDistMap","patternSpDist","label2","maxDist","patternNodesWithLabel2","patternNodePairMap","nodeWithLabel2","currentPatternNDSDistArray","patternIntGraph","graphNeighborUnit","graphNeighborUnitCountMap","patternLabel2Num","prune2Invalid","cNodePairMap","neighborNode","currentNDSDistArray","intGraph","prune3Invalid","candidateGraphs","candidate","neighborNodes","unmatched","_loop_5","neighborLabel","distToCandidate","ndsToCandidate","node1","node2","spDist","cachedNDSMap","cachedInterInducedGraph","interInducedGraph","pairMap","getNDSDist","patternKey","minPatternNodeLabelDegree","patternNodeWithLabel","patternNodeDegree","state_2","undirectedLengthsToBeginPNode","undirectedLengthsToBeginPNodeLabelMap","pLabel","candidateGraph","candidateNodeLabelCountMap","candidateNodeMap","cNodeLabel","candidateEdges","edgeLabelCountMap","pattenrEdgeLabelNum","prunedByEdgeLabel","label_1","candidateEdgeNum","candidateGraphInvalid","_loop_6","patternEdgesWithLabel","edgeMatched","patternEdge","patternSource","patternTarget","lengthsToCandidate","targetNodeLabel","nLabel","degreeChanged","loopCount","cgNode","cedge","currentLength","cg1","cg1EdgeMap","_loop_7","cg2","cg2EdgeMap","same","Stack","configurable","isMaxStack","detectCycle","connectedComponent","TYPE_FUNCTION","_hammer","_interopRequireDefault","require","_assign","_inputConsts","_recognizerConsts","_manager","_inputConstructor","_touchactionConstructor","_touch","_pointerevent","_recognizerConstructor","_attribute","_tap","_pan","_swipe","_pinch","_rotate","_press","_addEventListeners","_removeEventListeners","_each","_merge","_extend","_inherit","_bindFn","_toArray","_uniqueArray","_splitStr","_inArray","_boolOrFn","_hasParent","_default","Manager","Input","TouchAction","TouchInput","PointerEventInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","each","merge","extend","inherit","bindFn","inArray","uniqueArray","splitStr","boolOrFn","hasParent","addEventListeners","removeEventListeners","TOUCH_ACTION_MAP","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_PAN_X","TOUCH_ACTION_NONE","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","_getTouchactionProps","proccessToFunc","defaultV","buildTextureData","dataArray","nodeDict","mapIdPos","maxEdgePerVetex","dests","dest","buildTextureDataWithOneEdgeAttr","buildTextureDataWithTwoEdgeAttr","attrs1","attrs2","attributesToTextureData","attributeNames","attributeNum","attributteStringMap","arrayToTextureData","valueArrays","itemNum","valueArray","radialLayout","rScale","radScale","avgRad","radDiff","radial","G6Util","catmullRom2Bezier","crp","context","transformMat2","transformMat2d","sinC","cosC","TABLE","modifyCSS","dom","colorString","convert","_slice","skippedModels","hashedModelKeys","labels","limiters","Color","channels","valpha","newArr","zeroArray","alpha","hashedKeys","stringify","limit","freeze","getset","channel","modifier","maxfn","assertArray","string","toJSON","places","rgb","args","percentString","unitArray","unitObject","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","keyword","hex","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","lighten","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","mix","mixinColor","color1","w1","newAlpha","raw","optionPointers","pointers","eventType","isRecognized","isValid","attrTest","defaults","_uniqueId","_ifUndefined","_invokeArrayArg","_getRecognizerByNameIfManager","_stateStr","manager","simultaneous","requireFail","touchAction","otherRecognizer","recognizeWith","requireFailure","additionalEvent","canEmit","inputData","inputDataClone","reset","process","tryEmit","findByKey","RandomLayout","output","nextKey","_utilsConsts","Base","offScreenCtx","getOffScreenContext","Container","Element","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","catmullRomToBezier","iLen","ellipsePath","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","ii","jj","kk","l2c","q2c","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","parseFloat","p2s","parsePathArray","base3","p4","bezlen","x3","y3","x4","y4","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","mt","jlen","px2","py2","isPointInsideBBox","rectPath","r1","r2","r0","vb","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","decasteljau","recurse","middlePoints","splitSegment","leftSegments","cmd","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","obj1","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","changes","minPos","diff","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","delegateTarget","delegateObject","defaultPrevented","propagationStopped","fromShape","toShape","propagationPath","originalEvent","timeStamp","preventDefault","stopPropagation","restore","removeFromArray","isBrowser","isParent","isCanvas","isAllowCapture","capture","multiplyMatrix","multiplyVec2","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","checkExistedAttrs","animations","animation","startTime","delay","getDefaultAttrs","initAttrs","initAnimate","zIndex","getDefaultMatrix","onCanvasChange","changeType","isGroup","getCanvas","setAttr","afterAttrsChange","isClipped","getClip","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","getTotalMatrix","totalMatrix","currentMatrix","parentMatrix","applyMatrix","applyToMatrix","invertFromMatrix","invertMatrix","clipShape","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isAnimatePaused","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","formatToAttrs","getTime","pathFormatted","addAnimator","toEnd","pauseAnimate","pauseTime","_paused","_pauseTime","resumeAnimate","emitDelegation","eventObj","relativeShape","name_1","subName","emitDelegateEvent","this_1","translateX","translateY","newMatrix","targetX","targetY","ratioX","ratioY","radian","rotateAtPoint","SHAPE_MAP","box","_applyChildrenMarix","preTotalMatrix","ShapeBase","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","preParent","setCanvas","setTimeline","_applyElementMatrix","getFirst","getChildByIndex","getLast","getCount","findByClassName","findAllByName","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","format","exec","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v1","v2","v3","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","colors","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","number","one","date","numberArray","valueOf","IDENTITY_MATRIX","elapsed","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","_update","Timeline","animators","removeAnimator","stopAllAnimations","animator","EVENTS","emitTargetEvent","bubbleEvent","isOverEvent","EventController","draggingShape","dragging","mousedownShape","mousedownPoint","_eventCallback","_triggerEvent","_onDocumentMove","pointInfo","_getPointInfo","_emitEvent","_onDocumentMouseUp","_afterDrag","_bindEvents","el","addEventListener","_clearEvents","removeEventListener","_getEventObj","_getShape","clientPoint","getClientByEvent","getPointByEvent","method","leaveCanvas","preShape","cursor","_onmousedown","button","mousedownTimeStamp","_emitMouseoverEvents","_emitDragoverEvents","isCanvasEmit","_onmouseup","_ondragover","_onmousemove","timeWindow","browser","isFirefox","Canvas","initContainer","initDom","initTimeline","getElementById","createDom","appendChild","setDOMSize","eventController","getRenderer","getCursor","setCursor","layerX","layerY","clientInfo","touches","changedTouches","getBoundingClientRect","removeDom","parentNode","clearEvents","AbstractGroup","isEntityGroup","AbstractShape","_isInBBox","clearCacheBBox","canvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","isInShape","isOnlyHitBox","startArrowShape","endArrowShape","inBBox","Map","register","getBBoxByArray","getBBoxRange","piMod","pointAt","pointDistance","pointToLine","tangentAngle","tCallback","segNum","increaseRate","_t","d1","prev","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","interpolationAt","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","xAt","xRotation","yAt","startAngle","endAngle","xDim","xs","xAngle","yDim","ys","yAngle","lengthOfSegment","mergeBBox","mergeArrowBBox","getTextHeight","lineCount","getLineSpaceing","getTextWidth","font","getContext","textArr","subText","measureWidth","measureText","assembleFont","fontStyle","fontVariant","getExtraFromSegmentWithAngle","currentPoint","nextPoint","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","segmentsWithAngle","command","arcParams","getPathBox","inBox","intersectRect","point1","point2","regexLG","regexRG","regexPR","regexColorStop","addStop","steps","gradient","itemArr","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","onload","createPattern","Image","crossOrigin","complete","parsePattern","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","_addDefaultArrow","isStart","arrowShape","isArrowShape","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","region","skipDraw","checkRefresh","refreshElements","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","cacheCanvasBBox","isInView","drawPath","arcParamsCache","startMovePoint","beginPath","lineTo","quadraticCurveTo","bezierCurveTo","scaleX","scaleY","arc","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","_applyClip","createPath","_afterDraw","viewRange","getViewRange","allowDraw","getHitLineWidth","bboxMethod","halfLineWidth","isFill","isStroke","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","HTMLElement","nodeName","miniCanvas","ImageShape","_setImage","_afterLoading","isMini","isMiniNative","image_1","createImage","sx","sy","swidth","sheight","drawImage","inLine","halfWidth","setArrow","startArrowDistance","endArrowDistance","getTotalLength","Symbols","square","diffY","Marker","_resetParamsCache","_getR","_getPath","symbol","hasArc","extractPolygons","polygons","polylines","isPointInStroke","isInPolygons","Path","_setPathArr","getSegments","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","startTangent","endTangent","inPolyline","isClose","Polygon","PolyLine","_resetCache","Rect","inRect","r3","r4","Text","_assembleFont","_setText","startsWith","_getSpaceingY","_drawTextArr","subY","spaceingY","fillText","strokeText","_drawText","getRefXY","preTest","panstartShape","panstartPoint","handleEvent","hammerRuntime","_initEvent","inputClass","taps","srcEvent","extra","_onpanend","_onpanstart","_onpanmove","_emitMobileEvent","panstartTimeStamp","MiniCanvasProxy","prop","setMiniCanvas","ctx","Proxy","registerEventCallback","getPixelRatio","pixelRatio","devicePixelRatio","_clearFrame","clearRect","curShape","_getRefreshRegion","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","_startDraw","_drawRegion","_drawAll","clearChanged","cloneEvent","extendEvents","canvasHandler","getItemRoot","onCanvasEvents","evt","handleTouchMove","itemShape","onExtendEvents","emitCustomEvent","LayoutPipesAdjustNames","updateLayoutMethod","success","layoutEndFormatted","adjust","adjustPipesBox","execLayoutMethod","order","tick","enableTick","layoutData","addLayoutOrder","preventOverlap","preNodes","ele","registerGraph","graphName","GraphFunction","G6","emitEvent","canvasDom","canvasCfg","initPlugin","toDataURL","backgroundColor","dataURL","svgDocType","implementation","createDocumentType","svgDoc","createDocument","replaceChild","documentElement","svgData","XMLSerializer","serializeToString","encodeURIComponent","imageData","compositeOperation","getImageData","globalCompositeOperation","fillStyle","fillRect","putImageData","toFullDataURL","imageConfig","vContainerDOM","vHeight","vWidth","vCanvas","quickHit","vGroup","vCanvasEl","downloadFullImage","link","fileName","dataURLToImage","createEvent","initEvent","dispatchEvent","downloadImage","Blob","URL","mime","bstr","atob","u8arr","Uint8Array","charCodeAt","navigator","msSaveBlob","download","href","createObjectURL","addPlugin","removePlugin","destroyPlugin","setImageWaterMarker","imgURL","config","waterMarkerConfig","display","cssText","querySelector","setTextWaterMarker","texts","tooltipDOMs","parentElement","uiGroup","bound01","isOnePointZero","isPercent","isPercentage","clamp01","boundAlpha","convertToPercentage","pad2","rgbToHsl","hue2rgb","rgbToHsv","rgbToHex","allow3Char","convertDecimalToHex","convertHexToDecimal","parseIntFromHex","names","inputToRGB","ok","matchers","hsv","hsva","hex8","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","mod","hsvToRgb","hslToRgb","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","Boolean","TinyColor","opts","numberInputToObject","originalInput","roundA","gradientType","getBrightness","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","getAlpha","setAlpha","toHsv","toHsvString","toHsl","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","toPercentageRgbString","rnd","toName","entries","formatSet","formattedString","hasAlpha","toNumber","amount","brighten","tint","shade","greyscale","spin","rgb1","rgb2","analogous","results","slices","part","ret","complement","monochromatic","modification","splitcomplement","onBackground","fg","bg","triad","polyad","tetrad","increment","darkColorMap","getHue","light","getSaturation","saturation","getValue","generate","patterns","pColor","_hsv","_colorString","theme","_ref","presetPrimaryColors","volcano","geekblue","presetPalettes","presetDarkPalettes","primary","mixColor","backColor","frontColor","frontAlpha","bc","fc","getColorsWithSubjectColor","disableColor","subjectColor005","subjectColor01","subjectColor02","subjectColor04","disableColor002","disableColor005","disableColor01","disableColor02","disableColor03","paletteFromSubject","subjectHex","subjectIdx","deeperSubject","getColorsWithDefaultTheme","subjectColor03","subjectColor06","subjectColor08","disableColor025","disableColor04","disableColor05","getColorsWithDarkTheme","getColorSetsBySubjectColors","subjectColors","sets","sColor","_touchactionConsts","_directionStr","PanRecognizer","pX","pY","actions","hasMoved","deltaX","deltaY","directionTest","eventHandler","addManagerListeners","removeManagerListeners","Layout","util_1","offscreen_1","isString","isNil","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","noop","nextTick","title","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","Hammer","recognizers","preset","domEvents","val1","val2","RotateRecognizer","rotation","PinchRecognizer","inOut","SwipeRecognizer","getTouchAction","velocity","overallVelocity","overallVelocityX","overallVelocityY","offsetDirection","maxPointers","_setTimeoutContext","_getDistance","TapRecognizer","pTime","pCenter","_timer","_input","validPointers","validMovement","validTouchTime","deltaTime","failTimeout","validInterval","validMultiTap","posThreshold","hasRequireFailures","tapCount","PressRecognizer","validTime","_createInputInstance","handlers","filters","session","recognizer","force","stopped","preventDefaults","curRecognizer","canRecognizeWith","recognize","existing","_inStr","_cleanTouchActions","compute","prevented","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","pointersLength","TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_TARGET_EVENTS","evTarget","targetIds","getTouches","changedPointers","pointerType","targetTouches","allTouches","identifier","changedTargetTouches","message","deprecationMessage","cssKeywords","reverseKeywords","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","delta","rdif","gdif","bdif","diffc","reversed","currentClosestKeyword","currentClosestDistance","smin","lmin","hi","sl","vmin","wh","bl","hr","ansi","mult","rem","substring","char","integer","mg","pure","quadratic","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","product","matchUserAgent","matched","regex","uaMatch","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","F6","Util","Layouts","registerLayout","unRegisterLayout","Global","Algorithm","Arrow","registerExtender","touchMap","Type","_inputHandler","pointersLen","changedPointersLen","isFinal","_computeInputData","prevInput","firstInput","_simpleCloneInputData","firstMultiple","offsetCenter","_getCenter","_getAngle","_computeDeltaXy","_getDirection","_getVelocity","_getScale","_getRotation","_computeIntervalInputData","offsetDelta","prevDelta","velocityX","velocityY","lastInterval","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_WINDOW_EVENTS","evEl","evWin","store","pointerEvents","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","_deprecate","properties","childP","baseP","upperFirst","isObject","isFunction","colorNames","swizzle","reverseNames","cs","clamp","hexDouble","hexAlpha","i2","hwba","isArrayish","wrap","Function","getOwnPropertyDescriptor","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","deriveBFS","buildGraph","adjacents","adjacent","wrapConversion","defaultIcon","drawLinkPoints","markR","markStyle","defaultDirection","iconW","iconH","leftPos","rightPos","topPos","bottomPos","existLinkPoint","paddingTop","preRect","logoIcon","stateIcon","preRectShow","preRectStyle","drawLogoIcon","drawStateIcon","logoIconStyle","iconStyle","descriptionStyle","descriptionPaddingTop","description","logoIconShape","currentLogoIconAttr","preRectShape","logoW","logoOffset","stateIconShape","currentStateIconAttr","stateW","stateOffset","stateIconStyle","leftBottom","outerR","defaultInnerR","innerR","markLeftBottom","markRightBottom","donutR","arcR","donutAttrs","donutColorMap","attrNum","attrs_1","totalValue_1","lineWidth_1","arcBegin_1","beginAngle_1","beginAgnle","arcBegin","arcEnd","isBig","getBBoxFromPoint","filterConnectPoints","pointsMap","simplifyPolyline","getExpandedBBox","getExpandedBBoxPoint","anotherPoint","isHorizontal","port","isHorizontalPort","getPointsFromBBox","isPointOutsideBBox","heuristicCostEstimate","ps","pt","_costByPoints","reconstructPath","pathPoints","pointById","cameFrom","currentId","isSegmentsIntersected","v1x","v1y","v2x","v2y","v3x","v3y","v4x","v4y","isSegmentCrossingBBox","pb","pc","pd","getNeighborPoints","getPathWithBorderRadiusByPolyline","borderRadius","pathSegments","isBending","d0","getBorderRadiusPoints","getPolylinePoints","sNode","tNode","sBBox","tBBox","tKeyShapeBBox","tx","ty","sxBBox","txBBox","sPoint","tPoint","lineBBox","getBBoxFromPoints","sMixBBox","tMixBBox","connectPoints","centerPoint","getBBoxXCrossPoints","getBBoxYCrossPoints","getBBoxCrossPointsByPoint","goal","ot","closedSet","openSet","gScore","fScore","lowestFScore","tentativeGScore","maxAllowedDirectionChange","maximumLoops","gridSize","stepX","stepY","0","45","90","distFunc","fallbackRoute","endNode","pos","getDirectionAngle","getAngleDiff","angle1","angle2","directionChange","estimateCost","endPoints","cost","oriPoint","isInside","expandBBox","directions_1","boundLine","insterctP_1","insterctP","getDirectionChange","scaleStartPoint","directionAngle","prevDirectionAngle","scaleEndPoint","currentX","currentY","lastPoint","preId","preX","preY","firstPoint","routerCfg","obstacles","startPoints","firstStep","curCost","neighborCost","costFromStart","remainLoops","penalties","defaultRouteCfg","simple","pathArray_1","polylinePoints","enableOptimize","scalableRange","allowDragOnItem","dragstart","drag","dragend","updateViewport","graphCanvasBBox","onDragStart","targetIsCanvas","shapes","nodeLen","onDragMove","onDragEnd","endDrag","dragbegin","updateEdge","enableDelegate","onlyChangeComboSize","comboActiveState","selectedState","validationCombo","targets","targetCombo","currentNodeId","beforeDragNodes","originPoint","onDrag","updateDelegate","delegateRect","updatePositions","onDropCombo","onDropCanvas","onDropNode","nodeModel","onDragEnter","onDragLeave","calculationGroupPosition","multiple","onClick","selectedNodes","selectedCombos","selectedItems","select","onCanvasClick","firstScale","originScale","sensitivity","optimizeZoom","fixSelectedItems","fixAll","fixLineWidth","fixLabel","fixState","pinchstart","pinchmove","onPinch","currentScale","posA","posB","ALLOW_EVENTS","trigger","onChange","onNodeTap","sourceData","findDataById","err","traverseCombo","ALLOW_KEYS","activeState","inactiveState","resetSelected","setAllItemStates","hasSelected","rEdges","rEdgeLegnth","otherEnd","clearActiveState","clearAllItemStates","currentCombo","currentItemChildCombos","sourceBBox","cmodel","disX","disY","onDrop","endComparison","onNodeDrop","droppedCombo","getParentCombo","comboDropedOn","delegateShape","updateSignleItem","onComboClick","edgeConfig","mousemove","keydown","keyup","cancelCreating","addingEdge","updateEndPoint","currentEdge","cancelEdge","nodeBBox","onKeyDown","code","onKeyUp"],"mappings":"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","file":"f6.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"f6\"] = factory();\n\telse\n\t\troot[\"f6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 243);\n","var isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexport default isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","/**\n * \n * @param  {*} fn \n * @return {Boolean}  \n */\nimport isType from './is-type';\nexport default (function (value) {\n    return isType(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","import isType from './is-type';\nexport default (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        isType(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","export default (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","import isArray from './is-array';\nimport isObject from './is-object';\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (isObject(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexport default each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","var isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexport default isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // \n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","import isArray from './is-array';\n/**\n * @param {Array} arr The array to iterate over.\n * @return {*} Returns the maximum value.\n * @example\n *\n * max([1, 2]);\n * // => 2\n *\n * max([]);\n * // => undefined\n *\n * const data = new Array(1250010).fill(1).map((d,idx) => idx);\n *\n * max(data);\n * // => 1250010\n * // Math.max(...data) will encounter \"Maximum call stack size exceeded\" error\n */\nexport default (function (arr) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    return arr.reduce(function (prev, curr) {\n        return Math.max(prev, curr);\n    }, arr[0]);\n});\n//# sourceMappingURL=max.js.map","import isArray from './is-array';\n/**\n * @param {Array} arr The array to iterate over.\n * @return {*} Returns the minimum value.\n * @example\n *\n * min([1, 2]);\n * // => 1\n *\n * min([]);\n * // => undefined\n *\n * const data = new Array(1250010).fill(1).map((d,idx) => idx);\n *\n * min(data);\n * // => 1250010\n * // Math.min(...data) will encounter \"Maximum call stack size exceeded\" error\n */\nexport default (function (arr) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    return arr.reduce(function (prev, curr) {\n        return Math.min(prev, curr);\n    }, arr[0]);\n});\n//# sourceMappingURL=min.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","import isType from './is-type';\nexport default (function (str) {\n    return isType(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    //  \n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    }\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","/**\n * this,\n * @protected\n * @param  {Object} obj   \n * @param  {String} action \n * @return {Function}        \n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","var PRECISION = 0.00001; // numbers less than this is considered as 0\nexport default function isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","var mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexport default mod;\n//# sourceMappingURL=mod.js.map","var RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexport default toRadian;\n//# sourceMappingURL=to-radian.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","import isNil from './is-nil';\nexport default (function (value) {\n    if (isNil(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","import toString from './to-string';\nvar upperFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexport default upperFirst;\n//# sourceMappingURL=upper-first.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nexport default function mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\n//# sourceMappingURL=mix.js.map","import isArray from './is-array';\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexport default clone;\n//# sourceMappingURL=clone.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo \nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (isString(value) || isString(other)) {\n        return false;\n    }\n    if (isArrayLike(value) || isArrayLike(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (isObjectLike(value) || isObjectLike(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexport default isEqual;\n//# sourceMappingURL=is-equal.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","/**\n * k-v \n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { each } from '@antv/util'; //  Behavior \n\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {};\n  },\n\n  /**\n   * register event handler, behavior will auto bind events\n   * for example:\n   * return {\n   *  click: 'onClick'\n   * }\n   */\n  getEvents: function getEvents() {\n    return {};\n  },\n  updateCfg: function updateCfg(cfg) {\n    Object.assign(this, cfg);\n    return true;\n  },\n  shouldBegin: function shouldBegin() {\n    return true;\n  },\n  shouldUpdate: function shouldUpdate() {\n    return true;\n  },\n  shouldEnd: function shouldEnd() {\n    return true;\n  },\n\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind: function bind(graph) {\n    var events = this.events;\n    this.graph = graph;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', true);\n    }\n\n    each(events, function (handler, event) {\n      graph.on(event, handler);\n    });\n  },\n  unbind: function unbind(graph) {\n    var events = this.events;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', false);\n    }\n\n    each(events, function (handler, event) {\n      graph.off(event, handler);\n    });\n  },\n  get: function get(val) {\n    return this[val];\n  },\n  set: function set(key, val) {\n    this[key] = val;\n    return this;\n  }\n};","import { clone, each, wrapBehavior } from '@antv/util';\nimport behaviorOption from './behaviorOption';\n\nvar Behavior =\n/** @class */\nfunction () {\n  function Behavior() {}\n  /**\n   *  Behavior\n   * @param type Behavior \n   * @param behavior Behavior \n   */\n\n\n  Behavior.registerBehavior = function (type, behavior) {\n    if (!behavior) {\n      throw new Error(\"please specify handler for this behavior: \" + type);\n    }\n\n    var prototype = clone(behaviorOption);\n    Object.assign(prototype, behavior); // eslint-disable-next-line func-names\n\n    var base = function base(cfg) {\n      var _this = this;\n\n      Object.assign(this, this.getDefaultCfg(), cfg);\n      var events = this.getEvents();\n      this.events = null;\n      var eventsToBind = {};\n\n      if (events) {\n        each(events, function (handle, event) {\n          eventsToBind[event] = wrapBehavior(_this, handle);\n        });\n        this.events = eventsToBind;\n      }\n    };\n\n    base.prototype = prototype;\n    Behavior.types[type] = base;\n  };\n\n  Behavior.hasBehavior = function (type) {\n    return !!Behavior.types[type];\n  };\n\n  Behavior.getBehavior = function (type) {\n    return Behavior.types[type];\n  }; //  Behavior \n\n\n  Behavior.types = {};\n  return Behavior;\n}();\n\nexport default Behavior;","import Behavior from './behavior';\nexport default Behavior;","import { mat3, vec3, ext, vec2 } from '@antv/matrix-util';\nimport { isArray, each } from '@antv/util';\nvar transform = ext.transform;\n/**\n * \n * @param   {string}       attributeName  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nexport var compare = function compare(attributeName) {\n  return function (m, n) {\n    return m[attributeName] - n[attributeName];\n  };\n};\n/**\n * \n * @param   {number}       value  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nvar isBetween = function isBetween(value, min, max) {\n  return value >= min && value <= max;\n};\n/**\n * \n * @param  {Point}  p0 \n * @param  {Point}  p1 \n * @param  {Point}  p2 \n * @param  {Point}  p3 \n * @return {Point}  \n */\n\n\nexport var getLineIntersect = function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.0001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var invertKross = 1 / kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) * invertKross;\n    var t = (E.x * D0.y - E.y * D0.x) * invertKross;\n    if (!isBetween(s, 0, 1) || !isBetween(t, 0, 1)) return null;\n    return {\n      x: p0.x + s * D0.x,\n      y: p0.y + s * D0.y\n    };\n  }\n\n  return null;\n};\n/**\n * point and rectangular intersection point\n * @param  {IRect} rect  rect\n * @param  {Point} point point\n * @return {PointPoint} rst;\n */\n\nexport var getRectIntersectByPoint = function getRectIntersectByPoint(rect, point) {\n  var x = rect.x,\n      y = rect.y,\n      width = rect.width,\n      height = rect.height;\n  var cx = x + width / 2;\n  var cy = y + height / 2;\n  var points = [];\n  var center = {\n    x: cx,\n    y: cy\n  };\n  points.push({\n    x: x,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y\n  });\n  var rst = null;\n\n  for (var i = 1; i < points.length; i++) {\n    rst = getLineIntersect(points[i - 1], points[i], center, point);\n\n    if (rst) {\n      break;\n    }\n  }\n\n  return rst;\n};\n/**\n * get point and circle inIntersect\n * @param {ICircle} circle x,y,r\n * @param {Point} point  x,y\n * @return {Point} applied point\n */\n\nexport var getCircleIntersectByPoint = function getCircleIntersectByPoint(circle, point) {\n  var cx = circle.x,\n      cy = circle.y,\n      r = circle.r;\n  var x = point.x,\n      y = point.y;\n  var dx = x - cx;\n  var dy = y - cy;\n  var d = Math.sqrt(dx * dx + dy * dy);\n\n  if (d < r) {\n    return null;\n  }\n\n  var signX = Math.sign(dx);\n  var signY = Math.sign(dy);\n  var angle = Math.atan(dy / dx);\n  return {\n    x: cx + Math.abs(r * Math.cos(angle)) * signX,\n    y: cy + Math.abs(r * Math.sin(angle)) * signY\n  };\n};\n/**\n * get point and ellipse inIntersect\n * @param {Object} ellipse  x,y,rx,ry\n * @param {Object} point  x,y\n * @return {object} applied point\n */\n\nexport var getEllipseIntersectByPoint = function getEllipseIntersectByPoint(ellipse, point) {\n  var a = ellipse.rx;\n  var b = ellipse.ry;\n  var cx = ellipse.x;\n  var cy = ellipse.y;\n  var dx = point.x - cx;\n  var dy = point.y - cy; //  x,y  -PI, PI\n\n  var angle = Math.atan2(dy / b, dx / a);\n\n  if (angle < 0) {\n    angle += 2 * Math.PI; //  02PI\n  }\n\n  return {\n    x: cx + a * Math.cos(angle),\n    y: cy + b * Math.sin(angle)\n  };\n};\n/**\n * coordinate matrix transformation\n * @param  {number} point   coordinate\n * @param  {Matrix} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {Point} transformed point\n */\n\nexport var applyMatrix = function applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n * coordinate matrix invert transformation\n * @param  {number} point   coordinate\n * @param  {number} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {object} transformed point\n */\n\nexport var invertMatrix = function invertMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var inversedMatrix = mat3.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], matrix);\n\n  if (!inversedMatrix) {\n    inversedMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var vector = [point.x, point.y, tag];\n  vec3.transformMat3(vector, vector, inversedMatrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n *\n * @param p1 First coordinate\n * @param p2 second coordinate\n * @param p3 three coordinate\n */\n\nexport var getCircleCenterByPoints = function getCircleCenterByPoints(p1, p2, p3) {\n  var a = p1.x - p2.x;\n  var b = p1.y - p2.y;\n  var c = p1.x - p3.x;\n  var d = p1.y - p3.y;\n  var e = (p1.x * p1.x - p2.x * p2.x - p2.y * p2.y + p1.y * p1.y) / 2;\n  var f = (p1.x * p1.x - p3.x * p3.x - p3.y * p3.y + p1.y * p1.y) / 2;\n  var denominator = b * c - a * d;\n  return {\n    x: -(d * e - b * f) / denominator,\n    y: -(a * f - c * e) / denominator\n  };\n};\n/**\n * get distance by two points\n * @param p1 first point\n * @param p2 second point\n */\n\nexport var distance = function distance(p1, p2) {\n  var vx = p1.x - p2.x;\n  var vy = p1.y - p2.y;\n  return Math.sqrt(vx * vx + vy * vy);\n};\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\n\nexport var scaleMatrix = function scaleMatrix(matrix, ratio) {\n  var result = [];\n  matrix.forEach(function (row) {\n    var newRow = [];\n    row.forEach(function (v) {\n      newRow.push(v * ratio);\n    });\n    result.push(newRow);\n  });\n  return result;\n};\n/**\n * Floyd Warshall algorithm for shortest path distances matrix\n * @param  {array} adjMatrix   adjacency matrix\n * @return {array} distances   shortest path distances matrix\n */\n\nexport var floydWarshall = function floydWarshall(adjMatrix) {\n  // initialize\n  var dist = [];\n  var size = adjMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n/**\n * get adjacency matrix\n * @param data graph data\n * @param directed whether it's a directed graph\n */\n\nexport var getAdjMatrix = function getAdjMatrix(data, directed) {\n  var nodes = data.nodes,\n      edges = data.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error('invalid nodes data!');\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (e) {\n      var source = e.source,\n          target = e.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n/**\n * group\n * @param group Group \n * @param vec \n */\n\nexport var translate = function translate(group, vec) {\n  group.translate(vec.x, vec.y);\n};\n/**\n * \n * @param group Group \n * @param point \n */\n\nexport var move = function move(group, point) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var bbox = group.getCanvasBBox();\n  var vx = point.x - bbox.minX;\n  var vy = point.y - bbox.minY;\n  var movedMatrix = transform(matrix, [['t', vx, vy]]);\n  group.setMatrix(movedMatrix);\n};\n/**\n *  group\n * @param group Group \n * @param point x  y \n */\n\nexport var scale = function scale(group, ratio) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var scaleXY = ratio;\n\n  if (!isArray(ratio)) {\n    scaleXY = [ratio, ratio];\n  }\n\n  if (isArray(ratio) && ratio.length === 1) {\n    scaleXY = [ratio[0], ratio[0]];\n  }\n\n  matrix = transform(matrix, [['s', scaleXY[0], scaleXY[1]]]);\n  group.setMatrix(matrix);\n};\n/**\n *\n * @param group Group \n * @param ratio \n */\n\nexport var rotate = function rotate(group, angle) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  matrix = transform(matrix, [['r', angle]]);\n  group.setMatrix(matrix);\n};\nexport var getDegree = function getDegree(n, nodeIdxMap, edges) {\n  var degrees = [];\n\n  for (var i = 0; i < n; i++) {\n    degrees[i] = 0;\n  }\n\n  edges.forEach(function (e) {\n    if (e.source) {\n      degrees[nodeIdxMap[e.source]] += 1;\n    }\n\n    if (e.target) {\n      degrees[nodeIdxMap[e.target]] += 1;\n    }\n  });\n  return degrees;\n}; // Qp1p2\n\nfunction onSegment(p1, p2, q) {\n  if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * P-. Borrow from https://github.com/antvis/util/blob/master/packages/path-util/src/point-in-polygon.ts\n * @param points\n * @param x\n * @param y\n */\n\n\nexport var isPointInPolygon = function isPointInPolygon(points, x, y) {\n  var isHit = false;\n  var n = points.length; // doubleeps\n\n  var tolerance = 1e-6;\n\n  function dcmp(xValue) {\n    if (Math.abs(xValue) < tolerance) {\n      return 0;\n    }\n\n    return xValue < 0 ? -1 : 1;\n  }\n\n  if (n <= 2) {\n    // svg  3 \n    return false;\n  }\n\n  for (var i = 0; i < n; i++) {\n    var p1 = points[i];\n    var p2 = points[(i + 1) % n];\n\n    if (onSegment(p1, p2, [x, y])) {\n      // \n      return true;\n    } // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    //    \n\n\n    if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {\n      isHit = !isHit;\n    }\n  }\n\n  return isHit;\n}; // BBox\n\nexport var intersectBBox = function intersectBBox(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n};\n\nvar lineIntersectPolygon = function lineIntersectPolygon(lines, line) {\n  var isIntersect = false;\n  each(lines, function (l) {\n    if (getLineIntersect(l.from, l.to, line.from, line.to)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n/**\n * polygon\n * borrow from @antv/path-util\n * @param points1 polygon1\n * @param points2 polygon2\n */\n\n\nexport var isPolygonsIntersect = function isPolygonsIntersect(points1, points2) {\n  var getBBox = function getBBox(points) {\n    var xArr = points.map(function (p) {\n      return p[0];\n    });\n    var yArr = points.map(function (p) {\n      return p[1];\n    });\n    return {\n      minX: Math.min.apply(null, xArr),\n      maxX: Math.max.apply(null, xArr),\n      minY: Math.min.apply(null, yArr),\n      maxY: Math.max.apply(null, yArr)\n    };\n  };\n\n  var parseToLines = function parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n\n    for (var i = 0; i < count - 1; i++) {\n      var point = points[i];\n      var next = points[i + 1];\n      lines.push({\n        from: {\n          x: point[0],\n          y: point[1]\n        },\n        to: {\n          x: next[0],\n          y: next[1]\n        }\n      });\n    }\n\n    if (lines.length > 1) {\n      var first = points[0];\n      var last = points[count - 1];\n      lines.push({\n        from: {\n          x: last[0],\n          y: last[1]\n        },\n        to: {\n          x: first[0],\n          y: first[1]\n        }\n      });\n    }\n\n    return lines;\n  }; //  false\n\n\n  if (points1.length < 2 || points2.length < 2) {\n    return false;\n  }\n\n  var bbox1 = getBBox(points1);\n  var bbox2 = getBBox(points2); // \n\n  if (!intersectBBox(bbox1, bbox2)) {\n    return false;\n  }\n\n  var isIn = false; // \n\n  each(points2, function (point) {\n    if (isPointInPolygon(points1, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  each(points1, function (point) {\n    if (isPointInPolygon(points2, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  var lines1 = parseToLines(points1);\n  var lines2 = parseToLines(points2);\n  var isIntersect = false;\n  each(lines2, function (line) {\n    if (lineIntersectPolygon(lines1, line)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n\nvar Line =\n/** @class */\nfunction () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  Line.prototype.getBBox = function () {\n    var minX = Math.min(this.x1, this.x2);\n    var minY = Math.min(this.y1, this.y2);\n    var maxX = Math.max(this.x1, this.x2);\n    var maxY = Math.max(this.y1, this.y2);\n    var res = {\n      x: minX,\n      y: minY,\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n    return res;\n  };\n\n  return Line;\n}();\n\nexport { Line };\nexport var getBBoxBoundLine = function getBBoxBoundLine(bbox, direction) {\n  var bounds = {\n    top: [bbox.minX, bbox.minY, bbox.maxX, bbox.minY],\n    left: [bbox.minX, bbox.minY, bbox.minX, bbox.maxY],\n    bottom: [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY],\n    right: [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY]\n  };\n  return bounds[direction];\n};\n/**\n * \n */\n\nvar fractionAlongLineA = function fractionAlongLineA(la, lb) {\n  var uaT = (lb.x2 - lb.x1) * (la.y1 - lb.y1) - (lb.y2 - lb.y1) * (la.x1 - lb.x1);\n  var ubT = (la.x2 - la.x1) * (la.y1 - lb.y1) - (la.y2 - la.y1) * (la.x1 - lb.x1);\n  var uB = (lb.y2 - lb.y1) * (la.x2 - la.x1) - (lb.x2 - lb.x1) * (la.y2 - la.y1);\n\n  if (uB) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return ua;\n    }\n  }\n\n  return Number.POSITIVE_INFINITY;\n};\n\nexport var itemIntersectByLine = function itemIntersectByLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var countIntersections = 0;\n  var intersections = [];\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    intersections[i] = getLineIntersect({\n      x: line.x1,\n      y: line.y1\n    }, {\n      x: line.x2,\n      y: line.y2\n    }, {\n      x: x1,\n      y: y1\n    }, {\n      x: x2,\n      y: y2\n    });\n\n    if (intersections[i]) {\n      countIntersections += 1;\n    }\n  }\n\n  return [intersections, countIntersections];\n};\nexport var fractionToLine = function fractionToLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var minDistance = Number.POSITIVE_INFINITY;\n  var countIntersections = 0;\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    var testDistance = fractionAlongLineA(line, new Line(x1, y1, x2, y2));\n    testDistance = Math.abs(testDistance - 0.5);\n\n    if (testDistance >= 0 && testDistance <= 1) {\n      countIntersections += 1;\n      minDistance = testDistance < minDistance ? testDistance : minDistance;\n    }\n  }\n\n  if (countIntersections === 0) return -1;\n  return minDistance;\n};\nexport var getPointsCenter = function getPointsCenter(points) {\n  var centerX = 0;\n  var centerY = 0;\n\n  if (points.length > 0) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n      var point = points_1[_i];\n      centerX += point.x;\n      centerY += point.y;\n    }\n\n    centerX /= points.length;\n    centerY /= points.length;\n  }\n\n  return {\n    x: centerX,\n    y: centerY\n  };\n};\nexport var squareDist = function squareDist(a, b) {\n  return Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2);\n};\nexport var pointLineSquareDist = function pointLineSquareDist(point, line) {\n  var x1 = line.x1;\n  var y1 = line.y1;\n  var x2 = line.x2 - x1;\n  var y2 = line.y2 - y1;\n  var px = point.x - x1;\n  var py = point.y - y1;\n  var dotprod = px * x2 + py * y2;\n  var projlenSq;\n\n  if (dotprod <= 0) {\n    projlenSq = 0;\n  } else {\n    px = x2 - px;\n    py = y2 - py;\n    dotprod = px * x2 + py * y2;\n\n    if (dotprod <= 0) {\n      projlenSq = 0;\n    } else {\n      projlenSq = dotprod * dotprod / (x2 * x2 + y2 * y2);\n    }\n  }\n\n  var lenSq = px * px + py * py - projlenSq;\n\n  if (lenSq < 0) {\n    lenSq = 0;\n  }\n\n  return lenSq;\n};\nexport var isPointsOverlap = function isPointsOverlap(p1, p2, e) {\n  if (e === void 0) {\n    e = 1e-3;\n  }\n\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) < Math.pow(e, 2);\n};\n/**\n * 0\n * @param point IPoint\n * @param rect IRect\n */\n\nexport var pointRectSquareDist = function pointRectSquareDist(point, rect) {\n  var isLeft = point.x < rect.x;\n  var isRight = point.x > rect.x + rect.width;\n  var isTop = point.y > rect.y + rect.height;\n  var isBottom = point.y < rect.y;\n  var isPointOutside = isLeft || isRight || isTop || isBottom;\n\n  if (!isPointOutside) {\n    return 0;\n  }\n\n  if (isTop && !isLeft && !isRight) {\n    return Math.pow(rect.y + rect.height - point.y, 2);\n  }\n\n  if (isBottom && !isLeft && !isRight) {\n    return Math.pow(point.y - rect.y, 2);\n  }\n\n  if (isLeft && !isTop && !isBottom) {\n    return Math.pow(rect.x - point.x, 2);\n  }\n\n  if (isRight && !isTop && !isBottom) {\n    return Math.pow(rect.x + rect.width - point.x, 2);\n  }\n\n  var dx = Math.min(Math.abs(rect.x - point.x), Math.abs(rect.x + rect.width - point.x));\n  var dy = Math.min(Math.abs(rect.y - point.y), Math.abs(rect.y + rect.height - point.y));\n  return dx * dx + dy * dy;\n};\n/**\n * point to line distance\n * @param  {array} line  [x1, y1, x2, y2]\n * @param  {object} point  {x, y}\n * @return {Number|NaN} distance\n */\n\nexport var pointLineDistance = function pointLineDistance(line, point) {\n  var x1 = line[0],\n      y1 = line[1],\n      x2 = line[2],\n      y2 = line[3];\n  var x = point.x,\n      y = point.y;\n  var d = [x2 - x1, y2 - y1];\n\n  if (vec2.exactEquals(d, [0, 0])) {\n    return NaN;\n  }\n\n  var u = [-d[1], d[0]]; // @ts-ignore\n\n  vec2.normalize(u, u);\n  var a = [x - x1, y - y1]; // @ts-ignore\n\n  return Math.abs(vec2.dot(a, u));\n};","var subjectColor = 'rgb(95, 149, 255)';\nvar backColor = 'rgb(255, 255, 255)';\nvar textColor = 'rgb(0, 0, 0)';\nvar activeFill = 'rgb(247, 250, 255)';\nvar nodeMainFill = 'rgb(239, 244, 255)';\nvar comboFill = 'rgb(253, 253, 253)';\nvar disabledFill = 'rgb(250, 250, 250)';\nvar edgeMainStroke = 'rgb(224, 224, 224)';\nvar edgeInactiveStroke = 'rgb(234, 234, 234)';\nvar edgeDisablesStroke = 'rgb(245, 245, 245)';\nvar inactiveStroke = 'rgb(191, 213, 255)';\nvar highlightStroke = '#4572d9';\nvar highlightFill = 'rgb(223, 234, 255)';\nvar colorSet = {\n  // for nodes\n  mainStroke: subjectColor,\n  mainFill: nodeMainFill,\n  activeStroke: subjectColor,\n  activeFill: activeFill,\n  inactiveStroke: inactiveStroke,\n  inactiveFill: activeFill,\n  selectedStroke: subjectColor,\n  selectedFill: backColor,\n  highlightStroke: highlightStroke,\n  highlightFill: highlightFill,\n  disableStroke: edgeMainStroke,\n  disableFill: disabledFill,\n  // for edges\n  edgeMainStroke: edgeMainStroke,\n  edgeActiveStroke: subjectColor,\n  edgeInactiveStroke: edgeInactiveStroke,\n  edgeSelectedStroke: subjectColor,\n  edgeHighlightStroke: subjectColor,\n  edgeDisableStroke: edgeDisablesStroke,\n  // for combos\n  comboMainStroke: edgeMainStroke,\n  comboMainFill: comboFill,\n  comboActiveStroke: subjectColor,\n  comboActiveFill: activeFill,\n  comboInactiveStroke: edgeMainStroke,\n  comboInactiveFill: comboFill,\n  comboSelectedStroke: subjectColor,\n  comboSelectedFill: comboFill,\n  comboHighlightStroke: highlightStroke,\n  comboHighlightFill: comboFill,\n  comboDisableStroke: edgeInactiveStroke,\n  comboDisableFill: disabledFill\n};\nexport default {\n  version: '0.3.0',\n  rootContainerClassName: 'root-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle'\n    },\n    offset: 4 // \n\n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: nodeMainFill\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke\n    }\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1\n    }\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    }\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2\n    },\n    color: colorSet.edgeMainStroke\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1\n    }\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    },\n    refY: 10,\n    refX: 10 // Combo \n\n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20]\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1\n    }\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5]\n  }\n};","export default {\n  ' ': 0.3329986572265625,\n  a: 0.5589996337890625,\n  A: 0.6569992065429687,\n  b: 0.58599853515625,\n  B: 0.6769989013671875,\n  c: 0.5469985961914062,\n  C: 0.7279998779296875,\n  d: 0.58599853515625,\n  D: 0.705999755859375,\n  e: 0.554998779296875,\n  E: 0.63699951171875,\n  f: 0.37299957275390627,\n  F: 0.5769989013671875,\n  g: 0.5909988403320312,\n  G: 0.7479995727539063,\n  h: 0.555999755859375,\n  H: 0.7199996948242188,\n  i: 0.255999755859375,\n  I: 0.23699951171875,\n  j: 0.26699981689453123,\n  J: 0.5169998168945312,\n  k: 0.5289993286132812,\n  K: 0.6899993896484375,\n  l: 0.23499908447265624,\n  L: 0.5879989624023437,\n  m: 0.854998779296875,\n  M: 0.8819992065429687,\n  n: 0.5589996337890625,\n  N: 0.7189987182617188,\n  o: 0.58599853515625,\n  O: 0.7669998168945312,\n  p: 0.58599853515625,\n  P: 0.6419998168945312,\n  q: 0.58599853515625,\n  Q: 0.7669998168945312,\n  r: 0.3649993896484375,\n  R: 0.6759994506835938,\n  s: 0.504998779296875,\n  S: 0.6319992065429687,\n  t: 0.354998779296875,\n  T: 0.6189987182617187,\n  u: 0.5599990844726562,\n  U: 0.7139999389648437,\n  v: 0.48199920654296874,\n  V: 0.6389999389648438,\n  w: 0.754998779296875,\n  W: 0.929998779296875,\n  x: 0.5089996337890625,\n  X: 0.63699951171875,\n  y: 0.4959991455078125,\n  Y: 0.66199951171875,\n  z: 0.48699951171875,\n  Z: 0.6239990234375,\n  '0': 0.6,\n  '1': 0.40099945068359377,\n  '2': 0.6,\n  '3': 0.6,\n  '4': 0.6,\n  '5': 0.6,\n  '6': 0.6,\n  '7': 0.5469985961914062,\n  '8': 0.6,\n  '9': 0.6,\n  '[': 0.3329986572265625,\n  ']': 0.3329986572265625,\n  ',': 0.26399993896484375,\n  '.': 0.26399993896484375,\n  ';': 0.26399993896484375,\n  ':': 0.26399993896484375,\n  '{': 0.3329986572265625,\n  '}': 0.3329986572265625,\n  '\\\\': 0.5,\n  '|': 0.19499969482421875,\n  '=': 0.604998779296875,\n  '+': 0.604998779296875,\n  '-': 0.604998779296875,\n  _: 0.5,\n  '`': 0.3329986572265625,\n  ' ~': 0.8329986572265625,\n  '!': 0.3329986572265625,\n  '@': 0.8579986572265625,\n  '#': 0.6,\n  $: 0.6,\n  '%': 0.9699996948242188,\n  '^': 0.517999267578125,\n  '&': 0.7259994506835937,\n  '*': 0.505999755859375,\n  '(': 0.3329986572265625,\n  ')': 0.3329986572265625,\n  '<': 0.604998779296875,\n  '>': 0.604998779296875,\n  '/': 0.5,\n  '?': 0.53699951171875\n};","import { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport Global from '../global';\nimport { applyMatrix } from './math';\nimport letterAspectRatio from './letterAspectRatio';\nimport { isString, clone, isNumber, isObject } from '@antv/util';\nvar PI = Math.PI,\n    sin = Math.sin,\n    cos = Math.cos; // 84522.5\n\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }; // \n\n  if (group) {\n    var matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n\n  var lx = leftTop.x,\n      ly = leftTop.y;\n  var rx = rightBottom.x,\n      ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\n\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {}; // keyShape\n\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2; // keyShape\n\n  var position = loopCfg.position || Global.defaultLoopPosition; // group\n\n  var center = [containerMatrix[6], containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var rstart = bbox.height / 2;\n  var rend = bbox.height / 2;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS; //  cfg \n\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      case 'top-right':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'right':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'bottom-right':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom':\n        rstart = bbox.height / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom-left':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'left':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'top-left':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      default:\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    } // \n\n\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n *  label  label \n * @param {object}  pathShape  G  path  Edge  keyShape\n * @param {number}  percent     0 - 1 \n * @param {number}  refX     x  label \n * @param {number}  refY     y  label \n * @param {boolean} rotate     \n * @return {object}  x, y, \n */\n\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape.getPoint(percent);\n\n  if (point === null) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  } //  g path \n\n\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // ,\n    var offsetPoint = pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n\n  if (refY) {\n    //  x   - 90\n    var normal = rad - PI / 2; //  y  refY  y \n\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n\n  if (rotate) {\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      rad -= PI;\n    }\n\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\nvar traverse = function traverse(data, fn) {\n  if (fn(data) === false) {\n    return false;\n  }\n\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nvar traverseUp = function traverseUp(data, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], fn)) return;\n    }\n  }\n\n  if (fn(data) === false) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverse(data, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\n\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverseUp(data, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\n\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\n\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // \n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\n\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \" + cd.id + \" can not be the same as the combo's id\");\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \" + cd.id + \" does not exist!\");\n      delete cd.parentId;\n    }\n\n    var mappedObj = addedMap[cd.id];\n\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n\n      var mappedParent = addedMap[mappedObj.parentId];\n\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n\n      return;\n    }\n\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  }); // proccess the nodes\n\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  }); // assign the depth for each element\n\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverse(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n\n    if (tree.id === subtreeId) {\n      subtree = tree;\n\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n\n      foundSubTree = true;\n      return;\n    }\n\n    traverseTree(tree, function (child) {\n      comboChildsMap[child.id] = {\n        children: child.children\n      }; // store the old parent id to delete the subtree from the old parent's children in next recursion\n\n      brothers = comboChildsMap[child.parentId || child.comboId || 'root'].children;\n\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child; // re-assign the parentId or comboId for the moved subtree\n\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n\n        foundSubTree = true;\n        return false;\n      }\n\n      return true;\n    });\n  });\n  brothers = comboChildsMap[oldParentId].children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1); // \n\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  } // append to new parent\n\n\n  if (subtreeId) {\n    var found_1 = false; // newParentId is undefined means the subtree will have no parent\n\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    } // update the depth of the subtree and its children from the subtree\n\n\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n\n  if (!children || children.length === 0) {\n    return comboBBox;\n  }\n\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n\n    if (isObject(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};","import { __spreadArray } from \"tslib\";\nimport { isString } from '@antv/util';\nimport { traverseTree } from './graphic';\n/**\n * \n * 1. \n * 2.  ID  123  '123' \n * 3.  source  target  ID \n * @param data \n * @return boolean  true false\n */\n\nexport var dataValidation = function dataValidation(data) {\n  // 1. \n  if (!data) {\n    console.error('G6 Error Tips: the data must be defined');\n    return false;\n  } // 2.  ID \n\n\n  var nodes = data.nodes,\n      edges = data.edges,\n      _a = data.combos,\n      combos = _a === void 0 ? [] : _a;\n\n  if (!nodes && !edges) {\n    var validated_1 = true; //  nodes  edges TreeGraphData TreeGraphData \n\n    traverseTree(data, function (param) {\n      if (!isString(param.id)) {\n        validated_1 = false;\n        return false;\n      }\n\n      return true;\n    });\n    return validated_1;\n  }\n\n  var nonNode = (nodes || []).find(function (node) {\n    return !isString(node.id);\n  });\n\n  if (nonNode) {\n    console.warn(\"G6 Warning Tips: missing 'id' property, or %c\" + nonNode.id + \"%c is not a string.\", 'font-size: 20px; color: red;', '');\n    return false;\n  } // 3.  source  target   Combo\n\n\n  var nodeIds = (nodes || []).map(function (node) {\n    return node.id;\n  });\n  var comboIds = combos.map(function (combo) {\n    return combo.id;\n  });\n\n  var ids = __spreadArray(__spreadArray([], nodeIds), comboIds);\n\n  var nonEdges = (edges || []).find(function (edge) {\n    return !ids.includes(edge.source) || !ids.includes(edge.target);\n  });\n\n  if (nonEdges) {\n    console.warn(\"G6 Warning Tips: The source %c\" + nonEdges.source + \"%c or the target %c\" + nonEdges.target + \"%c of the edge do not exist in the nodes or combos.\", 'font-size: 20px; color: red;', '', 'font-size: 20px; color: red;', '');\n    return false;\n  }\n\n  return true;\n};\n/**\n * combo\n * @param type combo\n * @param data \n * @return boolean  true false\n */\n\nexport var singleDataValidation = function singleDataValidation(type, data) {\n  if (type === 'node' || type === 'combo') {\n    //  id id\n    if (data.id && !isString(data.id)) {\n      console.warn(\"G6 Warning Tips: missing 'id' property, or the 'id' %c\" + data.id + \"%c is not a string.\", 'font-size: 20px; color: red;', '');\n      return false;\n    }\n  } else if (type === 'edge') {\n    //  source  target \n    if (!data.source || !data.target) {\n      console.warn(\"G6 Warning Tips: missing 'source' or 'target' for the edge.\");\n      return false;\n    }\n  }\n\n  return true;\n};","import { each, isArray, isString } from '@antv/util';\nimport Behavior from '../../behavior/behavior';\n\nvar ModeController =\n/** @class */\nfunction () {\n  function ModeController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.modes = graph.get('modes') || {\n      default: []\n    };\n    this.formatModes();\n    this.mode = graph.get('defaultMode') || 'default';\n    this.currentBehaves = [];\n    this.setMode(this.mode);\n  }\n\n  ModeController.prototype.formatModes = function () {\n    var modes = this.modes;\n    each(modes, function (mode) {\n      each(mode, function (behavior, i) {\n        if (isString(behavior)) {\n          mode[i] = {\n            type: behavior\n          };\n        }\n      });\n    });\n  };\n\n  ModeController.prototype.setBehaviors = function (mode) {\n    var graph = this.graph;\n    var behaviors = this.modes[mode];\n    var behaves = [];\n    var behave;\n    each(behaviors || [], function (behavior) {\n      var BehaviorInstance = Behavior.getBehavior(behavior.type || behavior);\n\n      if (!BehaviorInstance) {\n        return;\n      }\n\n      behave = new BehaviorInstance(behavior);\n\n      if (behave) {\n        behave.bind(graph);\n        behaves.push(behave);\n      }\n    });\n    this.currentBehaves = behaves;\n  };\n\n  ModeController.mergeBehaviors = function (modeBehaviors, behaviors) {\n    each(behaviors, function (behavior) {\n      if (modeBehaviors.indexOf(behavior) < 0) {\n        if (isString(behavior)) {\n          behavior = {\n            type: behavior\n          };\n        }\n\n        modeBehaviors.push(behavior);\n      }\n    });\n    return modeBehaviors;\n  };\n\n  ModeController.filterBehaviors = function (modeBehaviors, behaviors) {\n    var result = [];\n    modeBehaviors.forEach(function (behavior) {\n      var type = '';\n\n      if (isString(behavior)) {\n        type = behavior;\n      } else {\n        // eslint-disable-next-line prefer-destructuring\n        type = behavior.type;\n      }\n\n      if (behaviors.indexOf(type) < 0) {\n        result.push(behavior);\n      }\n    });\n    return result;\n  };\n\n  ModeController.prototype.setMode = function (mode) {\n    var _a = this,\n        modes = _a.modes,\n        graph = _a.graph;\n\n    var current = mode;\n    var behaviors = modes[current];\n\n    if (!behaviors) {\n      return;\n    }\n\n    graph.emit('beforemodechange', {\n      mode: mode\n    });\n    each(this.currentBehaves, function (behave) {\n      if (behave.delegate) behave.delegate.remove();\n      behave.unbind(graph);\n    });\n    this.setBehaviors(current);\n    graph.emit('aftermodechange', {\n      mode: mode\n    });\n    this.mode = mode;\n  };\n\n  ModeController.prototype.getMode = function () {\n    return this.mode;\n  };\n  /**\n   *  Behavior\n   *\n   * @param {ModeType[]} behaviors\n   * @param {(ModeType[] | ModeType)} modes\n   * @param {boolean} isAdd\n   * @returns {Mode}\n   * @memberof Mode\n   */\n\n\n  ModeController.prototype.manipulateBehaviors = function (behaviors, modes, isAdd) {\n    var _this = this;\n\n    var behaves;\n\n    if (!isArray(behaviors)) {\n      behaves = [behaviors];\n    } else {\n      behaves = behaviors;\n    }\n\n    if (isArray(modes)) {\n      each(modes, function (mode) {\n        if (!_this.modes[mode]) {\n          if (isAdd) {\n            _this.modes[mode] = behaves;\n          }\n        } else if (isAdd) {\n          _this.modes[mode] = ModeController.mergeBehaviors(_this.modes[mode] || [], behaves);\n        } else {\n          _this.modes[mode] = ModeController.filterBehaviors(_this.modes[mode] || [], behaves);\n        }\n      });\n      return this;\n    }\n\n    var currentMode = modes;\n\n    if (!modes) {\n      currentMode = this.mode; // isString(this.mode) ? this.mode : this.mode.type\n    }\n\n    if (!this.modes[currentMode]) {\n      if (isAdd) {\n        this.modes[currentMode] = behaves;\n      }\n    }\n\n    if (isAdd) {\n      this.modes[currentMode] = ModeController.mergeBehaviors(this.modes[currentMode] || [], behaves);\n    } else {\n      this.modes[currentMode] = ModeController.filterBehaviors(this.modes[currentMode] || [], behaves);\n    }\n\n    this.setMode(this.mode);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  ModeController.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    if (isString(behavior)) {\n      behavior = {\n        type: behavior\n      };\n    }\n\n    var behaviorSet = [];\n\n    if (!mode || mode === this.mode || mode === 'default') {\n      behaviorSet = this.currentBehaves;\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_1 = behaviorSet.length;\n\n      for (var i = 0; i < length_1; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type) {\n          behave.updateCfg(newCfg);\n          return this;\n        }\n\n        if (i === length_1 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    } else {\n      behaviorSet = this.modes[mode];\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_2 = behaviorSet.length;\n\n      for (var i = 0; i < length_2; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type || behave === behavior.type) {\n          if (behave === behavior.type) behave = {\n            type: behave\n          };\n          Object.assign(behave, newCfg);\n          behaviorSet[i] = behave;\n          return this;\n        }\n\n        if (i === length_2 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    }\n\n    return this;\n  };\n\n  ModeController.prototype.destroy = function () {\n    this.graph = null;\n    this.modes = null;\n    this.currentBehaves = null;\n    this.destroyed = true;\n  };\n\n  return ModeController;\n}();\n\nexport default ModeController;","import { __extends } from \"tslib\";\nimport { Event as GraphEvent } from '@antv/g-base';\n\nvar G6GraphEvent =\n/** @class */\nfunction (_super) {\n  __extends(G6GraphEvent, _super);\n\n  function G6GraphEvent(type, event) {\n    var _this = _super.call(this, type, event) || this;\n\n    _this.item = event.item;\n    _this.canvasX = event.canvasX;\n    _this.canvasY = event.canvasY;\n    _this.detail = event.detail;\n    return _this;\n  }\n\n  return G6GraphEvent;\n}(GraphEvent);\n\nexport { G6GraphEvent };","import { isString, isNumber, isNil, isArray } from '@antv/util';\nimport { G6GraphEvent } from '../interface/behavior';\nexport var uniqueId = function uniqueId(type) {\n  return type + \"-\" + Math.random() + Date.now();\n};\n/**\n * turn padding into [top, right, bottom, right]\n * @param  {Number|Array} padding input padding\n * @return {array} output\n */\n\nexport var formatPadding = function formatPadding(padding) {\n  var top = 0;\n  var left = 0;\n  var right = 0;\n  var bottom = 0;\n\n  if (isNumber(padding)) {\n    top = left = right = bottom = padding;\n  } else if (isString(padding)) {\n    var intPadding = parseInt(padding, 10);\n    top = left = right = bottom = intPadding;\n  } else if (isArray(padding)) {\n    top = padding[0];\n    right = !isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n    left = !isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n};\n/**\n * clone event\n * @param e\n */\n\nexport var cloneEvent = function cloneEvent(e) {\n  var event = new G6GraphEvent(e.type, e);\n  event.clientX = e.clientX;\n  event.clientY = e.clientY;\n  event.x = e.x;\n  event.y = e.y;\n  event.target = e.target;\n  event.currentTarget = e.currentTarget;\n  event.bubbles = true;\n  event.item = e.item;\n  return event;\n};\n/**\n *  viewport \n * @param matrix Viewport  Matrix\n */\n\nexport var isViewportChanged = function isViewportChanged(matrix) {\n  // matrix  null \n  if (!matrix) {\n    return false;\n  }\n\n  var MATRIX_LEN = 9;\n  var ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n  for (var i = 0; i < MATRIX_LEN; i++) {\n    if (matrix[i] !== ORIGIN_MATRIX[i]) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport var isNaN = function isNaN(input) {\n  return Number.isNaN(Number(input));\n};\n/**\n *  Item  BBox\n * @param items Item node  combo\n */\n\nexport var calculationItemsBBox = function calculationItemsBBox(items) {\n  var minx = Infinity;\n  var maxx = -Infinity;\n  var miny = Infinity;\n  var maxy = -Infinity; // x y\n\n  for (var i = 0; i < items.length; i++) {\n    var element = items[i];\n    var bbox = element.getBBox();\n    var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n\n    if (minX < minx) {\n      minx = minX;\n    }\n\n    if (minY < miny) {\n      miny = minY;\n    }\n\n    if (maxX > maxx) {\n      maxx = maxX;\n    }\n\n    if (maxY > maxy) {\n      maxy = maxY;\n    }\n  }\n\n  var x = Math.floor(minx);\n  var y = Math.floor(miny);\n  var width = Math.ceil(maxx) - Math.floor(minx);\n  var height = Math.ceil(maxy) - Math.floor(miny);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    minX: minx,\n    minY: miny,\n    maxX: maxx,\n    maxY: maxy\n  };\n};\n/**\n *  edges  quadratic  curveOffset \n * : https://g6.antv.vision/en/docs/api/Util\n * @param edges \n * @param offsetDiff  offset \n * @param multiEdgeType\n * @param singleEdgeType\n * @param loopEdgeType\n */\n\nexport var processParallelEdges = function processParallelEdges(edges, offsetDiff, multiEdgeType, singleEdgeType, loopEdgeType) {\n  if (offsetDiff === void 0) {\n    offsetDiff = 15;\n  }\n\n  if (multiEdgeType === void 0) {\n    multiEdgeType = 'quadratic';\n  }\n\n  if (singleEdgeType === void 0) {\n    singleEdgeType = undefined;\n  }\n\n  if (loopEdgeType === void 0) {\n    loopEdgeType = undefined;\n  }\n\n  var len = edges.length;\n  var cod = offsetDiff * 2;\n  var loopPosition = ['top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left'];\n  var edgeMap = {};\n  var tags = [];\n  var reverses = {};\n\n  for (var i = 0; i < len; i++) {\n    var edge = edges[i];\n    var source = edge.source,\n        target = edge.target;\n    var sourceTarget = source + \"-\" + target;\n    if (tags[i]) continue;\n\n    if (!edgeMap[sourceTarget]) {\n      edgeMap[sourceTarget] = [];\n    }\n\n    tags[i] = true;\n    edgeMap[sourceTarget].push(edge);\n\n    for (var j = 0; j < len; j++) {\n      if (i === j) continue;\n      var sedge = edges[j];\n      var src = sedge.source;\n      var dst = sedge.target; // \n      // source = target\n      // target = source\n\n      if (!tags[j]) {\n        if (source === dst && target === src) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n          reverses[src + \"|\" + dst + \"|\" + (edgeMap[sourceTarget].length - 1)] = true;\n        } else if (source === src && target === dst) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n        }\n      }\n    }\n  }\n\n  for (var key in edgeMap) {\n    var arcEdges = edgeMap[key];\n    var length_1 = arcEdges.length;\n\n    for (var k = 0; k < length_1; k++) {\n      var current = arcEdges[k];\n\n      if (current.source === current.target) {\n        if (loopEdgeType) current.type = loopEdgeType; // 8\n\n        current.loopCfg = {\n          position: loopPosition[k % 8],\n          dist: Math.floor(k / 8) * 20 + 50\n        };\n        continue;\n      }\n\n      if (length_1 === 1 && singleEdgeType && current.source !== current.target) {\n        current.type = singleEdgeType;\n        continue;\n      }\n\n      current.type = multiEdgeType;\n      var sign = (k % 2 === 0 ? 1 : -1) * (reverses[current.source + \"|\" + current.target + \"|\" + k] ? -1 : 1);\n\n      if (length_1 % 2 === 1) {\n        current.curveOffset = sign * Math.ceil(k / 2) * cod;\n      } else {\n        current.curveOffset = sign * (Math.floor(k / 2) * cod + offsetDiff);\n      }\n    }\n  }\n\n  return edges;\n};","import { __assign } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport { modifyCSS } from '@antv/dom-util';\nimport { formatPadding } from '../../util/base';\nimport { applyMatrix, invertMatrix } from '../../util/math';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(graph) {\n    this.destroyed = false;\n    this.graph = graph;\n    this.destroyed = false;\n  } // get view center coordinate\n\n\n  ViewController.prototype.getViewCenter = function () {\n    var padding = this.getFormatPadding();\n    var graph = this.graph;\n    var width = this.graph.get('width');\n    var height = graph.get('height');\n    return {\n      x: (width - padding[1] - padding[3]) / 2 + padding[3],\n      y: (height - padding[0] - padding[2]) / 2 + padding[0]\n    };\n  };\n\n  ViewController.prototype.fitCenter = function () {\n    var graph = this.graph;\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n  }; // fit view graph\n\n\n  ViewController.prototype.fitView = function () {\n    var graph = this.graph;\n    var padding = this.getFormatPadding();\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n    var w = (width - padding[1] - padding[3]) / bbox.width;\n    var h = (height - padding[0] - padding[2]) / bbox.height;\n    var ratio = w;\n\n    if (w > h) {\n      ratio = h;\n    }\n\n    graph.zoom(ratio, viewCenter);\n  };\n\n  ViewController.prototype.getFormatPadding = function () {\n    var padding = this.graph.get('fitViewPadding');\n    return formatPadding(padding);\n  };\n\n  ViewController.prototype.focusPoint = function (point, animate, animateCfg) {\n    var _this = this;\n\n    var viewCenter = this.getViewCenter();\n    var modelCenter = this.getPointByCanvas(viewCenter.x, viewCenter.y);\n    var viewportMatrix = this.graph.get('group').getMatrix();\n    if (!viewportMatrix) viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    if (animate) {\n      var dx_1 = (modelCenter.x - point.x) * viewportMatrix[0];\n      var dy_1 = (modelCenter.y - point.y) * viewportMatrix[4];\n      var lastX_1 = 0;\n      var lastY_1 = 0;\n      var newX_1 = 0;\n      var newY_1 = 0; // \n\n      this.graph.get('canvas').animate(function (ratio) {\n        newX_1 = dx_1 * ratio;\n        newY_1 = dy_1 * ratio;\n\n        _this.graph.translate(newX_1 - lastX_1, newY_1 - lastY_1);\n\n        lastX_1 = newX_1;\n        lastY_1 = newY_1;\n      }, __assign({}, animateCfg));\n    } else {\n      this.graph.translate((modelCenter.x - point.x) * viewportMatrix[0], (modelCenter.y - point.y) * viewportMatrix[4]);\n    }\n  };\n  /**\n   *  Canvas \n   * @param canvasX canvas x \n   * @param canvasY canvas y \n   */\n\n\n  ViewController.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    var point = invertMatrix({\n      x: canvasX,\n      y: canvasY\n    }, viewportMatrix);\n    return point;\n  };\n  /**\n   * \n   * @param clientX  x \n   * @param clientY  y \n   */\n\n\n  ViewController.prototype.getPointByClient = function (clientX, clientY) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = canvas.getPointByClient(clientX, clientY);\n    return this.getPointByCanvas(canvasPoint.x, canvasPoint.y);\n  };\n  /**\n   * \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getClientByPoint = function (x, y) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = this.getCanvasByPoint(x, y);\n    var point = canvas.getClientByPoint(canvasPoint.x, canvasPoint.y);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  };\n  /**\n   *  Canvas \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getCanvasByPoint = function (x, y) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    return applyMatrix({\n      x: x,\n      y: y\n    }, viewportMatrix);\n  };\n  /**\n   * \n   * @param item Item  id\n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  ViewController.prototype.focus = function (item, animate, animateCfg) {\n    if (isString(item)) {\n      item = this.graph.findById(item);\n    }\n\n    if (item) {\n      var x = 0,\n          y = 0;\n\n      if (item.getType && item.getType() === 'edge') {\n        var sourceMatrix = item.getSource().get('group').getMatrix();\n        var targetMatrix = item.getTarget().get('group').getMatrix();\n\n        if (sourceMatrix && targetMatrix) {\n          x = (sourceMatrix[6] + targetMatrix[6]) / 2;\n          y = (sourceMatrix[7] + targetMatrix[7]) / 2;\n        } else if (sourceMatrix || targetMatrix) {\n          x = sourceMatrix ? sourceMatrix[6] : targetMatrix[6];\n          y = sourceMatrix ? sourceMatrix[7] : targetMatrix[7];\n        }\n      } else {\n        var group = item.get('group');\n        var matrix = group.getMatrix();\n        if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        x = matrix[6];\n        y = matrix[7];\n      } // modelx,y,modelx,yx,y\n\n\n      this.focusPoint({\n        x: x,\n        y: y\n      }, animate, animateCfg);\n    }\n  };\n  /**\n   *  canvas \n   * @param width canvas \n   * @param height canvas \n   */\n\n\n  ViewController.prototype.changeSize = function (width, height) {\n    var graph = this.graph;\n\n    if (!isNumber(width) || !isNumber(height)) {\n      throw Error('invalid canvas width & height, please make sure width & height type is number');\n    }\n\n    graph.set({\n      width: width,\n      height: height\n    });\n    var canvas = graph.get('canvas');\n    canvas.changeSize(width, height); // change the size of grid plugin if it exists on graph\n\n    var plugins = graph.get('plugins');\n    plugins.forEach(function (plugin) {\n      if (plugin.get('gridContainer')) {\n        var minZoom = graph.get('minZoom');\n        modifyCSS(plugin.get('container'), {\n          width: width + \"px\",\n          height: height + \"px\"\n        });\n        modifyCSS(plugin.get('gridContainer'), {\n          width: width / minZoom + \"px\",\n          height: height / minZoom + \"px\",\n          left: 0,\n          top: 0\n        });\n      }\n    });\n  };\n\n  ViewController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = false;\n  };\n\n  return ViewController;\n}();\n\nexport default ViewController;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * @fileOverview xmlNodeupdate\n * @author xuzhi.mxz@antfin.com\n */\nimport { __assign, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getTextSize } from '../util/graphic';\n/**\n * JSON \n * @param text json \n */\n\nfunction looseJSONParse(text) {\n  if (typeof text !== 'string') {\n    return text;\n  }\n\n  var safeParse = function safeParse(str) {\n    if (typeof str !== 'string') {\n      return str;\n    }\n\n    try {\n      return JSON.parse(str.trim());\n    } catch (e) {\n      return str.trim();\n    }\n  };\n\n  var firstAttempt = safeParse(text);\n\n  if (typeof firstAttempt !== 'string') {\n    return firstAttempt;\n  }\n\n  var tail = function tail(arr) {\n    return arr[arr.length - 1];\n  };\n\n  var str = text.trim();\n  var objectStack = [];\n  var syntaxStack = [];\n\n  var isLastPair = function isLastPair() {\n    var syntaxes = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      syntaxes[_i] = arguments[_i];\n    }\n\n    return syntaxes.some(function (syntax) {\n      return tail(syntaxStack) === syntax;\n    });\n  };\n\n  var getValueStore = function getValueStore() {\n    return tail(objectStack);\n  };\n\n  var rst = null;\n  var i = 0;\n  var temp = '';\n\n  while (i < str.length) {\n    var nowChar = str[i];\n    var isInString = isLastPair('\"', \"'\");\n\n    if (!isInString && !nowChar.trim()) {\n      i += 1;\n      continue;\n    }\n\n    var isLastTranslate = str[i - 1] === '\\\\';\n    var isInObject = isLastPair('}');\n    var isInArray = isLastPair(']');\n    var isWaitingValue = isLastPair(',');\n    var tempArr = getValueStore();\n\n    if (isInString) {\n      if (tail(syntaxStack) === nowChar && !isLastTranslate) {\n        syntaxStack.pop();\n        var value = safeParse(temp);\n        tempArr.push(value);\n        rst = value;\n        temp = '';\n      } else {\n        temp += nowChar;\n      }\n    } else if (isInArray && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n    } else if (isInObject && nowChar === ':') {\n      syntaxStack.push(',');\n\n      if (temp) {\n        tempArr.push(temp);\n        temp = '';\n      }\n    } else if (isWaitingValue && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      syntaxStack.pop();\n    } else if (nowChar === '}' && (isInObject || isWaitingValue)) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      if (isWaitingValue) {\n        syntaxStack.pop();\n      }\n\n      var obj = {};\n\n      for (var c = 1; c < tempArr.length; c += 2) {\n        obj[tempArr[c - 1]] = tempArr[c];\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(obj);\n      }\n\n      syntaxStack.pop();\n      rst = obj;\n    } else if (nowChar === ']' && isInArray) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(tempArr);\n      }\n\n      syntaxStack.pop();\n      rst = tempArr;\n    } else if (nowChar === '{') {\n      objectStack.push([]);\n      syntaxStack.push('}');\n    } else if (nowChar === '[') {\n      objectStack.push([]);\n      syntaxStack.push(']');\n    } else if (nowChar === '\"') {\n      syntaxStack.push('\"');\n    } else if (nowChar === \"'\") {\n      syntaxStack.push(\"'\");\n    } else {\n      temp += nowChar;\n    }\n\n    i += 1;\n  }\n\n  return rst || temp;\n}\n\nvar keyConvert = function keyConvert(str) {\n  return str.split('-').reduce(function (a, b) {\n    return a + b.charAt(0).toUpperCase() + b.slice(1);\n  });\n};\n/**\n * {{}}\n * @param xml\n */\n\n\nexport var xmlDataRenderer = function xmlDataRenderer(xml) {\n  return function (data) {\n    var len = xml.length;\n    var arr = [];\n    var i = 0;\n    var tmp = '';\n\n    while (i < len) {\n      if (xml[i] === '{' && xml[i + 1] === '{') {\n        arr.push(tmp);\n        tmp = '';\n        i += 2;\n      } else if (xml[i] === '}' && xml[i + 1] === '}') {\n        if (arr.length) {\n          var last = arr.pop();\n          tmp = get(data, tmp, last.endsWith('=') ? \"\\\"{\" + tmp + \"}\\\"\" : tmp);\n          arr.push(last + tmp);\n        }\n\n        i += 2;\n        tmp = '';\n      } else {\n        tmp += xml[i];\n        i += 1;\n      }\n    }\n\n    arr.push(tmp);\n    return arr.map(function (e, index) {\n      return arr[index - 1] && arr[index - 1].endsWith('=') ? \"\\\"{\" + e + \"}\\\"\" : e;\n    }).join('');\n  };\n};\n/**\n * XMLJSON\n * @param xml xml\n */\n\nexport function parseXML(xml, cfg) {\n  var attrs = {};\n  var keys = xml.getAttributeNames && xml.getAttributeNames() || [];\n  var children = xml.children && Array.from(xml.children).map(function (e) {\n    return parseXML(e, cfg);\n  });\n  var rst = {};\n  var tagName = xml.tagName ? xml.tagName.toLowerCase() : 'group';\n\n  if (tagName === 'text') {\n    attrs.text = xml.innerText;\n  }\n\n  rst.type = tagName;\n\n  if (tagName === 'img') {\n    rst.type = 'image';\n  }\n\n  Array.from(keys).forEach(function (k) {\n    var key = keyConvert(k);\n    var val = xml.getAttribute(k);\n\n    try {\n      if (key === 'style' || key === 'attrs') {\n        var style = looseJSONParse(val);\n        attrs = __assign(__assign({}, attrs), style);\n      } else {\n        rst[key] = looseJSONParse(val);\n      }\n    } catch (e) {\n      if (key === 'style') {\n        throw e;\n      }\n\n      rst[key] = val;\n    }\n  });\n  rst.attrs = attrs;\n\n  if (cfg && cfg.style && rst.name && _typeof(cfg.style[rst.name]) === 'object') {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style[rst.name]);\n  }\n\n  if (cfg && cfg.style && rst.keyshape) {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style);\n  }\n\n  if (children.length) {\n    rst.children = children;\n  }\n\n  return rst;\n}\n/**\n * bounding boxshapebbox\n */\n\nexport function getBBox(node, offset, chilrenBBox) {\n  var _a = node.attrs,\n      attrs = _a === void 0 ? {} : _a;\n  var bbox = {\n    x: offset.x || 0,\n    y: offset.y || 0,\n    width: chilrenBBox.width || 0,\n    height: chilrenBBox.height || 0\n  };\n  var shapeHeight, shapeWidth;\n\n  switch (node.type) {\n    case 'maker':\n    case 'circle':\n      if (attrs.r) {\n        shapeWidth = 2 * attrs.r;\n        shapeHeight = 2 * attrs.r;\n      }\n\n      break;\n\n    case 'text':\n      if (attrs.text) {\n        shapeWidth = getTextSize(attrs.text, attrs.fontSize || 12)[0];\n        shapeHeight = 16;\n        bbox.y += shapeHeight;\n        bbox.height = shapeHeight;\n        bbox.width = shapeWidth;\n        node.attrs = __assign({\n          fontSize: 12,\n          fill: '#000'\n        }, attrs);\n      }\n\n      break;\n\n    default:\n      if (attrs.width) {\n        shapeWidth = attrs.width;\n      }\n\n      if (attrs.height) {\n        shapeHeight = attrs.height;\n      }\n\n  }\n\n  if (shapeHeight >= 0) {\n    bbox.height = shapeHeight;\n  }\n\n  if (shapeWidth >= 0) {\n    bbox.width = shapeWidth;\n  }\n\n  if (attrs.marginTop) {\n    bbox.y += attrs.marginTop;\n  }\n\n  if (attrs.marginLeft) {\n    bbox.x += attrs.marginLeft;\n  }\n\n  return bbox;\n}\n/**\n * xmlattrs\n * @param target\n * @param lastOffset\n */\n\nexport function generateTarget(target, lastOffset) {\n  var _a;\n\n  if (lastOffset === void 0) {\n    lastOffset = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var defaultBbox = __assign({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }, lastOffset);\n\n  if ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) {\n    var _b = target.attrs,\n        attrs = _b === void 0 ? {} : _b;\n    var marginTop = attrs.marginTop;\n\n    var offset = __assign({}, lastOffset);\n\n    if (marginTop) {\n      offset.y += marginTop;\n    }\n\n    for (var index = 0; index < target.children.length; index++) {\n      target.children[index].attrs.key = (attrs.key || 'root') + \" -\" + index + \" \";\n      var node = generateTarget(target.children[index], offset);\n\n      if (node.bbox) {\n        var bbox = node.bbox;\n\n        if (node.attrs.next === 'inline') {\n          offset.x += node.bbox.width;\n        } else {\n          offset.y += node.bbox.height;\n        }\n\n        if (bbox.width + bbox.x > defaultBbox.width) {\n          defaultBbox.width = bbox.width + bbox.x;\n        }\n\n        if (bbox.height + bbox.y > defaultBbox.height) {\n          defaultBbox.height = bbox.height + bbox.y;\n        }\n      }\n    }\n  }\n\n  target.bbox = getBBox(target, lastOffset, defaultBbox);\n  target.attrs = __assign(__assign({}, target.attrs), target.bbox);\n  return target;\n}\n/**\n * node,\n *  'add'   delete   change attrs  'restructure' \n * @param nowTarget\n * @param formerTarget\n */\n\nexport function compareTwoTarget(nowTarget, formerTarget) {\n  var _a, _b, _c, _d;\n\n  var type = (nowTarget || {}).type;\n  var key = ((formerTarget === null || formerTarget === void 0 ? void 0 : formerTarget.attrs) || {}).key;\n\n  if (key && nowTarget) {\n    nowTarget.attrs.key = key;\n  }\n\n  if (!nowTarget && formerTarget) {\n    return {\n      action: 'delete',\n      val: formerTarget,\n      type: type,\n      key: key\n    };\n  }\n\n  if (nowTarget && !formerTarget) {\n    return {\n      action: 'add',\n      val: nowTarget,\n      type: type\n    };\n  }\n\n  if (!nowTarget && !formerTarget) {\n    return {\n      action: 'same',\n      type: type\n    };\n  }\n\n  var children = [];\n\n  if (((_a = nowTarget.children) === null || _a === void 0 ? void 0 : _a.length) > 0 || ((_b = formerTarget.children) === null || _b === void 0 ? void 0 : _b.length) > 0) {\n    var length_1 = Math.max((_c = nowTarget.children) === null || _c === void 0 ? void 0 : _c.length, (_d = formerTarget.children) === null || _d === void 0 ? void 0 : _d.length);\n    var formerChilren = formerTarget.children || [];\n    var nowChilren = nowTarget.children || [];\n\n    for (var index = 0; index < length_1; index += 1) {\n      children.push(compareTwoTarget(nowChilren[index], formerChilren[index]));\n    }\n  }\n\n  var formerKeys = Object.keys(formerTarget.attrs);\n  var nowKeys = Object.keys(nowTarget.attrs);\n\n  if (formerTarget.type !== nowTarget.type) {\n    return {\n      action: 'restructure',\n      nowTarget: nowTarget,\n      formerTarget: formerTarget,\n      key: key,\n      children: children\n    };\n  }\n\n  if (formerKeys.filter(function (e) {\n    return e !== 'children';\n  }).some(function (e) {\n    return nowTarget.attrs[e] !== formerTarget.attrs[e] || !nowKeys.includes(e);\n  })) {\n    return {\n      action: 'change',\n      val: nowTarget,\n      children: children,\n      type: type,\n      key: key\n    };\n  }\n\n  return {\n    action: 'same',\n    children: children,\n    type: type,\n    key: key\n  };\n}\n/**\n * xmlxml\n * @param gen\n */\n\nexport function createNodeFromXML(gen) {\n  var structures = {};\n\n  var compileXML = function compileXML(cfg) {\n    var rawStr = typeof gen === 'function' ? gen(cfg) : gen;\n    var target = xmlDataRenderer(rawStr)(cfg); // TODO patch #16\n\n    var xmlParser = document.createElement('div');\n    xmlParser.innerHTML = target;\n    var xml = xmlParser.children[0];\n    var result = generateTarget(parseXML(xml, cfg));\n    xmlParser.remove();\n    return result;\n  };\n\n  return {\n    draw: function draw(cfg, group) {\n      var resultTarget = compileXML(cfg);\n      var keyshape = group;\n\n      var renderTarget = function renderTarget(target) {\n        var _a = target.attrs,\n            attrs = _a === void 0 ? {} : _a,\n            bbox = target.bbox,\n            type = target.type,\n            children = target.children,\n            rest = __rest(target, [\"attrs\", \"bbox\", \"type\", \"children\"]);\n\n        if (target.type !== 'group') {\n          var shape = group.addShape(target.type, __assign({\n            attrs: attrs,\n            origin: {\n              bbox: bbox,\n              type: type,\n              children: children\n            }\n          }, rest));\n\n          if (target.keyshape) {\n            keyshape = shape;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return renderTarget(n);\n          });\n        }\n      };\n\n      renderTarget(resultTarget);\n      structures[cfg.id] = [resultTarget];\n      return keyshape;\n    },\n    update: function update(cfg, node) {\n      if (!structures[cfg.id]) {\n        structures[cfg.id] = [];\n      }\n\n      var container = node.getContainer();\n      var children = container.get('children');\n      var newTarget = compileXML(cfg);\n      var lastTarget = structures[cfg.id].pop();\n      var diffResult = compareTwoTarget(newTarget, lastTarget);\n\n      var addShape = function addShape(shape) {\n        var _a;\n\n        if (shape.type !== 'group') {\n          container.addShape(shape.type, {\n            attrs: shape.attrs\n          });\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return addShape(e);\n          });\n        }\n      };\n\n      var delShape = function delShape(shape) {\n        var _a;\n\n        var targetShape = children.find(function (e) {\n          return e.attrs.key === shape.attrs.key;\n        });\n\n        if (targetShape) {\n          container.removeChild(targetShape);\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return delShape(e);\n          });\n        }\n      };\n\n      var updateTarget = function updateTarget(target) {\n        var key = target.key;\n\n        if (target.type !== 'group') {\n          var targetShape = children.find(function (e) {\n            return e.attrs.key === key;\n          });\n\n          switch (target.action) {\n            case 'change':\n              if (targetShape) {\n                var originAttr = target.val.keyshape ? node.getOriginStyle() : {};\n                targetShape.attr(__assign(__assign({}, originAttr), target.val.attrs));\n              }\n\n              break;\n\n            case 'add':\n              addShape(target.val);\n              break;\n\n            case 'delete':\n              delShape(target.val);\n              break;\n\n            case 'restructure':\n              delShape(target.formerTarget);\n              addShape(target.nowTarget);\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return updateTarget(n);\n          });\n        }\n      };\n\n      updateTarget(diffResult);\n      structures[cfg.id].push(newTarget);\n    },\n    getAnchorPoints: function getAnchorPoints() {\n      return [[0, 0.5], [1, 0.5], [0.5, 1], [0.5, 0]];\n    }\n  };\n}","import { __assign } from \"tslib\";\nimport { upperFirst } from '@antv/util';\nimport { createNodeFromXML } from './xml';\nvar cache = {}; // ucfirst \n// \n\nfunction ucfirst(str) {\n  if (!cache[str]) {\n    cache[str] = upperFirst(str);\n  }\n\n  return cache[str];\n}\n/**\n * \n * @type Shape.FactoryBase\n */\n\n\nexport var ShapeFactoryBase = {\n  /**\n   * / shapeType \n   * @type {String}\n   */\n  defaultShapeType: 'defaultType',\n\n  /**\n   *  className\n   * @type {String}\n   */\n  className: null,\n\n  /**\n   *  Shape \n   * @param  {String} type \n   * @return {Shape} \n   */\n  getShape: function getShape(type) {\n    var self = this;\n    var shape = self[type] || self[self.defaultShapeType] || self['simple-circle'];\n    return shape;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(type, cfg, group) {\n    var shape = this.getShape(type);\n    var rst = shape.draw(cfg, group);\n\n    if (shape.afterDraw) {\n      shape.afterDraw(cfg, group, rst);\n    }\n\n    return rst;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G6.Item} item \n   */\n  baseUpdate: function baseUpdate(type, cfg, item) {\n    var shape = this.getShape(type);\n\n    if (shape.update) {\n      //  update \n      shape.update(cfg, item);\n    }\n\n    if (shape.afterUpdate) {\n      shape.afterUpdate(cfg, item);\n    }\n  },\n\n  /**\n   * \n   * @param {String} type  \n   * @param {String} name  \n   * @param {String | Boolean} value \n   * @param {G6.Item} item  \n   */\n  setState: function setState(type, name, value, item) {\n    var shape = this.getShape(type); //  shape/shapeBase.ts  setState \n\n    shape.setState(name, value, item);\n  },\n\n  /**\n   * \n   * @param  {String} type \n   * @return {Boolean} \n   */\n  shouldUpdate: function shouldUpdate(type) {\n    var shape = this.getShape(type);\n    return !!shape.update;\n  },\n  getControlPoints: function getControlPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getControlPoints(cfg);\n  },\n\n  /**\n   * \n   * @param {String} type \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getAnchorPoints(cfg);\n  }\n};\n/**\n * \n */\n\nvar ShapeFramework = {\n  // \n  options: {},\n\n  /**\n   * \n   */\n  draw: function draw(cfg, group) {\n    return this.drawShape(cfg, group);\n  },\n\n  /**\n   * \n   */\n  drawShape: function drawShape()\n  /* cfg, group */\n  {},\n\n  /**\n   * \n   */\n  afterDraw: function afterDraw()\n  /* cfg, group */\n  {},\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate()\n  /* cfg, item */\n  {},\n\n  /**\n   * \n   */\n  setState: function setState()\n  /* name, value, item */\n  {},\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var defaultAnchorPoints = this.options.anchorPoints;\n    var anchorPoints = cfg.anchorPoints || defaultAnchorPoints;\n    return anchorPoints;\n  }\n  /*  update  draw \n  update(cfg, item) {\n     }\n  */\n\n};\n\nvar Shape =\n/** @class */\nfunction () {\n  function Shape() {}\n\n  Shape.registerFactory = function (factoryType, cfg) {\n    var className = ucfirst(factoryType);\n    var factoryBase = ShapeFactoryBase;\n\n    var shapeFactory = __assign(__assign({}, factoryBase), cfg);\n\n    Shape[className] = shapeFactory;\n    shapeFactory.className = className;\n    return shapeFactory;\n  };\n\n  Shape.getFactory = function (factoryType) {\n    var className = ucfirst(factoryType);\n    return Shape[className];\n  };\n\n  Shape.registerNode = function (shapeType, nodeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Node;\n    var shapeObj;\n\n    if (typeof nodeDefinition === 'string' || typeof nodeDefinition === 'function') {\n      var autoNodeDefinition = createNodeFromXML(nodeDefinition);\n      shapeObj = __assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition);\n    } else if (nodeDefinition.jsx) {\n      var jsx = nodeDefinition.jsx;\n      var autoNodeDefinition = createNodeFromXML(jsx);\n      shapeObj = __assign(__assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition), nodeDefinition);\n    } else {\n      shapeFactory.getShape(extendShapeType);\n      var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n      shapeObj = __assign(__assign({}, extendShape), nodeDefinition);\n    }\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'node';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerEdge = function (shapeType, edgeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Edge;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), edgeDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'edge';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerCombo = function (shapeType, comboDefinition, extendShapeType) {\n    var shapeFactory = Shape.Combo;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), comboDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'combo';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  return Shape;\n}();\n\nexport default Shape; //  Node \n\nShape.registerFactory('node', {\n  defaultShapeType: 'circle'\n}); //  Edge \n\nShape.registerFactory('edge', {\n  defaultShapeType: 'line'\n}); //  Combo \n\nShape.registerFactory('combo', {\n  defaultShapeType: 'circle'\n});","import { __assign } from \"tslib\";\nimport { each, isNil, isPlainObject, isString, isBoolean, mix, deepMix, clone } from '@antv/util';\nimport Shape from '../element/shape';\nimport { getBBox } from '../util/graphic';\nimport { translate } from '../util/math';\nimport { uniqueId } from '../util/base';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar ARROWS = ['startArrow', 'endArrow'];\n\nvar ItemBase =\n/** @class */\nfunction () {\n  function ItemBase(cfg) {\n    this._cfg = {};\n    this.destroyed = false;\n    var defaultCfg = {\n      /**\n       * id\n       * @type {string}\n       */\n      id: undefined,\n\n      /**\n       * \n       * @type {string}\n       */\n      type: 'item',\n\n      /**\n       * data model\n       * @type {object}\n       */\n      model: {},\n\n      /**\n       * g group\n       * @type {G.Group}\n       */\n      group: undefined,\n\n      /**\n       * is open animate\n       * @type {boolean}\n       */\n      animate: false,\n\n      /**\n       * visible - not group visible\n       * @type {boolean}\n       */\n      visible: true,\n\n      /**\n       * locked - lock node\n       * @type {boolean}\n       */\n      locked: false,\n\n      /**\n       * capture event\n       * @type {boolean}\n       */\n      event: true,\n\n      /**\n       * key shape to calculate item's bbox\n       * @type object\n       */\n      keyShape: undefined,\n\n      /**\n       * item's states, such as selected or active\n       * @type Array\n       */\n      states: []\n    };\n    this._cfg = Object.assign(defaultCfg, this.getDefaultCfg(), cfg);\n    var model = this.get('model');\n    var id = model.id;\n    var itemType = this.get('type');\n\n    if (!id) {\n      id = uniqueId(itemType);\n      this.get('model').id = id;\n    }\n\n    this.set('id', id);\n    var group = cfg.group;\n\n    if (group) {\n      group.set('item', this);\n      group.set('id', id);\n    }\n\n    this.init();\n    this.draw();\n    var shapeType = model.shape || model.type || (itemType === 'edge' ? 'line' : 'circle');\n    var shapeFactory = this.get('shapeFactory');\n\n    if (shapeFactory && shapeFactory[shapeType]) {\n      var options = shapeFactory[shapeType].options; // merge the stateStyles from item and shape\n\n      if (options && options.stateStyles) {\n        var styles = this.get('styles') || model.stateStyles;\n        styles = deepMix({}, options.stateStyles, styles);\n        this.set('styles', styles);\n      }\n    }\n  }\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateCanvasBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.drawInner = function () {\n    var self = this;\n    var shapeFactory = self.get('shapeFactory');\n    var group = self.get('group');\n    var model = self.get('model');\n    group.clear();\n    var visible = model.visible;\n    if (visible !== undefined && !visible) self.changeVisibility(visible);\n\n    if (!shapeFactory) {\n      return;\n    }\n\n    self.updatePosition(model);\n    var cfg = self.getShapeCfg(model); // \n\n    var shapeType = cfg.type;\n    var keyShape = shapeFactory.draw(shapeType, cfg, group);\n\n    if (keyShape) {\n      self.set('keyShape', keyShape);\n      keyShape.set('isKeyShape', true);\n      keyShape.set('draggable', true);\n    }\n\n    this.setOriginStyle(); //  model  shape  shape \n\n    this.set('currentShape', shapeType);\n    this.restoreStates(shapeFactory, shapeType);\n  };\n  /**\n   * \n   * @param keyShape  keyShape\n   * @param group Group \n   */\n\n\n  ItemBase.prototype.setOriginStyle = function () {\n    var group = this.get('group');\n    var children = group.get('children');\n    var keyShape = this.getKeyShape();\n    var self = this;\n    var keyShapeName = keyShape.get('name');\n\n    if (!this.get('originStyle')) {\n      //  set originStyle attrs\n      var originStyles_1 = {};\n      each(children, function (child) {\n        var shapeType = child.get('type');\n        var name = child.get('name');\n\n        if (name && name !== keyShapeName) {\n          originStyles_1[name] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n        } else {\n          // !name || name === keyShape\n          var keyShapeStyle = self.getShapeStyleByName(); //  child.attr  shape \n\n          if (keyShapeStyle.path) delete keyShapeStyle.path;\n          if (keyShapeStyle.matrix) delete keyShapeStyle.matrix;\n\n          if (!keyShapeName) {\n            Object.assign(originStyles_1, keyShapeStyle);\n          } else {\n            //  keyShape  name  !name keyShape name\n            if (!name) {\n              var shapeName = uniqueId('shape');\n              child.set('name', shapeName);\n              originStyles_1[shapeName] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n            } else originStyles_1[keyShapeName] = keyShapeStyle;\n          }\n        }\n      });\n      self.set('originStyle', originStyles_1);\n    } else {\n      //  set originStyles stateStyles  originStyles \n      //  originStyle shape attrs\n      var styles_1 = this.getOriginStyle(); // let styles: ShapeStyle = {};\n\n      if (keyShapeName && !styles_1[keyShapeName]) styles_1[keyShapeName] = {}; // \n\n      var currentStatesStyle_1 = this.getCurrentStatesStyle(); //  attrs stateStyles  originStyles \n\n      each(children, function (child) {\n        var name = child.get('name');\n        var shapeAttrs = child.attr();\n\n        if (name && name !== keyShapeName) {\n          //  name  keyShape \n          var shapeStateStyle_1 = currentStatesStyle_1[name];\n          if (!styles_1[name]) styles_1[name] = {};\n\n          if (shapeStateStyle_1) {\n            Object.keys(shapeAttrs).forEach(function (key) {\n              var value = shapeAttrs[key];\n              if (value !== shapeStateStyle_1[key]) styles_1[name][key] = value;\n            });\n          } else {\n            styles_1[name] = child.get('type') !== 'image' ? clone(shapeAttrs) : self.getShapeStyleByName(name);\n          }\n        } else {\n          var shapeAttrs_1 = child.attr();\n\n          var keyShapeStateStyles_1 = __assign(__assign({}, currentStatesStyle_1), currentStatesStyle_1[keyShapeName]);\n\n          Object.keys(shapeAttrs_1).forEach(function (key) {\n            var value = shapeAttrs_1[key]; //  arrow shape \n            // if (isPlainObject(value) && ARROWS.indexOf(name) === -1) return;\n\n            if (keyShapeStateStyles_1[key] !== value) {\n              if (keyShapeName) styles_1[keyShapeName][key] = value;else styles_1[key] = value;\n            }\n          });\n        }\n      });\n      if (styles_1.path) delete styles_1.path;\n      if (styles_1.matrix) delete styles_1.matrix;\n      if (styles_1.x) delete styles_1.x;\n      if (styles_1.y) delete styles_1.y;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].x) delete styles_1[keyShapeName].x;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].y) delete styles_1[keyShapeName].y;\n      self.set('originStyle', styles_1);\n    }\n  };\n  /**\n   * restore shape states\n   * @param shapeFactory\n   * @param shapeType\n   */\n\n\n  ItemBase.prototype.restoreStates = function (shapeFactory, shapeType) {\n    var self = this;\n    var states = self.get('states');\n    each(states, function (state) {\n      shapeFactory.setState(shapeType, state, true, self);\n    });\n  };\n\n  ItemBase.prototype.init = function () {\n    var shapeFactory = Shape.getFactory(this.get('type'));\n    this.set('shapeFactory', shapeFactory);\n  };\n  /**\n   * \n   * @internal \n   * @param  {String} key \n   * @return {object | string | number} \n   */\n\n\n  ItemBase.prototype.get = function (key) {\n    return this._cfg[key];\n  };\n  /**\n   * \n   * @internal \n   * @param {String|Object} key \n   * @param {object | string | number} val \n   */\n\n\n  ItemBase.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this._cfg = __assign(__assign({}, this._cfg), key);\n    } else {\n      this._cfg[key] = val;\n    }\n  };\n\n  ItemBase.prototype.getDefaultCfg = function () {\n    return {};\n  };\n  /**\n   * / cache\n   */\n\n\n  ItemBase.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null);\n    this.set(CACHE_CANVAS_BBOX, null);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.beforeDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterUpdate = function () {};\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.draw = function () {\n    this.beforeDraw();\n    this.drawInner();\n    this.afterDraw();\n  };\n\n  ItemBase.prototype.getShapeStyleByName = function (name) {\n    var group = this.get('group');\n    var currentShape;\n\n    if (name) {\n      currentShape = group.find(function (element) {\n        return element.get('name') === name;\n      });\n    } else {\n      currentShape = this.getKeyShape();\n    }\n\n    if (currentShape) {\n      var styles_2 = {};\n      each(currentShape.attr(), function (val, key) {\n        //  img  updateItem \n        if (key !== 'img') {\n          styles_2[key] = val;\n        }\n      });\n      return styles_2;\n    }\n\n    return {};\n  };\n\n  ItemBase.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n\n    if (styles) {\n      // merge graphitem\n      var newModel = model;\n      newModel.style = __assign(__assign({}, styles), model.style);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   * \n   * @param state \n   */\n\n\n  ItemBase.prototype.getStateStyle = function (state) {\n    var styles = this.get('styles');\n    var stateStyle = styles && styles[state];\n    return stateStyle;\n  };\n  /**\n   * get keyshape style\n   */\n\n\n  ItemBase.prototype.getOriginStyle = function () {\n    return this.get('originStyle');\n  };\n\n  ItemBase.prototype.getCurrentStatesStyle = function () {\n    var self = this;\n    var styles = {};\n    var states = self.getStates();\n\n    if (!states || !states.length) {\n      return this.getOriginStyle();\n    }\n\n    each(self.getStates(), function (state) {\n      styles = Object.assign(styles, self.getStateStyle(state));\n    });\n    return styles;\n  };\n  /**\n   *  visible \n   * @internal  graph \n   * @param {String} state \n   * @param {Boolean} value \n   */\n\n\n  ItemBase.prototype.setState = function (state, value) {\n    var states = this.get('states');\n    var shapeFactory = this.get('shapeFactory');\n    var stateName = state;\n    var filterStateName = state;\n\n    if (isString(value)) {\n      stateName = state + \":\" + value;\n      filterStateName = state + \":\";\n    }\n\n    var newStates = states;\n\n    if (isBoolean(value)) {\n      var index = states.indexOf(filterStateName);\n\n      if (value) {\n        if (index > -1) {\n          return;\n        }\n\n        states.push(stateName);\n      } else if (index > -1) {\n        states.splice(index, 1);\n      }\n    } else if (isString(value)) {\n      //  states  filterStateName \n      var filterStates = states.filter(function (name) {\n        return name.includes(filterStateName);\n      });\n\n      if (filterStates.length > 0) {\n        this.clearStates(filterStates);\n      }\n\n      newStates = newStates.filter(function (name) {\n        return !name.includes(filterStateName);\n      });\n      newStates.push(stateName);\n      this.set('states', newStates);\n    }\n\n    if (shapeFactory) {\n      var model = this.get('model');\n      var type = model.type; //  shape/shape.ts  setState\n\n      shapeFactory.setState(type, state, value, this);\n    }\n  };\n  /**\n   * \n   * @param states \n   */\n\n\n  ItemBase.prototype.clearStates = function (states) {\n    var self = this;\n    var originStates = self.getStates();\n    var shapeFactory = self.get('shapeFactory');\n    var model = self.get('model');\n    var shape = model.type;\n\n    if (!states) {\n      states = originStates;\n    }\n\n    if (isString(states)) {\n      states = [states];\n    }\n\n    var newStates = originStates.filter(function (state) {\n      return states.indexOf(state) === -1;\n    });\n    self.set('states', newStates);\n    states.forEach(function (state) {\n      shapeFactory.setState(shape, state, false, self);\n    });\n  };\n  /**\n   * \n   * @return {G.Group} \n   */\n\n\n  ItemBase.prototype.getContainer = function () {\n    return this.get('group');\n  };\n  /**\n   * \n   * @return {IShapeBase} \n   */\n\n\n  ItemBase.prototype.getKeyShape = function () {\n    return this.get('keyShape');\n  };\n  /**\n   * \n   * @return {Object} \n   */\n\n\n  ItemBase.prototype.getModel = function () {\n    return this.get('model');\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  ItemBase.prototype.getType = function () {\n    return this.get('type');\n  };\n  /**\n   *  Item ID\n   */\n\n\n  ItemBase.prototype.getID = function () {\n    return this.get('id');\n  };\n  /**\n   *  Item \n   */\n\n\n  ItemBase.prototype.isItem = function () {\n    return true;\n  };\n  /**\n   * \n   * @return {Array} \n   */\n\n\n  ItemBase.prototype.getStates = function () {\n    return this.get('states');\n  };\n  /**\n   * \n   * @param {String} state \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.hasState = function (state) {\n    var states = this.getStates();\n    return states.indexOf(state) >= 0;\n  };\n  /**\n   * \n   * 1. item model \n   * 2. \n   *\n   *  shape \n   */\n\n\n  ItemBase.prototype.refresh = function () {\n    var model = this.get('model'); // \n\n    this.updatePosition(model); // \n\n    this.updateShape(); // \n\n    this.afterUpdate(); // \n\n    this.clearCache();\n  };\n\n  ItemBase.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  model \n   * @internal  Graph  graph.update \n   * @param  {Object} cfg       \n   */\n\n\n  ItemBase.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var originPosition = {\n      x: model.x,\n      y: model.y\n    };\n    cfg.x = isNaN(cfg.x) ? model.x : cfg.x;\n    cfg.y = isNaN(cfg.y) ? model.y : cfg.y;\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    } // \n\n\n    Object.assign(model, cfg); // isOnlyMove node\n    // const onlyMove = this.isOnlyMove(cfg);\n    // \n\n    if (onlyMove) {\n      this.updatePosition(cfg);\n    } else {\n      //  x,y \n      if (originPosition.x !== cfg.x || originPosition.y !== cfg.y) {\n        this.updatePosition(cfg);\n      }\n\n      this.updateShape();\n    }\n\n    this.afterUpdate();\n    this.clearCache();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.updateShape = function () {\n    var shapeFactory = this.get('shapeFactory');\n    var model = this.get('model');\n    var shape = model.type; // \n    // 1. \n    // 2.  shape  shape\n\n    if (shapeFactory.shouldUpdate(shape) && shape === this.get('currentShape')) {\n      var updateCfg = this.getShapeCfg(model);\n      shapeFactory.baseUpdate(shape, updateCfg, this); // \n\n      this.setOriginStyle();\n    } else {\n      // \n      this.draw();\n    } // \n\n\n    this.restoreStates(shapeFactory, shape);\n  };\n  /**\n   * \n   * @param {object} cfg \n   */\n\n\n  ItemBase.prototype.updatePosition = function (cfg) {\n    var model = this.get('model');\n    var x = isNil(cfg.x) ? model.x : cfg.x;\n    var y = isNil(cfg.y) ? model.y : cfg.y;\n    var group = this.get('group');\n\n    if (isNil(x) || isNil(y)) {\n      return false;\n    }\n\n    model.x = x;\n    model.y = y;\n    var matrix = group.getMatrix();\n    if (matrix && matrix[6] === x && matrix[7] === y) return false;\n    group.resetMatrix(); // G 4.0 element https://www.yuque.com/antv/blog/kxzk9g#4rMMV\n\n    translate(group, {\n      x: x,\n      y: y\n    });\n    this.clearCache(); // \n\n    return true;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateBBox();\n      this.set(CACHE_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   *  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getCanvasBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_CANVAS_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateCanvasBBox();\n      this.set(CACHE_CANVAS_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toFront = function () {\n    var group = this.get('group');\n    group.toFront();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toBack = function () {\n    var group = this.get('group');\n    group.toBack();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.show = function () {\n    this.changeVisibility(true);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.hide = function () {\n    this.changeVisibility(false);\n  };\n  /**\n   * \n   * @param  {Boolean} visible \n   */\n\n\n  ItemBase.prototype.changeVisibility = function (visible) {\n    var group = this.get('group');\n\n    if (visible) {\n      group.show();\n    } else {\n      group.hide();\n    }\n\n    this.set('visible', visible);\n  };\n  /**\n   * \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.isVisible = function () {\n    return this.get('visible');\n  };\n  /**\n   * \n   * @param {Boolean} enable \n   */\n\n\n  ItemBase.prototype.enableCapture = function (enable) {\n    var group = this.get('group');\n\n    if (group) {\n      group.set('capture', enable);\n    }\n  };\n\n  ItemBase.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return ItemBase;\n}();\n\nexport default ItemBase;","import { __extends } from \"tslib\";\nimport { isString, isPlainObject, isNil, mix } from '@antv/util';\nimport Item from './item';\nvar END_MAP = {\n  source: 'start',\n  target: 'end'\n};\nvar ITEM_NAME_SUFFIX = 'Node'; //  sourceNode, targetNode\n\nvar POINT_NAME_SUFFIX = 'Point'; //  startPoint, endPoint\n\nvar ANCHOR_NAME_SUFFIX = 'Anchor';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Edge.prototype.getDefaultCfg = function () {\n    return {\n      type: 'edge',\n      sourceNode: null,\n      targetNode: null,\n      startPoint: null,\n      endPoint: null,\n      linkCenter: false\n    };\n  };\n\n  Edge.prototype.setEnd = function (name, value) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var preItem = this.get(itemName);\n\n    if (preItem && !preItem.destroyed) {\n      // \n      preItem.removeEdge(this);\n    }\n\n    if (isPlainObject(value)) {\n      // \n      this.set(pointName, value);\n      this.set(itemName, null);\n    } else {\n      value.addEdge(this);\n      this.set(itemName, value);\n      this.set(pointName, null);\n    }\n  };\n  /**\n   * \n   * @param name source | target\n   * @param model \n   * @param controlPoints \n   */\n\n\n  Edge.prototype.getLinkPoint = function (name, model, controlPoints) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var point = this.get(pointName);\n\n    if (!point) {\n      var item = this.get(itemName);\n      var anchorName = name + ANCHOR_NAME_SUFFIX;\n      var prePoint = this.getPrePoint(name, controlPoints);\n      var anchorIndex = model[anchorName];\n\n      if (!isNil(anchorIndex)) {\n        // \n        point = item.getLinkPointByAnchor(anchorIndex);\n      } // \n\n\n      point = point || item.getLinkPoint(prePoint);\n\n      if (!isNil(point.index)) {\n        this.set(name + \"AnchorIndex\", point.index);\n      }\n    }\n\n    return point;\n  };\n  /**\n   * \n   * @param name\n   * @param controlPoints\n   */\n\n\n  Edge.prototype.getPrePoint = function (name, controlPoints) {\n    if (controlPoints && controlPoints.length) {\n      var index = name === 'source' ? 0 : controlPoints.length - 1;\n      return controlPoints[index];\n    }\n\n    var oppositeName = name === 'source' ? 'target' : 'source'; // \n\n    return this.getEndPoint(oppositeName);\n  };\n  /**\n   * \n   * @param name\n   */\n\n\n  Edge.prototype.getEndPoint = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      return item.get('model');\n    } // \n\n\n    return this.get(pointName);\n  };\n  /**\n   * \n   * @param model\n   */\n\n\n  Edge.prototype.getControlPointsByCenter = function (model) {\n    var sourcePoint = this.getEndPoint('source');\n    var targetPoint = this.getEndPoint('target');\n    var shapeFactory = this.get('shapeFactory');\n    var type = model.type;\n    return shapeFactory.getControlPoints(type, {\n      startPoint: sourcePoint,\n      endPoint: targetPoint\n    });\n  };\n\n  Edge.prototype.getEndCenter = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      var bbox = item.getBBox();\n      return {\n        x: bbox.centerX,\n        y: bbox.centerY\n      };\n    } // \n\n\n    return this.get(pointName);\n  };\n\n  Edge.prototype.init = function () {\n    _super.prototype.init.call(this); // \n\n\n    this.setSource(this.get('source'));\n    this.setTarget(this.get('target'));\n  };\n\n  Edge.prototype.getShapeCfg = function (model) {\n    var self = this;\n    var linkCenter = self.get('linkCenter'); // \n\n    var cfg = _super.prototype.getShapeCfg.call(this, model);\n\n    if (linkCenter) {\n      cfg.startPoint = self.getEndCenter('source');\n      cfg.endPoint = self.getEndCenter('target');\n    } else {\n      var controlPoints = cfg.controlPoints || self.getControlPointsByCenter(cfg);\n      cfg.startPoint = self.getLinkPoint('source', model, controlPoints);\n      cfg.endPoint = self.getLinkPoint('target', model, controlPoints);\n    }\n\n    cfg.sourceNode = self.get('sourceNode');\n    cfg.targetNode = self.get('targetNode');\n    return cfg;\n  };\n  /**\n   * \n   */\n\n\n  Edge.prototype.getModel = function () {\n    var out = this.get('model');\n    var sourceItem = this.get(\"source\" + ITEM_NAME_SUFFIX);\n    var targetItem = this.get(\"target\" + ITEM_NAME_SUFFIX);\n\n    if (sourceItem) {\n      delete out[\"source\" + ITEM_NAME_SUFFIX];\n    } else {\n      out.source = this.get(\"start\" + POINT_NAME_SUFFIX);\n    }\n\n    if (targetItem) {\n      delete out[\"target\" + ITEM_NAME_SUFFIX];\n    } else {\n      out.target = this.get(\"end\" + POINT_NAME_SUFFIX);\n    }\n\n    if (!isString(out.source) && !isPlainObject(out.source)) {\n      out.source = out.source.getID();\n    }\n\n    if (!isString(out.target) && !isPlainObject(out.target)) {\n      out.target = out.target.getID();\n    }\n\n    return out;\n  };\n\n  Edge.prototype.setSource = function (source) {\n    this.setEnd('source', source);\n    this.set('source', source);\n  };\n\n  Edge.prototype.setTarget = function (target) {\n    this.setEnd('target', target);\n    this.set('target', target);\n  };\n\n  Edge.prototype.getSource = function () {\n    return this.get('source');\n  };\n\n  Edge.prototype.getTarget = function () {\n    return this.get('target');\n  };\n\n  Edge.prototype.updatePosition = function () {\n    return false;\n  };\n  /**\n   *  path \n   * @param {object} cfg \n   */\n\n\n  Edge.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    }\n\n    Object.assign(model, cfg);\n    this.updateShape();\n    this.afterUpdate();\n    this.clearCache();\n  };\n\n  Edge.prototype.destroy = function () {\n    var sourceItem = this.get(\"source\" + ITEM_NAME_SUFFIX);\n    var targetItem = this.get(\"target\" + ITEM_NAME_SUFFIX);\n\n    if (sourceItem && !sourceItem.destroyed) {\n      sourceItem.removeEdge(this);\n    }\n\n    if (targetItem && !targetItem.destroyed) {\n      targetItem.removeEdge(this);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  return Edge;\n}(Item);\n\nexport default Edge;","import { __extends } from \"tslib\";\nimport { each, isNil } from '@antv/util';\nimport { distance, getCircleIntersectByPoint, getEllipseIntersectByPoint, getRectIntersectByPoint } from '../util/math';\nimport Item from './item';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\nvar CACHE_BBOX = 'bboxCache';\n\nvar Node =\n/** @class */\nfunction (_super) {\n  __extends(Node, _super);\n\n  function Node() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Node.prototype.getNearestPoint = function (points, curPoint) {\n    var index = 0;\n    var nearestPoint = points[0];\n    var minDistance = distance(points[0], curPoint);\n\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      var dis = distance(point, curPoint);\n\n      if (dis < minDistance) {\n        nearestPoint = point;\n        minDistance = dis;\n        index = i;\n      }\n    }\n\n    nearestPoint.anchorIndex = index;\n    return nearestPoint;\n  };\n\n  Node.prototype.getDefaultCfg = function () {\n    return {\n      type: 'node',\n      edges: []\n    };\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getInEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('target') === self;\n    });\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getOutEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('source') === self;\n    });\n  };\n  /**\n   * \n   *\n   * @returns {INode[]}\n   * @memberof Node\n   */\n\n\n  Node.prototype.getNeighbors = function (type) {\n    var _this = this;\n\n    var edges = this.get('edges');\n\n    if (type === 'target') {\n      //  source\n      var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n        return edge.getSource() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_1).map(function (edge) {\n        return edge.getTarget();\n      });\n    }\n\n    if (type === 'source') {\n      //  target\n      var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n        return edge.getTarget() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_2).map(function (edge) {\n        return edge.getSource();\n      });\n    } //  type \n\n\n    var neighhborsConverter = function neighhborsConverter(edge) {\n      return edge.getSource() === _this ? edge.getTarget() : edge.getSource();\n    };\n\n    return edges.map(neighhborsConverter);\n  };\n  /**\n   * \n   * @param  {Number} index \n   */\n\n\n  Node.prototype.getLinkPointByAnchor = function (index) {\n    var anchorPoints = this.getAnchorPoints();\n    return anchorPoints[index];\n  };\n  /**\n   * \n   * @param point\n   */\n\n\n  Node.prototype.getLinkPoint = function (point) {\n    var keyShape = this.get('keyShape');\n    var type = keyShape.get('type');\n    var itemType = this.get('type');\n    var centerX;\n    var centerY;\n    var bbox = this.getBBox();\n\n    if (itemType === 'combo') {\n      centerX = bbox.centerX || (bbox.maxX + bbox.minX) / 2;\n      centerY = bbox.centerY || (bbox.maxY + bbox.minY) / 2;\n    } else {\n      centerX = bbox.centerX;\n      centerY = bbox.centerY;\n    }\n\n    var anchorPoints = this.getAnchorPoints();\n    var intersectPoint;\n\n    switch (type) {\n      case 'circle':\n        intersectPoint = getCircleIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          r: bbox.width / 2\n        }, point);\n        break;\n\n      case 'ellipse':\n        intersectPoint = getEllipseIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          rx: bbox.width / 2,\n          ry: bbox.height / 2\n        }, point);\n        break;\n\n      default:\n        intersectPoint = getRectIntersectByPoint(bbox, point);\n    }\n\n    var linkPoint = intersectPoint; // \n\n    if (anchorPoints.length) {\n      if (!linkPoint) {\n        // \n        linkPoint = point;\n      }\n\n      linkPoint = this.getNearestPoint(anchorPoints, linkPoint);\n    }\n\n    if (!linkPoint) {\n      // \n      linkPoint = {\n        x: centerX,\n        y: centerY\n      };\n    }\n\n    return linkPoint;\n  };\n  /**\n   * \n   * @return {array} anchorPoints\n   */\n\n\n  Node.prototype.getAnchorPoints = function () {\n    var anchorPoints = this.get(CACHE_ANCHOR_POINTS);\n\n    if (!anchorPoints) {\n      anchorPoints = [];\n      var shapeFactory = this.get('shapeFactory');\n      var bbox_1 = this.getBBox();\n      var model = this.get('model');\n      var shapeCfg = this.getShapeCfg(model);\n      var type = model.type;\n      var points = shapeFactory.getAnchorPoints(type, shapeCfg) || [];\n      each(points, function (pointArr, index) {\n        var point = {\n          x: bbox_1.minX + pointArr[0] * bbox_1.width,\n          y: bbox_1.minY + pointArr[1] * bbox_1.height,\n          anchorIndex: index\n        };\n        anchorPoints.push(point);\n      });\n      this.set(CACHE_ANCHOR_POINTS, anchorPoints);\n    }\n\n    return anchorPoints;\n  };\n  /**\n   * add edge\n   * @param edge Edge instance\n   */\n\n\n  Node.prototype.addEdge = function (edge) {\n    this.get('edges').push(edge);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.lock = function () {\n    this.set('locked', true);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.unlock = function () {\n    this.set('locked', false);\n  };\n\n  Node.prototype.hasLocked = function () {\n    return this.get('locked');\n  };\n  /**\n   * \n   * @param {Edge} edge \n   */\n\n\n  Node.prototype.removeEdge = function (edge) {\n    var edges = this.getEdges();\n    var index = edges.indexOf(edge);\n\n    if (index > -1) {\n      edges.splice(index, 1);\n    }\n  };\n\n  Node.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n  /**\n   * \n   * @param cfg \n   */\n\n\n  Node.prototype.isOnlyMove = function (cfg) {\n    if (!cfg) {\n      return false;\n    }\n\n    var existX = !isNil(cfg.x);\n    var existY = !isNil(cfg.y);\n    var keys = Object.keys(cfg); //  x   y\n    //  x y\n\n    return keys.length === 1 && (existX || existY) || keys.length === 2 && existX && existY;\n  };\n\n  return Node;\n}(Item);\n\nexport default Node;","import { __assign, __extends } from \"tslib\";\nimport Node from './node';\nimport Global from '../global';\nimport { getBBox } from '../util/graphic';\nimport { isNumber } from '@antv/util';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar CACHE_SIZE = 'sizeCache';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\n\nvar Combo =\n/** @class */\nfunction (_super) {\n  __extends(Combo, _super);\n\n  function Combo() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Combo.prototype.getDefaultCfg = function () {\n    return {\n      type: 'combo',\n      nodes: [],\n      edges: [],\n      combos: []\n    };\n  };\n\n  Combo.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n    var bbox = this.get('bbox');\n\n    if (styles && bbox) {\n      // merge graphitem\n      var newModel = model;\n      var size = {\n        r: Math.hypot(bbox.height, bbox.width) / 2 || Global.defaultCombo.size[0] / 2,\n        width: bbox.width || Global.defaultCombo.size[0],\n        height: bbox.height || Global.defaultCombo.size[1]\n      };\n      newModel.style = __assign(__assign(__assign({}, styles), model.style), size);\n      var padding = model.padding || Global.defaultCombo.padding;\n\n      if (isNumber(padding)) {\n        size.r += padding;\n        size.width += padding * 2;\n        size.height += padding * 2;\n      } else {\n        size.r += padding[0];\n        size.width += padding[1] + padding[3] || padding[1] * 2;\n        size.height += padding[0] + padding[2] || padding[0] * 2;\n      }\n\n      this.set(CACHE_SIZE, size);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  Combo.prototype.calculateCanvasBBox = function () {\n    if (this.destroyed) return;\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    var cacheSize = this.get(CACHE_SIZE);\n    var cacheBBox = this.get(CACHE_BBOX) || {};\n    var oriX = cacheBBox.x;\n    var oriY = cacheBBox.x;\n\n    if (cacheSize) {\n      cacheSize.width = Math.max(cacheSize.width, bbox.width);\n      cacheSize.height = Math.max(cacheSize.height, bbox.height);\n      var type = keyShape.get('type');\n\n      if (type === 'circle') {\n        bbox.width = cacheSize.r * 2;\n        bbox.height = cacheSize.r * 2;\n      } else {\n        bbox.width = cacheSize.width;\n        bbox.height = cacheSize.height;\n      }\n\n      bbox.minX = bbox.centerX - bbox.width / 2;\n      bbox.minY = bbox.centerY - bbox.height / 2;\n      bbox.maxX = bbox.centerX + bbox.width / 2;\n      bbox.maxY = bbox.centerY + bbox.height / 2;\n    } else {\n      bbox.width = bbox.maxX - bbox.minX;\n      bbox.height = bbox.maxY - bbox.minY;\n      bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n      bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    }\n\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    if (bbox.x !== oriX || bbox.y !== oriY) this.set(CACHE_ANCHOR_POINTS, null);\n    return bbox;\n  };\n  /**\n   *  Combo  ComboNode  Edge\n   */\n\n\n  Combo.prototype.getChildren = function () {\n    var self = this;\n    return {\n      nodes: self.getNodes(),\n      combos: self.getCombos()\n    };\n  };\n  /**\n   *  Combo \n   */\n\n\n  Combo.prototype.getNodes = function () {\n    var self = this;\n    return self.get('nodes');\n  };\n  /**\n   *  Combo  combo\n   */\n\n\n  Combo.prototype.getCombos = function () {\n    var self = this;\n    return self.get('combos');\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.addNode(item);\n        break;\n\n      case 'combo':\n        self.addCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addCombo = function (combo) {\n    var self = this;\n    self.get('combos').push(combo);\n    return true;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addNode = function (node) {\n    var self = this;\n    self.get('nodes').push(node);\n    return true;\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.removeNode(item);\n        break;\n\n      case 'combo':\n        self.removeCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeCombo = function (combo) {\n    if (!combo) return;\n    var combos = this.getCombos();\n    var index = combos.indexOf(combo);\n\n    if (index > -1) {\n      combos.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeNode = function (node) {\n    if (!node) return;\n    var nodes = this.getNodes();\n    var index = nodes.indexOf(node);\n\n    if (index > -1) {\n      nodes.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n\n  Combo.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  Combo.prototype.getBBox = function () {\n    this.set(CACHE_CANVAS_BBOX, null);\n    var bbox = this.calculateCanvasBBox();\n    return bbox;\n  };\n\n  Combo.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_CANVAS_BBOX, null);\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n\n  Combo.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      this.set(CACHE_SIZE, null);\n      this.set('bbox', null);\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return Combo;\n}(Node);\n\nexport default Combo;","import { __assign } from \"tslib\";\nimport { clone, deepMix, each, isArray, isObject, isString, upperFirst } from '@antv/util';\nimport Edge from '../../item/edge';\nimport Node from '../../item/node';\nimport Combo from '../../item/combo';\nimport { traverseTreeUp, traverseTree, getComboBBox, shouldRefreshEdge } from '../../util/graphic';\nvar NODE = 'node';\nvar EDGE = 'edge';\nvar VEDGE = 'vedge';\nvar COMBO = 'combo';\nvar CFG_PREFIX = 'default';\nvar MAPPER_SUFFIX = 'Mapper';\nvar STATE_SUFFIX = 'stateStyles';\n\nvar ItemController =\n/** @class */\nfunction () {\n  function ItemController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n  }\n  /**\n   *  Item \n   *\n   * @param {ITEM_TYPE} type node  edge\n   * @param {(NodeConfig & EdgeConfig)} model \n   * @returns {(Item)}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addItem = function (type, model) {\n    var graph = this.graph;\n    var vType = type === VEDGE ? EDGE : type;\n    var parent = graph.get(vType + \"Group\") || graph.get('group');\n    var upperType = upperFirst(vType);\n    var item = null; //  this.get('styles') \n\n    var styles = graph.get(vType + upperFirst(STATE_SUFFIX)) || {};\n    var defaultModel = graph.get(CFG_PREFIX + upperType);\n\n    if (model[STATE_SUFFIX]) {\n      //  this.get('styles') \n      styles = model[STATE_SUFFIX];\n    }\n\n    if (defaultModel) {\n      //  merge  model \n      each(defaultModel, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, val, model[cfg]);\n        } else if (isArray(val)) {\n          model[cfg] = model[cfg] || clone(defaultModel[cfg]);\n        } else {\n          model[cfg] = model[cfg] || defaultModel[cfg];\n        }\n      });\n    }\n\n    var mapper = graph.get(vType + MAPPER_SUFFIX);\n\n    if (mapper) {\n      var mappedModel_1 = mapper(model);\n\n      if (mappedModel_1[STATE_SUFFIX]) {\n        //  this.get('styles') \n        styles = mappedModel_1[STATE_SUFFIX];\n        delete mappedModel_1[STATE_SUFFIX];\n      } //  defaultEdge  defaultNode\n\n\n      each(mappedModel_1, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, model[cfg], val);\n        } else {\n          model[cfg] = mappedModel_1[cfg] || model[cfg];\n        }\n      });\n    }\n\n    graph.emit('beforeadditem', {\n      type: type,\n      model: model\n    });\n\n    if (type === EDGE || type === VEDGE) {\n      var source = void 0;\n      var target = void 0;\n      source = model.source; // eslint-disable-line prefer-destructuring\n\n      target = model.target; // eslint-disable-line prefer-destructuring\n\n      if (source && isString(source)) {\n        source = graph.findById(source);\n      }\n\n      if (target && isString(target)) {\n        target = graph.findById(target);\n      }\n\n      if (!source || !target) {\n        console.warn(\"The source or target node of edge \" + model.id + \" does not exist!\");\n        return;\n      }\n\n      if (source.getType && source.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(source as ICombo);\n      }\n\n      if (target.getType && target.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(target as ICombo);\n      }\n\n      item = new Edge({\n        model: model,\n        source: source,\n        target: target,\n        styles: styles,\n        linkCenter: graph.get('linkCenter'),\n        group: parent.addGroup()\n      });\n    } else if (type === NODE) {\n      item = new Node({\n        model: model,\n        styles: styles,\n        group: parent.addGroup()\n      });\n    } else if (type === COMBO) {\n      var children = model.children;\n      var comboBBox = getComboBBox(children, graph);\n      if (!isNaN(comboBBox.x)) model.x = comboBBox.x;else if (isNaN(model.x)) model.x = Math.random() * 100;\n      if (!isNaN(comboBBox.y)) model.y = comboBBox.y;else if (isNaN(model.y)) model.y = Math.random() * 100;\n      var comboGroup = parent.addGroup();\n      comboGroup.setZIndex(model.depth);\n      item = new Combo({\n        model: model,\n        styles: styles,\n        bbox: model.collapsed ? getComboBBox([], graph) : comboBBox,\n        group: comboGroup\n      });\n      var comboModel_1 = item.getModel();\n      (children || []).forEach(function (child) {\n        var childItem = graph.findById(child.id);\n        item.addChild(childItem);\n        child.depth = comboModel_1.depth + 2;\n      }); // collapse the combo if the collapsed is true in the model\n\n      if (model.collapsed) {\n        setTimeout(function () {\n          graph.collapseCombo(item);\n        }, 16);\n      }\n    }\n\n    if (item) {\n      graph.get(type + \"s\").push(item);\n      graph.get('itemMap')[item.get('id')] = item;\n      graph.emit('afteradditem', {\n        item: item,\n        model: model\n      }); // eslint-disable-next-line consistent-return\n\n      return item;\n    }\n  };\n  /**\n   * \n   *\n   * @param {Item} item ID  \n   * @param {(EdgeConfig | Partial<NodeConfig>)} cfg \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateItem = function (item, cfg) {\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    } //  item \n\n\n    var type = '';\n    if (item.getType) type = item.getType();\n    var mapper = graph.get(type + MAPPER_SUFFIX);\n    var model = item.getModel();\n    var isOnlyMove = item.isOnlyMove(cfg);\n\n    if (mapper) {\n      var result = deepMix({}, model, cfg);\n      var mappedModel = mapper(result); //  update mapperModeldeepMix\n\n      var newModel = deepMix({}, model, mappedModel, cfg);\n\n      if (mappedModel[STATE_SUFFIX]) {\n        item.set('styles', newModel[STATE_SUFFIX]);\n        delete newModel[STATE_SUFFIX];\n      }\n\n      each(newModel, function (val, key) {\n        cfg[key] = val;\n      });\n    } else {\n      // merge updatemodel\n      each(cfg, function (val, key) {\n        if (model[key]) {\n          if (isObject(val) && !isArray(val)) {\n            cfg[key] = __assign(__assign({}, model[key]), cfg[key]);\n          }\n        }\n      });\n    } // emit beforeupdateitem \n\n\n    graph.emit('beforeupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n\n    if (type === EDGE) {\n      // source || target, modelstartPointendPoint\n      if (cfg.source) {\n        var source = cfg.source;\n\n        if (isString(source)) {\n          source = graph.findById(source);\n        }\n\n        item.setSource(source);\n      }\n\n      if (cfg.target) {\n        var target = cfg.target;\n\n        if (isString(target)) {\n          target = graph.findById(target);\n        }\n\n        item.setTarget(target);\n      }\n\n      item.update(cfg);\n    } // item.update(cfg);\n\n\n    if (type === NODE || type === COMBO) {\n      item.update(cfg, isOnlyMove);\n      var edges_1 = item.getEdges();\n      var refreshEdge = shouldRefreshEdge(cfg);\n      if (refreshEdge && type === NODE) each(edges_1, function (edge) {\n        edge.refresh();\n      });else if (refreshEdge && type === COMBO) {\n        var shapeFactory = item.get('shapeFactory');\n        var shapeType = model.type || 'circle';\n        var comboAnimate = model.animate === undefined || cfg.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate || cfg.animate;\n\n        if (comboAnimate) {\n          setTimeout(function () {\n            if (!item || item.destroyed) return;\n            var keyShape = item.getKeyShape();\n            if (!keyShape || keyShape.destroyed) return;\n            each(edges_1, function (edge) {\n              if (edge && !edge.destroyed) edge.refresh();\n            });\n          }, 201);\n        } else {\n          each(edges_1, function (edge) {\n            edge.refresh();\n          });\n        }\n      }\n    }\n\n    graph.emit('afterupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n  };\n  /**\n   *  combo  combo \n   *\n   * @param {ICombo} combo ID  \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateCombo = function (combo, children) {\n    var _this = this;\n\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    if (!combo || combo.destroyed) {\n      return;\n    }\n\n    var model = combo.getModel();\n    var comboBBox = getComboBBox(model.collapsed ? [] : children, graph);\n    combo.set('bbox', comboBBox);\n    combo.update({\n      x: comboBBox.x,\n      y: comboBBox.y\n    });\n    var shapeFactory = combo.get('shapeFactory');\n    var shapeType = model.type || 'circle';\n    var comboAnimate = model.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate;\n\n    if (comboAnimate) {\n      setTimeout(function () {\n        if (!combo || combo.destroyed) return;\n        var keyShape = combo.getKeyShape();\n        if (!keyShape || keyShape.destroyed) return;\n        combo.getShapeCfg(model); //  combo  size\n\n        _this.updateComboEdges(combo);\n      }, 201);\n    } else {\n      this.updateComboEdges(combo);\n    }\n  };\n\n  ItemController.prototype.updateComboEdges = function (combo) {\n    var combEdges = combo.getEdges() || [];\n\n    for (var i = 0; i < combEdges.length; i++) {\n      var edge = combEdges[i];\n\n      if (edge && !edge.destroyed) {\n        var edgeSF = edge.get('shapeFactory');\n        var edgeCfg = edge.getShapeCfg(edge.getModel());\n        var edgeGroup = edge.getContainer();\n        edgeGroup.clear();\n        var keyShape = edgeSF.draw(edgeCfg.type, edgeCfg, edgeGroup);\n        edge.set('keyShape', keyShape);\n        keyShape.set('isKeyShape', true);\n        keyShape.set('draggable', true);\n        edge.setOriginStyle();\n      }\n    }\n  };\n  /**\n   *  combo\n   */\n\n\n  ItemController.prototype.collapseCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.hideItem(node);\n    });\n    children.combos.forEach(function (c) {\n      graph.hideItem(c);\n    });\n  };\n  /**\n   *  combo\n   *  combo \n   */\n\n\n  ItemController.prototype.expandCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.showItem(node);\n    });\n    children.combos.forEach(function (c) {\n      if (c.getModel().collapsed) {\n        c.show();\n      } else {\n        graph.showItem(c);\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {Item} item item ID \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.removeItem = function (item) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    var itemModel = clone(item.getModel());\n    graph.emit('beforeremoveitem', {\n      item: itemModel\n    });\n    var type = '';\n    if (item.getType) type = item.getType();\n    var items = graph.get(type + \"s\");\n    var index = items.indexOf(item);\n    if (index > -1) items.splice(index, 1);\n\n    if (type === EDGE) {\n      var vitems = graph.get(\"v\" + type + \"s\");\n      var vindex = vitems.indexOf(item);\n      if (vindex > -1) vitems.splice(vindex, 1);\n    }\n\n    var itemId = item.get('id');\n    var itemMap = graph.get('itemMap');\n    delete itemMap[itemId];\n    var comboTrees = graph.get('comboTrees');\n    var id = item.get('id');\n\n    if (type === NODE) {\n      var comboId = item.getModel().comboId;\n\n      if (comboTrees && comboId) {\n        var brothers_1 = comboTrees;\n        var found_1 = false; // the flag to terminate the forEach circulation\n        // remove the node from the children array of its parent fromt he tree\n\n        comboTrees.forEach(function (ctree) {\n          if (found_1) return;\n          traverseTree(ctree, function (combo) {\n            if (combo.id === id && brothers_1) {\n              var bidx = brothers_1.indexOf(combo);\n              brothers_1.splice(bidx, 1);\n              found_1 = true;\n              return false; // terminate the traverse\n            }\n\n            brothers_1 = combo.children;\n            return true;\n          });\n        });\n      } // \n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length - 1; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (comboId) graph.updateCombo(comboId);\n    } else if (type === COMBO) {\n      var parentId = item.getModel().parentId;\n      var comboInTree_1; // find the subtree rooted at the item to be removed\n\n      var found_2 = false; // the flag to terminate the forEach circulation\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_2) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id) {\n            comboInTree_1 = combo;\n            found_2 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n      comboInTree_1.removed = true;\n\n      if (comboInTree_1 && comboInTree_1.children) {\n        comboInTree_1.children.forEach(function (child) {\n          _this.removeItem(child.id);\n        });\n      } //  combo\n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (parentId) graph.updateCombo(parentId);\n    }\n\n    item.destroy();\n    graph.emit('afterremoveitem', {\n      item: itemModel\n    });\n  };\n  /**\n   *  item \n   *\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {boolean} value \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.setItemState = function (item, state, value) {\n    var graph = this.graph;\n    var stateName = state;\n\n    if (isString(value)) {\n      stateName = state + \":\" + value;\n    } //  state state  undefined\n\n\n    if (item.hasState(stateName) === value && value || //  true  false \n    isString(value) && item.hasState(stateName)) {\n      //  value \n      return;\n    }\n\n    graph.emit('beforeitemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n    item.setState(state, value);\n    graph.autoPaint();\n    graph.emit('afteritemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  ItemController.prototype.priorityState = function (item, state) {\n    var graph = this.graph;\n    var currentItem = item;\n\n    if (isString(item)) {\n      currentItem = graph.findById(item);\n    } //  state\n\n\n    this.setItemState(currentItem, state, false); // state\n\n    this.setItemState(currentItem, state, true);\n  };\n  /**\n   * \n   *\n   * @param {Item} item Item \n   * @param {string[]} states \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.clearItemStates = function (item, states) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemstatesclear', {\n      item: item,\n      states: states\n    });\n    item.clearStates(states);\n    graph.emit('afteritemstatesclear', {\n      item: item,\n      states: states\n    });\n  };\n  /**\n   *  Item\n   *\n   * @param {Item} item Item ID  \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.refreshItem = function (item) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemrefresh', {\n      item: item\n    }); //  Item  refresh \n\n    item.refresh();\n    graph.emit('afteritemrefresh', {\n      item: item\n    });\n  };\n  /**\n   *  graph  combos  comboTree  combos\n   *\n   * @param {ComboTree[]} comboTrees graph  combos  comboTree\n   * @param {ComboConfig[]} comboModels combos \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addCombos = function (comboTrees, comboModels) {\n    var _this = this;\n\n    var graph = this.graph;\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        var comboModel;\n        comboModels.forEach(function (model) {\n          if (model.id === child.id) {\n            model.children = child.children;\n            model.depth = child.depth;\n            comboModel = model;\n          }\n        });\n\n        if (comboModel) {\n          _this.addItem('combo', comboModel);\n        }\n\n        return true;\n      });\n    });\n    var comboGroup = graph.get('comboGroup');\n    if (comboGroup) comboGroup.sort();\n  };\n  /**\n   * Item\n   *\n   * @param {Item} item Item ID  \n   * @param {boolean} visible \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.changeItemVisibility = function (item, visible) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item) {\n      console.warn('The item to be shown or hidden does not exist!');\n      return;\n    }\n\n    graph.emit('beforeitemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    item.changeVisibility(visible);\n\n    if (item.getType && item.getType() === NODE) {\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        // \n        // \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    } else if (item.getType && item.getType() === COMBO) {\n      var comboTrees = graph.get('comboTrees');\n      var id_1 = item.get('id');\n      var children_1 = [];\n      var found_3 = false; // flag the terminate the forEach\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_3) return;\n        if (!ctree.children || ctree.children.length === 0) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id_1) {\n            children_1 = combo.children;\n            found_3 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n\n      if (children_1 && (!visible || visible && !item.getModel().collapsed)) {\n        children_1.forEach(function (child) {\n          var childItem = graph.findById(child.id);\n\n          _this.changeItemVisibility(childItem, visible);\n        });\n      }\n\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        //  combo combo \n        //  combo combo \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    }\n\n    graph.emit('afteritemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    return item;\n  };\n\n  ItemController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = true;\n  };\n\n  return ItemController;\n}();\n\nexport default ItemController;","import { each, isString } from '@antv/util';\nvar timer = null;\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(graph) {\n    this.graph = graph;\n    /**\n     * this.cachedStates = {\n     *    enabled: {\n     *        hover: [Node]\n     *    },\n     *     disabled: {}\n     *  }\n     */\n\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n    this.destroyed = false;\n  }\n  /**\n   *  cache \n   *\n   * @private\n   * @param {Item} item\n   * @param {string} state\n   * @param {object} cache\n   * @returns\n   * @memberof State\n   */\n\n\n  StateController.checkCache = function (item, state, cache) {\n    if (!cache[state]) {\n      return;\n    }\n\n    var index = cache[state].indexOf(item);\n\n    if (index >= 0) {\n      cache[state].splice(index, 1);\n    }\n  };\n  /**\n   *  state\n   *\n   * @private\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {object} states\n   * @memberof State\n   */\n\n\n  StateController.cacheState = function (item, state, states) {\n    if (!states[state]) {\n      states[state] = [];\n    }\n\n    states[state].push(item);\n  };\n  /**\n   *  Item \n   *\n   * @param {Item} item Item\n   * @param {string} state \n   * @param {boolean} enabled \n   * @memberof State\n   */\n\n\n  StateController.prototype.updateState = function (item, state, enabled) {\n    var _this = this;\n\n    var checkCache = StateController.checkCache,\n        cacheState = StateController.cacheState;\n\n    if (item.destroyed) {\n      return;\n    }\n\n    var cachedStates = this.cachedStates;\n    var enabledStates = cachedStates.enabled;\n    var disabledStates = cachedStates.disabled;\n\n    if (enabled) {\n      checkCache(item, state, disabledStates);\n      cacheState(item, state, enabledStates);\n    } else {\n      checkCache(item, state, enabledStates);\n      cacheState(item, state, disabledStates);\n    }\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      timer = null;\n\n      _this.updateGraphStates();\n    }, 16);\n  };\n  /**\n   *  states updateState state\n   *\n   * @param {Item} item\n   * @param {(string | string[])} states\n   * @param {boolean} enabled\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateStates = function (item, states, enabled) {\n    var _this = this;\n\n    if (isString(states)) {\n      this.updateState(item, states, enabled);\n    } else {\n      states.forEach(function (state) {\n        _this.updateState(item, state, enabled);\n      });\n    }\n  };\n  /**\n   *  states\n   *\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateGraphStates = function () {\n    var states = this.graph.get('states');\n    var cachedStates = this.cachedStates;\n    each(cachedStates.disabled, function (val, key) {\n      if (states[key]) {\n        states[key] = states[key].filter(function (item) {\n          return val.indexOf(item) < 0 && !val.destroyed;\n        });\n      }\n    });\n    each(cachedStates.enabled, function (val, key) {\n      if (!states[key]) {\n        states[key] = val;\n      } else {\n        var map_1 = {};\n        states[key].forEach(function (item) {\n          if (!item.destroyed) {\n            map_1[item.get('id')] = true;\n          }\n        });\n        val.forEach(function (item) {\n          if (!item.destroyed) {\n            var id = item.get('id');\n\n            if (!map_1[id]) {\n              map_1[id] = true;\n              states[key].push(item);\n            }\n          }\n        });\n      }\n    });\n    this.graph.emit('graphstatechange', {\n      states: states\n    });\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n  };\n\n  StateController.prototype.destroy = function () {\n    this.graph = null;\n    this.cachedStates = null;\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = null;\n    this.destroyed = true;\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import { vec2 } from '@antv/matrix-util';\nimport { catmullRom2Bezier } from '@antv/path-util';\n/**\n * \n * @param {String} str \n * @param {Object} o json data\n */\n\nvar substitute = function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    var res = o[name];\n    if (res === 0) res = '0';\n    return res || '';\n  });\n};\n/**\n *  M  C \n * @param points coordinate set\n */\n\n\nexport var getSpline = function getSpline(points) {\n  var data = [];\n\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \" + points.length);\n  }\n\n  for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n    var point = points_1[_i];\n    var x = point.x,\n        y = point.y;\n    data.push(x);\n    data.push(y);\n  }\n\n  var spliePath = catmullRom2Bezier(data);\n  spliePath.unshift(['M', points[0].x, points[0].y]);\n  return spliePath;\n};\n/**\n * \n * @param  {IPoint} startPoint  x,y\n * @param  {IPoint} endPoint  ,  x,y\n * @param  {Number} percent   , 0-1\n * @param  {Number} offset    \n * @return {IPoint}  x,y\n */\n\nexport var getControlPoint = function getControlPoint(startPoint, endPoint, percent, offset) {\n  if (percent === void 0) {\n    percent = 0;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  var point = {\n    x: (1 - percent) * startPoint.x + percent * endPoint.x,\n    y: (1 - percent) * startPoint.y + percent * endPoint.y\n  };\n  var tangent = [0, 0];\n  vec2.normalize(tangent, [endPoint.x - startPoint.x, endPoint.y - startPoint.y]);\n\n  if (!tangent || !tangent[0] && !tangent[1]) {\n    tangent = [0, 0];\n  }\n\n  var perpendicular = [-tangent[1] * offset, tangent[0] * offset]; // \n\n  point.x += perpendicular[0];\n  point.y += perpendicular[1];\n  return point;\n};\n/**\n * Path\n * @param {Array} points \n * @param {Boolen} z \n * @return {Array} Path\n */\n\nexport var pointsToPolygon = function pointsToPolygon(points, z) {\n  var length = points.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var path = '';\n  var str = '';\n\n  for (var i = 0; i < length; i++) {\n    var item = points[i];\n\n    if (i === 0) {\n      str = 'M{x} {y}';\n    } else {\n      str = 'L{x} {y}';\n    }\n\n    path += substitute(str, item);\n  }\n\n  if (z) {\n    path += 'Z';\n  }\n\n  return path;\n};\nexport var pathToPoints = function pathToPoints(path) {\n  var points = [];\n  path.forEach(function (seg) {\n    var command = seg[0];\n\n    if (command !== 'A') {\n      for (var i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      var length_1 = seg.length;\n      points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n    }\n  });\n  return points;\n};\n/**\n * \n * @param points\n */\n\nexport var getClosedSpline = function getClosedSpline(points) {\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \" + points.length);\n  }\n\n  var first = points[0];\n  var second = points[1];\n  var last = points[points.length - 1];\n  var lastSecond = points[points.length - 2];\n  points.unshift(last);\n  points.unshift(lastSecond);\n  points.push(first);\n  points.push(second);\n  var closedPath = [];\n\n  for (var i = 1; i < points.length - 2; i += 1) {\n    var x0 = points[i - 1].x;\n    var y0 = points[i - 1].y;\n    var x1 = points[i].x;\n    var y1 = points[i].y;\n    var x2 = points[i + 1].x;\n    var y2 = points[i + 1].y;\n    var x3 = i !== points.length - 2 ? points[i + 2].x : x2;\n    var y3 = i !== points.length - 2 ? points[i + 2].y : y2;\n    var cp1x = x1 + (x2 - x0) / 6;\n    var cp1y = y1 + (y2 - y0) / 6;\n    var cp2x = x2 - (x3 - x1) / 6;\n    var cp2y = y2 - (y3 - y1) / 6;\n    closedPath.push(['C', cp1x, cp1y, cp2x, cp2y, x2, y2]);\n  }\n\n  closedPath.unshift(['M', last.x, last.y]);\n  return closedPath;\n};\n\nvar vecScaleTo = function vecScaleTo(v, length) {\n  // Vector with direction of v with specified length\n  return vec2.scale([0, 0], vec2.normalize([0, 0], v), length);\n};\n\nvar unitNormal = function unitNormal(p0, p1) {\n  // Returns the unit normal to the line segment from p0 to p1.\n  var n = [p0[1] - p1[1], p1[0] - p0[0]];\n  var nLength = Math.sqrt(n[0] * n[0] + n[1] * n[1]);\n\n  if (nLength === 0) {\n    throw new Error('p0 should not be equal to p1');\n  }\n\n  return [n[0] / nLength, n[1] / nLength];\n};\n\nvar vecFrom = function vecFrom(p0, p1) {\n  // Vector from p0 to p1\n  return [p1[0] - p0[0], p1[1] - p0[1]];\n};\n/**\n * \n * @param polyPoints \n * @param padding \n */\n\n\nexport function roundedHull(polyPoints, padding) {\n  // The rounded hull path around a single point\n  var roundedHull1 = function roundedHull1(points) {\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \" + p1 + \" A \" + padding + \",\" + padding + \",0,0,0,\" + p2 + \" A \" + padding + \",\" + padding + \",0,0,0,\" + p1;\n  }; // The rounded hull path around two points\n\n\n  var roundedHull2 = function roundedHull2(points) {\n    var offsetVector = vec2.scale([0, 0], unitNormal(points[0], points[1]), padding);\n    var invOffsetVector = vec2.scale([0, 0], offsetVector, -1);\n    var p0 = vec2.add([0, 0], points[0], offsetVector);\n    var p1 = vec2.add([0, 0], points[1], offsetVector);\n    var p2 = vec2.add([0, 0], points[1], invOffsetVector);\n    var p3 = vec2.add([0, 0], points[0], invOffsetVector);\n    return \"M \" + p0 + \" L \" + p1 + \" A \" + [padding, padding, '0,0,0', p2].join(',') + \" L \" + p3 + \" A \" + [padding, padding, '0,0,0', p0].join(',');\n  }; // 2\n\n\n  if (!polyPoints || polyPoints.length < 1) return '';\n  if (polyPoints.length === 1) return roundedHull1(polyPoints);\n  if (polyPoints.length === 2) return roundedHull2(polyPoints);\n  var segments = new Array(polyPoints.length); // Calculate each offset (outwards) segment of the convex hull.\n\n  for (var segmentIndex = 0; segmentIndex < segments.length; ++segmentIndex) {\n    var p0 = segmentIndex === 0 ? polyPoints[polyPoints.length - 1] : polyPoints[segmentIndex - 1];\n    var p1 = polyPoints[segmentIndex]; // Compute the offset vector for the line segment, with length = padding.\n\n    var offset = vec2.scale([0, 0], unitNormal(p0, p1), padding);\n    segments[segmentIndex] = [vec2.add([0, 0], p0, offset), vec2.add([0, 0], p1, offset)];\n  }\n\n  var arcData = \"A \" + [padding, padding, '0,0,0,'].join(',');\n  segments = segments.map(function (segment, index) {\n    var pathFragment = '';\n\n    if (index === 0) {\n      pathFragment = \"M \" + segments[segments.length - 1][1] + \" \";\n    }\n\n    pathFragment += arcData + segment[0] + \" L \" + segment[1];\n    return pathFragment;\n  });\n  return segments.join(' ');\n}\n/**\n * \n * @param polyPoints\n * @param padding\n */\n\nexport function paddedHull(polyPoints, padding) {\n  var pointCount = polyPoints.length;\n\n  var smoothHull1 = function smoothHull1(points) {\n    // Returns the path for a circular hull around a single point.\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \" + p1 + \" A \" + [padding, padding, '0,0,0', p2].join(',') + \" A \" + [padding, padding, '0,0,0', p1].join(',');\n  }; // Returns the path for a rounded hull around two points.\n\n\n  var smoothHull2 = function smoothHull2(points) {\n    var v = vecFrom(points[0], points[1]);\n    var extensionVec = vecScaleTo(v, padding);\n    var extension0 = vec2.add([0, 0], points[0], vec2.scale([0, 0], extensionVec, -1));\n    var extension1 = vec2.add([0, 0], points[1], extensionVec);\n    var tangentHalfLength = 1.2 * padding;\n    var controlDelta = vecScaleTo(vec2.normalize([0, 0], v), tangentHalfLength);\n    var invControlDelta = vec2.scale([0, 0], controlDelta, -1);\n    var control0 = vec2.add([0, 0], extension0, invControlDelta);\n    var control1 = vec2.add([0, 0], extension1, invControlDelta);\n    var control3 = vec2.add([0, 0], extension0, controlDelta); // return [\n    //   ['M', extension0[0], extension0[1]],\n    //   ['C', control0, control1, extension1],\n    //   ['S', control3, extension0],\n    //   'Z',\n    // ];\n\n    return \"M \" + extension0 + \" C \" + [control0, control1, extension1].join(',') + \" S \" + [control3, extension0].join(',') + \" Z\";\n  }; // Handle special cases\n\n\n  if (!polyPoints || pointCount < 1) return '';\n  if (pointCount === 1) return smoothHull1(polyPoints);\n  if (pointCount === 2) return smoothHull2(polyPoints);\n  var hullPoints = polyPoints.map(function (point, index) {\n    var pNext = polyPoints[(index + 1) % pointCount];\n    return {\n      p: point,\n      v: vec2.normalize([0, 0], vecFrom(point, pNext))\n    };\n  }); // Compute the expanded hull points, and the nearest prior control point for each.\n\n  for (var i = 0; i < hullPoints.length; ++i) {\n    var priorIndex = i > 0 ? i - 1 : pointCount - 1;\n    var extensionVec = vec2.normalize([0, 0], vec2.add([0, 0], hullPoints[priorIndex].v, vec2.scale([0, 0], hullPoints[i].v, -1)));\n    hullPoints[i].p = vec2.add([0, 0], hullPoints[i].p, vec2.scale([0, 0], extensionVec, padding));\n  }\n\n  return hullPoints.map(function (obj) {\n    var point = obj.p;\n    return {\n      x: point[0],\n      y: point[1]\n    };\n  });\n}","/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\n\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n\n  if (points.length === 1) {\n    return points;\n  } // build the lower hull\n\n\n  var lower = [];\n\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n\n    lower.push(points[i]);\n  } // build the upper hull\n\n\n  var upper = [];\n\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n\n    upper.push(points[i]);\n  }\n\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};","import { squareDist, pointLineSquareDist, itemIntersectByLine, getPointsCenter, fractionToLine, isPointsOverlap, pointRectSquareDist, Line, isPointInPolygon } from '../../util/math';\nvar defaultOps = {\n  maxRoutingIterations: 100,\n  maxMarchingIterations: 100,\n  pixelGroupSize: 2,\n  edgeR0: 10,\n  edgeR1: 10,\n  nodeR0: 5,\n  nodeR1: 10,\n  morphBuffer: 5,\n  threshold: 0.001,\n  skip: 16,\n  nodeInfluenceFactor: 1,\n  edgeInfluenceFactor: 1,\n  negativeNodeInfluenceFactor: -0.5\n};\n/**\n * Marching square algorithm for traching the contour of a pixel group\n * https://www.emanueleferonato.com/2013/03/01/using-marching-squares-algorithm-to-trace-the-contour-of-an-image/\n * @param potentialArea\n * @param threshold\n */\n\nfunction MarchingSquares(contour, potentialArea, threshold) {\n  var marched = false;\n\n  var getVal = function getVal(x, y) {\n    return potentialArea.cells[x + y * potentialArea.width];\n  };\n\n  var getState = function getState(x, y) {\n    var squareVal = 0;\n\n    if (getVal(x - 1, y - 1) >= threshold) {\n      squareVal += 1;\n    }\n\n    if (getVal(x, y - 1) > threshold) {\n      squareVal += 2;\n    }\n\n    if (getVal(x - 1, y) > threshold) {\n      squareVal += 4;\n    }\n\n    if (getVal(x, y) > threshold) {\n      squareVal += 8;\n    }\n\n    return squareVal;\n  };\n\n  var doMarch = function doMarch(xPos, yPos) {\n    var x = xPos;\n    var y = yPos;\n    var prevX;\n    var prevY;\n\n    for (var i = 0; i < potentialArea.width * potentialArea.height; i++) {\n      prevX = x;\n      prevY = y;\n\n      if (contour.findIndex(function (item) {\n        return item.x === x && item.y === y;\n      }) > -1) {\n        if (contour[0].x !== x || contour[0].y !== y) {// encountered a loop but haven't returned to start: change direction using conditionals and continue back to start\n        } else {\n          return true;\n        }\n      } else {\n        contour.push({\n          x: x,\n          y: y\n        });\n      }\n\n      var state = getState(x, y); // assign the move direction according to state of the square\n\n      switch (state) {\n        case -1:\n          console.warn('Marched out of bounds');\n          return true;\n\n        case 0:\n        case 3:\n        case 2:\n        case 7:\n          x++; // go right\n\n          break;\n\n        case 12:\n        case 14:\n        case 4:\n          x--; // go left\n\n          break;\n\n        case 6:\n          // go left if come from up else go right\n          if (prevX === 0) {\n            if (prevY === -1) {\n              x -= 1;\n            } else {\n              x += 1;\n            }\n          }\n\n          break;\n\n        case 1:\n        case 13:\n        case 5:\n          y--; // go up\n\n          break;\n\n        case 9:\n          // go up if come from right else go down\n          if (prevX === 1) {\n            if (prevY === 0) {\n              y -= 1;\n            } else {\n              y += 1;\n            }\n          }\n\n          break;\n\n        case 10:\n        case 8:\n        case 11:\n          y++; // go down\n\n          break;\n\n        default:\n          console.warn(\"Marching squares invalid state: \" + state);\n          return true;\n      }\n    }\n  };\n\n  this.march = function () {\n    for (var x = 0; x < potentialArea.width && !marched; x += 1) {\n      for (var y = 0; y < potentialArea.height && !marched; y += 1) {\n        if (getVal(x, y) > threshold && getState(x, y) !== 15) {\n          marched = doMarch(x, y);\n        }\n      }\n    }\n\n    return marched;\n  };\n}\n/**\n * Space partition & assign value to each cell\n * @param points\n */\n\n\nvar initGridCells = function initGridCells(width, height, pixelGroupSize) {\n  var scaleWidth = Math.ceil(width / pixelGroupSize);\n  var scaleHeight = Math.ceil(height / pixelGroupSize);\n  var gridCells = new Float32Array(Math.max(0, scaleWidth * scaleHeight)).fill(0);\n  return {\n    cells: gridCells,\n    width: scaleWidth,\n    height: scaleHeight\n  };\n};\n/**\n * Find the optimal already visited member to item;\n   Optimal: minimize cost(j) = distance(i,j)  countObstacles(i,j)\n * @param item\n * @param visited\n */\n\n\nvar pickBestNeighbor = function pickBestNeighbor(item, visited, nonMembers) {\n  var closestNeighbour = null;\n  var minCost = Number.POSITIVE_INFINITY;\n  visited.forEach(function (neighbourItem) {\n    var itemP = {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n    var neighbourItemP = {\n      x: neighbourItem.getModel().x,\n      y: neighbourItem.getModel().y\n    };\n    var dist = squareDist(itemP, neighbourItemP);\n    var directLine = new Line(itemP.x, itemP.y, neighbourItemP.x, neighbourItemP.y);\n    var numberObstacles = nonMembers.reduce(function (count, _item) {\n      if (fractionToLine(_item, directLine) > 0) {\n        return count + 1;\n      }\n\n      return count;\n    }, 0);\n\n    if (dist * Math.pow(numberObstacles + 1, 2) < minCost) {\n      closestNeighbour = neighbourItem;\n      minCost = dist * Math.pow(numberObstacles + 1, 2);\n    }\n  });\n  return closestNeighbour;\n};\n/**\n * itemitem\n * @param items\n * @param line\n */\n\n\nvar getIntersectItem = function getIntersectItem(items, line) {\n  var minDistance = Number.POSITIVE_INFINITY;\n  var closestItem = null;\n  items.forEach(function (item) {\n    var distance = fractionToLine(item, line); // find closest intersection\n\n    if (distance >= 0 && distance < minDistance) {\n      closestItem = item;\n      minDistance = distance;\n    }\n  });\n  return closestItem;\n};\n/**\n * Modify the directLine and Route virtual edges around obstacles\n */\n\n\nvar computeRoute = function computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer) {\n  var checkedLines = [];\n  var linesToCheck = [];\n  linesToCheck.push(directLine);\n  var hasIntersection = true;\n  var iterations = 0;\n\n  var pointExists = function pointExists(point, lines) {\n    var flag = false;\n    lines.forEach(function (line) {\n      if (flag) return;\n\n      if (isPointsOverlap(point, {\n        x: line.x1,\n        y: line.y1\n      }) || isPointsOverlap(point, {\n        x: line.x2,\n        y: line.y2\n      })) {\n        flag = true;\n      }\n    });\n    return flag;\n  };\n\n  var isPointInNonMembers = function isPointInNonMembers(point, _nonMembers) {\n    for (var _i = 0, _nonMembers_1 = _nonMembers; _i < _nonMembers_1.length; _i++) {\n      var item = _nonMembers_1[_i];\n      var bbox = item.getBBox();\n      var itemContour = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x, bbox.y + bbox.height], [bbox.x + bbox.width, bbox.y + bbox.height]];\n\n      if (isPointInPolygon(itemContour, point.x, point.y)) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // outer loop end when no more intersections or out of iterations\n\n\n  while (hasIntersection && iterations < maxRoutingIterations) {\n    hasIntersection = false;\n\n    var _loop_1 = function _loop_1() {\n      var line = linesToCheck.pop();\n      var closestItem = getIntersectItem(nonMembers, line);\n\n      if (closestItem) {\n        var _a = itemIntersectByLine(closestItem, line),\n            intersections_1 = _a[0],\n            countIntersections = _a[1]; // if line passes through item\n\n\n        if (countIntersections === 2) {\n          var testReroute = function testReroute(isFirst) {\n            var tempMorphBuffer = morphBuffer;\n            var virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst); // test the virtualNode already exists\n\n            var exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n            var pointInside = isPointInNonMembers(virtualNode, nonMembers);\n\n            while (!exist && pointInside && tempMorphBuffer >= 1) {\n              // try a smaller buffer\n              tempMorphBuffer /= 1.5;\n              virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst);\n              exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n              pointInside = isPointInNonMembers(virtualNode, nonMembers);\n            } // routepointInside\n\n\n            if (virtualNode && !exist && (!isFirst || !pointInside)) {\n              // add 2 rerouted lines to check\n              linesToCheck.push(new Line(line.x1, line.y1, virtualNode.x, virtualNode.y));\n              linesToCheck.push(new Line(virtualNode.x, virtualNode.y, line.x2, line.y2));\n              hasIntersection = true;\n            }\n          };\n\n          testReroute(true);\n\n          if (!hasIntersection) {\n            // if we didn't find a valid point around the first corner, try the second\n            testReroute(false);\n          }\n        }\n      } // no intersection found, mark this line as completed\n\n\n      if (!hasIntersection) {\n        checkedLines.push(line);\n      }\n\n      iterations += 1;\n    }; // inner loop end when out of lines or found an intersection\n\n\n    while (!hasIntersection && linesToCheck.length) {\n      _loop_1();\n    }\n  } // \n\n\n  while (linesToCheck.length) {\n    checkedLines.push(linesToCheck.pop());\n  }\n\n  return checkedLines;\n};\n/**\n *  Connect item with visited members using direct line or virtual edges\n */\n\n\nfunction getRoute(item, nonMembers, visited, maxRoutingIterations, morphBuffer) {\n  var optimalNeighbor = pickBestNeighbor(item, visited, nonMembers);\n\n  if (optimalNeighbor === null) {\n    return [];\n  } //  merge the consecutive lines\n\n\n  var mergeLines = function mergeLines(checkedLines) {\n    var finalRoute = [];\n\n    while (checkedLines.length > 0) {\n      var line1 = checkedLines.pop();\n\n      if (checkedLines.length === 0) {\n        finalRoute.push(line1);\n        break;\n      }\n\n      var line2 = checkedLines.pop();\n      var mergeLine = new Line(line1.x1, line1.y1, line2.x2, line2.y2);\n      var closestItem = getIntersectItem(nonMembers, mergeLine); // merge most recent line and previous line\n\n      if (!closestItem) {\n        checkedLines.push(mergeLine);\n      } else {\n        finalRoute.push(line1);\n        checkedLines.push(line2);\n      }\n    }\n\n    return finalRoute;\n  };\n\n  var directLine = new Line(item.getModel().x, item.getModel().y, optimalNeighbor.getModel().x, optimalNeighbor.getModel().y);\n  var checkedLines = computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer);\n  var finalRoute = mergeLines(checkedLines);\n  return finalRoute;\n}\n/**\n * Calculate the countor that includes the  selected items and exclues the non-selected items\n * @param graph\n * @param members\n * @param nonMembers\n * @param options\n */\n\n\nexport var genBubbleSet = function genBubbleSet(members, nonMembers, ops) {\n  // eslint-disable-next-line no-redeclare\n  var options = Object.assign(defaultOps, ops);\n  var centroid = getPointsCenter(members.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  })); // \n\n  members = members.sort(function (a, b) {\n    return squareDist({\n      x: a.getModel().x,\n      y: a.getModel().y\n    }, centroid) - squareDist({\n      x: b.getModel().x,\n      y: b.getModel().y\n    }, centroid);\n  });\n  var visited = [];\n  var virtualEdges = [];\n  members.forEach(function (item) {\n    var lines = getRoute(item, nonMembers, visited, options.maxRoutingIterations, options.morphBuffer);\n    lines.forEach(function (l) {\n      virtualEdges.push(l);\n    });\n    visited.push(item);\n  }); // edgemembernonMemberedgesgenBubbleSet\n  // edges && edges.forEach(e => {\n  //   virtualEdges.push(new Line(e.getSource().getModel().x, e.getSource().getModel().y, e.getTarget().getModel().x, e.getTarget().getModel().y));\n  // });\n\n  var activeRegion = getActiveRregion(members, virtualEdges, options.nodeR0);\n  var potentialArea = initGridCells(activeRegion.width, activeRegion.height, options.pixelGroupSize); // Use march squares to generate contour\n\n  var contour = [];\n  var hull = [];\n\n  for (var iterations = 0; iterations < options.maxMarchingIterations; iterations++) {\n    fillPotentialArea(members, nonMembers, virtualEdges, activeRegion, potentialArea, options);\n    contour = [];\n    hull = [];\n    if (!new MarchingSquares(contour, potentialArea, options.threshold).march()) continue;\n    var marchedPath = contour.map(function (point) {\n      return {\n        x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX),\n        y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY)\n      };\n    }); // const marchedPath = marchingSquares(potentialArea, options.threshold).map(point => ({ x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX), y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY) }))\n\n    if (marchedPath) {\n      var size = marchedPath.length;\n\n      if (options.skip > 1) {\n        size = Math.floor(marchedPath.length / options.skip); // if we reduced too much (fewer than three points in reduced surface) reduce skip and try again\n\n        while (size < 3 && options.skip > 1) {\n          options.skip -= 1;\n          size = Math.floor(marchedPath.length / options.skip);\n        }\n      } // copy hull values\n\n\n      for (var i = 0, j = 0; j < size; j += 1, i += options.skip) {\n        hull.push({\n          x: marchedPath[i].x,\n          y: marchedPath[i].y\n        });\n      }\n    }\n\n    var isContourValid = function isContourValid() {\n      for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n        var item = members_1[_i];\n        var hullPoints = hull.map(function (point) {\n          return [point.x, point.y];\n        });\n        if (!isPointInPolygon(hullPoints, item.getBBox().centerX, item.getBBox().centerY)) return false;\n      } // nonMembers\n      // for (const item of nonMembers) {\n      //   if (isPointInPolygon({ x: item.getBBox().centerX, y: item.getBBox().centerY }, contour)) return false\n      // }\n\n\n      return true;\n    };\n\n    if (hull && isContourValid()) {\n      return hull;\n    } // update parameters for next iteraction\n\n\n    options.threshold *= 0.9;\n\n    if (iterations <= options.maxMarchingIterations * 0.5) {\n      options.memberInfluenceFactor *= 1.2;\n      options.edgeInfluenceFactor *= 1.2;\n    } else if (options.nonMemberInfluenceFactor !== 0 && nonMembers.length > 0) {\n      // after half the iterations, start increasing positive energy and lowering the threshold\n      options.nonMemberInfluenceFactor *= 0.8;\n    } else {\n      break;\n    }\n  }\n\n  return hull;\n};\n/**\n * unionboundingbox\n * @param members\n * @param edges\n */\n\nfunction getActiveRregion(members, edges, offset) {\n  var activeRegion = {\n    minX: Number.POSITIVE_INFINITY,\n    minY: Number.POSITIVE_INFINITY,\n    maxX: Number.NEGATIVE_INFINITY,\n    maxY: Number.NEGATIVE_INFINITY,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0\n  };\n  var bboxes = [];\n  members.forEach(function (item) {\n    bboxes.push(item.getBBox());\n  });\n  edges.forEach(function (l) {\n    bboxes.push(l.getBBox());\n  });\n\n  for (var _i = 0, bboxes_1 = bboxes; _i < bboxes_1.length; _i++) {\n    var bbox = bboxes_1[_i];\n    activeRegion.minX = (bbox.minX < activeRegion.minX ? bbox.minX : activeRegion.minX) - offset;\n    activeRegion.minY = (bbox.minY < activeRegion.minY ? bbox.minY : activeRegion.minY) - offset;\n    activeRegion.maxX = (bbox.maxX > activeRegion.maxX ? bbox.maxX : activeRegion.maxX) + offset;\n    activeRegion.maxY = (bbox.maxY > activeRegion.maxY ? bbox.maxY : activeRegion.maxY) + offset;\n  }\n\n  activeRegion.width = activeRegion.maxX - activeRegion.minX;\n  activeRegion.height = activeRegion.maxY - activeRegion.minY;\n  activeRegion.x = activeRegion.minX;\n  activeRegion.y = activeRegion.minY;\n  return activeRegion;\n}\n\nfunction fillPotentialArea(members, nonMembers, edges, activeRegion, potentialArea, options) {\n  function pos2GridIx(x, offset) {\n    var gridIx = Math.floor((x - offset) / options.pixelGroupSize);\n    return gridIx < 0 ? 0 : gridIx;\n  }\n\n  function gridIx2Pos(x, offset) {\n    return x * options.pixelGroupSize + offset;\n  } // using inverse a for numerical stability\n\n\n  var nodeInfA = (options.nodeR0 - options.nodeR1) * (options.nodeR0 - options.nodeR1);\n  var edgeInfA = (options.edgeR0 - options.edgeR1) * (options.edgeR0 - options.edgeR1);\n\n  var getAffectedRegion = function getAffectedRegion(bbox, thresholdR) {\n    var startX = Math.min(pos2GridIx(bbox.minX, thresholdR + activeRegion.minX), potentialArea.width);\n    var startY = Math.min(pos2GridIx(bbox.minY, thresholdR + activeRegion.minY), potentialArea.height);\n    var endX = Math.min(pos2GridIx(bbox.maxX, -thresholdR + activeRegion.minX), potentialArea.width);\n    var endY = Math.min(pos2GridIx(bbox.maxY, -thresholdR + activeRegion.minY), potentialArea.height);\n    return [startX, startY, endX, endY];\n  };\n\n  var addItemInfluence = function addItemInfluence(item, influenceFactor) {\n    var bbox = item.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.nodeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // calculate item influence for each cell\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var distanceSq = pointRectSquareDist({\n          x: tempX,\n          y: tempY\n        }, {\n          x: bbox.minX,\n          y: bbox.minY,\n          width: bbox.width,\n          height: bbox.height\n        });\n\n        if (distanceSq < Math.pow(options.nodeR1, 2)) {\n          var dr = Math.sqrt(distanceSq) - options.nodeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * dr * dr;\n        }\n      }\n    }\n  };\n\n  var addEdgeInfluence = function addEdgeInfluence(line, influenceFactor) {\n    var bbox = line.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.edgeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // for every point in active part of potentialArea, calculate distance to nearest point on line and add influence\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea.cells[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var minDistanceSq = pointLineSquareDist({\n          x: tempX,\n          y: tempY\n        }, line); // only influence if less than r1\n\n        if (minDistanceSq < Math.pow(options.edgeR1, 2)) {\n          var mdr = Math.sqrt(minDistanceSq) - options.edgeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * mdr * mdr;\n        }\n      }\n    }\n  };\n\n  if (options.nodeInfluenceFactor) {\n    members.forEach(function (item) {\n      addItemInfluence(item, options.nodeInfluenceFactor / nodeInfA);\n    });\n  }\n\n  if (options.edgeInfluenceFactor) {\n    edges.forEach(function (edge) {\n      addEdgeInfluence(edge, options.edgeInfluenceFactor / edgeInfA);\n    });\n  }\n\n  if (options.negativeNodeInfluenceFactor) {\n    nonMembers.forEach(function (item) {\n      addItemInfluence(item, options.negativeNodeInfluenceFactor / nodeInfA);\n    });\n  }\n}\n\nfunction rerouteLine(item, buffer, intersections, wrapNormal) {\n  var bbox = item.getBBox();\n  var topIntersect = intersections[0],\n      leftIntersect = intersections[1],\n      bottomIntersect = intersections[2],\n      rightIntersect = intersections[3];\n  var cornerPos = {\n    topLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.minY - buffer\n    },\n    topRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.minY - buffer\n    },\n    bottomLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.maxY + buffer\n    },\n    bottomRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.maxY + buffer\n    }\n  };\n  var totalArea = bbox.height * bbox.width;\n\n  function calcHalfArea(intersect1, intersect2) {\n    return bbox.width * ((intersect1.y - bbox.minY + (intersect2.y - bbox.minY)) * 0.5);\n  } // boundingboxcontrol point\n\n\n  if (leftIntersect) {\n    // \n    if (topIntersect) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight; // \n\n    var topArea = calcHalfArea(leftIntersect, rightIntersect);\n\n    if (topArea < totalArea * 0.5) {\n      if (leftIntersect.y > rightIntersect.y) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n      return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    }\n\n    if (leftIntersect.y < rightIntersect.y) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n    return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  }\n\n  if (rightIntersect) {\n    if (topIntersect) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  } // \n\n\n  var leftArea = calcHalfArea(topIntersect, bottomIntersect);\n\n  if (leftArea < totalArea * 0.5) {\n    if (topIntersect.x > bottomIntersect.x) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n  }\n\n  if (topIntersect.x < bottomIntersect.x) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n  return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n}","import { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * \n * convex hull()http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble:  bubblesetrefer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n *  padding \n */\n\nvar Hull =\n/** @class */\nfunction () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n\n        break;\n\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n\n      default:\n    }\n\n    return path;\n  };\n\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id\n    });\n    this.group.toBack();\n  };\n  /**\n   * hullnonMembersnonMembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hullmembersmembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hull\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   *  hull\n   * @param cfg hull \n   */\n\n\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    } // TODO padding  contain \n\n\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * hull\n   * @param item\n   */\n\n\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n\n    var nodeItem;\n\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n\n  return Hull;\n}();\n\nexport default Hull;","import { __assign, __extends, __spreadArray } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport { requestAnimationFrame } from '@antv/g-mobile/esm/util/time';\nimport { ext } from '@antv/matrix-util';\nimport { clone, deepMix, each, isPlainObject, isString } from '@antv/util';\nimport { getDegree, getAdjMatrix as getAdjacentMatrix, Stack, floydWarshall } from '@antv/algorithm';\nimport { move } from '../util/math';\nimport { dataValidation, singleDataValidation } from '../util/validation';\nimport Global from '../global';\nimport { ItemController, ModeController, StateController, ViewController } from './controller';\nimport { plainCombosToTrees, traverseTree, reconstructTree, traverseTreeUp } from '../util/graphic';\nimport Hull from '../item/hull';\nvar transform = ext.transform;\nvar NODE = 'node';\n\nvar AbstractGraph =\n/** @class */\nfunction (_super) {\n  __extends(AbstractGraph, _super);\n\n  function AbstractGraph(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = deepMix(_this.getDefaultCfg(), cfg);\n\n    _this.init();\n\n    _this.animating = false;\n    _this.destroyed = false; //  stack  undoStack  redoStack\n\n    if (_this.cfg.enabledStack) {\n      //  undo  redo \n      _this.undoStack = new Stack(_this.cfg.maxStep);\n      _this.redoStack = new Stack(_this.cfg.maxStep);\n    }\n\n    return _this;\n  }\n\n  AbstractGraph.prototype.init = function () {\n    this.initCanvas(); // instance controller\n\n    var viewController = new ViewController(this);\n    var modeController = new ModeController(this);\n    var itemController = new ItemController(this);\n    var stateController = new StateController(this);\n    this.set({\n      viewController: viewController,\n      modeController: modeController,\n      itemController: itemController,\n      stateController: stateController\n    }); // \n\n    this.initLayoutController(); // \n\n    this.initEventController();\n    this.initGroups();\n    /**  */\n\n    this.initPlugins();\n    requestAnimationFrame(this.onTick.bind(this));\n  }; //  Group\n\n\n  AbstractGraph.prototype.initGroups = function () {\n    var canvas = this.get('canvas');\n    var el = this.get('canvas').get('el');\n    var id = el.id;\n    var group = canvas.addGroup({\n      id: id + \"-root\",\n      className: Global.rootContainerClassName\n    });\n\n    if (this.get('groupByTypes')) {\n      var edgeGroup = group.addGroup({\n        id: id + \"-edge\",\n        className: Global.edgeContainerClassName\n      });\n      var nodeGroup = group.addGroup({\n        id: id + \"-node\",\n        className: Global.nodeContainerClassName\n      });\n      var comboGroup = group.addGroup({\n        id: id + \"-combo\",\n        className: Global.comboContainerClassName\n      }); // \n\n      comboGroup.toBack();\n      this.set({\n        nodeGroup: nodeGroup,\n        edgeGroup: edgeGroup,\n        comboGroup: comboGroup\n      });\n    }\n\n    var delegateGroup = group.addGroup({\n      id: id + \"-delegate\",\n      className: Global.delegateContainerClassName\n    });\n    this.set({\n      delegateGroup: delegateGroup\n    });\n    this.set('group', group);\n  }; // eslint-disable-next-line class-methods-use-this\n\n\n  AbstractGraph.prototype.getDefaultCfg = function () {\n    return {\n      /**\n       * Container could be dom object or dom id\n       */\n      container: undefined,\n\n      /**\n       * Canvas width\n       * unit pixel if undefined force fit width\n       */\n      width: undefined,\n\n      /**\n       * Canvas height\n       * unit pixel if undefined force fit height\n       */\n      height: undefined,\n\n      /**\n       * renderer canvas or svg\n       * @type {string}\n       */\n      renderer: 'canvas',\n\n      /**\n       * control graph behaviors\n       */\n      modes: {},\n\n      /**\n       * \n       */\n      plugins: [],\n\n      /**\n       * source data\n       */\n      data: {},\n\n      /**\n       * Fit view padding (client scale)\n       */\n      fitViewPadding: 10,\n\n      /**\n       * Minimum scale size\n       */\n      minZoom: 0.2,\n\n      /**\n       * Maxmum scale size\n       */\n      maxZoom: 10,\n\n      /**\n       *  capture events\n       */\n      event: true,\n\n      /**\n       * group node & edges into different graphic groups\n       */\n      groupByTypes: true,\n\n      /**\n       * determine if it's a directed graph\n       */\n      directed: false,\n\n      /**\n       * when data or shape changed, should canvas draw automatically\n       */\n      autoPaint: true,\n\n      /**\n       * store all the node instances\n       */\n      nodes: [],\n\n      /**\n       * store all the edge instances\n       */\n      edges: [],\n\n      /**\n       * store all the combo instances\n       */\n      combos: [],\n\n      /**\n       * store all the edge instances which are virtual edges related to collapsed combo\n       */\n      vedges: [],\n\n      /**\n       * all the instances indexed by id\n       */\n      itemMap: {},\n\n      /**\n       * \n       */\n      linkCenter: false,\n\n      /**\n       * data \n       * defaultNode: {\n       *  type: 'rect',\n       *  size: [60, 40],\n       *  style: {\n       *    //... \n       *  }\n       * }\n       *  { id: 'node', x: 100, y: 100 }\n       *  { id: 'node', x: 100, y: 100 type: 'rect', size: [60, 40] }\n       *  { id: 'node', x: 100, y: 100, type: 'circle' }\n       *  { id: 'node', x: 100, y: 100 type: 'circle', size: [60, 40] }\n       */\n      defaultNode: {},\n\n      /**\n       * data  defaultNode\n       */\n      defaultEdge: {},\n\n      /**\n       * \n       * \n       * const graph = new G6.Graph({\n       *  nodeStateStyles: {\n       *    selected: { fill: '#ccc', stroke: '#666' },\n       *    active: { lineWidth: 2 }\n       *  },\n       *  ...\n       * });\n       *\n       */\n      nodeStateStyles: {},\n\n      /**\n       * nodeStateStyle\n       */\n      edgeStateStyles: {},\n\n      /**\n       * graph \n       */\n      states: {},\n\n      /**\n       * \n       */\n      animate: false,\n\n      /**\n       * , animate  true \n       */\n      animateCfg: {\n        /**\n         * \n         */\n        onFrame: undefined,\n\n        /**\n         * (ms)\n         */\n        duration: 500,\n\n        /**\n         * \n         */\n        easing: 'easeLinear'\n      },\n      callback: undefined,\n      //  undo & redo \n      enabledStack: false,\n      //  enabledStack  true \n      maxStep: 10,\n      //  tooltip dom\n      tooltips: []\n    };\n  };\n  /**\n   *  this.cfg \n   * @param key   \n   * @param val \n   */\n\n\n  AbstractGraph.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this.cfg = __assign(__assign({}, this.cfg), key);\n    } else {\n      this.cfg[key] = val;\n    }\n\n    return this;\n  };\n  /**\n   *  this.cfg \n   * @param key \n   */\n\n\n  AbstractGraph.prototype.get = function (key) {\n    return this.cfg[key];\n  };\n  /**\n   *  graph \n   * @return  group\n   */\n\n\n  AbstractGraph.prototype.getGroup = function () {\n    return this.get('group');\n  };\n  /**\n   *  graph  DOM \n   * @return DOM \n   */\n\n\n  AbstractGraph.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.getMinZoom = function () {\n    return this.get('minZoom');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.setMinZoom = function (ratio) {\n    return this.set('minZoom', ratio);\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.getMaxZoom = function () {\n    return this.get('maxZoom');\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.setMaxZoom = function (ratio) {\n    return this.set('maxZoom', ratio);\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getWidth = function () {\n    return this.get('width');\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getHeight = function () {\n    return this.get('height');\n  };\n  /**\n   * \n   * @param {string|Item} item id\n   * @param {string[]} states \n   */\n\n\n  AbstractGraph.prototype.clearItemStates = function (item, states) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n\n    if (!states) {\n      states = item.get('states');\n    }\n\n    itemController.clearItemStates(item, states);\n    var stateController = this.get('stateController');\n    stateController.updateStates(item, states, false);\n  };\n  /**\n   *  keyShape \n   * \n   * graph.node(node => {\n   *  return {\n   *    type: 'rect',\n   *    label: node.id,\n   *    style: { fill: '#666' },\n   *    stateStyles: {\n   *       selected: { fill: 'blue' },\n   *       custom: { fill: 'green' }\n   *     }\n   *   }\n   * });\n   * @param {function} nodeFn \n   */\n\n\n  AbstractGraph.prototype.node = function (nodeFn) {\n    if (typeof nodeFn === 'function') {\n      this.set('nodeMapper', nodeFn);\n    }\n  };\n  /**\n   * \n   * @param {function} edgeFn , node\n   */\n\n\n  AbstractGraph.prototype.edge = function (edgeFn) {\n    if (typeof edgeFn === 'function') {\n      this.set('edgeMapper', edgeFn);\n    }\n  };\n  /**\n   *  combo \n   * @param comboFn\n   */\n\n\n  AbstractGraph.prototype.combo = function (comboFn) {\n    if (typeof comboFn === 'function') {\n      this.set('comboMapper', comboFn);\n    }\n  };\n  /**\n   *  ID \n   * @param id  ID\n   */\n\n\n  AbstractGraph.prototype.findById = function (id) {\n    return this.get('itemMap')[id];\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge | group)\n   * @param {(item: T, index: number) => T} fn \n   * @return {T} \n   */\n\n\n  AbstractGraph.prototype.find = function (type, fn) {\n    var result;\n    var items = this.get(type + \"s\"); // eslint-disable-next-line consistent-return\n\n    each(items, function (item, i) {\n      if (fn(item, i)) {\n        result = item;\n        return result;\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} fn \n   * @return {array} \n   */\n\n\n  AbstractGraph.prototype.findAll = function (type, fn) {\n    var result = [];\n    each(this.get(type + \"s\"), function (item, i) {\n      if (fn(item, i)) {\n        result.push(item);\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} state \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.findAllByState = function (type, state) {\n    return this.findAll(type, function (item) {\n      return item.hasState(state);\n    });\n  };\n  /**\n   * \n   * @param dx \n   * @param dy \n   */\n\n\n  AbstractGraph.prototype.translate = function (dx, dy) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    matrix = transform(matrix, [['t', dx, dy]]);\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'translate',\n      matrix: group.getMatrix()\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} x \n   * @param {number} y \n   */\n\n\n  AbstractGraph.prototype.moveTo = function (x, y) {\n    var group = this.get('group');\n    move(group, {\n      x: x,\n      y: y\n    });\n    this.emit('viewportchange', {\n      action: 'move',\n      matrix: group.getMatrix()\n    });\n  };\n  /**\n   * \n   * @param {object} padding \n   */\n\n\n  AbstractGraph.prototype.fitView = function (padding) {\n    if (padding) {\n      this.set('fitViewPadding', padding);\n    }\n\n    var viewController = this.get('viewController');\n    viewController.fitView();\n    this.autoPaint();\n  };\n  /**\n   *  bbox \n   */\n\n\n  AbstractGraph.prototype.fitCenter = function () {\n    var viewController = this.get('viewController');\n    viewController.fitCenter();\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.addBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, true);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.removeBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, false);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    var modeController = this.get('modeController');\n    modeController.updateBehavior(behavior, newCfg, mode);\n    return this;\n  };\n  /**\n   * \n   * @param ratio \n   * @param center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoom = function (ratio, center) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (center) {\n      matrix = transform(matrix, [['t', -center.x, -center.y], ['s', ratio, ratio], ['t', center.x, center.y]]);\n    } else {\n      matrix = transform(matrix, [['s', ratio, ratio]]);\n    }\n\n    if (minZoom && matrix[0] < minZoom || maxZoom && matrix[0] > maxZoom) {\n      return;\n    } // matrix = [2, 0, 0, 0, 2, 0, -125, -125, 1];\n\n\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'zoom',\n      matrix: matrix\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} toRatio \n   * @param {Point} center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoomTo = function (toRatio, center) {\n    var ratio = toRatio / this.getZoom();\n    this.zoom(ratio, center);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  AbstractGraph.prototype.focusItem = function (item, animate, animateCfg) {\n    var viewController = this.get('viewController');\n    var isAnimate = false;\n    if (animate) isAnimate = true;else if (animate === undefined) isAnimate = this.get('animate');\n    var curAniamteCfg = {};\n    if (animateCfg) curAniamteCfg = animateCfg;else if (animateCfg === undefined) curAniamteCfg = this.get('animateCfg');\n    viewController.focus(item, isAnimate, curAniamteCfg);\n    this.autoPaint();\n  };\n  /**\n   * \n   * @internal  render  paint \n   */\n\n\n  AbstractGraph.prototype.autoPaint = function () {\n    if (this.get('autoPaint')) {\n      this.paint();\n    }\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.paint = function () {\n    this.emit('beforepaint');\n    this.get('canvas').draw();\n    this.emit('afterpaint');\n  };\n  /**\n   * \n   * @param {number} clientX x\n   * @param {number} clientY y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getPointByClient = function (clientX, clientY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByClient(clientX, clientY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getClientByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getClientByPoint(x, y);\n  };\n  /**\n   * \n   * @param {number} canvasX  x \n   * @param {number} canvasY  y \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByCanvas(canvasX, canvasY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getCanvasByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getCanvasByPoint(x, y);\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getGraphCenterPoint = function () {\n    var bbox = this.get('group').getCanvasBBox();\n    return {\n      x: (bbox.minX + bbox.maxX) / 2,\n      y: (bbox.minY + bbox.maxY) / 2\n    };\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getViewPortCenterPoint = function () {\n    return this.getPointByCanvas(this.get('width') / 2, this.get('height') / 2);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.showItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, true);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.nodes = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.edges = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.combos = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.hideItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, false);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.nodes = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.edges = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.combos = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {string|object} item id\n   */\n\n\n  AbstractGraph.prototype.refreshItem = function (item) {\n    var itemController = this.get('itemController');\n    itemController.refreshItem(item);\n  };\n  /**\n   * /\n   * @param {boolean} auto \n   */\n\n\n  AbstractGraph.prototype.setAutoPaint = function (auto) {\n    var self = this;\n    self.set('autoPaint', auto);\n    var canvas = self.get('canvas');\n    canvas.set('autoDraw', auto);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.remove = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.removeItem(item, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.removeItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var nodeItem = item;\n    if (isString(item)) nodeItem = this.findById(item);\n\n    if (!nodeItem && isString(item)) {\n      console.warn('The item to be removed does not exist!');\n    } else if (nodeItem) {\n      var type = '';\n      if (nodeItem.getType) type = nodeItem.getType(); // \n\n      if (stack && this.get('enabledStack')) {\n        var deletedModel = __assign(__assign({}, nodeItem.getModel()), {\n          itemType: type\n        });\n\n        var before = {};\n\n        switch (type) {\n          case 'node':\n            {\n              before.nodes = [deletedModel];\n              before.edges = [];\n              var edges = nodeItem.getEdges();\n\n              for (var i = edges.length - 1; i >= 0; i--) {\n                before.edges.push(__assign(__assign({}, edges[i].getModel()), {\n                  itemType: 'edge'\n                }));\n              }\n\n              break;\n            }\n\n          case 'edge':\n            before.edges = [deletedModel];\n            break;\n\n          case 'combo':\n            before.combos = [deletedModel];\n            break;\n\n          default:\n            break;\n        }\n\n        this.pushStack('delete', {\n          before: before,\n          after: {}\n        });\n      }\n\n      if (type === 'node') {\n        var model = nodeItem.getModel(); //  Combo  node  combo  combo \n\n        if (model.comboId) {\n          this.updateComboTree(nodeItem);\n        }\n      }\n\n      var itemController = this.get('itemController');\n      itemController.removeItem(nodeItem);\n\n      if (type === 'combo') {\n        var newComboTrees = reconstructTree(this.get('comboTrees'));\n        this.set('comboTrees', newComboTrees);\n      }\n    }\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @param {boolean} sortCombo  combo  addItem \n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.addItem = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    var currentComboSorted = this.get('comboSorted');\n    this.set('comboSorted', currentComboSorted && !sortCombo);\n    var itemController = this.get('itemController'); // combo\n\n    if (!singleDataValidation(type, model)) {\n      return false;\n    }\n\n    if (model.id && this.findById(model.id)) {\n      console.warn(\"This item exists already. Be sure the id %c\" + model.id + \"%c is unique.\", 'font-size: 20px; color: red;', '');\n      return;\n    }\n\n    var item;\n    var comboTrees = this.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n\n    if (type === 'combo') {\n      var itemMap_1 = this.get('itemMap');\n      var foundParent_1 = false;\n      comboTrees.forEach(function (ctree) {\n        if (foundParent_1) return; // terminate the forEach after the tree containing the item is done\n\n        traverseTreeUp(ctree, function (child) {\n          // find the parent\n          if (model.parentId === child.id) {\n            foundParent_1 = true;\n\n            var newCombo = __assign({\n              id: model.id,\n              depth: child.depth + 2\n            }, model);\n\n            if (child.children) child.children.push(newCombo);else child.children = [newCombo];\n            model.depth = newCombo.depth;\n            item = itemController.addItem(type, model);\n          }\n\n          var childItem = itemMap_1[child.id]; // after the parent is found, update all the ancestors\n\n          if (foundParent_1 && childItem && childItem.getType && childItem.getType() === 'combo') {\n            itemController.updateCombo(childItem, child.children);\n          }\n\n          return true;\n        });\n      }); // if the parent is not found, add it to the root\n\n      if (!foundParent_1) {\n        var newCombo = __assign({\n          id: model.id,\n          depth: 0\n        }, model);\n\n        model.depth = newCombo.depth;\n        comboTrees.push(newCombo);\n        item = itemController.addItem(type, model);\n      }\n\n      this.set('comboTrees', comboTrees);\n    } else if (type === 'node' && isString(model.comboId) && comboTrees) {\n      var parentCombo = this.findById(model.comboId);\n\n      if (parentCombo && parentCombo.getType && parentCombo.getType() !== 'combo') {\n        console.warn(\"'\" + model.comboId + \"' is not a id of a combo in the graph, the node will be added without combo.\");\n      }\n\n      item = itemController.addItem(type, model);\n      var itemMap_2 = this.get('itemMap');\n      var foundParent_2 = false,\n          foundNode_1 = false;\n      (comboTrees || []).forEach(function (ctree) {\n        if (foundNode_1 || foundParent_2) return; // terminate the forEach\n\n        traverseTreeUp(ctree, function (child) {\n          if (child.id === model.id) {\n            // if the item exists in the tree already, terminate\n            foundNode_1 = true;\n            return false;\n          }\n\n          if (model.comboId === child.id && !foundNode_1) {\n            // found the parent, add the item to the children of its parent in the tree\n            foundParent_2 = true;\n            var cloneNode = clone(model);\n            cloneNode.itemType = 'node';\n            if (child.children) child.children.push(cloneNode);else child.children = [cloneNode];\n            cloneNode.depth = child.depth + 1;\n          } // update the size of all the ancestors\n\n\n          if (foundParent_2 && itemMap_2[child.id].getType && itemMap_2[child.id].getType() === 'combo') {\n            itemController.updateCombo(itemMap_2[child.id], child.children);\n          }\n\n          return true;\n        });\n      });\n    } else {\n      item = itemController.addItem(type, model);\n    }\n\n    if (type === 'node' && model.comboId || type === 'combo' && model.parentId) {\n      // add the combo to the parent's children array\n      var parentCombo = this.findById(model.comboId || model.parentId);\n      if (parentCombo && parentCombo.getType && parentCombo.getType() === 'combo') parentCombo.addChild(item);\n    }\n\n    var combos = this.get('combos');\n\n    if (combos && combos.length > 0) {\n      this.sortCombos();\n    }\n\n    this.autoPaint();\n\n    if (stack && this.get('enabledStack')) {\n      var addedModel = __assign(__assign({}, item.getModel()), {\n        itemType: type\n      });\n\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          after.nodes = [addedModel];\n          break;\n\n        case 'edge':\n          after.edges = [addedModel];\n          break;\n\n        case 'combo':\n          after.combos = [addedModel];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('add', {\n        before: {},\n        after: after\n      });\n    }\n\n    return item;\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.add = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    return this.addItem(type, model, stack, sortCombo);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   */\n\n\n  AbstractGraph.prototype.updateItem = function (item, cfg, stack) {\n    var _this = this;\n\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var currentItem;\n\n    if (isString(item)) {\n      currentItem = this.findById(item);\n    } else {\n      currentItem = item;\n    }\n\n    var UnupdateModel = clone(currentItem.getModel());\n    var type = '';\n    if (currentItem.getType) type = currentItem.getType();\n\n    var states = __spreadArray([], currentItem.getStates());\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, false);\n      });\n    }\n\n    itemController.updateItem(currentItem, cfg);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, true);\n      });\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var before = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n      var after = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n\n      var afterModel = __assign({\n        id: UnupdateModel.id\n      }, cfg);\n\n      switch (type) {\n        case 'node':\n          before.nodes.push(UnupdateModel);\n          after.nodes.push(afterModel);\n          break;\n\n        case 'edge':\n          before.edges.push(UnupdateModel);\n          after.edges.push(afterModel);\n          break;\n\n        case 'combo':\n          before.combos.push(UnupdateModel);\n          after.combos.push(afterModel);\n          break;\n\n        default:\n          break;\n      }\n\n      if (type === 'node') {\n        before.nodes.push(UnupdateModel);\n      }\n\n      this.pushStack('update', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.update = function (item, cfg, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.updateItem(item, cfg, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {string} state \n   * @param {string | boolean} value   \n   */\n\n\n  AbstractGraph.prototype.setItemState = function (item, state, value) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n    itemController.setItemState(item, state, value);\n    var stateController = this.get('stateController');\n\n    if (isString(value)) {\n      stateController.updateState(item, state + \":\" + value, true);\n    } else {\n      stateController.updateState(item, state, value);\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  AbstractGraph.prototype.priorityState = function (item, state) {\n    var itemController = this.get('itemController');\n    itemController.priorityState(item, state);\n  };\n  /**\n   * \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.data = function (data) {\n    dataValidation(data);\n    this.set('data', data);\n  };\n  /**\n   * data\n   */\n\n\n  AbstractGraph.prototype.render = function () {\n    var self = this;\n    this.set('comboSorted', false);\n    var data = this.get('data');\n\n    if (this.get('enabledStack')) {\n      // render  redo  undo \n      this.clearStack();\n    }\n\n    if (!data) {\n      throw new Error('data must be defined first');\n    }\n\n    var _a = data.nodes,\n        nodes = _a === void 0 ? [] : _a,\n        _b = data.edges,\n        edges = _b === void 0 ? [] : _b,\n        _c = data.combos,\n        combos = _c === void 0 ? [] : _c;\n    this.clear(true);\n    this.emit('beforerender');\n    each(nodes, function (node) {\n      self.add('node', node, false, false);\n    }); // process the data to tree structure\n\n    if (combos && combos.length !== 0) {\n      var comboTrees = plainCombosToTrees(combos, nodes);\n      this.set('comboTrees', comboTrees); // add combos\n\n      self.addCombos(combos);\n    }\n\n    each(edges, function (edge) {\n      self.add('edge', edge, false, false);\n    });\n    var animate = self.get('animate');\n\n    if (self.get('fitView') || self.get('fitCenter')) {\n      self.set('animate', false);\n    } // layout\n\n\n    var layoutController = self.get('layoutController');\n\n    if (layoutController) {\n      layoutController.layout(success);\n      if (this.destroyed) return;\n    } else {\n      if (self.get('fitView')) {\n        self.fitView();\n      }\n\n      if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.emit('afterrender');\n      self.set('animate', animate);\n    } //  onLayoutEnd \n\n\n    function success() {\n      // fitView  fitCenter fitView fitCenter \n      if (self.get('fitView')) {\n        self.fitView();\n      } else if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.autoPaint();\n      self.emit('afterrender');\n\n      if (self.get('fitView') || self.get('fitCenter')) {\n        self.set('animate', animate);\n      }\n    }\n\n    if (!this.get('groupByTypes')) {\n      if (combos && combos.length !== 0) {\n        this.sortCombos();\n      } else {\n        // \n        if (data.nodes && data.edges && data.nodes.length < data.edges.length) {\n          var nodesArr = this.getNodes(); // \n\n          nodesArr.forEach(function (node) {\n            node.toFront();\n          });\n        } else {\n          var edgesArr = this.getEdges(); // \n\n          edgesArr.forEach(function (edge) {\n            edge.toBack();\n          });\n        }\n      }\n    }\n\n    if (this.get('enabledStack')) {\n      this.pushStack('render');\n    }\n  };\n  /**\n   * \n   * @Param {Object} data \n   */\n\n\n  AbstractGraph.prototype.read = function (data) {\n    this.data(data);\n    this.render();\n  }; // item\n\n\n  AbstractGraph.prototype.diffItems = function (type, items, models) {\n    var self = this;\n    var item;\n    var itemMap = this.get('itemMap');\n    each(models, function (model) {\n      item = itemMap[model.id];\n\n      if (item) {\n        if (self.get('animate') && type === NODE) {\n          var containerMatrix = item.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          item.set('originAttrs', {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          });\n        }\n\n        self.updateItem(item, model, false);\n      } else {\n        item = self.addItem(type, model, false);\n      }\n\n      if (item) items[type + \"s\"].push(item);\n    });\n  };\n  /**\n   * \n   * @param {GraphData | TreeGraphData} data \n   * @param {boolean} true\n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeData = function (data, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n\n    if (!dataValidation(data)) {\n      return this;\n    }\n\n    if (stack && this.get('enabledStack')) {\n      this.pushStack('changedata', {\n        before: self.save(),\n        after: data\n      });\n    }\n\n    this.set('comboSorted', false); //  hulls\n\n    this.removeHulls(); // \n\n    this.getNodes().map(function (node) {\n      return self.clearItemStates(node);\n    });\n    this.getEdges().map(function (edge) {\n      return self.clearItemStates(edge);\n    });\n    var canvas = this.get('canvas');\n    var localRefresh = canvas.get('localRefresh');\n    canvas.set('localRefresh', false);\n\n    if (!self.get('data')) {\n      self.data(data);\n      self.render();\n    }\n\n    var itemMap = this.get('itemMap');\n    var items = {\n      nodes: [],\n      edges: []\n    };\n    var combosData = data.combos;\n\n    if (combosData) {\n      var comboTrees = plainCombosToTrees(combosData, data.nodes);\n      this.set('comboTrees', comboTrees);\n    }\n\n    this.diffItems('node', items, data.nodes);\n    each(itemMap, function (item, id) {\n      itemMap[id].getModel().depth = 0;\n      if (item.getType && item.getType() === 'edge') return;\n\n      if (item.getType && item.getType() === 'combo') {\n        delete itemMap[id];\n        item.destroy();\n      } else if (items.nodes.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    }); // clear the destroyed combos here to avoid removing sub nodes before removing the parent combo\n\n    var comboItems = this.getCombos();\n    var combosLength = comboItems.length;\n\n    for (var i = combosLength - 1; i >= 0; i--) {\n      if (comboItems[i].destroyed) {\n        comboItems.splice(i, 1);\n      }\n    } // process the data to tree structure\n\n\n    if (combosData) {\n      // add combos\n      self.addCombos(combosData);\n\n      if (!this.get('groupByTypes')) {\n        this.sortCombos();\n      }\n    }\n\n    this.diffItems('edge', items, data.edges);\n    each(itemMap, function (item, id) {\n      if (item.getType && (item.getType() === 'node' || item.getType() === 'combo')) return;\n\n      if (items.edges.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    });\n    this.set({\n      nodes: items.nodes,\n      edges: items.edges\n    });\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.changeData();\n\n      if (self.get('animate') && !layoutController.getLayoutType()) {\n        // \n        self.positionsAnimate();\n      } else {\n        self.autoPaint();\n      }\n    }\n\n    setTimeout(function () {\n      canvas.set('localRefresh', localRefresh);\n    }, 16);\n    return this;\n  };\n  /**\n   *  render  changeData  combos\n   * @param {ComboConfig[]} combos  combos \n   */\n\n\n  AbstractGraph.prototype.addCombos = function (combos) {\n    var self = this;\n    var comboTrees = self.get('comboTrees');\n    var itemController = this.get('itemController');\n    itemController.addCombos(comboTrees, combos);\n  };\n  /**\n   *  combo  combo\n   * @param combo combo ID  Combo \n   * @param children  Combo  combo\n   */\n\n\n  AbstractGraph.prototype.createCombo = function (combo, children) {\n    var _this = this;\n\n    this.set('comboSorted', false); // step 1:  Combo\n\n    var comboId = '';\n    var comboConfig;\n    if (!combo) return;\n\n    if (isString(combo)) {\n      comboId = combo;\n      comboConfig = {\n        id: combo\n      };\n    } else {\n      comboId = combo.id;\n\n      if (!comboId) {\n        console.warn('Create combo failed. Please assign a unique string id for the adding combo.');\n        return;\n      }\n\n      comboConfig = combo;\n    } // step2:  children comboId  parentId\n\n\n    var trees = children.map(function (elementId) {\n      var item = _this.findById(elementId);\n\n      var model = item.getModel();\n      var type = '';\n      if (item.getType) type = item.getType();\n      var cItem = {\n        id: item.getID(),\n        itemType: type\n      };\n\n      if (type === 'combo') {\n        cItem.parentId = comboId;\n        model.parentId = comboId;\n      } else if (type === 'node') {\n        cItem.comboId = comboId;\n        model.comboId = comboId;\n      }\n\n      return cItem;\n    });\n    comboConfig.children = trees; // step 3:  ComboaddItem  Combo \n\n    this.addItem('combo', comboConfig, false);\n    this.set('comboSorted', false); // step4:  comboTrees \n\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (child.id === comboId) {\n          child.itemType = 'combo';\n          child.children = trees;\n          return false;\n        }\n\n        return true;\n      });\n    });\n\n    if (comboTrees) {\n      this.sortCombos();\n    }\n  };\n  /**\n   *  combo\n   * @param {String | INode | ICombo} combo  Combo item  id\n   */\n\n\n  AbstractGraph.prototype.uncombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item is not a combo!');\n      return;\n    }\n\n    var parentId = comboItem.getModel().parentId;\n    var comboTrees = self.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n    var itemMap = this.get('itemMap');\n    var comboId = comboItem.get('id');\n    var treeToBeUncombo;\n    var brothers = [];\n    var comboItems = this.get('combos');\n    var parentItem = this.findById(parentId);\n    comboTrees.forEach(function (ctree) {\n      if (treeToBeUncombo) return; // terminate the forEach\n\n      traverseTreeUp(ctree, function (subtree) {\n        // find the combo to be uncomboed, delete the combo from map and cache\n        if (subtree.id === comboId) {\n          treeToBeUncombo = subtree; // delete the related edges\n\n          var edges = comboItem.getEdges();\n          edges.forEach(function (edge) {\n            _this.removeItem(edge, false);\n          });\n          var index = comboItems.indexOf(combo);\n          comboItems.splice(index, 1);\n          delete itemMap[comboId];\n          comboItem.destroy();\n        } // find the parent to remove the combo from the combo's brothers array and add the combo's children to the combo's brothers array in the tree\n\n\n        if (parentId && treeToBeUncombo && subtree.id === parentId) {\n          parentItem.removeCombo(comboItem);\n          brothers = subtree.children; // the combo's brothers\n          // remove the combo from its brothers array\n\n          var index = brothers.indexOf(treeToBeUncombo);\n\n          if (index !== -1) {\n            brothers.splice(index, 1);\n          } // append the combo's children to the combo's brothers array\n\n\n          treeToBeUncombo.children.forEach(function (child) {\n            var item = _this.findById(child.id);\n\n            var childModel = item.getModel();\n\n            if (item.getType && item.getType() === 'combo') {\n              child.parentId = parentId;\n              delete child.comboId;\n              childModel.parentId = parentId; // update the parentId of the model\n\n              delete childModel.comboId;\n            } else if (item.getType && item.getType() === 'node') {\n              child.comboId = parentId;\n              childModel.comboId = parentId; // update the parentId of the model\n            }\n\n            parentItem.addChild(item);\n            brothers.push(child);\n          });\n          return false;\n        }\n\n        return true;\n      });\n    }); // if the parentId is not found, remove the combo from the roots\n\n    if (!parentId && treeToBeUncombo) {\n      var index = comboTrees.indexOf(treeToBeUncombo);\n      comboTrees.splice(index, 1); // modify the parentId of the children\n\n      treeToBeUncombo.children.forEach(function (child) {\n        child.parentId = undefined;\n\n        var childModel = _this.findById(child.id).getModel();\n\n        delete childModel.parentId; // update the parentId of the model\n\n        delete childModel.comboId; // update the comboId of the model\n\n        if (child.itemType !== 'node') comboTrees.push(child);\n      });\n    }\n  };\n  /**\n   *  bbox  combos  combos \n   */\n\n\n  AbstractGraph.prototype.updateCombos = function () {\n    var _this = this;\n\n    var self = this;\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates());\n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, false);\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, true);\n          });\n        }\n\n        return true;\n      });\n    });\n    self.sortCombos();\n  };\n  /**\n   *  bbox  combo  combos  combos \n   * @param {String | ICombo} combo  Combo  id Combo  Combod \n   */\n\n\n  AbstractGraph.prototype.updateCombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n    var comboId;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item to be updated is not a combo!');\n      return;\n    }\n\n    comboId = comboItem.get('id');\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (comboId === child.id && childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates()); // || !item.getStateStyle(stateName)\n\n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, false);\n            }\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, true);\n            }\n          });\n          if (comboId) comboId = child.parentId;\n        }\n\n        return true;\n      });\n    });\n  };\n  /**\n   * \n   * @param {String | INode | ICombo} item  Combo   id\n   * @param {string | undefined} parentId  combo idundefined  combo\n   */\n\n\n  AbstractGraph.prototype.updateComboTree = function (item, parentId, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n    this.set('comboSorted', false);\n    var uItem;\n\n    if (isString(item)) {\n      uItem = self.findById(item);\n    } else {\n      uItem = item;\n    }\n\n    var model = uItem.getModel();\n    var oldParentId = model.comboId || model.parentId;\n    var type = '';\n    if (uItem.getType) type = uItem.getType(); //  item  Combo parentId  combo  id\n\n    if (parentId && type === 'combo') {\n      var comboTrees = this.get('comboTrees');\n      var valid_1 = true;\n      var itemSubTree_1;\n      (comboTrees || []).forEach(function (ctree) {\n        if (itemSubTree_1) return;\n        traverseTree(ctree, function (subTree) {\n          if (itemSubTree_1) return; //  item \n\n          if (subTree.id === uItem.getID()) {\n            itemSubTree_1 = subTree;\n          }\n\n          return true;\n        });\n      }); //  item  parentId \n\n      traverseTree(itemSubTree_1, function (subTree) {\n        if (subTree.id === parentId) {\n          valid_1 = false;\n          return false;\n        }\n\n        return true;\n      }); // parentId  item \n\n      if (!valid_1) {\n        console.warn('Failed to update the combo tree! The parentId points to a descendant of the combo!');\n        return;\n      }\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var beforeData = {},\n          afterData = {};\n\n      if (type === 'combo') {\n        beforeData.combos = [{\n          id: model.id,\n          parentId: model.parentId\n        }];\n        afterData.combos = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      } else if (type === 'node') {\n        beforeData.nodes = [{\n          id: model.id,\n          parentId: model.comboId\n        }];\n        afterData.nodes = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      }\n\n      this.pushStack('updateComboTree', {\n        before: beforeData,\n        after: afterData\n      });\n    } //  combo  parentId  comboId \n\n\n    if (model.parentId || model.comboId) {\n      var combo = this.findById(model.parentId || model.comboId);\n\n      if (combo) {\n        combo.removeChild(uItem);\n      }\n    }\n\n    if (type === 'combo') {\n      model.parentId = parentId;\n    } else if (type === 'node') {\n      model.comboId = parentId;\n    } //  combo \n\n\n    if (parentId) {\n      var parentCombo = this.findById(parentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.addChild(uItem);\n      }\n    } //  combo combo \n\n\n    if (oldParentId) {\n      var parentCombo = this.findById(oldParentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.removeChild(uItem);\n      }\n    }\n\n    var newComboTrees = reconstructTree(this.get('comboTrees'), model.id, parentId);\n    this.set('comboTrees', newComboTrees);\n    this.updateCombos();\n  };\n  /**\n   * \n   * @return {object} data\n   */\n\n\n  AbstractGraph.prototype.save = function () {\n    var nodes = [];\n    var edges = [];\n    var combos = [];\n    each(this.get('nodes'), function (node) {\n      nodes.push(node.getModel());\n    });\n    each(this.get('edges'), function (edge) {\n      edges.push(edge.getModel());\n    });\n    each(this.get('combos'), function (combo) {\n      combos.push(combo.getModel());\n    });\n    return {\n      nodes: nodes,\n      edges: edges,\n      combos: combos\n    };\n  };\n  /**\n   * \n   * @param  {number} width  \n   * @param  {number} height \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeSize = function (width, height) {\n    var viewController = this.get('viewController');\n    viewController.changeSize(width, height);\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refresh = function () {\n    var self = this;\n    self.emit('beforegraphrefresh');\n\n    if (self.get('animate')) {\n      self.positionsAnimate();\n    } else {\n      var nodes = self.get('nodes');\n      var edges = self.get('edges');\n      var vedges = self.get('edges');\n      each(nodes, function (node) {\n        node.refresh();\n      });\n      each(edges, function (edge) {\n        edge.refresh();\n      });\n      each(vedges, function (vedge) {\n        vedge.refresh();\n      });\n    }\n\n    self.emit('aftergraphrefresh');\n    self.autoPaint();\n  };\n  /**\n   * item\n   * @return {INode} item\n   */\n\n\n  AbstractGraph.prototype.getNodes = function () {\n    return this.get('nodes');\n  };\n  /**\n   * item\n   * @return {IEdge} item\n   */\n\n\n  AbstractGraph.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   *  combo \n   */\n\n\n  AbstractGraph.prototype.getCombos = function () {\n    return this.get('combos');\n  };\n  /**\n   *  Combo \n   * @param comboId combo ID\n   */\n\n\n  AbstractGraph.prototype.getComboChildren = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo does not exist!');\n      return;\n    }\n\n    return combo.getChildren();\n  };\n  /**\n   *  graph  animateCfg \n   */\n\n\n  AbstractGraph.prototype.positionsAnimate = function () {\n    var self = this;\n    self.emit('beforeanimate');\n    var animateCfg = self.get('animateCfg');\n    var onFrame = animateCfg.onFrame;\n    var nodes = self.getNodes();\n    var toNodes = nodes.map(function (node) {\n      var model = node.getModel();\n      return {\n        id: model.id,\n        x: model.x,\n        y: model.y\n      };\n    });\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    var canvas = self.get('canvas');\n    canvas.animate(function (ratio) {\n      each(toNodes, function (data) {\n        var node = self.findById(data.id);\n\n        if (!node || node.destroyed) {\n          return;\n        }\n\n        var originAttrs = node.get('originAttrs');\n        var model = node.get('model');\n\n        if (!originAttrs) {\n          var containerMatrix = node.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          originAttrs = {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          };\n          node.set('originAttrs', originAttrs);\n        }\n\n        if (onFrame) {\n          var attrs = onFrame(node, ratio, data, originAttrs);\n          node.set('model', Object.assign(model, attrs));\n        } else {\n          model.x = originAttrs.x + (data.x - originAttrs.x) * ratio;\n          model.y = originAttrs.y + (data.y - originAttrs.y) * ratio;\n        }\n      });\n      self.refreshPositions();\n    }, {\n      duration: animateCfg.duration,\n      easing: animateCfg.easing,\n      callback: function callback() {\n        each(nodes, function (node) {\n          node.set('originAttrs', null);\n        });\n\n        if (animateCfg.callback) {\n          animateCfg.callback();\n        }\n\n        self.emit('afteranimate');\n        self.animating = false;\n      }\n    });\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refreshPositions = function () {\n    var self = this;\n    self.emit('beforegraphrefreshposition');\n    var nodes = self.get('nodes');\n    var edges = self.get('edges');\n    var vedges = self.get('vedges');\n    var combos = self.get('combos');\n    var model;\n    var updatedNodes = {};\n    each(nodes, function (node) {\n      model = node.getModel();\n      var originAttrs = node.get('originAttrs');\n\n      if (originAttrs && model.x === originAttrs.x && model.y === originAttrs.y) {\n        return;\n      }\n\n      var changed = node.updatePosition({\n        x: model.x,\n        y: model.y\n      });\n      updatedNodes[model.id] = changed;\n      if (model.comboId) updatedNodes[model.comboId] = updatedNodes[model.comboId] || changed;\n    });\n\n    if (combos && combos.length !== 0) {\n      self.updateCombos();\n    }\n\n    each(edges, function (edge) {\n      var sourceModel = edge.getSource().getModel();\n      var target = edge.getTarget(); //  target  getModel \n      //  target \n\n      if (!isPlainObject(target)) {\n        var targetModel = target.getModel();\n\n        if (updatedNodes[sourceModel.id] || updatedNodes[targetModel.id] || edge.getModel().isComboEdge) {\n          edge.refresh();\n        }\n      }\n    });\n    each(vedges, function (vedge) {\n      vedge.refresh();\n    });\n    self.emit('aftergraphrefreshposition');\n    self.autoPaint();\n  };\n\n  AbstractGraph.prototype.stopAnimate = function () {\n    this.get('canvas').stopAnimate();\n  };\n\n  AbstractGraph.prototype.isAnimating = function () {\n    return this.animating;\n  };\n  /**\n   * \n   * @return {number} \n   */\n\n\n  AbstractGraph.prototype.getZoom = function () {\n    var matrix = this.get('group').getMatrix();\n    return matrix ? matrix[0] : 1;\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  AbstractGraph.prototype.getCurrentMode = function () {\n    var modeController = this.get('modeController');\n    return modeController.getMode();\n  };\n  /**\n   * \n   * @param {string} mode \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.setMode = function (mode) {\n    var modeController = this.get('modeController');\n    modeController.setMode(mode);\n    return this;\n  };\n  /**\n   * \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.clear = function (avoidEmit) {\n    if (avoidEmit === void 0) {\n      avoidEmit = false;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.clear();\n    this.initGroups(); // \n\n    this.set({\n      itemMap: {},\n      nodes: [],\n      edges: [],\n      groups: [],\n      combos: [],\n      comboTrees: []\n    });\n    if (!avoidEmit) this.emit('afterrender');\n    return this;\n  };\n  /**\n   * \n   * @param {object} cfg \n   *  cfg  type  String \n   *  cfg  type \n   */\n\n\n  AbstractGraph.prototype.updateLayout = function (cfg) {\n    var layoutController = this.get('layoutController');\n\n    if (isString(cfg)) {\n      cfg = {\n        type: cfg\n      };\n    }\n\n    var oriLayoutCfg = this.get('layout');\n    var layoutCfg = {};\n    Object.assign(layoutCfg, oriLayoutCfg, cfg);\n    this.set('layout', layoutCfg);\n\n    if (layoutController.isLayoutTypeSame(layoutCfg) && layoutCfg.gpuEnabled === oriLayoutCfg.gpuEnabled) {\n      // no type or same type, or switch the gpu and cpu, update layout\n      layoutController.updateLayoutCfg(layoutCfg);\n    } else {\n      // has different type, change layout\n      layoutController.changeLayout(layoutCfg);\n    }\n  };\n  /**\n   * changeData \n   */\n\n\n  AbstractGraph.prototype.destroyLayout = function () {\n    var layoutController = this.get('layoutController');\n    layoutController.destroyLayout();\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.layout = function () {\n    var layoutController = this.get('layoutController');\n    var layoutCfg = this.get('layout');\n    if (!layoutCfg || !layoutController) return;\n\n    if (layoutCfg.workerEnabled) {\n      // web worker\n      layoutController.layout();\n      return;\n    }\n\n    if (layoutController.layoutMethod) {\n      layoutController.relayout(true);\n    } else {\n      layoutController.layout();\n    }\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.collapseCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo) {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.collapseCombo(combo);\n    comboModel.collapsed = true; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate the forEach\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false; // if the combo is found\n\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          // if the combo is found, concat the descendant nodes and combos\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = [];\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || source.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel();\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.parentId || targetModel.comboId);\n          if (!target || !targetModel.parentId && !targetModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          targetModel = target.getModel();\n        }\n\n        var targetId = targetModel.id;\n\n        if (edgeWeightMap[comboModel.id + \"-\" + targetId]) {\n          edgeWeightMap[comboModel.id + \"-\" + targetId] += edgeModel.size || 1;\n          return;\n        } // the source is in the combo, the target is not\n\n\n        var vedge = _this.addItem('vedge', {\n          source: comboModel.id,\n          target: targetId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[comboModel.id + \"-\" + targetId] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || target.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel();\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.parentId || sourceModel.comboId);\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          sourceModel = source.getModel();\n        }\n\n        var sourceId = sourceModel.id;\n\n        if (edgeWeightMap[sourceId + \"-\" + comboModel.id]) {\n          edgeWeightMap[sourceId + \"-\" + comboModel.id] += edgeModel.size || 1;\n          return;\n        } // the target is in the combo, the source is not\n\n\n        var vedge = _this.addItem('vedge', {\n          target: comboModel.id,\n          source: sourceId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[sourceId + \"-\" + comboModel.id] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      }\n    }); // update the width of the virtual edges, which is the sum of merged actual edges\n    // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n    addedVEdges.forEach(function (vedge) {\n      var vedgeModel = vedge.getModel();\n\n      _this.updateItem(vedge, {\n        size: edgeWeightMap[vedgeModel.source + \"-\" + vedgeModel.target]\n      }, false);\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'collapse',\n      item: combo\n    });\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.expandCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.expandCombo(combo);\n    comboModel.collapsed = false; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false;\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = {};\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n      var sourceId = source.get('id');\n      var targetId = target.get('id');\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || sourceId === comboModel.id) {\n        // the source is in the combo, the target is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (sourceModel.comboId === comboModel.id || sourceModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n\n        if (targetId) {\n          var vedgeId = sourceId + \"-\" + targetId; // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            source: sourceId,\n            target: targetId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || targetId === comboModel.id) {\n        // the target is in the combo, the source is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (targetModel.comboId === comboModel.id || targetModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n\n        if (sourceId) {\n          var vedgeId = sourceId + \"-\" + targetId; // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            target: targetId,\n            source: sourceId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if ((cnodes.includes(source) || ccombos.includes(source)) && (cnodes.includes(target) || ccombos.includes(target))) {\n        // both source and target are in the combo, if the target and source are both visible, show the edge\n        if (source.isVisible() && target.isVisible()) {\n          edge.show();\n        }\n      }\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n  };\n\n  AbstractGraph.prototype.collapseExpandCombo = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') return;\n    var comboModel = combo.getModel(); // if one ancestor combo of the combo is collapsed, it should not be collapsed or expanded\n\n    var parentItem = this.findById(comboModel.parentId);\n\n    while (parentItem) {\n      var parentModel = parentItem.getModel();\n\n      if (parentModel.collapsed) {\n        console.warn(\"Fail to expand the combo since it's ancestor combo is collapsed.\");\n        parentItem = undefined;\n        return;\n      }\n\n      parentItem = this.findById(parentModel.parentId);\n    }\n\n    var collapsed = comboModel.collapsed; // \n\n    if (collapsed) {\n      this.expandCombo(combo);\n    } else {\n      this.collapseCombo(combo);\n    }\n\n    this.updateCombo(combo);\n  };\n  /**\n   *  comboTree  Combo  Combo \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.sortCombos = function () {\n    var _this = this;\n\n    var comboSorted = this.get('comboSorted');\n    if (comboSorted) return;\n    this.set('comboSorted', true);\n    var depthMap = [];\n    var dataDepthMap = {};\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (cTree) {\n      traverseTree(cTree, function (child) {\n        if (depthMap[child.depth]) depthMap[child.depth].push(child.id);else depthMap[child.depth] = [child.id];\n        dataDepthMap[child.id] = child.depth;\n        return true;\n      });\n    });\n    var edges = this.getEdges().concat(this.get('vedges'));\n    (edges || []).forEach(function (edgeItem) {\n      var edge = edgeItem.getModel();\n      var sourceDepth = dataDepthMap[edge.source] || 0;\n      var targetDepth = dataDepthMap[edge.target] || 0;\n      var depth = Math.max(sourceDepth, targetDepth);\n      if (depthMap[depth]) depthMap[depth].push(edge.id);else depthMap[depth] = [edge.id];\n    });\n    depthMap.forEach(function (array) {\n      if (!array || !array.length) return;\n\n      for (var i = array.length - 1; i >= 0; i--) {\n        var item = _this.findById(array[i]);\n\n        if (item) item.toFront();\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {(string | INode)} node  ID \n   * @returns {INode[]}\n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNeighbors = function (node, type) {\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    return item.getNeighbors(type);\n  };\n  /**\n   *  node \n   *\n   * @param {(string | INode)} node  ID \n   * @param {('in' | 'out' | 'total' | 'all' | undefined)} in out total all \n   * @returns {Number | Object} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNodeDegree = function (node, type, refresh) {\n    if (type === void 0) {\n      type = undefined;\n    }\n\n    if (refresh === void 0) {\n      refresh = false;\n    }\n\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    var degrees = this.get('degrees');\n\n    if (!degrees || refresh) {\n      degrees = getDegree(this.save());\n      this.set('degrees', degrees);\n    }\n\n    var nodeDegrees = degrees[item.getID()];\n    var res = 0; //  addItem  0\n\n    if (!nodeDegrees) {\n      return 0;\n    }\n\n    switch (type) {\n      case 'in':\n        res = nodeDegrees.inDegree;\n        break;\n\n      case 'out':\n        res = nodeDegrees.outDegree;\n        break;\n\n      case 'all':\n        res = nodeDegrees;\n        break;\n\n      default:\n        res = nodeDegrees.degree;\n        break;\n    }\n\n    return res;\n  };\n\n  AbstractGraph.prototype.getUndoStack = function () {\n    return this.undoStack;\n  };\n\n  AbstractGraph.prototype.getRedoStack = function () {\n    return this.redoStack;\n  };\n  /**\n   *  undo  redo \n   */\n\n\n  AbstractGraph.prototype.getStackData = function () {\n    if (!this.get('enabledStack')) {\n      return null;\n    }\n\n    return {\n      undoStack: this.undoStack.toArray(),\n      redoStack: this.redoStack.toArray()\n    };\n  };\n  /**\n   *  undo stack & redo stack\n   */\n\n\n  AbstractGraph.prototype.clearStack = function () {\n    if (this.get('enabledStack')) {\n      this.undoStack.clear();\n      this.redoStack.clear();\n    }\n  };\n  /**\n   * \n   * @param action \n   * @param data \n   * @param stackType \n   */\n\n\n  AbstractGraph.prototype.pushStack = function (action, data, stackType) {\n    if (action === void 0) {\n      action = 'update';\n    }\n\n    if (stackType === void 0) {\n      stackType = 'undo';\n    }\n\n    if (!this.get('enabledStack')) {\n      console.warn(' undo & redo  Graph  enabledStack: true !');\n      return;\n    }\n\n    var stackData = data ? clone(data) : {\n      before: {},\n      after: clone(this.save())\n    };\n\n    if (stackType === 'redo') {\n      this.redoStack.push({\n        action: action,\n        data: stackData\n      });\n    } else {\n      this.undoStack.push({\n        action: action,\n        data: stackData\n      });\n    }\n\n    this.emit('stackchange', {\n      undoStack: this.undoStack,\n      redoStack: this.redoStack\n    });\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getAdjMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    return currentAdjMatrix;\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getShortestPathMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n    var currentShourtestPathMatrix = this.get('shortestPathMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    if (!currentShourtestPathMatrix || !cache) {\n      currentShourtestPathMatrix = floydWarshall(this.save(), directed);\n      this.set('shortestPathMatrix', currentShourtestPathMatrix);\n    }\n\n    return currentShourtestPathMatrix;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.on = function (eventName, callback, once) {\n    return _super.prototype.on.call(this, eventName, callback, once);\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.destroy = function () {\n    this.clear(); // \n\n    this.clearStack();\n    this.get('itemController').destroy();\n    this.get('modeController').destroy();\n    this.get('viewController').destroy();\n    this.get('stateController').destroy();\n    this.get('canvas').destroy();\n    this.cfg = null;\n    this.destroyed = true;\n    this.redoStack = null;\n    this.undoStack = null;\n  };\n  /**\n   * \n   * @param cfg HullCfg \n   */\n\n\n  AbstractGraph.prototype.createHull = function (cfg) {\n    if (!cfg.members || cfg.members.length < 1) {\n      console.warn('Create hull failed! The members is empty.');\n      return;\n    }\n\n    var parent = this.get('hullGroup');\n    var hullMap = this.get('hullMap');\n\n    if (!hullMap) {\n      hullMap = {};\n      this.set('hullMap', hullMap);\n    }\n\n    if (!parent || parent.get('destroyed')) {\n      parent = this.get('group').addGroup({\n        id: 'hullGroup'\n      });\n      parent.toBack();\n      this.set('hullGroup', parent);\n    }\n\n    if (hullMap[cfg.id]) {\n      console.warn('Existed hull id.');\n      return hullMap[cfg.id];\n    }\n\n    var group = parent.addGroup({\n      id: cfg.id + \"-container\"\n    });\n    var hull = new Hull(this, __assign(__assign({}, cfg), {\n      group: group\n    }));\n    var hullId = hull.id;\n    hullMap[hullId] = hull;\n    return hull;\n  };\n  /**\n   *  graph \n   * @return {[key: string]: Hull} Hull  maphullId  hull \n   */\n\n\n  AbstractGraph.prototype.getHulls = function () {\n    return this.get('hullMap');\n  };\n  /**\n   *  hullId  hull\n   * @return Hull\n   */\n\n\n  AbstractGraph.prototype.getHullById = function (hullId) {\n    return this.get('hullMap')[hullId];\n  };\n\n  AbstractGraph.prototype.removeHull = function (hull) {\n    var hullInstance;\n\n    if (isString(hull)) {\n      hullInstance = this.getHullById(hull);\n    } else {\n      hullInstance = hull;\n    }\n\n    var hullMap = this.get('hullMap');\n    delete hullMap[hullInstance.id];\n    hullInstance.destroy();\n  };\n\n  AbstractGraph.prototype.removeHulls = function () {\n    var hulls = this.getHulls();\n    if (!hulls || !Object.keys(hulls).length) return;\n    Object.keys(hulls).forEach(function (key) {\n      var hull = hulls[key];\n      hull.destroy();\n    });\n    this.set('hullMap', {});\n  };\n\n  AbstractGraph.prototype.onTick = function (timestamp) {\n    var layoutController = this.get('layoutController');\n    layoutController.onTick(timestamp);\n    requestAnimationFrame(this.onTick.bind(this));\n  };\n\n  return AbstractGraph;\n}(EventEmitter);\n\nexport default AbstractGraph;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { __assign } from \"tslib\";\nimport Global from '../global';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix, each, mix, isBoolean, isPlainObject, clone } from '@antv/util';\nimport { cloneBesidesImg } from '../util/graphic';\nvar transform = ext.transform;\nvar CLS_SHAPE_SUFFIX = '-shape';\nvar CLS_LABEL_SUFFIX = '-label';\nvar ARROWS = ['startArrow', 'endArrow'];\nvar SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: undefined,\n  fill: undefined,\n  lineAppendWidth: 1,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  x: 0,\n  y: 0,\n  r: 10,\n  width: 20,\n  height: 20,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar PATH_SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: '#000',\n  lineDash: undefined,\n  startArrow: false,\n  endArrow: false,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar SHAPES_DEFAULT_ATTRS = {\n  edge: PATH_SHAPE_DEFAULT_ATTRS,\n  node: SHAPE_DEFAULT_ATTRS,\n  combo: SHAPE_DEFAULT_ATTRS\n};\nexport var CLS_LABEL_BG_SUFFIX = '-label-bg'; //  shape  label\n\nexport var shapeBase = {\n  // \n  options: {},\n  itemType: '',\n\n  /**\n   *  circleellipsepolyline...\n   */\n  type: '',\n  getCustomConfig: function getCustomConfig(cfg) {\n    return {};\n  },\n  getOptions: function getOptions(cfg) {\n    return deepMix({\n      // \n      labelCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      },\n      descriptionCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      }\n    }, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  },\n\n  /**\n   * /\n   * @override\n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(cfg, group) {\n    var shape = this.drawShape(cfg, group);\n    shape.set('className', this.itemType + CLS_SHAPE_SUFFIX);\n\n    if (cfg.label) {\n      var label = this.drawLabel(cfg, group);\n      label.set('className', this.itemType + CLS_LABEL_SUFFIX);\n    }\n\n    return shape;\n  },\n\n  /**\n   * \n   * @param cfg\n   * @param group\n   * @param keyShape\n   */\n  afterDraw: function afterDraw(cfg, group, keyShape) {},\n  drawShape: function drawShape(cfg, group) {\n    return null;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.getOptions(cfg).labelCfg; // imagenull\n\n    var labelCfg = defaultLabelCfg || {};\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      draggable: true,\n      className: 'text-shape',\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      var labelBBox = label.getBBox();\n      var labelMatrix = label.getMatrix();\n\n      if (!labelMatrix) {\n        labelMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      }\n\n      if (labelStyle.rotateCenter) {\n        switch (labelStyle.rotateCenter) {\n          case 'center':\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n\n          case 'lefttop':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n            break;\n\n          case 'leftcenter':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n            break;\n\n          default:\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n        }\n      } else {\n        labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n      }\n\n      label.setMatrix(labelMatrix);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = mix({}, defaultLabelCfg, cfg.labelCfg);\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    return rect;\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    return {\n      text: cfg.label\n    };\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    return {};\n  },\n\n  /**\n   * \n   * @param cfg \n   * @param labelCfg \n   * @param group label \n   */\n  getLabelStyle: function getLabelStyle(cfg, labelCfg, group) {\n    var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group);\n    var attrName = this.itemType + \"Label\"; //  nodeLabeledgeLabel \n\n    var defaultStyle = Global[attrName] ? Global[attrName].style : null;\n\n    var labelStyle = __assign(__assign(__assign({}, defaultStyle), calculateStyle), labelCfg.style);\n\n    return labelStyle;\n  },\n\n  /**\n   * \n   * @param cfg\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    return cfg.style;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg /\n   * @param  {G6.Item} item /\n   */\n  update: function update(cfg, item) {\n    this.updateShapeStyle(cfg, item);\n    this.updateLabel(cfg, item);\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shape = item.getKeyShape();\n    var shapeStyle = mix({}, shape.attr(), cfg.style);\n\n    var _loop_1 = function _loop_1(key) {\n      var _a;\n\n      var style = shapeStyle[key];\n\n      if (isPlainObject(style)) {\n        // \n        var subShape = group.find(function (element) {\n          return element.get('name') === key;\n        });\n\n        if (subShape) {\n          subShape.attr(style);\n        }\n      } else {\n        shape.attr((_a = {}, _a[key] = style, _a));\n      }\n    };\n\n    for (var key in shapeStyle) {\n      _loop_1(key);\n    }\n  },\n  updateLabel: function updateLabel(cfg, item) {\n    var group = item.getContainer();\n    var defaultLabelCfg = this.getOptions({}).labelCfg;\n    var labelClassName = this.itemType + CLS_LABEL_SUFFIX;\n    var label = group.find(function (element) {\n      return element.get('className') === labelClassName;\n    });\n    var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n    var labelBg = group.find(function (element) {\n      return element.get('classname') === labelBgClassname;\n    }); //  cfg.label = \"\" \n\n    if (cfg.label || cfg.label === '') {\n      //  label labellabel \n      if (!label) {\n        //  label label\n        var newLabel = this.drawLabel(cfg, group);\n        newLabel.set('className', labelClassName);\n      } else {\n        //  label getLabelStyle  label \n        //  style position, offset, ...\n        var currentLabelCfg = {};\n\n        if (item.getModel) {\n          currentLabelCfg = item.getModel().labelCfg;\n        } // \n\n\n        var labelCfg = deepMix({}, defaultLabelCfg, currentLabelCfg, cfg.labelCfg); // \n\n        var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group); //  nodeLabeledgeLabel \n\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : undefined;\n        var cfgBgStyle = labelCfg.style && labelCfg.style.background; // \b label  label.attr()/ label \n\n        var labelStyle = __assign(__assign(__assign({}, label.attr()), calculateStyle), cfgStyle);\n\n        var rotate = labelStyle.rotate;\n        delete labelStyle.rotate; //  label \n\n        if (rotate) {\n          // if G 4.x define the rotateAtStart, use it directly instead of using the following codes\n          var rotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          rotateMatrix = transform(rotateMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n          label.resetMatrix();\n          label.attr(__assign(__assign({}, labelStyle), {\n            matrix: rotateMatrix\n          }));\n        } else {\n          label.resetMatrix();\n          label.attr(labelStyle);\n        }\n\n        if (!labelBg) {\n          if (labelStyle.background) {\n            labelBg = this.drawLabelBg(cfg, group, label);\n            labelBg.set('classname', labelBgClassname);\n            label.toFront();\n          }\n        } else if (labelStyle.background) {\n          var calculateBgStyle = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n\n          var labelBgStyle = __assign(__assign({}, calculateBgStyle), cfgBgStyle);\n\n          labelBg.resetMatrix();\n\n          if (rotate) {\n            var bgRotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            bgRotateMatrix = transform(bgRotateMatrix, [['t', -labelBgStyle.x, -labelBgStyle.y], ['r', rotate], ['t', labelBgStyle.x, labelBgStyle.y]]);\n            labelBgStyle.matrix = bgRotateMatrix;\n          }\n\n          labelBg.attr(labelBgStyle);\n        } else {\n          group.removeChild(labelBg);\n        }\n      }\n    }\n  },\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate(cfg, item) {},\n\n  /**\n   *  draw \n   *  selectedactive \n   * @override\n   * @param  {String} name \n   * @param  {String | Boolean} value \n   * @param  {G6.Item} item \n   */\n  setState: function setState(name, value, item) {\n    var _a, _b;\n\n    var shape = item.get('keyShape');\n    if (!shape || shape.destroyed) return;\n    var type = item.getType();\n    var stateName = isBoolean(value) ? name : name + \":\" + value;\n    var shapeStateStyle = this.getStateStyle(stateName, item);\n    var itemStateStyle = item.getStateStyle(stateName); // const originStyle = item.getOriginStyle();\n    // \n\n    if (!itemStateStyle && !shapeStateStyle) {\n      return;\n    } // \n    //  state  model.stateStyles \n\n\n    var styles = mix({}, itemStateStyle || shapeStateStyle);\n    var group = item.getContainer(); //  states \n\n    var keptAttrs = {\n      x: 1,\n      y: 1,\n      cx: 1,\n      cy: 1\n    };\n\n    if (type === 'combo') {\n      keptAttrs.r = 1;\n      keptAttrs.width = 1;\n      keptAttrs.height = 1;\n    }\n\n    if (value) {\n      var _loop_2 = function _loop_2(key) {\n        var _c;\n\n        var style = styles[key];\n\n        if (isPlainObject(style) && !ARROWS.includes(key)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === key;\n          });\n\n          if (subShape) {\n            subShape.attr(style);\n          }\n        } else {\n          //  keyShape \n          shape.attr((_c = {}, _c[key] = style, _c));\n        }\n      }; // style \n\n\n      for (var key in styles) {\n        _loop_2(key);\n      }\n    } else {\n      //  state \n      var enableStatesStyle = cloneBesidesImg(item.getCurrentStatesStyle());\n      var model = item.getModel(); // \n\n      var originStyle_1 = mix({}, model.style, cloneBesidesImg(item.getOriginStyle()));\n      var keyShapeName_1 = shape.get('name'); // cloning  shape.attr(), keys.forEach to avoid cloning the img attr, which leads to maximum clone heap #2383\n      // const keyShapeStyles = clone(shape.attr())\n\n      var shapeAttrs_1 = shape.attr();\n      var keyShapeStyles_1 = {};\n      Object.keys(shapeAttrs_1).forEach(function (key) {\n        if (key === 'img') return;\n        var attr = shapeAttrs_1[key];\n\n        if (attr && _typeof(attr) === 'object') {\n          keyShapeStyles_1[key] = clone(attr);\n        } else {\n          keyShapeStyles_1[key] = attr;\n        }\n      }); //  - \n\n      var filtetDisableStatesStyle = {};\n\n      var _loop_3 = function _loop_3(p) {\n        var style = styles[p];\n\n        if (isPlainObject(style) && !ARROWS.includes(p)) {\n          var subShape_1 = group.find(function (element) {\n            return element.get('name') === p;\n          });\n\n          if (subShape_1) {\n            var subShapeStyles_1 = clone(subShape_1.attr());\n            each(style, function (v, key) {\n              if (p === keyShapeName_1 && keyShapeStyles_1[key] && !keptAttrs[key]) {\n                delete keyShapeStyles_1[key];\n                var value_1 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                shape.attr(key, value_1);\n              } else if (subShapeStyles_1[key] || subShapeStyles_1[key] === 0) {\n                delete subShapeStyles_1[key];\n                var value_2 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                subShape_1.attr(key, value_2);\n              }\n            });\n            filtetDisableStatesStyle[p] = subShapeStyles_1;\n          }\n        } else {\n          if (keyShapeStyles_1[p] && !keptAttrs[p]) {\n            delete keyShapeStyles_1[p];\n            var value_3 = originStyle_1[p] || (originStyle_1[keyShapeName_1] ? originStyle_1[keyShapeName_1][p] : undefined) || SHAPES_DEFAULT_ATTRS[type][p];\n            shape.attr(p, value_3);\n          }\n        }\n      }; // styles \n\n\n      for (var p in styles) {\n        _loop_3(p);\n      } //  states \n      //  keyShape  name  filtetDisableStatesStyle  { keyShapeName: {} }\n      // \n\n\n      if (!keyShapeName_1) {\n        mix(filtetDisableStatesStyle, keyShapeStyles_1);\n      } else {\n        filtetDisableStatesStyle[keyShapeName_1] = keyShapeStyles_1;\n      }\n\n      for (var key in enableStatesStyle) {\n        if (keptAttrs[key]) continue;\n        var enableStyle = enableStatesStyle[key];\n\n        if (!isPlainObject(enableStyle) || ARROWS.includes(key)) {\n          // mergekeyShape\n          if (!keyShapeName_1) {\n            mix(originStyle_1, (_a = {}, _a[key] = enableStyle, _a));\n          } else {\n            mix(originStyle_1[keyShapeName_1], (_b = {}, _b[key] = enableStyle, _b));\n            delete originStyle_1[key];\n          }\n\n          delete enableStatesStyle[key];\n        }\n      }\n\n      var originstyles = {};\n      deepMix(originstyles, originStyle_1, filtetDisableStatesStyle, enableStatesStyle);\n      var keyShapeSetted = false;\n\n      var _loop_4 = function _loop_4(originKey) {\n        var _d, _e;\n\n        var style = originstyles[originKey];\n\n        if (isPlainObject(style) && !ARROWS.includes(originKey)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === originKey;\n          });\n\n          if (subShape) {\n            if (originKey === keyShapeName_1) {\n              if (type === 'combo') {\n                delete style.r;\n                delete style.width;\n                delete style.height;\n              }\n\n              keyShapeSetted = true;\n            }\n\n            subShape.attr(style);\n          }\n        } else if (!keyShapeSetted) {\n          var value_4 = style || SHAPES_DEFAULT_ATTRS[type][originKey]; //  combo  keyShapeName  keyShape \n\n          if (type === 'combo') {\n            if (!keyShapeName_1) {\n              shape.attr((_d = {}, _d[originKey] = value_4, _d));\n            }\n          } else {\n            shape.attr((_e = {}, _e[originKey] = value_4, _e));\n          }\n        }\n      };\n\n      for (var originKey in originstyles) {\n        _loop_4(originKey);\n      }\n    }\n  },\n\n  /**\n   * \n   *\n   * @param {string} name \n   * @param {Item} item NodeEdge\n   * @return {object} \n   */\n  getStateStyle: function getStateStyle(name, item) {\n    var model = item.getModel();\n    var type = item.getType();\n\n    var _a = this.getOptions(model),\n        stateStyles = _a.stateStyles,\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b;\n\n    var modelStateStyle = model.stateStyles ? model.stateStyles[name] : stateStyles && stateStyles[name];\n\n    if (type === 'combo') {\n      return clone(modelStateStyle);\n    }\n\n    return mix({}, style, modelStateStyle);\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var anchorPoints = this.getOptions(cfg).anchorPoints;\n    return anchorPoints;\n  }\n};","import { __assign } from \"tslib\";\nimport { isArray, isNil, mix } from '@antv/util';\nimport { formatPadding } from '../util/base';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleNode = {\n  itemType: 'node',\n  // \n  shapeType: 'single-node',\n\n  /**\n   * \n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  offset: Global.nodeLabel.offset,\n\n  /**\n   * \n   * @internal  [width, height] \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = cfg.size || this.getOptions({}).size || Global.defaultNode.size; // size 12\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    if (labelPosition === 'center') {\n      return {\n        x: 0,\n        y: 0,\n        text: cfg.label\n      };\n    }\n\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: 0 - height / 2 - offset,\n          textBaseline: 'bottom' // \n\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: height / 2 + offset,\n          textBaseline: 'top'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - width / 2 - offset,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n\n      default:\n        style = {\n          x: width / 2 + offset,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = formatPadding(backgroundStyle.padding);\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var style;\n    style = {\n      x: bbox.minX - padding[3],\n      y: bbox.minY - padding[0]\n    };\n    style = __assign(__assign(__assign({}, style), backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight\n    });\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'node-shape'\n    });\n    return shape;\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions(cfg).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints;\n\n    if (markLeft) {\n      currentLinkPoints = markLeft.attr();\n    }\n\n    if (markRight && !currentLinkPoints) {\n      currentLinkPoints = markRight.attr();\n    }\n\n    if (markTop && !currentLinkPoints) {\n      currentLinkPoints = markTop.attr();\n    }\n\n    if (markBottom && !currentLinkPoints) {\n      currentLinkPoints = markBottom.attr();\n    }\n\n    if (!currentLinkPoints) currentLinkPoints = defaultLinkPoints;\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        bottom = _a.bottom;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      }\n\n      markRight.attr(__assign(__assign({}, styles), {\n        x: width / 2,\n        y: 0\n      }));\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: width / 2,\n          y: 0\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      }\n\n      markTop.attr(__assign(__assign({}, styles), {\n        x: 0,\n        y: -height / 2\n      }));\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: -height / 2\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markBottom) {\n      if (!bottom && bottom !== undefined) {\n        markBottom.remove();\n      } else {\n        markBottom.attr(__assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }));\n      }\n    } else if (bottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle, hasIcon) {\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign({}, keyShapeStyle));\n    this.updateLabel(cfg, item); // special for some types of nodes\n\n    if (hasIcon) {\n      this.updateIcon(cfg, item);\n    }\n  },\n  updateIcon: function updateIcon(cfg, item) {\n    var _this = this;\n\n    var group = item.getContainer();\n    var icon = this.getOptions(cfg).icon;\n    var show = (cfg.icon ? cfg.icon : {\n      show: undefined\n    }).show;\n    var iconShape = group.find(function (element) {\n      return element.get('className') === _this.type + \"-icon\";\n    });\n\n    if (iconShape) {\n      //  icon\n      if (show || show === undefined) {\n        //  show: true,  icon \n        var iconConfig = mix({}, iconShape.attr(), icon);\n        var w = iconConfig.width,\n            h = iconConfig.height;\n        iconShape.attr(__assign(__assign({}, iconConfig), {\n          x: -w / 2,\n          y: -h / 2\n        }));\n      } else {\n        //  show: false  icon\n        iconShape.remove();\n      }\n    } else if (show) {\n      //  icon show: true icon\n      var w = icon.width,\n          h = icon.height;\n      group.addShape('image', {\n        attrs: __assign(__assign({}, icon), {\n          x: -w / 2,\n          y: -h / 2\n        }),\n        className: this.type + \"-icon\",\n        name: this.type + \"-icon\"\n      }); // to ensure the label is on the top of all the shapes\n\n      var labelShape = group.find(function (element) {\n        return element.get('className') === \"node-label\";\n      });\n\n      if (labelShape) {\n        labelShape.toFront();\n      }\n    }\n  }\n};\n\nvar singleNodeDef = __assign(__assign({}, shapeBase), singleNode);\n\nShape.registerNode('single-node', singleNodeDef);","/**\n * @fileOverview \n * @description  mixin \n */\nimport { __assign } from \"tslib\";\nimport { deepMix, mix, each, isNil, isNumber, isArray } from '@antv/util';\nimport { getLabelPosition, getLoopCfgs } from '../util/graphic';\nimport { distance, getCircleCenterByPoints } from '../util/math';\nimport { getControlPoint, getSpline } from '../util/path';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase, CLS_LABEL_BG_SUFFIX } from './shapeBase';\nvar CLS_SHAPE = 'edge-shape'; // start,end center \n\nfunction revertAlign(labelPosition) {\n  var textAlign = labelPosition;\n\n  if (labelPosition === 'start') {\n    textAlign = 'end';\n  } else if (labelPosition === 'end') {\n    textAlign = 'start';\n  }\n\n  return textAlign;\n}\n\nvar singleEdge = {\n  itemType: 'edge',\n\n  /**\n   * \n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  x \n   * @type {Number}\n   */\n  refX: 0,\n\n  /**\n   *  y \n   * @type {Number}\n   */\n  refY: 0,\n\n  /**\n   *  false\n   * @type {Boolean}\n   */\n  labelAutoRotate: false,\n  // \n  options: {\n    size: Global.defaultEdge.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n\n  /**\n   *  path\n   * @internal \n   * @param  {Array} points \n   * @return {Array}  path \n   */\n  getPath: function getPath(points) {\n    var path = [];\n    each(points, function (point, index) {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    return path;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = cfg.size || Global.defaultEdge.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var path = this.getPath(points);\n    var styles = mix({}, Global.defaultEdge.style, {\n      stroke: Global.defaultEdge.color,\n      lineWidth: size,\n      path: path\n    }, style);\n    return styles;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var routeCfg = {\n      radius: previousStyle.radius\n    };\n\n    if (!controlPoints) {\n      routeCfg = {\n        source: source,\n        target: target,\n        offset: previousStyle.offset,\n        radius: previousStyle.radius\n      };\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var path = this.getPath(points, routeCfg);\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    var style = {};\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX;\n      style.y = cfg.startPoint.y + offsetY;\n      style.text = cfg.label;\n      return style;\n    }\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX, offsetY, autoRotate);\n    style.x = offsetStyle.x;\n    style.y = offsetStyle.y;\n    style.rotate = offsetStyle.rotate;\n    style.textAlign = this._getTextAlign(labelPosition, offsetStyle.angle);\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = backgroundStyle.padding;\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var labelPosition = labelCfg.position || this.labelPosition;\n\n    var style = __assign(__assign({}, backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight,\n      x: bbox.minX - padding[2],\n      y: bbox.minY - padding[0],\n      rotate: 0\n    });\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX - backgroundWidth / 2;\n      style.y = cfg.startPoint.y + offsetY - backgroundHeight / 2;\n      return style;\n    }\n\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX - backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    var rad = offsetStyle.angle;\n\n    if (rad > 1 / 2 * Math.PI && rad < 3 * 1 / 2 * Math.PI) {\n      offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX + backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    }\n\n    if (autoRotate) {\n      style.x = offsetStyle.x;\n      style.y = offsetStyle.y;\n    }\n\n    style.rotate = offsetStyle.rotate;\n    return style;\n  },\n  // \n  _getTextAlign: function _getTextAlign(labelPosition, angle) {\n    var textAlign = 'center';\n\n    if (!angle) {\n      return labelPosition;\n    }\n\n    angle = angle % (Math.PI * 2); // \n\n    if (labelPosition !== 'center') {\n      if (angle >= 0 && angle <= Math.PI / 2 || angle >= 3 / 2 * Math.PI && angle < 2 * Math.PI) {\n        textAlign = labelPosition;\n      } else {\n        textAlign = revertAlign(labelPosition);\n      }\n    }\n\n    return textAlign;\n  },\n\n  /**\n   * @internal \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * @internal \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getPathPoints: function getPathPoints(cfg) {\n    return cfg;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg   \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    var shape = group.addShape('path', {\n      className: CLS_SHAPE,\n      name: CLS_SHAPE,\n      attrs: shapeStyle\n    });\n    return shape;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var defaultFontFamily;\n    if (typeof window !== 'undefined' && typeof window.getComputedStyle !== 'undefined') defaultFontFamily = window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif';else defaultFontFamily = 'Arial, sans-serif';\n    var labelCfg = deepMix({\n      fontFamily: defaultFontFamily\n    }, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      label.rotateAtStart(rotate);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = deepMix({}, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    delete style.rotate;\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    if (rotate) rect.rotateAtStart(rotate);\n    return rect;\n  }\n};\n\nvar singleEdgeDef = __assign(__assign({}, shapeBase), singleEdge);\n\nShape.registerEdge('single-edge', singleEdgeDef); // , \n\nShape.registerEdge('line', {\n  // \n  getControlPoints: function getControlPoints() {\n    return undefined;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('spline', {\n  getPath: function getPath(points) {\n    var path = getSpline(points);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('arc', {\n  curveOffset: 20,\n  clockwise: 1,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var midPoint = {\n      x: (startPoint.x + endPoint.x) / 2,\n      y: (startPoint.y + endPoint.y) / 2\n    };\n    var center;\n    var arcPoint; // \n\n    if (cfg.controlPoints !== undefined) {\n      arcPoint = cfg.controlPoints[0];\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint); //  clockwise\n\n      if (startPoint.x <= endPoint.x && startPoint.y > endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 0 : 1;\n      } else if (startPoint.x <= endPoint.x && startPoint.y < endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 1 : 0;\n      } else if (startPoint.x > endPoint.x && startPoint.y <= endPoint.y) {\n        this.clockwise = center.y < arcPoint.y ? 0 : 1;\n      } else {\n        this.clockwise = center.y < arcPoint.y ? 1 : 0;\n      } // \n\n\n      if ((arcPoint.x - startPoint.x) / (arcPoint.y - startPoint.y) === (endPoint.x - startPoint.x) / (endPoint.y - startPoint.y)) {\n        return [];\n      }\n    } else {\n      // \n      // \n      if (cfg.curveOffset === undefined) {\n        cfg.curveOffset = this.curveOffset;\n      }\n\n      if (isArray(cfg.curveOffset)) {\n        cfg.curveOffset = cfg.curveOffset[0];\n      }\n\n      if (cfg.curveOffset < 0) {\n        this.clockwise = 0;\n      } else {\n        this.clockwise = 1;\n      }\n\n      var vec = {\n        x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y\n      };\n      var edgeAngle = Math.atan2(vec.y, vec.x);\n      arcPoint = {\n        x: cfg.curveOffset * Math.cos(-Math.PI / 2 + edgeAngle) + midPoint.x,\n        y: cfg.curveOffset * Math.sin(-Math.PI / 2 + edgeAngle) + midPoint.y\n      };\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint);\n    }\n\n    var radius = distance(startPoint, center);\n    var controlPoints = [{\n      x: radius,\n      y: radius\n    }];\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]); // \n\n    if (points.length === 2) {\n      path.push(['L', points[1].x, points[1].y]);\n    } else {\n      path.push(['A', points[1].x, points[1].y, 0, 0, this.clockwise, points[2].x, points[2].y]);\n    }\n\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('quadratic', {\n  curvePosition: 0.5,\n  curveOffset: -20,\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; // controlPoints\n\n    if (!controlPoints || !controlPoints.length) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n      if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n      if (isArray(this.curveOffset)) cfg.curveOffset = cfg.curveOffset[0];\n      if (isArray(this.curvePosition)) cfg.curvePosition = cfg.curveOffset[0];\n      var innerPoint = getControlPoint(startPoint, endPoint, cfg.curvePosition, cfg.curveOffset);\n      controlPoints = [innerPoint];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['Q', points[1].x, points[1].y, points[2].x, points[2].y]);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('cubic', {\n  curvePosition: [1 / 2, 1 / 2],\n  curveOffset: [-20, 20],\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; //  controlPoints\n\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n\n    if (!controlPoints || !controlPoints.length || controlPoints.length < 2) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      var innerPoint1 = getControlPoint(startPoint, endPoint, cfg.curvePosition[0], cfg.curveOffset[0]);\n      var innerPoint2 = getControlPoint(startPoint, endPoint, cfg.curvePosition[1], cfg.curveOffset[1]);\n      controlPoints = [innerPoint1, innerPoint2];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    return path;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('cubic-vertical', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var yDist = endPoint.y - startPoint.y;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(yDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x,\n      y: startPoint.y + yDist * this.curvePosition[0] + curveOffset[0]\n    };\n    var innerPoint2 = {\n      x: endPoint.x,\n      y: endPoint.y - yDist * this.curvePosition[1] + curveOffset[1]\n    };\n    return [innerPoint1, innerPoint2];\n  }\n}, 'cubic'); // \n\nShape.registerEdge('cubic-horizontal', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var xDist = endPoint.x - startPoint.x;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(xDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x + xDist * this.curvePosition[0] + curveOffset[0],\n      y: startPoint.y\n    };\n    var innerPoint2 = {\n      x: endPoint.x - xDist * this.curvePosition[1] + curveOffset[1],\n      y: endPoint.y\n    };\n    var controlPoints = [innerPoint1, innerPoint2];\n    return controlPoints;\n  }\n}, 'cubic');\nShape.registerEdge('loop', {\n  getPathPoints: function getPathPoints(cfg) {\n    return getLoopCfgs(cfg);\n  },\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n  afterDraw: function afterDraw(cfg) {\n    cfg.controlPoints = undefined;\n  },\n  afterUpdate: function afterUpdate(cfg) {\n    cfg.controlPoints = undefined;\n  }\n}, 'cubic');","import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // \n  shapeType: 'single-combo',\n\n  /**\n   * Combo  top\n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n\n  /**\n   *  Combo \n   * @internal  Combo  [width, height] \n   * @param  {Object} cfg Combo \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size  1 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);","import { __assign } from \"tslib\";\nimport Global from '../../global';\nimport Shape from '../shape';\nimport { isNumber, clone, mix, isArray } from '@antv/util'; //  Combo\n\nShape.registerCombo('circle', {\n  // \n  options: {\n    size: [Global.defaultCombo.size[0], Global.defaultCombo.size[0]],\n    padding: Global.defaultCombo.padding[0],\n    animate: true,\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      },\n      refX: 0,\n      refY: 0\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    delete style.height;\n    delete style.width;\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: 'circle-combo',\n      name: 'circle-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   *  Combo  Combo \n   * @param {Object} cfg Combo \n   * @return {Object} Combo \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      var size = this.getSize(cfg);\n      if (!isNumber(style.r) || isNaN(style.r)) r = size[0] / 2 || Global.defaultCombo.style.r;else r = Math.max(style.r, size[0] / 2) || size[0] / 2;\n    }\n\n    style.r = r + padding;\n\n    var styles = __assign({\n      x: 0,\n      y: 0\n    }, style);\n\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var cfgStyle = clone(cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    }\n\n    cfgStyle.r = r + padding;\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.r = cfgStyle.r;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  //  Combo \n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    // \n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // \n\nShape.registerNode('simple-circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerNode('simple-rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport Shape from '../shape';\n/**\n * \n */\n\nShape.registerNode('image', {\n  options: {\n    img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ',\n    size: 200,\n    clipCfg: {\n      show: false,\n      type: 'circle',\n      // circle\n      r: 50,\n      // ellipse\n      rx: 50,\n      ry: 35,\n      // rect\n      width: 50,\n      height: 35,\n      // polygon\n      points: [[30, 12], [12, 30], [30, 48], [48, 30]],\n      // path\n      path: [['M', 25, 25], ['L', 50, 25], ['A', 12.5, 12.5, 0, 1, 1, 50, 50], ['A', 12.5, 12.5, 0, 1, 0, 50, 50], ['L', 25, 75], ['Z']],\n      // \n      x: 0,\n      y: 0 // clip \n      // style: {\n      //   lineWidth: 1\n      // },\n\n    }\n  },\n  shapeType: 'image',\n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    delete style.fill;\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    this.drawClip(cfg, shape);\n    return shape;\n  },\n  drawClip: function drawClip(cfg, shape) {\n    var clip = this.getOptions(cfg).clipCfg;\n\n    if (!clip.show) {\n      return;\n    } //  circlerectellipsePolygon  path clip\n\n\n    var type = clip.type,\n        x = clip.x,\n        y = clip.y,\n        style = clip.style;\n\n    if (type === 'circle') {\n      var r = clip.r;\n      shape.setClip({\n        type: 'circle',\n        attrs: __assign({\n          r: r,\n          x: x,\n          y: y\n        }, style)\n      });\n    } else if (type === 'rect') {\n      var width = clip.width,\n          height = clip.height;\n      var rectX = x - width / 2;\n      var rectY = y - height / 2;\n      shape.setClip({\n        type: 'rect',\n        attrs: __assign({\n          x: rectX,\n          y: rectY,\n          width: width,\n          height: height\n        }, style)\n      });\n    } else if (type === 'ellipse') {\n      var rx = clip.rx,\n          ry = clip.ry;\n      shape.setClip({\n        type: 'ellipse',\n        attrs: __assign({\n          x: x,\n          y: y,\n          rx: rx,\n          ry: ry\n        }, style)\n      });\n    } else if (type === 'polygon') {\n      var points = clip.points;\n      shape.setClip({\n        type: 'polygon',\n        attrs: __assign({\n          points: points\n        }, style)\n      });\n    } else if (type === 'path') {\n      var path = clip.path;\n      shape.setClip({\n        type: 'path',\n        attrs: __assign({\n          path: path\n        }, style)\n      });\n    }\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var size = this.getSize(cfg);\n    var img = this.getOptions(cfg).img;\n    var width = size[0];\n    var height = size[1];\n\n    if (defaultStyle) {\n      width = defaultStyle.width || size[0];\n      height = defaultStyle.height || size[1];\n    }\n\n    var style = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height,\n      img: img\n    }, defaultStyle);\n\n    return style;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shapeClassName = this.itemType + \"-shape\";\n    var shape = group.find(function (element) {\n      return element.get('className') === shapeClassName;\n    }) || item.getKeyShape();\n    var shapeStyle = this.getShapeStyle(cfg);\n\n    if (shape) {\n      shape.attr(shapeStyle);\n    }\n  }\n}, 'single-node');","export default {\n  triangle: function triangle(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 L \" + (begin + length) + \",-\" + width / 2 + \" L \" + (begin + length) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  vee: function vee(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 20;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 L \" + (begin + length) + \",-\" + width / 2 + \"\\n        L \" + (begin + 2 * length / 3) + \",0 L \" + (begin + length) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  circle: function circle(r, d) {\n    if (r === void 0) {\n      r = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \", 0\\n            a \" + r + \",\" + r + \" 0 1,0 \" + r * 2 + \",0\\n            a \" + r + \",\" + r + \" 0 1,0 \" + -r * 2 + \",0\";\n    return path;\n  },\n  rect: function rect(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 10;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",\" + width / 2 + \" \\n        L \" + begin + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  diamond: function diamond(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \" + begin + \",0 \\n        L \" + (begin + length / 2) + \",\" + -width / 2 + \" \\n        L \" + (begin + length) + \",0 \\n        L \" + (begin + length / 2) + \",\" + width / 2 + \" Z\";\n    return path;\n  },\n  triangleRect: function triangleRect(tWidth, tLength, rWidth, rLength, gap, d) {\n    if (tWidth === void 0) {\n      tWidth = 15;\n    }\n\n    if (tLength === void 0) {\n      tLength = 15;\n    }\n\n    if (rWidth === void 0) {\n      rWidth = 15;\n    }\n\n    if (rLength === void 0) {\n      rLength = 3;\n    }\n\n    if (gap === void 0) {\n      gap = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var rectBegin = begin + tLength + gap;\n    var path = \"M \" + begin + \",0 L \" + (begin + tLength) + \",-\" + tWidth / 2 + \" L \" + (begin + tLength) + \",\" + tWidth / 2 + \" Z\\n            M \" + rectBegin + \", -\" + rWidth / 2 + \"\\n            L \" + (rectBegin + rLength) + \" -\" + rWidth / 2 + \"\\n            L \" + (rectBegin + rLength) + \" \" + rWidth / 2 + \"\\n            L \" + rectBegin + \" \" + rWidth / 2 + \"\\n            Z\";\n    return path;\n  }\n};","export * from '../interface'; // Behavior type file\n\nexport var G6Event;\n\n(function (G6Event) {\n  // common events\n  G6Event[\"CLICK\"] = \"click\";\n  G6Event[\"DBLCLICK\"] = \"dblclick\";\n  G6Event[\"TAP\"] = \"tap\";\n  G6Event[\"DBLTAP\"] = \"dbltap\";\n  G6Event[\"DRAGSTART\"] = \"dragstart\";\n  G6Event[\"DRAGEND\"] = \"dragend\";\n  G6Event[\"DRAG\"] = \"drag\";\n  G6Event[\"DRAGENTER\"] = \"dragenter\";\n  G6Event[\"DRAGLEAVE\"] = \"dragleave\";\n  G6Event[\"DRAGOVER\"] = \"dragover\";\n  G6Event[\"DRAGOUT\"] = \"dragout\";\n  G6Event[\"DDROP\"] = \"drop\";\n  G6Event[\"PINCHSTART\"] = \"pinchstart\";\n  G6Event[\"PINCHMOVE\"] = \"pinchmove\";\n  G6Event[\"PANSTART\"] = \"panstart\";\n  G6Event[\"PANMOVE\"] = \"panmove\";\n  G6Event[\"PANEND\"] = \"panend\";\n  G6Event[\"PRESS\"] = \"press\";\n  G6Event[\"ACTION_END\"] = \"actionend\"; // touch events\n\n  G6Event[\"TOUCHSTART\"] = \"touchstart\";\n  G6Event[\"TOUCHMOVE\"] = \"touchmove\";\n  G6Event[\"TOUCHEND\"] = \"touchend\";\n  G6Event[\"CANVAS_TOUCHSTART\"] = \"canvas:touchstart\";\n  G6Event[\"CANVAS_TOUCHMOVE\"] = \"canvas:touchmove\";\n  G6Event[\"CANVAS_TOUCHEND\"] = \"canvas:touchend\";\n  G6Event[\"NODE_TOUCHSTART\"] = \"node:touchstart\";\n  G6Event[\"NODE_TOUCHMOVE\"] = \"node:touchmove\";\n  G6Event[\"NODE_TOUCHEND\"] = \"node:touchend\";\n  G6Event[\"COMBO_TOUCHSTART\"] = \"combo:touchstart\";\n  G6Event[\"COMBO_TOUCHMOVE\"] = \"combo:touchmove\";\n  G6Event[\"COMBO_TOUCHEND\"] = \"combo:touchend\";\n  G6Event[\"EDGE_TOUCHSTART\"] = \"edge:touchstart\";\n  G6Event[\"EDGE_TOUCHMOVE\"] = \"edge:touchmove\";\n  G6Event[\"EDGE_TOUCHEND\"] = \"edge:touchend\"; // node events\n\n  G6Event[\"NODE_CLICK\"] = \"node:click\";\n  G6Event[\"NODE_DBLCLICK\"] = \"node:dblclick\";\n  G6Event[\"NODE_DROP\"] = \"node:drop\";\n  G6Event[\"NODE_DRAGOVER\"] = \"node:dragover\";\n  G6Event[\"NODE_DRAGENTER\"] = \"node:dragenter\";\n  G6Event[\"NODE_DRAGLEAVE\"] = \"node:dragleave\";\n  G6Event[\"NODE_DRAGSTART\"] = \"node:dragstart\";\n  G6Event[\"NODE_DRAG\"] = \"node:drag\";\n  G6Event[\"NODE_DRAGEND\"] = \"node:dragend\";\n  G6Event[\"NODE_TAP\"] = \"node:tap\";\n  G6Event[\"NODE_DBLTAP\"] = \"node:dbltap\";\n  G6Event[\"NODE_PANSTART\"] = \"node:panstart\";\n  G6Event[\"NODE_PANMOVE\"] = \"node:panmove\";\n  G6Event[\"NODE_PANEND\"] = \"node:panend\";\n  G6Event[\"NODE_PRESS\"] = \"node:press\"; // combo, extends from nodes\n\n  G6Event[\"COMBO_CLICK\"] = \"combo:click\";\n  G6Event[\"COMBO_DBLCLICK\"] = \"combo:dblclick\";\n  G6Event[\"COMBO_DROP\"] = \"combo:drop\";\n  G6Event[\"COMBO_DRAGOVER\"] = \"combo:dragover\";\n  G6Event[\"COMBO_DRAGENTER\"] = \"combo:dragenter\";\n  G6Event[\"COMBO_DRAGLEAVE\"] = \"combo:dragleave\";\n  G6Event[\"COMBO_DRAGSTART\"] = \"combo:dragstart\";\n  G6Event[\"COMBO_DRAG\"] = \"combo:drag\";\n  G6Event[\"COMBO_DRAGEND\"] = \"combo:dragend\";\n  G6Event[\"COMBO_TAP\"] = \"combo:tap\";\n  G6Event[\"COMBO_DBLTAP\"] = \"combo:dbltap\";\n  G6Event[\"COMBO_PANSTART\"] = \"combo:panstart\";\n  G6Event[\"COMBO_PANMOVE\"] = \"combo:panmove\";\n  G6Event[\"COMBO_PANEND\"] = \"combo:panend\";\n  G6Event[\"COMBO_PRESS\"] = \"combo:press\"; // edge events\n\n  G6Event[\"EDGE_CLICK\"] = \"edge:click\";\n  G6Event[\"EDGE_DBLCLICK\"] = \"edge:dblclick\";\n  G6Event[\"EDGE_DROP\"] = \"edge:drop\";\n  G6Event[\"EDGE_DRAGOVER\"] = \"edge:dragover\";\n  G6Event[\"EDGE_DRAGENTER\"] = \"edge:dragenter\";\n  G6Event[\"EDGE_DRAGLEAVE\"] = \"edge:dragleave\";\n  G6Event[\"EDGE_TAP\"] = \"edge:tap\";\n  G6Event[\"EDGE_DBLTAP\"] = \"edge:dbltap\";\n  G6Event[\"EDGE_PRESS\"] = \"edge:press\"; // canvas events\n\n  G6Event[\"CANVAS_CLICK\"] = \"canvas:click\";\n  G6Event[\"CANVAS_DBLCLICK\"] = \"canvas:dblclick\";\n  G6Event[\"CANVAS_DROP\"] = \"canvas:drop\";\n  G6Event[\"CANVAS_DRAGENTER\"] = \"canvas:dragenter\";\n  G6Event[\"CANVAS_DRAGLEAVE\"] = \"canvas:dragleave\";\n  G6Event[\"CANVAS_DRAGSTART\"] = \"canvas:dragstart\";\n  G6Event[\"CANVAS_DRAG\"] = \"canvas:drag\";\n  G6Event[\"CANVAS_DRAGEND\"] = \"canvas:dragend\";\n  G6Event[\"CANVAS_TAP\"] = \"canvas:tap\";\n  G6Event[\"CANVAS_DBLTAP\"] = \"canvas:dbltap\";\n  G6Event[\"CANVAS_PANSTART\"] = \"canvas:panstart\";\n  G6Event[\"CANVAS_PANMOVE\"] = \"canvas:panmove\";\n  G6Event[\"CANVAS_PANEND\"] = \"canvas:panend\";\n  G6Event[\"CANVAS_PRESS\"] = \"canvas:press\"; // timing events\n\n  G6Event[\"BEFORERENDER\"] = \"beforerender\";\n  G6Event[\"AFTERRENDER\"] = \"afterrender\";\n  G6Event[\"BEFOREADDITEM\"] = \"beforeadditem\";\n  G6Event[\"AFTERADDITEM\"] = \"afteradditem\";\n  G6Event[\"BEFOREREMOVEITEM\"] = \"beforeremoveitem\";\n  G6Event[\"AFTERREMOVEITEM\"] = \"afterremoveitem\";\n  G6Event[\"BEFOREUPDATEITEM\"] = \"beforeupdateitem\";\n  G6Event[\"AFTERUPDATEITEM\"] = \"afterupdateitem\";\n  G6Event[\"BEFOREITEMVISIBILITYCHANGE\"] = \"beforeitemvisibilitychange\";\n  G6Event[\"AFTERITEMVISIBILITYCHANGE\"] = \"afteritemvisibilitychange\";\n  G6Event[\"BEFOREITEMSTATECHANGE\"] = \"beforeitemstatechange\";\n  G6Event[\"AFTERITEMSTATECHANGE\"] = \"afteritemstatechange\";\n  G6Event[\"BEFOREITEMREFRESH\"] = \"beforeitemrefresh\";\n  G6Event[\"AFTERITEMREFRESH\"] = \"afteritemrefresh\";\n  G6Event[\"BEFOREITEMSTATESCLEAR\"] = \"beforeitemstatesclear\";\n  G6Event[\"AFTERITEMSTATESCLEAR\"] = \"afteritemstatesclear\";\n  G6Event[\"BEFOREMODECHANGE\"] = \"beforemodechange\";\n  G6Event[\"AFTERMODECHANGE\"] = \"aftermodechange\";\n  G6Event[\"BEFORELAYOUT\"] = \"beforelayout\";\n  G6Event[\"AFTERLAYOUT\"] = \"afterlayout\";\n  G6Event[\"BEFORECREATEEDGE\"] = \"beforecreateedge\";\n  G6Event[\"AFTERCREATEEDGE\"] = \"aftercreateedge\";\n  G6Event[\"BEFOREGRAPHREFRESHPOSITION\"] = \"beforegraphrefreshposition\";\n  G6Event[\"AFTERGRAPHREFRESHPOSITION\"] = \"aftergraphrefreshposition\";\n  G6Event[\"BEFOREGRAPHREFRESH\"] = \"beforegraphrefresh\";\n  G6Event[\"AFTERGRAPHREFRESH\"] = \"aftergraphrefresh\";\n  G6Event[\"BEFOREANIMATE\"] = \"beforeanimate\";\n  G6Event[\"AFTERANIMATE\"] = \"afteranimate\";\n  G6Event[\"BEFOREPAINT\"] = \"beforepaint\";\n  G6Event[\"AFTERPAINT\"] = \"afterpaint\";\n  G6Event[\"BEFORECOLLAPSEEXPANDCOMBO\"] = \"beforecollapseexpandcombo\";\n  G6Event[\"AFTERCOLLAPSEEXPANDCOMBO\"] = \"aftercollapseexpandcombo\";\n  G6Event[\"GRAPHSTATECHANGE\"] = \"graphstatechange\";\n  G6Event[\"AFTERACTIVATERELATIONS\"] = \"afteractivaterelations\";\n  G6Event[\"NODESELECTCHANGE\"] = \"nodeselectchange\";\n  G6Event[\"TOOLTIPCHANGE\"] = \"tooltipchange\";\n  G6Event[\"WHEELZOOM\"] = \"wheelzoom\";\n  G6Event[\"VIEWPORTCHANGE\"] = \"viewportchange\";\n  G6Event[\"DRAGNODEEND\"] = \"dragnodeend\";\n  G6Event[\"STACKCHANGE\"] = \"stackchange\";\n})(G6Event || (G6Event = {}));","export default {\n  collapse: function collapse(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x + r - 4, y]];\n  },\n  expand: function expand(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x - r + 2 * r - 4, y], ['M', x - r + r, y - r + 4], ['L', x, y + r - 4]];\n  },\n  upTriangle: function upTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y + l2], ['L', x + l1, y + l2], ['L', x, y - r], ['Z']];\n  },\n  downTriangle: function downTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y - l2], ['L', x + l1, y - l2], ['L', x, y + r], ['Z']];\n  }\n};","import Shape from './shape';\nimport './node';\nimport './edge';\nimport './combo';\nimport './combos';\nimport './nodes';\nexport { default as Arrow } from './arrow';\nexport { default as Marker } from './marker';\nexport default Shape;","export var defaultSubjectColors = ['#5F95FF', '#61DDAA', '#65789B', '#F6BD16', '#7262FD', '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4'];","import { __assign } from \"tslib\";\nimport * as MathUtil from './math';\nimport * as GraphicUtil from './graphic';\nimport * as PathUtil from './path';\nimport * as BaseUtil from './base';\nimport * as ColorUtil from './color';\nimport { ext, mat3 } from '@antv/matrix-util';\nvar transform = ext.transform;\n\nvar Util = __assign(__assign(__assign(__assign(__assign(__assign({}, BaseUtil), GraphicUtil), PathUtil), MathUtil), ColorUtil), {\n  transform: transform,\n  mat3: mat3\n});\n\nexport default Util;","import { __assign, __rest } from \"tslib\";\nimport { isFunction, groupBy } from '@antv/util';\nimport { isNaN, calculationItemsBBox } from '../../util/base';\n\nvar LayoutController =\n/** @class */\nfunction () {\n  function LayoutController(graph) {\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n    this.layoutMethods = [];\n    this.initLayout();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.initLayout = function () {// no data before rendering\n  };\n\n  LayoutController.prototype.getLayoutType = function () {\n    return this.getLayoutCfgType(this.layoutCfg);\n  };\n\n  LayoutController.prototype.getLayoutCfgType = function (layoutCfg) {\n    var type = layoutCfg.type; // type should be top priority\n\n    if (type) {\n      return type;\n    }\n\n    var pipes = layoutCfg.pipes;\n\n    if (Array.isArray(pipes)) {\n      return pipes.map(function (pipe) {\n        return (pipe === null || pipe === void 0 ? void 0 : pipe.type) || '';\n      });\n    }\n\n    return null;\n  };\n\n  LayoutController.prototype.isLayoutTypeSame = function (cfg) {\n    var current = this.getLayoutCfgType(cfg); // already has pipes\n\n    if (Array.isArray(this.layoutType)) {\n      return this.layoutType.every(function (type, index) {\n        return type === current[index];\n      });\n    }\n\n    return (cfg === null || cfg === void 0 ? void 0 : cfg.type) === this.layoutType;\n  }; // \n\n\n  LayoutController.prototype.refreshLayout = function () {\n    var graph = this.graph;\n    if (!graph) return;\n\n    if (graph.get('animate')) {\n      graph.positionsAnimate();\n    } else {\n      graph.refreshPositions();\n    }\n  }; // \n\n\n  LayoutController.prototype.changeLayout = function (cfg) {\n    this.layoutCfg = cfg;\n    this.destoryLayoutMethods();\n    this.layout();\n  }; // \n\n\n  LayoutController.prototype.changeData = function () {\n    this.destoryLayoutMethods();\n    this.layout();\n  };\n\n  LayoutController.prototype.destoryLayoutMethods = function () {\n    var layoutMethods = this.layoutMethods;\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod) {\n      layoutMethod.destroy();\n    });\n    this.layoutMethods = [];\n  }; //  this.destroy controller \n\n\n  LayoutController.prototype.destroyLayout = function () {\n    var graph = this.graph;\n    this.destoryLayoutMethods();\n    graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n  }; //  this.graph \n\n\n  LayoutController.prototype.setDataFromGraph = function () {\n    var nodes = [];\n    var hiddenNodes = [];\n    var edges = [];\n    var hiddenEdges = [];\n    var comboEdges = [];\n    var combos = [];\n    var hiddenCombos = [];\n    var nodeItems = this.graph.getNodes();\n    var edgeItems = this.graph.getEdges();\n    var comboItems = this.graph.getCombos();\n    var nodeLength = nodeItems.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var nodeItem = nodeItems[i];\n      if (!nodeItem || nodeItem.destroyed) continue;\n      var model = nodeItem.getModel();\n\n      if (!nodeItem.isVisible()) {\n        hiddenNodes.push(model);\n        continue;\n      }\n\n      nodes.push(model);\n    }\n\n    var edgeLength = edgeItems.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edgeItem = edgeItems[i];\n      if (!edgeItem || edgeItem.destroyed) continue;\n      var model = edgeItem.getModel();\n\n      if (!edgeItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      if (!model.isComboEdge) edges.push(model);else comboEdges.push(model);\n    }\n\n    var comboLength = comboItems.length;\n\n    for (var i = 0; i < comboLength; i++) {\n      var comboItem = comboItems[i];\n      if (comboItem.destroyed) continue;\n      var model = comboItem.getModel();\n\n      if (!comboItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      combos.push(model);\n    }\n\n    return {\n      nodes: nodes,\n      hiddenNodes: hiddenNodes,\n      edges: edges,\n      hiddenEdges: hiddenEdges,\n      combos: combos,\n      hiddenCombos: hiddenCombos,\n      comboEdges: comboEdges\n    };\n  };\n\n  LayoutController.prototype.reLayoutMethod = function (layoutMethod, layoutCfg) {\n    var _this = this;\n\n    return new Promise(function (reslove, reject) {\n      var graph = _this.graph;\n      var layoutType = layoutCfg === null || layoutCfg === void 0 ? void 0 : layoutCfg.type; // \n\n      layoutCfg.onLayoutEnd = function () {\n        graph.emit('aftersublayout', {\n          type: layoutType\n        });\n        reslove();\n      };\n\n      layoutMethod.init(_this.data);\n\n      if (layoutType === 'force') {\n        layoutMethod.ticking = false;\n        layoutMethod.forceSimulation.stop();\n      }\n\n      graph.emit('beforesublayout', {\n        type: layoutType\n      });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }; // \n\n\n  LayoutController.prototype.relayout = function (reloadData) {\n    var _this = this;\n\n    var _a = this,\n        graph = _a.graph,\n        layoutMethods = _a.layoutMethods,\n        layoutCfg = _a.layoutCfg;\n\n    if (reloadData) {\n      this.data = this.setDataFromGraph();\n      var nodes = this.data.nodes;\n\n      if (!nodes) {\n        return false;\n      }\n\n      this.initPositions(layoutCfg.center, nodes);\n    }\n\n    graph.emit('beforelayout');\n    var start = Promise.resolve();\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod, index) {\n      var currentCfg = layoutCfg[index];\n      start = start.then(function () {\n        return _this.reLayoutMethod(layoutMethod, currentCfg);\n      });\n    });\n    start.then(function () {\n      if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n    }).catch(function (error) {\n      console.warn('relayout failed', error);\n    });\n  }; // nodesedges\n\n\n  LayoutController.prototype.filterLayoutData = function (data, cfg) {\n    var nodes = data.nodes,\n        edges = data.edges,\n        rest = __rest(data, [\"nodes\", \"edges\"]);\n\n    if (!nodes) {\n      return data;\n    }\n\n    var nodesFilter;\n    var edegsFilter;\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.nodesFilter)) {\n      nodesFilter = cfg.nodesFilter;\n    } else {\n      nodesFilter = function nodesFilter() {\n        return true;\n      };\n    }\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.edgesFilter)) {\n      edegsFilter = cfg.edgesFilter;\n    } else {\n      var nodesMap_1 = nodes.reduce(function (acc, cur) {\n        acc[cur.id] = true;\n        return acc;\n      }, {});\n\n      edegsFilter = function edegsFilter(edge) {\n        return nodesMap_1[edge.source] && nodesMap_1[edge.target];\n      };\n    }\n\n    return __assign({\n      nodes: nodes.filter(nodesFilter),\n      edges: edges.filter(edegsFilter)\n    }, rest);\n  };\n\n  LayoutController.prototype.getLayoutBBox = function (nodes) {\n    var graph = this.graph;\n    var graphGroupNodes = groupBy(graph.getNodes(), function (n) {\n      return n.getModel().layoutOrder;\n    });\n    var layoutNodes = Object.values(graphGroupNodes).map(function (value) {\n      var bbox = calculationItemsBBox(value);\n      bbox.size = [bbox.width, bbox.height];\n      return bbox;\n    });\n    var groupNodes = Object.values(groupBy(nodes, 'layoutOrder'));\n    return {\n      groupNodes: groupNodes,\n      layoutNodes: layoutNodes\n    };\n  }; // \n  // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.layoutAnimate = function () {}; // \n\n\n  LayoutController.prototype.moveToZero = function () {\n    var graph = this.graph;\n    var data = graph.get('data');\n    var nodes = data.nodes;\n\n    if (nodes[0].x === undefined || nodes[0].x === null || isNaN(nodes[0].x)) {\n      return;\n    }\n\n    var meanCenter = [0, 0];\n    var nodeLength = nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      meanCenter[0] += node.x;\n      meanCenter[1] += node.y;\n    }\n\n    meanCenter[0] /= nodes.length;\n    meanCenter[1] /= nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      node.x -= meanCenter[0];\n      node.y -= meanCenter[1];\n    }\n  }; //  center \n\n\n  LayoutController.prototype.initPositions = function (center, nodes) {\n    var graph = this.graph;\n\n    if (!nodes) {\n      return false;\n    }\n\n    var nodeLength = nodes ? nodes.length : 0;\n    if (!nodeLength) return;\n    var width = graph.get('width') * 0.85;\n    var height = graph.get('height') * 0.85;\n    var horiNum = Math.ceil(Math.sqrt(nodeLength) * (width / height));\n    var vertiNum = Math.ceil(nodeLength / horiNum);\n    var horiGap = width / (horiNum - 1);\n    var vertiGap = height / (vertiNum - 1);\n    if (!isFinite(horiGap) || !horiGap) horiGap = 0;\n    if (!isFinite(vertiGap) || !horiGap) vertiGap = 0;\n    var beginX = center[0] - width / 2;\n    var beginY = center[1] - height / 2;\n    var allHavePos = true;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n\n      if (isNaN(node.x)) {\n        allHavePos = false;\n        node.x = i % horiNum * horiGap + beginX;\n      }\n\n      if (isNaN(node.y)) {\n        allHavePos = false;\n        node.y = Math.floor(i / horiNum) * vertiGap + beginY;\n      }\n    }\n\n    return allHavePos;\n  };\n\n  LayoutController.prototype.destroy = function () {\n    this.graph = null;\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n  };\n\n  LayoutController.prototype.onTick = function (timestamp) {\n    var _a;\n\n    (_a = this.layoutMethods) === null || _a === void 0 ? void 0 : _a.forEach(function (layoutMethod) {\n      layoutMethod === null || layoutMethod === void 0 ? void 0 : layoutMethod.onTick(timestamp);\n    });\n  };\n\n  return LayoutController;\n}();\n\nexport default LayoutController;","var EventController =\n/** @class */\nfunction () {\n  function EventController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.initEvents();\n  }\n\n  return EventController;\n}();\n\nexport default EventController;","import Behavior from './behavior';\nimport AbstractGraph from './graph/graph';\nimport Shape, { Arrow, Marker } from './element';\nimport Global from './global';\nimport Util from './util'; //  PC  Mobile  layout  updateLayoutCfg \n\nimport AbstractLayout from './graph/controller/layout';\nimport AbstractEvent from './graph/controller/event';\nimport Node from './item/node';\nimport Edge from './item/edge';\nimport Hull from './item/hull';\nimport Combo from './item/combo';\nvar registerNode = Shape.registerNode;\nvar registerEdge = Shape.registerEdge;\nvar registerCombo = Shape.registerCombo;\nvar registerBehavior = Behavior.registerBehavior;\nvar BaseGlobal = Global;\nexport * from './types';\nexport { Arrow, Shape, Node, Edge, Combo, Hull, Marker, registerNode, registerCombo, AbstractGraph, Util, registerEdge, registerBehavior, AbstractLayout, AbstractEvent, BaseGlobal };\nexport default {\n  version: Global.version,\n  AbstractGraph: AbstractGraph,\n  BaseGlobal: BaseGlobal,\n  Util: Util,\n  Shape: Shape,\n  Node: Node,\n  Edge: Edge,\n  Combo: Combo,\n  Hull: Hull,\n  registerNode: Shape.registerNode,\n  registerEdge: Shape.registerEdge,\n  registerCombo: Shape.registerCombo,\n  registerBehavior: Behavior.registerBehavior,\n  Arrow: Arrow,\n  Marker: Marker,\n  AbstractLayout: AbstractLayout,\n  AbstractEvent: AbstractEvent\n};","import isArrayLike from './is-array-like';\nvar contains = function (arr, value) {\n    if (!isArrayLike(arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexport default contains;\n//# sourceMappingURL=contains.js.map","import isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        if (func(value, index)) {\n            result.push(value);\n        }\n    }\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter(arr, function (value) { return !contains(values, value); });\n};\nexport default difference;\n//# sourceMappingURL=difference.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","import isNil from './is-nil';\nimport isArray from './is-array';\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            if (isArray(value)) {\n                rst = value[0]; // todo  firstValue @\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexport default firstValue;\n//# sourceMappingURL=first-value.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray(arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexport default flatten;\n//# sourceMappingURL=flatten.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray(arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexport default flattenDeep;\n//# sourceMappingURL=flatten-deep.js.map","import isArray from './is-array';\nimport { default as getMax } from './max';\nimport { default as getMin } from './min';\nvar getRange = function (values) {\n    //  NaN min,max \n    var filterValues = values.filter(function (v) { return !isNaN(v); });\n    if (!filterValues.length) {\n        // 0\n        return {\n            min: 0,\n            max: 0,\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        filterValues = tmp;\n    }\n    var max = getMax(filterValues);\n    var min = getMin(filterValues);\n    return {\n        min: min,\n        max: max,\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike(arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt(arr, indexes);\n    return result;\n};\nexport default remove;\n//# sourceMappingURL=remove.js.map","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction(key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString(key)) {\n            keys_1.push(key);\n        }\n        else if (isArray(key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexport default sortBy;\n//# sourceMappingURL=sort-by.js.map","export default function uniq(arr, cache) {\n    if (cache === void 0) { cache = new Map(); }\n    var r = [];\n    if (Array.isArray(arr)) {\n        for (var i = 0, len = arr.length; i < len; i++) {\n            var item = arr[i];\n            //  cache\n            if (!cache.has(item)) {\n                r.push(item);\n                cache.set(item, true);\n            }\n        }\n    }\n    return r;\n}\n//# sourceMappingURL=uniq.js.map","import uniq from './uniq';\nvar union = function () {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return uniq([].concat.apply([], sources));\n};\nexport default union;\n//# sourceMappingURL=union.js.map","import isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            // flatten\n            if (!isArray(value)) {\n                value = [value];\n            }\n            for (var j = 0; j < value.length; j++) {\n                var val = value[j];\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            }\n        }\n    }\n    return rst;\n});\n//# sourceMappingURL=values-of-key.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction startsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[0] === e : false;\n}\nexport default startsWith;\n//# sourceMappingURL=starts-with.js.map","/**\n *  false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            return false;\n    }\n    return true;\n};\nexport default every;\n//# sourceMappingURL=every.js.map","/**\n *  true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            return true;\n    }\n    return false;\n};\nexport default some;\n//# sourceMappingURL=some.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\n/**\n *  map\n * @param data\n * @param condition\n */\nexport default function groupToMap(data, condition) {\n    if (!condition) {\n        return {\n            0: data,\n        };\n    }\n    if (!isFunction(condition)) {\n        //  a*b \n        var paramscondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // Key\n            //  key\n            for (var i = 0, l = paramscondition_1.length; i < l; i++) {\n                unique += row[paramscondition_1[i]] && row[paramscondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    return groupBy(data, condition);\n}\n//# sourceMappingURL=group-to-map.js.map","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n    if (!condition) {\n        // \n        return [data];\n    }\n    var groups = groupToMap(data, condition);\n    var array = [];\n    for (var i in groups) {\n        array.push(groups[i]);\n    }\n    return array;\n});\n//# sourceMappingURL=group.js.map","/**\n * \n * @protected\n * @param  {Object} obj   \n * @param  {String} action \n * @return {Function}        \n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexport default getWrapBehavior;\n//# sourceMappingURL=get-wrap-behavior.js.map","var numColorCache = {};\nfunction numberToColor(num) {\n    // \n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexport default numberToColor;\n//# sourceMappingURL=number2color.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","import isNumber from './is-number';\nvar isDecimal = function (num) {\n    return isNumber(num) && num % 1 !== 0;\n};\nexport default isDecimal;\n//# sourceMappingURL=is-decimal.js.map","import isNumber from './is-number';\nvar isEven = function (num) {\n    return isNumber(num) && num % 2 === 0;\n};\nexport default isEven;\n//# sourceMappingURL=is-even.js.map","import isNumber from './is-number';\nvar isNegative = function (num) {\n    return isNumber(num) && num < 0;\n};\nexport default isNegative;\n//# sourceMappingURL=is-negative.js.map","import isNumber from './is-number';\nvar isPositive = function (num) {\n    return isNumber(num) && num > 0;\n};\nexport default isPositive;\n//# sourceMappingURL=is-positive.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction(fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n//# sourceMappingURL=max-by.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction(fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n//# sourceMappingURL=min-by.js.map","import each from './each';\nexport default each;\n//# sourceMappingURL=for-in.js.map","export default (function (obj, key) { return obj.hasOwnProperty(key); });\n//# sourceMappingURL=has.js.map","import has from './has';\nexport default has;\n//# sourceMappingURL=has-key.js.map","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) { return contains(values(obj), value); });\n//# sourceMappingURL=has-value.js.map","import toString from './to-string';\nvar lowerCase = function (str) {\n    return toString(str).toLowerCase();\n};\nexport default lowerCase;\n//# sourceMappingURL=lower-case.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","import toString from './to-string';\nvar upperCase = function (str) {\n    return toString(str).toUpperCase();\n};\nexport default upperCase;\n//# sourceMappingURL=upper-case.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isArguments = function (value) {\n    return isType(value, 'Arguments');\n};\nexport default isArguments;\n//# sourceMappingURL=is-arguments.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isError = function (value) {\n    return isType(value, 'Error');\n};\nexport default isError;\n//# sourceMappingURL=is-error.js.map","/**\n * \n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n    return isNumber(value) && isFinite(value);\n}\n//# sourceMappingURL=is-finite.js.map","var isNull = function (value) {\n    return value === null;\n};\nexport default isNull;\n//# sourceMappingURL=is-null.js.map","import isType from './is-type';\nvar isRegExp = function (str) {\n    return isType(str, 'RegExp');\n};\nexport default isRegExp;\n//# sourceMappingURL=is-reg-exp.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","/**\n * HTML\n * @return {Boolean} HTML\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexport default isElement;\n//# sourceMappingURL=is-element.js.map","export default function requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\n;\n//# sourceMappingURL=request-animation-frame.js.map","export default function cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\n;\n//# sourceMappingURL=clear-animation-frame.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar augment = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction(obj)) {\n            obj = obj.prototype;\n        }\n        mix(c.prototype, obj);\n    }\n};\nexport default augment;\n//# sourceMappingURL=augment.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (function (f, resolver) {\n    if (!isFunction(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        //  key resolver key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // \n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // \n    if (!isFunction(superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//prototype\n    subclass.prototype = mix(superObj, subclass.prototype); // prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix(superObj, overrides);\n    mix(subclass, staticOverrides);\n    return subclass;\n};\nexport default extend;\n//# sourceMappingURL=extend.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexport default (function (value, other, fn) {\n    if (!isFunction(fn)) {\n        return isEqual(value, other);\n    }\n    return !!fn(value, other);\n});\n//# sourceMappingURL=is-equal-with.js.map","import isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n    }\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexport default (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString(path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // \n        if (idx < keyArr.length - 1) {\n            if (!isObject(o[key])) {\n                o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n//# sourceMappingURL=set.js.map","import reduce from './reduce';\nexport default (function (obj, keys) {\n    return reduce(obj, function (r, curr, key) {\n        if (!keys.includes(key)) {\n            r[key] = curr;\n        }\n        return r;\n    }, {});\n});\n//# sourceMappingURL=omit.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import isArrayLike from './is-array-like';\nexport default (function (value) {\n    return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});\n//# sourceMappingURL=to-array.js.map","export default (function (v) { return v; });\n//# sourceMappingURL=identity.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * @description  gl-matrix \n * */\nimport { mat3, vec2 } from 'gl-matrix';\nexport function leftTranslate(out, a, v) {\n    var transMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n}\nexport function leftRotate(out, a, rad) {\n    var rotateMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n}\nexport function leftScale(out, a, v) {\n    var scaleMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n}\nfunction leftMultiply(out, a, a1) {\n    return mat3.multiply(out, a1, a);\n}\n/**\n *  actions  transform\n * @param m\n * @param actions\n */\nexport function transform(m, actions) {\n    var matrix = m ? [].concat(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                leftTranslate(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 's':\n                leftScale(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 'r':\n                leftRotate(matrix, matrix, action[1]);\n                break;\n            case 'm':\n                leftMultiply(matrix, matrix, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return matrix;\n}\n/**\n *  v1   v2 \n * @param  {Array} v1 \n * @param  {Array} v2 \n * @return {Boolean} >= 0  < 0 \n */\nexport function direction(v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n}\n/**\n *  v1  v2 \n * @param v1\n * @param v2\n * @param direct\n */\nexport function angleTo(v1, v2, direct) {\n    var ang = vec2.angle(v1, v2);\n    var angleLargeThanPI = direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - ang;\n        }\n        return ang;\n    }\n    if (angleLargeThanPI) {\n        return ang;\n    }\n    return Math.PI * 2 - ang;\n}\n/**\n * \n * @param out\n * @param v\n * @param flag\n */\nexport function vertical(out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n}\n//# sourceMappingURL=ext.js.map","export function removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport { isNil, isFunction, isString, isObject, isArray, mix, each, upperFirst } from '@antv/util';\n// \nexport function isParent(container, shape) {\n    //  shape  canvas \n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexport function isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\n//# sourceMappingURL=util.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PROPS_CLIENT_XY = exports.PROPS_XY = exports.DIRECTION_ALL = exports.DIRECTION_VERTICAL = exports.DIRECTION_HORIZONTAL = exports.DIRECTION_DOWN = exports.DIRECTION_UP = exports.DIRECTION_RIGHT = exports.DIRECTION_LEFT = exports.DIRECTION_NONE = exports.INPUT_CANCEL = exports.INPUT_END = exports.INPUT_MOVE = exports.INPUT_START = exports.COMPUTE_INTERVAL = exports.INPUT_TYPE_TOUCH = exports.INPUT_TYPE_PEN = exports.INPUT_TYPE_MOUSE = exports.INPUT_TYPE_KINECT = void 0;\nconst INPUT_TYPE_TOUCH = 'touch';\nexports.INPUT_TYPE_TOUCH = INPUT_TYPE_TOUCH;\nconst INPUT_TYPE_PEN = 'pen';\nexports.INPUT_TYPE_PEN = INPUT_TYPE_PEN;\nconst INPUT_TYPE_MOUSE = 'mouse';\nexports.INPUT_TYPE_MOUSE = INPUT_TYPE_MOUSE;\nconst INPUT_TYPE_KINECT = 'kinect';\nexports.INPUT_TYPE_KINECT = INPUT_TYPE_KINECT;\nconst COMPUTE_INTERVAL = 25;\nexports.COMPUTE_INTERVAL = COMPUTE_INTERVAL;\nconst INPUT_START = 1;\nexports.INPUT_START = INPUT_START;\nconst INPUT_MOVE = 2;\nexports.INPUT_MOVE = INPUT_MOVE;\nconst INPUT_END = 4;\nexports.INPUT_END = INPUT_END;\nconst INPUT_CANCEL = 8;\nexports.INPUT_CANCEL = INPUT_CANCEL;\nconst DIRECTION_NONE = 1;\nexports.DIRECTION_NONE = DIRECTION_NONE;\nconst DIRECTION_LEFT = 2;\nexports.DIRECTION_LEFT = DIRECTION_LEFT;\nconst DIRECTION_RIGHT = 4;\nexports.DIRECTION_RIGHT = DIRECTION_RIGHT;\nconst DIRECTION_UP = 8;\nexports.DIRECTION_UP = DIRECTION_UP;\nconst DIRECTION_DOWN = 16;\nexports.DIRECTION_DOWN = DIRECTION_DOWN;\nconst DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nexports.DIRECTION_HORIZONTAL = DIRECTION_HORIZONTAL;\nconst DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nexports.DIRECTION_VERTICAL = DIRECTION_VERTICAL;\nconst DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\nexports.DIRECTION_ALL = DIRECTION_ALL;\nconst PROPS_XY = ['x', 'y'];\nexports.PROPS_XY = PROPS_XY;\nconst PROPS_CLIENT_XY = ['clientX', 'clientY'];\nexports.PROPS_CLIENT_XY = PROPS_CLIENT_XY;","import { getColorsWithSubjectColor } from './util/color';\n\nconst subjectColor = 'rgb(95, 149, 255)';\nconst backColor = 'rgb(255, 255, 255)';\nconst textColor = 'rgb(0, 0, 0)';\n\nconst colorSet = getColorsWithSubjectColor(subjectColor, backColor);\n\nexport default {\n  version: '0.0.11',\n  rootContainerClassName: 'root-container',\n  uiContainerClassName: 'ui-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle',\n    },\n    offset: 4, // \n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: colorSet.mainFill,\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n    },\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10,\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1,\n    },\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2,\n    },\n    color: colorSet.edgeMainStroke,\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1,\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1,\n    },\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n    refY: 10, // Combo \n    refX: 10, // Combo \n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10,\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20],\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill,\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1,\n    },\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5],\n  },\n  // \n  textWaterMarkerConfig: {\n    width: 150,\n    height: 100,\n    compatible: false,\n    text: {\n      x: 0,\n      y: 60,\n      lineHeight: 20,\n      rotate: 20,\n      fontSize: 14,\n      fontFamily: 'Microsoft YaHei',\n      fill: 'rgba(0, 0, 0, 0.1)',\n      baseline: 'Middle',\n    },\n  },\n  imageWaterMarkerConfig: {\n    width: 150,\n    height: 130,\n    compatible: false,\n    image: {\n      x: 0,\n      y: 0,\n      width: 30,\n      height: 20,\n      rotate: 0,\n    },\n  },\n  waterMarkerImage:\n    'https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg',\n};\n","/**\n * @fileoverview  gl-matrix,  g-mobile  g-webgl  matrix \n *  2D  gl-matrix\n * @author dxq613@gmail.com\n */\n/**\n * 3\n * @param {number[]} a 1\n * @param {number[]} b 2\n */\nexport function multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n/**\n * 32\n * @param {number[]} m \n * @param {number[]} v \n */\nexport function multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n/**\n * \n * @param {number[]} a \n */\nexport function invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n//# sourceMappingURL=matrix.js.map","var canvas = {};\nexport function setExtraFunction(canvas) {\n    if (canvas === void 0) { canvas = {}; }\n    canvas = canvas;\n}\nfunction requestAnimationFrame(fn) {\n    if (canvas === null || canvas === void 0 ? void 0 : canvas.requestAnimationFrame) {\n        return canvas.requestAnimationFrame(fn);\n    }\n    var method = typeof window === 'object' && window.requestAnimationFrame\n        ? window.requestAnimationFrame\n        : function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\nfunction clearAnimationFrame(handler) {\n    if (canvas === null || canvas === void 0 ? void 0 : canvas.clearAnimationFrame) {\n        return canvas.clearAnimationFrame(handler);\n    }\n    var method = typeof window === 'object' && window.cancelAnimationFrame ? window.cancelAnimationFrame : clearTimeout;\n    return method(handler);\n}\nexport { requestAnimationFrame, clearAnimationFrame };\n//# sourceMappingURL=time.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STATE_FAILED = exports.STATE_CANCELLED = exports.STATE_RECOGNIZED = exports.STATE_ENDED = exports.STATE_CHANGED = exports.STATE_BEGAN = exports.STATE_POSSIBLE = void 0;\nconst STATE_POSSIBLE = 1;\nexports.STATE_POSSIBLE = STATE_POSSIBLE;\nconst STATE_BEGAN = 2;\nexports.STATE_BEGAN = STATE_BEGAN;\nconst STATE_CHANGED = 4;\nexports.STATE_CHANGED = STATE_CHANGED;\nconst STATE_ENDED = 8;\nexports.STATE_ENDED = STATE_ENDED;\nconst STATE_RECOGNIZED = STATE_ENDED;\nexports.STATE_RECOGNIZED = STATE_RECOGNIZED;\nconst STATE_CANCELLED = 16;\nexports.STATE_CANCELLED = STATE_CANCELLED;\nconst STATE_FAILED = 32;\nexports.STATE_FAILED = STATE_FAILED;","import { Layout, Layouts } from '@antv/layout/lib/layout/layout';\nimport { registerLayout, unRegisterLayout } from '@antv/layout/lib/registy';\nimport { RandomLayout } from '@antv/layout/lib/layout/random';\n\n//  random \nregisterLayout('random', RandomLayout);\n\nexport { Layout, Layouts, registerLayout, unRegisterLayout };\n","import { each, isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp(\"([a-z])[\" + SPACES + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + SPACES + \"]*,?[\" + SPACES + \"]*)+)\", 'ig');\nvar PATH_VALUES = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + SPACES + \"]*,?[\" + SPACES + \"]*\", 'ig');\n// Parse given path string into an array of arrays of path segments\nvar parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return pathString;\n    });\n    return data;\n};\n// http://schepers.cc/getting-to-the-point\nvar catmullRomToBezier = function (crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1],\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            },\n        ];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push([\n            'C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n};\nvar ellipsePath = function (x, y, rx, ry, a) {\n    var res = [];\n    if (a === null && ry === null) {\n        ry = rx;\n    }\n    x = +x;\n    y = +y;\n    rx = +rx;\n    ry = +ry;\n    if (a !== null) {\n        var rad = Math.PI / 180;\n        var x1 = x + rx * Math.cos(-ry * rad);\n        var x2 = x + rx * Math.cos(-a * rad);\n        var y1 = y + rx * Math.sin(-ry * rad);\n        var y2 = y + rx * Math.sin(-a * rad);\n        res = [\n            ['M', x1, y1],\n            ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2],\n        ];\n    }\n    else {\n        res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    }\n    return res;\n};\nvar pathToAbsolute = function (pathArray) {\n    pathArray = parsePathString(pathArray);\n    if (!pathArray || !pathArray.length) {\n        return [['M', 0, 0]];\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    if (pathArray[0][0] === 'M') {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    var crz = pathArray.length === 3 &&\n        pathArray[0][0] === 'M' &&\n        pathArray[1][0].toUpperCase() === 'R' &&\n        pathArray[2][0].toUpperCase() === 'Z';\n    for (var r = void 0, pa = void 0, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push((r = []));\n        pa = pathArray[i];\n        pa0 = pa[0];\n        if (pa0 !== pa0.toUpperCase()) {\n            r[0] = pa0.toUpperCase();\n            switch (r[0]) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'R':\n                    dots = [x, y].concat(pa.slice(1));\n                    for (var j = 2, jj = dots.length; j < jj; j++) {\n                        dots[j] = +dots[j] + x;\n                        dots[++j] = +dots[j] + y;\n                    }\n                    res.pop();\n                    res = res.concat(catmullRomToBezier(dots, crz));\n                    break;\n                case 'O':\n                    res.pop();\n                    dots = ellipsePath(x, y, pa[1], pa[2]);\n                    dots.push(dots[0]);\n                    res = res.concat(dots);\n                    break;\n                case 'U':\n                    res.pop();\n                    res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                    r = ['U'].concat(res[res.length - 1].slice(-2));\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + (j % 2 ? x : y);\n                    }\n            }\n        }\n        else if (pa0 === 'R') {\n            dots = [x, y].concat(pa.slice(1));\n            res.pop();\n            res = res.concat(catmullRomToBezier(dots, crz));\n            r = ['R'].concat(pa.slice(-2));\n        }\n        else if (pa0 === 'O') {\n            res.pop();\n            dots = ellipsePath(x, y, pa[1], pa[2]);\n            dots.push(dots[0]);\n            res = res.concat(dots);\n        }\n        else if (pa0 === 'U') {\n            res.pop();\n            res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n            r = ['U'].concat(res[res.length - 1].slice(-2));\n        }\n        else {\n            for (var k = 0, kk = pa.length; k < kk; k++) {\n                r[k] = pa[k];\n            }\n        }\n        pa0 = pa0.toUpperCase();\n        if (pa0 !== 'O') {\n            switch (r[0]) {\n                case 'Z':\n                    x = +mx;\n                    y = +my;\n                    break;\n                case 'H':\n                    x = r[1];\n                    break;\n                case 'V':\n                    y = r[1];\n                    break;\n                case 'M':\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                    break; // for lint\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n    }\n    return res;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // \n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // @ts-ignore\n        f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n        // @ts-ignore\n        f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar pathToCurve = function (path, path2) {\n    var p = pathToAbsolute(path);\n    var p2 = path2 && pathToAbsolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx;\n        var ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n};\nvar p2s = /,?([a-z]),?/gi;\nvar parsePathArray = function (path) {\n    return path.join(',').replace(p2s, '$1');\n};\nvar base3 = function (t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n    var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z === null) {\n        z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2;\n    var n = 12;\n    var Tvalues = [\n        -0.1252,\n        0.1252,\n        -0.3678,\n        0.3678,\n        -0.5873,\n        0.5873,\n        -0.7699,\n        0.7699,\n        -0.9041,\n        0.9041,\n        -0.9816,\n        0.9816,\n    ];\n    var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n    var sum = 0;\n    for (var i = 0; i < n; i++) {\n        var ct = z2 * Tvalues[i] + z2;\n        var xbase = base3(ct, x1, x2, x3, x4);\n        var ybase = base3(ct, y1, y2, y3, y4);\n        var comb = xbase * xbase + ybase * ybase;\n        sum += Cvalues[i] * Math.sqrt(comb);\n    }\n    return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    var tvalues = [];\n    var bounds = [[], []];\n    var a;\n    var b;\n    var c;\n    var t;\n    for (var i = 0; i < 2; ++i) {\n        if (i === 0) {\n            b = 6 * x0 - 12 * x1 + 6 * x2;\n            a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n            c = 3 * x1 - 3 * x0;\n        }\n        else {\n            b = 6 * y0 - 12 * y1 + 6 * y2;\n            a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n            c = 3 * y1 - 3 * y0;\n        }\n        if (Math.abs(a) < 1e-12) {\n            if (Math.abs(b) < 1e-12) {\n                continue;\n            }\n            t = -c / b;\n            if (t > 0 && t < 1) {\n                tvalues.push(t);\n            }\n            continue;\n        }\n        var b2ac = b * b - 4 * c * a;\n        var sqrtb2ac = Math.sqrt(b2ac);\n        if (b2ac < 0) {\n            continue;\n        }\n        var t1 = (-b + sqrtb2ac) / (2 * a);\n        if (t1 > 0 && t1 < 1) {\n            tvalues.push(t1);\n        }\n        var t2 = (-b - sqrtb2ac) / (2 * a);\n        if (t2 > 0 && t2 < 1) {\n            tvalues.push(t2);\n        }\n    }\n    var j = tvalues.length;\n    var jlen = j;\n    var mt;\n    while (j--) {\n        t = tvalues[j];\n        mt = 1 - t;\n        bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n        bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return {\n        min: {\n            x: Math.min.apply(0, bounds[0]),\n            y: Math.min.apply(0, bounds[1]),\n        },\n        max: {\n            x: Math.max.apply(0, bounds[0]),\n            y: Math.max.apply(0, bounds[1]),\n        },\n    };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (Math.max(x1, x2) < Math.min(x3, x4) ||\n        Math.min(x1, x2) > Math.max(x3, x4) ||\n        Math.max(y1, y2) < Math.min(y3, y4) ||\n        Math.min(y1, y2) > Math.max(y3, y4)) {\n        return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n    var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n    var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (!denominator) {\n        return;\n    }\n    var px = nx / denominator;\n    var py = ny / denominator;\n    var px2 = +px.toFixed(2);\n    var py2 = +py.toFixed(2);\n    if (px2 < +Math.min(x1, x2).toFixed(2) ||\n        px2 > +Math.max(x1, x2).toFixed(2) ||\n        px2 < +Math.min(x3, x4).toFixed(2) ||\n        px2 > +Math.max(x3, x4).toFixed(2) ||\n        py2 < +Math.min(y1, y2).toFixed(2) ||\n        py2 > +Math.max(y1, y2).toFixed(2) ||\n        py2 < +Math.min(y3, y4).toFixed(2) ||\n        py2 > +Math.max(y3, y4).toFixed(2)) {\n        return;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar rectPath = function (x, y, w, h, r) {\n    if (r) {\n        return [\n            ['M', +x + +r, y],\n            ['l', w - r * 2, 0],\n            ['a', r, r, 0, 0, 1, r, r],\n            ['l', 0, h - r * 2],\n            ['a', r, r, 0, 0, 1, -r, r],\n            ['l', r * 2 - w, 0],\n            ['a', r, r, 0, 0, 1, -r, -r],\n            ['l', 0, r * 2 - h],\n            ['a', r, r, 0, 0, 1, r, -r],\n            ['z'],\n        ];\n    }\n    var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n    // @ts-ignore\n    res.parsePathArray = parsePathArray;\n    return res;\n};\nvar box = function (x, y, width, height) {\n    if (x === null) {\n        x = y = width = height = 0;\n    }\n    if (y === null) {\n        y = x.y;\n        width = x.width;\n        height = x.height;\n        x = x.x;\n    }\n    return {\n        x: x,\n        y: y,\n        width: width,\n        w: width,\n        height: height,\n        h: height,\n        x2: x + width,\n        y2: y + height,\n        cx: x + width / 2,\n        cy: y + height / 2,\n        r1: Math.min(width, height) / 2,\n        r2: Math.max(width, height) / 2,\n        r0: Math.sqrt(width * width + height * height) / 2,\n        path: rectPath(x, y, width, height),\n        vb: [x, y, width, height].join(' '),\n    };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n    bbox1 = box(bbox1);\n    bbox2 = box(bbox2);\n    return (isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n        (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n            ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y))));\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!isArray(p1x)) {\n        p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t;\n    var t13 = Math.pow(t1, 3);\n    var t12 = Math.pow(t1, 2);\n    var t2 = t * t;\n    var t3 = t2 * t;\n    var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n    var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n    var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n    var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n    var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n    var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n    var ax = t1 * p1x + t * c1x;\n    var ay = t1 * p1y + t * c1y;\n    var cx = t1 * c2x + t * p2x;\n    var cy = t1 * c2y + t * p2y;\n    var alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n    // (mx > nx || my < ny) && (alpha += 180);\n    return {\n        x: x,\n        y: y,\n        m: {\n            x: mx,\n            y: my,\n        },\n        n: {\n            x: nx,\n            y: ny,\n        },\n        start: {\n            x: ax,\n            y: ay,\n        },\n        end: {\n            x: cx,\n            y: cy,\n        },\n        alpha: alpha,\n    };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n    var bbox1 = bezierBBox(bez1);\n    var bbox2 = bezierBBox(bez2);\n    if (!isBBoxIntersect(bbox1, bbox2)) {\n        return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1);\n    var l2 = bezlen.apply(0, bez2);\n    var n1 = ~~(l1 / 8);\n    var n2 = ~~(l2 / 8);\n    var dots1 = [];\n    var dots2 = [];\n    var xy = {};\n    var res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n        dots1.push({\n            x: d.x,\n            y: d.y,\n            t: i / n1,\n        });\n    }\n    for (var i = 0; i < n2 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n        dots2.push({\n            x: d.x,\n            y: d.y,\n            t: i / n2,\n        });\n    }\n    for (var i = 0; i < n1; i++) {\n        for (var j = 0; j < n2; j++) {\n            var di = dots1[i];\n            var di1 = dots1[i + 1];\n            var dj = dots2[j];\n            var dj1 = dots2[j + 1];\n            var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n            var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n            var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n            if (is) {\n                if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n                    continue;\n                }\n                xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n                var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                    if (justCount) {\n                        // @ts-ignore\n                        res += 1;\n                    }\n                    else {\n                        // @ts-ignore\n                        res.push({\n                            x: is.x,\n                            y: is.y,\n                            t1: t1,\n                            t2: t2,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n    path1 = pathToCurve(path1);\n    path2 = pathToCurve(path2);\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x1m;\n    var y1m;\n    var x2m;\n    var y2m;\n    var bez1;\n    var bez2;\n    var res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n        var pi = path1[i];\n        if (pi[0] === 'M') {\n            x1 = x1m = pi[1];\n            y1 = y1m = pi[2];\n        }\n        else {\n            if (pi[0] === 'C') {\n                bez1 = [x1, y1].concat(pi.slice(1));\n                x1 = bez1[6];\n                y1 = bez1[7];\n            }\n            else {\n                bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                x1 = x1m;\n                y1 = y1m;\n            }\n            for (var j = 0, jj = path2.length; j < jj; j++) {\n                var pj = path2[j];\n                if (pj[0] === 'M') {\n                    x2 = x2m = pj[1];\n                    y2 = y2m = pj[2];\n                }\n                else {\n                    if (pj[0] === 'C') {\n                        bez2 = [x2, y2].concat(pj.slice(1));\n                        x2 = bez2[6];\n                        y2 = bez2[7];\n                    }\n                    else {\n                        bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                        x2 = x2m;\n                        y2 = y2m;\n                    }\n                    var intr = interHelper(bez1, bez2, justCount);\n                    if (justCount) {\n                        // @ts-ignore\n                        res += intr;\n                    }\n                    else {\n                        // @ts-ignore\n                        for (var k = 0, kk = intr.length; k < kk; k++) {\n                            intr[k].segment1 = i;\n                            intr[k].segment2 = j;\n                            intr[k].bez1 = bez1;\n                            intr[k].bez2 = bez2;\n                        }\n                        // @ts-ignore\n                        res = res.concat(intr);\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar intersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n};\nfunction decasteljau(points, t) {\n    var left = [];\n    var right = [];\n    function recurse(points, t) {\n        if (points.length === 1) {\n            left.push(points[0]);\n            right.push(points[0]);\n        }\n        else {\n            var middlePoints = [];\n            for (var i = 0; i < points.length - 1; i++) {\n                if (i === 0) {\n                    left.push(points[0]);\n                }\n                if (i === points.length - 2) {\n                    right.push(points[i + 1]);\n                }\n                middlePoints[i] = [\n                    (1 - t) * points[i][0] + t * points[i + 1][0],\n                    (1 - t) * points[i][1] + t * points[i + 1][1],\n                ];\n            }\n            recurse(middlePoints, t);\n        }\n    }\n    if (points.length) {\n        recurse(points, t);\n    }\n    return { left: left, right: right.reverse() };\n}\nfunction splitCurve(start, end, count) {\n    var points = [[start[1], start[2]]];\n    count = count || 2;\n    var segments = [];\n    if (end[0] === 'A') {\n        points.push(end[6]);\n        points.push(end[7]);\n    }\n    else if (end[0] === 'C') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n        points.push([end[5], end[6]]);\n    }\n    else if (end[0] === 'S' || end[0] === 'Q') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n    }\n    else {\n        points.push([end[1], end[2]]);\n    }\n    var leftSegments = points;\n    var t = 1 / count;\n    for (var i = 0; i < count - 1; i++) {\n        var rt = t / (1 - t * i);\n        var split = decasteljau(leftSegments, rt);\n        segments.push(split.left);\n        leftSegments = split.right;\n    }\n    segments.push(leftSegments);\n    var result = segments.map(function (segment) {\n        var cmd = [];\n        if (segment.length === 4) {\n            cmd.push('C');\n            cmd = cmd.concat(segment[2]);\n        }\n        if (segment.length >= 3) {\n            if (segment.length === 3) {\n                cmd.push('Q');\n            }\n            cmd = cmd.concat(segment[1]);\n        }\n        if (segment.length === 2) {\n            cmd.push('L');\n        }\n        cmd = cmd.concat(segment[segment.length - 1]);\n        return cmd;\n    });\n    return result;\n}\nvar splitSegment = function (start, end, count) {\n    if (count === 1) {\n        return [[].concat(start)];\n    }\n    var segments = [];\n    if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n        segments = segments.concat(splitCurve(start, end, count));\n    }\n    else {\n        var temp = [].concat(start);\n        if (temp[0] === 'M') {\n            temp[0] = 'L';\n        }\n        for (var i = 0; i <= count - 1; i++) {\n            segments.push(temp);\n        }\n    }\n    return segments;\n};\nvar fillPath = function (source, target) {\n    if (source.length === 1) {\n        return source;\n    }\n    var sourceLen = source.length - 1;\n    var targetLen = target.length - 1;\n    var ratio = sourceLen / targetLen;\n    var segmentsToFill = [];\n    if (source.length === 1 && source[0][0] === 'M') {\n        for (var i = 0; i < targetLen - sourceLen; i++) {\n            source.push(source[0]);\n        }\n        return source;\n    }\n    for (var i = 0; i < targetLen; i++) {\n        var index = Math.floor(ratio * i);\n        segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n    }\n    var filled = segmentsToFill.reduce(function (filled, count, i) {\n        if (i === sourceLen) {\n            return filled.concat(source[sourceLen]);\n        }\n        return filled.concat(splitSegment(source[i], source[i + 1], count));\n    }, []);\n    filled.unshift(source[0]);\n    if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n        filled.push('Z');\n    }\n    return filled;\n};\nvar isEqual = function (obj1, obj2) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    var result = true;\n    each(obj1, function (item, i) {\n        if (item !== obj2[i]) {\n            result = false;\n            return false;\n        }\n    });\n    return result;\n};\nfunction getMinDiff(del, add, modify) {\n    var type = null;\n    var min = modify;\n    if (add < min) {\n        min = add;\n        type = 'add';\n    }\n    if (del < min) {\n        min = del;\n        type = 'del';\n    }\n    return {\n        type: type,\n        min: min,\n    };\n}\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * path\n */\nvar levenshteinDistance = function (source, target) {\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var sourceSegment;\n    var targetSegment;\n    var temp = 0;\n    if (sourceLen === 0 || targetLen === 0) {\n        return null;\n    }\n    var dist = [];\n    for (var i = 0; i <= sourceLen; i++) {\n        dist[i] = [];\n        dist[i][0] = { min: i };\n    }\n    for (var j = 0; j <= targetLen; j++) {\n        dist[0][j] = { min: j };\n    }\n    for (var i = 1; i <= sourceLen; i++) {\n        sourceSegment = source[i - 1];\n        for (var j = 1; j <= targetLen; j++) {\n            targetSegment = target[j - 1];\n            if (isEqual(sourceSegment, targetSegment)) {\n                temp = 0;\n            }\n            else {\n                temp = 1;\n            }\n            var del = dist[i - 1][j].min + 1;\n            var add = dist[i][j - 1].min + 1;\n            var modify = dist[i - 1][j - 1].min + temp;\n            dist[i][j] = getMinDiff(del, add, modify);\n        }\n    }\n    return dist;\n};\nvar fillPathByDiff = function (source, target) {\n    var diffMatrix = levenshteinDistance(source, target);\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var changes = [];\n    var index = 1;\n    var minPos = 1;\n    // sourcetarget\n    if (diffMatrix[sourceLen][targetLen].min !== sourceLen) {\n        // sourcetarget\n        for (var i = 1; i <= sourceLen; i++) {\n            var min = diffMatrix[i][i].min;\n            minPos = i;\n            for (var j = index; j <= targetLen; j++) {\n                if (diffMatrix[i][j].min < min) {\n                    min = diffMatrix[i][j].min;\n                    minPos = j;\n                }\n            }\n            index = minPos;\n            if (diffMatrix[i][index].type) {\n                changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n            }\n        }\n        // sourcepath\n        for (var i = changes.length - 1; i >= 0; i--) {\n            index = changes[i].index;\n            if (changes[i].type === 'add') {\n                source.splice(index, 0, [].concat(source[index]));\n            }\n            else {\n                source.splice(index, 1);\n            }\n        }\n    }\n    // source\n    sourceLen = source.length;\n    var diff = targetLen - sourceLen;\n    if (sourceLen < targetLen) {\n        for (var i = 0; i < diff; i++) {\n            if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n                source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n            }\n            else {\n                source.push(source[sourceLen - 1]);\n            }\n            sourceLen += 1;\n        }\n    }\n    return source;\n};\n// count\nfunction _splitPoints(points, former, count) {\n    var result = [].concat(points);\n    var index;\n    var t = 1 / (count + 1);\n    var formerEnd = _getSegmentPoints(former)[0];\n    for (var i = 1; i <= count; i++) {\n        t *= i;\n        index = Math.floor(points.length * t);\n        if (index === 0) {\n            result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n        }\n        else {\n            result.splice(index, 0, [\n                formerEnd[0] * t + points[index][0] * (1 - t),\n                formerEnd[1] * t + points[index][1] * (1 - t),\n            ]);\n        }\n    }\n    return result;\n}\n/*\n * pathSegment\n * M,L,A,Q,H,V\n * Q, S\n * C\n */\nfunction _getSegmentPoints(segment) {\n    var points = [];\n    switch (segment[0]) {\n        case 'M':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'L':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'A':\n            points.push([segment[6], segment[7]]);\n            break;\n        case 'Q':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'T':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'C':\n            points.push([segment[5], segment[6]]);\n            points.push([segment[1], segment[2]]);\n            points.push([segment[3], segment[4]]);\n            break;\n        case 'S':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'H':\n            points.push([segment[1], segment[1]]);\n            break;\n        case 'V':\n            points.push([segment[1], segment[1]]);\n            break;\n        default:\n    }\n    return points;\n}\nvar formatPath = function (fromPath, toPath) {\n    if (fromPath.length <= 1) {\n        return fromPath;\n    }\n    var points;\n    for (var i = 0; i < toPath.length; i++) {\n        if (fromPath[i][0] !== toPath[i][0]) {\n            // fromPathpathSegmenttoPath\n            points = _getSegmentPoints(fromPath[i]);\n            switch (toPath[i][0]) {\n                case 'M':\n                    fromPath[i] = ['M'].concat(points[0]);\n                    break;\n                case 'L':\n                    fromPath[i] = ['L'].concat(points[0]);\n                    break;\n                case 'A':\n                    fromPath[i] = [].concat(toPath[i]);\n                    fromPath[i][6] = points[0][0];\n                    fromPath[i][7] = points[0][1];\n                    break;\n                case 'Q':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'T':\n                    fromPath[i] = ['T'].concat(points[0]);\n                    break;\n                case 'C':\n                    if (points.length < 3) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 2);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'S':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                default:\n                    fromPath[i] = toPath[i];\n            }\n        }\n    }\n    return fromPath;\n};\nexport { catmullRomToBezier, fillPath, fillPathByDiff, formatPath, intersection, parsePathArray, parsePathString, pathToAbsolute, pathToCurve, rectPath, };\n//# sourceMappingURL=path.js.map","var adjMatrix = function adjMatrix(graphData, directed) {\n  var nodes = graphData.nodes,\n      edges = graphData.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error(\"invalid nodes data!\");\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (edge) {\n      var source = edge.source,\n          target = edge.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      if (!sIndex && sIndex !== 0 || !tIndex && tIndex !== 0) return;\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n\nexport default adjMatrix;","var defaultComparator = function defaultComparator(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * \n */\n\n\nvar LinkedListNode =\n/** @class */\nfunction () {\n  function LinkedListNode(value, next) {\n    if (next === void 0) {\n      next = null;\n    }\n\n    this.value = value;\n    this.next = next;\n  }\n\n  LinkedListNode.prototype.toString = function (callback) {\n    return callback ? callback(this.value) : \"\" + this.value;\n  };\n\n  return LinkedListNode;\n}();\n\nexport { LinkedListNode };\n\nvar LinkedList =\n/** @class */\nfunction () {\n  function LinkedList(comparator) {\n    if (comparator === void 0) {\n      comparator = defaultComparator;\n    }\n\n    this.head = null;\n    this.tail = null;\n    this.compare = comparator;\n  }\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.prepend = function (value) {\n    // \n    var newNode = new LinkedListNode(value, this.head);\n    this.head = newNode;\n\n    if (!this.tail) {\n      this.tail = newNode;\n    }\n\n    return this;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.append = function (value) {\n    var newNode = new LinkedListNode(value); // \n\n    if (!this.head) {\n      this.head = newNode;\n      this.tail = newNode;\n      return this;\n    } // \n\n\n    this.tail.next = newNode;\n    this.tail = newNode;\n    return this;\n  };\n  /**\n   * \n   * @param value \n   */\n\n\n  LinkedList.prototype.delete = function (value) {\n    if (!this.head) {\n      return null;\n    }\n\n    var deleteNode = null; // next\n\n    while (this.head && this.compare(this.head.value, value)) {\n      deleteNode = this.head;\n      this.head = this.head.next;\n    }\n\n    var currentNode = this.head;\n\n    if (currentNode !== null) {\n      // next\n      while (currentNode.next) {\n        if (this.compare(currentNode.next.value, value)) {\n          deleteNode = currentNode.next;\n          currentNode.next = currentNode.next.next;\n        } else {\n          currentNode = currentNode.next;\n        }\n      }\n    } // \n\n\n    if (this.compare(this.tail.value, value)) {\n      this.tail = currentNode;\n    }\n\n    return deleteNode;\n  };\n  /**\n   * \n   * @param param0\n   */\n\n\n  LinkedList.prototype.find = function (_a) {\n    var _b = _a.value,\n        value = _b === void 0 ? undefined : _b,\n        _c = _a.callback,\n        callback = _c === void 0 ? undefined : _c;\n\n    if (!this.head) {\n      return null;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode) {\n      //  callback callback \n      if (callback && callback(currentNode.value)) {\n        return currentNode;\n      } //  value value \n\n\n      if (value !== undefined && this.compare(currentNode.value, value)) {\n        return currentNode;\n      }\n\n      currentNode = currentNode.next;\n    }\n\n    return null;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteTail = function () {\n    var deletedTail = this.tail;\n\n    if (this.head === this.tail) {\n      // \n      this.head = null;\n      this.tail = null;\n      return deletedTail;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode.next) {\n      if (!currentNode.next.next) {\n        currentNode.next = null;\n      } else {\n        currentNode = currentNode.next;\n      }\n    }\n\n    this.tail = currentNode;\n    return deletedTail;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteHead = function () {\n    if (!this.head) {\n      return null;\n    }\n\n    var deletedHead = this.head;\n\n    if (this.head.next) {\n      this.head = this.head.next;\n    } else {\n      this.head = null;\n      this.tail = null;\n    }\n\n    return deletedHead;\n  };\n  /**\n   * \n   * @param values \n   */\n\n\n  LinkedList.prototype.fromArray = function (values) {\n    var _this = this;\n\n    values.forEach(function (value) {\n      return _this.append(value);\n    });\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.toArray = function () {\n    var nodes = [];\n    var currentNode = this.head;\n\n    while (currentNode) {\n      nodes.push(currentNode);\n      currentNode = currentNode.next;\n    }\n\n    return nodes;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.reverse = function () {\n    var currentNode = this.head;\n    var prevNode = null;\n    var nextNode = null;\n\n    while (currentNode) {\n      // \n      nextNode = currentNode.next; // \n\n      currentNode.next = prevNode; //  prevNode  currentNode \n\n      prevNode = currentNode;\n      currentNode = nextNode;\n    }\n\n    this.tail = this.head;\n    this.head = prevNode;\n  };\n\n  LinkedList.prototype.toString = function (callback) {\n    if (callback === void 0) {\n      callback = undefined;\n    }\n\n    return this.toArray().map(function (node) {\n      return node.toString(callback);\n    }).toString();\n  };\n\n  return LinkedList;\n}();\n\nexport default LinkedList;","import LinkedList from './linked-list';\n\nvar Queue =\n/** @class */\nfunction () {\n  function Queue() {\n    this.linkedList = new LinkedList();\n  }\n  /**\n   * \n   */\n\n\n  Queue.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   *  \n   */\n\n\n  Queue.prototype.peek = function () {\n    if (!this.linkedList.head) {\n      return null;\n    }\n\n    return this.linkedList.head.value;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  Queue.prototype.enqueue = function (value) {\n    this.linkedList.append(value);\n  };\n  /**\n   *  null\n   */\n\n\n  Queue.prototype.dequeue = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Queue.prototype.toString = function (callback) {\n    return this.linkedList.toString(callback);\n  };\n\n  return Queue;\n}();\n\nexport default Queue;","/**\n * \n * @param nodeId  ID\n * @param edges \n * @param type \n */\nexport var getNeighbors = function getNeighbors(nodeId, edges, type) {\n  if (edges === void 0) {\n    edges = [];\n  }\n\n  var currentEdges = edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n\n  if (type === 'target') {\n    //  source\n    var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n      return edge.source === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_1).map(function (edge) {\n      return edge.target;\n    });\n  }\n\n  if (type === 'source') {\n    //  target\n    var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n      return edge.target === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_2).map(function (edge) {\n      return edge.source;\n    });\n  } //  type \n\n\n  var neighhborsConverter = function neighhborsConverter(edge) {\n    return edge.source === nodeId ? edge.target : edge.source;\n  };\n\n  return currentEdges.map(neighhborsConverter);\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getOutEdgesNodeId = function getOutEdgesNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId;\n  });\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getEdgesByNodeId = function getEdgesByNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n};\n/**\n *  ID + \n * @param index \n */\n\nexport var uniqueId = function uniqueId(index) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  var random1 = (\"\" + Math.random()).split('.')[1].substr(0, 5);\n  var random2 = (\"\" + Math.random()).split('.')[1].substr(0, 5);\n  return index + \"-\" + random1 + random2;\n};","import Queue from './structs/queue';\nimport { getNeighbors } from './util';\n/**\n *\n * @param callbacks\n * allowTraversal:  BFS \n * enterNode:  BFS \n * leaveNode:  BFS \n */\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n      var id = next;\n\n      if (!seen[id]) {\n        seen[id] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * \n * @param graph Graph \n * @param startNode \n * @param originalCallbacks \n */\n\n\nvar breadthFirstSearch = function breadthFirstSearch(graphData, startNodeId, originalCallbacks) {\n  var callbacks = initCallbacks(originalCallbacks);\n  var nodeQueue = new Queue();\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a; // \n\n  nodeQueue.enqueue(startNodeId);\n  var previousNode = '';\n\n  var _loop_1 = function _loop_1() {\n    var currentNode = nodeQueue.dequeue();\n    callbacks.enter({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    getNeighbors(currentNode, edges, 'target').forEach(function (nextNode) {\n      if (callbacks.allowTraversal({\n        previous: previousNode,\n        current: currentNode,\n        next: nextNode\n      })) {\n        nodeQueue.enqueue(nextNode);\n      }\n    });\n    callbacks.leave({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    previousNode = currentNode;\n  }; // \n\n\n  while (!nodeQueue.isEmpty()) {\n    _loop_1();\n  }\n};\n\nexport default breadthFirstSearch;","import { getNeighbors } from \"./util\";\n/**\n * Generate all connected components for an undirected graph\n * @param graph\n */\n\nexport var detectConnectedComponents = function detectConnectedComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var allComponents = [];\n  var visited = {};\n  var nodeStack = [];\n\n  var getComponent = function getComponent(node) {\n    nodeStack.push(node);\n    visited[node.id] = true;\n    var neighbors = getNeighbors(node.id, edges);\n\n    var _loop_1 = function _loop_1(i) {\n      var neighbor = neighbors[i];\n\n      if (!visited[neighbor]) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === neighbor;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        }\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; ++i) {\n      _loop_1(i);\n    }\n  };\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n\n    if (!visited[node.id]) {\n      // dfs\n      getComponent(node);\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        component.push(nodeStack.pop());\n      }\n\n      allComponents.push(component);\n    }\n  }\n\n  return allComponents;\n};\n/**\n * Tarjan's Algorithm   O(|V|+|E|)\n * For directed graph only\n * a directed graph is said to be strongly connected if \"every vertex is reachable from every other vertex\".\n * refer: http://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm\n * @param graph\n * @return a list of strongly connected components\n */\n\nexport var detectStrongConnectComponents = function detectStrongConnectComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeStack = [];\n  var inStack = {}; // stack\n\n  var indices = {};\n  var lowLink = {};\n  var allComponents = [];\n  var index = 0;\n\n  var getComponent = function getComponent(node) {\n    // Set the depth index for v to the smallest unused index\n    indices[node.id] = index;\n    lowLink[node.id] = index;\n    index += 1;\n    nodeStack.push(node);\n    inStack[node.id] = true; // \n\n    var neighbors = getNeighbors(node.id, edges, 'target').filter(function (n) {\n      return nodes.map(function (node) {\n        return node.id;\n      }).indexOf(n) > -1;\n    });\n\n    var _loop_2 = function _loop_2(i) {\n      var targetNodeID = neighbors[i];\n\n      if (!indices[targetNodeID] && indices[targetNodeID] !== 0) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === targetNodeID;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        } // tree edge\n\n\n        lowLink[node.id] = Math.min(lowLink[node.id], lowLink[targetNodeID]);\n      } else if (inStack[targetNodeID]) {\n        // back edge, target node is in the current SCC\n        lowLink[node.id] = Math.min(lowLink[node.id], indices[targetNodeID]);\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; i++) {\n      _loop_2(i);\n    } // If node is a root node, generate an SCC\n\n\n    if (lowLink[node.id] === indices[node.id]) {\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        var tmpNode = nodeStack.pop();\n        inStack[tmpNode.id] = false;\n        component.push(tmpNode);\n        if (tmpNode === node) break;\n      }\n\n      if (component.length > 0) {\n        allComponents.push(component);\n      }\n    }\n  };\n\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n\n    if (!indices[node.id] && indices[node.id] !== 0) {\n      getComponent(node);\n    }\n  }\n\n  return allComponents;\n};\nexport default function getConnectedComponents(graphData, directed) {\n  if (directed) return detectStrongConnectComponents(graphData);\n  return detectConnectedComponents(graphData);\n}","var degree = function degree(graphData) {\n  var degrees = {};\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  nodes.forEach(function (node) {\n    degrees[node.id] = {\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n  });\n  edges.forEach(function (edge) {\n    degrees[edge.source].degree++;\n    degrees[edge.source].outDegree++;\n    degrees[edge.target].degree++;\n    degrees[edge.target].inDegree++;\n  });\n  return degrees;\n};\n\nexport default degree;\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getInDegree = function getInDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].inDegree;\n  }\n\n  return 0;\n};\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getOutDegree = function getOutDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].outDegree;\n  }\n\n  return 0;\n};","import { getNeighbors } from './util';\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n\n      if (!seen[next]) {\n        seen[next] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * @param {Graph} graph\n * @param {GraphNode} currentNode\n * @param {GraphNode} previousNode\n * @param {Callbacks} callbacks\n */\n\n\nfunction depthFirstSearchRecursive(graphData, currentNode, previousNode, callbacks) {\n  callbacks.enter({\n    current: currentNode,\n    previous: previousNode\n  });\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a;\n  getNeighbors(currentNode, edges, 'target').forEach(function (nextNode) {\n    if (callbacks.allowTraversal({\n      previous: previousNode,\n      current: currentNode,\n      next: nextNode\n    })) {\n      depthFirstSearchRecursive(graphData, nextNode, currentNode, callbacks);\n    }\n  });\n  callbacks.leave({\n    current: currentNode,\n    previous: previousNode\n  });\n}\n/**\n * \n * @param data GraphData \n * @param startNodeId  ID\n * @param originalCallbacks \n */\n\n\nexport default function depthFirstSearch(graphData, startNodeId, callbacks) {\n  depthFirstSearchRecursive(graphData, startNodeId, '', initCallbacks(callbacks));\n}","import dfs from './dfs';\nimport getConnectedComponents, { detectStrongConnectComponents } from './connected-component';\nimport { getNeighbors } from './util';\n\nvar detectDirectedCycle = function detectDirectedCycle(graphData) {\n  var cycle = null;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a;\n  var dfsParentMap = {}; // \n\n  var unvisitedSet = {}; // \n\n  var visitingSet = {}; // \n\n  var visitedSet = {}; //  unvisitedSet\n\n  nodes.forEach(function (node) {\n    unvisitedSet[node.id] = node;\n  });\n  var callbacks = {\n    enter: function enter(_a) {\n      var currentNode = _a.current,\n          previousNode = _a.previous;\n\n      if (visitingSet[currentNode]) {\n        // \n        cycle = {};\n        var currentCycleNode = currentNode;\n        var previousCycleNode = previousNode;\n\n        while (previousCycleNode !== currentNode) {\n          cycle[currentCycleNode] = previousCycleNode;\n          currentCycleNode = previousCycleNode;\n          previousCycleNode = dfsParentMap[previousCycleNode];\n        }\n\n        cycle[currentCycleNode] = previousCycleNode;\n      } else {\n        // \n        visitingSet[currentNode] = currentNode;\n        delete unvisitedSet[currentNode]; //  DSF parents \n\n        dfsParentMap[currentNode] = previousNode;\n      }\n    },\n    leave: function leave(_a) {\n      var currentNode = _a.current; // \n      // \n\n      visitedSet[currentNode] = currentNode;\n      delete visitingSet[currentNode];\n    },\n    allowTraversal: function allowTraversal(_a) {\n      var nextNode = _a.next; // \n\n      if (cycle) {\n        return false;\n      } // visitedSet \n\n\n      return !visitedSet[nextNode];\n    }\n  }; // \n\n  while (Object.keys(unvisitedSet).length) {\n    //  DFS \n    var firsetUnVisitedKey = Object.keys(unvisitedSet)[0];\n    dfs(graphData, firsetUnVisitedKey, callbacks);\n  }\n\n  return cycle;\n};\n/**\n * Base cycles\n * refer: https://www.codeproject.com/Articles/1158232/Enumerating-All-Cycles-in-an-Undirected-Graph\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}] base cycles\n */\n\n\nexport var detectAllUndirectedCycle = function detectAllUndirectedCycle(graphData, nodeIds, include) {\n  var _a, _b;\n\n  if (include === void 0) {\n    include = true;\n  }\n\n  var allCycles = [];\n  var components = getConnectedComponents(graphData, false); // loop through all connected components\n\n  for (var _i = 0, components_1 = components; _i < components_1.length; _i++) {\n    var component = components_1[_i];\n    if (!component.length) continue;\n    var root = component[0];\n    var rootId = root.id;\n    var stack = [root];\n    var parent_1 = (_a = {}, _a[rootId] = root, _a);\n    var used = (_b = {}, _b[rootId] = new Set(), _b); // walk a spanning tree to find cycles\n\n    while (stack.length > 0) {\n      var curNode = stack.pop();\n      var curNodeId = curNode.id;\n      var neighbors = getNeighbors(curNodeId, graphData.edges);\n\n      var _loop_1 = function _loop_1(i) {\n        var _c;\n\n        var neighborId = neighbors[i];\n        var neighbor = graphData.nodes.find(function (node) {\n          return node.id === neighborId;\n        }); // const neighborId = neighbor.get('id');\n\n        if (neighborId === curNodeId) {\n          // \n          allCycles.push((_c = {}, _c[neighborId] = curNode, _c));\n        } else if (!(neighborId in used)) {\n          // visit a new node\n          parent_1[neighborId] = curNode;\n          stack.push(neighbor);\n          used[neighborId] = new Set([curNode]);\n        } else if (!used[curNodeId].has(neighbor)) {\n          // a cycle found\n          var cycleValid = true;\n          var cyclePath = [neighbor, curNode];\n          var p = parent_1[curNodeId];\n\n          while (used[neighborId].size && !used[neighborId].has(p)) {\n            cyclePath.push(p);\n            if (p === parent_1[p.id]) break;else p = parent_1[p.id];\n          }\n\n          cyclePath.push(p);\n\n          if (nodeIds && include) {\n            // \n            cycleValid = false;\n\n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = true;\n            }\n          } else if (nodeIds && !include) {\n            // \n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = false;\n            }\n          } //  node list  cycle \n\n\n          if (cycleValid) {\n            var cycle = {};\n\n            for (var index = 1; index < cyclePath.length; index += 1) {\n              cycle[cyclePath[index - 1].id] = cyclePath[index];\n            }\n\n            if (cyclePath.length) {\n              cycle[cyclePath[cyclePath.length - 1].id] = cyclePath[0];\n            }\n\n            allCycles.push(cycle);\n          }\n\n          used[neighborId].add(curNode);\n        }\n      };\n\n      for (var i = 0; i < neighbors.length; i += 1) {\n        _loop_1(i);\n      }\n    }\n  }\n\n  return allCycles;\n};\n/**\n * Johnson's algorithm,  O((V + E)(C + 1))$ and space bounded by O(V + E)\n * refer: https://www.cs.tufts.edu/comp/150GA/homeworks/hw1/Johnson%2075.PDF\n * refer: https://networkx.github.io/documentation/stable/_modules/networkx/algorithms/cycles.html#simple_cycles\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}]  simple cycles\n */\n\nexport var detectAllDirectedCycle = function detectAllDirectedCycle(graphData, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  var path = []; // stack of nodes in current path\n\n  var blocked = new Set();\n  var B = []; // remember portions of the graph that yield no elementary circuit\n\n  var allCycles = [];\n  var idx2Node = {};\n  var node2Idx = {}; //  unblock all blocked nodes\n\n  var unblock = function unblock(thisNode) {\n    var stack = [thisNode];\n\n    while (stack.length > 0) {\n      var node = stack.pop();\n\n      if (blocked.has(node)) {\n        blocked.delete(node);\n        B[node.id].forEach(function (n) {\n          stack.push(n);\n        });\n        B[node.id].clear();\n      }\n    }\n  };\n\n  var circuit = function circuit(node, start, adjList) {\n    var closed = false; // whether a path is closed\n\n    if (nodeIds && include === false && nodeIds.indexOf(node.id) > -1) return closed;\n    path.push(node);\n    blocked.add(node);\n    var neighbors = adjList[node.id];\n\n    for (var i = 0; i < neighbors.length; i += 1) {\n      var neighbor = idx2Node[neighbors[i]];\n\n      if (neighbor === start) {\n        var cycle = {};\n\n        for (var index = 1; index < path.length; index += 1) {\n          cycle[path[index - 1].id] = path[index];\n        }\n\n        if (path.length) {\n          cycle[path[path.length - 1].id] = path[0];\n        }\n\n        allCycles.push(cycle);\n        closed = true;\n      } else if (!blocked.has(neighbor)) {\n        if (circuit(neighbor, start, adjList)) {\n          closed = true;\n        }\n      }\n    }\n\n    if (closed) {\n      unblock(node);\n    } else {\n      for (var i = 0; i < neighbors.length; i += 1) {\n        var neighbor = idx2Node[neighbors[i]];\n\n        if (!B[neighbor.id].has(node)) {\n          B[neighbor.id].add(node);\n        }\n      }\n    }\n\n    path.pop();\n    return closed;\n  };\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a; // Johnson's algorithm \n\n  for (var i = 0; i < nodes.length; i += 1) {\n    var node = nodes[i];\n    var nodeId = node.id;\n    node2Idx[nodeId] = i;\n    idx2Node[i] = node;\n  } // \n\n\n  if (nodeIds && include) {\n    var _loop_2 = function _loop_2(i) {\n      var nodeId = nodeIds[i];\n      node2Idx[nodes[i].id] = node2Idx[nodeId];\n      node2Idx[nodeId] = 0;\n      idx2Node[0] = nodes.find(function (node) {\n        return node.id === nodeId;\n      });\n      idx2Node[node2Idx[nodes[i].id]] = nodes[i];\n    };\n\n    for (var i = 0; i < nodeIds.length; i++) {\n      _loop_2(i);\n    }\n  } //   >= nodeOrder adjList\n\n\n  var getMinComponentAdj = function getMinComponentAdj(components) {\n    var _a;\n\n    var minCompIdx;\n    var minIdx = Infinity; // Find least component and the lowest node\n\n    for (var i = 0; i < components.length; i += 1) {\n      var comp = components[i];\n\n      for (var j = 0; j < comp.length; j++) {\n        var nodeIdx_1 = node2Idx[comp[j].id];\n\n        if (nodeIdx_1 < minIdx) {\n          minIdx = nodeIdx_1;\n          minCompIdx = i;\n        }\n      }\n    }\n\n    var component = components[minCompIdx];\n    var adjList = [];\n\n    for (var i = 0; i < component.length; i += 1) {\n      var node = component[i];\n      adjList[node.id] = [];\n\n      for (var _i = 0, _b = getNeighbors(node.id, graphData.edges, 'target').filter(function (n) {\n        return component.map(function (c) {\n          return c.id;\n        }).indexOf(n) > -1;\n      }); _i < _b.length; _i++) {\n        var neighbor = _b[_i]; //  () adjList\n\n        if (neighbor === node.id && !(include === false && nodeIds.indexOf(node.id) > -1)) {\n          allCycles.push((_a = {}, _a[node.id] = node, _a));\n        } else {\n          adjList[node.id].push(node2Idx[neighbor]);\n        }\n      }\n    }\n\n    return {\n      component: component,\n      adjList: adjList,\n      minIdx: minIdx\n    };\n  };\n\n  var nodeIdx = 0;\n\n  while (nodeIdx < nodes.length) {\n    var subgraphNodes = nodes.filter(function (n) {\n      return node2Idx[n.id] >= nodeIdx;\n    });\n    var sccs = detectStrongConnectComponents({\n      nodes: subgraphNodes,\n      edges: graphData.edges\n    }).filter(function (component) {\n      return component.length > 1;\n    });\n    if (sccs.length === 0) break;\n    var scc = getMinComponentAdj(sccs);\n    var minIdx = scc.minIdx,\n        adjList = scc.adjList,\n        component = scc.component;\n\n    if (component.length > 1) {\n      component.forEach(function (node) {\n        B[node.id] = new Set();\n      });\n      var startNode = idx2Node[minIdx]; // startNode \n\n      if (nodeIds && include && nodeIds.indexOf(startNode.id) === -1) return allCycles;\n      circuit(startNode, startNode, adjList);\n      nodeIdx = minIdx + 1;\n    } else {\n      break;\n    }\n  }\n\n  return allCycles;\n};\n/**\n * \n * @param graph\n * @param directed \n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: Node}] Objectkeyidvalue\n */\n\nexport var detectAllCycles = function detectAllCycles(graphData, directed, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  if (directed) return detectAllDirectedCycle(graphData, nodeIds, include);\n  return detectAllUndirectedCycle(graphData, nodeIds, include);\n};\nexport default detectDirectedCycle;","import { __spreadArray } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { getOutEdgesNodeId, getEdgesByNodeId } from './util';\n\nvar minVertex = function minVertex(D, nodes, marks) {\n  // \n  var minDis = Infinity;\n  var minNode;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var nodeId = nodes[i].id;\n\n    if (!marks[nodeId] && D[nodeId] <= minDis) {\n      minDis = D[nodeId];\n      minNode = nodes[i];\n    }\n  }\n\n  return minNode;\n};\n\nvar dijkstra = function dijkstra(graphData, source, directed, weightPropertyName) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeIds = [];\n  var marks = {};\n  var D = {};\n  var prevs = {}; // key: , value: \n\n  nodes.forEach(function (node, i) {\n    var id = node.id;\n    nodeIds.push(id);\n    D[id] = Infinity;\n    if (id === source) D[id] = 0;\n  });\n  var nodeNum = nodes.length;\n\n  var _loop_1 = function _loop_1(i) {\n    // Process the vertices\n    var minNode = minVertex(D, nodes, marks);\n    var minNodeId = minNode.id;\n    marks[minNodeId] = true;\n    if (D[minNodeId] === Infinity) return \"continue\"; // Unreachable vertices cannot be the intermediate point\n\n    var relatedEdges = [];\n    if (directed) relatedEdges = getOutEdgesNodeId(minNodeId, edges);else relatedEdges = getEdgesByNodeId(minNodeId, edges);\n    relatedEdges.forEach(function (edge) {\n      var edgeTarget = edge.target;\n      var edgeSource = edge.source;\n      var w = edgeTarget === minNodeId ? edgeSource : edgeTarget;\n      var weight = weightPropertyName && edge[weightPropertyName] ? edge[weightPropertyName] : 1;\n\n      if (D[w] > D[minNode.id] + weight) {\n        D[w] = D[minNode.id] + weight;\n        prevs[w] = [minNode.id];\n      } else if (D[w] === D[minNode.id] + weight) {\n        prevs[w].push(minNode.id);\n      }\n    });\n  };\n\n  for (var i = 0; i < nodeNum; i++) {\n    _loop_1(i);\n  }\n\n  prevs[source] = [source]; // \n\n  var paths = {};\n\n  for (var target in D) {\n    if (D[target] !== Infinity) {\n      findAllPaths(source, target, prevs, paths);\n    }\n  } // \n\n\n  var path = {};\n\n  for (var target in paths) {\n    path[target] = paths[target][0];\n  }\n\n  return {\n    length: D,\n    path: path,\n    allPath: paths\n  };\n};\n\nexport default dijkstra;\n\nfunction findAllPaths(source, target, prevs, foundPaths) {\n  if (source === target) {\n    return [source];\n  }\n\n  if (foundPaths[target]) {\n    return foundPaths[target];\n  }\n\n  var paths = [];\n\n  for (var _i = 0, _a = prevs[target]; _i < _a.length; _i++) {\n    var prev = _a[_i];\n    var prevPaths = findAllPaths(source, prev, prevs, foundPaths);\n    if (!prevPaths) return;\n\n    for (var _b = 0, prevPaths_1 = prevPaths; _b < prevPaths_1.length; _b++) {\n      var prePath = prevPaths_1[_b];\n      if (isArray(prePath)) paths.push(__spreadArray(__spreadArray([], prePath), [target]));else paths.push([prePath, target]);\n    }\n  }\n\n  foundPaths[target] = paths;\n  return foundPaths[target];\n}","import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // \n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};","import getAdjMatrix from \"./adjacent-matrix\";\n\nvar floydWarshall = function floydWarshall(graphData, directed) {\n  var adjacentMatrix = getAdjMatrix(graphData, directed);\n  var dist = [];\n  var size = adjacentMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjacentMatrix[i][j] === 0 || !adjacentMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjacentMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n\nexport default floydWarshall;","import getAdjMatrix from './adjacent-matrix';\nimport { uniqueId } from './util';\n/**\n * \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param maxIteration \n */\n\nvar labelPropagation = function labelPropagation(graphData, directed, weightPropertyName, maxIteration) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (maxIteration === void 0) {\n    maxIteration = 1000;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = uniqueId();\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {};\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n    });\n    ks.push(k);\n  });\n  var iter = 0;\n\n  var _loop_1 = function _loop_1() {\n    var changed = false;\n    nodes.forEach(function (node) {\n      var neighborClusters = {};\n      Object.keys(neighbors[node.id]).forEach(function (neighborId) {\n        var neighborWeight = neighbors[node.id][neighborId];\n        var neighborNode = nodeMap[neighborId].node;\n        var neighborClusterId = neighborNode.clusterId;\n        if (!neighborClusters[neighborClusterId]) neighborClusters[neighborClusterId] = 0;\n        neighborClusters[neighborClusterId] += neighborWeight;\n      }); // find the cluster with max weight\n\n      var maxWeight = -Infinity;\n      var bestClusterIds = [];\n      Object.keys(neighborClusters).forEach(function (clusterId) {\n        if (maxWeight < neighborClusters[clusterId]) {\n          maxWeight = neighborClusters[clusterId];\n          bestClusterIds = [clusterId];\n        } else if (maxWeight === neighborClusters[clusterId]) {\n          bestClusterIds.push(clusterId);\n        }\n      });\n      if (bestClusterIds.length === 1 && bestClusterIds[0] === node.clusterId) return;\n      var selfClusterIdx = bestClusterIds.indexOf(node.clusterId);\n      if (selfClusterIdx >= 0) bestClusterIds.splice(selfClusterIdx, 1);\n\n      if (bestClusterIds && bestClusterIds.length) {\n        changed = true; // remove from origin cluster\n\n        var selfCluster = clusters[node.clusterId];\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node);\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // move the node to the best cluster\n\n        var randomIdx = Math.floor(Math.random() * bestClusterIds.length);\n        var bestCluster = clusters[bestClusterIds[randomIdx]];\n        bestCluster.nodes.push(node);\n        node.clusterId = bestCluster.id;\n      }\n    });\n    if (!changed) return \"break\";\n    iter++;\n  };\n\n  while (iter < maxIteration) {\n    var state_1 = _loop_1();\n\n    if (state_1 === \"break\") break;\n  } // delete the empty clusters\n\n\n  Object.keys(clusters).forEach(function (clusterId) {\n    var cluster = clusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete clusters[clusterId];\n    }\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = sourceClusterId + \"---\" + targetClusterId;\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(clusters).forEach(function (clusterId) {\n    clustersArray.push(clusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default labelPropagation;","import getAdjMatrix from './adjacent-matrix';\n\nvar getModularity = function getModularity(nodes, adjMatrix, ks, m) {\n  var length = adjMatrix.length;\n  var param = 2 * m;\n  var modularity = 0;\n\n  for (var i = 0; i < length; i++) {\n    var clusteri = nodes[i].clusterId;\n\n    for (var j = 0; j < length; j++) {\n      var clusterj = nodes[j].clusterId;\n      if (clusteri !== clusterj) continue;\n      var entry = adjMatrix[i][j] || 0;\n      var ki = ks[i] || 0;\n      var kj = ks[j] || 0;\n      modularity += entry - ki * kj / param;\n    }\n  }\n\n  modularity *= 1 / param;\n  return modularity;\n};\n/**\n *  louvain \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param threshold\n */\n\n\nvar louvain = function louvain(graphData, directed, weightPropertyName, threshold) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.0001;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var uniqueId = 1;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = String(uniqueId++);\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {}; // the sum of the weights of all edges in the graph\n\n  var m = 0;\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n      m += entry;\n    });\n    ks.push(k);\n  });\n  m /= 2;\n  var totalModularity = Infinity;\n  var previousModularity = Infinity;\n  var iter = 0;\n\n  while (true) {\n    // whether to terminate the iterations\n    totalModularity = getModularity(nodes, adjMatrix, ks, m);\n    if (Math.abs(totalModularity - previousModularity) < threshold || iter > 100) break;\n    previousModularity = totalModularity;\n    iter++; // pre compute some values for current clusters\n\n    Object.keys(clusters).forEach(function (clusterId) {\n      // sum of weights of edges to nodes in cluster\n      var sumTot = 0;\n      edges.forEach(function (edge) {\n        var source = edge.source,\n            target = edge.target;\n        var sourceClusterId = nodeMap[source].node.clusterId;\n        var targetClusterId = nodeMap[target].node.clusterId;\n\n        if (sourceClusterId === clusterId && targetClusterId !== clusterId || targetClusterId === clusterId && sourceClusterId !== clusterId) {\n          sumTot = sumTot + (edge[weightPropertyName] || 1);\n        }\n      });\n      clusters[clusterId].sumTot = sumTot;\n    }); // move the nodes to increase the delta modularity\n\n    nodes.forEach(function (node, i) {\n      var selfCluster = clusters[node.clusterId];\n      var bestIncrease = 0;\n      var bestCluster;\n      var commonParam = ks[i] / (2 * m); // sum of weights of edges from node to nodes in cluster\n\n      var kiin = 0;\n      var selfClusterNodes = selfCluster.nodes;\n      selfClusterNodes.forEach(function (scNode) {\n        var scNodeIdx = nodeMap[scNode.id].idx;\n        kiin += adjMatrix[i][scNodeIdx] || 0;\n      }); // the modurarity for **removing** the node i from the origin cluster of node i\n\n      var removeModurarity = kiin - selfCluster.sumTot * commonParam; // the neightbors of the node\n\n      var nodeNeighborIds = neighbors[node.id];\n      Object.keys(nodeNeighborIds).forEach(function (neighborNodeId) {\n        var neighborNode = nodeMap[neighborNodeId].node;\n        var neighborClusterId = neighborNode.clusterId; // if the node and the neighbor of node are in the same cluster, reutrn\n\n        if (neighborClusterId === node.clusterId) return;\n        var neighborCluster = clusters[neighborClusterId];\n        var clusterNodes = neighborCluster.nodes; // if the cluster is empty, remove the cluster and return\n\n        if (!clusterNodes || !clusterNodes.length) return; // sum of weights of edges from node to nodes in cluster\n\n        var neighborClusterKiin = 0;\n        clusterNodes.forEach(function (cNode) {\n          var cNodeIdx = nodeMap[cNode.id].idx;\n          neighborClusterKiin += adjMatrix[i][cNodeIdx] || 0;\n        }); // modurarity for **adding** node i into this neighbor cluster\n\n        var addModurarity = neighborClusterKiin - neighborCluster.sumTot * commonParam; // the increase modurarity is the difference between addModurarity and removeModurarity\n\n        var increase = addModurarity - removeModurarity; // find the best cluster to move node i into\n\n        if (increase > bestIncrease) {\n          bestIncrease = increase;\n          bestCluster = neighborCluster;\n        }\n      }); // if found a best cluster to move into\n\n      if (bestIncrease > 0) {\n        bestCluster.nodes.push(node);\n        var previousClusterId_1 = node.clusterId;\n        node.clusterId = bestCluster.id; // move the node to the best cluster\n\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node); // remove from origin cluster\n\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // update sumTot for clusters\n        // sum of weights of edges to nodes in cluster\n\n        var neighborClusterSumTot_1 = 0;\n        var selfClusterSumTot_1 = 0;\n        edges.forEach(function (edge) {\n          var source = edge.source,\n              target = edge.target;\n          var sourceClusterId = nodeMap[source].node.clusterId;\n          var targetClusterId = nodeMap[target].node.clusterId;\n\n          if (sourceClusterId === bestCluster.id && targetClusterId !== bestCluster.id || targetClusterId === bestCluster.id && sourceClusterId !== bestCluster.id) {\n            neighborClusterSumTot_1 = neighborClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n\n          if (sourceClusterId === previousClusterId_1 && targetClusterId !== previousClusterId_1 || targetClusterId === previousClusterId_1 && sourceClusterId !== previousClusterId_1) {\n            selfClusterSumTot_1 = selfClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n        }); // the nodes of the clusters to move into and remove are changed, update their sumTot\n\n        bestCluster.sumTot = neighborClusterSumTot_1;\n        selfCluster.sumTot = selfClusterSumTot_1;\n      }\n    });\n  } // delete the empty clusters, assign increasing clusterId\n\n\n  var newClusterIdMap = {};\n  var clusterIdx = 0;\n  Object.keys(clusters).forEach(function (clusterId) {\n    var cluster = clusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete clusters[clusterId];\n      return;\n    }\n\n    var newId = String(clusterIdx + 1);\n\n    if (newId === clusterId) {\n      return;\n    }\n\n    cluster.id = newId;\n    cluster.nodes = cluster.nodes.map(function (item) {\n      return {\n        id: item.id,\n        clusterId: newId\n      };\n    });\n    clusters[newId] = cluster;\n    newClusterIdMap[clusterId] = newId;\n    delete clusters[clusterId];\n    clusterIdx++;\n  });\n  nodes.forEach(function (node) {\n    if (node.clusterId && newClusterIdMap[node.clusterId]) node.clusterId = newClusterIdMap[node.clusterId];\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = sourceClusterId + \"---\" + targetClusterId;\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(clusters).forEach(function (clusterId) {\n    clustersArray.push(clusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default louvain;","/**\n *  Disjoint set to support quick union\n */\nvar UnionFind =\n/** @class */\nfunction () {\n  function UnionFind(items) {\n    this.count = items.length;\n    this.parent = {};\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var i = items_1[_i];\n      this.parent[i] = i;\n    }\n  } // find the root of the item\n\n\n  UnionFind.prototype.find = function (item) {\n    while (this.parent[item] !== item) {\n      item = this.parent[item];\n    }\n\n    return item;\n  };\n\n  UnionFind.prototype.union = function (a, b) {\n    var rootA = this.find(a);\n    var rootB = this.find(b);\n    if (rootA === rootB) return; // make the element with smaller root the parent\n\n    if (rootA < rootB) {\n      if (this.parent[b] !== b) this.union(this.parent[b], a);\n      this.parent[b] = this.parent[a];\n    } else {\n      if (this.parent[a] !== a) this.union(this.parent[a], b);\n      this.parent[a] = this.parent[b];\n    }\n  }; // whether a and b are connected, i.e. a and b have the same root\n\n\n  UnionFind.prototype.connected = function (a, b) {\n    return this.find(a) === this.find(b);\n  };\n\n  return UnionFind;\n}();\n\nexport default UnionFind;","var defaultCompare = function defaultCompare(a, b) {\n  return a - b;\n};\n\nvar MinBinaryHeap =\n/** @class */\nfunction () {\n  function MinBinaryHeap(compareFn) {\n    if (compareFn === void 0) {\n      compareFn = defaultCompare;\n    }\n\n    this.compareFn = compareFn;\n    this.list = [];\n  }\n\n  MinBinaryHeap.prototype.getLeft = function (index) {\n    return 2 * index + 1;\n  };\n\n  MinBinaryHeap.prototype.getRight = function (index) {\n    return 2 * index + 2;\n  };\n\n  MinBinaryHeap.prototype.getParent = function (index) {\n    if (index === 0) {\n      return null;\n    }\n\n    return Math.floor((index - 1) / 2);\n  };\n\n  MinBinaryHeap.prototype.isEmpty = function () {\n    return this.list.length <= 0;\n  };\n\n  MinBinaryHeap.prototype.top = function () {\n    return this.isEmpty() ? undefined : this.list[0];\n  };\n\n  MinBinaryHeap.prototype.delMin = function () {\n    var top = this.top();\n    var bottom = this.list.pop();\n\n    if (this.list.length > 0) {\n      this.list[0] = bottom;\n      this.moveDown(0);\n    }\n\n    return top;\n  };\n\n  MinBinaryHeap.prototype.insert = function (value) {\n    if (value !== null) {\n      this.list.push(value);\n      var index = this.list.length - 1;\n      this.moveUp(index);\n      return true;\n    }\n\n    return false;\n  };\n\n  MinBinaryHeap.prototype.moveUp = function (index) {\n    var parent = this.getParent(index);\n\n    while (index && index > 0 && this.compareFn(this.list[parent], this.list[index]) > 0) {\n      // swap\n      var tmp = this.list[parent];\n      this.list[parent] = this.list[index];\n      this.list[index] = tmp; // [this.list[index], this.list[parent]] = [this.list[parent], this.list[index]]\n\n      index = parent;\n      parent = this.getParent(index);\n    }\n  };\n\n  MinBinaryHeap.prototype.moveDown = function (index) {\n    var _a;\n\n    var element = index;\n    var left = this.getLeft(index);\n    var right = this.getRight(index);\n    var size = this.list.length;\n\n    if (left !== null && left < size && this.compareFn(this.list[element], this.list[left]) > 0) {\n      element = left;\n    } else if (right !== null && right < size && this.compareFn(this.list[element], this.list[right]) > 0) {\n      element = right;\n    }\n\n    if (index !== element) {\n      _a = [this.list[element], this.list[index]], this.list[index] = _a[0], this.list[element] = _a[1];\n      this.moveDown(element);\n    }\n  };\n\n  return MinBinaryHeap;\n}();\n\nexport default MinBinaryHeap;","import UnionFind from './structs/union-find';\nimport MinBinaryHeap from './structs/binary-heap';\nimport { getEdgesByNodeId } from './util';\n/**\n * Prim algorithmuse priority queue O(E+V*logV), V: E: \n * refer: https://en.wikipedia.org/wiki/Prim%27s_algorithm\n * @param graph\n * @param weight \n */\n\nvar primMST = function primMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // nodes[0]\n\n\n  var currNode = nodes[0];\n  var visited = new Set();\n  visited.add(currNode); // \n\n  var compareWeight = function compareWeight(a, b) {\n    if (weight) {\n      return a.weight - b.weight;\n    }\n\n    return 0;\n  };\n\n  var edgeQueue = new MinBinaryHeap(compareWeight);\n  getEdgesByNodeId(currNode.id, edges).forEach(function (edge) {\n    edgeQueue.insert(edge);\n  });\n\n  while (!edgeQueue.isEmpty()) {\n    // \n    var currEdge = edgeQueue.delMin();\n    var source = currEdge.source;\n    var target = currEdge.target;\n    if (visited.has(source) && visited.has(target)) continue;\n    selectedEdges.push(currEdge);\n\n    if (!visited.has(source)) {\n      visited.add(source);\n      getEdgesByNodeId(source, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n\n    if (!visited.has(target)) {\n      visited.add(target);\n      getEdgesByNodeId(target, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * Kruskal algorithm O(E*logE), E: \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @return IEdge[] MST\n */\n\n\nvar kruskalMST = function kruskalMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // weight\n\n\n  var weightEdges = edges.map(function (edge) {\n    return edge;\n  });\n\n  if (weight) {\n    weightEdges.sort(function (a, b) {\n      return a.weight - b.weight;\n    });\n  }\n\n  var disjointSet = new UnionFind(nodes.map(function (n) {\n    return n.id;\n  })); // G\n  // \n\n  while (weightEdges.length > 0) {\n    var curEdge = weightEdges.shift();\n    var source = curEdge.source;\n    var target = curEdge.target;\n\n    if (!disjointSet.connected(source, target)) {\n      selectedEdges.push(curEdge);\n      disjointSet.union(source, target);\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @param algo 'prim' | 'kruskal' \n * @return EdgeConfig[] MST\n */\n\n\nvar minimumSpanningTree = function minimumSpanningTree(graphData, weight, algo) {\n  var algos = {\n    prim: primMST,\n    kruskal: kruskalMST\n  };\n  if (!algo) return kruskalMST(graphData, weight);\n  return algos[algo](graphData, weight);\n};\n\nexport default minimumSpanningTree;","import degree from './degree';\nimport { getNeighbors } from \"./util\";\n/**\n * PageRank https://en.wikipedia.org/wiki/PageRank\n * refer: https://github.com/anvaka/ngraph.pagerank\n * @param graph\n * @param epsilon  0.000001\n * @param linkProb dumping factor 0.85\n */\n\nvar pageRank = function pageRank(graphData, epsilon, linkProb) {\n  if (typeof epsilon !== 'number') epsilon = 0.000001;\n  if (typeof linkProb !== 'number') linkProb = 0.85;\n  var distance = 1;\n  var leakedRank = 0;\n  var maxIterations = 1000;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodesCount = nodes.length;\n  var currentRank;\n  var curRanks = {};\n  var prevRanks = {}; // Initialize pageranks \n\n  for (var j = 0; j < nodesCount; ++j) {\n    var node = nodes[j];\n    var nodeId = node.id;\n    curRanks[nodeId] = 1 / nodesCount;\n    prevRanks[nodeId] = 1 / nodesCount;\n  }\n\n  var nodeDegree = degree(graphData);\n\n  while (maxIterations > 0 && distance > epsilon) {\n    leakedRank = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = 0;\n\n      if (nodeDegree[node.id].inDegree === 0) {\n        curRanks[nodeId] = 0;\n      } else {\n        var neighbors = getNeighbors(nodeId, edges, 'source');\n\n        for (var i = 0; i < neighbors.length; ++i) {\n          var neighbor = neighbors[i];\n          var outDegree = nodeDegree[neighbor].outDegree;\n          if (outDegree > 0) currentRank += prevRanks[neighbor] / outDegree;\n        }\n\n        curRanks[nodeId] = linkProb * currentRank;\n        leakedRank += curRanks[nodeId];\n      }\n    }\n\n    leakedRank = (1 - leakedRank) / nodesCount;\n    distance = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = curRanks[nodeId] + leakedRank;\n      distance += Math.abs(currentRank - prevRanks[nodeId]);\n      prevRanks[nodeId] = currentRank;\n    }\n\n    maxIterations -= 1;\n  }\n\n  return prevRanks;\n};\n\nexport default pageRank;","export var VACANT_EDGE_ID = -1;\nexport var VACANT_NODE_ID = -1;\nexport var VACANT_EDGE_LABEL = \"-1\";\nexport var VACANT_NODE_LABEL = \"-1\";\nexport var VACANT_GRAPH_ID = -1;\nexport var AUTO_EDGE_ID = \"-1\";\n\nvar Edge =\n/** @class */\nfunction () {\n  function Edge(id, from, to, label) {\n    if (id === void 0) {\n      id = VACANT_EDGE_ID;\n    }\n\n    if (from === void 0) {\n      from = VACANT_NODE_ID;\n    }\n\n    if (to === void 0) {\n      to = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_EDGE_LABEL;\n    }\n\n    this.id = id;\n    this.from = from;\n    this.to = to;\n    this.label = label;\n  }\n\n  return Edge;\n}();\n\nexport { Edge };\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id, label) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_NODE_LABEL;\n    }\n\n    this.id = id;\n    this.label = label;\n    this.edges = [];\n    this.edgeMap = {};\n  }\n\n  Node.prototype.addEdge = function (edge) {\n    this.edges.push(edge);\n    this.edgeMap[edge.id] = edge;\n  };\n\n  return Node;\n}();\n\nexport { Node };\n\nvar Graph =\n/** @class */\nfunction () {\n  function Graph(id, edgeIdAutoIncrease, directed) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (edgeIdAutoIncrease === void 0) {\n      edgeIdAutoIncrease = true;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    this.id = id;\n    this.edgeIdAutoIncrease = edgeIdAutoIncrease;\n    this.edges = [];\n    this.nodes = [];\n    this.nodeMap = {};\n    this.edgeMap = {};\n    this.nodeLabelMap = {};\n    this.edgeLabelMap = {};\n    this.counter = 0;\n    this.directed = directed;\n  }\n\n  Graph.prototype.getNodeNum = function () {\n    return this.nodes.length;\n  };\n\n  Graph.prototype.addNode = function (id, label) {\n    if (this.nodeMap[id]) return;\n    var node = new Node(id, label);\n    this.nodes.push(node);\n    this.nodeMap[id] = node;\n    if (!this.nodeLabelMap[label]) this.nodeLabelMap[label] = [];\n    this.nodeLabelMap[label].push(id);\n  };\n\n  Graph.prototype.addEdge = function (id, from, to, label) {\n    if (this.edgeIdAutoIncrease || id === undefined) id = this.counter++;\n    if (this.nodeMap[from] && this.nodeMap[to] && this.nodeMap[to].edgeMap[id]) return;\n    var edge = new Edge(id, from, to, label);\n    this.edges.push(edge);\n    this.edgeMap[id] = edge;\n    this.nodeMap[from].addEdge(edge);\n    if (!this.edgeLabelMap[label]) this.edgeLabelMap[label] = [];\n    this.edgeLabelMap[label].push(edge);\n\n    if (!this.directed) {\n      var rEdge = new Edge(id, to, from, label);\n      this.nodeMap[to].addEdge(rEdge);\n      this.edgeLabelMap[label].push(rEdge);\n    }\n  };\n\n  return Graph;\n}();\n\nexport { Graph };","import { clone } from \"@antv/util\";\nimport { Graph, VACANT_NODE_LABEL, VACANT_GRAPH_ID, VACANT_EDGE_LABEL } from \"./struct\";\n\nvar DFSedge =\n/** @class */\nfunction () {\n  function DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.fromNode = fromNode;\n    this.toNode = toNode;\n    this.nodeEdgeNodeLabel = {\n      nodeLabel1: fromNodeLabel || VACANT_NODE_LABEL,\n      edgeLabel: edgeLabel || VACANT_EDGE_LABEL,\n      nodeLabel2: toNodeLabel || VACANT_NODE_LABEL\n    };\n  }\n\n  DFSedge.prototype.equalTo = function (other) {\n    return this.fromNode === other.formNode && this.toNode === other.toNode && this.nodeEdgeNodeLabel === other.nodeEdgeNodeLabel;\n  };\n\n  DFSedge.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n\n  return DFSedge;\n}(); // DFScode  DESedge \n\n\nvar DFScode =\n/** @class */\nfunction () {\n  function DFScode() {\n    this.rmpath = [];\n    this.dfsEdgeList = [];\n  }\n\n  DFScode.prototype.equalTo = function (other) {\n    var aLength = this.dfsEdgeList.length;\n    var bLength = other.length;\n    if (aLength !== bLength) return false;\n\n    for (var i = 0; i < aLength; i++) {\n      if (this.dfsEdgeList[i] !== other[i]) return false;\n    }\n\n    return true;\n  };\n\n  DFScode.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n  /**  edge  DFScode */\n\n\n  DFScode.prototype.pushBack = function (fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.dfsEdgeList.push(new DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel));\n    return this.dfsEdgeList;\n  };\n  /**  dfs  */\n\n\n  DFScode.prototype.toGraph = function (graphId, directed) {\n    if (graphId === void 0) {\n      graphId = VACANT_GRAPH_ID;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    var graph = new Graph(graphId, true, directed);\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      var fromNodeId = dfsEdge.fromNode;\n      var toNodeId = dfsEdge.toNode;\n      var _a = dfsEdge.nodeEdgeNodeLabel,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n      if (nodeLabel1 !== VACANT_NODE_LABEL) graph.addNode(fromNodeId, nodeLabel1);\n      if (nodeLabel2 !== VACANT_NODE_LABEL) graph.addNode(toNodeId, nodeLabel2);\n      graph.addEdge(undefined, fromNodeId, toNodeId, edgeLabel);\n    });\n    return graph;\n  }; //  rightmost path\n\n\n  DFScode.prototype.buildRmpath = function () {\n    this.rmpath = [];\n    var oldFrom = undefined;\n    var selfLength = this.dfsEdgeList.length;\n\n    for (var i = selfLength - 1; i >= 0; i--) {\n      var dfsEdge = this.dfsEdgeList[i];\n      var fromNodeIdx = dfsEdge.fromNode;\n      var toNodeIdx = dfsEdge.toNode;\n\n      if (fromNodeIdx < toNodeIdx && (oldFrom === undefined || toNodeIdx === oldFrom)) {\n        this.rmpath.push(i);\n        oldFrom = fromNodeIdx;\n      }\n    }\n\n    return this.rmpath;\n  };\n\n  DFScode.prototype.getNodeNum = function () {\n    var nodeMap = {};\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      if (!nodeMap[dfsEdge.fromNode]) nodeMap[dfsEdge.fromNode] = true;\n      if (!nodeMap[dfsEdge.toNode]) nodeMap[dfsEdge.toNode] = true;\n    });\n    return Object.keys(nodeMap).length;\n  };\n\n  return DFScode;\n}();\n\nvar History =\n/** @class */\nfunction () {\n  function History(pdfs) {\n    this.his = {};\n    this.nodesUsed = {};\n    this.edgesUsed = {};\n    this.edges = [];\n    if (!pdfs) return;\n\n    while (pdfs) {\n      var e = pdfs.edge;\n      this.edges.push(e);\n      this.nodesUsed[e.from] = 1;\n      this.nodesUsed[e.to] = 1;\n      this.edgesUsed[e.id] = 1;\n      pdfs = pdfs.preNode;\n    } // \n\n\n    this.edges = this.edges.reverse();\n  }\n\n  History.prototype.hasNode = function (node) {\n    return this.nodesUsed[node.id] === 1;\n  };\n\n  History.prototype.hasEdge = function (edge) {\n    return this.edgesUsed[edge.id] === 1;\n  };\n\n  return History;\n}();\n\nvar GSpan =\n/** @class */\nfunction () {\n  function GSpan(_a) {\n    var graphs = _a.graphs,\n        _b = _a.minSupport,\n        minSupport = _b === void 0 ? 2 : _b,\n        _c = _a.minNodeNum,\n        minNodeNum = _c === void 0 ? 1 : _c,\n        _d = _a.maxNodeNum,\n        maxNodeNum = _d === void 0 ? 4 : _d,\n        _e = _a.top,\n        top = _e === void 0 ? 10 : _e,\n        _f = _a.directed,\n        directed = _f === void 0 ? false : _f,\n        _g = _a.verbose,\n        verbose = _g === void 0 ? false : _g; // -------- -------\n\n    this.graphs = graphs;\n    this.dfsCode = new DFScode();\n    this.support = 0;\n    this.frequentSize1Subgraphs = [];\n    this.frequentSubgraphs = [];\n    this.minSupport = minSupport;\n    this.top = top;\n    this.directed = directed;\n    this.counter = 0; // TODO? timestamp = {}\n\n    this.maxNodeNum = maxNodeNum;\n    this.minNodeNum = minNodeNum;\n    this.verbose = verbose;\n    if (this.maxNodeNum < this.minNodeNum) this.maxNodeNum = this.minNodeNum;\n    this.reportDF = []; // matrix\n  } // Line 352\n\n\n  GSpan.prototype.findForwardRootEdges = function (graph, fromNode) {\n    var _this = this;\n\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    fromNode.edges.forEach(function (edge) {\n      if (_this.directed || fromNode.label <= nodeMap[edge.to].label) result.push(edge);\n    });\n    return result;\n  };\n\n  GSpan.prototype.findBackwardEdge = function (graph, edge1, edge2, history) {\n    if (!this.directed && edge1 === edge2) return null;\n    var nodeMap = graph.nodeMap;\n    var edge2To = nodeMap[edge2.to];\n    var edge2ToEdges = edge2To.edges;\n    var edgeLength = edge2ToEdges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edge2ToEdges[i];\n      if (history.hasEdge(edge) || edge.to !== edge1.from) continue;\n\n      if (!this.directed) {\n        if (edge1.label < edge.label || edge1.label === edge.label && nodeMap[edge1.to].label <= nodeMap[edge2.to].label) {\n          return edge;\n        }\n      } else {\n        if (nodeMap[edge1.from].label < nodeMap[edge2.to].label || nodeMap[edge1.from].label === nodeMap[edge2.to].label && edge1.label <= edge.label) {\n          return edge;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  GSpan.prototype.findForwardPureEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var rightmostEdgeToId = rightmostEdge.to;\n    var edges = graph.nodeMap[rightmostEdgeToId].edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var toNode = graph.nodeMap[edge.to];\n\n      if (minNodeLabel <= toNode.label && !history.hasNode(toNode)) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.findForwardRmpathEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    var toNodeLabel = nodeMap[rightmostEdge.to].label;\n    var fromNode = nodeMap[rightmostEdge.from];\n    var edges = fromNode.edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var newToNodeLabel = nodeMap[edge.to].label;\n\n      if (rightmostEdge.to === edge.to || minNodeLabel > newToNodeLabel || history.hasNode(nodeMap[edge.to])) {\n        continue;\n      }\n\n      if (rightmostEdge.label < edge.label || rightmostEdge.label === edge.label && toNodeLabel <= newToNodeLabel) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.getSupport = function (projected) {\n    var graphMap = {};\n    projected.forEach(function (pro) {\n      if (!graphMap[pro.graphId]) graphMap[pro.graphId] = true;\n    });\n    return Object.keys(graphMap).length;\n  };\n\n  GSpan.prototype.findMinLabel = function (obj) {\n    var minLabel = undefined;\n    Object.keys(obj).forEach(function (nodeEdgeNodeLabel) {\n      var _a = obj[nodeEdgeNodeLabel],\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      if (!minLabel) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n        return;\n      }\n\n      if (nodeLabel1 < minLabel.nodeLabel1 || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel < minLabel.edgeLabel || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel === minLabel.edgeLabel && nodeLabel2 < minLabel.nodeLabel2) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n      }\n    });\n    return minLabel;\n  };\n\n  GSpan.prototype.isMin = function () {\n    var _this = this;\n\n    var dfsCode = this.dfsCode;\n    if (this.verbose) console.log(\"isMin checking\", dfsCode);\n    if (dfsCode.dfsEdgeList.length === 1) return true;\n    var directed = this.directed;\n    var graph = dfsCode.toGraph(VACANT_GRAPH_ID, directed);\n    var nodeMap = graph.nodeMap;\n    var dfsCodeMin = new DFScode();\n    var root = {};\n    graph.nodes.forEach(function (node) {\n      var forwardEdges = _this.findForwardRootEdges(graph, node);\n\n      forwardEdges.forEach(function (edge) {\n        var otherNode = nodeMap[edge.to];\n        var nodeEdgeNodeLabel = node.label + \"-\" + edge.label + \"-\" + otherNode.label;\n        if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n          projected: [],\n          nodeLabel1: node.label,\n          edgeLabel: edge.label,\n          nodeLabel2: otherNode.label\n        };\n        var pdfs = {\n          graphId: graph.id,\n          edge: edge,\n          preNode: null\n        };\n        root[nodeEdgeNodeLabel].projected.push(pdfs);\n      });\n    }); //  root  nodeEdgeNodeLabel  nodeLabel1edgeLabenodeLabel2 \n\n    var minLabel = this.findMinLabel(root); // line 419\n\n    dfsCodeMin.dfsEdgeList.push(new DFSedge(0, 1, minLabel.nodeLabel1, minLabel.edgeLabel, minLabel.nodeLabel2)); // line 423\n\n    var projectIsMin = function projectIsMin(projected) {\n      // right most path\n      var rmpath = dfsCodeMin.buildRmpath();\n      var minNodeLabel = dfsCodeMin.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n      var maxToC = dfsCodeMin.dfsEdgeList[rmpath[0]].toNode; // node id\n\n      var backwardRoot = {};\n      var flag = false,\n          newTo = 0;\n      var end = directed ? -1 : 0; //  1  0\n\n      var _loop_1 = function _loop_1(i) {\n        if (flag) return \"break\"; // line 435\n\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n          if (backwardEdge) {\n            // Line 441\n            if (!backwardRoot[backwardEdge.label]) {\n              backwardRoot[backwardEdge.label] = {\n                projected: [],\n                edgeLabel: backwardEdge.label\n              };\n            }\n\n            backwardRoot[backwardEdge.label].projected.push({\n              graphId: graph.id,\n              edge: backwardRoot,\n              preNode: p\n            });\n            newTo = dfsCodeMin.dfsEdgeList[rmpath[i]].fromNode;\n            flag = true;\n          }\n        });\n      };\n\n      for (var i = rmpath.length - 1; i > end; i--) {\n        var state_1 = _loop_1(i);\n\n        if (state_1 === \"break\") break;\n      }\n\n      if (flag) {\n        var minBackwardEdgeLabel = _this.findMinLabel(backwardRoot);\n\n        dfsCodeMin.dfsEdgeList.push(new DFSedge(maxToC, newTo, VACANT_NODE_LABEL, minBackwardEdgeLabel.edgeLabel, VACANT_NODE_LABEL));\n        var idx_1 = dfsCodeMin.dfsEdgeList.length - 1;\n        if (_this.dfsCode.dfsEdgeList[idx_1] !== dfsCodeMin.dfsEdgeList[idx_1]) return false;\n        return projectIsMin(backwardRoot[minBackwardEdgeLabel.edgeLabel].projected);\n      }\n\n      var forwardRoot = {};\n      flag = false;\n      var newFrom = 0;\n      projected.forEach(function (p) {\n        var history = new History(p);\n\n        var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n        if (forwardPureEdges.length > 0) {\n          flag = true;\n          newFrom = maxToC;\n          forwardPureEdges.forEach(function (edge) {\n            var key = edge.label + \"-\" + nodeMap[edge.to].label;\n            if (!forwardRoot[key]) forwardRoot[key] = {\n              projected: [],\n              edgeLabel: edge.label,\n              nodeLabel2: nodeMap[edge.to].label\n            };\n            forwardRoot[key].projected.push({\n              graphId: graph.id,\n              edge: edge,\n              preNode: p\n            });\n          });\n        }\n      });\n      var pathLength = rmpath.length;\n\n      var _loop_2 = function _loop_2(i) {\n        if (flag) return \"break\";\n        var value = rmpath[i];\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[value], minNodeLabel, history);\n\n          if (forwardRmpathEdges.length > 0) {\n            flag = true;\n            newFrom = dfsCodeMin.dfsEdgeList[value].fromNode;\n            forwardRmpathEdges.forEach(function (edge) {\n              var key = edge.label + \"-\" + nodeMap[edge.to].label;\n              if (!forwardRoot[key]) forwardRoot[key] = {\n                projected: [],\n                edgeLabel: edge.label,\n                nodeLabel2: nodeMap[edge.to].label\n              };\n              forwardRoot[key].projected.push({\n                graphId: graph.id,\n                edge: edge,\n                preNode: p\n              });\n            });\n          }\n        });\n      };\n\n      for (var i = 0; i < pathLength; i++) {\n        var state_2 = _loop_2(i);\n\n        if (state_2 === \"break\") break;\n      }\n\n      if (!flag) return true;\n\n      var forwardMinEdgeNodeLabel = _this.findMinLabel(forwardRoot);\n\n      dfsCodeMin.dfsEdgeList.push(new DFSedge(newFrom, maxToC + 1, VACANT_NODE_LABEL, forwardMinEdgeNodeLabel.edgeLabel, forwardMinEdgeNodeLabel.nodeLabel2));\n      var idx = dfsCodeMin.dfsEdgeList.length - 1;\n      if (dfsCode.dfsEdgeList[idx] !== dfsCodeMin.dfsEdgeList[idx]) return false;\n      return projectIsMin(forwardRoot[forwardMinEdgeNodeLabel.edgeLabel + \"-\" + forwardMinEdgeNodeLabel.nodeLabel2].projected);\n    };\n\n    var key = minLabel.nodeLabel1 + \"-\" + minLabel.edgeLabel + \"-\" + minLabel.nodeLabel2;\n    return projectIsMin(root[key].projected);\n  };\n\n  GSpan.prototype.report = function () {\n    if (this.dfsCode.getNodeNum() < this.minNodeNum) return;\n    this.counter++;\n    var graph = this.dfsCode.toGraph(this.counter, this.directed);\n    this.frequentSubgraphs.push(clone(graph));\n  };\n\n  GSpan.prototype.subGraphMining = function (projected) {\n    var _this = this;\n\n    var support = this.getSupport(projected);\n    if (support < this.minSupport) return;\n    if (!this.isMin()) return;\n    this.report();\n    var nodeNum = this.dfsCode.getNodeNum();\n    var rmpath = this.dfsCode.buildRmpath();\n    var maxToC = this.dfsCode.dfsEdgeList[rmpath[0]].toNode;\n    var minNodeLabel = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n    var forwardRoot = {};\n    var backwardRoot = {};\n    projected.forEach(function (p) {\n      var graph = _this.graphs[p.graphId];\n      var nodeMap = graph.nodeMap;\n      var history = new History(p); // backward Line 526\n\n      for (var i = rmpath.length - 1; i >= 0; i--) {\n        var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n        if (backwardEdge) {\n          var key = _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode + \"-\" + backwardEdge.label;\n          if (!backwardRoot[key]) backwardRoot[key] = {\n            projected: [],\n            toNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: backwardEdge.label\n          };\n          backwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: backwardEdge,\n            preNode: p\n          });\n        }\n      } // pure forward\n\n\n      if (nodeNum >= _this.maxNodeNum) return;\n\n      var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n      forwardPureEdges.forEach(function (edge) {\n        var key = maxToC + \"-\" + edge.label + \"-\" + nodeMap[edge.to].label;\n        if (!forwardRoot[key]) forwardRoot[key] = {\n          projected: [],\n          fromNodeId: maxToC,\n          edgeLabel: edge.label,\n          nodeLabel2: nodeMap[edge.to].label\n        };\n        forwardRoot[key].projected.push({\n          graphId: p.graphId,\n          edge: edge,\n          preNode: p\n        });\n      });\n\n      var _loop_3 = function _loop_3(i) {\n        var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[rmpath[i]], minNodeLabel, history);\n\n        forwardRmpathEdges.forEach(function (edge) {\n          var key = _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode + \"-\" + edge.label + \"-\" + nodeMap[edge.to].label;\n          if (!forwardRoot[key]) forwardRoot[key] = {\n            projected: [],\n            fromNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: edge.label,\n            nodeLabel2: nodeMap[edge.to].label\n          };\n          forwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: edge,\n            preNode: p\n          });\n        });\n      }; // rmpath forward\n\n\n      for (var i = 0; i < rmpath.length; i++) {\n        _loop_3(i);\n      }\n    }); // backward\n\n    Object.keys(backwardRoot).forEach(function (key) {\n      var _a = backwardRoot[key],\n          toNodeId = _a.toNodeId,\n          edgeLabel = _a.edgeLabel;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(maxToC, toNodeId, \"-1\", edgeLabel, \"-1\"));\n\n      _this.subGraphMining(backwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    }); // forward\n\n    Object.keys(forwardRoot).forEach(function (key) {\n      var _a = forwardRoot[key],\n          fromNodeId = _a.fromNodeId,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(fromNodeId, maxToC + 1, VACANT_NODE_LABEL, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(forwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  GSpan.prototype.generate1EdgeFrequentSubGraphs = function () {\n    var graphs = this.graphs;\n    var directed = this.directed;\n    var minSupport = this.minSupport;\n    var frequentSize1Subgraphs = this.frequentSize1Subgraphs;\n    var nodeLabelCounter = {},\n        nodeEdgeNodeCounter = {}; //  mapkey  graphKey-node\n\n    var nodeLableCounted = {}; //  mapkey  graphKey-fromNode-edge-toNode\n\n    var nodeEdgeNodeLabelCounted = {};\n    Object.keys(graphs).forEach(function (key) {\n      // Line 271\n      var graph = graphs[key];\n      var nodeMap = graph.nodeMap; //    label  nodeLableCounted\n\n      graph.nodes.forEach(function (node, i) {\n        // Line 272\n        var nodeLabel = node.label;\n        var graphNodeKey = key + \"-\" + nodeLabel;\n\n        if (!nodeLableCounted[graphNodeKey]) {\n          var counter = nodeLabelCounter[nodeLabel] || 0;\n          counter++;\n          nodeLabelCounter[nodeLabel] = counter;\n        }\n\n        nodeLableCounted[graphNodeKey] = {\n          graphKey: key,\n          label: nodeLabel\n        }; //  nodeEdgeNodeLabelCounted. Line 276\n\n        node.edges.forEach(function (edge) {\n          var nodeLabel1 = nodeLabel;\n          var nodeLabel2 = nodeMap[edge.to].label;\n\n          if (!directed && nodeLabel1 > nodeLabel2) {\n            var tmp = nodeLabel2;\n            nodeLabel2 = nodeLabel1;\n            nodeLabel1 = tmp;\n          }\n\n          var edgeLabel = edge.label;\n          var graphNodeEdgeNodeKey = key + \"-\" + nodeLabel1 + \"-\" + edgeLabel + \"-\" + nodeLabel2;\n          var nodeEdgeNodeKey = nodeLabel1 + \"-\" + edgeLabel + \"-\" + nodeLabel2;\n\n          if (!nodeEdgeNodeCounter[nodeEdgeNodeKey]) {\n            var counter = nodeEdgeNodeCounter[nodeEdgeNodeKey] || 0;\n            counter++;\n            nodeEdgeNodeCounter[nodeEdgeNodeKey] = counter; // Line281\n          }\n\n          nodeEdgeNodeLabelCounted[graphNodeEdgeNodeKey] = {\n            graphId: key,\n            nodeLabel1: nodeLabel1,\n            edgeLabel: edgeLabel,\n            nodeLabel2: nodeLabel2\n          };\n        });\n      });\n    }); // \n\n    Object.keys(nodeLabelCounter).forEach(function (label) {\n      var count = nodeLabelCounter[label];\n      if (count < minSupport) return;\n      var g = {\n        nodes: [],\n        edges: []\n      };\n      g.nodes.push({\n        id: \"0\",\n        label: label\n      });\n      frequentSize1Subgraphs.push(g); // if (minNodeNum <= 1) reportSize1 TODO\n    });\n    return frequentSize1Subgraphs;\n  };\n\n  GSpan.prototype.run = function () {\n    var _this = this; // -------- , _generate_1edge_frequent_subgraphs-------\n\n\n    this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs();\n    if (this.maxNodeNum < 2) return;\n    var graphs = this.graphs;\n    var directed = this.directed; // PDFS  map Line 304\n\n    var root = {};\n    Object.keys(graphs).forEach(function (graphId) {\n      var graph = graphs[graphId];\n      var nodeMap = graph.nodeMap; // Line 306\n\n      graph.nodes.forEach(function (node) {\n        var forwardRootEdges = _this.findForwardRootEdges(graph, node); // Line 308\n\n\n        forwardRootEdges.forEach(function (edge) {\n          var toNode = nodeMap[edge.to];\n          var nodeEdgeNodeLabel = node.label + \"-\" + edge.label + \"-\" + toNode.label;\n          if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n            projected: [],\n            nodeLabel1: node.label,\n            edgeLabel: edge.label,\n            nodeLabel2: toNode.label\n          };\n          var pdfs = {\n            graphId: graphId,\n            edge: edge,\n            preNode: null\n          };\n          root[nodeEdgeNodeLabel].projected.push(pdfs);\n        });\n      });\n    }); // Line 313\n\n    Object.keys(root).forEach(function (nodeEdgeNodeLabel) {\n      var _a = root[nodeEdgeNodeLabel],\n          projected = _a.projected,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(0, 1, nodeLabel1, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  return GSpan;\n}();\n\nvar formatGraphs = function formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp) {\n  var result = {};\n  Object.keys(graphs).forEach(function (key, i) {\n    var graph = graphs[key];\n    var fGraph = new Graph(i, true, directed);\n    var nodeIdxMap = {};\n    graph.nodes.forEach(function (node, j) {\n      fGraph.addNode(j, node[nodeLabelProp]);\n      nodeIdxMap[node.id] = j;\n    });\n    graph.edges.forEach(function (edge, k) {\n      var sourceIdx = nodeIdxMap[edge.source];\n      var targetIdx = nodeIdxMap[edge.target];\n      fGraph.addEdge(-1, sourceIdx, targetIdx, edge[edgeLabelProp]);\n    });\n    if (fGraph && fGraph.getNodeNum()) result[fGraph.id] = fGraph;\n  });\n  return result;\n};\n\nvar toGraphDatas = function toGraphDatas(graphs, nodeLabelProp, edgeLabelProp) {\n  var result = [];\n  graphs.forEach(function (graph) {\n    var graphData = {\n      nodes: [],\n      edges: []\n    };\n    graph.nodes.forEach(function (node) {\n      var _a;\n\n      graphData.nodes.push((_a = {\n        id: \"\" + node.id\n      }, _a[nodeLabelProp] = node.label, _a));\n    });\n    graph.edges.forEach(function (edge) {\n      var _a;\n\n      graphData.edges.push((_a = {\n        source: \"\" + edge.from,\n        target: \"\" + edge.to\n      }, _a[edgeLabelProp] = edge.label, _a));\n    });\n    result.push(graphData);\n  });\n  return result;\n};\n\nvar DEFAULT_LABEL_NAME = \"cluster\";\n/**\n * gSpan frequent graph mining\n * @param params \n */\n\nvar gSpan = function gSpan(params) {\n  // -------  GraphData  map  -------\n  var graphs = params.graphs,\n      _a = params.directed,\n      directed = _a === void 0 ? false : _a,\n      _b = params.nodeLabelProp,\n      nodeLabelProp = _b === void 0 ? DEFAULT_LABEL_NAME : _b,\n      _c = params.edgeLabelProp,\n      edgeLabelProp = _c === void 0 ? DEFAULT_LABEL_NAME : _c;\n  var formattedGraphs = formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp);\n  var minSupport = params.minSupport,\n      maxNodeNum = params.maxNodeNum,\n      minNodeNum = params.minNodeNum,\n      verbose = params.verbose,\n      top = params.top; // -------  -------\n\n  var algoParams = {\n    graphs: formattedGraphs,\n    minSupport: minSupport,\n    maxNodeNum: maxNodeNum,\n    minNodeNum: minNodeNum,\n    top: top,\n    verbose: verbose,\n    directed: directed\n  };\n  var calculator = new GSpan(algoParams);\n  calculator.run();\n  var result = toGraphDatas(calculator.frequentSubgraphs, nodeLabelProp, edgeLabelProp);\n  return result;\n};\n\nexport default gSpan;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { __spreadArray } from \"tslib\";\nimport floydWarshall from './floydWarshall';\nimport gSpan from './gSpan/gSpan';\nimport dijkstra from './dijkstra';\nimport { uniqueId } from './util';\n/**\n *  graphData \n * @param graphData\n * @param spm\n * @param nodeLabelProp\n * @param k k-\n */\n\nvar findKNeighborUnits = function findKNeighborUnits(graphData, spm, nodeLabelProp, k) {\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (k === void 0) {\n    k = 2;\n  }\n\n  var units = [];\n  var nodes = graphData.nodes;\n  spm.forEach(function (row, i) {\n    units.push(findKNeighborUnit(nodes, row, i, nodeLabelProp, k));\n  });\n  return units;\n};\n\nvar findKNeighborUnit = function findKNeighborUnit(nodes, row, i, nodeLabelProp, k) {\n  var unitNodeIdxs = [i];\n  var neighbors = [];\n  var labelCountMap = {};\n  row.forEach(function (v, j) {\n    if (v <= k && i !== j) {\n      unitNodeIdxs.push(j);\n      neighbors.push(nodes[j]);\n      var label = nodes[j][nodeLabelProp];\n      if (!labelCountMap[label]) labelCountMap[label] = {\n        count: 1,\n        dists: [v]\n      };else {\n        labelCountMap[label].count++;\n        labelCountMap[label].dists.push(v);\n      }\n    }\n  }); //  labelCountMap  dists \n\n  Object.keys(labelCountMap).forEach(function (label) {\n    labelCountMap[label].dists = labelCountMap[label].dists.sort(function (a, b) {\n      return a - b;\n    });\n  });\n  return {\n    nodeIdx: i,\n    nodeId: nodes[i].id,\n    nodeIdxs: unitNodeIdxs,\n    neighbors: neighbors,\n    neighborNum: unitNodeIdxs.length - 1,\n    nodeLabelCountMap: labelCountMap\n  };\n};\n/**\n *  k\n * @param k  k k-\n * @param nodeNum  length\n * @param maxNodePairNum  maxNodePairNum\n * @param spm \n */\n\n\nvar findNodePairsRandomly = function findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm) {\n  // \n  var nodePairNumEachNode = Math.ceil(maxNodePairNum / nodeNum);\n  var nodePairMap = {};\n  var foundNodePairCount = 0; //  nodePairNumEachNode  k maxNodePairNum \n\n  kNeighborUnits.forEach(function (unit, i) {\n    //  nodePairNumEachNode(2 * nodeNum)\n    var nodePairForICount = 0;\n    var outerLoopCount = 0;\n    var neighbors = unit.nodeIdxs; // the first one is the center node\n\n    var neighborNum = unit.neighborNum - 1;\n\n    while (nodePairForICount < nodePairNumEachNode) {\n      //  index\n      var oidx = neighbors[1 + Math.floor(Math.random() * neighborNum)];\n      var innerLoopCount = 0; //  idx  random k\n\n      while (nodePairMap[i + \"-\" + oidx] || nodePairMap[oidx + \"-\" + i]) {\n        oidx = Math.floor(Math.random() * nodeNum);\n        innerLoopCount++;\n        if (innerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n      }\n\n      if (innerLoopCount < 2 * nodeNum) {\n        // \n        nodePairMap[i + \"-\" + oidx] = {\n          start: i,\n          end: oidx,\n          distance: spm[i][oidx]\n        };\n        nodePairForICount++;\n        foundNodePairCount++; // \n\n        if (foundNodePairCount >= maxNodePairNum) return nodePairMap;\n      }\n\n      outerLoopCount++;\n      if (outerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n    } //  nodePairNumEachNode  nodePairNumEachNode\n\n\n    if (nodePairForICount < nodePairNumEachNode) {\n      var gap = nodePairNumEachNode - nodePairForICount;\n      nodePairNumEachNode = (nodePairNumEachNode + gap) / (nodeNum - i - 1);\n    }\n  });\n  return nodePairMap;\n};\n/**\n *  nodePairMap \n * @param nodePairMap  mapkey  node1.id-node2.idvalue  { startNodeIdx, endNodeIdx, distance }\n * @param neighborUnits \n * @param graphData \n * @param edgeMap  map\n * @param cachedInducedGraphMap  key \n */\n\n\nvar getIntersectNeighborInducedGraph = function getIntersectNeighborInducedGraph(nodePairMap, neighborUnits, graphData, cachedInducedGraphMap) {\n  var nodes = graphData.nodes;\n  if (!cachedInducedGraphMap) cachedInducedGraphMap = {};\n  Object.keys(nodePairMap).forEach(function (key) {\n    var _a, _b;\n\n    if (cachedInducedGraphMap && cachedInducedGraphMap[key]) return;\n    cachedInducedGraphMap[key] = {\n      nodes: [],\n      edges: []\n    };\n    var pair = nodePairMap[key];\n    var startUnitNodeIds = (_a = neighborUnits[pair.start]) === null || _a === void 0 ? void 0 : _a.nodeIdxs;\n    var endUnitNodeIds = (_b = neighborUnits[pair.end]) === null || _b === void 0 ? void 0 : _b.nodeIdxs;\n    if (!startUnitNodeIds || !endUnitNodeIds) return; // \n\n    var endSet = new Set(endUnitNodeIds);\n    var intersect = startUnitNodeIds.filter(function (x) {\n      return endSet.has(x);\n    }); //  1580 + 6 nodes full-connected \n\n    if (!intersect || !intersect.length) return; // \n\n    var intersectIdMap = {};\n    var intersectLength = intersect.length;\n\n    for (var i = 0; i < intersectLength; i++) {\n      var node = nodes[intersect[i]];\n      cachedInducedGraphMap[key].nodes.push(node); // \n\n      intersectIdMap[node.id] = true;\n    } // \n\n\n    graphData.edges.forEach(function (edge) {\n      if (intersectIdMap[edge.source] && intersectIdMap[edge.target]) cachedInducedGraphMap[key].edges.push(edge);\n    });\n  });\n  return cachedInducedGraphMap;\n};\n/**\n *  strcutre  graph \n * @param graph \n * @param structure \n * @param nodeLabelProp \n * @param edgeLabelProp \n */\n\n\nvar getMatchedCount = function getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp) {\n  var nodeMap = {};\n  graph.nodes.forEach(function (node) {\n    nodeMap[node.id] = node;\n  });\n  var count = 0;\n  graph.edges.forEach(function (e) {\n    var sourceLabel = nodeMap[e.source][nodeLabelProp];\n    var targetLabel = nodeMap[e.target][nodeLabelProp];\n    var strNodeLabel1 = structure.nodes[0][nodeLabelProp];\n    var strNodeLabel2 = structure.nodes[1][nodeLabelProp];\n    var strEdgeLabel = structure.edges[0][edgeLabelProp];\n    if (e[edgeLabelProp] !== strEdgeLabel) return;\n\n    if (sourceLabel === strNodeLabel1 && targetLabel === strNodeLabel2 || sourceLabel === strNodeLabel2 && targetLabel === strNodeLabel1) {\n      count++;\n    }\n  });\n  return count;\n};\n/**\n * structures  matchedCountMap \n * @param matchedCountMap  structure  { [strcture.idx]: { [interInducedGraphKey]: count } }\n * @param structureNum strcuture  matchedCountMap.length \n * @param structures\n */\n\n\nvar findRepresentStructure = function findRepresentStructure(matchedCountMap, structureNum, structures) {\n  var maxOffset = Infinity,\n      representClusterType = 0;\n\n  var _loop_1 = function _loop_1(i) {\n    //  mapkey  intGraph  keyvalue  structures[i] \n    var countMapI = matchedCountMap[i]; //  value  keys \n\n    var sortedGraphKeys = Object.keys(countMapI).sort(function (a, b) {\n      return countMapI[a] - countMapI[b];\n    }); //  100  graphKeys graphKeys  groupNum \n\n    var groupNum = 10;\n    var clusters = []; //  groupNum \n\n    sortedGraphKeys.forEach(function (key, j) {\n      if (!clusters[j % groupNum]) clusters[j % groupNum] = {\n        graphs: [],\n        totalCount: 0,\n        aveCount: 0\n      };\n      clusters[j % groupNum].graphs.push(key);\n      clusters[j % groupNum].totalCount += countMapI[key];\n    }); //  cluster  cluster  innerDist cluster  intraDist\n\n    var aveIntraDist = 0; // \n\n    var aveCounts = []; // \n\n    clusters.forEach(function (graphsInCluster) {\n      // \n      var aveCount = graphsInCluster.totalCount / graphsInCluster.graphs.length;\n      graphsInCluster.aveCount = aveCount;\n      aveCounts.push(aveCount); // \n\n      var aveIntraPerCluster = 0;\n      var graphsNum = graphsInCluster.length;\n      graphsInCluster.graphs.forEach(function (graphKey1, j) {\n        var graph1Count = countMapI[graphKey1];\n        graphsInCluster.graphs.forEach(function (graphKey2, k) {\n          if (j === k) return;\n          aveIntraPerCluster += Math.abs(graph1Count - countMapI[graphKey2]);\n        });\n      });\n      aveIntraPerCluster /= graphsNum * (graphsNum - 1) / 2;\n      aveIntraDist += aveIntraPerCluster;\n    });\n    aveIntraDist /= clusters.length; // \n\n    var aveInterDist = 0; // \n\n    aveCounts.forEach(function (aveCount1, j) {\n      aveCounts.forEach(function (aveCount2, k) {\n        if (j === k) return;\n        aveInterDist += Math.abs(aveCount1 - aveCount2);\n      });\n      aveInterDist /= aveCounts.length * (aveCounts.length - 1) / 2;\n    }); //  (-)  structure  DS(G)\n\n    var offset = aveInterDist - aveIntraDist;\n\n    if (maxOffset < offset) {\n      maxOffset = offset;\n      representClusterType = i;\n    }\n  };\n\n  for (var i = 0; i < structureNum; i++) {\n    _loop_1(i);\n  }\n\n  return {\n    structure: structures[representClusterType],\n    structureCountMap: matchedCountMap[representClusterType]\n  };\n};\n\nvar getNodeMaps = function getNodeMaps(nodes, nodeLabelProp) {\n  var nodeMap = {},\n      nodeLabelMap = {};\n  nodes.forEach(function (node, i) {\n    nodeMap[node.id] = {\n      idx: i,\n      node: node,\n      degree: 0\n    };\n    var label = node[nodeLabelProp];\n    if (!nodeLabelMap[label]) nodeLabelMap[label] = [];\n    nodeLabelMap[label].push(node);\n  });\n  return {\n    nodeMap: nodeMap,\n    nodeLabelMap: nodeLabelMap\n  };\n};\n\nvar getEdgeMaps = function getEdgeMaps(edges, edgeLabelProp, nodeMap) {\n  var edgeMap = {},\n      edgeLabelMap = {};\n  edges.forEach(function (edge, i) {\n    edgeMap[\"\" + uniqueId] = {\n      idx: i,\n      edge: edge\n    };\n    var label = edge[edgeLabelProp];\n    if (!edgeLabelMap[label]) edgeLabelMap[label] = [];\n    edgeLabelMap[label].push(edge);\n    var sourceNode = nodeMap[edge.source];\n    if (sourceNode) sourceNode.degree++;\n    var targetNode = nodeMap[edge.target];\n    if (targetNode) targetNode.degree++;\n  });\n  return {\n    edgeMap: edgeMap,\n    edgeLabelMap: edgeLabelMap\n  };\n};\n/**\n *  mapkey  sourceNode.id-targetNode.idvalue \n * @param nodes\n * @param spm\n * @param directed\n */\n\n\nvar getSpmMap = function getSpmMap(nodes, spm, directed) {\n  var length = spm.length;\n  var map = {};\n  spm.forEach(function (row, i) {\n    var start = directed ? 0 : i + 1;\n    var iId = nodes[i].id;\n\n    for (var j = start; j < length; j++) {\n      if (i === j) continue;\n      var jId = nodes[j].id;\n      var dist = row[j];\n      map[iId + \"-\" + jId] = dist;\n      if (!directed) map[jId + \"-\" + iId] = dist;\n    }\n  });\n  return map;\n};\n/**\n * node1node2 NDS \n * @param graph \n * @param node1\n * @param node2\n */\n\n\nvar getNDSDist = function getNDSDist(graph, node1, node2, nodeMap, spDist, kNeighborUnits, structure, nodeLabelProp, edgeLabelProp, cachedNDSMap, cachedInterInducedGraph) {\n  var _a;\n\n  var key = node1.id + \"-\" + node2.id;\n  if (cachedNDSMap && cachedNDSMap[key]) return cachedNDSMap[key];\n  var interInducedGraph = cachedInterInducedGraph ? cachedInterInducedGraph[key] : undefined; // \n\n  if (!interInducedGraph) {\n    var pairMap = (_a = {}, _a[key] = {\n      start: nodeMap[node1.id].idx,\n      end: nodeMap[node2.id].idx,\n      distance: spDist\n    }, _a);\n    cachedInterInducedGraph = getIntersectNeighborInducedGraph(pairMap, kNeighborUnits, graph, cachedInterInducedGraph);\n    interInducedGraph = cachedInterInducedGraph[key];\n  }\n\n  return getMatchedCount(interInducedGraph, structure, nodeLabelProp, edgeLabelProp);\n};\n/**\n * GADDI \n * @param graphData \n * @param pattern \n * @param directed  false\n * @param k  k k-\n * @param length  length\n * @param nodeLabelProp  cluster\n * @param edgeLabelProp  cluster\n */\n\n\nvar GADDI = function GADDI(graphData, pattern, directed, k, length, nodeLabelProp, edgeLabelProp) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (edgeLabelProp === void 0) {\n    edgeLabelProp = 'cluster';\n  }\n\n  if (!graphData || !graphData.nodes) return; // \n  // 0. /\n  // 1.  graphData 1~5 \n  // 2. \n  // console.log(\"----- stage-pre: preprocessing -------\");\n  // -------- /-------\n\n  var nodeNum = graphData.nodes.length;\n  if (!nodeNum) return; // console.log(\"----- stage-pre.1: calc shortest path matrix for graph -------\");\n\n  var spm = floydWarshall(graphData, directed); // console.log(\n  //   \"----- stage-pre.2: calc shortest path matrix for pattern -------\"\n  // );\n\n  var patternSpm = floydWarshall(pattern, directed); // console.log(\n  //   \"----- stage-pre.3: calc shortest path matrix map for graph -------\"\n  // );\n\n  var spmMap = getSpmMap(graphData.nodes, spm, directed); // console.log(\n  //   \"----- stage-pre.4: calc shortest path matrix map for pattern -------\"\n  // );\n\n  var patternSpmMap = getSpmMap(pattern.nodes, patternSpm, directed); // console.log(\"----- stage-pre.5: establish maps -------\");\n  //  map id  id \n\n  var _a = getNodeMaps(graphData.nodes, nodeLabelProp),\n      nodeMap = _a.nodeMap,\n      nodeLabelMap = _a.nodeLabelMap;\n\n  var _b = getNodeMaps(pattern.nodes, nodeLabelProp),\n      patternNodeMap = _b.nodeMap,\n      patternNodeLabelMap = _b.nodeLabelMap; // \n\n\n  getEdgeMaps(graphData.edges, edgeLabelProp, nodeMap);\n  var patternEdgeLabelMap = getEdgeMaps(pattern.edges, edgeLabelProp, patternNodeMap).edgeLabelMap; //  length pattern \n\n  if (!length) length = Math.max.apply(Math, __spreadArray(__spreadArray([], patternSpm[0]), [2]));\n  if (!k) k = length; // console.log(\"params\", directed, length, k);\n  // console.log(\"----- stage-pre.6: calc k neighbor units -------\");\n  //  k \n\n  var kNeighborUnits = findKNeighborUnits(graphData, spm, nodeLabelProp, k);\n  var patternKNeighborUnits = findKNeighborUnits(pattern, patternSpm, nodeLabelProp, k); // console.log(\n  //   \"----- stage0: going to processing graph and find intersect neighbor induced graphs -------\"\n  // );\n  // console.log(\"----- stage0.1: going to select random node pairs -------\");\n  // --------  graphData-------\n  // 1.1.  100  Length  k\n  //  graphData  20  100  n(n-1)/2 \n\n  var maxNodePairNum = Math.min(100, nodeNum * (nodeNum - 1) / 2);\n  var nodePairsMap = findNodePairsRandomly(k, nodeNum, maxNodePairNum, patternKNeighborUnits, spm); // console.log(\n  //   \"----- stage0.2: going to calculate intersect neighbor induced graphs -------\"\n  // );\n  // 1.2.  {'beginNodeIdx-endNodeIdx': {nodes: [], edges: []}}\n\n  var intGMap = getIntersectNeighborInducedGraph(nodePairsMap, kNeighborUnits, graphData); // 1.3.  gSpan frequent graph mining ISIntG  10 3-4\n\n  var top = 10,\n      minSupport = 1,\n      minNodeNum = 1,\n      maxNodeNum = 4;\n  var params = {\n    graphs: intGMap,\n    nodeLabelProp: nodeLabelProp,\n    edgeLabelProp: edgeLabelProp,\n    minSupport: minSupport,\n    minNodeNum: minNodeNum,\n    maxNodeNum: maxNodeNum,\n    directed: directed\n  }; // console.log(\n  //   \"----- stage1: (gSpan) going to find frequent structure dsG -------\"\n  // );\n  // console.log(\"----- stage1.1: going to run gSpan -------\");\n  //  sub structure \n\n  var freStructures = gSpan(params).slice(0, top); // structureNum  top\n\n  var structureNum = freStructures.length; // 1.4.  10  intGMap \n\n  var matchedCountMap = [];\n  freStructures.forEach(function (structure, i) {\n    matchedCountMap[i] = {};\n    Object.keys(intGMap).forEach(function (key) {\n      var graph = intGMap[key];\n      var subStructureCount = getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp);\n      matchedCountMap[i][key] = subStructureCount;\n    });\n  }); // console.log(\n  //   \"----- stage1.1: going to find the most represent strucutre -------\"\n  // );\n  // 1.5.  intGMap  structureNum \n  //  DS(G)\n\n  var _c = findRepresentStructure(matchedCountMap, structureNum, freStructures),\n      dsG = _c.structure,\n      ndsDist = _c.structureCountMap; // -------- -------\n  // 2.1  Q  G \n\n\n  var beginPNode = pattern.nodes[0];\n  var label = beginPNode[nodeLabelProp]; // 2.1.1  G \n\n  var candidates = nodeLabelMap[label]; // console.log(\"----- stage2: going to find candidates -------\");\n  // \n\n  var minPatternNodeLabelDegreeMap = {}; // key  labelvalue  label \n\n  var patternIntGraphMap = {},\n      patternNDSDist = {},\n      // key  node.id-node.id\n  patternNDSDistMap = {}; // key  node.id-label2value nds node2\n  // 2.2.2  Q  k  node  NDS \n\n  var patternSpDist = {};\n  Object.keys(patternNodeLabelMap).forEach(function (label2, j) {\n    patternSpDist[label2] = [];\n    var maxDist = -Infinity;\n    var patternNodesWithLabel2 = patternNodeLabelMap[label2];\n    var patternNodePairMap = {};\n    patternNodesWithLabel2.forEach(function (nodeWithLabel2) {\n      var dist = patternSpmMap[beginPNode.id + \"-\" + nodeWithLabel2.id];\n      dist && patternSpDist[label2].push(dist);\n      if (maxDist < dist) maxDist = dist;\n      patternNodePairMap[beginPNode.id + \"-\" + nodeWithLabel2.id] = {\n        start: 0,\n        end: patternNodeMap[nodeWithLabel2.id].idx,\n        distance: dist\n      };\n    }); // spDist[label2] \n\n    patternSpDist[label2] = patternSpDist[label2].sort(function (a, b) {\n      return a - b;\n    }); //  Q  label2  beginPNode  NDS \n    //  label2  beginPNode \n    // key: node1.id-node2.id\n\n    patternIntGraphMap = getIntersectNeighborInducedGraph(patternNodePairMap, patternKNeighborUnits, pattern, patternIntGraphMap); // pattern  beginNode  label2   NDS \n\n    var currentPatternNDSDistArray = [];\n    Object.keys(patternNodePairMap).forEach(function (key) {\n      if (patternNDSDist[key]) {\n        currentPatternNDSDistArray.push(patternNDSDist[key]);\n        return; // \n      }\n\n      var patternIntGraph = patternIntGraphMap[key];\n      patternNDSDist[key] = getMatchedCount(patternIntGraph, dsG, nodeLabelProp, edgeLabelProp);\n      currentPatternNDSDistArray.push(patternNDSDist[key]);\n    }); //  currentPatternNDSDist \n\n    currentPatternNDSDistArray = currentPatternNDSDistArray.sort(function (a, b) {\n      return b - a;\n    });\n    patternNDSDistMap[beginPNode.id + \"-\" + label2] = currentPatternNDSDistArray;\n    if (label2 === label) return;\n    var candidatesNum = candidates.length;\n\n    var _loop_4 = function _loop_4(m) {\n      var cNode = candidates[m]; // prune1 candidates  cNode  kNeighborUnits  label2  pattern  label2 \n\n      var graphNeighborUnit = kNeighborUnits[nodeMap[cNode.id].idx];\n      var graphNeighborUnitCountMap = graphNeighborUnit.nodeLabelCountMap[label2];\n      var patternLabel2Num = patternNodeLabelMap[label2].length;\n\n      if (!graphNeighborUnitCountMap || graphNeighborUnitCountMap.count < patternLabel2Num) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune2 candidates  cNode  kNeighborUnits  label2  patternSpDist[label2]\n      // (prune2 candidate  spDist[label2].length  patternSpDist[label2]  G > Q  candidate)\n\n\n      var prune2Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (graphNeighborUnitCountMap.dists[n] > patternSpDist[label2][n]) {\n          prune2Invalid = true;\n          break;\n        }\n      }\n\n      if (prune2Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune3 candidates  cNode  kNeighborUnits  label2  NDS  patternNDSDist[beginNode.id-label2]\n      // TODOprune3currentPatternNDSDistArray  currentNDSDist \n      //  G  label2  cNode  NDS \n      //  label2  cNode \n\n\n      var cNodePairMap = {};\n      graphNeighborUnit.neighbors.forEach(function (neighborNode) {\n        var dist = spmMap[cNode.id + \"-\" + neighborNode.id];\n        cNodePairMap[cNode.id + \"-\" + neighborNode.id] = {\n          start: nodeMap[cNode.id].idx,\n          end: nodeMap[neighborNode.id].idx,\n          distance: dist\n        };\n      }); //  intGMap\n\n      intGMap = getIntersectNeighborInducedGraph(cNodePairMap, kNeighborUnits, graphData, intGMap); // candidate  label2  NDS , key  node.id-node.id\n\n      var currentNDSDistArray = [];\n      Object.keys(cNodePairMap).forEach(function (key) {\n        if (ndsDist[key]) {\n          currentNDSDistArray.push(ndsDist[key]);\n          return; // \n        }\n\n        var intGraph = intGMap[key];\n        ndsDist[key] = getMatchedCount(intGraph, dsG, nodeLabelProp, edgeLabelProp);\n        currentNDSDistArray.push(ndsDist[key]);\n      }); //  currentNDSDistArray \n\n      currentNDSDistArray = currentNDSDistArray.sort(function (a, b) {\n        return b - a;\n      });\n      var prune3Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (currentNDSDistArray[n] < currentPatternNDSDistArray[n]) {\n          prune3Invalid = true;\n          break;\n        }\n      }\n\n      if (prune3Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var m = candidatesNum - 1; m >= 0; m--) {\n      _loop_4(m);\n    }\n  });\n  var candidateGraphs = []; // console.log(\n  //   \"----- stage3: going to splice neighbors for each candidate graph -------\"\n  // );\n  // candidates  candidate  Length-neighbor \n  //  Q  Q  label label  candidate  QNDS  Q\n\n  candidates.forEach(function (candidate) {\n    var nodeIdx = nodeMap[candidate.id].idx;\n    var lengthNeighborUnit = findKNeighborUnit(graphData.nodes, spm[nodeIdx], nodeIdx, nodeLabelProp, length);\n    var neighborNodes = lengthNeighborUnit.neighbors; // \n\n    var neighborNum = neighborNodes.length;\n    var unmatched = false;\n\n    var _loop_5 = function _loop_5(i) {\n      //  candidate \n      if (neighborNodes.length + 1 < pattern.nodes.length) {\n        unmatched = true;\n        return {\n          value: void 0\n        };\n      }\n\n      var neighborNode = neighborNodes[i];\n      var neighborLabel = neighborNode[nodeLabelProp]; // prune1:  label  pattern \n\n      if (!patternNodeLabelMap[neighborLabel] || !patternNodeLabelMap[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      }\n\n      var key = candidate.id + \"-\" + neighborNode.id; // prune2:  candidate  label  beginPNode \n      // prune2.1:  beginPNode  pattern  beginPNode  label label \n\n      if (!patternSpDist[neighborLabel] || !patternSpDist[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune2.2\n\n\n      var distToCandidate = spmMap[key];\n      var maxDistWithLabelInPattern = patternSpDist[neighborLabel][patternSpDist[neighborLabel].length - 1]; // patternSpDist[neighborLabel] \n\n      if (distToCandidate > maxDistWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune3:  candidate  NDS  label  beginPNode  NDS \n\n\n      var ndsToCandidate = ndsDist[key] ? ndsDist[key] : getNDSDist(graphData, candidate, neighborNode, nodeMap, distToCandidate, kNeighborUnits, dsG, nodeLabelProp, edgeLabelProp, ndsDist, intGMap);\n      var patternKey = beginPNode.id + \"-\" + neighborLabel;\n      var minNdsWithLabelInPattern = patternNDSDistMap[patternKey][patternNDSDistMap[patternKey].length - 1]; // patternNDSDist[key] \n\n      if (ndsToCandidate < minNdsWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      } // prune4:  pattern  label \n\n\n      var minPatternNodeLabelDegree = minPatternNodeLabelDegreeMap[neighborLabel];\n\n      if (minPatternNodeLabelDegree === undefined) {\n        minPatternNodeLabelDegree = Infinity;\n        patternNodeLabelMap[neighborLabel].forEach(function (patternNodeWithLabel) {\n          var patternNodeDegree = patternNodeMap[patternNodeWithLabel.id].degree;\n          if (minPatternNodeLabelDegree > patternNodeDegree) minPatternNodeLabelDegree = patternNodeDegree;\n        });\n        minPatternNodeLabelDegreeMap[neighborLabel] = minPatternNodeLabelDegree;\n      }\n\n      if (nodeMap[neighborNode.id].degree < minPatternNodeLabelDegree) {\n        neighborNodes.splice(i, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var i = neighborNum - 1; i >= 0; i--) {\n      var state_2 = _loop_5(i);\n\n      if (_typeof(state_2) === \"object\") return state_2.value;\n    } //  pattern \n\n\n    if (!unmatched) {\n      candidateGraphs.push({\n        nodes: [candidate].concat(neighborNodes)\n      });\n    }\n  }); // console.log(\n  //   \"----- stage4: going to splice edges and neighbors for each candidate graph -------\"\n  // );\n\n  var undirectedLengthsToBeginPNode = dijkstra(pattern, beginPNode.id, false).length;\n  var undirectedLengthsToBeginPNodeLabelMap = {};\n\n  if (directed) {\n    Object.keys(undirectedLengthsToBeginPNode).forEach(function (nodeId) {\n      var nodeLabel = patternNodeMap[nodeId].node[nodeLabelProp];\n      if (!undirectedLengthsToBeginPNodeLabelMap[nodeLabel]) undirectedLengthsToBeginPNodeLabelMap[nodeLabel] = [undirectedLengthsToBeginPNode[nodeId]];else undirectedLengthsToBeginPNodeLabelMap[nodeLabel].push(undirectedLengthsToBeginPNode[nodeId]);\n    });\n    Object.keys(undirectedLengthsToBeginPNodeLabelMap).forEach(function (pLabel) {\n      undirectedLengthsToBeginPNodeLabelMap[pLabel].sort(function (a, b) {\n        return a - b;\n      });\n    });\n  } else {\n    undirectedLengthsToBeginPNodeLabelMap = patternSpDist;\n  } //  candidateGraphs \n\n\n  var candidateGraphNum = candidateGraphs.length;\n\n  var _loop_2 = function _loop_2(i) {\n    var candidateGraph = candidateGraphs[i];\n    var candidate = candidateGraph.nodes[0];\n    var candidateNodeLabelCountMap = {};\n    var candidateNodeMap = {};\n    candidateGraph.nodes.forEach(function (node, q) {\n      candidateNodeMap[node.id] = {\n        idx: q,\n        node: node,\n        degree: 0\n      };\n      var cNodeLabel = node[nodeLabelProp];\n      if (!candidateNodeLabelCountMap[cNodeLabel]) candidateNodeLabelCountMap[cNodeLabel] = 1;else candidateNodeLabelCountMap[cNodeLabel]++;\n    }); //  candidate  neighborNodes  G \n    //  graphData  candidateGraph.nodes  candidateEdges\n\n    var candidateEdges = [];\n    var edgeLabelCountMap = {};\n    graphData.edges.forEach(function (edge) {\n      if (candidateNodeMap[edge.source] && candidateNodeMap[edge.target]) {\n        candidateEdges.push(edge);\n        if (!edgeLabelCountMap[edge[edgeLabelProp]]) edgeLabelCountMap[edge[edgeLabelProp]] = 1;else edgeLabelCountMap[edge[edgeLabelProp]]++;\n        candidateNodeMap[edge.source].degree++;\n        candidateNodeMap[edge.target].degree++;\n      }\n    }); // prune edgeLabel  candidateGraph  pattern\n\n    var pattenrEdgeLabelNum = Object.keys(patternEdgeLabelMap).length;\n    var prunedByEdgeLabel = false;\n\n    for (var e = 0; e < pattenrEdgeLabelNum; e++) {\n      var label_1 = Object.keys(patternEdgeLabelMap)[e];\n\n      if (!edgeLabelCountMap[label_1] || edgeLabelCountMap[label_1] < patternEdgeLabelMap[label_1].length) {\n        prunedByEdgeLabel = true;\n        break;\n      }\n    }\n\n    if (prunedByEdgeLabel) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } //  candidateEdges\n\n\n    var candidateEdgeNum = candidateEdges.length; // prune\n\n    if (candidateEdgeNum < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"break\";\n    }\n\n    var candidateGraphInvalid = false;\n\n    var _loop_6 = function _loop_6(e) {\n      var edge = candidateEdges[e];\n      var edgeLabel = edge[edgeLabelProp];\n      var patternEdgesWithLabel = patternEdgeLabelMap[edgeLabel]; // prune 1:  label  pattern  label \n\n      if (!patternEdgesWithLabel || !patternEdgesWithLabel.length) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        return \"continue\";\n      } // prune 2:  label + label  pattern \n\n\n      var sourceLabel = candidateNodeMap[edge.source].node[nodeLabelProp];\n      var targetLabel = candidateNodeMap[edge.target].node[nodeLabelProp];\n      var edgeMatched = false;\n      patternEdgesWithLabel.forEach(function (patternEdge) {\n        var patternSource = patternNodeMap[patternEdge.source].node;\n        var patternTarget = patternNodeMap[patternEdge.target].node;\n        if (patternSource[nodeLabelProp] === sourceLabel && patternTarget[nodeLabelProp] === targetLabel) edgeMatched = true;\n        if (!directed && patternSource[nodeLabelProp] === targetLabel && patternTarget[nodeLabelProp] === sourceLabel) edgeMatched = true;\n      });\n\n      if (!edgeMatched) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        return \"continue\";\n      }\n    };\n\n    for (var e = candidateEdgeNum - 1; e >= 0; e--) {\n      var state_3 = _loop_6(e);\n\n      if (state_3 === \"break\") break;\n    } // prune2: / label \n\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    candidateGraph.edges = candidateEdges;\n    var lengthsToCandidate = dijkstra(candidateGraph, candidateGraph.nodes[0].id, false).length;\n    Object.keys(lengthsToCandidate).reverse().forEach(function (targetId) {\n      if (targetId === candidateGraph.nodes[0].id || candidateGraphInvalid) return; // prune4:  candidate\n\n      if (lengthsToCandidate[targetId] === Infinity) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n        return;\n      } // prune5:   pattern  label  beginNode \n\n\n      var nLabel = nodeMap[targetId].node[nodeLabelProp];\n\n      if (!undirectedLengthsToBeginPNodeLabelMap[nLabel] || !undirectedLengthsToBeginPNodeLabelMap[nLabel].length || lengthsToCandidate[targetId] > undirectedLengthsToBeginPNodeLabelMap[nLabel][undirectedLengthsToBeginPNodeLabelMap[nLabel].length - 1]) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n      }\n    });\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    var degreeChanged = true;\n    var loopCount = 0;\n\n    while (degreeChanged && !candidateGraphInvalid) {\n      degreeChanged = false; // candidate \n\n      if (candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree) {\n        candidateGraphInvalid = true;\n        break;\n      } // candidate label \n\n\n      if (candidateNodeLabelCountMap[candidate[nodeLabelProp]] < patternNodeLabelMap[candidate[nodeLabelProp]].length) {\n        candidateGraphInvalid = true;\n        break;\n      } // prune6\n\n\n      var currentCandidateNodeNum = candidateGraph.nodes.length;\n\n      for (var o = currentCandidateNodeNum - 1; o >= 0; o--) {\n        var cgNode = candidateGraph.nodes[o];\n        var nodeDegree = candidateNodeMap[cgNode.id].degree;\n        var cNodeLabel = cgNode[nodeLabelProp];\n\n        if (nodeDegree < minPatternNodeLabelDegreeMap[cNodeLabel]) {\n          candidateNodeLabelCountMap[cgNode[nodeLabelProp]]--; //  label \n\n          if (candidateNodeLabelCountMap[cgNode[nodeLabelProp]] < patternNodeLabelMap[cgNode[nodeLabelProp]].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          candidateGraph.nodes.splice(o, 1);\n          candidateNodeMap[cgNode.id] = undefined;\n          degreeChanged = true;\n        }\n      }\n\n      if (candidateGraphInvalid || !degreeChanged && loopCount !== 0) break; //  prune5  candidateGraph \n\n      candidateEdgeNum = candidateEdges.length;\n\n      for (var y = candidateEdgeNum - 1; y >= 0; y--) {\n        var cedge = candidateEdges[y];\n\n        if (!candidateNodeMap[cedge.source] || !candidateNodeMap[cedge.target]) {\n          candidateEdges.splice(y, 1);\n          var edgeLabel = cedge[edgeLabelProp];\n          edgeLabelCountMap[edgeLabel]--;\n          candidateNodeMap[cedge.source] && candidateNodeMap[cedge.source].degree--;\n          candidateNodeMap[cedge.target] && candidateNodeMap[cedge.target].degree--; //  label \n\n          if (patternEdgeLabelMap[edgeLabel] && edgeLabelCountMap[edgeLabel] < patternEdgeLabelMap[edgeLabel].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          degreeChanged = true;\n        }\n      }\n\n      loopCount++;\n    }\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } // prune: // label \n\n\n    if (candidateGraphInvalid || candidateGraph.nodes.length < pattern.nodes.length || candidateEdges.length < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n  };\n\n  for (var i = candidateGraphNum - 1; i >= 0; i--) {\n    var state_1 = _loop_2(i);\n\n    if (state_1 === \"break\") break;\n  } //  candidateGraphs\n  // console.log(\n  //   \"----- stage5: going to splice dulplicated candidate graphs -------\"\n  // );\n  //  candidateGraphs  node-node-edgeLabel  key value\n\n\n  var currentLength = candidateGraphs.length;\n\n  var _loop_3 = function _loop_3(i) {\n    var cg1 = candidateGraphs[i];\n    var cg1EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n    cg1.edges.forEach(function (edge) {\n      var key = edge.source + \"-\" + edge.target + \"-\" + edge.label;\n      if (!cg1EdgeMap[key]) cg1EdgeMap[key] = 1;else cg1EdgeMap[key]++;\n    });\n\n    var _loop_7 = function _loop_7(j) {\n      var cg2 = candidateGraphs[j];\n      var cg2EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n      cg2.edges.forEach(function (edge) {\n        var key = edge.source + \"-\" + edge.target + \"-\" + edge.label;\n        if (!cg2EdgeMap[key]) cg2EdgeMap[key] = 1;else cg2EdgeMap[key]++;\n      });\n      var same = true;\n\n      if (Object.keys(cg2EdgeMap).length !== Object.keys(cg1EdgeMap).length) {\n        same = false;\n      } else {\n        Object.keys(cg1EdgeMap).forEach(function (key) {\n          if (cg2EdgeMap[key] !== cg1EdgeMap[key]) same = false;\n        });\n      }\n\n      if (same) {\n        candidateGraphs.splice(j, 1);\n      }\n    };\n\n    for (var j = currentLength - 1; j > i; j--) {\n      _loop_7(j);\n    }\n\n    currentLength = candidateGraphs.length;\n  };\n\n  for (var i = 0; i <= currentLength - 1; i++) {\n    _loop_3(i);\n  }\n\n  return candidateGraphs;\n};\n\nexport default GADDI;","import LinkedList from './linked-list';\n\nvar Stack =\n/** @class */\nfunction () {\n  function Stack(maxStep) {\n    if (maxStep === void 0) {\n      maxStep = 10;\n    }\n\n    this.linkedList = new LinkedList();\n    this.maxStep = maxStep;\n  }\n\n  Object.defineProperty(Stack.prototype, \"length\", {\n    get: function get() {\n      return this.linkedList.toArray().length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * \n   */\n\n  Stack.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.isMaxStack = function () {\n    return this.toArray().length >= this.maxStep;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.peek = function () {\n    if (this.isEmpty()) {\n      return null;\n    } // \n\n\n    return this.linkedList.head.value;\n  };\n\n  Stack.prototype.push = function (value) {\n    this.linkedList.prepend(value);\n\n    if (this.length > this.maxStep) {\n      this.linkedList.deleteTail();\n    }\n  };\n\n  Stack.prototype.pop = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Stack.prototype.toArray = function () {\n    return this.linkedList.toArray().map(function (node) {\n      return node.value;\n    });\n  };\n\n  Stack.prototype.clear = function () {\n    while (!this.isEmpty()) {\n      this.pop();\n    }\n  };\n\n  return Stack;\n}();\n\nexport default Stack;","import getAdjMatrix from './adjacent-matrix';\nimport breadthFirstSearch from './bfs';\nimport connectedComponent from './connected-component';\nimport getDegree from './degree';\nimport { getInDegree, getOutDegree } from './degree';\nimport detectCycle, { detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle } from './detect-cycle';\nimport depthFirstSearch from './dfs';\nimport dijkstra from './dijkstra';\nimport { findAllPath, findShortestPath } from './find-path';\nimport floydWarshall from './floydWarshall';\nimport labelPropagation from './label-propagation';\nimport louvain from './louvain';\nimport minimumSpanningTree from './mts';\nimport pageRank from './pageRank';\nimport GADDI from './gaddi';\nimport Stack from './structs/stack';\nimport { getNeighbors } from './util';\nvar detectDirectedCycle = detectCycle;\nexport { getAdjMatrix, breadthFirstSearch, connectedComponent, getDegree, getInDegree, getOutDegree, detectCycle, detectDirectedCycle, detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle, depthFirstSearch, dijkstra, findAllPath, findShortestPath, floydWarshall, labelPropagation, louvain, minimumSpanningTree, pageRank, getNeighbors, Stack, GADDI };\nexport default {\n  getAdjMatrix: getAdjMatrix,\n  breadthFirstSearch: breadthFirstSearch,\n  connectedComponent: connectedComponent,\n  getDegree: getDegree,\n  getInDegree: getInDegree,\n  getOutDegree: getOutDegree,\n  detectCycle: detectCycle,\n  detectDirectedCycle: detectDirectedCycle,\n  detectAllCycles: detectAllCycles,\n  detectAllDirectedCycle: detectAllDirectedCycle,\n  detectAllUndirectedCycle: detectAllUndirectedCycle,\n  depthFirstSearch: depthFirstSearch,\n  dijkstra: dijkstra,\n  findAllPath: findAllPath,\n  findShortestPath: findShortestPath,\n  floydWarshall: floydWarshall,\n  labelPropagation: labelPropagation,\n  louvain: louvain,\n  minimumSpanningTree: minimumSpanningTree,\n  pageRank: pageRank,\n  getNeighbors: getNeighbors,\n  Stack: Stack,\n  GADDI: GADDI\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.now = exports.abs = exports.round = exports.TYPE_FUNCTION = void 0;\nconst TYPE_FUNCTION = 'function';\nexports.TYPE_FUNCTION = TYPE_FUNCTION;\nconst {\n  round,\n  abs\n} = Math;\nexports.abs = abs;\nexports.round = round;\nconst {\n  now\n} = Date;\nexports.now = now;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _hammer = _interopRequireDefault(require(\"./hammer\"));\n\nvar _assign = _interopRequireDefault(require(\"./utils/assign\"));\n\nvar _inputConsts = require(\"./inputjs/input-consts\");\n\nvar _recognizerConsts = require(\"./recognizerjs/recognizer-consts\");\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nvar _inputConstructor = _interopRequireDefault(require(\"./inputjs/input-constructor\"));\n\nvar _touchactionConstructor = _interopRequireDefault(require(\"./touchactionjs/touchaction-constructor\"));\n\nvar _touch = _interopRequireDefault(require(\"./input/touch\"));\n\nvar _pointerevent = _interopRequireDefault(require(\"./input/pointerevent\"));\n\nvar _recognizerConstructor = _interopRequireDefault(require(\"./recognizerjs/recognizer-constructor\"));\n\nvar _attribute = _interopRequireDefault(require(\"./recognizers/attribute\"));\n\nvar _tap = _interopRequireDefault(require(\"./recognizers/tap\"));\n\nvar _pan = _interopRequireDefault(require(\"./recognizers/pan\"));\n\nvar _swipe = _interopRequireDefault(require(\"./recognizers/swipe\"));\n\nvar _pinch = _interopRequireDefault(require(\"./recognizers/pinch\"));\n\nvar _rotate = _interopRequireDefault(require(\"./recognizers/rotate\"));\n\nvar _press = _interopRequireDefault(require(\"./recognizers/press\"));\n\nvar _addEventListeners = _interopRequireDefault(require(\"./utils/add-event-listeners\"));\n\nvar _removeEventListeners = _interopRequireDefault(require(\"./utils/remove-event-listeners\"));\n\nvar _each = _interopRequireDefault(require(\"./utils/each\"));\n\nvar _merge = _interopRequireDefault(require(\"./utils/merge\"));\n\nvar _extend = _interopRequireDefault(require(\"./utils/extend\"));\n\nvar _inherit = _interopRequireDefault(require(\"./utils/inherit\"));\n\nvar _bindFn = _interopRequireDefault(require(\"./utils/bind-fn\"));\n\nvar _toArray = _interopRequireDefault(require(\"./utils/to-array\"));\n\nvar _uniqueArray = _interopRequireDefault(require(\"./utils/unique-array\"));\n\nvar _splitStr = _interopRequireDefault(require(\"./utils/split-str\"));\n\nvar _inArray = _interopRequireDefault(require(\"./utils/in-array\"));\n\nvar _boolOrFn = _interopRequireDefault(require(\"./utils/bool-or-fn\"));\n\nvar _hasParent = _interopRequireDefault(require(\"./utils/has-parent\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar _default = (0, _assign.default)(_hammer.default, {\n  INPUT_START: _inputConsts.INPUT_START,\n  INPUT_MOVE: _inputConsts.INPUT_MOVE,\n  INPUT_END: _inputConsts.INPUT_END,\n  INPUT_CANCEL: _inputConsts.INPUT_CANCEL,\n  STATE_POSSIBLE: _recognizerConsts.STATE_POSSIBLE,\n  STATE_BEGAN: _recognizerConsts.STATE_BEGAN,\n  STATE_CHANGED: _recognizerConsts.STATE_CHANGED,\n  STATE_ENDED: _recognizerConsts.STATE_ENDED,\n  STATE_RECOGNIZED: _recognizerConsts.STATE_RECOGNIZED,\n  STATE_CANCELLED: _recognizerConsts.STATE_CANCELLED,\n  STATE_FAILED: _recognizerConsts.STATE_FAILED,\n  DIRECTION_NONE: _inputConsts.DIRECTION_NONE,\n  DIRECTION_LEFT: _inputConsts.DIRECTION_LEFT,\n  DIRECTION_RIGHT: _inputConsts.DIRECTION_RIGHT,\n  DIRECTION_UP: _inputConsts.DIRECTION_UP,\n  DIRECTION_DOWN: _inputConsts.DIRECTION_DOWN,\n  DIRECTION_HORIZONTAL: _inputConsts.DIRECTION_HORIZONTAL,\n  DIRECTION_VERTICAL: _inputConsts.DIRECTION_VERTICAL,\n  DIRECTION_ALL: _inputConsts.DIRECTION_ALL,\n  Manager: _manager.default,\n  Input: _inputConstructor.default,\n  TouchAction: _touchactionConstructor.default,\n  TouchInput: _touch.default,\n  PointerEventInput: _pointerevent.default,\n  Recognizer: _recognizerConstructor.default,\n  AttrRecognizer: _attribute.default,\n  Tap: _tap.default,\n  Pan: _pan.default,\n  Swipe: _swipe.default,\n  Pinch: _pinch.default,\n  Rotate: _rotate.default,\n  Press: _press.default,\n  on: _addEventListeners.default,\n  off: _removeEventListeners.default,\n  each: _each.default,\n  merge: _merge.default,\n  extend: _extend.default,\n  assign: _assign.default,\n  inherit: _inherit.default,\n  bindFn: _bindFn.default,\n  toArray: _toArray.default,\n  inArray: _inArray.default,\n  uniqueArray: _uniqueArray.default,\n  splitStr: _splitStr.default,\n  boolOrFn: _boolOrFn.default,\n  hasParent: _hasParent.default,\n  addEventListeners: _addEventListeners.default,\n  removeEventListeners: _removeEventListeners.default\n});\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TOUCH_ACTION_MAP = exports.TOUCH_ACTION_PAN_Y = exports.TOUCH_ACTION_PAN_X = exports.TOUCH_ACTION_NONE = exports.TOUCH_ACTION_MANIPULATION = exports.TOUCH_ACTION_COMPUTE = exports.TOUCH_ACTION_AUTO = void 0;\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _getTouchactionProps = _interopRequireDefault(require(\"./get-touchaction-props\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// magical touchAction value\nconst TOUCH_ACTION_COMPUTE = 'compute';\nexports.TOUCH_ACTION_COMPUTE = TOUCH_ACTION_COMPUTE;\nconst TOUCH_ACTION_AUTO = 'auto';\nexports.TOUCH_ACTION_AUTO = TOUCH_ACTION_AUTO;\nconst TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\nexports.TOUCH_ACTION_MANIPULATION = TOUCH_ACTION_MANIPULATION;\nconst TOUCH_ACTION_NONE = 'none';\nexports.TOUCH_ACTION_NONE = TOUCH_ACTION_NONE;\nconst TOUCH_ACTION_PAN_X = 'pan-x';\nexports.TOUCH_ACTION_PAN_X = TOUCH_ACTION_PAN_X;\nconst TOUCH_ACTION_PAN_Y = 'pan-y';\nexports.TOUCH_ACTION_PAN_Y = TOUCH_ACTION_PAN_Y;\nconst TOUCH_ACTION_MAP = (0, _getTouchactionProps.default)();\nexports.TOUCH_ACTION_MAP = TOUCH_ACTION_MAP;","import { IPoint, TreeGraphData, Util } from '@antv/f6-core';\nimport { isNumber } from '@antv/util';\n\nconst { traverseTree } = Util;\n\n/**\n *  number | Function  return number  Function\n * @param  {number | Function}  value \n * @param  {number}  defaultV \n * @return {Function} \n */\nexport const proccessToFunc = (\n  value: number | Function,\n  defaultV?: number,\n): ((d?: any) => number) => {\n  let func;\n  if (!value) {\n    func = (d) => {\n      return defaultV || 1;\n    };\n  } else if (isNumber(value)) {\n    func = (d) => {\n      return value;\n    };\n  } else {\n    func = value;\n  }\n  return func;\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureData = (\n  nodes,\n  edges,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i];\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = dests.length;\n    maxEdgePerVetex = Math.max(maxEdgePerVetex, dests.length);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithOneEdgeAttr = (\n  nodes,\n  edges,\n  attrs: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs(e)); // \n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs(e)); // \n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = len / 2; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 2);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithTwoEdgeAttr = (\n  nodes,\n  edges,\n  attrs1: Function,\n  attrs2: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs1(e));\n    nodeDict[mapIdPos[e.source]].push(attrs2(e));\n    nodeDict[mapIdPos[e.source]].push(0);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs1(e));\n    nodeDict[mapIdPos[e.target]].push(attrs2(e));\n    nodeDict[mapIdPos[e.target]].push(0);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    // dataArray[i * 4 + 2] = offset;\n    // dataArray[i * 4 + 3] = len / 4; // \n    // pack offset & length into float32: offset 20bit, length 12bit\n    dataArray[i * 4 + 2] = offset + (1048576 * len) / 4;\n    dataArray[i * 4 + 3] = 0; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 4);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n/**\n * transform the extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @param  {ModelConfig[]}  items the items to be read\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const attributesToTextureData = (\n  attributeNames: string[],\n  items,\n): { array: Float32Array; count: number } => {\n  const dataArray = [];\n  const attributeNum = attributeNames.length;\n  const attributteStringMap = {};\n  items.forEach((item) => {\n    attributeNames.forEach((name, i) => {\n      if (attributteStringMap[item[name]] === undefined) {\n        attributteStringMap[item[name]] = Object.keys(attributteStringMap).length;\n      }\n      dataArray.push(attributteStringMap[item[name]]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  });\n  return {\n    array: new Float32Array(dataArray),\n    count: Object.keys(attributteStringMap).length,\n  };\n};\n\n/**\n * transform the number array format of extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const arrayToTextureData = (valueArrays: number[][]): Float32Array => {\n  const dataArray = [];\n  const attributeNum = valueArrays.length;\n  const itemNum = valueArrays[0].length;\n  for (let j = 0; j < itemNum; j++) {\n    valueArrays.forEach((valueArray, i) => {\n      dataArray.push(valueArray[j]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  }\n\n  return new Float32Array(dataArray);\n};\n\nexport type TreeGraphDataWithPosition = TreeGraphData & {\n  x: number;\n  y: number;\n  children?: TreeGraphDataWithPosition[];\n};\n\n/**\n *\n * @param data Tree graph data\n * @param layout\n */\nexport const radialLayout = (\n  data: TreeGraphDataWithPosition,\n  layout?: string,\n): TreeGraphDataWithPosition => {\n  //  H / V / LR / RL / TB / BT\n  const VERTICAL_LAYOUTS: string[] = ['V', 'TB', 'BT'];\n  const min: IPoint = {\n    x: Infinity,\n    y: Infinity,\n  };\n\n  const max: IPoint = {\n    x: -Infinity,\n    y: -Infinity,\n  };\n  // TBxradyr\n  let rScale: 'x' | 'y' = 'x';\n  let radScale: 'x' | 'y' = 'y';\n  if (layout && VERTICAL_LAYOUTS.indexOf(layout) >= 0) {\n    // yradxr\n    radScale = 'x';\n    rScale = 'y';\n  }\n  let count = 0;\n  traverseTree(data, (node: TreeGraphDataWithPosition) => {\n    count++;\n    if (node.x > max.x) {\n      max.x = node.x;\n    }\n    if (node.x < min.x) {\n      min.x = node.x;\n    }\n    if (node.y > max.y) {\n      max.y = node.y;\n    }\n    if (node.y < min.y) {\n      min.y = node.y;\n    }\n    return true;\n  });\n  const avgRad = (Math.PI * 2) / count;\n  const radDiff = max[radScale] - min[radScale];\n  if (radDiff === 0) {\n    return data;\n  }\n\n  traverseTree(data, (node) => {\n    const radial = ((node[radScale] - min[radScale]) / radDiff) * (Math.PI * 2 - avgRad) + avgRad;\n    const r = Math.abs(rScale === 'x' ? node.x - data.x : node.y - data.y);\n    node.x = r * Math.cos(radial);\n    node.y = r * Math.sin(radial);\n    return true;\n  });\n  return data;\n};\n","import * as ColorUtil from './color';\nimport * as LayoutUtil from './layout';\nimport { Util } from '@antv/f6-core';\n\nconst G6Util: any = { ...Util, ...ColorUtil, ...LayoutUtil };\n\nexport default G6Util;\n","import { isNil, each, isString } from './util';\nimport { getOffScreenContext } from './offscreen';\n/**\n * \n * @param text \n * @param fontSize \n * @param lineHeight \n */\nexport function getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\n/**\n * \n * @param fontSize \n * @param lineHeight \n */\nexport function getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\n/**\n * \n * @param text \n * @param font \n */\nexport function getTextWidth(text, font) {\n    var context = getOffScreenContext(); //  ctx \n    var width = 0;\n    // null  undefined  0\n    if (isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexport function assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\n//# sourceMappingURL=text.js.map","import { each, isArray, isString } from '@antv/util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\nfunction parsePath(p) {\n    var path = p || [];\n    if (isArray(path)) {\n        return path;\n    }\n    if (isString(path)) {\n        path = path.match(regexTags);\n        each(path, function (item, index) {\n            // @ts-ignore\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                // @ts-ignore\n                item.splice(1, 0, item[0].substr(1));\n                // @ts-ignore\n                item[0] = tag;\n            }\n            // @ts-ignore\n            each(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    // @ts-ignore\n                    item[i] = +sub;\n                }\n            });\n            // @ts-ignore\n            path[index] = item;\n        });\n        return path;\n    }\n}\nexport default parsePath;\n//# sourceMappingURL=parse-path.js.map","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [{\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            }, {\n                x: +crp[i],\n                y: +crp[i + 1],\n            }, {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            }, {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            }];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push(['C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n}\n//# sourceMappingURL=catmull-rom-2-bezier.js.map","import { isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nexport default function parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\n//# sourceMappingURL=parse-path-string.js.map","import { mod, toRadian } from '@antv/util';\n// \nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|\nfunction vRatio(u, v) {\n    //  0  0 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// \nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n/**\n *  [x, y]\n * @param {Array} point1 \n * @param {Array} point2 \n */\nexport function isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod(toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // \n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // \n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    //  0  (0, 0) \n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // \n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // \n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // \n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    //  x \n    var theta = vAngle([1, 0], u);\n    // \n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        //  0 \n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\n//# sourceMappingURL=get-arc-params.js.map","import getArcParams from './get-arc-params';\nimport { isSamePoint } from './get-arc-params';\nimport parsePath from './parse-path';\n// \nfunction toSymmetry(point, center) {\n    return [center[0] + (center[0] - point[0]), center[1] + (center[1] - point[1])];\n}\nexport default function getSegments(path) {\n    path = parsePath(path);\n    var segments = [];\n    var currentPoint = null; // \n    var nextParams = null; //  path \n    var startMovePoint = null; //  M \n    var lastStartMovePointIndex = 0; //  M \n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        nextParams = path[i + 1];\n        var command = params[0];\n        // \n        var segment = {\n            command: command,\n            prePoint: currentPoint,\n            params: params,\n            startTangent: null,\n            endTangent: null,\n        };\n        switch (command) {\n            case 'M':\n                startMovePoint = [params[1], params[2]];\n                lastStartMovePointIndex = i;\n                break;\n            case 'A':\n                var arcParams = getArcParams(currentPoint, params);\n                segment['arcParams'] = arcParams;\n                break;\n            default:\n                break;\n        }\n        if (command === 'Z') {\n            //  Z  M \n            currentPoint = startMovePoint;\n            //  Z M  M \n            nextParams = path[lastStartMovePointIndex + 1];\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n        if (nextParams && nextParams[0] === 'Z') {\n            //  Z M \n            nextParams = path[lastStartMovePointIndex];\n            if (segments[lastStartMovePointIndex]) {\n                //  Z M \n                segments[lastStartMovePointIndex].prePoint = currentPoint;\n            }\n        }\n        segment['currentPoint'] = currentPoint;\n        //  M  M \n        if (segments[lastStartMovePointIndex] &&\n            isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n            segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n        }\n        var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n        segment['nextPoint'] = nextPoint;\n        // Add startTangent and endTangent\n        var prePoint = segment.prePoint;\n        if (['L', 'H', 'V'].includes(command)) {\n            segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n            segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n        }\n        else if (command === 'Q') {\n            // \n            var cp = [params[1], params[2]];\n            //  currentPoint\n            segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n            segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n        }\n        else if (command === 'T') {\n            var preSegment = segments[i - 1];\n            var cp = toSymmetry(preSegment.currentPoint, prePoint);\n            if (preSegment.command === 'Q') {\n                segment.command = 'Q';\n                segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n                segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n            }\n            else {\n                segment.command = 'TL';\n                segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n                segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n            }\n        }\n        else if (command === 'C') {\n            // \n            var cp1 = [params[1], params[2]];\n            var cp2 = [params[3], params[4]];\n            segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n            segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n        }\n        else if (command === 'S') {\n            var preSegment = segments[i - 1];\n            var cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n            var cp2 = [params[1], params[2]];\n            if (preSegment.command === 'C') {\n                segment.command = 'C'; //  S  C \n                segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n            else {\n                segment.command = 'SQ'; //  S  SQ \n                segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n        }\n        else if (command === 'A') {\n            var d = 0.001;\n            var _a = segment['arcParams'] || {}, _b = _a.cx, cx = _b === void 0 ? 0 : _b, _c = _a.cy, cy = _c === void 0 ? 0 : _c, _d = _a.rx, rx = _d === void 0 ? 0 : _d, _e = _a.ry, ry = _e === void 0 ? 0 : _e, _f = _a.sweepFlag, sweepFlag = _f === void 0 ? 0 : _f, _g = _a.startAngle, startAngle = _g === void 0 ? 0 : _g, _h = _a.endAngle, endAngle = _h === void 0 ? 0 : _h;\n            if (sweepFlag === 0) {\n                d *= -1;\n            }\n            var dx1 = rx * Math.cos(startAngle - d) + cx;\n            var dy1 = ry * Math.sin(startAngle - d) + cy;\n            segment.startTangent = [dx1 - startMovePoint[0], dy1 - startMovePoint[1]];\n            var dx2 = rx * Math.cos(startAngle + endAngle + d) + cx;\n            var dy2 = ry * Math.sin(startAngle + endAngle - d) + cy;\n            segment.endTangent = [prePoint[0] - dx2, prePoint[1] - dy2];\n        }\n        segments.push(segment);\n    }\n    return segments;\n}\n//# sourceMappingURL=path-2-segments.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = each;\n\n/**\n * @private\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n  let i;\n\n  if (!obj) {\n    return;\n  }\n\n  if (obj.forEach) {\n    obj.forEach(iterator, context);\n  } else if (obj.length !== undefined) {\n    i = 0;\n\n    while (i < obj.length) {\n      iterator.call(context, obj[i], i, obj);\n      i++;\n    }\n  } else {\n    for (i in obj) {\n      obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n    }\n  }\n}","import Quad from './quadratic';\nimport Cubic from './cubic';\nimport Arc from './arc';\nimport Line from './line';\nimport Polygon from './polygon';\nimport Polyline from './polyline';\nimport * as Util from './util';\nexport { Quad, Cubic, Arc, Line, Polygon, Polyline, Util };\n//# sourceMappingURL=index.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","/**\n * DOM \n * @param  {String} str Dom \n * @return {HTMLElement}  DOM \n */\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\nfunction initConstants() {\n    TABLE = document.createElement('table');\n    TABLE_TR = document.createElement('tr');\n    FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n    CONTAINERS = {\n        tr: document.createElement('tbody'),\n        tbody: TABLE,\n        thead: TABLE,\n        tfoot: TABLE,\n        td: TABLE_TR,\n        th: TABLE_TR,\n        '*': document.createElement('div'),\n    };\n}\nexport default function createDom(str) {\n    if (!TABLE) {\n        initConstants();\n    }\n    var name = FRAGMENT_REG.test(str) && RegExp.$1;\n    if (!name || !(name in CONTAINERS)) {\n        name = '*';\n    }\n    var container = CONTAINERS[name];\n    str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n    container.innerHTML = '' + str;\n    var dom = container.childNodes[0];\n    container.removeChild(dom);\n    return dom;\n}\n//# sourceMappingURL=create-dom.js.map","export default function modifyCSS(dom, css) {\n    if (dom) {\n        for (var key in css) {\n            if (css.hasOwnProperty(key)) {\n                dom.style[key] = css[key];\n            }\n        }\n    }\n    return dom;\n}\n//# sourceMappingURL=modify-css.js.map","'use strict';\n\nvar colorString = require('color-string');\nvar convert = require('color-convert');\n\nvar _slice = [].slice;\n\nvar skippedModels = [\n\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// shouldn't really be in color-convert either...\n\t'hex'\n];\n\nvar hashedModelKeys = {};\nObject.keys(convert).forEach(function (model) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n});\n\nvar limiters = {};\n\nfunction Color(obj, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tvar i;\n\tvar channels;\n\n\tif (obj == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (obj instanceof Color) {\n\t\tthis.model = obj.model;\n\t\tthis.color = obj.color.slice();\n\t\tthis.valpha = obj.valpha;\n\t} else if (typeof obj === 'string') {\n\t\tvar result = colorString.get(obj);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (obj.length) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\tthis.color = zeroArray(newArr, channels);\n\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t} else if (typeof obj === 'number') {\n\t\t// this is always RGB - can be converted later on.\n\t\tobj &= 0xFFFFFF;\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(obj >> 16) & 0xFF,\n\t\t\t(obj >> 8) & 0xFF,\n\t\t\tobj & 0xFF\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tvar keys = Object.keys(obj);\n\t\tif ('alpha' in obj) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t}\n\n\t\tvar hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tvar labels = convert[this.model].labels;\n\t\tvar color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(obj[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tvar limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString: function () {\n\t\treturn this.string();\n\t},\n\n\ttoJSON: function () {\n\t\treturn this[this.model]();\n\t},\n\n\tstring: function (places) {\n\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString: function (places) {\n\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray: function () {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject: function () {\n\t\tvar result = {};\n\t\tvar channels = convert[this.model].channels;\n\t\tvar labels = convert[this.model].labels;\n\n\t\tfor (var i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray: function () {\n\t\tvar rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject: function () {\n\t\tvar rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround: function (places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex: function (val) {\n\t\tif (arguments.length) {\n\t\t\treturn new Color(val);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.rgb().color;\n\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.rgb().color;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight: function () {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = this.rgb();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\t\treturn rgb;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale: function () {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar rgb = this.rgb().color;\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(val, val, val);\n\t},\n\n\tfade: function (ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer: function (ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.hsl();\n\t\tvar hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix: function (mixinColor, weight) {\n\t\t// ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\t\tvar color1 = mixinColor.rgb();\n\t\tvar color2 = this.rgb();\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t}\n};\n\n// model conversion methods and static constructors\nObject.keys(convert).forEach(function (model) {\n\tif (skippedModels.indexOf(model) !== -1) {\n\t\treturn;\n\t}\n\n\tvar channels = convert[model].channels;\n\n\t// conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\t\treturn new Color(color, model);\n\t};\n});\n\nfunction roundTo(num, places) {\n\treturn Number(num.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (num) {\n\t\treturn roundTo(num, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tmodel.forEach(function (m) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t});\n\n\tmodel = model[0];\n\n\treturn function (val) {\n\t\tvar result;\n\n\t\tif (arguments.length) {\n\t\t\tif (modifier) {\n\t\t\t\tval = modifier(val);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = val;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(val) {\n\treturn Array.isArray(val) ? val : [val];\n}\n\nfunction zeroArray(arr, length) {\n\tfor (var i = 0; i < length; i++) {\n\t\tif (typeof arr[i] !== 'number') {\n\t\t\tarr[i] = 0;\n\t\t}\n\t}\n\n\treturn arr;\n}\n\nmodule.exports = Color;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _recognizerConstructor = _interopRequireDefault(require(\"../recognizerjs/recognizer-constructor\"));\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nclass AttrRecognizer extends _recognizerConstructor.default {\n  constructor() {\n    super(...arguments);\n  }\n  /**\n   * @private\n   * Used to check if it the recognizer receives valid input, like input.distance > 10.\n   * @memberof AttrRecognizer\n   * @param {Object} input\n   * @returns {Boolean} recognized\n   */\n\n\n  attrTest(input) {\n    let optionPointers = this.options.pointers;\n    return optionPointers === 0 || input.pointers.length === optionPointers;\n  }\n  /**\n   * @private\n   * Process the input and return the state for the recognizer\n   * @memberof AttrRecognizer\n   * @param {Object} input\n   * @returns {*} State\n   */\n\n\n  process(input) {\n    let {\n      state\n    } = this;\n    let {\n      eventType\n    } = input;\n    let isRecognized = state & (_recognizerConsts.STATE_BEGAN | _recognizerConsts.STATE_CHANGED);\n    let isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n    if (isRecognized && (eventType & _inputConsts.INPUT_CANCEL || !isValid)) {\n      return state | _recognizerConsts.STATE_CANCELLED;\n    } else if (isRecognized || isValid) {\n      if (eventType & _inputConsts.INPUT_END) {\n        return state | _recognizerConsts.STATE_ENDED;\n      } else if (!(state & _recognizerConsts.STATE_BEGAN)) {\n        return _recognizerConsts.STATE_BEGAN;\n      }\n\n      return state | _recognizerConsts.STATE_CHANGED;\n    }\n\n    return _recognizerConsts.STATE_FAILED;\n  }\n\n}\n\nexports.default = AttrRecognizer;\nAttrRecognizer.prototype.defaults = {\n  /**\n   * @private\n   * @type {Number}\n   * @default 1\n   */\n  pointers: 1\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _recognizerConsts = require(\"./recognizer-consts\");\n\nvar _assign = _interopRequireDefault(require(\"../utils/assign\"));\n\nvar _uniqueId = _interopRequireDefault(require(\"../utils/unique-id\"));\n\nvar _ifUndefined = _interopRequireDefault(require(\"../utils/if-undefined\"));\n\nvar _invokeArrayArg = _interopRequireDefault(require(\"../utils/invoke-array-arg\"));\n\nvar _inArray = _interopRequireDefault(require(\"../utils/in-array\"));\n\nvar _boolOrFn = _interopRequireDefault(require(\"../utils/bool-or-fn\"));\n\nvar _getRecognizerByNameIfManager = _interopRequireDefault(require(\"./get-recognizer-by-name-if-manager\"));\n\nvar _stateStr = _interopRequireDefault(require(\"./state-str\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\n\n/**\n * @private\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nclass Recognizer {\n  constructor(options) {\n    this.options = (0, _assign.default)({}, this.defaults, options || {});\n    this.id = (0, _uniqueId.default)();\n    this.manager = null; // default is enable true\n\n    this.options.enable = (0, _ifUndefined.default)(this.options.enable, true);\n    this.state = _recognizerConsts.STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n  /**\n   * @private\n   * set options\n   * @param {Object} options\n   * @return {Recognizer}\n   */\n\n\n  set(options) {\n    (0, _assign.default)(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n    this.manager && this.manager.touchAction.update();\n    return this;\n  }\n  /**\n   * @private\n   * recognize simultaneous with an other recognizer.\n   * @param {Recognizer} otherRecognizer\n   * @returns {Recognizer} this\n   */\n\n\n  recognizeWith(otherRecognizer) {\n    if ((0, _invokeArrayArg.default)(otherRecognizer, 'recognizeWith', this)) {\n      return this;\n    }\n\n    let {\n      simultaneous\n    } = this;\n    otherRecognizer = (0, _getRecognizerByNameIfManager.default)(otherRecognizer, this);\n\n    if (!simultaneous[otherRecognizer.id]) {\n      simultaneous[otherRecognizer.id] = otherRecognizer;\n      otherRecognizer.recognizeWith(this);\n    }\n\n    return this;\n  }\n  /**\n   * @private\n   * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n   * @param {Recognizer} otherRecognizer\n   * @returns {Recognizer} this\n   */\n\n\n  dropRecognizeWith(otherRecognizer) {\n    if ((0, _invokeArrayArg.default)(otherRecognizer, 'dropRecognizeWith', this)) {\n      return this;\n    }\n\n    otherRecognizer = (0, _getRecognizerByNameIfManager.default)(otherRecognizer, this);\n    delete this.simultaneous[otherRecognizer.id];\n    return this;\n  }\n  /**\n   * @private\n   * recognizer can only run when an other is failing\n   * @param {Recognizer} otherRecognizer\n   * @returns {Recognizer} this\n   */\n\n\n  requireFailure(otherRecognizer) {\n    if ((0, _invokeArrayArg.default)(otherRecognizer, 'requireFailure', this)) {\n      return this;\n    }\n\n    let {\n      requireFail\n    } = this;\n    otherRecognizer = (0, _getRecognizerByNameIfManager.default)(otherRecognizer, this);\n\n    if ((0, _inArray.default)(requireFail, otherRecognizer) === -1) {\n      requireFail.push(otherRecognizer);\n      otherRecognizer.requireFailure(this);\n    }\n\n    return this;\n  }\n  /**\n   * @private\n   * drop the requireFailure link. it does not remove the link on the other recognizer.\n   * @param {Recognizer} otherRecognizer\n   * @returns {Recognizer} this\n   */\n\n\n  dropRequireFailure(otherRecognizer) {\n    if ((0, _invokeArrayArg.default)(otherRecognizer, 'dropRequireFailure', this)) {\n      return this;\n    }\n\n    otherRecognizer = (0, _getRecognizerByNameIfManager.default)(otherRecognizer, this);\n    let index = (0, _inArray.default)(this.requireFail, otherRecognizer);\n\n    if (index > -1) {\n      this.requireFail.splice(index, 1);\n    }\n\n    return this;\n  }\n  /**\n   * @private\n   * has require failures boolean\n   * @returns {boolean}\n   */\n\n\n  hasRequireFailures() {\n    return this.requireFail.length > 0;\n  }\n  /**\n   * @private\n   * if the recognizer can recognize simultaneous with an other recognizer\n   * @param {Recognizer} otherRecognizer\n   * @returns {Boolean}\n   */\n\n\n  canRecognizeWith(otherRecognizer) {\n    return !!this.simultaneous[otherRecognizer.id];\n  }\n  /**\n   * @private\n   * You should use `tryEmit` instead of `emit` directly to check\n   * that all the needed recognizers has failed before emitting.\n   * @param {Object} input\n   */\n\n\n  emit(input) {\n    let self = this;\n    let {\n      state\n    } = this;\n\n    function emit(event) {\n      self.manager.emit(event, input);\n    } // 'panstart' and 'panmove'\n\n\n    if (state < _recognizerConsts.STATE_ENDED) {\n      emit(self.options.event + (0, _stateStr.default)(state));\n    }\n\n    emit(self.options.event); // simple 'eventName' events\n\n    if (input.additionalEvent) {\n      // additional event(panleft, panright, pinchin, pinchout...)\n      emit(input.additionalEvent);\n    } // panend and pancancel\n\n\n    if (state >= _recognizerConsts.STATE_ENDED) {\n      emit(self.options.event + (0, _stateStr.default)(state));\n    }\n  }\n  /**\n   * @private\n   * Check that all the require failure recognizers has failed,\n   * if true, it emits a gesture event,\n   * otherwise, setup the state to FAILED.\n   * @param {Object} input\n   */\n\n\n  tryEmit(input) {\n    if (this.canEmit()) {\n      return this.emit(input);\n    } // it's failing anyway\n\n\n    this.state = _recognizerConsts.STATE_FAILED;\n  }\n  /**\n   * @private\n   * can we emit?\n   * @returns {boolean}\n   */\n\n\n  canEmit() {\n    let i = 0;\n\n    while (i < this.requireFail.length) {\n      if (!(this.requireFail[i].state & (_recognizerConsts.STATE_FAILED | _recognizerConsts.STATE_POSSIBLE))) {\n        return false;\n      }\n\n      i++;\n    }\n\n    return true;\n  }\n  /**\n   * @private\n   * update the recognizer\n   * @param {Object} inputData\n   */\n\n\n  recognize(inputData) {\n    // make a new copy of the inputData\n    // so we can change the inputData without messing up the other recognizers\n    let inputDataClone = (0, _assign.default)({}, inputData); // is is enabled and allow recognizing?\n\n    if (!(0, _boolOrFn.default)(this.options.enable, [this, inputDataClone])) {\n      this.reset();\n      this.state = _recognizerConsts.STATE_FAILED;\n      return;\n    } // reset when we've reached the end\n\n\n    if (this.state & (_recognizerConsts.STATE_RECOGNIZED | _recognizerConsts.STATE_CANCELLED | _recognizerConsts.STATE_FAILED)) {\n      this.state = _recognizerConsts.STATE_POSSIBLE;\n    }\n\n    this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n    // so trigger an event\n\n    if (this.state & (_recognizerConsts.STATE_BEGAN | _recognizerConsts.STATE_CHANGED | _recognizerConsts.STATE_ENDED | _recognizerConsts.STATE_CANCELLED)) {\n      this.tryEmit(inputDataClone);\n    }\n  }\n  /**\n   * @private\n   * return the state of the recognizer\n   * the actual recognizing happens in this method\n   * @virtual\n   * @param {Object} inputData\n   * @returns {constant} STATE\n   */\n\n  /* jshint ignore:start */\n\n\n  process(inputData) {}\n  /* jshint ignore:end */\n\n  /**\n   * @private\n   * return the preferred touch-action\n   * @virtual\n   * @returns {Array}\n   */\n\n\n  getTouchAction() {}\n  /**\n   * @private\n   * called when the gesture isn't allowed to recognize\n   * like when another is being recognized or it is disabled\n   * @virtual\n   */\n\n\n  reset() {}\n\n}\n\nexports.default = Recognizer;\nRecognizer.prototype.defaults = {};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inArray;\n\n/**\n * @private\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n  if (src.indexOf && !findByKey) {\n    return src.indexOf(find);\n  } else {\n    let i = 0;\n\n    while (i < src.length) {\n      if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n        // do not use === here, test fails\n        return i;\n      }\n\n      i++;\n    }\n\n    return -1;\n  }\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLayoutByName = exports.unRegisterLayout = exports.registerLayout = void 0;\nvar base_1 = require(\"../layout/base\");\nvar util_1 = require(\"../util\");\nvar map = new Map();\nvar registerLayout = function (name, layoutOverride) {\n    if (map.get(name)) {\n        console.warn(\"The layout with the name \" + name + \" exists already, it will be overridden\");\n    }\n    if (util_1.isObject(layoutOverride)) {\n        // tslint:disable-next-line: max-classes-per-file\n        var GLayout = /** @class */ (function (_super) {\n            __extends(GLayout, _super);\n            function GLayout(cfg) {\n                var _this = _super.call(this) || this;\n                var self = _this;\n                var props = {};\n                var defaultCfg = self.getDefaultCfg();\n                Object.assign(props, defaultCfg, layoutOverride, cfg);\n                Object.keys(props).forEach(function (key) {\n                    var value = props[key];\n                    self[key] = value;\n                });\n                return _this;\n            }\n            return GLayout;\n        }(base_1.Base));\n        map.set(name, GLayout);\n    }\n    else {\n        map.set(name, layoutOverride);\n    }\n};\nexports.registerLayout = registerLayout;\nvar unRegisterLayout = function (name) {\n    if (map.has(name)) {\n        map.delete(name);\n    }\n};\nexports.unRegisterLayout = unRegisterLayout;\nvar getLayoutByName = function (name) {\n    if (map.has(name)) {\n        return map.get(name);\n    }\n    return null;\n};\nexports.getLayoutByName = getLayoutByName;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RandomLayout = void 0;\nvar base_1 = require(\"./base\");\n/**\n * \n */\nvar RandomLayout = /** @class */ (function (_super) {\n    __extends(RandomLayout, _super);\n    function RandomLayout(options) {\n        var _this = _super.call(this) || this;\n        /**  */\n        _this.center = [0, 0];\n        /**  */\n        _this.width = 300;\n        /**  */\n        _this.height = 300;\n        _this.nodes = [];\n        _this.edges = [];\n        /**  */\n        _this.onLayoutEnd = function () { };\n        _this.updateCfg(options);\n        return _this;\n    }\n    RandomLayout.prototype.getDefaultCfg = function () {\n        return {\n            center: [0, 0],\n            width: 300,\n            height: 300\n        };\n    };\n    /**\n     * \n     */\n    RandomLayout.prototype.execute = function () {\n        var self = this;\n        var nodes = self.nodes;\n        var layoutScale = 0.9;\n        var center = self.center;\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        if (nodes) {\n            nodes.forEach(function (node) {\n                node.x = (Math.random() - 0.5) * layoutScale * self.width + center[0];\n                node.y = (Math.random() - 0.5) * layoutScale * self.height + center[1];\n            });\n        }\n        if (self.onLayoutEnd)\n            self.onLayoutEnd();\n        return {\n            nodes: nodes,\n            edges: this.edges\n        };\n    };\n    RandomLayout.prototype.getType = function () {\n        return \"random\";\n    };\n    return RandomLayout;\n}(base_1.Base));\nexports.RandomLayout = RandomLayout;\n//# sourceMappingURL=random.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * @private\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nlet assign;\n\nif (typeof Object.assign !== 'function') {\n  assign = function assign(target) {\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    let output = Object(target);\n\n    for (let index = 1; index < arguments.length; index++) {\n      const source = arguments[index];\n\n      if (source !== undefined && source !== null) {\n        for (const nextKey in source) {\n          if (source.hasOwnProperty(nextKey)) {\n            output[nextKey] = source[nextKey];\n          }\n        }\n      }\n    }\n\n    return output;\n  };\n} else {\n  assign = Object.assign;\n}\n\nvar _default = assign;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = boolOrFn;\n\nvar _utilsConsts = require(\"./utils-consts\");\n\n/**\n * @private\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n  if (typeof val === _utilsConsts.TYPE_FUNCTION) {\n    return val.apply(args ? args[0] || undefined : undefined, args);\n  }\n\n  return val;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = splitStr;\n\n/**\n * @private\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n  return str.trim().split(/\\s+/g);\n}","var GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * \n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * \n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         *  ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.toShape = null;\n        // \n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * \n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * \n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexport default GraphEvent;\n//# sourceMappingURL=graph-event.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * \n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // \n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // \n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // \n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","//  ctx isPointInPath\nvar offScreenCtx = null;\nexport function getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\n//# sourceMappingURL=offscreen.js.map","import { __extends } from \"tslib\";\nimport { max, min } from '@antv/util';\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\n/**\n *  canvas\n * @param {IElement} element \n * @param {ICanvas}  canvas  \n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n *  timeline\n * @param {IElement} element  \n * @param {Timeline} timeline \n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    //  element.remove() \n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    //  BBox\n    Container.prototype.getBBox = function () {\n        // \n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // \n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // \n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix  null \n        // \n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // \n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // \n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // \n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        //  group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            //  x, y  group \n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        element.onCanvasChange('add');\n        this._applyElementMatrix(element);\n    };\n    // \n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // \n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // \n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // \n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * \n     * @return {number} \n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @param {boolean} destroy  true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * \n     * @param  {ElementFilterFn}   fn  \n     * @return {IElement[]} \n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param  {ElementFilterFn} fn    \n     * @return {IElement|null} \n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     *  ID \n     * @param {string} id  id\n     * @return {IElement|null} \n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * \n     *  className \n     * TODO:  G6 3.3  G6  findByClassName G \n     * @param {string} className  className\n     * @return {IElement | null} \n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     *  name \n     * @param {string}      name \n     * @return {IElement[]} \n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar transform = ext.transform;\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n//  toAttrs \nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// \n// \nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        //  <  &&  > \n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * \n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // \n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * \n     * @param {ChangeType} changeType \n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * \n     * @param {object} attrs \n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // \n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * \n     * @param {string} name \n     * @param {any} value \n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * \n     * @param {string} name \n     * @param {any} value \n     * @param {any} originValue \n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * \n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        if (this.cfg.isClipShape) {\n            var applyTo = this.cfg.applyTo;\n            if (applyTo) {\n                applyTo.onCanvasChange('clip');\n            }\n        }\n        else {\n            this.onCanvasChange('attr');\n        }\n    };\n    Element.prototype.show = function () {\n        //  set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        //  set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            //  zIndex  ( onCanvasChange('zIndex')) sort \n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                //  remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    //  matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.cfg.totalMatrix;\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.cfg.parentMatrix;\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    //  matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * \n     * @returns {number[]|null} \n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // \n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // /\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    //  clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        //  clip clip  clip \n        // TODO: setClip  shape  shape \n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   //  clipShape \n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        //  null clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    applyTo: this,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        //  this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        //  Null\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * \n     * @return {boolean} \n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * \n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * :\n     *   toAttrs  \n     *   onFrame  \n     *   duration \n     *   easing   \n     *   callback \n     *   delay    \n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.get('timeline') && !this.get('canvas')) {\n            return;\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        //  tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        //  toAttrs onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            //  3.0 onFrame  repeat  toAttrs \n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        //  duration animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg \n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            //  callback delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            //  easing callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // \n        if (animations.length > 0) {\n            // ,\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // \n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * \n     * @param {boolean} toEnd \n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // \n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // \n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * \n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // \n                animation.pauseCallback();\n            }\n        });\n        // \n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * \n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // \n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * \n     * @param  {string}     type \n     * @param  {GraphEvent} eventObj \n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            //  name \n            var name_1 = element.get('name');\n            if (name_1) {\n                //  mouseenter  mouseleave  Parent\n                if (\n                //  element  Group  Canvas  isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        //  shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        //  name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            //  * = \n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            //  delegateObject \n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * \n     * @param {number} translateX \n     * @param {number} translateY \n     * @return {IElement} \n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} targetX \n     * @param {number} targetX \n     * @return {IElement} \n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     *  move  moveTo  moveTo \n     * @param {number} targetX  x \n     * @param {number} targetY  y \n     * @return {IElement} \n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * \n     * @param {number} ratioX \n     * @param {number} ratioY \n     * @return {IElement} \n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (0, 0) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (x, y) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { each, isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp(\"([a-z])[\" + SPACES + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + SPACES + \"]*,?[\" + SPACES + \"]*)+)\", 'ig');\nvar PATH_VALUES = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + SPACES + \"]*,?[\" + SPACES + \"]*\", 'ig');\n// Parse given path string into an array of arrays of path segments\nvar parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return pathString;\n    });\n    return data;\n};\n// http://schepers.cc/getting-to-the-point\nvar catmullRomToBezier = function (crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1],\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            },\n        ];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push([\n            'C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n};\nvar ellipsePath = function (x, y, rx, ry, a) {\n    var res = [];\n    if (a === null && ry === null) {\n        ry = rx;\n    }\n    x = +x;\n    y = +y;\n    rx = +rx;\n    ry = +ry;\n    if (a !== null) {\n        var rad = Math.PI / 180;\n        var x1 = x + rx * Math.cos(-ry * rad);\n        var x2 = x + rx * Math.cos(-a * rad);\n        var y1 = y + rx * Math.sin(-ry * rad);\n        var y2 = y + rx * Math.sin(-a * rad);\n        res = [\n            ['M', x1, y1],\n            ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2],\n        ];\n    }\n    else {\n        res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    }\n    return res;\n};\nvar pathToAbsolute = function (pathArray) {\n    pathArray = parsePathString(pathArray);\n    if (!pathArray || !pathArray.length) {\n        return [['M', 0, 0]];\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    if (pathArray[0][0] === 'M') {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    var crz = pathArray.length === 3 &&\n        pathArray[0][0] === 'M' &&\n        pathArray[1][0].toUpperCase() === 'R' &&\n        pathArray[2][0].toUpperCase() === 'Z';\n    for (var r = void 0, pa = void 0, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push((r = []));\n        pa = pathArray[i];\n        pa0 = pa[0];\n        if (pa0 !== pa0.toUpperCase()) {\n            r[0] = pa0.toUpperCase();\n            switch (r[0]) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'R':\n                    dots = [x, y].concat(pa.slice(1));\n                    for (var j = 2, jj = dots.length; j < jj; j++) {\n                        dots[j] = +dots[j] + x;\n                        dots[++j] = +dots[j] + y;\n                    }\n                    res.pop();\n                    res = res.concat(catmullRomToBezier(dots, crz));\n                    break;\n                case 'O':\n                    res.pop();\n                    dots = ellipsePath(x, y, pa[1], pa[2]);\n                    dots.push(dots[0]);\n                    res = res.concat(dots);\n                    break;\n                case 'U':\n                    res.pop();\n                    res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                    r = ['U'].concat(res[res.length - 1].slice(-2));\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + (j % 2 ? x : y);\n                    }\n            }\n        }\n        else if (pa0 === 'R') {\n            dots = [x, y].concat(pa.slice(1));\n            res.pop();\n            res = res.concat(catmullRomToBezier(dots, crz));\n            r = ['R'].concat(pa.slice(-2));\n        }\n        else if (pa0 === 'O') {\n            res.pop();\n            dots = ellipsePath(x, y, pa[1], pa[2]);\n            dots.push(dots[0]);\n            res = res.concat(dots);\n        }\n        else if (pa0 === 'U') {\n            res.pop();\n            res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n            r = ['U'].concat(res[res.length - 1].slice(-2));\n        }\n        else {\n            for (var k = 0, kk = pa.length; k < kk; k++) {\n                r[k] = pa[k];\n            }\n        }\n        pa0 = pa0.toUpperCase();\n        if (pa0 !== 'O') {\n            switch (r[0]) {\n                case 'Z':\n                    x = +mx;\n                    y = +my;\n                    break;\n                case 'H':\n                    x = r[1];\n                    break;\n                case 'V':\n                    y = r[1];\n                    break;\n                case 'M':\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                    break; // for lint\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n    }\n    return res;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // \n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // @ts-ignore\n        f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n        // @ts-ignore\n        f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar pathToCurve = function (path, path2) {\n    var p = pathToAbsolute(path);\n    var p2 = path2 && pathToAbsolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx;\n        var ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n};\nvar p2s = /,?([a-z]),?/gi;\nvar parsePathArray = function (path) {\n    return path.join(',').replace(p2s, '$1');\n};\nvar base3 = function (t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n    var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z === null) {\n        z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2;\n    var n = 12;\n    var Tvalues = [\n        -0.1252,\n        0.1252,\n        -0.3678,\n        0.3678,\n        -0.5873,\n        0.5873,\n        -0.7699,\n        0.7699,\n        -0.9041,\n        0.9041,\n        -0.9816,\n        0.9816,\n    ];\n    var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n    var sum = 0;\n    for (var i = 0; i < n; i++) {\n        var ct = z2 * Tvalues[i] + z2;\n        var xbase = base3(ct, x1, x2, x3, x4);\n        var ybase = base3(ct, y1, y2, y3, y4);\n        var comb = xbase * xbase + ybase * ybase;\n        sum += Cvalues[i] * Math.sqrt(comb);\n    }\n    return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    var tvalues = [];\n    var bounds = [[], []];\n    var a;\n    var b;\n    var c;\n    var t;\n    for (var i = 0; i < 2; ++i) {\n        if (i === 0) {\n            b = 6 * x0 - 12 * x1 + 6 * x2;\n            a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n            c = 3 * x1 - 3 * x0;\n        }\n        else {\n            b = 6 * y0 - 12 * y1 + 6 * y2;\n            a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n            c = 3 * y1 - 3 * y0;\n        }\n        if (Math.abs(a) < 1e-12) {\n            if (Math.abs(b) < 1e-12) {\n                continue;\n            }\n            t = -c / b;\n            if (t > 0 && t < 1) {\n                tvalues.push(t);\n            }\n            continue;\n        }\n        var b2ac = b * b - 4 * c * a;\n        var sqrtb2ac = Math.sqrt(b2ac);\n        if (b2ac < 0) {\n            continue;\n        }\n        var t1 = (-b + sqrtb2ac) / (2 * a);\n        if (t1 > 0 && t1 < 1) {\n            tvalues.push(t1);\n        }\n        var t2 = (-b - sqrtb2ac) / (2 * a);\n        if (t2 > 0 && t2 < 1) {\n            tvalues.push(t2);\n        }\n    }\n    var j = tvalues.length;\n    var jlen = j;\n    var mt;\n    while (j--) {\n        t = tvalues[j];\n        mt = 1 - t;\n        bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n        bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return {\n        min: {\n            x: Math.min.apply(0, bounds[0]),\n            y: Math.min.apply(0, bounds[1]),\n        },\n        max: {\n            x: Math.max.apply(0, bounds[0]),\n            y: Math.max.apply(0, bounds[1]),\n        },\n    };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (Math.max(x1, x2) < Math.min(x3, x4) ||\n        Math.min(x1, x2) > Math.max(x3, x4) ||\n        Math.max(y1, y2) < Math.min(y3, y4) ||\n        Math.min(y1, y2) > Math.max(y3, y4)) {\n        return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n    var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n    var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (!denominator) {\n        return;\n    }\n    var px = nx / denominator;\n    var py = ny / denominator;\n    var px2 = +px.toFixed(2);\n    var py2 = +py.toFixed(2);\n    if (px2 < +Math.min(x1, x2).toFixed(2) ||\n        px2 > +Math.max(x1, x2).toFixed(2) ||\n        px2 < +Math.min(x3, x4).toFixed(2) ||\n        px2 > +Math.max(x3, x4).toFixed(2) ||\n        py2 < +Math.min(y1, y2).toFixed(2) ||\n        py2 > +Math.max(y1, y2).toFixed(2) ||\n        py2 < +Math.min(y3, y4).toFixed(2) ||\n        py2 > +Math.max(y3, y4).toFixed(2)) {\n        return;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar rectPath = function (x, y, w, h, r) {\n    if (r) {\n        return [\n            ['M', +x + +r, y],\n            ['l', w - r * 2, 0],\n            ['a', r, r, 0, 0, 1, r, r],\n            ['l', 0, h - r * 2],\n            ['a', r, r, 0, 0, 1, -r, r],\n            ['l', r * 2 - w, 0],\n            ['a', r, r, 0, 0, 1, -r, -r],\n            ['l', 0, r * 2 - h],\n            ['a', r, r, 0, 0, 1, r, -r],\n            ['z'],\n        ];\n    }\n    var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n    // @ts-ignore\n    res.parsePathArray = parsePathArray;\n    return res;\n};\nvar box = function (x, y, width, height) {\n    if (x === null) {\n        x = y = width = height = 0;\n    }\n    if (y === null) {\n        y = x.y;\n        width = x.width;\n        height = x.height;\n        x = x.x;\n    }\n    return {\n        x: x,\n        y: y,\n        width: width,\n        w: width,\n        height: height,\n        h: height,\n        x2: x + width,\n        y2: y + height,\n        cx: x + width / 2,\n        cy: y + height / 2,\n        r1: Math.min(width, height) / 2,\n        r2: Math.max(width, height) / 2,\n        r0: Math.sqrt(width * width + height * height) / 2,\n        path: rectPath(x, y, width, height),\n        vb: [x, y, width, height].join(' '),\n    };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n    bbox1 = box(bbox1);\n    bbox2 = box(bbox2);\n    return (isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n        (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n            ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y))));\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!isArray(p1x)) {\n        p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t;\n    var t13 = Math.pow(t1, 3);\n    var t12 = Math.pow(t1, 2);\n    var t2 = t * t;\n    var t3 = t2 * t;\n    var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n    var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n    var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n    var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n    var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n    var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n    var ax = t1 * p1x + t * c1x;\n    var ay = t1 * p1y + t * c1y;\n    var cx = t1 * c2x + t * p2x;\n    var cy = t1 * c2y + t * p2y;\n    var alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n    // (mx > nx || my < ny) && (alpha += 180);\n    return {\n        x: x,\n        y: y,\n        m: {\n            x: mx,\n            y: my,\n        },\n        n: {\n            x: nx,\n            y: ny,\n        },\n        start: {\n            x: ax,\n            y: ay,\n        },\n        end: {\n            x: cx,\n            y: cy,\n        },\n        alpha: alpha,\n    };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n    var bbox1 = bezierBBox(bez1);\n    var bbox2 = bezierBBox(bez2);\n    if (!isBBoxIntersect(bbox1, bbox2)) {\n        return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1);\n    var l2 = bezlen.apply(0, bez2);\n    var n1 = ~~(l1 / 8);\n    var n2 = ~~(l2 / 8);\n    var dots1 = [];\n    var dots2 = [];\n    var xy = {};\n    var res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n        dots1.push({\n            x: d.x,\n            y: d.y,\n            t: i / n1,\n        });\n    }\n    for (var i = 0; i < n2 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n        dots2.push({\n            x: d.x,\n            y: d.y,\n            t: i / n2,\n        });\n    }\n    for (var i = 0; i < n1; i++) {\n        for (var j = 0; j < n2; j++) {\n            var di = dots1[i];\n            var di1 = dots1[i + 1];\n            var dj = dots2[j];\n            var dj1 = dots2[j + 1];\n            var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n            var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n            var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n            if (is) {\n                if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n                    continue;\n                }\n                xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n                var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                    if (justCount) {\n                        // @ts-ignore\n                        res += 1;\n                    }\n                    else {\n                        // @ts-ignore\n                        res.push({\n                            x: is.x,\n                            y: is.y,\n                            t1: t1,\n                            t2: t2,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n    path1 = pathToCurve(path1);\n    path2 = pathToCurve(path2);\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x1m;\n    var y1m;\n    var x2m;\n    var y2m;\n    var bez1;\n    var bez2;\n    var res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n        var pi = path1[i];\n        if (pi[0] === 'M') {\n            x1 = x1m = pi[1];\n            y1 = y1m = pi[2];\n        }\n        else {\n            if (pi[0] === 'C') {\n                bez1 = [x1, y1].concat(pi.slice(1));\n                x1 = bez1[6];\n                y1 = bez1[7];\n            }\n            else {\n                bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                x1 = x1m;\n                y1 = y1m;\n            }\n            for (var j = 0, jj = path2.length; j < jj; j++) {\n                var pj = path2[j];\n                if (pj[0] === 'M') {\n                    x2 = x2m = pj[1];\n                    y2 = y2m = pj[2];\n                }\n                else {\n                    if (pj[0] === 'C') {\n                        bez2 = [x2, y2].concat(pj.slice(1));\n                        x2 = bez2[6];\n                        y2 = bez2[7];\n                    }\n                    else {\n                        bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                        x2 = x2m;\n                        y2 = y2m;\n                    }\n                    var intr = interHelper(bez1, bez2, justCount);\n                    if (justCount) {\n                        // @ts-ignore\n                        res += intr;\n                    }\n                    else {\n                        // @ts-ignore\n                        for (var k = 0, kk = intr.length; k < kk; k++) {\n                            intr[k].segment1 = i;\n                            intr[k].segment2 = j;\n                            intr[k].bez1 = bez1;\n                            intr[k].bez2 = bez2;\n                        }\n                        // @ts-ignore\n                        res = res.concat(intr);\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar intersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n};\nfunction decasteljau(points, t) {\n    var left = [];\n    var right = [];\n    function recurse(points, t) {\n        if (points.length === 1) {\n            left.push(points[0]);\n            right.push(points[0]);\n        }\n        else {\n            var middlePoints = [];\n            for (var i = 0; i < points.length - 1; i++) {\n                if (i === 0) {\n                    left.push(points[0]);\n                }\n                if (i === points.length - 2) {\n                    right.push(points[i + 1]);\n                }\n                middlePoints[i] = [\n                    (1 - t) * points[i][0] + t * points[i + 1][0],\n                    (1 - t) * points[i][1] + t * points[i + 1][1],\n                ];\n            }\n            recurse(middlePoints, t);\n        }\n    }\n    if (points.length) {\n        recurse(points, t);\n    }\n    return { left: left, right: right.reverse() };\n}\nfunction splitCurve(start, end, count) {\n    var points = [[start[1], start[2]]];\n    count = count || 2;\n    var segments = [];\n    if (end[0] === 'A') {\n        points.push(end[6]);\n        points.push(end[7]);\n    }\n    else if (end[0] === 'C') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n        points.push([end[5], end[6]]);\n    }\n    else if (end[0] === 'S' || end[0] === 'Q') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n    }\n    else {\n        points.push([end[1], end[2]]);\n    }\n    var leftSegments = points;\n    var t = 1 / count;\n    for (var i = 0; i < count - 1; i++) {\n        var rt = t / (1 - t * i);\n        var split = decasteljau(leftSegments, rt);\n        segments.push(split.left);\n        leftSegments = split.right;\n    }\n    segments.push(leftSegments);\n    var result = segments.map(function (segment) {\n        var cmd = [];\n        if (segment.length === 4) {\n            cmd.push('C');\n            cmd = cmd.concat(segment[2]);\n        }\n        if (segment.length >= 3) {\n            if (segment.length === 3) {\n                cmd.push('Q');\n            }\n            cmd = cmd.concat(segment[1]);\n        }\n        if (segment.length === 2) {\n            cmd.push('L');\n        }\n        cmd = cmd.concat(segment[segment.length - 1]);\n        return cmd;\n    });\n    return result;\n}\nvar splitSegment = function (start, end, count) {\n    if (count === 1) {\n        return [[].concat(start)];\n    }\n    var segments = [];\n    if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n        segments = segments.concat(splitCurve(start, end, count));\n    }\n    else {\n        var temp = [].concat(start);\n        if (temp[0] === 'M') {\n            temp[0] = 'L';\n        }\n        for (var i = 0; i <= count - 1; i++) {\n            segments.push(temp);\n        }\n    }\n    return segments;\n};\nvar fillPath = function (source, target) {\n    if (source.length === 1) {\n        return source;\n    }\n    var sourceLen = source.length - 1;\n    var targetLen = target.length - 1;\n    var ratio = sourceLen / targetLen;\n    var segmentsToFill = [];\n    if (source.length === 1 && source[0][0] === 'M') {\n        for (var i = 0; i < targetLen - sourceLen; i++) {\n            source.push(source[0]);\n        }\n        return source;\n    }\n    for (var i = 0; i < targetLen; i++) {\n        var index = Math.floor(ratio * i);\n        segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n    }\n    var filled = segmentsToFill.reduce(function (filled, count, i) {\n        if (i === sourceLen) {\n            return filled.concat(source[sourceLen]);\n        }\n        return filled.concat(splitSegment(source[i], source[i + 1], count));\n    }, []);\n    filled.unshift(source[0]);\n    if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n        filled.push('Z');\n    }\n    return filled;\n};\nvar isEqual = function (obj1, obj2) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    var result = true;\n    each(obj1, function (item, i) {\n        if (item !== obj2[i]) {\n            result = false;\n            return false;\n        }\n    });\n    return result;\n};\nfunction getMinDiff(del, add, modify) {\n    var type = null;\n    var min = modify;\n    if (add < min) {\n        min = add;\n        type = 'add';\n    }\n    if (del < min) {\n        min = del;\n        type = 'del';\n    }\n    return {\n        type: type,\n        min: min,\n    };\n}\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * path\n */\nvar levenshteinDistance = function (source, target) {\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var sourceSegment;\n    var targetSegment;\n    var temp = 0;\n    if (sourceLen === 0 || targetLen === 0) {\n        return null;\n    }\n    var dist = [];\n    for (var i = 0; i <= sourceLen; i++) {\n        dist[i] = [];\n        dist[i][0] = { min: i };\n    }\n    for (var j = 0; j <= targetLen; j++) {\n        dist[0][j] = { min: j };\n    }\n    for (var i = 1; i <= sourceLen; i++) {\n        sourceSegment = source[i - 1];\n        for (var j = 1; j <= targetLen; j++) {\n            targetSegment = target[j - 1];\n            if (isEqual(sourceSegment, targetSegment)) {\n                temp = 0;\n            }\n            else {\n                temp = 1;\n            }\n            var del = dist[i - 1][j].min + 1;\n            var add = dist[i][j - 1].min + 1;\n            var modify = dist[i - 1][j - 1].min + temp;\n            dist[i][j] = getMinDiff(del, add, modify);\n        }\n    }\n    return dist;\n};\nvar fillPathByDiff = function (source, target) {\n    var diffMatrix = levenshteinDistance(source, target);\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var changes = [];\n    var index = 1;\n    var minPos = 1;\n    // sourcetarget\n    if (diffMatrix[sourceLen][targetLen].min !== sourceLen) {\n        // sourcetarget\n        for (var i = 1; i <= sourceLen; i++) {\n            var min = diffMatrix[i][i].min;\n            minPos = i;\n            for (var j = index; j <= targetLen; j++) {\n                if (diffMatrix[i][j].min < min) {\n                    min = diffMatrix[i][j].min;\n                    minPos = j;\n                }\n            }\n            index = minPos;\n            if (diffMatrix[i][index].type) {\n                changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n            }\n        }\n        // sourcepath\n        for (var i = changes.length - 1; i >= 0; i--) {\n            index = changes[i].index;\n            if (changes[i].type === 'add') {\n                source.splice(index, 0, [].concat(source[index]));\n            }\n            else {\n                source.splice(index, 1);\n            }\n        }\n    }\n    // source\n    sourceLen = source.length;\n    var diff = targetLen - sourceLen;\n    if (sourceLen < targetLen) {\n        for (var i = 0; i < diff; i++) {\n            if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n                source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n            }\n            else {\n                source.push(source[sourceLen - 1]);\n            }\n            sourceLen += 1;\n        }\n    }\n    return source;\n};\n// count\nfunction _splitPoints(points, former, count) {\n    var result = [].concat(points);\n    var index;\n    var t = 1 / (count + 1);\n    var formerEnd = _getSegmentPoints(former)[0];\n    for (var i = 1; i <= count; i++) {\n        t *= i;\n        index = Math.floor(points.length * t);\n        if (index === 0) {\n            result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n        }\n        else {\n            result.splice(index, 0, [\n                formerEnd[0] * t + points[index][0] * (1 - t),\n                formerEnd[1] * t + points[index][1] * (1 - t),\n            ]);\n        }\n    }\n    return result;\n}\n/*\n * pathSegment\n * M,L,A,Q,H,V\n * Q, S\n * C\n */\nfunction _getSegmentPoints(segment) {\n    var points = [];\n    switch (segment[0]) {\n        case 'M':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'L':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'A':\n            points.push([segment[6], segment[7]]);\n            break;\n        case 'Q':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'T':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'C':\n            points.push([segment[5], segment[6]]);\n            points.push([segment[1], segment[2]]);\n            points.push([segment[3], segment[4]]);\n            break;\n        case 'S':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'H':\n            points.push([segment[1], segment[1]]);\n            break;\n        case 'V':\n            points.push([segment[1], segment[1]]);\n            break;\n        default:\n    }\n    return points;\n}\nvar formatPath = function (fromPath, toPath) {\n    if (fromPath.length <= 1) {\n        return fromPath;\n    }\n    var points;\n    for (var i = 0; i < toPath.length; i++) {\n        if (fromPath[i][0] !== toPath[i][0]) {\n            // fromPathpathSegmenttoPath\n            points = _getSegmentPoints(fromPath[i]);\n            switch (toPath[i][0]) {\n                case 'M':\n                    fromPath[i] = ['M'].concat(points[0]);\n                    break;\n                case 'L':\n                    fromPath[i] = ['L'].concat(points[0]);\n                    break;\n                case 'A':\n                    fromPath[i] = [].concat(toPath[i]);\n                    fromPath[i][6] = points[0][0];\n                    fromPath[i][7] = points[0][1];\n                    break;\n                case 'Q':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'T':\n                    fromPath[i] = ['T'].concat(points[0]);\n                    break;\n                case 'C':\n                    if (points.length < 3) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 2);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'S':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                default:\n                    fromPath[i] = toPath[i];\n            }\n        }\n    }\n    return fromPath;\n};\nexport { catmullRomToBezier, fillPath, fillPathByDiff, formatPath, intersection, parsePathArray, parsePathString, pathToAbsolute, pathToCurve, rectPath, };\n//# sourceMappingURL=path.js.map","var GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * \n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * \n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         *  ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.toShape = null;\n        // \n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * \n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * \n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexport default GraphEvent;\n//# sourceMappingURL=graph-event.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport { isNil, isFunction, isString, isObject, isArray, mix, each, upperFirst } from '@antv/util';\n// \nexport function isParent(container, shape) {\n    //  shape  canvas \n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexport function isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\n//# sourceMappingURL=util.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * \n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // \n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // \n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // \n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","/**\n * @fileoverview  gl-matrix,  g-mobile  g-webgl  matrix \n *  2D  gl-matrix\n * @author dxq613@gmail.com\n */\n/**\n * 3\n * @param {number[]} a 1\n * @param {number[]} b 2\n */\nexport function multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n/**\n * 32\n * @param {number[]} m \n * @param {number[]} v \n */\nexport function multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n/**\n * \n * @param {number[]} a \n */\nexport function invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n//# sourceMappingURL=matrix.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar transform = ext.transform;\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n//  toAttrs \nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// \n// \nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        //  <  &&  > \n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * \n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // \n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * \n     * @param {ChangeType} changeType \n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * \n     * @param {object} attrs \n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // \n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * \n     * @param {string} name \n     * @param {any} value \n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * \n     * @param {string} name \n     * @param {any} value \n     * @param {any} originValue \n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * \n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        if (this.cfg.isClipShape) {\n            var applyTo = this.cfg.applyTo;\n            if (applyTo) {\n                applyTo.onCanvasChange('clip');\n            }\n        }\n        else {\n            this.onCanvasChange('attr');\n        }\n    };\n    Element.prototype.show = function () {\n        //  set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        //  set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            //  zIndex  ( onCanvasChange('zIndex')) sort \n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                //  remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    //  matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.cfg.totalMatrix;\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.cfg.parentMatrix;\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    //  matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * \n     * @returns {number[]|null} \n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // \n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // /\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    //  clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        //  clip clip  clip \n        // TODO: setClip  shape  shape \n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   //  clipShape \n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        //  null clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    applyTo: this,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        //  this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        //  Null\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * \n     * @return {boolean} \n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * \n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * :\n     *   toAttrs  \n     *   onFrame  \n     *   duration \n     *   easing   \n     *   callback \n     *   delay    \n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.get('timeline') && !this.get('canvas')) {\n            return;\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        //  tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        //  toAttrs onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            //  3.0 onFrame  repeat  toAttrs \n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        //  duration animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg \n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            //  callback delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            //  easing callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // \n        if (animations.length > 0) {\n            // ,\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // \n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * \n     * @param {boolean} toEnd \n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // \n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // \n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * \n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // \n                animation.pauseCallback();\n            }\n        });\n        // \n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * \n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // \n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * \n     * @param  {string}     type \n     * @param  {GraphEvent} eventObj \n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            //  name \n            var name_1 = element.get('name');\n            if (name_1) {\n                //  mouseenter  mouseleave  Parent\n                if (\n                //  element  Group  Canvas  isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        //  shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        //  name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            //  * = \n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            //  delegateObject \n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * \n     * @param {number} translateX \n     * @param {number} translateY \n     * @return {IElement} \n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} targetX \n     * @param {number} targetX \n     * @return {IElement} \n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     *  move  moveTo  moveTo \n     * @param {number} targetX  x \n     * @param {number} targetY  y \n     * @return {IElement} \n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * \n     * @param {number} ratioX \n     * @param {number} ratioY \n     * @return {IElement} \n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (0, 0) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (x, y) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","import { __extends } from \"tslib\";\nimport { max, min } from '@antv/util';\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\n/**\n *  canvas\n * @param {IElement} element \n * @param {ICanvas}  canvas  \n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n *  timeline\n * @param {IElement} element  \n * @param {Timeline} timeline \n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    //  element.remove() \n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    //  BBox\n    Container.prototype.getBBox = function () {\n        // \n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // \n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = min(xArr);\n            maxX = max(xArr);\n            minY = min(yArr);\n            maxY = max(yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // \n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix  null \n        // \n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // \n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // \n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // \n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        //  group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            //  x, y  group \n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        element.onCanvasChange('add');\n        this._applyElementMatrix(element);\n    };\n    // \n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // \n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // \n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // \n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * \n     * @return {number} \n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @param {boolean} destroy  true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * \n     * @param  {ElementFilterFn}   fn  \n     * @return {IElement[]} \n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param  {ElementFilterFn} fn    \n     * @return {IElement|null} \n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     *  ID \n     * @param {string} id  id\n     * @return {IElement|null} \n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * \n     *  className \n     * TODO:  G6 3.3  G6  findByClassName G \n     * @param {string} className  className\n     * @return {IElement | null} \n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     *  name \n     * @param {string}      name \n     * @return {IElement[]} \n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // \nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n *  ratio \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    ratio    \n * @return {boolean}  \n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // \n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  \n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // \n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // \n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 \n                 TODO:  WebGL \n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // \n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n *  onFrame \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    elapsed  ()\n * @return {boolean}  \n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // \n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // \n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        //  elapsed > duration ratio \n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // \n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // \n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * \n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * \n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * \n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * \n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * \n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // \n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                //  canvas.draw() \n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * \n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * \n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * \n     * @param {boolean} toEnd  stopAnimate \n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * \n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport GraphEvent from './graph-event';\nimport { each, isParent } from '../util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// \nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n//  shape  canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// , enter  leave  fromShape  toShape \nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas  mouseenter mouseleave  canvas \n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // \n        if (relativeShape && isParent(container, relativeShape)) {\n            // \n            eventObj.bubbles = false;\n            return;\n        }\n        // \n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // \n        this.draggingShape = null;\n        this.dragging = false;\n        // /touch\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // \n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        //  document \n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // \n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // \n                    //  mouseleave  bug \n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        //  document  dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        //  drop \n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // \n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            //  shape mouse leave \n            // \n            document.addEventListener('mousemove', this._onDocumentMove);\n            // \n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // \n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // x,ycanvasmatrix\n        return eventObj;\n    };\n    // \n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // \n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // \n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // \n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // \n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // \n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // \n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // ,  dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // \n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // \n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); //  from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        //  shape  preShape  shape  shape \n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // click \n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        //  mousedown  mousedownShape  mousedown \n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown fromShape, toShape\n    };\n    // mouseleave  mouseenter \n    // mouseenter  mouseover \n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                //  fromShape \n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover  mouseover mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO:  drag  dragleave  toShape  null\n            // \n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag \n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // \n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag  draggingShape \n        var shape = this._getShape(pointInfo, event);\n        //  enterleave \n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; //  shape mouseleave \n    };\n    // \n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0  mouseup  click \n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                //  drag \n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); //  mouseup  click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    //  dragover  mousemove  dragenter, dragleave \n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); //  dragover  preventDefault canvas  drop \n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    //  mousemove \n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // \n        if (this.dragging) {\n            // \n            if (draggingShape) {\n                //  shape  dragenter, dragleave, dragover  drag \n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            //  draggingShape  draggingShape  drag  canvas \n            //  canvas  drag \n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                //  drag \n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        //  draggable  shape  drag \n                        draggingShape = this.mousedownShape; //  shape\n                        draggingShape.set('capture', false); //  dragover,dragenter,dragleave,drop\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        //  draggable  canvas  drag \n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                //  mouse over \n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // \n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // \n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        //  shape \n        if (shape) {\n            eventObj.shape = shape;\n            //  shape \n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // \n            while (parent_1) {\n                // \n                parent_1.emitDelegation(type, eventObj);\n                // \n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            //  shape  canvas \n            var canvas = this.canvas;\n            //  canvas \n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // \n        this._clearEvents();\n        // \n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event-contoller.js.map","import { __extends } from \"tslib\";\nimport { detect } from 'detect-browser';\nimport Container from './container';\nimport { isBrowser, isNil, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nimport EventController from '../event/event-contoller';\nvar PX_SUFFIX = 'px';\nvar browser = detect();\nvar isFirefox = browser && browser.name === 'firefox';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        // CSS transform \n        cfg['supportCSSTransform'] = false;\n        return cfg;\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     *  DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // \n        var container = this.get('container');\n        container.appendChild(el);\n        // \n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     *  DOM \n     * @param {number} width  \n     * @param {number} height \n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // \n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * \n     * @return {Renderer} \n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     *  cursor \n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     *  cursor \n     * @param {Cursor} cursor  cursor \n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // \n            el.style.cursor = cursor;\n        }\n    };\n    // \n    Canvas.prototype.getPointByEvent = function (ev) {\n        var supportCSSTransform = this.get('supportCSSTransform');\n        if (supportCSSTransform) {\n            // For Firefox <= 38\n            if (isFirefox && !isNil(ev.layerX) && ev.layerX !== ev.offsetX) {\n                return {\n                    x: ev.layerX,\n                    y: ev.layerY,\n                };\n            }\n            if (!isNil(ev.offsetX)) {\n                // For IE6+, Firefox >= 39, Chrome, Safari, Opera\n                return {\n                    x: ev.offsetX,\n                    y: ev.offsetY,\n                };\n            }\n        }\n        // should calculate by self for other cases, like Safari in ios\n        // TODO: support CSS transform\n        var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n        return this.getPointByClient(clientX, clientY);\n    };\n    //  touch  clientX  clientY \n    Canvas.prototype.getClientByEvent = function (ev) {\n        var clientInfo = ev;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // \n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     *  DOM \n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // \n        if (timeline) {\n            // \n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // \n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // \n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * \n     * @protected\n     * @param {ShapeAttrs} targetAttrs \n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // \n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.cfg.bbox;\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // \n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBBox = this.cfg.canvasBBox;\n        if (!canvasBBox) {\n            canvasBBox = this.calculateCanvasBBox();\n            this.set('canvasBBox', canvasBBox);\n        }\n        return canvasBBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // \n        this.set('canvasBBox', null);\n    };\n    /**\n     *  bbox\n     * @return {BBox} \n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        //  shadow  shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     *  bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBBox', null);\n    };\n    // \n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * \n     * @param  {number}  refX  x\n     * @param  {number}  refY  Y\n     * @return {boolean} \n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     *  BBox \n     *  false imagemarker  BBox \n     * @return {Boolean}  BBox \n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    //  Shape \n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // \n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // \n        if (inBBox && !this.isClipped(refX, refY)) {\n            // \n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // \n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // \n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","var cache = new Map();\n/**\n * \n * @param type \n * @param method \n */\nexport function register(type, method) {\n    cache.set(type, method);\n}\n/**\n * \n * @param type \n */\nexport function getMethod(type) {\n    return cache.get(type);\n}\n//# sourceMappingURL=register.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\n//# sourceMappingURL=rect.js.map","export default function (shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\n//# sourceMappingURL=circle.js.map","import { max, min } from '@antv/util';\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @return {number} \n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexport function isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexport function getBBoxByArray(xArr, yArr) {\n    var minX = min(xArr);\n    var minY = min(yArr);\n    var maxX = max(xArr);\n    var maxY = max(yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function getBBoxRange(x1, y1, x2, y2) {\n    return {\n        minX: min([x1, x2]),\n        maxX: max([x1, x2]),\n        minY: min([y1, y2]),\n        maxY: max([y1, y2]),\n    };\n}\nexport function piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n//# sourceMappingURL=util.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { distance, getBBoxByArray } from './util';\nimport * as vec2 from 'gl-matrix/vec2';\nexport default {\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {object} \n     */\n    box: function (x1, y1, x2, y2) {\n        return getBBoxByArray([x1, x2], [y1, y2]);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {number} \n     */\n    length: function (x1, y1, x2, y2) {\n        return distance(x1, y1, x2, y2);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} t \n     * @return {object}  x, y \n     */\n    pointAt: function (x1, y1, x2, y2, t) {\n        return {\n            x: (1 - t) * x1 + t * x2,\n            y: (1 - t) * y1 + t * y2,\n        };\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} x   x\n     * @param {number} y   y\n     * @return {number} \n     */\n    pointDistance: function (x1, y1, x2, y2, x, y) {\n        //  x1, y1  p, p1, p2  a\n        // p1a = p1p.p1p2/|p1p2| * (p1p )\n        var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n        if (cross < 0) {\n            return distance(x1, y1, x, y);\n        }\n        var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        if (cross > lengthSquare) {\n            return distance(x2, y2, x, y);\n        }\n        return this.pointToLine(x1, y1, x2, y2, x, y);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} x   x\n     * @param {number} y   y\n     * @return {number} \n     */\n    pointToLine: function (x1, y1, x2, y2, x, y) {\n        var d = [x2 - x1, y2 - y1];\n        // \n        if (vec2.exactEquals(d, [0, 0])) {\n            return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n        }\n        var u = [-d[1], d[0]];\n        vec2.normalize(u, u);\n        var a = [x - x1, y - y1];\n        return Math.abs(vec2.dot(a, u));\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {number} \n     */\n    tangentAngle: function (x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1);\n    },\n};\n//# sourceMappingURL=line.js.map","import { distance } from './util';\nvar EPSILON = 0.0001;\n/**\n * \n * @param {number[]} xArr       x \n * @param {number[]} yArr       y \n * @param {number}   x          x\n * @param {number}   y          y\n * @param {Function} tCallback \n */\nexport function nearestPoint(xArr, yArr, x, y, tCallback, length) {\n    var t;\n    var d = Infinity;\n    var v0 = [x, y];\n    var segNum = 20;\n    if (length && length > 200) {\n        segNum = length / 10;\n    }\n    var increaseRate = 1 / segNum;\n    var interval = increaseRate / 10;\n    for (var i = 0; i <= segNum; i++) {\n        var _t = i * increaseRate;\n        var v1 = [tCallback.apply(null, xArr.concat([_t])), tCallback.apply(null, yArr.concat([_t]))];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // \n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [tCallback.apply(null, xArr.concat([prev])), tCallback.apply(null, yArr.concat([prev]))];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [tCallback.apply(null, xArr.concat([next])), tCallback.apply(null, yArr.concat([next]))];\n            var d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(null, xArr.concat([t])),\n        y: tCallback.apply(null, yArr.concat([t])),\n    };\n}\n//  https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nexport function snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\n//# sourceMappingURL=bezier.js.map","import line from './line';\nimport { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport { nearestPoint } from './bezier';\n// \nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// \nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// \nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // \n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // \n    var controlPoint1 = line.pointAt(x1, y1, x2, y2, t);\n    // \n    var controlPoint2 = line.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// \nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexport default {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        //  box \n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","import { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport line from './line';\nimport { snapLength, nearestPoint } from './bezier';\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t  Math.pow(t, 3) \n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (isNumberEqual(a, 0)) {\n        if (!isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// \nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // \n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // \n    var c1 = line.pointAt(x1, y1, x2, y2, t);\n    var c2 = line.pointAt(x2, y2, x3, y3, t);\n    var c3 = line.pointAt(x3, y3, x4, y4, t);\n    var c12 = line.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// \nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexport default {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        //  8 \n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        return nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","import { distance, piMod } from './util';\nimport ellipse from './ellipse';\n//  x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n//  y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x \nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y \nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n//  x \nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n//  y \nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// \nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    //  0 - 2PI \n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// \nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexport default {\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @return {object} \n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * \n     *  rx, ry, startAngle, endAngle \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @param {number} x0          x\n     * @param {number} y0          y\n     * @return {object} \n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        //  0,0 \n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // \n        var relativePoint = ellipse.nearestPoint(0, 0, rx, ry, x1, y1);\n        // \n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // \n        if (angle < startAngle) {\n            // \n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // \n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        //  xRotation \n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","import line from './line';\nimport { distance } from './util';\nfunction analyzePoints(points) {\n    // \n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nexport function lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n * @return {object} \n */\nexport function pointAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // \n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = line.pointAt(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n */\nexport function angleAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nexport function distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = line.pointDistance(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\n//# sourceMappingURL=segments.js.map","import { pointAtSegments, angleAtSegments, distanceAtSegment, lengthOfSegment } from './segments';\nimport { getBBoxByArray } from './util';\nexport default {\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @return {object} \n     */\n    box: function (points) {\n        var xArr = [];\n        var yArr = [];\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            xArr.push(point[0]);\n            yArr.push(point[1]);\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @return {object} \n     */\n    length: function (points) {\n        return lengthOfSegment(points);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} t \n     * @return {object} \n     */\n    pointAt: function (points, t) {\n        return pointAtSegments(points, t);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} x  x\n     * @param {number} y  y\n     * @return {number} \n     */\n    pointDistance: function (points, x, y) {\n        return distanceAtSegment(points, x, y);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} t \n     * @return {object} \n     */\n    tangentAngle: function (points, t) {\n        return angleAtSegments(points, t);\n    },\n};\n//# sourceMappingURL=polyline.js.map","// \nexport function mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\n// \nexport function mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\n//# sourceMappingURL=util.js.map","import { Util } from '@antv/g-math';\nimport { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = Util.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=polyline.js.map","//  ctx isPointInPath\nvar offScreenCtx = null;\nexport function getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\n//# sourceMappingURL=offscreen.js.map","import { isNil, each, isString } from './util';\nimport { getOffScreenContext } from './offscreen';\n/**\n * \n * @param text \n * @param fontSize \n * @param lineHeight \n */\nexport function getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\n/**\n * \n * @param fontSize \n * @param lineHeight \n */\nexport function getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\n/**\n * \n * @param text \n * @param font \n */\nexport function getTextWidth(text, font) {\n    var context = getOffScreenContext(); //  ctx \n    var width = 0;\n    // null  undefined  0\n    if (isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexport function assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\n//# sourceMappingURL=text.js.map","import { getTextWidth, getTextHeight, assembleFont } from '../util/text';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        //  font\n        font = assembleFont(attrs);\n    }\n    var width = getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // width\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // left,  bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\n//# sourceMappingURL=text.js.map","import { Quad as QuadUtil, Cubic as CubicUtil, Arc as EllipseArcUtil } from '@antv/g-math';\nimport { path2Segments } from '@antv/path-util';\nimport { isNumberEqual, max, min } from '@antv/util';\nimport { mergeArrowBBox } from './util';\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = QuadUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = CubicUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = EllipseArcUtil.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = min(xArr);\n    var minY = min(yArr);\n    var maxX = max(xArr);\n    var maxY = max(yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    //  currentPoint \n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    //  0  PI \n    // :  0  0 \n    if (!currentAngle || Math.sin(currentAngle) === 0 || isNumberEqual(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // \n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // \n    // \n    var extra = {\n        // \n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // \n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nexport default function (shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; //  stroke lineWidth \n    var segments = shape.get('segments') || path2Segments(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=path.js.map","import { register, getMethod } from './register';\nimport rect from './rect';\nimport circle from './circle';\nimport polyline from './polyline';\nimport polygon from './polygon';\nimport text from './text';\nimport path from './path';\nimport line from './line';\nimport ellipse from './ellipse';\nregister('rect', rect);\nregister('image', rect); // image  rect \nregister('circle', circle);\nregister('marker', circle); // marker  circle \nregister('polyline', polyline);\nregister('polygon', polygon);\nregister('text', text);\nregister('path', path);\nregister('line', line);\nregister('ellipse', ellipse);\nexport { getMethod as getBBoxMethod, register as registerBBox };\n//# sourceMappingURL=index.js.map","import { Util } from '@antv/g-math';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return Util.getBBoxByArray(xArr, yArr);\n}\n//# sourceMappingURL=polygon.js.map","import { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=line.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview G \n * @author dxq613@gmail.com\n */\nimport * as PathUtil from './util/path';\nexport * from './types';\nexport * from './interfaces';\nexport { default as Event } from './event/graph-event';\nexport { default as Base } from './abstract/base';\nexport { default as AbstractCanvas } from './abstract/canvas';\nexport { default as AbstractGroup } from './abstract/group';\nexport { default as AbstractShape } from './abstract/shape';\nexport { PathUtil };\nexport { getBBoxMethod, registerBBox } from './bbox';\nexport { getTextHeight, assembleFont } from './util/text';\nexport { isAllowCapture } from './util/util';\nexport { multiplyVec2, invert } from './util/matrix';\nexport { getOffScreenContext } from './util/offscreen';\nexport var version = '0.5.9';\n//# sourceMappingURL=index.js.map","export function getPixelRatio() {\n    return typeof window === 'object' && window.devicePixelRatio ? window.devicePixelRatio : 1;\n}\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/**\n * \n * @param {number} minX    x\n * @param {number} minY    y\n * @param {number} width  \n * @param {number} height \n * @param {[type]} x       x\n * @param {[type]} y       y\n */\nexport function inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nexport function intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n// \nexport function mergeRegion(region1, region2) {\n    if (!region1 || !region2) {\n        return region1 || region2;\n    }\n    return {\n        minX: Math.min(region1.minX, region2.minX),\n        minY: Math.min(region1.minY, region2.minY),\n        maxX: Math.max(region1.maxX, region2.maxX),\n        maxY: Math.max(region1.maxY, region2.maxY),\n    };\n}\n/**\n *  [x, y]\n * @param {Array} point1 \n * @param {Array} point2 \n */\nexport function isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexport { isNil, isString, isFunction, isArray, each, toRadian, mod, isNumberEqual } from '@antv/util';\nexport { requestAnimationFrame, clearAnimationFrame } from './time';\nexport function tick(fn) {\n    if (window) {\n        requestAnimationFrame(fn);\n    }\n    else {\n        // TODO need a timeline to control time\n        setTimeout(fn, 16);\n    }\n}\n// \nexport function isParent(container, shape) {\n    //  shape  canvas \n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\n//# sourceMappingURL=util.js.map","import { isString, each, isArray } from './util';\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps, gradient) {\n    var arr = steps.match(regexColorStop);\n    each(arr, function (item) {\n        var itemArr = item.split(':');\n        gradient.addColorStop(itemArr[0], itemArr[1]);\n    });\n}\n/**\n * \n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   gradientStr   \n * @returns {any} \n */\nexport function parseLineGradient(context, element, gradientStr) {\n    var arr = regexLG.exec(gradientStr);\n    var angle = (parseFloat(arr[1]) % 360) * (Math.PI / 180);\n    var steps = arr[2];\n    var box = element.getBBox();\n    var start;\n    var end;\n    if (angle >= 0 && angle < (1 / 2) * Math.PI) {\n        start = {\n            x: box.minX,\n            y: box.minY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n    }\n    else if ((1 / 2) * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.minY,\n        };\n        end = {\n            x: box.minX,\n            y: box.maxY,\n        };\n    }\n    else if (Math.PI <= angle && angle < (3 / 2) * Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.minX,\n            y: box.minY,\n        };\n    }\n    else {\n        start = {\n            x: box.minX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.minY,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    var gradient = context.createLinearGradient(start.x, start.y, x, y);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * \n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   gradientStr   \n * @returns {any} \n */\nexport function parseRadialGradient(context, element, gradientStr) {\n    var arr = regexRG.exec(gradientStr);\n    var fx = parseFloat(arr[1]);\n    var fy = parseFloat(arr[2]);\n    var fr = parseFloat(arr[3]);\n    var steps = arr[4];\n    // 0\n    if (fr === 0) {\n        var colors = steps.match(regexColorStop);\n        return colors[colors.length - 1].split(':')[1];\n    }\n    var box = element.getBBox();\n    var width = box.maxX - box.minX;\n    var height = box.maxY - box.minY;\n    var r = Math.sqrt(width * width + height * height) / 2;\n    var gradient = context.createRadialGradient(box.minX + width * fx, box.minY + height * fy, 0, box.minX + width / 2, box.minY + height / 2, fr * r);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n *  pattern\n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   patternStr    pattern \n */\nexport function parsePattern(context, element, patternStr) {\n    // \n    if (element.get('patternSource') && element.get('patternSource') === patternStr) {\n        return element.get('pattern');\n    }\n    var pattern;\n    var img;\n    var arr = regexPR.exec(patternStr);\n    var repeat = arr[1];\n    var source = arr[2];\n    // Function to be called when pattern loads\n    function onload() {\n        // Create pattern\n        pattern = context.createPattern(img, repeat);\n        element.set('pattern', pattern); // be a cache\n        element.set('patternSource', patternStr);\n    }\n    switch (repeat) {\n        case 'a':\n            repeat = 'repeat';\n            break;\n        case 'x':\n            repeat = 'repeat-x';\n            break;\n        case 'y':\n            repeat = 'repeat-y';\n            break;\n        case 'n':\n            repeat = 'no-repeat';\n            break;\n        default:\n            repeat = 'no-repeat';\n    }\n    img = new Image();\n    // If source URL is not a data URL\n    if (!source.match(/^data:/i)) {\n        // Set crossOrigin for this image\n        img.crossOrigin = 'Anonymous';\n    }\n    img.src = source;\n    if (img.complete) {\n        onload();\n    }\n    else {\n        img.onload = onload;\n        // Fix onload() bug in IE9\n        img.src = img.src;\n    }\n    return pattern;\n}\nexport function parseStyle(context, element, color) {\n    if (isString(color)) {\n        if (color[1] === '(' || color[2] === '(') {\n            if (color[0] === 'l') {\n                // regexLG.test(color)\n                return parseLineGradient(context, element, color);\n            }\n            if (color[0] === 'r') {\n                // regexRG.test(color)\n                return parseRadialGradient(context, element, color);\n            }\n            if (color[0] === 'p') {\n                // regexPR.test(color)\n                return parsePattern(context, element, color);\n            }\n        }\n        return color;\n    }\n}\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return [r1, r2, r3, r4];\n}\n//# sourceMappingURL=parse.js.map","import { mod, toRadian, isSamePoint } from './util';\n// \nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|\nfunction vRatio(u, v) {\n    //  0  0 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// \nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod(toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // \n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // \n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    //  0  (0, 0) \n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // \n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // \n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // \n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    //  x \n    var theta = vAngle([1, 0], u);\n    // \n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        //  0 \n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\n//# sourceMappingURL=arc-params.js.map","import { __assign, __rest } from \"tslib\";\nimport { Path } from '../shape';\nvar sin = Math.sin, cos = Math.cos, atan2 = Math.atan2, PI = Math.PI;\nfunction _addDefaultArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: {\n            //  10 60 \n            path: \"M\" + 10 * cos(PI / 6) + \",\" + 10 * sin(PI / 6) + \" L0,0 L\" + 10 * cos(PI / 6) + \",-\" + 10 * sin(PI / 6),\n            //  shape stroke \n            stroke: stroke,\n            lineWidth: lineWidth,\n        },\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n *  path \n * 1.  (0, 0)\n * 2.  X \n */\nfunction _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var startArrow = attrs.startArrow, endArrow = attrs.endArrow, stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var arrowAttrs = isStart ? startArrow : endArrow;\n    var d = arrowAttrs.d, arrowFill = arrowAttrs.fill, arrowStroke = arrowAttrs.stroke, arrowLineWidth = arrowAttrs.lineWidth, restAttrs = __rest(arrowAttrs, [\"d\", \"fill\", \"stroke\", \"lineWidth\"]);\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    if (d) {\n        x2 = x2 - cos(rad) * d;\n        y2 = y2 - sin(rad) * d;\n    }\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: __assign(__assign({}, restAttrs), { \n            //  stroke  lineWidth shape \n            stroke: arrowStroke || stroke, lineWidth: arrowLineWidth || lineWidth, \n            //  shape \n            fill: arrowFill }),\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n *  d  d, \n * |----------------\n * |<|--------------\n * |\n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @param {number} d  \n * @return {{dx: number, dy: number}} \n */\nexport function getShortenOffset(x1, y1, x2, y2, d) {\n    var rad = atan2(y2 - y1, x2 - x1);\n    return {\n        dx: cos(rad) * d,\n        dy: sin(rad) * d,\n    };\n}\n/**\n * \n * @param {IShape} shape \n * @param {ShapeAttrs} attrs shape \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nexport function addStartArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.startArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else if (attrs.startArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n/**\n * \n * @param {IShape} shape \n * @param {ShapeAttrs} attrs shape \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nexport function addEndArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.endArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else if (attrs.endArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n//# sourceMappingURL=arrow.js.map","import { each, isArray } from '@antv/util';\nimport { parseStyle } from './parse';\nimport getArcParams from './arc-params';\nimport { mergeRegion, intersectRect } from './util';\nimport * as ArrowUtil from '../util/arrow';\nvar SHAPE_ATTRS_MAP = {\n    fill: 'fillStyle',\n    stroke: 'strokeStyle',\n    opacity: 'globalAlpha',\n};\nexport function applyAttrsToContext(context, element) {\n    var attrs = element.attr();\n    for (var k in attrs) {\n        var v = attrs[k];\n        //  canvas \n        var name_1 = SHAPE_ATTRS_MAP[k] ? SHAPE_ATTRS_MAP[k] : k;\n        if (name_1 === 'matrix' && v) {\n            // \n            context.transform(v[0], v[1], v[3], v[4], v[6], v[7]);\n        }\n        else if (name_1 === 'lineDash' && context.setLineDash) {\n            // \n            isArray(v) && context.setLineDash(v);\n        }\n        else {\n            if (name_1 === 'strokeStyle' || name_1 === 'fillStyle') {\n                // pattern \n                //  hasUpdate \n                v = parseStyle(context, element, v);\n            }\n            else if (name_1 === 'globalAlpha') {\n                // opacity  opacity  opacity \n                v = v * context.globalAlpha;\n            }\n            context[name_1] = v;\n        }\n    }\n}\nexport function drawChildren(context, children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.cfg.visible) {\n            child.draw(context, region);\n        }\n        else {\n            child.skipDraw();\n        }\n    }\n}\n// https://www.yuque.com/antv/ou292n/pcgt5g#OW1QE\nexport function checkRefresh(canvas, children, region) {\n    var refreshElements = canvas.get('refreshElements');\n    //  refresh\n    each(refreshElements, function (el) {\n        if (el !== canvas) {\n            var parent_1 = el.cfg.parent;\n            while (parent_1 && parent_1 !== canvas && !parent_1.cfg.refresh) {\n                parent_1.cfg.refresh = true;\n                parent_1 = parent_1.cfg.parent;\n            }\n        }\n    });\n    if (refreshElements[0] === canvas) {\n        setChildrenRefresh(children, region);\n    }\n    else {\n        // \n        checkChildrenRefresh(children, region);\n    }\n}\n// \nexport function checkChildrenRefresh(children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.cfg.visible) {\n            //  hasChanged refresh\n            if (child.cfg.hasChanged) {\n                //  change refresh\n                child.cfg.refresh = true;\n                if (child.isGroup()) {\n                    setChildrenRefresh(child.cfg.children, region);\n                }\n            }\n            else if (child.cfg.refresh) {\n                // / refresh = true changed\n                if (child.isGroup()) {\n                    checkChildrenRefresh(child.cfg.children, region);\n                }\n            }\n            else {\n                // \n                var refresh = checkElementRefresh(child, region);\n                child.cfg.refresh = refresh;\n                if (refresh && child.isGroup()) {\n                    // \n                    checkChildrenRefresh(child.cfg.children, region);\n                }\n            }\n        }\n    }\n}\n//  refreshElements  changed \n//  elements  group\nexport function clearChanged(elements) {\n    for (var i = 0; i < elements.length; i++) {\n        var el = elements[i];\n        el.cfg.hasChanged = false;\n        // \n        if (el.isGroup() && !el.destroyed) {\n            clearChanged(el.cfg.children);\n        }\n    }\n}\n//  refresh\nfunction setChildrenRefresh(children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        // let refresh = true;\n        //  bbox bbox \n        // const bbox = child.cfg.canvasBBox;\n        // if (bbox) {\n        //   // \n        //   refresh = intersectRect(bbox, region);\n        // }\n        child.cfg.refresh = true;\n        //  refresh\n        if (child.isGroup()) {\n            setChildrenRefresh(child.get('children'), region);\n        }\n    }\n}\nfunction checkElementRefresh(shape, region) {\n    var bbox = shape.cfg.cacheCanvasBBox;\n    var isAllow = shape.cfg.isInView && bbox && intersectRect(bbox, region);\n    return isAllow;\n}\n//  path\nexport function drawPath(shape, context, attrs, arcParamsCache) {\n    var path = attrs.path, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n    if (!path) {\n        return;\n    }\n    var currentPoint = [0, 0]; // \n    var startMovePoint = [0, 0]; //  M \n    var distance = {\n        dx: 0,\n        dy: 0,\n    };\n    context.beginPath();\n    for (var i = 0; i < path.length; i++) {\n        var params = path[i];\n        var command = params[0];\n        if (i === 0 && startArrow && startArrow.d) {\n            var tangent = shape.getStartTangent();\n            distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], startArrow.d);\n        }\n        else if (i === path.length - 2 && path[i + 1][0] === 'Z' && endArrow && endArrow.d) {\n            //  Z  segment  segment \n            var lastPath = path[i + 1];\n            if (lastPath[0] === 'Z') {\n                var tangent = shape.getEndTangent();\n                distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n            }\n        }\n        else if (i === path.length - 1 && endArrow && endArrow.d) {\n            if (path[0] !== 'Z') {\n                var tangent = shape.getEndTangent();\n                distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n            }\n        }\n        var dx = distance.dx, dy = distance.dy;\n        // V,H,S,T \n        switch (command) {\n            case 'M':\n                context.moveTo(params[1] - dx, params[2] - dy);\n                startMovePoint = [params[1], params[2]];\n                break;\n            case 'L':\n                context.lineTo(params[1] - dx, params[2] - dy);\n                break;\n            case 'Q':\n                context.quadraticCurveTo(params[1], params[2], params[3] - dx, params[4] - dy);\n                break;\n            case 'C':\n                context.bezierCurveTo(params[1], params[2], params[3], params[4], params[5] - dx, params[6] - dy);\n                break;\n            case 'A': {\n                var arcParams = void 0;\n                // \n                if (arcParamsCache) {\n                    arcParams = arcParamsCache[i];\n                    if (!arcParams) {\n                        arcParams = getArcParams(currentPoint, params);\n                        arcParamsCache[i] = arcParams;\n                    }\n                }\n                else {\n                    arcParams = getArcParams(currentPoint, params);\n                }\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation, sweepFlag = arcParams.sweepFlag;\n                //  api\n                if (context.ellipse) {\n                    context.ellipse(cx, cy, rx, ry, xRotation, startAngle, endAngle, 1 - sweepFlag);\n                }\n                else {\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(xRotation);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, startAngle, endAngle, 1 - sweepFlag);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-xRotation);\n                    context.translate(-cx, -cy);\n                }\n                break;\n            }\n            case 'Z':\n                context.closePath();\n                break;\n            default:\n                break;\n        }\n        //  Z  M \n        if (command === 'Z') {\n            currentPoint = startMovePoint;\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n    }\n}\n// (Shape  Group)\nexport function refreshElement(element, changeType) {\n    var canvas = element.get('canvas');\n    //  canvas \n    if (canvas) {\n        if (changeType === 'remove') {\n            //  remove element \n            // destroy \n            //  hack \n            element._cacheCanvasBBox = element.get('cacheCanvasBBox');\n        }\n        // \n        if (!element.get('hasChanged')) {\n            //  hasChanged\n            element.set('hasChanged', true);\n            // \n            // if (canvas.get('localRefresh')) {\n            //   canvas.refreshElement(element, changeType, canvas);\n            // }\n            //  https://github.com/antvis/g/issues/422 \n            //  15% \n            if (!(element.cfg.parent && element.cfg.parent.get('hasChanged'))) {\n                canvas.refreshElement(element, changeType, canvas);\n                if (canvas.get('autoDraw')) {\n                    canvas.draw();\n                }\n            }\n        }\n    }\n}\nexport function getRefreshRegion(element) {\n    var region;\n    if (!element.destroyed) {\n        var cacheBox = element.get('cacheCanvasBBox');\n        var validCache = cacheBox && !!(cacheBox.width && cacheBox.height);\n        var bbox = element.getCanvasBBox();\n        var validBBox = bbox && !!(bbox.width && bbox.height);\n        //  bbox  NaN   0 \n        if (validCache && validBBox) {\n            region = mergeRegion(cacheBox, bbox);\n        }\n        else if (validCache) {\n            region = cacheBox;\n        }\n        else if (validBBox) {\n            region = bbox;\n        }\n    }\n    else {\n        // \n        region = element['_cacheCanvasBBox'];\n    }\n    return region;\n}\nexport function getMergedRegion(elements) {\n    if (!elements.length) {\n        return null;\n    }\n    var minXArr = [];\n    var minYArr = [];\n    var maxXArr = [];\n    var maxYArr = [];\n    each(elements, function (el) {\n        var region = getRefreshRegion(el);\n        if (region) {\n            minXArr.push(region.minX);\n            minYArr.push(region.minY);\n            maxXArr.push(region.maxX);\n            maxYArr.push(region.maxY);\n        }\n    });\n    return {\n        minX: Math.min.apply(null, minXArr),\n        minY: Math.min.apply(null, minYArr),\n        maxX: Math.max.apply(null, maxXArr),\n        maxY: Math.max.apply(null, maxYArr),\n    };\n}\nexport function mergeView(region, viewRegion) {\n    if (!region || !viewRegion) {\n        return null;\n    }\n    //  null\n    if (!intersectRect(region, viewRegion)) {\n        return null;\n    }\n    return {\n        minX: Math.max(region.minX, viewRegion.minX),\n        minY: Math.max(region.minY, viewRegion.minY),\n        maxX: Math.min(region.maxX, viewRegion.maxX),\n        maxY: Math.min(region.maxY, viewRegion.maxY),\n    };\n}\n//# sourceMappingURL=draw.js.map","import { __extends } from \"tslib\";\nimport { AbstractGroup } from '@antv/g-base';\nimport * as Shape from './shape';\nimport { applyAttrsToContext, drawChildren, refreshElement } from './util/draw';\nimport { each } from '@antv/util';\nimport { intersectRect } from './util/util';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    Group.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    Group.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Group.prototype.getGroupBase = function () {\n        return Group;\n    };\n    //  shape \n    Group.prototype._applyClip = function (context, clip) {\n        if (clip) {\n            context.save();\n            //  clip  context \n            applyAttrsToContext(context, clip);\n            //  clip \n            clip.createPath(context);\n            context.restore();\n            // \n            context.clip();\n            clip._afterDraw();\n        }\n    };\n    //  getCanvasBBox group \n    //  15-20%  10W  5-6 ms 30-40ms\n    Group.prototype.cacheCanvasBBox = function () {\n        var children = this.cfg.children;\n        var xArr = [];\n        var yArr = [];\n        each(children, function (child) {\n            var bbox = child.cfg.cacheCanvasBBox;\n            // isInview \n            //  10W  5-6 ms \n            if (bbox && child.cfg.isInView) {\n                xArr.push(bbox.minX, bbox.maxX);\n                yArr.push(bbox.minY, bbox.maxY);\n            }\n        });\n        var bbox = null;\n        if (xArr.length) {\n            var minX = Math.min.apply(null, xArr);\n            var maxX = Math.max.apply(null, xArr);\n            var minY = Math.min.apply(null, yArr);\n            var maxY = Math.max.apply(null, yArr);\n            bbox = {\n                minX: minX,\n                minY: minY,\n                x: minX,\n                y: minY,\n                maxX: maxX,\n                maxY: maxY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n            var canvas = this.cfg.canvas;\n            if (canvas) {\n                var viewRange = canvas.getViewRange();\n                //  isInView == false  bbox  false \n                //  10W  2-5ms \n                this.set('isInView', intersectRect(bbox, viewRange));\n            }\n        }\n        else {\n            this.set('isInView', false);\n        }\n        this.set('cacheCanvasBBox', bbox);\n    };\n    Group.prototype.draw = function (context, region) {\n        var children = this.cfg.children;\n        var allowDraw = region ? this.cfg.refresh : true; // \n        //  G6  group  transform \n        //  refresh \n        //  refresh \n        if (children.length && allowDraw) {\n            context.save();\n            // group \n            //  attrs  clip clip  matrix \n            applyAttrsToContext(context, this);\n            this._applyClip(context, this.getClip());\n            drawChildren(context, children, region);\n            context.restore();\n            this.cacheCanvasBBox();\n        }\n        // \n        // this.set('cacheCanvasBBox', this.getCanvasBBox());\n        this.cfg.refresh = null;\n        // \n        this.set('hasChanged', false);\n    };\n    // \n    Group.prototype.skipDraw = function () {\n        this.set('cacheCanvasBBox', null);\n        this.set('hasChanged', false);\n    };\n    return Group;\n}(AbstractGroup));\nexport default Group;\n//# sourceMappingURL=group.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractShape } from '@antv/g-base';\nimport { isNil, intersectRect } from '../util/util';\nimport { applyAttrsToContext, refreshElement } from '../util/draw';\nimport { getBBoxMethod } from '@antv/g-base';\nimport * as Shape from './index';\nimport Group from '../group';\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShapeBase.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        // \n        return __assign(__assign({}, attrs), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });\n    };\n    ShapeBase.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    ShapeBase.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    ShapeBase.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    ShapeBase.prototype.calculateBBox = function () {\n        var type = this.get('type');\n        var lineWidth = this.getHitLineWidth();\n        // const attrs = this.attr();\n        var bboxMethod = getBBoxMethod(type);\n        var box = bboxMethod(this);\n        var halfLineWidth = lineWidth / 2;\n        var minX = box.x - halfLineWidth;\n        var minY = box.y - halfLineWidth;\n        var maxX = box.x + box.width + halfLineWidth;\n        var maxY = box.y + box.height + halfLineWidth;\n        return {\n            x: minX,\n            minX: minX,\n            y: minY,\n            minY: minY,\n            width: box.width + lineWidth,\n            height: box.height + lineWidth,\n            maxX: maxX,\n            maxY: maxY,\n        };\n    };\n    ShapeBase.prototype.isFill = function () {\n        return !!this.attrs['fill'] || this.isClipShape();\n    };\n    ShapeBase.prototype.isStroke = function () {\n        return !!this.attrs['stroke'];\n    };\n    //  shape \n    ShapeBase.prototype._applyClip = function (context, clip) {\n        if (clip) {\n            context.save();\n            //  clip  context \n            applyAttrsToContext(context, clip);\n            //  clip \n            clip.createPath(context);\n            context.restore();\n            // \n            context.clip();\n            clip._afterDraw();\n        }\n    };\n    //  region \n    ShapeBase.prototype.draw = function (context, region) {\n        var clip = this.cfg.clipShape;\n        //  region\n        if (region) {\n            if (this.cfg.refresh === false) {\n                // this._afterDraw();\n                this.set('hasChanged', false);\n                return;\n            }\n            //  clip \n            var bbox = this.getCanvasBBox();\n            if (!intersectRect(region, bbox)) {\n                // \n                this.set('hasChanged', false);\n                //  cacheCanvasBBox  isInview \n                // 1. \n                // 2. refresh = false \n                if (this.cfg.isInView) {\n                    this._afterDraw();\n                }\n                return;\n            }\n        }\n        context.save();\n        //  attrs  clip clip  matrix \n        applyAttrsToContext(context, this);\n        this._applyClip(context, clip);\n        this.drawPath(context);\n        context.restore();\n        this._afterDraw();\n    };\n    ShapeBase.prototype.getCanvasViewBox = function () {\n        var canvas = this.cfg.canvas;\n        if (canvas) {\n            // @ts-ignore\n            return canvas.getViewRange();\n        }\n        return null;\n    };\n    ShapeBase.prototype.cacheCanvasBBox = function () {\n        var canvasBBox = this.getCanvasViewBox();\n        // \n        if (canvasBBox) {\n            var bbox = this.getCanvasBBox();\n            var isInView = intersectRect(bbox, canvasBBox);\n            this.set('isInView', isInView);\n            //  cacheCanvasBBox  null\n            // \n            //  cacheCanvasBBox \n            if (isInView) {\n                this.set('cacheCanvasBBox', bbox);\n            }\n            else {\n                this.set('cacheCanvasBBox', null);\n            }\n        }\n    };\n    ShapeBase.prototype._afterDraw = function () {\n        this.cacheCanvasBBox();\n        // \n        this.set('hasChanged', false);\n        this.set('refresh', null);\n    };\n    ShapeBase.prototype.skipDraw = function () {\n        this.set('cacheCanvasBBox', null);\n        this.set('isInView', null);\n        this.set('hasChanged', false);\n    };\n    /**\n     * \n     * @param {CanvasRenderingContext2D} context \n     */\n    ShapeBase.prototype.drawPath = function (context) {\n        this.createPath(context);\n        this.strokeAndFill(context);\n        this.afterDrawPath(context);\n    };\n    /**\n     * @protected\n     * \n     * @param {CanvasRenderingContext2D} context context \n     */\n    ShapeBase.prototype.fill = function (context) {\n        context.fill();\n    };\n    /**\n     * @protected\n     * \n     * @param {CanvasRenderingContext2D} context context \n     */\n    ShapeBase.prototype.stroke = function (context) {\n        context.stroke();\n    };\n    // \n    ShapeBase.prototype.strokeAndFill = function (context) {\n        var _a = this.attrs, lineWidth = _a.lineWidth, opacity = _a.opacity, strokeOpacity = _a.strokeOpacity, fillOpacity = _a.fillOpacity;\n        if (this.isFill()) {\n            if (!isNil(fillOpacity) && fillOpacity !== 1) {\n                context.globalAlpha = fillOpacity;\n                this.fill(context);\n                context.globalAlpha = opacity;\n            }\n            else {\n                this.fill(context);\n            }\n        }\n        if (this.isStroke()) {\n            if (lineWidth > 0) {\n                if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n                    context.globalAlpha = strokeOpacity;\n                }\n                this.stroke(context);\n            }\n        }\n        this.afterDrawPath(context);\n    };\n    /**\n     * @protected\n     * \n     * @param {CanvasRenderingContext2D} context \n     */\n    ShapeBase.prototype.createPath = function (context) { };\n    /**\n     *  path \n     * @param {CanvasRenderingContext2D} context \n     */\n    ShapeBase.prototype.afterDrawPath = function (context) { };\n    ShapeBase.prototype.isInShape = function (refX, refY) {\n        // return HitUtil.isHitShape(this, refX, refY);\n        var isStroke = this.isStroke();\n        var isFill = this.isFill();\n        var lineWidth = this.getHitLineWidth();\n        return this.isInStrokeOrPath(refX, refY, isStroke, isFill, lineWidth);\n    };\n    //  isInStroke  isInPath \n    ShapeBase.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        return false;\n    };\n    /**\n     * \n     * @returns {number} \n     */\n    ShapeBase.prototype.getHitLineWidth = function () {\n        if (!this.isStroke()) {\n            return 0;\n        }\n        var attrs = this.attrs;\n        return attrs['lineWidth'] + attrs['lineAppendWidth'];\n    };\n    return ShapeBase;\n}(AbstractShape));\nexport default ShapeBase;\n//# sourceMappingURL=base.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { distance } from '../util/util';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, r: 0 });\n    };\n    Circle.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var r = attrs.r;\n        var halfLineWidth = lineWidth / 2;\n        var absDistance = distance(cx, cy, x, y);\n        // \n        if (isFill && isStroke) {\n            return absDistance <= r + halfLineWidth;\n        }\n        if (isFill) {\n            return absDistance <= r;\n        }\n        if (isStroke) {\n            return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n        }\n        return false;\n    };\n    Circle.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var r = attrs.r;\n        context.beginPath();\n        context.arc(cx, cy, r, 0, Math.PI * 2, false);\n        context.closePath();\n    };\n    return Circle;\n}(ShapeBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\n//  x*x/rx*rx + y*y/ry*ry;\nfunction ellipseDistance(squareX, squareY, rx, ry) {\n    return squareX / (rx * rx) + squareY / (ry * ry);\n}\nvar Ellipse = /** @class */ (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ellipse.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, rx: 0, ry: 0 });\n    };\n    Ellipse.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var halfLineWith = lineWidth / 2;\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var rx = attrs.rx, ry = attrs.ry;\n        var squareX = (x - cx) * (x - cx);\n        var squareY = (y - cy) * (y - cy);\n        //  x*x/rx*rx + y*y/ry*ry = 1;\n        if (isFill && isStroke) {\n            return ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;\n        }\n        if (isFill) {\n            return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n        }\n        if (isStroke) {\n            return (ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >= 1 &&\n                ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1);\n        }\n        return false;\n    };\n    Ellipse.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var rx = attrs.rx;\n        var ry = attrs.ry;\n        context.beginPath();\n        // \n        if (context.ellipse) {\n            context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n        }\n        else {\n            // \n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            context.save();\n            context.translate(cx, cy);\n            context.scale(scaleX, scaleY);\n            context.arc(0, 0, r, 0, Math.PI * 2);\n            context.restore();\n            context.closePath();\n        }\n    };\n    return Ellipse;\n}(ShapeBase));\nexport default Ellipse;\n//# sourceMappingURL=ellipse.js.map","import { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { isString, isNil } from '../util/util';\nfunction isCanvas(dom) {\n    return dom instanceof HTMLElement && isString(dom.nodeName) && dom.nodeName.toUpperCase() === 'CANVAS';\n}\nvar miniCanvas = null;\nexport function setMiniCanvas(canvas) {\n    miniCanvas = canvas;\n}\nvar ImageShape = /** @class */ (function (_super) {\n    __extends(ImageShape, _super);\n    function ImageShape() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ImageShape.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0 });\n    };\n    ImageShape.prototype.initAttrs = function (attrs) {\n        this._setImage(attrs.img);\n    };\n    // image  stroke\n    ImageShape.prototype.isStroke = function () {\n        return false;\n    };\n    // \n    //  isInStrokeOrPath \n    ImageShape.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    ImageShape.prototype._afterLoading = function () {\n        if (this.get('toDraw') === true) {\n            var canvas = this.get('canvas');\n            if (canvas) {\n                // \n                canvas.draw();\n            }\n            else {\n                // \n                this.createPath(this.get('context'));\n            }\n        }\n    };\n    ImageShape.prototype._setImage = function (img) {\n        var _this = this;\n        var attrs = this.attrs;\n        // 1.0 canvasstring\n        if ((miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.isMini()) && !(miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.isMiniNative())) {\n            this.attr('img', img);\n            return;\n        }\n        // 2.0 canvas\n        if (isString(img)) {\n            var image_1 = null;\n            if (miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.isMiniNative()) {\n                image_1 = miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.get('container').createImage();\n            }\n            else {\n                image_1 = new Image();\n            }\n            image_1.onload = function () {\n                // \n                if (_this.destroyed) {\n                    return false;\n                }\n                // \n                //  img \n                // this.set('imgSrc', img);\n                //  _setImage \n                _this.attr('img', image_1);\n                _this.set('loading', false);\n                _this._afterLoading();\n                var callback = _this.get('callback');\n                if (callback) {\n                    callback.call(_this);\n                }\n            };\n            // \n            image_1.crossOrigin = 'Anonymous';\n            image_1.src = img;\n            // loading \n            this.set('loading', true);\n        }\n        else if ((miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.isMiniNative()) || img instanceof Image) {\n            if (!attrs.width) {\n                attrs.width = img.width;\n            }\n            if (!attrs.height) {\n                attrs.height = img.height;\n            }\n        }\n        else if (isCanvas(img)) {\n            //  canvas \n            if (!attrs.width) {\n                attrs.width = Number(img.getAttribute('width'));\n            }\n            if (!attrs.height) {\n                attrs.height, Number(img.getAttribute('height'));\n            }\n        }\n    };\n    ImageShape.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        // \n        if (name === 'img') {\n            // && this.get('imgSrc') !== value\n            this._setImage(value);\n        }\n    };\n    ImageShape.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var img = attrs.img, x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height, sx = attrs.sx, sy = attrs.sy, swidth = attrs.swidth, sheight = attrs.sheight;\n        // \n        if (this.get('loading')) {\n            this.set('toDraw', true); // \n            this.set('context', context);\n            return;\n        }\n        if (miniCanvas === null || miniCanvas === void 0 ? void 0 : miniCanvas.isMini()) {\n            context.drawImage(img, x, y, width, height);\n            return;\n        }\n        if (img instanceof Image || isCanvas(img)) {\n            if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n                context.drawImage(img, sx, sy, swidth, sheight, x, y, width, height);\n            }\n            else {\n                context.drawImage(img, x, y, width, height);\n            }\n        }\n    };\n    return ImageShape;\n}(ShapeBase));\nexport default ImageShape;\n//# sourceMappingURL=image.js.map","import { Line as LineUtil } from '@antv/g-math';\nexport default function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var halfWidth = lineWidth / 2;\n    // \n    //  lineWidth \n    if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n        return false;\n    }\n    // \n    return LineUtil.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { Line as LineUtil } from '@antv/g-math';\nimport ShapeBase from './base';\nimport inLine from '../util/in-stroke/line';\nimport * as ArrowUtil from '../util/arrow';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: false, endArrow: false });\n    };\n    Line.prototype.initAttrs = function (attrs) {\n        this.setArrow();\n    };\n    // \n    Line.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        //  line  attrs attr attr \n        this.setArrow();\n    };\n    Line.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        if (startArrow) {\n            ArrowUtil.addStartArrow(this, attrs, x2, y2, x1, y1);\n        }\n        if (endArrow) {\n            ArrowUtil.addEndArrow(this, attrs, x1, y1, x2, y2);\n        }\n    };\n    Line.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        if (!isStroke || !lineWidth) {\n            return false;\n        }\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return inLine(x1, y1, x2, y2, lineWidth, x, y);\n    };\n    Line.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        var startArrowDistance = {\n            dx: 0,\n            dy: 0,\n        };\n        var endArrowDistance = {\n            dx: 0,\n            dy: 0,\n        };\n        if (startArrow && startArrow.d) {\n            startArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.startArrow.d);\n        }\n        if (endArrow && endArrow.d) {\n            endArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.endArrow.d);\n        }\n        context.beginPath();\n        // \n        context.moveTo(x1 + startArrowDistance.dx, y1 + startArrowDistance.dy);\n        context.lineTo(x2 - endArrowDistance.dx, y2 - endArrowDistance.dy);\n    };\n    Line.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get length of line\n     * @return {number} length\n     */\n    Line.prototype.getTotalLength = function () {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.length(x1, y1, x2, y2);\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Line.prototype.getPoint = function (ratio) {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n    };\n    return Line;\n}(ShapeBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\nfunction toSymmetry(p, c) {\n    return [\n        c[0] + (c[0] - p[0]),\n        c[1] + (c[1] - p[1]),\n    ];\n}\nexport default function pathToAbsolute(pathString) {\n    var pathArray = parsePathString(pathString);\n    if (!pathArray || !pathArray.length) {\n        return [\n            ['M', 0, 0],\n        ];\n    }\n    var needProcess = false; //  V,H,T,S \n    for (var i = 0; i < pathArray.length; i++) {\n        var cmd = pathArray[i][0];\n        // \n        if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n            needProcess = true;\n            break;\n        }\n    }\n    // \n    // \n    if (!needProcess) {\n        return pathArray;\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    var first = pathArray[0];\n    if (first[0] === 'M' || first[0] === 'm') {\n        x = +first[1];\n        y = +first[2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var pa = pathArray[i];\n        var preParams = res[i - 1]; // \n        var r = [];\n        var cmd = pa[0];\n        var upCmd = cmd.toUpperCase();\n        if (cmd !== upCmd) {\n            r[0] = upCmd;\n            switch (upCmd) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + ((j % 2) ? x : y);\n                    }\n            }\n        }\n        else { // \n            r = pathArray[i];\n        }\n        //  V,H,S,T \n        switch (upCmd) {\n            case 'Z':\n                x = +mx;\n                y = +my;\n                break;\n            case 'H':\n                x = r[1];\n                r = ['L', x, y];\n                break;\n            case 'V':\n                y = r[1];\n                r = ['L', x, y];\n                break;\n            case 'T':\n                x = r[1];\n                y = r[2];\n                //  x, y \n                //  Q\n                var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n                r = ['Q', symetricT[0], symetricT[1], x, y];\n                break;\n            case 'S':\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n                //  x,y \n                //  C  S\n                var length_1 = preParams.length;\n                var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n                r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n                break;\n            case 'M':\n                mx = r[r.length - 2];\n                my = r[r.length - 1];\n                break; // for lint\n            default:\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n        }\n        res.push(r);\n    }\n    return res;\n}\n//# sourceMappingURL=path-2-absolute.js.map","/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport { path2Absolute } from '@antv/path-util';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n    // \n    circle: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r, r, 0, 1, 0, x + r, y],\n            ['A', r, r, 0, 1, 0, x - r, y],\n        ];\n    },\n    // \n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // \n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // \n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n    },\n    // \n    'triangle-down': function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Marker.prototype.initAttrs = function (attrs) {\n        this._resetParamsCache();\n    };\n    //  path \n    Marker.prototype._resetParamsCache = function () {\n        //  path \n        // \n        this.set('paramsCache', {}); // \n    };\n    //  path\n    Marker.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n            // path \n            this._resetParamsCache();\n        }\n    };\n    // \n    //  isInStrokeOrPath \n    Marker.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    Marker.prototype._getR = function (attrs) {\n        //  r  radius  r\n        return isNil(attrs.r) ? attrs.radius : attrs.r;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        var symbol = attrs.symbol || 'circle';\n        var r = this._getR(attrs);\n        var method;\n        var path;\n        if (isFunction(symbol)) {\n            method = symbol;\n            path = method(x, y, r);\n            //  path \n            path = path2Absolute(path);\n        }\n        else {\n            //  symbol  path  path \n            method = Marker.Symbols[symbol];\n            if (!method) {\n                console.warn(symbol + \" marker is not supported.\");\n                return null;\n            }\n            path = method(x, y, r);\n        }\n        return path;\n    };\n    Marker.prototype.createPath = function (context) {\n        var path = this._getPath();\n        var paramsCache = this.get('paramsCache');\n        drawPath(this, context, { path: path }, paramsCache);\n    };\n    Marker.Symbols = Symbols;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=marker.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\n// https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// doubleeps\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// Qp1p2\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// P-\nexport default function isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg  3 \n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // \n            return true;\n        }\n        // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        //    \n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\n//# sourceMappingURL=polygon.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import { distance } from '../util';\nexport default function arc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); //  0 - 2 * Math.PI \n    if (angle < startAngle || angle > endAngle) {\n        return false;\n    }\n    var point = {\n        x: cx + r * Math.cos(angle),\n        y: cy + r * Math.sin(angle),\n    };\n    return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=arc.js.map","import { __assign } from \"tslib\";\n/**\n * @fileoverview path \n * @author dxq613@gmail.com\n */\nimport { PathUtil } from '@antv/g-base';\nimport { Quad as QuadUtil } from '@antv/g-math';\nimport { Cubic as CubicUtil } from '@antv/g-math';\nimport { ext } from '@antv/matrix-util';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { inBox } from './util';\nimport inLine from './in-stroke/line';\nimport inArc from './in-stroke/arc';\nvar transform = ext.transform;\nfunction hasArc(path) {\n    var hasArc = false;\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n            hasArc = true;\n            break;\n        }\n    }\n    return hasArc;\n}\nfunction isPointInStroke(segments, lineWidth, x, y, length) {\n    var isHit = false;\n    var halfWidth = lineWidth / 2;\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;\n        // \n        if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, x, y)) {\n            continue;\n        }\n        switch (segment.command) {\n            // L  Z  M \n            case 'L':\n            case 'Z':\n                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, x, y);\n                break;\n            case 'Q':\n                var qDistance = QuadUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], x, y);\n                isHit = qDistance <= lineWidth / 2;\n                break;\n            case 'C':\n                var cDistance = CubicUtil.pointDistance(prePoint[0], // ,  C \n                prePoint[1], params[1], // 'C' 12 34 56 \n                params[2], params[3], params[4], params[5], params[6], x, y, length);\n                isHit = cDistance <= lineWidth / 2;\n                break;\n            case 'A':\n                // \n                var arcParams = segment.arcParams;\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation;\n                var p = [x, y, 1];\n                var r = rx > ry ? rx : ry;\n                var scaleX = rx > ry ? 1 : rx / ry;\n                var scaleY = rx > ry ? ry / rx : 1;\n                var m = transform(null, [\n                    ['t', -cx, -cy],\n                    ['r', -xRotation],\n                    ['s', 1 / scaleX, 1 / scaleY],\n                ]);\n                vec3.transformMat3(p, p, m);\n                isHit = inArc(0, 0, r, startAngle, endAngle, lineWidth, p[0], p[1]);\n                break;\n            default:\n                break;\n        }\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\n/**\n *  path \n * @param {Array} path \n * @returns {Array} \n */\nfunction extractPolygons(path) {\n    var count = path.length;\n    var polygons = [];\n    var polylines = [];\n    var points = []; //  'M'\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'M') {\n            //  'M' \n            if (points.length) {\n                //  'Z'\n                polylines.push(points);\n                points = []; // \n            }\n            points.push([params[1], params[2]]);\n        }\n        else if (cmd === 'Z') {\n            if (points.length) {\n                // \n                polygons.push(points);\n                points = []; // \n            }\n            //  'Z'\n        }\n        else {\n            points.push([params[1], params[2]]);\n        }\n    }\n    //  points  polygons  polyline\n    //  M Z \n    if (points.length > 0) {\n        polylines.push(points);\n    }\n    return {\n        polygons: polygons,\n        polylines: polylines,\n    };\n}\nexport default __assign({ hasArc: hasArc, extractPolygons: extractPolygons, isPointInStroke: isPointInStroke }, PathUtil);\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport { Cubic as CubicUtil } from '@antv/g-math';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport { path2Absolute, path2Segments } from '@antv/path-util';\nimport { drawPath } from '../util/draw';\nimport isInPolygon from '../util/in-path/polygon';\nimport PathUtil from '../util/path';\nimport * as ArrowUtil from '../util/arrow';\n// \nfunction isInPolygons(polygons, x, y) {\n    var isHit = false;\n    for (var i = 0; i < polygons.length; i++) {\n        var points = polygons[i];\n        isHit = isInPolygon(points, x, y);\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Path.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    Path.prototype.initAttrs = function (attrs) {\n        this._setPathArr(attrs.path);\n        this.setArrow();\n    };\n    //  path\n    Path.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'path') {\n            this._setPathArr(value);\n        }\n        //  line  attrs attr attr \n        this.setArrow();\n    };\n    //  path \n    Path.prototype._setPathArr = function (path) {\n        //  path \n        this.attrs.path = path2Absolute(path);\n        var hasArc = PathUtil.hasArc(path);\n        //  path \n        // \n        this.set('hasArc', hasArc);\n        this.set('paramsCache', {}); // \n        this.set('segments', null); //  path\n        this.set('curve', null);\n        this.set('tCache', null);\n        this.set('totalLength', null);\n    };\n    Path.prototype.getSegments = function () {\n        var segments = this.get('segements');\n        if (!segments) {\n            segments = path2Segments(this.attr('path'));\n            this.set('segments', segments);\n        }\n        return segments;\n    };\n    Path.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        if (startArrow) {\n            var tangent = this.getStartTangent();\n            ArrowUtil.addStartArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n        }\n        if (endArrow) {\n            var tangent = this.getEndTangent();\n            ArrowUtil.addEndArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n        }\n    };\n    Path.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var segments = this.getSegments();\n        var hasArc = this.get('hasArc');\n        var isHit = false;\n        if (isStroke) {\n            var length_1 = this.getTotalLength();\n            isHit = PathUtil.isPointInStroke(segments, lineWidth, x, y, length_1);\n        }\n        if (!isHit && isFill) {\n            // TODO hasArc\n            var path = this.attr('path');\n            var extractResutl = PathUtil.extractPolygons(path);\n            // \n            isHit = isInPolygons(extractResutl.polygons, x, y) || isInPolygons(extractResutl.polylines, x, y);\n        }\n        return isHit;\n    };\n    Path.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var paramsCache = this.get('paramsCache'); // \n        drawPath(this, context, attrs, paramsCache);\n    };\n    Path.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get total length of path\n     * @return {number} length\n     */\n    Path.prototype.getTotalLength = function () {\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this._calculateCurve();\n        this._setTcache();\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Path.prototype.getPoint = function (ratio) {\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._calculateCurve();\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        var curve = this.get('curve');\n        if (!tCache || tCache.length === 0) {\n            if (curve) {\n                return {\n                    x: curve[0][1],\n                    y: curve[0][2],\n                };\n            }\n            return null;\n        }\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        var seg = curve[index];\n        if (isNil(seg) || isNil(index)) {\n            return null;\n        }\n        var l = seg.length;\n        var nextSeg = curve[index + 1];\n        return CubicUtil.pointAt(seg[l - 2], seg[l - 1], nextSeg[1], nextSeg[2], nextSeg[3], nextSeg[4], nextSeg[5], nextSeg[6], subt);\n    };\n    Path.prototype._calculateCurve = function () {\n        var path = this.attr().path;\n        this.set('curve', PathUtil.pathToCurve(path));\n    };\n    Path.prototype._setTcache = function () {\n        var totalLength = 0;\n        var tempLength = 0;\n        //  curve : [[0, 0.25], [0.25, 0.6]. [0.6, 0.9], [0.9, 1]]\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        var segmentN;\n        var l;\n        var curve = this.get('curve');\n        if (!curve) {\n            return;\n        }\n        each(curve, function (segment, i) {\n            segmentN = curve[i + 1];\n            l = segment.length;\n            if (segmentN) {\n                totalLength +=\n                    CubicUtil.length(segment[l - 2], segment[l - 1], segmentN[1], segmentN[2], segmentN[3], segmentN[4], segmentN[5], segmentN[6]) || 0;\n            }\n        });\n        this.set('totalLength', totalLength);\n        if (totalLength === 0) {\n            this.set('tCache', []);\n            return;\n        }\n        each(curve, function (segment, i) {\n            segmentN = curve[i + 1];\n            l = segment.length;\n            if (segmentN) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = CubicUtil.length(segment[l - 2], segment[l - 1], segmentN[1], segmentN[2], segmentN[3], segmentN[4], segmentN[5], segmentN[6]);\n                //  path segmentL  0 \n                tempLength += segmentL || 0;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    Path.prototype.getStartTangent = function () {\n        var segments = this.getSegments();\n        var result;\n        if (segments.length > 1) {\n            var startPoint = segments[0].currentPoint;\n            var endPoint = segments[1].currentPoint;\n            var tangent = segments[1].startTangent;\n            result = [];\n            if (tangent) {\n                result.push([startPoint[0] - tangent[0], startPoint[1] - tangent[1]]);\n                result.push([startPoint[0], startPoint[1]]);\n            }\n            else {\n                result.push([endPoint[0], endPoint[1]]);\n                result.push([startPoint[0], startPoint[1]]);\n            }\n        }\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    Path.prototype.getEndTangent = function () {\n        var segments = this.getSegments();\n        var length = segments.length;\n        var result;\n        if (length > 1) {\n            var startPoint = segments[length - 2].currentPoint;\n            var endPoint = segments[length - 1].currentPoint;\n            var tangent = segments[length - 1].endTangent;\n            result = [];\n            if (tangent) {\n                result.push([endPoint[0] - tangent[0], endPoint[1] - tangent[1]]);\n                result.push([endPoint[0], endPoint[1]]);\n            }\n            else {\n                result.push([startPoint[0], startPoint[1]]);\n                result.push([endPoint[0], endPoint[1]]);\n            }\n        }\n        return result;\n    };\n    return Path;\n}(ShapeBase));\nexport default Path;\n//# sourceMappingURL=path.js.map","import inLine from './line';\nexport default function inPolyline(points, lineWidth, x, y, isClose) {\n    var count = points.length;\n    if (count < 2) {\n        return false;\n    }\n    for (var i = 0; i < count - 1; i++) {\n        var x1 = points[i][0];\n        var y1 = points[i][1];\n        var x2 = points[i + 1][0];\n        var y2 = points[i + 1][1];\n        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n            return true;\n        }\n    }\n    // \n    if (isClose) {\n        var first = points[0];\n        var last = points[count - 1];\n        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport isInPolygon from '../util/in-path/polygon';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Polygon.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var points = this.attr().points;\n        var isHit = false;\n        if (isStroke) {\n            isHit = inPolyline(points, lineWidth, x, y, true);\n        }\n        if (!isHit && isFill) {\n            isHit = isInPolygon(points, x, y);\n        }\n        return isHit;\n    };\n    Polygon.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var points = attrs.points;\n        if (points.length < 2) {\n            return;\n        }\n        context.beginPath();\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            if (i === 0) {\n                context.moveTo(point[0], point[1]);\n            }\n            else {\n                context.lineTo(point[0], point[1]);\n            }\n        }\n        context.closePath();\n    };\n    return Polygon;\n}(ShapeBase));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport { Line as LineUtil } from '@antv/g-math';\nimport { Polyline as PolylineUtil } from '@antv/g-math';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport * as ArrowUtil from '../util/arrow';\nvar PolyLine = /** @class */ (function (_super) {\n    __extends(PolyLine, _super);\n    function PolyLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PolyLine.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    PolyLine.prototype.initAttrs = function (attrs) {\n        this.setArrow();\n    };\n    //  points\n    PolyLine.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        this.setArrow();\n        if (['points'].indexOf(name) !== -1) {\n            this._resetCache();\n        }\n    };\n    PolyLine.prototype._resetCache = function () {\n        this.set('totalLength', null);\n        this.set('tCache', null);\n    };\n    PolyLine.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var _a = this.attrs, points = _a.points, startArrow = _a.startArrow, endArrow = _a.endArrow;\n        var length = points.length;\n        var x1 = points[0][0];\n        var y1 = points[0][1];\n        var x2 = points[length - 1][0];\n        var y2 = points[length - 1][1];\n        if (startArrow) {\n            ArrowUtil.addStartArrow(this, attrs, points[1][0], points[1][1], x1, y1);\n        }\n        if (endArrow) {\n            ArrowUtil.addEndArrow(this, attrs, points[length - 2][0], points[length - 2][1], x2, y2);\n        }\n    };\n    //  fill\n    PolyLine.prototype.isFill = function () {\n        return false;\n    };\n    PolyLine.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        //  stroke , \n        if (!isStroke || !lineWidth) {\n            return false;\n        }\n        var points = this.attr().points;\n        return inPolyline(points, lineWidth, x, y, false);\n    };\n    // \n    PolyLine.prototype.isStroke = function () {\n        return true;\n    };\n    PolyLine.prototype.createPath = function (context) {\n        var _a = this.attr(), points = _a.points, startArrow = _a.startArrow, endArrow = _a.endArrow;\n        var length = points.length;\n        if (points.length < 2) {\n            return;\n        }\n        var x1 = points[0][0];\n        var y1 = points[0][1];\n        var x2 = points[length - 1][0];\n        var y2 = points[length - 1][1];\n        // \n        if (startArrow && startArrow.d) {\n            var distance = ArrowUtil.getShortenOffset(x1, y1, points[1][0], points[1][1], startArrow.d);\n            x1 += distance.dx;\n            y1 += distance.dy;\n        }\n        if (endArrow && endArrow.d) {\n            var distance = ArrowUtil.getShortenOffset(points[length - 2][0], points[length - 2][1], x2, y2, endArrow.d);\n            x2 -= distance.dx;\n            y2 -= distance.dy;\n        }\n        context.beginPath();\n        context.moveTo(x1, y1);\n        for (var i = 0; i < length - 1; i++) {\n            var point = points[i];\n            context.lineTo(point[0], point[1]);\n        }\n        context.lineTo(x2, y2);\n    };\n    PolyLine.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get length of polyline\n     * @return {number} length\n     */\n    PolyLine.prototype.getTotalLength = function () {\n        var points = this.attr().points;\n        // get totalLength from cache\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this.set('totalLength', PolylineUtil.length(points));\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    PolyLine.prototype.getPoint = function (ratio) {\n        var points = this.attr().points;\n        // get tCache from cache\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n    };\n    PolyLine.prototype._setTcache = function () {\n        var points = this.attr().points;\n        if (!points || points.length === 0) {\n            return;\n        }\n        var totalLength = this.getTotalLength();\n        if (totalLength <= 0) {\n            return;\n        }\n        var tempLength = 0;\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        each(points, function (p, i) {\n            if (points[i + 1]) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n                tempLength += segmentL;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    PolyLine.prototype.getStartTangent = function () {\n        var points = this.attr().points;\n        var result = [];\n        result.push([points[1][0], points[1][1]]);\n        result.push([points[0][0], points[0][1]]);\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    PolyLine.prototype.getEndTangent = function () {\n        var points = this.attr().points;\n        var l = points.length - 1;\n        var result = [];\n        result.push([points[l - 1][0], points[l - 1][1]]);\n        result.push([points[l][0], points[l][1]]);\n        return result;\n    };\n    return PolyLine;\n}(ShapeBase));\nexport default PolyLine;\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { parseRadius } from '../util/parse';\nimport { inBox } from '../util/util';\nimport inRect from '../util/in-stroke/rect';\nimport inRectWithRadius from '../util/in-stroke/rect-radius';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rect.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0, radius: 0 });\n    };\n    Rect.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var minX = attrs.x;\n        var minY = attrs.y;\n        var width = attrs.width;\n        var height = attrs.height;\n        var radius = attrs.radius;\n        // \n        if (!radius) {\n            var halfWidth = lineWidth / 2;\n            // \n            if (isFill && isStroke) {\n                return inBox(minX - halfWidth, minY - halfWidth, width + halfWidth, height + halfWidth, x, y);\n            }\n            // \n            if (isFill) {\n                return inBox(minX, minY, width, height, x, y);\n            }\n            if (isStroke) {\n                return inRect(minX, minY, width, height, lineWidth, x, y);\n            }\n        }\n        else {\n            var isHit = false;\n            if (isStroke) {\n                isHit = inRectWithRadius(minX, minY, width, height, radius, lineWidth, x, y);\n            }\n            // \n            // \n            if (!isHit && isFill) {\n                // TODO \n                isHit = inBox(minX, minY, width, height, x, y);\n            }\n            return isHit;\n        }\n    };\n    Rect.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var x = attrs.x;\n        var y = attrs.y;\n        var width = attrs.width;\n        var height = attrs.height;\n        var radius = attrs.radius;\n        context.beginPath();\n        if (radius === 0) {\n            // rect\n            context.rect(x, y, width, height);\n        }\n        else {\n            var _a = parseRadius(radius), r1 = _a[0], r2 = _a[1], r3 = _a[2], r4 = _a[3];\n            context.moveTo(x + r1, y);\n            context.lineTo(x + width - r2, y);\n            r2 !== 0 && context.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n            context.lineTo(x + width, y + height - r3);\n            r3 !== 0 && context.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n            context.lineTo(x + r4, y + height);\n            r4 !== 0 && context.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n            context.lineTo(x, y + r1);\n            r1 !== 0 && context.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n            context.closePath();\n        }\n    };\n    return Rect;\n}(ShapeBase));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import inLine from './line';\nimport inArc from './arc';\nexport default function rectWithRadius(minX, minY, width, height, radius, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    return (inLine(minX + radius, minY, minX + width - radius, minY, lineWidth, x, y) ||\n        inLine(minX + width, minY + radius, minX + width, minY + height - radius, lineWidth, x, y) ||\n        inLine(minX + width - radius, minY + height, minX + radius, minY + height, lineWidth, x, y) ||\n        inLine(minX, minY + height - radius, minX, minY + radius, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + radius, radius, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + height - radius, radius, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + height - radius, radius, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + radius, radius, Math.PI, 1.5 * Math.PI, lineWidth, x, y));\n}\n//# sourceMappingURL=rect-radius.js.map","import { inBox } from '../util';\nexport default function inRect(minX, minY, width, height, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    // \n    return (inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // \n        inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // \n        inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // \n        inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)); // \n}\n//# sourceMappingURL=rect.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { isNil, isString, each } from '../util/util';\nimport { getTextHeight, assembleFont } from '@antv/g-base';\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // \n    Text.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: 'sans-serif', fontStyle: 'normal', fontWeight: 'normal', fontVariant: 'normal', textAlign: 'start', textBaseline: 'bottom' });\n    };\n    // \n    Text.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    //  font text \n    Text.prototype.initAttrs = function (attrs) {\n        this._assembleFont();\n        if (attrs.text) {\n            this._setText(attrs.text);\n        }\n    };\n    // \n    Text.prototype._assembleFont = function () {\n        var attrs = this.attrs;\n        attrs.font = assembleFont(attrs);\n    };\n    // \n    Text.prototype._setText = function (text) {\n        var textArr = null;\n        if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n        }\n        this.set('textArr', textArr);\n    };\n    //  fonttext\n    Text.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name.startsWith('font')) {\n            this._assembleFont();\n        }\n        if (name === 'text') {\n            this._setText(value);\n        }\n    };\n    //  text \n    // createPath(context) {\n    // }\n    // \n    Text.prototype._getSpaceingY = function () {\n        var attrs = this.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n    };\n    // \n    Text.prototype._drawTextArr = function (context, textArr, isFill) {\n        var attrs = this.attrs;\n        var textBaseline = attrs.textBaseline;\n        var x = attrs.x;\n        var y = attrs.y;\n        var fontSize = attrs.fontSize * 1;\n        var spaceingY = this._getSpaceingY();\n        var height = getTextHeight(attrs.text, attrs.fontSize, attrs.lineHeight);\n        var subY;\n        each(textArr, function (subText, index) {\n            subY = y + index * (spaceingY + fontSize) - height + fontSize; // bottom;\n            if (textBaseline === 'middle')\n                subY += height - fontSize - (height - fontSize) / 2;\n            if (textBaseline === 'top')\n                subY += height - fontSize;\n            if (isFill) {\n                context.fillText(subText, x, subY);\n            }\n            else {\n                context.strokeText(subText, x, subY);\n            }\n        });\n    };\n    // \n    Text.prototype._drawText = function (context, isFill) {\n        var attrs = this.attr();\n        var x = attrs.x;\n        var y = attrs.y;\n        var textArr = this.get('textArr');\n        if (textArr) {\n            this._drawTextArr(context, textArr, isFill);\n        }\n        else {\n            var text = attrs.text;\n            if (isFill) {\n                context.fillText(text, x, y);\n            }\n            else {\n                context.strokeText(text, x, y);\n            }\n        }\n    };\n    // \n    Text.prototype.strokeAndFill = function (context) {\n        var _a = this.attrs, lineWidth = _a.lineWidth, opacity = _a.opacity, strokeOpacity = _a.strokeOpacity, fillOpacity = _a.fillOpacity;\n        if (this.isStroke()) {\n            if (lineWidth > 0) {\n                if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n                    context.globalAlpha = opacity;\n                }\n                this.stroke(context);\n            }\n        }\n        if (this.isFill()) {\n            if (!isNil(fillOpacity) && fillOpacity !== 1) {\n                context.globalAlpha = fillOpacity;\n                this.fill(context);\n                context.globalAlpha = opacity;\n            }\n            else {\n                this.fill(context);\n            }\n        }\n        this.afterDrawPath(context);\n    };\n    // \n    Text.prototype.fill = function (context) {\n        this._drawText(context, true);\n    };\n    // \n    Text.prototype.stroke = function (context) {\n        this._drawText(context, false);\n    };\n    return Text;\n}(ShapeBase));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { isAllowCapture, multiplyVec2, invert } from '@antv/g-base';\nfunction invertFromMatrix(v, matrix) {\n    if (matrix) {\n        var invertMatrix = invert(matrix);\n        return multiplyVec2(invertMatrix, v);\n    }\n    return v;\n}\nfunction getRefXY(element, x, y) {\n    // @ts-ignore\n    var totalMatrix = element.getTotalMatrix();\n    if (totalMatrix) {\n        var _a = invertFromMatrix([x, y, 1], totalMatrix), refX = _a[0], refY = _a[1];\n        return [refX, refY];\n    }\n    return [x, y];\n}\n// \nfunction preTest(element, x, y) {\n    // @ts-ignore\n    if (element.isCanvas && element.isCanvas()) {\n        return true;\n    }\n    //  null\n    // @ts-ignore\n    if (!isAllowCapture(element) || element.cfg.isInView === false) {\n        return false;\n    }\n    if (element.cfg.clipShape) {\n        //  clip\n        var _a = getRefXY(element, x, y), refX = _a[0], refY = _a[1];\n        if (element.isClipped(refX, refY)) {\n            return false;\n        }\n    }\n    // @ts-ignore \n    var bbox = element.cfg.cacheCanvasBBox || element.getCanvasBBox();\n    //  bbox\n    //  const bbox = element.cfg.cacheCanvasBBox;\n    // / isInView \n    //  element.getCanvasBBox(); \n    // if (!bbox) {\n    //   return false;\n    // }\n    if (!(x >= bbox.minX && x <= bbox.maxX && y >= bbox.minY && y <= bbox.maxY)) {\n        return false;\n    }\n    return true;\n}\n//  g-base  getShape\nexport function getShape(container, x, y) {\n    //  null\n    if (!preTest(container, x, y)) {\n        return null;\n    }\n    var shape = null;\n    var children = container.getChildren();\n    var count = children.length;\n    for (var i = count - 1; i >= 0; i--) {\n        var child = children[i];\n        if (child.isGroup()) {\n            shape = getShape(child, x, y);\n        }\n        else if (preTest(child, x, y)) {\n            var curShape = child;\n            var _a = getRefXY(child, x, y), refX = _a[0], refY = _a[1];\n            // @ts-ignore\n            if (curShape.isInShape(refX, refY)) {\n                shape = child;\n            }\n        }\n        if (shape) {\n            break;\n        }\n    }\n    return shape;\n}\n//# sourceMappingURL=hit.js.map","import Hammer, { TouchInput } from 'g6-hammerjs';\nimport { Event as GraphEvent } from '@antv/g-base';\nimport { isParent } from './util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\n// \nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n//  shape  canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// , enter  leave  fromShape  toShape \nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // \n        if (relativeShape && isParent(container, relativeShape)) {\n            // \n            eventObj.bubbles = false;\n            return;\n        }\n        // \n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // \n        this.draggingShape = null;\n        this.dragging = false;\n        // /touch\n        this.currentShape = null;\n        this.panstartShape = null;\n        this.panstartPoint = null;\n        // \n        this.handleEvent = function (ev) {\n            _this.hammerRuntime.emit(\"origin_input:\" + ev.type, ev);\n        };\n        this.canvas = cfg.canvas;\n        this._initEvent();\n    }\n    EventController.prototype._initEvent = function () {\n        var _this = this;\n        this.hammerRuntime = new Hammer({}, {\n            inputClass: TouchInput,\n        });\n        this.hammerRuntime.add(new Hammer.Pan({ threshold: 0, pointers: 1 }));\n        this.hammerRuntime.add(new Hammer.Swipe()).recognizeWith(this.hammerRuntime.get('pan'));\n        //this.hammerRuntime.add(new Hammer.Rotate({ threshold: 0 })).recognizeWith(this.hammerRuntime.get('pan'));\n        this.hammerRuntime.add(new Hammer.Pinch({ threshold: 0, pointers: 2 }));\n        //.recognizeWith([this.hammerRuntime.get('pan'), this.hammerRuntime.get('rotate')]);\n        this.hammerRuntime.add(new Hammer.Tap({ event: 'dbltap', taps: 2 }));\n        this.hammerRuntime.add(new Hammer.Tap());\n        this.hammerRuntime.add(new Hammer.Press({ time: 500 }));\n        this.hammerRuntime.on('panstart panmove panend pancancel', function (e) {\n            e.srcEvent.extra = e;\n            var pointInfo = _this._getPointInfo(e);\n            var shape = _this._getShape(pointInfo, e);\n            // \n            if (e.type === 'panend' || e.type === 'pancancel') {\n                _this._onpanend(pointInfo, shape, e);\n            }\n            // \n            if (e.type === 'panstart') {\n                // , hammerpanend\n                if (_this.dragging) {\n                    _this.draggingShape = null;\n                    _this.dragging = false;\n                    _this.panstartShape = null;\n                    _this.panstartPoint = null;\n                }\n                _this._onpanstart(pointInfo, shape, e);\n            }\n            // \n            if (e.type === 'panmove') {\n                _this._onpanmove(pointInfo, shape, e);\n            }\n            _this.currentShape = shape;\n        });\n        this.hammerRuntime.on('tap dbltap press swipe rotatestart rotatemove', function (e) {\n            _this._emitMobileEvent(e.type, e);\n        });\n        this.hammerRuntime.on('pinchstart pinchmove pinchend pinchcancel', function (e) {\n            if (e.type === 'pinchend' || e.type === 'pinchcancel') {\n                _this._emitMobileEvent(e.type, e);\n                return;\n            }\n            e.srcEvent.extra = {\n                scale: e.scale,\n            };\n            _this._emitMobileEvent(e.type, e);\n        });\n    };\n    EventController.prototype._emitMobileEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        var shape = this._getShape(pointInfo, ev);\n        this._emitEvent(type, ev, pointInfo, shape);\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // x,ycanvasmatrix\n        return eventObj;\n    };\n    // \n    EventController.prototype._getShape = function (point, event) {\n        var ev = event.srcEvent;\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // \n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // \n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // \n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // \n            if (type === 'panstart' || type === 'dragenter') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // \n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // \n                }\n                if (type === 'panstart' && this.draggingShape) {\n                    // ,  dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'panend' || type === 'dragleave') {\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // \n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // \n                if (type === 'panend' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); //  from, to\n            }\n        }\n    };\n    // click \n    EventController.prototype._onpanstart = function (pointInfo, shape, event) {\n        this.panstartShape = shape;\n        this.panstartPoint = pointInfo;\n        this.panstartTimeStamp = event.timeStamp;\n        this._emitEvent('panstart', event, pointInfo, shape, null, null);\n    };\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO:  drag  dragleave  toShape  null\n            // \n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag \n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // \n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag  draggingShape \n        var shape = this._getShape(pointInfo, event);\n        this.currentShape = shape;\n    };\n    // \n    EventController.prototype._onpanend = function (pointInfo, shape, event) {\n        var draggingShape = this.draggingShape;\n        if (this.dragging) {\n            //  drag \n            if (draggingShape) {\n                this._emitEvent('drop', event, pointInfo, shape);\n            }\n            this._emitEvent('dragend', event, pointInfo, draggingShape);\n            this._afterDrag(draggingShape, pointInfo, event);\n        }\n        this._emitEvent('panend', event, pointInfo, shape);\n        this.panstartShape = null;\n        this.panstartPoint = null;\n    };\n    //  mousemove \n    EventController.prototype._onpanmove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // \n        if (this.dragging) {\n            // \n            if (draggingShape) {\n                //  shape  dragenter, dragleave, dragover  drag \n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            //  draggingShape  draggingShape  drag  canvas \n            //  canvas  drag \n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var panstartPoint = this.panstartPoint;\n            if (panstartPoint) {\n                //  drag \n                var panstartShape = this.panstartShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.panstartTimeStamp;\n                var dx = panstartPoint.clientX - pointInfo.clientX;\n                var dy = panstartPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (panstartShape && panstartShape.get('draggable')) {\n                        //  draggable  shape  drag \n                        draggingShape = this.panstartShape; //  shape\n                        draggingShape.set('capture', false); //  dragover,dragenter,dragleave,drop\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // \n                        this.panstartShape = null;\n                        this.panstartPoint = null;\n                    }\n                    else if (!panstartShape && canvas.get('draggable')) {\n                        //  draggable  canvas  drag \n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // \n                        this.panstartShape = null;\n                        this.panstartPoint = null;\n                    }\n                    else {\n                        this._emitEvent('panmove', event, pointInfo, shape);\n                    }\n                }\n            }\n        }\n        this._emitEvent('panmove', event, pointInfo, shape);\n    };\n    // \n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        //  shape \n        if (shape) {\n            eventObj.shape = shape;\n            //  shape \n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // \n            while (parent_1) {\n                // \n                parent_1.emitDelegation(type, eventObj);\n                // \n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            //  shape  canvas \n            var canvas = this.canvas;\n            //  canvas \n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // \n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.panstartPoint = null;\n        this.panstartShape = null;\n        this.panstartTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=events.js.map","/***\n * canvashandler\n */\nvar MiniCanvasProxy = /** @class */ (function () {\n    function MiniCanvasProxy() {\n    }\n    MiniCanvasProxy.prototype.set = function (obj, prop, value) {\n        switch (prop) {\n            case 'strokeStyle':\n                obj['setStrokeStyle'](value);\n                break;\n            case 'fillStyle':\n                obj['setFillStyle'](value);\n                break;\n            case 'lineWidth':\n                obj['setLineWidth'](value);\n                break;\n            case 'lineDash':\n                obj['setLineDash'](value);\n                break;\n            case 'globalAlpha':\n                if (value || value === 0) {\n                    obj['globalAlpha'] = value;\n                    obj['setGlobalAlpha'](value);\n                }\n                break;\n            case 'fontSize':\n                obj['setFontSize'](value);\n                break;\n            case 'textAlign':\n                obj['setTextAlign'](value);\n                break;\n            case 'fontStyle':\n            case 'font':\n                obj['setFont'](value);\n                break;\n            case 'textBaseline':\n                obj['setTextBaseline'](value);\n                break;\n            default:\n                obj[prop] = value;\n        }\n        return true;\n    };\n    MiniCanvasProxy.prototype.get = function (obj, prop) {\n        if (prop === 'globalAlpha' && obj[prop] === undefined)\n            return 1;\n        if (typeof obj[prop] === 'function') {\n            return obj[prop].bind(obj);\n        }\n        return obj[prop];\n    };\n    return MiniCanvasProxy;\n}());\nexport default MiniCanvasProxy;\n//# sourceMappingURL=mini-canvas-proxy.js.map","import { isNil, isString, each } from '@antv/util';\nimport { getTextHeight, assembleFont } from '@antv/g-base/lib/util/text';\nvar context = null;\nexport function cacheCanvasContext(ctx) {\n    context = ctx;\n}\n/**\n * \n * @param text \n * @param font \n */\nfunction getTextWidth(text, font) {\n    var width = 0;\n    // null  undefined  0\n    if (isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        //  font\n        font = assembleFont(attrs);\n    }\n    var width = getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // width\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // left,  bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\n//# sourceMappingURL=text.js.map","import { registerBBox } from '@antv/g-base';\nimport text, { cacheCanvasContext } from './text';\nexport default (function (context) {\n    cacheCanvasContext(context);\n    registerBBox('text', text);\n});\n//# sourceMappingURL=index.js.map","import bbox from './bbox';\nimport { setMiniCanvas } from '../shape/image';\nexport default (function (context, canvas) {\n    setMiniCanvas(canvas);\n    bbox(context);\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { AbstractCanvas } from '@antv/g-base';\nimport { getShape } from './util/hit';\nimport * as Shape from './shape';\nimport Group from './group';\nimport { each, getPixelRatio } from './util/util';\nimport { requestAnimationFrame, clearAnimationFrame, setExtraFunction } from './util/time';\nimport { applyAttrsToContext, drawChildren, getMergedRegion, mergeView, checkRefresh, clearChanged } from './util/draw';\nimport EventController from './events';\nimport CanvasProxy from './util/mini-canvas-proxy';\nimport miniPatch from './patch';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        var ctx = _this.get('context');\n        if (_this.isMini()) {\n            if (_this.isMiniNative()) {\n                // TODO extra\n                setExtraFunction(_this.get('container'));\n            }\n            else {\n                // canvas apiw3c\n                _this.set('context', new Proxy(ctx, new CanvasProxy()));\n            }\n            // patch\n            miniPatch(ctx, _this);\n        }\n        return _this;\n    }\n    Canvas.prototype.isMiniNative = function () {\n        return this.get('renderer') === 'mini-native';\n    };\n    Canvas.prototype.isMini = function () {\n        return this.get('renderer').startsWith('mini');\n    };\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        //  canvas(h5)/mini()\n        cfg['renderer'] = 'canvas';\n        //  draw \n        cfg['autoDraw'] = true;\n        // \n        cfg['localRefresh'] = true;\n        cfg['refreshElements'] = [];\n        // \n        cfg['clipView'] = true;\n        //  false\n        cfg['quickHit'] = false;\n        // rect\n        cfg['boundingClientRect'] = {\n            width: 0,\n            height: 0,\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0,\n        };\n        return cfg;\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        this.set('eventController', eventController);\n    };\n    Canvas.prototype.registerEventCallback = function (e) {\n        var eventController = this.get('eventController');\n        eventController.handleEvent(e);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    Canvas.prototype.onCanvasChange = function (changeType) {\n        /**\n         *  changeType\n         * 1. attr: \n         * 2. sort: \n         * 3. changeSize: \n         */\n        if (changeType === 'attr' || changeType === 'sort' || changeType === 'changeSize') {\n            this.set('refreshElements', [this]);\n            this.draw();\n        }\n    };\n    Canvas.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Canvas.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * \n     */\n    Canvas.prototype.getPixelRatio = function () {\n        var pixelRatio = this.get('pixelRatio') || getPixelRatio();\n        //  1  1 1 \n        return pixelRatio >= 1 ? Math.ceil(pixelRatio) : 1;\n    };\n    Canvas.prototype.getViewRange = function () {\n        return {\n            minX: 0,\n            minY: 0,\n            maxX: this.cfg.width,\n            maxY: this.cfg.height,\n        };\n    };\n    Canvas.prototype.initDom = function () {\n        if (this.isMini()) {\n            var context = this.get('context');\n            var fitView = this.get('fitView');\n            var pixelRatio = this.getPixelRatio();\n            //  canvas  context.scale \n            //  fitView containercontainerpixelRatio\n            if (!fitView && pixelRatio > 1) {\n                context.scale(pixelRatio, pixelRatio);\n            }\n            return;\n        }\n        _super.prototype.initDom.call(this);\n    };\n    //  mini renderer  super.initDom \n    Canvas.prototype.createDom = function () {\n        var element = document.createElement('canvas');\n        var context = element.getContext('2d');\n        //  context \n        this.set('context', context);\n        return element;\n    };\n    Canvas.prototype.setDOMSize = function (width, height) {\n        _super.prototype.setDOMSize.call(this, width, height);\n        var context = this.get('context');\n        var el = this.get('el');\n        var pixelRatio = this.getPixelRatio();\n        el.width = pixelRatio * width;\n        el.height = pixelRatio * height;\n        //  canvas  context.scale \n        if (pixelRatio > 1) {\n            context.scale(pixelRatio, pixelRatio);\n        }\n    };\n    // \n    Canvas.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this._clearFrame(); // \n        var context = this.get('context');\n        context.clearRect(0, 0, this.get('width'), this.get('height'));\n    };\n    Canvas.prototype.getShape = function (x, y) {\n        var shape;\n        if (this.get('quickHit')) {\n            shape = getShape(this, x, y);\n        }\n        else {\n            shape = _super.prototype.getShape.call(this, x, y, null);\n        }\n        return shape;\n    };\n    // \n    Canvas.prototype._getRefreshRegion = function () {\n        var elements = this.get('refreshElements');\n        var viewRegion = this.getViewRange();\n        var region;\n        // \n        if (elements.length && elements[0] === this) {\n            region = viewRegion;\n        }\n        else {\n            region = getMergedRegion(elements);\n            if (region) {\n                region.minX = Math.floor(region.minX);\n                region.minY = Math.floor(region.minY);\n                region.maxX = Math.ceil(region.maxX);\n                region.maxY = Math.ceil(region.maxY);\n                region.maxY += 1; // \n                var clipView = this.get('clipView');\n                //  view \n                if (clipView) {\n                    region = mergeView(region, viewRegion);\n                }\n            }\n        }\n        return region;\n    };\n    // \n    Canvas.prototype._clearFrame = function () {\n        var drawFrame = this.get('drawFrame');\n        if (drawFrame) {\n            // \n            clearAnimationFrame(drawFrame);\n            this.set('drawFrame', null);\n            this.set('refreshElements', []);\n        }\n    };\n    // \n    Canvas.prototype.draw = function () {\n        var drawFrame = this.get('drawFrame');\n        if (this.get('autoDraw') && drawFrame) {\n            return;\n        }\n        this._startDraw();\n    };\n    // \n    Canvas.prototype._startDraw = function () {\n        var _this = this;\n        var drawFrame = this.get('drawFrame');\n        if (!drawFrame) {\n            drawFrame = requestAnimationFrame(function () {\n                if (_this.get('localRefresh')) {\n                    _this._drawRegion();\n                }\n                else {\n                    _this._drawAll();\n                }\n                // setInterval\n                clearAnimationFrame(drawFrame);\n                _this.set('drawFrame', null);\n            });\n            this.set('drawFrame', drawFrame);\n        }\n    };\n    // \n    Canvas.prototype._drawRegion = function () {\n        var context = this.get('context');\n        var refreshElements = this.get('refreshElements');\n        var children = this.getChildren();\n        var region = this._getRefreshRegion();\n        //  region \n        //  localRefresh , draw\n        if (region) {\n            // \n            context.clearRect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n            //  clip\n            context.save();\n            context.beginPath();\n            context.rect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n            context.clip();\n            applyAttrsToContext(context, this);\n            //  10 10W  group  90ms  5-6 ms\n            checkRefresh(this, children, region);\n            // \n            drawChildren(context, children, region);\n            context.restore();\n        }\n        else if (refreshElements.length) {\n            //  elements  region \n            // 1.  group\n            // 2.  elements \n            // 3. group  elements \n            //  hasChanged \n            clearChanged(refreshElements);\n        }\n        each(refreshElements, function (element) {\n            if (element.get('hasChanged')) {\n                //  Group  draw()  hasChanged \n                //  hasChanged  Group \n                element.set('hasChanged', false);\n            }\n        });\n        // draw\n        if (this.isMini() && !this.isMiniNative()) {\n            context.draw(true);\n        }\n        this.set('refreshElements', []);\n    };\n    // \n    Canvas.prototype._drawAll = function () {\n        var context = this.get('context');\n        var children = this.getChildren();\n        context.clearRect(0, 0, this.get('width'), this.get('height'));\n        applyAttrsToContext(context, this);\n        drawChildren(context, children);\n        // draw\n        if (this.isMini() && !this.isMiniNative()) {\n            context.draw(true);\n        }\n        //  https://github.com/antvis/g/issues/422 \n        this.set('refreshElements', []);\n    };\n    Canvas.prototype.skipDraw = function () { };\n    /**\n     * \n     * @param {IElement} element \n     */\n    Canvas.prototype.refreshElement = function (element) {\n        var refreshElements = this.get('refreshElements');\n        refreshElements.push(element);\n        // if (this.get('autoDraw')) {\n        //   this._startDraw();\n        // }\n    };\n    // \n    Canvas.prototype.getPointByEvent = function (ev) {\n        if (this.isMini()) {\n            var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n            return this.getPointByClient(clientX, clientY);\n        }\n        return _super.prototype.getPointByEvent.call(this, ev);\n    };\n    //  touch  clientX  clientY \n    Canvas.prototype.getClientByEvent = function (event) {\n        // event\n        var ev = event.srcEvent;\n        var clientInfo = null;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        if (!clientInfo) {\n            return {};\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // \n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        if (this.isMini()) {\n            var rect = this.get('boundingClientRect');\n            return {\n                x: clientX + rect.left,\n                y: clientY + rect.top,\n            };\n        }\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.getClientByPoint = function (x, y) {\n        if (this.isMini()) {\n            // canvas\n            var rect = this.get('boundingClientRect');\n            return {\n                x: x + rect.left,\n                y: y + rect.top,\n            };\n        }\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    return Canvas;\n}(AbstractCanvas));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport { each, wrapBehavior } from '@antv/util';\nimport { AbstractEvent, IG6GraphEvent, Matrix, Item, Util } from '@antv/f6-core';\nimport Graph from '../graph';\n\nconst { cloneEvent, isViewportChanged } = Util;\n\ntype Fun = () => void;\n\nexport default class EventController extends AbstractEvent {\n  protected extendEvents: any[] = [];\n\n  protected canvasHandler!: Fun;\n\n  protected dragging: boolean = false;\n\n  protected preItem: Item | null = null;\n\n  public destroyed: boolean;\n\n  constructor(graph: Graph) {\n    super(graph);\n    this.graph = graph;\n    this.destroyed = false;\n  }\n\n  //  G6 \n  protected initEvents() {\n    const { graph, extendEvents = [] } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    this.canvasHandler = wrapBehavior(this, 'onCanvasEvents') as Fun;\n    canvas.off('*').on('*', this.canvasHandler);\n  }\n\n  //  shape  item \n  private static getItemRoot<T extends IShape>(shape: any): T {\n    while (shape && !shape.get('item')) {\n      shape = shape.get('parent');\n    }\n    return shape;\n  }\n\n  /**\n   *  canvas \n   * @param evt \n   */\n  protected onCanvasEvents(evt: IG6GraphEvent) {\n    const { graph } = this;\n    const canvas = graph.get('canvas');\n    const { target } = evt;\n    const eventType = evt.type;\n\n    /**\n     * (clientX, clientY): \n     * (canvasX, canvasY):  <canvas> \n     * (x, y): ,  model  x, y \n     */\n    evt.canvasX = evt.x;\n    evt.canvasY = evt.y;\n    let point = { x: evt.canvasX, y: evt.canvasY };\n\n    const group: IGroup = graph.get('group');\n    let matrix: Matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (isViewportChanged(matrix)) {\n      point = graph.getPointByClient(evt.clientX, evt.clientY);\n    }\n\n    evt.x = point.x;\n    evt.y = point.y;\n\n    evt.currentTarget = graph;\n\n    if (target === canvas) {\n      if (eventType === 'panmove') {\n        this.handleTouchMove(evt, 'canvas');\n      }\n      evt.target = canvas;\n      evt.item = null;\n\n      graph.emit(eventType, evt);\n      graph.emit(`canvas:${eventType}`, evt);\n      return;\n    }\n\n    const itemShape: IShape = EventController.getItemRoot(target);\n    if (!itemShape) {\n      graph.emit(eventType, evt);\n      return;\n    }\n\n    const item = itemShape.get('item');\n    if (item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n\n    // targetShapeitemitem\n    evt.target = target;\n    evt.item = item;\n    if (evt.canvasX === evt.x && evt.canvasY === evt.y) {\n      const canvasPoint = graph.getCanvasByPoint(evt.x, evt.y);\n      evt.canvasX = canvasPoint.x;\n      evt.canvasY = canvasPoint.y;\n    }\n\n    graph.emit(eventType, evt);\n    if (evt.name && !evt.name.includes(':')) {\n      graph.emit(`${type}:${eventType}`, evt);\n    } else {\n      graph.emit(evt.name, evt);\n    }\n\n    if (eventType === 'dragstart') {\n      this.dragging = true;\n    }\n    if (eventType === 'dragend') {\n      this.dragging = false;\n    }\n    if (eventType === 'panmove') {\n      this.handleTouchMove(evt, type);\n    }\n  }\n\n  /**\n   * \n   * @param evt \n   */\n  protected onExtendEvents(evt: IG6GraphEvent) {\n    this.graph.emit(evt.type, evt);\n  }\n\n  /**\n   *  graph  emit \n   * @param itemType item \n   * @param eventType \n   * @param evt \n   */\n  private emitCustomEvent(itemType: string, eventType: string, evt: IG6GraphEvent) {\n    evt.type = eventType;\n    this.graph.emit(`${itemType}:${eventType}`, evt);\n  }\n\n  public destroy() {\n    const { graph, canvasHandler, extendEvents } = this;\n    const canvas: ICanvas = graph.get('canvas');\n\n    // each(EVENTS, event => {\n    //   canvas.off(event, canvasHandler);\n    // });\n\n    canvas.off('*', canvasHandler);\n\n    each(extendEvents, (event) => {\n      event.remove();\n    });\n\n    this.dragging = false;\n    this.preItem = null;\n    this.extendEvents.length = 0;\n    (this.canvasHandler as Fun | null) = null;\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param evt \n   * @param type item \n   */\n  private handleTouchMove(evt: IG6GraphEvent, type: string) {\n    const { graph, preItem } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    const item = (evt.target as any) === canvas ? null : evt.item;\n\n    evt = cloneEvent(evt) as IG6GraphEvent;\n\n    // itemitemitemleave\n    if (preItem && preItem !== item && !preItem.destroyed) {\n      evt.item = preItem;\n      this.emitCustomEvent(preItem.getType(), 'touchleave', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(preItem.getType(), 'dragleave', evt);\n      }\n    }\n\n    // itemcanvasitemitementer\n    if (item && preItem !== item) {\n      evt.item = item;\n      this.emitCustomEvent(type, 'touchenter', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(type, 'dragenter', evt);\n      }\n    }\n\n    this.preItem = item;\n  }\n}\n","import { AbstractLayout, GraphData } from '@antv/f6-core';\nimport { Layout } from '../../layout';\nimport { mix, clone } from '@antv/util';\n\nimport { IGraph } from '../../interface/graph';\n\nconst LayoutPipesAdjustNames = ['force', 'grid', 'circular'];\nexport default class LayoutController extends AbstractLayout {\n  public graph: IGraph;\n\n  public destroyed: boolean;\n\n  constructor(graph: IGraph) {\n    super(graph);\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n  }\n\n  // \n  public updateLayoutCfg(cfg) {\n    const { graph, layoutMethods } = this;\n    const layoutCfg = mix({}, this.layoutCfg, cfg);\n    this.layoutCfg = layoutCfg;\n\n    if (!layoutMethods?.length) {\n      this.layout();\n      return;\n    }\n    this.data = this.setDataFromGraph();\n\n    graph.emit('beforelayout');\n\n    let start = Promise.resolve();\n    if (layoutMethods.length === 1) {\n      start = start.then(() => this.updateLayoutMethod(layoutMethods[0], layoutCfg));\n    } else {\n      layoutMethods?.forEach((layoutMethod, index) => {\n        const currentCfg = layoutCfg.pipes[index];\n        start = start.then(() => this.updateLayoutMethod(layoutMethod, currentCfg));\n      });\n    }\n    this.data = this.setDataFromGraph();\n\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n      })\n      .catch((error) => {\n        console.warn('layout failed', error);\n      });\n  }\n\n  /**\n   * @param {function} success callback\n   * @return {boolean} web worker\n   */\n  public layout(success?: () => void): boolean {\n    const { graph } = this;\n\n    this.data = this.setDataFromGraph();\n    const { nodes, hiddenNodes } = this.data;\n\n    if (!nodes) {\n      return false;\n    }\n    const width = graph.get('width');\n    const height = graph.get('height');\n    const layoutCfg: any = {};\n    Object.assign(\n      layoutCfg,\n      {\n        width,\n        height,\n        center: [width / 2, height / 2],\n      },\n      this.layoutCfg,\n    );\n    this.layoutCfg = layoutCfg;\n\n    this.destoryLayoutMethods();\n\n    graph.emit('beforelayout');\n    this.initPositions(layoutCfg.center, nodes);\n    // init hidden ndoes\n    this.initPositions(layoutCfg.center, hiddenNodes);\n\n    //  onAllLayoutEnd  onLayoutEnd afterlayoutfitView/fitCenter afterrender\n    const { onLayoutEnd, layoutEndFormatted, adjust } = layoutCfg;\n\n    if (!layoutEndFormatted) {\n      layoutCfg.layoutEndFormatted = true;\n\n      layoutCfg.onAllLayoutEnd = async () => {\n        //  onLayoutEnd\n        if (onLayoutEnd) {\n          onLayoutEnd();\n        }\n\n        // \n        this.refreshLayout();\n\n        // \n        if (adjust && layoutCfg.pipes) {\n          await this.adjustPipesBox(this.data, adjust);\n          this.refreshLayout();\n        }\n\n        //  afterlayout\n        graph.emit('afterlayout');\n      };\n    }\n\n    let start = Promise.resolve();\n    if (layoutCfg.type) {\n      start = start.then(() => this.execLayoutMethod(layoutCfg, 0));\n    } else if (layoutCfg.pipes) {\n      layoutCfg.pipes.forEach((cfg, index) => {\n        start = start.then(() => this.execLayoutMethod(cfg, index));\n      });\n    }\n\n    // onAllLayoutEnd\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n        //  execute  success timeBar  throttle timeBar  afterrender  changeData  layout\n        //  force  fitView  onLayoutEnd \n        if (success) success();\n      })\n      .catch((error) => {\n        console.warn('graph layout failed,', error);\n      });\n\n    return false;\n  }\n\n  private execLayoutMethod(layoutCfg, order): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const isForce = layoutType === 'force' || layoutType === 'g6force' || layoutType === 'gForce';\n      if (isForce) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutCfg.tick = tick;\n      } else if (layoutCfg.type === 'comboForce') {\n        layoutCfg.comboTrees = graph.get('comboTrees');\n      }\n\n      let enableTick = false;\n      let layoutMethod;\n\n      try {\n        layoutMethod = new Layout(layoutCfg);\n      } catch (e) {\n        console.warn(`The layout method: '${layoutType}' does not exist! Please specify it first.`);\n        reject();\n      }\n\n      // \n      enableTick = layoutMethod.enableTick;\n      if (enableTick) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutMethod.tick = tick;\n      }\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      addLayoutOrder(layoutData, order);\n      layoutMethod.init(layoutData);\n      //  layout initPositions  random  random \n      //  layout\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n      this.layoutMethods.push(layoutMethod);\n    });\n  }\n\n  private updateLayoutMethod(layoutMethod, layoutCfg): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg?.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      layoutMethod.init(layoutData);\n      layoutMethod.updateCfg(layoutCfg);\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }\n\n  protected adjustPipesBox(data, adjust: string): Promise<void> {\n    return new Promise((resolve) => {\n      const { nodes } = data;\n      if (!nodes?.length) {\n        resolve();\n      }\n\n      if (!LayoutPipesAdjustNames.includes(adjust)) {\n        console.warn(\n          `The adjust type ${adjust} is not supported yet, please assign it with 'force', 'grid', or 'circular'.`,\n        );\n        resolve();\n      }\n\n      const layoutCfg = {\n        center: this.layoutCfg.center,\n        nodeSize: (d) => Math.max(d.height, d.width),\n        preventOverlap: true,\n        onLayoutEnd: () => {},\n      };\n\n      // \n      const { groupNodes, layoutNodes } = this.getLayoutBBox(nodes);\n      const preNodes = clone(layoutNodes);\n\n      // nodes\n      layoutCfg.onLayoutEnd = () => {\n        layoutNodes?.forEach((ele, index) => {\n          const dx = ele.x - preNodes[index]?.x;\n          const dy = ele.y - preNodes[index]?.y;\n          groupNodes[index]?.forEach((n: any) => {\n            n.x += dx;\n            n.y += dy;\n          });\n        });\n        resolve();\n      };\n      const layoutMethod = new Layout(layoutCfg);\n      layoutMethod.layout({ nodes: layoutNodes });\n    });\n  }\n\n  public destroy() {\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n\n    this.graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n    this.graph = null;\n  }\n}\n\nfunction addLayoutOrder(data, order) {\n  if (!data?.nodes?.length) {\n    return;\n  }\n  const { nodes } = data;\n  nodes.forEach((node) => {\n    node.layoutOrder = order;\n  });\n}\n","import { Canvas as GMobileCanvas } from '@antv/g-mobile';\nimport { IGroup } from '@antv/g-base';\nimport { mat3 } from '@antv/matrix-util';\nimport { clone, deepMix, each, isString, isNumber } from '@antv/util';\nimport { IGraph, DataUrlType } from '../interface/graph';\nimport { AbstractGraph, GraphOptions } from '@antv/f6-core';\n\nimport { WaterMarkerConfig } from '../types';\nimport Global from '../global';\nimport { LayoutController, EventController } from './controller';\nimport PluginBase from '../plugin/base';\nimport { createDom } from '@antv/dom-util';\n\nexport const registerGraph = (graphName: string, GraphFunction: any, G6: Object): Object => {\n  if (G6[graphName]) {\n    console.warn(`The graph with the name ${graphName} exists already, it will be overridden`);\n  }\n  G6[graphName] = GraphFunction(G6);\n  return G6;\n};\n\nexport default class Graph extends AbstractGraph implements IGraph {\n  // private cfg: GraphOptions & { [key: string]: any };\n\n  public destroyed: boolean;\n\n  constructor(cfg: GraphOptions) {\n    super(cfg);\n\n    if (this.get('renderer').startsWith('mini')) {\n      this.set('context', (cfg as any).context);\n    }\n\n    super.init();\n    const defaultNode = this.get('defaultNode');\n    if (!defaultNode) {\n      this.set('defaultNode', { type: 'circle' });\n    }\n    if (!defaultNode.type) {\n      defaultNode.type = 'circle';\n      this.set('defaultNode', defaultNode);\n    }\n    this.destroyed = false;\n  }\n\n  // deepmix\n  protected init() {}\n\n  public emitEvent(event) {\n    const canvas: GMobileCanvas = this.get('canvas');\n    event.type = event.type.toLowerCase();\n    canvas.registerEventCallback(event);\n  }\n\n  protected initLayoutController() {\n    const layoutController = new LayoutController(this);\n    this.set({\n      layoutController,\n    });\n  }\n\n  protected initEventController() {\n    const eventController = new EventController(this);\n    this.set({\n      eventController,\n    });\n\n    if (this.get('renderer').startsWith('mini')) {\n      return;\n    }\n\n    const canvas: GMobileCanvas = this.get('canvas');\n    const canvasDom = canvas.get('el');\n    'touchstart touchmove touchend touchcancel'.split(' ').forEach((key) => {\n      canvasDom.addEventListener(key, canvas.registerEventCallback.bind(canvas), false);\n    });\n  }\n\n  protected initCanvas() {\n    let container: string | HTMLElement | Element | null = this.get('container');\n    if (container !== null && typeof container === 'string') {\n      container = document.getElementById(container);\n      this.set('container', container);\n    }\n\n    const renderer: string = this.get('renderer');\n\n    if (!container && !renderer.startsWith('mini')) {\n      throw new Error('invalid container');\n    }\n\n    const width: number = this.get('width');\n    const height: number = this.get('height');\n    const context: string = this.get('context');\n    const fitView: boolean = this.get('fitView');\n\n    const canvasCfg: any = {\n      container, // native canvas  requestAnimationFrame, clearAnimationFrame \n      context,\n      width,\n      height,\n      renderer,\n      fitView,\n    };\n\n    const pixelRatio = this.get('pixelRatio');\n\n    if (pixelRatio) {\n      canvasCfg.pixelRatio = pixelRatio;\n    }\n\n    const canvas = new GMobileCanvas(canvasCfg);\n\n    this.set('canvas', canvas);\n  }\n\n  protected initPlugins(): void {\n    const self = this;\n    each(self.get('plugins'), (plugin) => {\n      if (!plugin.destroyed && plugin.initPlugin) {\n        plugin.initPlugin(self);\n      }\n    });\n  }\n\n  /**\n   *  dataUrl\n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   * @return {string}  dataURL\n   */\n  public toDataURL(type?: DataUrlType, backgroundColor?: string): string {\n    const canvas: GMobileCanvas = this.get('canvas');\n    const renderer = canvas.getRenderer();\n    const canvasDom = canvas.get('el');\n\n    if (!type) type = 'image/png';\n\n    let dataURL = '';\n    if (renderer === 'svg') {\n      const cloneNode = canvasDom.cloneNode(true);\n      const svgDocType = document.implementation.createDocumentType(\n        'svg',\n        '-//W3C//DTD SVG 1.1//EN',\n        'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n      );\n      const svgDoc = document.implementation.createDocument(\n        'http://www.w3.org/2000/svg',\n        'svg',\n        svgDocType,\n      );\n      svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n      const svgData = new XMLSerializer().serializeToString(svgDoc);\n      dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n    } else {\n      let imageData;\n      const context = canvasDom.getContext('2d');\n      const width = this.get('width');\n      const height = this.get('height');\n      let compositeOperation;\n      if (backgroundColor) {\n        const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n        imageData = context.getImageData(0, 0, width * pixelRatio, height * pixelRatio);\n        compositeOperation = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-over';\n        context.fillStyle = backgroundColor;\n        context.fillRect(0, 0, width, height);\n      }\n      dataURL = canvasDom.toDataURL(type);\n      if (backgroundColor) {\n        context.clearRect(0, 0, width, height);\n        context.putImageData(imageData, 0, 0);\n        context.globalCompositeOperation = compositeOperation;\n      }\n    }\n    return dataURL;\n  }\n\n  /**\n   *  dataUrl\n   * @param {Function} callback  dataUrl  dataUrl \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public toFullDataURL(\n    callback: (res: string) => any,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ) {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n      quickHit: true,\n    };\n\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    let dataURL = '';\n    if (!type) type = 'image/png';\n\n    setTimeout(() => {\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n      if (callback) callback(dataURL);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public downloadFullImage(\n    name?: string,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ): void {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n    };\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    if (!type) type = 'image/png';\n    setTimeout(() => {\n      let dataURL = '';\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n\n      const link: HTMLAnchorElement = document.createElement('a');\n      const fileName: string =\n        (name || 'graph') + (renderer === 'svg' ? '.svg' : `.${type.split('/')[1]}`);\n\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   */\n  public downloadImage(name?: string, type?: DataUrlType, backgroundColor?: string): void {\n    const self = this;\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    const canvas = self.get('canvas');\n    const renderer = canvas.getRenderer();\n    if (!type) type = 'image/png';\n    const fileName: string = (name || 'graph') + (renderer === 'svg' ? '.svg' : type.split('/')[1]);\n    const link: HTMLAnchorElement = document.createElement('a');\n    setTimeout(() => {\n      const dataURL = self.toDataURL(type, backgroundColor);\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  private dataURLToImage(dataURL: string, renderer: string, link, fileName) {\n    if (typeof window !== 'undefined') {\n      if (window.Blob && window.URL && renderer !== 'svg') {\n        const arr = dataURL.split(',');\n        let mime = '';\n        if (arr && arr.length > 0) {\n          const match = arr[0].match(/:(.*?);/);\n          // eslint-disable-next-line prefer-destructuring\n          if (match && match.length >= 2) mime = match[1];\n        }\n\n        const bstr = atob(arr[1]);\n        let n = bstr.length;\n        const u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        const blobObj = new Blob([u8arr], { type: mime });\n\n        if (window.navigator.msSaveBlob) {\n          window.navigator.msSaveBlob(blobObj, fileName);\n        } else {\n          link.addEventListener('click', () => {\n            link.download = fileName;\n            link.href = window.URL.createObjectURL(blobObj);\n          });\n        }\n      } else {\n        link.addEventListener('click', () => {\n          link.download = fileName;\n          link.href = dataURL;\n        });\n      }\n    }\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public addPlugin(plugin: PluginBase): void {\n    const self = this;\n    if (plugin.destroyed) {\n      return;\n    }\n    self.get('plugins').push(plugin);\n    plugin.initPlugin(self);\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public removePlugin(plugin: PluginBase): void {\n    const plugins = this.get('plugins');\n    const index = plugins.indexOf(plugin);\n    if (index >= 0) {\n      plugin.destroyPlugin();\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   * @param {string} imgURL url\n   * @param {WaterMarkerConfig} config \n   */\n  public setImageWaterMarker(imgURL: string = Global.waterMarkerImage, config?: WaterMarkerConfig) {\n    let container: string | HTMLElement | null = this.get('container');\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n\n    if (!container.style.position) {\n      container.style.position = 'relative';\n    }\n\n    let canvas = this.get('graphWaterMarker');\n\n    const waterMarkerConfig: WaterMarkerConfig = deepMix({}, Global.imageWaterMarkerConfig, config);\n    const { width, height, compatible, image } = waterMarkerConfig;\n\n    if (!canvas) {\n      const canvasCfg: any = {\n        container,\n        width,\n        height,\n        capture: false,\n      };\n      const pixelRatio = this.get('pixelRatio');\n      if (pixelRatio) {\n        canvasCfg.pixelRatio = pixelRatio;\n      }\n      canvas = new GMobileCanvas(canvasCfg);\n      this.set('graphWaterMarker', canvas);\n    }\n    canvas.get('el').style.display = 'none';\n    const ctx = canvas.get('context');\n\n    const { rotate, x, y } = image;\n    // 20\n    ctx.rotate((-rotate * Math.PI) / 180);\n\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    img.src = imgURL;\n    img.onload = () => {\n      ctx.drawImage(img, x, y, image.width, image.height);\n      // \n      ctx.rotate((rotate * Math.PI) / 180);\n\n      // \n      if (!compatible) {\n        let box = document.querySelector('.g6-graph-watermarker') as HTMLElement;\n        if (!box) {\n          box = document.createElement('div');\n          box.className = 'g6-graph-watermarker';\n        }\n        box.className = 'g6-graph-watermarker';\n        if (!canvas.destroyed) {\n          box.style.cssText = `background-image: url(${canvas\n            .get('el')\n            .toDataURL(\n              'image/png',\n            )});background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;`;\n          (container as HTMLElement).appendChild(box);\n        }\n      } else {\n        //  pointer-events compatible  true\n        (container as HTMLElement).style.cssText = `background-image: url(${canvas\n          .get('el')\n          .toDataURL('image/png')});background-repeat:repeat;`;\n      }\n    };\n  }\n\n  /**\n   * \n   * @param {string[]} texts \n   * @param {WaterMarkerConfig} config \n   */\n  public setTextWaterMarker(texts: string[], config?: WaterMarkerConfig) {\n    let container: string | HTMLElement | null = this.get('container');\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n\n    if (!container.style.position) {\n      container.style.position = 'relative';\n    }\n\n    let canvas = this.get('graphWaterMarker');\n\n    const waterMarkerConfig: WaterMarkerConfig = deepMix({}, Global.textWaterMarkerConfig, config);\n    const { width, height, compatible, text } = waterMarkerConfig;\n\n    if (!canvas) {\n      const canvasCfg: any = {\n        container,\n        width,\n        height,\n        capture: false,\n      };\n      const pixelRatio = this.get('pixelRatio');\n      if (pixelRatio) {\n        canvasCfg.pixelRatio = pixelRatio;\n      }\n      canvas = new GMobileCanvas(canvasCfg);\n      this.set('graphWaterMarker', canvas);\n    }\n    canvas.get('el').style.display = 'none';\n    const ctx = canvas.get('context');\n\n    const { rotate, fill, fontFamily, fontSize, baseline, x, y, lineHeight } = text;\n    // 20\n    ctx.rotate((-rotate * Math.PI) / 180);\n\n    // \n    ctx.font = `${fontSize}px ${fontFamily}`;\n\n    // \n    ctx.fillStyle = fill;\n\n    ctx.textBaseline = baseline;\n\n    for (let i = texts.length - 1; i >= 0; i--) {\n      // \n      ctx.fillText(texts[i], x, y + i * lineHeight);\n    }\n\n    // \n    ctx.rotate((rotate * Math.PI) / 180);\n\n    // \n    if (!compatible) {\n      let box = document.querySelector('.g6-graph-watermarker') as HTMLElement;\n      if (!box) {\n        box = document.createElement('div');\n        box.className = 'g6-graph-watermarker';\n      }\n      box.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL(\n          'image/png',\n        )});background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;`;\n      container.appendChild(box);\n    } else {\n      //  pointer-events compatible  true\n      container.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL('image/png')});background-repeat:repeat;`;\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    each(this.get('plugins'), (plugin) => {\n      plugin.destroyPlugin();\n    });\n\n    // destroy tooltip doms, removed when upgrade G6 4.0\n    const tooltipDOMs = this.get('tooltips');\n    if (tooltipDOMs) {\n      for (let i = 0; i < tooltipDOMs.length; i++) {\n        const container = tooltipDOMs[i];\n        if (!container) continue;\n        const parent = container.parentElement;\n        if (!parent) continue;\n        parent.removeChild(container);\n      }\n    }\n\n    this.get('eventController').destroy();\n    this.get('layoutController').destroy();\n\n    // this.get('eventController').destroy();\n    // this.get('itemController').destroy();\n    // this.get('modeController').destroy();\n    // this.get('viewController').destroy();\n    // this.get('stateController').destroy();\n    // this.get('canvas').destroy();\n\n    if (this.get('graphWaterMarker')) {\n      this.get('graphWaterMarker').destroy();\n    }\n    if (document.querySelector('.g6-graph-watermarker')) {\n      document.querySelector('.g6-graph-watermarker').remove();\n    }\n\n    super.destroy();\n  }\n\n  //  Group\n  protected initGroups(): void {\n    const canvas: GMobileCanvas = this.get('canvas');\n\n    const group: IGroup = canvas.addGroup({\n      id: 'root',\n      className: Global.rootContainerClassName,\n    });\n\n    if (this.get('groupByTypes')) {\n      const edgeGroup: IGroup = group.addGroup({\n        id: 'edge',\n        className: Global.edgeContainerClassName,\n      });\n\n      const nodeGroup: IGroup = group.addGroup({\n        id: 'node',\n        className: Global.nodeContainerClassName,\n      });\n\n      const comboGroup: IGroup = group.addGroup({\n        id: 'combo',\n        className: Global.comboContainerClassName,\n      });\n\n      // \n      comboGroup.toBack();\n\n      this.set({ nodeGroup, edgeGroup, comboGroup });\n    }\n\n    const uiGroup: IGroup = canvas.addGroup({\n      id: 'uiGroup',\n      className: Global.uiContainerClassName,\n    });\n\n    const delegateGroup: IGroup = group.addGroup({\n      id: 'delegate',\n      className: Global.delegateContainerClassName,\n    });\n    this.set({ delegateGroup });\n    this.set('group', group);\n    this.set('uiGroup', uiGroup);\n  }\n}\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return Number(n) * 100 + \"%\";\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv, numberInputToObject } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\" + r + \", \" + g + \", \" + b + \")\" : \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return Math.round(bound01(x, 255) * 100) + \"%\"; };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%)\"\n            : \"rgba(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        return new TinyColor({\n            r: bg.r + (fg.r - bg.r) * fg.a,\n            g: bg.g + (fg.g - bg.g) * fg.a,\n            b: bg.b + (fg.b - bg.b) * fg.a,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import { TinyColor } from '@ctrl/tinycolor';\n\nvar hueStep = 2; // \n\nvar saturationStep = 0.16; // \n\nvar saturationStep2 = 0.05; // \n\nvar brightnessStep1 = 0.05; // \n\nvar brightnessStep2 = 0.15; // \n\nvar lightColorCount = 5; // \n\nvar darkColorCount = 4; // \n// \n\nvar darkColorMap = [{\n  index: 7,\n  opacity: 0.15\n}, {\n  index: 6,\n  opacity: 0.25\n}, {\n  index: 5,\n  opacity: 0.3\n}, {\n  index: 5,\n  opacity: 0.45\n}, {\n  index: 5,\n  opacity: 0.65\n}, {\n  index: 5,\n  opacity: 0.85\n}, {\n  index: 4,\n  opacity: 0.9\n}, {\n  index: 3,\n  opacity: 0.95\n}, {\n  index: 2,\n  opacity: 0.97\n}, {\n  index: 1,\n  opacity: 0.98\n}];\n\nfunction getHue(hsv, i, light) {\n  var hue; // \n\n  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\n    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\n  } else {\n    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\n  }\n\n  if (hue < 0) {\n    hue += 360;\n  } else if (hue >= 360) {\n    hue -= 360;\n  }\n\n  return hue;\n}\n\nfunction getSaturation(hsv, i, light) {\n  // grey color don't change saturation\n  if (hsv.h === 0 && hsv.s === 0) {\n    return hsv.s;\n  }\n\n  var saturation;\n\n  if (light) {\n    saturation = hsv.s - saturationStep * i;\n  } else if (i === darkColorCount) {\n    saturation = hsv.s + saturationStep;\n  } else {\n    saturation = hsv.s + saturationStep2 * i;\n  } // \n\n\n  if (saturation > 1) {\n    saturation = 1;\n  } //  s  0.06-0.1 \n\n\n  if (light && i === lightColorCount && saturation > 0.1) {\n    saturation = 0.1;\n  }\n\n  if (saturation < 0.06) {\n    saturation = 0.06;\n  }\n\n  return Number(saturation.toFixed(2));\n}\n\nfunction getValue(hsv, i, light) {\n  var value;\n\n  if (light) {\n    value = hsv.v + brightnessStep1 * i;\n  } else {\n    value = hsv.v - brightnessStep2 * i;\n  }\n\n  if (value > 1) {\n    value = 1;\n  }\n\n  return Number(value.toFixed(2));\n}\n\nfunction generate(color) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var patterns = [];\n  var pColor = new TinyColor(color);\n\n  for (var i = lightColorCount; i > 0; i -= 1) {\n    var hsv = pColor.toHsv();\n    var colorString = new TinyColor({\n      h: getHue(hsv, i, true),\n      s: getSaturation(hsv, i, true),\n      v: getValue(hsv, i, true)\n    }).toHexString();\n    patterns.push(colorString);\n  }\n\n  patterns.push(pColor.toHexString());\n\n  for (var _i = 1; _i <= darkColorCount; _i += 1) {\n    var _hsv = pColor.toHsv();\n\n    var _colorString = new TinyColor({\n      h: getHue(_hsv, _i),\n      s: getSaturation(_hsv, _i),\n      v: getValue(_hsv, _i)\n    }).toHexString();\n\n    patterns.push(_colorString);\n  } // dark theme patterns\n\n\n  if (opts.theme === 'dark') {\n    return darkColorMap.map(function (_ref) {\n      var index = _ref.index,\n          opacity = _ref.opacity;\n      var darkColorString = new TinyColor(opts.backgroundColor || '#141414').mix(patterns[index], opacity * 100).toHexString();\n      return darkColorString;\n    });\n  }\n\n  return patterns;\n}\n\nvar presetPrimaryColors = {\n  red: '#F5222D',\n  volcano: '#FA541C',\n  orange: '#FA8C16',\n  gold: '#FAAD14',\n  yellow: '#FADB14',\n  lime: '#A0D911',\n  green: '#52C41A',\n  cyan: '#13C2C2',\n  blue: '#1890FF',\n  geekblue: '#2F54EB',\n  purple: '#722ED1',\n  magenta: '#EB2F96',\n  grey: '#666666'\n};\nvar presetPalettes = {};\nvar presetDarkPalettes = {};\nObject.keys(presetPrimaryColors).forEach(function (key) {\n  presetPalettes[key] = generate(presetPrimaryColors[key]);\n  presetPalettes[key].primary = presetPalettes[key][5]; // dark presetPalettes\n\n  presetDarkPalettes[key] = generate(presetPrimaryColors[key], {\n    theme: 'dark',\n    backgroundColor: '#141414'\n  });\n  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];\n});\nvar red = presetPalettes.red;\nvar volcano = presetPalettes.volcano;\nvar gold = presetPalettes.gold;\nvar orange = presetPalettes.orange;\nvar yellow = presetPalettes.yellow;\nvar lime = presetPalettes.lime;\nvar green = presetPalettes.green;\nvar cyan = presetPalettes.cyan;\nvar blue = presetPalettes.blue;\nvar geekblue = presetPalettes.geekblue;\nvar purple = presetPalettes.purple;\nvar magenta = presetPalettes.magenta;\nvar grey = presetPalettes.grey;\n\nexport { blue, cyan, geekblue, generate, gold, green, grey, lime, magenta, orange, presetDarkPalettes, presetPalettes, presetPrimaryColors, purple, red, volcano, yellow };\n","import color from 'color';\nimport { generate } from '@ant-design/colors';\n\n/**\n * get the mix color of backColor and frontColor with alpah\n * @param backColor background color\n * @param frontColor foreground color\n * @param frontAlpha the opacity of foreground color\n */\nexport const mixColor = (backColor, frontColor, frontAlpha) => {\n  const bc = color(backColor);\n  const fc = color(frontColor);\n  return color([\n    (1 - frontAlpha) * bc.red() + frontAlpha * fc.red(),\n    (1 - frontAlpha) * bc.green() + frontAlpha * fc.green(),\n    (1 - frontAlpha) * bc.blue() + frontAlpha * fc.blue(),\n  ]).rgb();\n};\n\nconst getColorsWithDefaultTheme = (\n  subjectColor,\n  backColor = '#fff',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const subjectColor005 = mixColor(backColor, subjectColor, 0.05).rgb().toString();\n  const subjectColor01 = mixColor(backColor, subjectColor, 0.1).rgb().toString();\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor04 = mixColor(backColor, subjectColor, 0.4).rgb().toString();\n\n  const disableColor002 = mixColor(backColor, disableColor, 0.02).rgb().toString();\n  const disableColor005 = mixColor(backColor, disableColor, 0.05).rgb().toString();\n  const disableColor01 = mixColor(backColor, disableColor, 0.1).rgb().toString();\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, {\n    theme: 'default',\n    backgroundColor: backColor,\n  });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor,\n    mainFill: subjectColor01,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor005,\n\n    inactiveStroke: subjectColor04,\n    inactiveFill: subjectColor005,\n\n    selectedStroke: subjectColor,\n    selectedFill: backColor,\n\n    highlightStroke: deeperSubject,\n    highlightFill: subjectColor02,\n\n    disableStroke: disableColor03,\n    disableFill: disableColor005,\n\n    // for edges\n    edgeMainStroke: disableColor03,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor02,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor01,\n\n    // for combos\n    comboMainStroke: disableColor03,\n    comboMainFill: disableColor002,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: subjectColor005,\n\n    comboInactiveStroke: disableColor03,\n    comboInactiveFill: disableColor002,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor002,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor002,\n\n    comboDisableStroke: disableColor02,\n    comboDisableFill: disableColor005,\n  };\n};\n\nconst getColorsWithDarkTheme = (subjectColor, backColor = '#fff', disableColor = '#777') => {\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor03 = mixColor(backColor, subjectColor, 0.3).rgb().toString();\n  const subjectColor06 = mixColor(backColor, subjectColor, 0.6).rgb().toString();\n  const subjectColor08 = mixColor(backColor, subjectColor, 0.8).rgb().toString();\n\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor025 = mixColor(backColor, disableColor, 0.25).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n  const disableColor04 = mixColor(backColor, disableColor, 0.4).rgb().toString();\n  const disableColor05 = mixColor(backColor, disableColor, 0.5).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, { theme: 'dark', backgroundColor: backColor });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor08,\n    mainFill: subjectColor02,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor03,\n\n    inactiveStroke: subjectColor08,\n    inactiveFill: subjectColor02,\n\n    selectedStroke: subjectColor,\n    selectedFill: subjectColor02,\n\n    highlightStroke: subjectColor,\n    highlightFill: subjectColor06,\n\n    disableStroke: disableColor05,\n    disableFill: disableColor025,\n\n    // for edges\n    edgeMainStroke: disableColor,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor03,\n\n    // for combos\n    comboMainStroke: disableColor04,\n    comboMainFill: disableColor025,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: disableColor02,\n\n    comboInactiveStroke: disableColor04,\n    comboInactiveFill: disableColor025,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor02,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor025,\n\n    comboDisableStroke: disableColor04,\n    comboDisableFill: disableColor02,\n  };\n};\n\n/**\n * get the set of colors according to the subject color and background color\n * @param subjectColor the subject color\n * @param backColor background color\n * @param disableColor the color for disable state\n */\nexport const getColorsWithSubjectColor = (\n  subjectColor,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  if (theme === 'default')\n    return getColorsWithDefaultTheme(subjectColor, backColor, 'rgb(150, 150, 150)');\n  return getColorsWithDarkTheme(subjectColor, backColor, '#777');\n};\n\nexport const getColorSetsBySubjectColors = (\n  subjectColors,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const sets = [];\n  subjectColors.forEach((sColor) => {\n    sets.push(getColorsWithSubjectColor(sColor, backColor, theme, disableColor));\n  });\n  return sets;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"./attribute\"));\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nvar _touchactionConsts = require(\"../touchactionjs/touchaction-Consts\");\n\nvar _directionStr = _interopRequireDefault(require(\"../recognizerjs/direction-str\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nclass PanRecognizer extends _attribute.default {\n  constructor() {\n    super(...arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  getTouchAction() {\n    let {\n      options: {\n        direction\n      }\n    } = this;\n    let actions = [];\n\n    if (direction & _inputConsts.DIRECTION_HORIZONTAL) {\n      actions.push(_touchactionConsts.TOUCH_ACTION_PAN_Y);\n    }\n\n    if (direction & _inputConsts.DIRECTION_VERTICAL) {\n      actions.push(_touchactionConsts.TOUCH_ACTION_PAN_X);\n    }\n\n    return actions;\n  }\n\n  directionTest(input) {\n    let {\n      options\n    } = this;\n    let hasMoved = true;\n    let {\n      distance\n    } = input;\n    let {\n      direction\n    } = input;\n    let x = input.deltaX;\n    let y = input.deltaY; // lock to axis?\n\n    if (!(direction & options.direction)) {\n      if (options.direction & _inputConsts.DIRECTION_HORIZONTAL) {\n        direction = x === 0 ? _inputConsts.DIRECTION_NONE : x < 0 ? _inputConsts.DIRECTION_LEFT : _inputConsts.DIRECTION_RIGHT;\n        hasMoved = x !== this.pX;\n        distance = Math.abs(input.deltaX);\n      } else {\n        direction = y === 0 ? _inputConsts.DIRECTION_NONE : y < 0 ? _inputConsts.DIRECTION_UP : _inputConsts.DIRECTION_DOWN;\n        hasMoved = y !== this.pY;\n        distance = Math.abs(input.deltaY);\n      }\n    }\n\n    input.direction = direction;\n    return hasMoved && distance > options.threshold && direction & options.direction;\n  }\n\n  attrTest(input) {\n    return _attribute.default.prototype.attrTest.call(this, input) && ( // replace with a super call\n    this.state & _recognizerConsts.STATE_BEGAN || !(this.state & _recognizerConsts.STATE_BEGAN) && this.directionTest(input));\n  }\n\n  emit(input) {\n    this.pX = input.deltaX;\n    this.pY = input.deltaY;\n    let direction = (0, _directionStr.default)(input.direction);\n\n    if (direction) {\n      input.additionalEvent = this.options.event + direction;\n    }\n\n    super.emit(input);\n  }\n\n}\n\nexports.default = PanRecognizer;\nPanRecognizer.prototype.defaults = {\n  event: 'pan',\n  threshold: 10,\n  pointers: 1,\n  direction: _inputConsts.DIRECTION_ALL\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getDistance;\n\nvar _inputConsts = require(\"./input-consts\");\n\n/**\n * @private\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n  if (!props) {\n    props = _inputConsts.PROPS_XY;\n  }\n\n  let x = p2[props[0]] - p1[props[0]];\n  let y = p2[props[1]] - p1[props[1]];\n  return Math.sqrt(x * x + y * y);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = hasParent;\n\n/**\n * @private\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n  while (node) {\n    if (node === parent) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _boolOrFn = _interopRequireDefault(require(\"../utils/bool-or-fn\"));\n\nvar _addEventListeners = require(\"../utils/add-event-listeners\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nclass Input {\n  constructor(manager, callback) {\n    let self = this;\n    this.manager = manager;\n    this.callback = callback; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.eventHandler = function (ev) {\n      if ((0, _boolOrFn.default)(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n  /**\n   * @private\n   * should handle the inputEvent data and trigger the callback\n   * @virtual\n   */\n\n\n  handler() {}\n  /**\n   * @private\n   */\n\n\n  init() {\n    (0, _addEventListeners.addManagerListeners)(this.manager, this.events || '', this.eventHandler);\n  }\n  /**\n   * @private\n   */\n\n\n  destroy() {\n    removeManagerListeners(this.manager, this.events || '', this.eventHandler);\n  }\n\n}\n\nexports.default = Input;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layouts = exports.Layout = void 0;\nvar registy_1 = require(\"../registy\");\nvar Layout = /** @class */ (function () {\n    function Layout(options) {\n        var layoutClass = registy_1.getLayoutByName(options.type);\n        this.layoutInstance = new layoutClass(options);\n    }\n    Layout.prototype.layout = function (data) {\n        return this.layoutInstance.layout(data);\n    };\n    Layout.prototype.updateCfg = function (cfg) {\n        this.layoutInstance.updateCfg(cfg);\n    };\n    Layout.prototype.init = function (data) {\n        this.layoutInstance.init(data);\n    };\n    Layout.prototype.execute = function () {\n        this.layoutInstance.execute();\n    };\n    Layout.prototype.getDefaultCfg = function () {\n        return this.layoutInstance.getDefaultCfg();\n    };\n    Layout.prototype.destroy = function () {\n        return this.layoutInstance.destroy();\n    };\n    return Layout;\n}());\nexports.Layout = Layout;\n// FIXME\n// FOR G6\nexports.Layouts = new Proxy({}, {\n    // tslint:disable-line\n    get: function (target, propKey) {\n        return registy_1.getLayoutByName(propKey);\n    },\n    set: function (target, propKey, value) {\n        registy_1.registerLayout(propKey, value);\n        return true;\n    }\n});\n//# sourceMappingURL=layout.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assembleFont = exports.getTextWidth = exports.getLineSpaceing = exports.getTextHeight = void 0;\nvar util_1 = require(\"./util\");\nvar offscreen_1 = require(\"./offscreen\");\n/**\n * \n * @param text \n * @param fontSize \n * @param lineHeight \n */\nfunction getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (util_1.isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\nexports.getTextHeight = getTextHeight;\n/**\n * \n * @param fontSize \n * @param lineHeight \n */\nfunction getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\nexports.getLineSpaceing = getLineSpaceing;\n/**\n * \n * @param text \n * @param font \n */\nfunction getTextWidth(text, font) {\n    var context = offscreen_1.getOffScreenContext(); //  ctx \n    var width = 0;\n    // null  undefined  0\n    if (util_1.isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (util_1.isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        util_1.each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexports.getTextWidth = getTextWidth;\nfunction assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\nexports.assembleFont = assembleFont;\n//# sourceMappingURL=text.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // \n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // \n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * \n     * @protected\n     * @param {ShapeAttrs} targetAttrs \n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // \n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.cfg.bbox;\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // \n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBBox = this.cfg.canvasBBox;\n        if (!canvasBBox) {\n            canvasBBox = this.calculateCanvasBBox();\n            this.set('canvasBBox', canvasBBox);\n        }\n        return canvasBBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // \n        this.set('canvasBBox', null);\n    };\n    /**\n     *  bbox\n     * @return {BBox} \n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        //  shadow  shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     *  bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBBox', null);\n    };\n    // \n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * \n     * @param  {number}  refX  x\n     * @param  {number}  refY  Y\n     * @return {boolean} \n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     *  BBox \n     *  false imagemarker  BBox \n     * @return {Boolean}  BBox \n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    //  Shape \n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // \n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // \n        if (inBBox && !this.isClipped(refX, refY)) {\n            // \n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // \n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // \n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ifUndefined = _interopRequireDefault(require(\"./utils/if-undefined\"));\n\nvar _touchactionConsts = require(\"./touchactionjs/touchaction-Consts\");\n\nvar _inputConsts = require(\"./inputjs/input-consts\");\n\nvar _rotate = _interopRequireDefault(require(\"./recognizers/rotate\"));\n\nvar _pinch = _interopRequireDefault(require(\"./recognizers/pinch\"));\n\nvar _swipe = _interopRequireDefault(require(\"./recognizers/swipe\"));\n\nvar _pan = _interopRequireDefault(require(\"./recognizers/pan\"));\n\nvar _tap = _interopRequireDefault(require(\"./recognizers/tap\"));\n\nvar _press = _interopRequireDefault(require(\"./recognizers/press\"));\n\nvar _manager = _interopRequireDefault(require(\"./manager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Simple way to create a manager with a default set of recognizers.\n * @param {Object} [options]\n * @constructor\n */\nclass Hammer {\n  constructor(options) {\n    options = options || {};\n    options.recognizers = (0, _ifUndefined.default)(options.recognizers, Hammer.defaults.preset);\n    return new _manager.default(options);\n  }\n\n}\n/**\n * @private\n * default settings\n * @namespace\n */\n\n\nexports.default = Hammer;\nHammer.defaults = {\n  /**\n   * @private\n   * set if DOM events are being triggered.\n   * But this is slower and unused by simple implementations, so disabled by default.\n   * @type {Boolean}\n   * @default false\n   */\n  domEvents: false,\n\n  /**\n   * @private\n   * The value for the touchAction property/fallback.\n   * When set to `compute` it will magically set the correct value based on the added recognizers.\n   * @type {String}\n   * @default compute\n   */\n  touchAction: _touchactionConsts.TOUCH_ACTION_COMPUTE,\n\n  /**\n   * @private\n   * @type {Boolean}\n   * @default true\n   */\n  enable: true,\n\n  /**\n   * @private\n   * force an input class\n   * @type {Null|Function}\n   * @default null\n   */\n  inputClass: null,\n\n  /**\n   * @private\n   * Default recognizer setup when calling `Hammer()`\n   * When creating a new Manager these will be skipped.\n   * @type {Array}\n   */\n  preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n  [_rotate.default, {\n    enable: false\n  }], [_pinch.default, {\n    enable: false\n  }, ['rotate']], [_swipe.default, {\n    direction: _inputConsts.DIRECTION_HORIZONTAL\n  }], [_pan.default, {\n    direction: _inputConsts.DIRECTION_HORIZONTAL\n  }, ['swipe']], [_tap.default], [_tap.default, {\n    event: 'doubletap',\n    taps: 2\n  }, ['tap']], [_press.default]]\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ifUndefined;\n\n/**\n * @private\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n  return val1 === undefined ? val2 : val1;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"./attribute\"));\n\nvar _touchactionConsts = require(\"../touchactionjs/touchaction-Consts\");\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nclass RotateRecognizer extends _attribute.default {\n  constructor() {\n    super(...arguments);\n  }\n\n  getTouchAction() {\n    return [_touchactionConsts.TOUCH_ACTION_NONE];\n  }\n\n  attrTest(input) {\n    return super.attrTest(input) && (Math.abs(input.rotation) > this.options.threshold || this.state & _recognizerConsts.STATE_BEGAN);\n  }\n\n}\n\nexports.default = RotateRecognizer;\nRotateRecognizer.prototype.defaults = {\n  event: 'rotate',\n  threshold: 0,\n  pointers: 2\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = invokeArrayArg;\n\nvar _each = _interopRequireDefault(require(\"./each\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n  if (Array.isArray(arg)) {\n    (0, _each.default)(arg, context[fn], context);\n    return true;\n  }\n\n  return false;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"./attribute\"));\n\nvar _touchactionConsts = require(\"../touchactionjs/touchaction-Consts\");\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nclass PinchRecognizer extends _attribute.default {\n  constructor() {\n    super(...arguments);\n  }\n\n  getTouchAction() {\n    return [_touchactionConsts.TOUCH_ACTION_NONE];\n  }\n\n  attrTest(input) {\n    return super.attrTest(input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & _recognizerConsts.STATE_BEGAN);\n  }\n\n  emit(input) {\n    if (input.scale !== 1) {\n      let inOut = input.scale < 1 ? 'in' : 'out';\n      input.additionalEvent = this.options.event + inOut;\n    }\n\n    super.emit(input);\n  }\n\n}\n\nexports.default = PinchRecognizer;\nPinchRecognizer.prototype.defaults = {\n  event: 'pinch',\n  threshold: 0,\n  pointers: 2\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"../recognizers/attribute\"));\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _pan = _interopRequireDefault(require(\"./pan\"));\n\nvar _directionStr = _interopRequireDefault(require(\"../recognizerjs/direction-str\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nclass SwipeRecognizer extends _attribute.default {\n  constructor() {\n    super(...arguments);\n  }\n\n  getTouchAction() {\n    return _pan.default.prototype.getTouchAction.call(this);\n  }\n\n  attrTest(input) {\n    let {\n      direction\n    } = this.options;\n    let velocity;\n\n    if (direction & (_inputConsts.DIRECTION_HORIZONTAL | _inputConsts.DIRECTION_VERTICAL)) {\n      velocity = input.overallVelocity;\n    } else if (direction & _inputConsts.DIRECTION_HORIZONTAL) {\n      velocity = input.overallVelocityX;\n    } else if (direction & _inputConsts.DIRECTION_VERTICAL) {\n      velocity = input.overallVelocityY;\n    }\n\n    return super.attrTest(input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers === this.options.pointers && (0, _utilsConsts.abs)(velocity) > this.options.velocity && input.eventType & _inputConsts.INPUT_END;\n  }\n\n  emit(input) {\n    let direction = (0, _directionStr.default)(input.offsetDirection);\n\n    if (direction) {\n      this.manager.emit(this.options.event + direction, input);\n    }\n\n    this.manager.emit(this.options.event, input);\n  }\n\n}\n\nexports.default = SwipeRecognizer;\nSwipeRecognizer.prototype.defaults = {\n  event: 'swipe',\n  threshold: 10,\n  velocity: 0.3,\n  direction: _inputConsts.DIRECTION_HORIZONTAL | _inputConsts.DIRECTION_VERTICAL,\n  pointers: 1\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = directionStr;\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\n/**\n * @private\n * direction cons to string\n * @param {constant} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n  if (direction === _inputConsts.DIRECTION_DOWN) {\n    return 'down';\n  } else if (direction === _inputConsts.DIRECTION_UP) {\n    return 'up';\n  } else if (direction === _inputConsts.DIRECTION_LEFT) {\n    return 'left';\n  } else if (direction === _inputConsts.DIRECTION_RIGHT) {\n    return 'right';\n  }\n\n  return '';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _setTimeoutContext = _interopRequireDefault(require(\"../utils/set-timeout-context\"));\n\nvar _recognizerConstructor = _interopRequireDefault(require(\"../recognizerjs/recognizer-constructor\"));\n\nvar _touchactionConsts = require(\"../touchactionjs/touchaction-Consts\");\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nvar _getDistance = _interopRequireDefault(require(\"../inputjs/get-distance\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * A tap is recognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nclass TapRecognizer extends _recognizerConstructor.default {\n  constructor() {\n    super(...arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  getTouchAction() {\n    return [_touchactionConsts.TOUCH_ACTION_MANIPULATION];\n  }\n\n  process(input) {\n    let {\n      options\n    } = this;\n    let validPointers = input.pointers.length === options.pointers;\n    let validMovement = input.distance < options.threshold;\n    let validTouchTime = input.deltaTime < options.time;\n    this.reset();\n\n    if (input.eventType & _inputConsts.INPUT_START && this.count === 0) {\n      return this.failTimeout();\n    } // we only allow little movement\n    // and we've reached an end event, so a tap is possible\n\n\n    if (validMovement && validTouchTime && validPointers) {\n      if (input.eventType !== _inputConsts.INPUT_END) {\n        return this.failTimeout();\n      }\n\n      let validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n      let validMultiTap = !this.pCenter || (0, _getDistance.default)(this.pCenter, input.center) < options.posThreshold;\n      this.pTime = input.timeStamp;\n      this.pCenter = input.center;\n\n      if (!validMultiTap || !validInterval) {\n        this.count = 1;\n      } else {\n        this.count += 1;\n      }\n\n      this._input = input; // if tap count matches we have recognized it,\n      // else it has began recognizing...\n\n      let tapCount = this.count % options.taps;\n\n      if (tapCount === 0) {\n        // no failing requirements, immediately trigger the tap event\n        // or wait as long as the multitap interval to trigger\n        if (!this.hasRequireFailures()) {\n          return _recognizerConsts.STATE_RECOGNIZED;\n        } else {\n          this._timer = (0, _setTimeoutContext.default)(() => {\n            this.state = _recognizerConsts.STATE_RECOGNIZED;\n            this.tryEmit();\n          }, options.interval, this);\n          return _recognizerConsts.STATE_BEGAN;\n        }\n      }\n    }\n\n    return _recognizerConsts.STATE_FAILED;\n  }\n\n  failTimeout() {\n    this._timer = (0, _setTimeoutContext.default)(() => {\n      this.state = _recognizerConsts.STATE_FAILED;\n    }, this.options.interval, this);\n    return _recognizerConsts.STATE_FAILED;\n  }\n\n  reset() {\n    clearTimeout(this._timer);\n  }\n\n  emit() {\n    if (this.state === _recognizerConsts.STATE_RECOGNIZED) {\n      this._input.tapCount = this.count;\n      this.manager.emit(this.options.event, this._input);\n    }\n  }\n\n}\n\nexports.default = TapRecognizer;\nTapRecognizer.prototype.defaults = {\n  event: 'tap',\n  pointers: 1,\n  taps: 1,\n  interval: 300,\n  // max time between the multi-tap taps\n  time: 250,\n  // max time of the pointer to be down (like finger on the screen)\n  threshold: 9,\n  // a minimal movement is ok, but keep it low\n  posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = setTimeoutContext;\n\nvar _bindFn = _interopRequireDefault(require(\"./bind-fn\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n  return setTimeout((0, _bindFn.default)(fn, context), timeout);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = bindFn;\n\n/**\n * @private\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n  return function boundFn() {\n    return fn.apply(context, arguments);\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _recognizerConstructor = _interopRequireDefault(require(\"../recognizerjs/recognizer-constructor\"));\n\nvar _recognizerConsts = require(\"../recognizerjs/recognizer-consts\");\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _setTimeoutContext = _interopRequireDefault(require(\"../utils/set-timeout-context\"));\n\nvar _touchactionConsts = require(\"../touchactionjs/touchaction-Consts\");\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nclass PressRecognizer extends _recognizerConstructor.default {\n  constructor() {\n    super(...arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  getTouchAction() {\n    return [_touchactionConsts.TOUCH_ACTION_AUTO];\n  }\n\n  process(input) {\n    let {\n      options\n    } = this;\n    let validPointers = input.pointers.length === options.pointers;\n    let validMovement = input.distance < options.threshold;\n    let validTime = input.deltaTime > options.time;\n    this._input = input; // we only allow little movement\n    // and we've reached an end event, so a tap is possible\n\n    if (!validMovement || !validPointers || input.eventType & (_inputConsts.INPUT_END | _inputConsts.INPUT_CANCEL) && !validTime) {\n      this.reset();\n    } else if (input.eventType & _inputConsts.INPUT_START) {\n      this.reset();\n      this._timer = (0, _setTimeoutContext.default)(() => {\n        this.state = _recognizerConsts.STATE_RECOGNIZED;\n        this.tryEmit();\n      }, options.time, this);\n    } else if (input.eventType & _inputConsts.INPUT_END) {\n      return _recognizerConsts.STATE_RECOGNIZED;\n    }\n\n    return _recognizerConsts.STATE_FAILED;\n  }\n\n  reset() {\n    clearTimeout(this._timer);\n  }\n\n  emit(input) {\n    if (this.state !== _recognizerConsts.STATE_RECOGNIZED) {\n      return;\n    }\n\n    if (input && input.eventType & _inputConsts.INPUT_END) {\n      this.manager.emit(`${this.options.event}up`, input);\n    } else {\n      this._input.timeStamp = (0, _utilsConsts.now)();\n      this.manager.emit(this.options.event, this._input);\n    }\n  }\n\n}\n\nexports.default = PressRecognizer;\nPressRecognizer.prototype.defaults = {\n  event: 'press',\n  pointers: 1,\n  time: 251,\n  // minimal time of the pointer to be pressed\n  threshold: 9 // a minimal movement is ok, but keep it low\n\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _assign = _interopRequireDefault(require(\"./utils/assign\"));\n\nvar _hammer = _interopRequireDefault(require(\"./hammer\"));\n\nvar _touchactionConstructor = _interopRequireDefault(require(\"./touchactionjs/touchaction-constructor\"));\n\nvar _createInputInstance = _interopRequireDefault(require(\"./inputjs/create-input-instance\"));\n\nvar _each = _interopRequireDefault(require(\"./utils/each\"));\n\nvar _inArray = _interopRequireDefault(require(\"./utils/in-array\"));\n\nvar _invokeArrayArg = _interopRequireDefault(require(\"./utils/invoke-array-arg\"));\n\nvar _splitStr = _interopRequireDefault(require(\"./utils/split-str\"));\n\nvar _recognizerConstructor = _interopRequireDefault(require(\"./recognizerjs/recognizer-constructor\"));\n\nvar _recognizerConsts = require(\"./recognizerjs/recognizer-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst STOP = 1;\nconst FORCED_STOP = 2;\n/**\n * @private\n * Manager\n * @param {Object} [options]\n * @constructor\n */\n\nclass Manager {\n  constructor(options) {\n    this.options = (0, _assign.default)({}, _hammer.default.defaults, options || {});\n    this.handlers = {};\n    this.filters = [];\n    this.session = {};\n    this.recognizers = [];\n    this.input = (0, _createInputInstance.default)(this);\n    this.touchAction = new _touchactionConstructor.default(this, this.options.touchAction);\n    (0, _each.default)(this.options.recognizers, item => {\n      let recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n  /**\n   * @private\n   * set options\n   * @param {Object} options\n   * @returns {Manager}\n   */\n\n\n  set(options) {\n    (0, _assign.default)(this.options, options); // Options that need a little more setup\n\n    if (options.touchAction) {\n      this.touchAction.update();\n    }\n\n    return this;\n  }\n  /**\n   * @private\n   * stop recognizing for this session.\n   * This session will be discarded, when a new [input]start event is fired.\n   * When forced, the recognizer cycle is stopped immediately.\n   * @param {Boolean} [force]\n   */\n\n\n  stop(force) {\n    this.session.stopped = force ? FORCED_STOP : STOP;\n  }\n  /**\n   * @private\n   * add event filters\n   */\n\n\n  addFilter(filter) {\n    if (typeof filter !== 'function') {\n      throw new Error('filter must be a function');\n    }\n\n    this.filters.push(filter);\n  }\n  /**\n   * @private\n   * run the recognizers!\n   * called by the inputHandler function on every movement of the pointers (touches)\n   * it walks through all the recognizers and tries to detect the gesture that is being made\n   * @param {Object} inputData\n   */\n\n\n  recognize(inputData) {\n    let {\n      session\n    } = this;\n\n    if (session.stopped) {\n      return;\n    } // run the touch-action polyfill\n\n\n    this.touchAction.preventDefaults(inputData);\n    let recognizer;\n    let {\n      recognizers\n    } = this; // this holds the recognizer that is being recognized.\n    // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n    // if no recognizer is detecting a thing, it is set to `null`\n\n    let {\n      curRecognizer\n    } = session; // reset when the last recognizer is recognized\n    // or when we're in a new session\n\n    if (!curRecognizer || curRecognizer && curRecognizer.state & _recognizerConsts.STATE_RECOGNIZED) {\n      curRecognizer = session.curRecognizer = null;\n    }\n\n    let i = 0;\n\n    while (i < recognizers.length) {\n      recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n      // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n      // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n      //      that is being recognized.\n      // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n      //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n      if (session.stopped !== FORCED_STOP && ( // 1\n      !curRecognizer || recognizer === curRecognizer || // 2\n      recognizer.canRecognizeWith(curRecognizer))) {\n        // 3\n        recognizer.recognize(inputData);\n      } else {\n        recognizer.reset();\n      } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n      // current active recognizer. but only if we don't already have an active recognizer\n\n\n      if (!curRecognizer && recognizer.state & (_recognizerConsts.STATE_BEGAN | _recognizerConsts.STATE_CHANGED | _recognizerConsts.STATE_ENDED)) {\n        curRecognizer = session.curRecognizer = recognizer;\n      }\n\n      i++;\n    }\n  }\n  /**\n   * @private\n   * get a recognizer by its event name.\n   * @param {Recognizer|String} recognizer\n   * @returns {Recognizer|Null}\n   */\n\n\n  get(recognizer) {\n    if (recognizer instanceof _recognizerConstructor.default) {\n      return recognizer;\n    }\n\n    let {\n      recognizers\n    } = this;\n\n    for (let i = 0; i < recognizers.length; i++) {\n      if (recognizers[i].options.event === recognizer) {\n        return recognizers[i];\n      }\n    }\n\n    return null;\n  }\n  /**\n   * @private add a recognizer to the manager\n   * existing recognizers with the same event name will be removed\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer|Manager}\n   */\n\n\n  add(recognizer) {\n    if ((0, _invokeArrayArg.default)(recognizer, 'add', this)) {\n      return this;\n    } // remove existing\n\n\n    let existing = this.get(recognizer.options.event);\n\n    if (existing) {\n      this.remove(existing);\n    }\n\n    this.recognizers.push(recognizer);\n    recognizer.manager = this;\n    this.touchAction.update();\n    return recognizer;\n  }\n  /**\n   * @private\n   * remove a recognizer by name or instance\n   * @param {Recognizer|String} recognizer\n   * @returns {Manager}\n   */\n\n\n  remove(recognizer) {\n    if ((0, _invokeArrayArg.default)(recognizer, 'remove', this)) {\n      return this;\n    }\n\n    recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n    if (recognizer) {\n      let {\n        recognizers\n      } = this;\n      let index = (0, _inArray.default)(recognizers, recognizer);\n\n      if (index !== -1) {\n        recognizers.splice(index, 1);\n        this.touchAction.update();\n      }\n    }\n\n    return this;\n  }\n  /**\n   * @private\n   * bind event\n   * @param {String} events\n   * @param {Function} handler\n   * @returns {EventEmitter} this\n   */\n\n\n  on(events, handler) {\n    if (events === undefined) {\n      return;\n    }\n\n    if (handler === undefined) {\n      return;\n    }\n\n    let {\n      handlers\n    } = this;\n    (0, _each.default)((0, _splitStr.default)(events), event => {\n      handlers[event] = handlers[event] || [];\n      handlers[event].push(handler);\n    });\n    return this;\n  }\n  /**\n   * @private unbind event, leave emit blank to remove all handlers\n   * @param {String} events\n   * @param {Function} [handler]\n   * @returns {EventEmitter} this\n   */\n\n\n  off(events, handler) {\n    if (events === undefined) {\n      return;\n    }\n\n    let {\n      handlers\n    } = this;\n    (0, _each.default)((0, _splitStr.default)(events), event => {\n      if (!handler) {\n        delete handlers[event];\n      } else {\n        handlers[event] && handlers[event].splice((0, _inArray.default)(handlers[event], handler), 1);\n      }\n    });\n    return this;\n  }\n  /**\n   * @private emit event to the listeners\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  emit(event, data) {\n    // no handlers, so skip it all\n    let handlers = this.handlers[event] && this.handlers[event].slice();\n    const {\n      filters\n    } = this;\n\n    if (!handlers || !handlers.length) {\n      return;\n    } //let i = 0;\n    //let newData = Object.assign(data);\n    //data.type = event;\n    //data.preventDefault = function() {\n    //  data.srcEvent.preventDefault();\n    //};\n    //while (i < filters.length) {\n    //  newData = filters[i](newData);\n    //  i++;\n    //}\n    //\n\n\n    if (!event.startsWith('origin_input')) {\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault && data.srcEvent.preventDefault();\n      };\n    }\n\n    let i = 0;\n\n    while (i < handlers.length) {\n      handlers[i](data);\n      i++;\n    }\n  }\n  /**\n   * @private\n   * destroy the manager and unbinds all events\n   * it doesn't unbind dom events, that is the user own responsibility\n   */\n\n\n  destroy() {\n    this.handlers = {};\n    this.filters = [];\n    this.session = {};\n    this.input.destroy();\n  }\n\n}\n\nexports.default = Manager;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _touchactionConsts = require(\"./touchaction-Consts\");\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _each = _interopRequireDefault(require(\"../utils/each\"));\n\nvar _boolOrFn = _interopRequireDefault(require(\"../utils/bool-or-fn\"));\n\nvar _inStr = _interopRequireDefault(require(\"../utils/in-str\"));\n\nvar _cleanTouchActions = _interopRequireDefault(require(\"./clean-touch-actions\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nclass TouchAction {\n  constructor(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n  /**\n   * @private\n   * set the touchAction value on the element or enable the polyfill\n   * @param {String} value\n   */\n\n\n  set(value) {\n    // find out the touch-action by the event handlers\n    if (value === _touchactionConsts.TOUCH_ACTION_COMPUTE) {\n      value = this.compute();\n    }\n\n    this.actions = value.toLowerCase().trim();\n  }\n  /**\n   * @private\n   * just re-set the touchAction value\n   */\n\n\n  update() {\n    this.set(this.manager.options.touchAction);\n  }\n  /**\n   * @private\n   * compute the value for the touchAction property based on the recognizer's settings\n   * @returns {String} value\n   */\n\n\n  compute() {\n    let actions = [];\n    (0, _each.default)(this.manager.recognizers, recognizer => {\n      if ((0, _boolOrFn.default)(recognizer.options.enable, [recognizer])) {\n        actions = actions.concat(recognizer.getTouchAction());\n      }\n    });\n    return (0, _cleanTouchActions.default)(actions.join(' '));\n  }\n  /**\n   * @private\n   * this method is called on each input cycle and provides the preventing of the browser behavior\n   * @param {Object} input\n   */\n\n\n  preventDefaults(input) {\n    let {\n      srcEvent\n    } = input;\n    let direction = input.offsetDirection; // if the touch action did prevented once this session\n\n    if (this.manager.session.prevented) {\n      srcEvent.preventDefault();\n      return;\n    }\n\n    let {\n      actions\n    } = this;\n    let hasNone = (0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_NONE) && !_touchactionConsts.TOUCH_ACTION_MAP[_touchactionConsts.TOUCH_ACTION_NONE];\n    let hasPanY = (0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_PAN_Y) && !_touchactionConsts.TOUCH_ACTION_MAP[_touchactionConsts.TOUCH_ACTION_PAN_Y];\n    let hasPanX = (0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_PAN_X) && !_touchactionConsts.TOUCH_ACTION_MAP[_touchactionConsts.TOUCH_ACTION_PAN_X];\n\n    if (hasNone) {\n      // do not prevent defaults if this is a tap gesture\n      let isTapPointer = input.pointers.length === 1;\n      let isTapMovement = input.distance < 2;\n      let isTapTouchTime = input.deltaTime < 250;\n\n      if (isTapPointer && isTapMovement && isTapTouchTime) {\n        return;\n      }\n    }\n\n    if (hasPanX && hasPanY) {\n      // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n      return;\n    }\n\n    if (hasNone || hasPanY && direction & _inputConsts.DIRECTION_HORIZONTAL || hasPanX && direction & _inputConsts.DIRECTION_VERTICAL) {\n      return this.preventSrc(srcEvent);\n    }\n  }\n  /**\n   * @private\n   * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n   * @param {Object} srcEvent\n   */\n\n\n  preventSrc(srcEvent) {\n    this.manager.session.prevented = true;\n    srcEvent.preventDefault();\n  }\n\n}\n\nexports.default = TouchAction;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inStr;\n\n/**\n * @private\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n  return str.indexOf(find) > -1;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getCenter;\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\n/**\n * @private\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n  let pointersLength = pointers.length; // no need to loop when only one touch\n\n  if (pointersLength === 1) {\n    return {\n      x: (0, _utilsConsts.round)(pointers[0].clientX),\n      y: (0, _utilsConsts.round)(pointers[0].clientY)\n    };\n  }\n\n  let x = 0;\n  let y = 0;\n  let i = 0;\n\n  while (i < pointersLength) {\n    x += pointers[i].clientX;\n    y += pointers[i].clientY;\n    i++;\n  }\n\n  return {\n    x: (0, _utilsConsts.round)(x / pointersLength),\n    y: (0, _utilsConsts.round)(y / pointersLength)\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getAngle;\n\nvar _inputConsts = require(\"./input-consts\");\n\n/**\n * @private\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n  if (!props) {\n    props = _inputConsts.PROPS_XY;\n  }\n\n  let x = p2[props[0]] - p1[props[0]];\n  let y = p2[props[1]] - p1[props[1]];\n  return Math.atan2(y, x) * 180 / Math.PI;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getDirection;\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _inputConsts = require(\"./input-consts\");\n\n/**\n * @private\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n  if (x === y) {\n    return _inputConsts.DIRECTION_NONE;\n  }\n\n  if ((0, _utilsConsts.abs)(x) >= (0, _utilsConsts.abs)(y)) {\n    return x < 0 ? _inputConsts.DIRECTION_LEFT : _inputConsts.DIRECTION_RIGHT;\n  }\n\n  return y < 0 ? _inputConsts.DIRECTION_UP : _inputConsts.DIRECTION_DOWN;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getVelocity;\n\n/**\n * @private\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n  return {\n    x: x / deltaTime || 0,\n    y: y / deltaTime || 0\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _inputConstructor = _interopRequireDefault(require(\"../inputjs/input-constructor\"));\n\nvar _toArray = _interopRequireDefault(require(\"../utils/to-array\"));\n\nvar _hasParent = _interopRequireDefault(require(\"../utils/has-parent\"));\n\nvar _uniqueArray = _interopRequireDefault(require(\"../utils/unique-array\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst TOUCH_INPUT_MAP = {\n  touchstart: _inputConsts.INPUT_START,\n  touchmove: _inputConsts.INPUT_MOVE,\n  touchend: _inputConsts.INPUT_END,\n  touchcancel: _inputConsts.INPUT_CANCEL\n};\nconst TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n/**\n * @private\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\n\nclass TouchInput extends _inputConstructor.default {\n  constructor() {\n    TouchInput.prototype.evTarget = TOUCH_TARGET_EVENTS;\n    TouchInput.prototype.targetIds = {};\n    TouchInput.prototype.events = TOUCH_TARGET_EVENTS;\n    super(...arguments);\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n  }\n\n  handler(ev) {\n    let type = TOUCH_INPUT_MAP[ev.type];\n    let touches = getTouches.call(this, ev, type);\n\n    if (!touches) {\n      return;\n    }\n\n    this.callback(this.manager, type, {\n      pointers: touches[0],\n      changedPointers: touches[1],\n      pointerType: _inputConsts.INPUT_TYPE_TOUCH,\n      srcEvent: ev\n    });\n  }\n\n}\n/**\n * @private\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\n\n\nexports.default = TouchInput;\n\nfunction getTouches(ev, type) {\n  let allTouches = (0, _toArray.default)(ev.touches);\n  let {\n    targetIds\n  } = this; // when there is only one touch, the process can be simplified\n\n  if (type & (_inputConsts.INPUT_START | _inputConsts.INPUT_MOVE) && allTouches.length === 1) {\n    targetIds[allTouches[0].identifier] = true;\n    return [allTouches, allTouches];\n  }\n\n  let i;\n  let targetTouches;\n  let changedTouches = (0, _toArray.default)(ev.changedTouches);\n  let changedTargetTouches = [];\n  let {\n    target\n  } = this; //// get target touches from touches targets\n  //targetTouches = allTouches.filter((touch) => {\n  //  return hasParent(touch.target, target);\n  //});\n\n  targetTouches = allTouches; // collect touches\n\n  if (type === _inputConsts.INPUT_START) {\n    i = 0;\n\n    while (i < targetTouches.length) {\n      targetIds[targetTouches[i].identifier] = true;\n      i++;\n    }\n  } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n  i = 0;\n\n  while (i < changedTouches.length) {\n    if (targetIds[changedTouches[i].identifier]) {\n      changedTargetTouches.push(changedTouches[i]);\n    } // cleanup removed touches\n\n\n    if (type & (_inputConsts.INPUT_END | _inputConsts.INPUT_CANCEL)) {\n      delete targetIds[changedTouches[i].identifier];\n    }\n\n    i++;\n  }\n\n  if (!changedTargetTouches.length) {\n    return;\n  }\n\n  return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n  (0, _uniqueArray.default)(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addEventListeners;\nexports.addManagerListeners = addManagerListeners;\n\nvar _each = _interopRequireDefault(require(\"./each\"));\n\nvar _splitStr = _interopRequireDefault(require(\"./split-str\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n  (0, _each.default)((0, _splitStr.default)(types), type => {\n    target.addEventListener(type, handler, false);\n  });\n}\n\nfunction addManagerListeners(manager, types, handler) {\n  (0, _each.default)((0, _splitStr.default)(types), type => {\n    manager.on(`origin_input:${type}`, handler);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toArray;\n\n/**\n * @private\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj, 0);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = uniqueArray;\n\nvar _inArray = _interopRequireDefault(require(\"./in-array\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n  let results = [];\n  let values = [];\n  let i = 0;\n\n  while (i < src.length) {\n    let val = key ? src[i][key] : src[i];\n\n    if ((0, _inArray.default)(values, val) < 0) {\n      results.push(src[i]);\n    }\n\n    values[i] = val;\n    i++;\n  }\n\n  if (sort) {\n    if (!key) {\n      results = results.sort();\n    } else {\n      results = results.sort((a, b) => {\n        return a[key] > b[key];\n      });\n    }\n  }\n\n  return results;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = deprecate;\n\n/**\n * @private\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n  let deprecationMessage = `DEPRECATED METHOD: ${name}\\n${message} AT \\n`;\n  return function () {\n    let e = new Error('get-stack-trace');\n    let stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n    let log = console.warn;\n\n    if (log) {\n      log(deprecationMessage, stack);\n    }\n\n    return method.apply(this, arguments);\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _deprecate = _interopRequireDefault(require(\"./deprecate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nconst extend = (0, _deprecate.default)((dest, src, merge) => {\n  let keys = Object.keys(src);\n  let i = 0;\n\n  while (i < keys.length) {\n    if (!merge || merge && dest[keys[i]] === undefined) {\n      dest[keys[i]] = src[keys[i]];\n    }\n\n    i++;\n  }\n\n  return dest;\n}, 'extend', 'Use `assign`.');\nvar _default = extend;\nexports.default = _default;","/* MIT license */\nvar cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n\tif (cssKeywords.hasOwnProperty(key)) {\n\t\treverseKeywords[cssKeywords[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // \nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n *  ratio \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    ratio    \n * @return {boolean}  \n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // \n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  \n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // \n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // \n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 \n                 TODO:  WebGL \n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // \n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n *  onFrame \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    elapsed  ()\n * @return {boolean}  \n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // \n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // \n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        //  elapsed > duration ratio \n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // \n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // \n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * \n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * \n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * \n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * \n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * \n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // \n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                //  canvas.draw() \n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * \n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * \n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * \n     * @param {boolean} toEnd  stopAnimate \n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * \n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport GraphEvent from './graph-event';\nimport { each, isParent } from '../util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// \nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n//  shape  canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// , enter  leave  fromShape  toShape \nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas  mouseenter mouseleave  canvas \n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // \n        if (relativeShape && isParent(container, relativeShape)) {\n            // \n            eventObj.bubbles = false;\n            return;\n        }\n        // \n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // \n        this.draggingShape = null;\n        this.dragging = false;\n        // /touch\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // \n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        //  document \n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // \n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // \n                    //  mouseleave  bug \n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        //  document  dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        //  drop \n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // \n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            //  shape mouse leave \n            // \n            document.addEventListener('mousemove', this._onDocumentMove);\n            // \n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // \n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // x,ycanvasmatrix\n        return eventObj;\n    };\n    // \n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // \n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // \n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // \n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // \n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // \n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // \n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // ,  dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // \n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // \n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); //  from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        //  shape  preShape  shape  shape \n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // click \n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        //  mousedown  mousedownShape  mousedown \n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown fromShape, toShape\n    };\n    // mouseleave  mouseenter \n    // mouseenter  mouseover \n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                //  fromShape \n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover  mouseover mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO:  drag  dragleave  toShape  null\n            // \n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag \n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // \n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag  draggingShape \n        var shape = this._getShape(pointInfo, event);\n        //  enterleave \n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; //  shape mouseleave \n    };\n    // \n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0  mouseup  click \n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                //  drag \n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); //  mouseup  click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    //  dragover  mousemove  dragenter, dragleave \n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); //  dragover  preventDefault canvas  drop \n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    //  mousemove \n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // \n        if (this.dragging) {\n            // \n            if (draggingShape) {\n                //  shape  dragenter, dragleave, dragover  drag \n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            //  draggingShape  draggingShape  drag  canvas \n            //  canvas  drag \n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                //  drag \n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        //  draggable  shape  drag \n                        draggingShape = this.mousedownShape; //  shape\n                        draggingShape.set('capture', false); //  dragover,dragenter,dragleave,drop\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        //  draggable  canvas  drag \n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                //  mouse over \n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // \n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // \n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        //  shape \n        if (shape) {\n            eventObj.shape = shape;\n            //  shape \n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // \n            while (parent_1) {\n                // \n                parent_1.emitDelegation(type, eventObj);\n                // \n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            //  shape  canvas \n            var canvas = this.canvas;\n            //  canvas \n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // \n        this._clearEvents();\n        // \n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event-contoller.js.map","import { __extends } from \"tslib\";\nimport { detect } from 'detect-browser';\nimport Container from './container';\nimport { isBrowser, isNil, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nimport EventController from '../event/event-contoller';\nvar PX_SUFFIX = 'px';\nvar browser = detect();\nvar isFirefox = browser && browser.name === 'firefox';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        // CSS transform \n        cfg['supportCSSTransform'] = false;\n        return cfg;\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     *  DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // \n        var container = this.get('container');\n        container.appendChild(el);\n        // \n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     *  DOM \n     * @param {number} width  \n     * @param {number} height \n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // \n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * \n     * @return {Renderer} \n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     *  cursor \n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     *  cursor \n     * @param {Cursor} cursor  cursor \n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // \n            el.style.cursor = cursor;\n        }\n    };\n    // \n    Canvas.prototype.getPointByEvent = function (ev) {\n        var supportCSSTransform = this.get('supportCSSTransform');\n        if (supportCSSTransform) {\n            // For Firefox <= 38\n            if (isFirefox && !isNil(ev.layerX) && ev.layerX !== ev.offsetX) {\n                return {\n                    x: ev.layerX,\n                    y: ev.layerY,\n                };\n            }\n            if (!isNil(ev.offsetX)) {\n                // For IE6+, Firefox >= 39, Chrome, Safari, Opera\n                return {\n                    x: ev.offsetX,\n                    y: ev.offsetY,\n                };\n            }\n        }\n        // should calculate by self for other cases, like Safari in ios\n        // TODO: support CSS transform\n        var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n        return this.getPointByClient(clientX, clientY);\n    };\n    //  touch  clientX  clientY \n    Canvas.prototype.getClientByEvent = function (ev) {\n        var clientInfo = ev;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // \n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     *  DOM \n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // \n        if (timeline) {\n            // \n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","var cache = new Map();\n/**\n * \n * @param type \n * @param method \n */\nexport function register(type, method) {\n    cache.set(type, method);\n}\n/**\n * \n * @param type \n */\nexport function getMethod(type) {\n    return cache.get(type);\n}\n//# sourceMappingURL=register.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\n//# sourceMappingURL=rect.js.map","export default function (shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\n//# sourceMappingURL=circle.js.map","function minNum(array) {\n    return Math.min.apply(null, array);\n}\nfunction maxNum(array) {\n    return Math.max.apply(null, array);\n}\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @return {number} \n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexport function isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexport function getBBoxByArray(xArr, yArr) {\n    var minX = minNum(xArr);\n    var minY = minNum(yArr);\n    var maxX = maxNum(xArr);\n    var maxY = maxNum(yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function getBBoxRange(x1, y1, x2, y2) {\n    return {\n        minX: minNum([x1, x2]),\n        maxX: maxNum([x1, x2]),\n        minY: minNum([y1, y2]),\n        maxY: maxNum([y1, y2]),\n    };\n}\nexport function piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n//# sourceMappingURL=util.js.map","import line from './line';\nimport { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport { nearestPoint } from './bezier';\n// \nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// \nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// \nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // \n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // \n    var controlPoint1 = line.pointAt(x1, y1, x2, y2, t);\n    // \n    var controlPoint2 = line.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// \nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexport default {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        //  box \n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","import { distance, isNumberEqual, getBBoxByArray, piMod } from './util';\nimport line from './line';\nimport { snapLength, nearestPoint } from './bezier';\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t  Math.pow(t, 3) \n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (isNumberEqual(a, 0)) {\n        if (!isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// \nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // \n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // \n    var c1 = line.pointAt(x1, y1, x2, y2, t);\n    var c2 = line.pointAt(x2, y2, x3, y3, t);\n    var c3 = line.pointAt(x3, y3, x4, y4, t);\n    var c12 = line.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// \nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexport default {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        //  8 \n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        return nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n        return distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","import { distance, piMod } from './util';\nimport ellipse from './ellipse';\n//  x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n//  y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x \nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y \nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n//  x \nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n//  y \nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// \nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    //  0 - 2PI \n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// \nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexport default {\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @return {object} \n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * \n     *  rx, ry, startAngle, endAngle \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @param {number} x0          x\n     * @param {number} y0          y\n     * @return {object} \n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        //  0,0 \n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // \n        var relativePoint = ellipse.nearestPoint(0, 0, rx, ry, x1, y1);\n        // \n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // \n        if (angle < startAngle) {\n            // \n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // \n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        //  xRotation \n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","// \nexport function mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\n// \nexport function mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\n//# sourceMappingURL=util.js.map","import { Util } from '@antv/g-math';\nimport { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = Util.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=polyline.js.map","import { Quad as QuadUtil, Cubic as CubicUtil, Arc as EllipseArcUtil } from '@antv/g-math';\nimport { path2Segments } from '@antv/path-util';\nimport { isNumberEqual, max, min } from '@antv/util';\nimport { mergeArrowBBox } from './util';\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = QuadUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = CubicUtil.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = EllipseArcUtil.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = min(xArr);\n    var minY = min(yArr);\n    var maxX = max(xArr);\n    var maxY = max(yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    //  currentPoint \n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    //  0  PI \n    // :  0  0 \n    if (!currentAngle || Math.sin(currentAngle) === 0 || isNumberEqual(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // \n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // \n    // \n    var extra = {\n        // \n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // \n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nexport default function (shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; //  stroke lineWidth \n    var segments = shape.get('segments') || path2Segments(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=path.js.map","import { register, getMethod } from './register';\nimport rect from './rect';\nimport circle from './circle';\nimport polyline from './polyline';\nimport polygon from './polygon';\nimport text from './text';\nimport path from './path';\nimport line from './line';\nimport ellipse from './ellipse';\nregister('rect', rect);\nregister('image', rect); // image  rect \nregister('circle', circle);\nregister('marker', circle); // marker  circle \nregister('polyline', polyline);\nregister('polygon', polygon);\nregister('text', text);\nregister('path', path);\nregister('line', line);\nregister('ellipse', ellipse);\nexport { getMethod as getBBoxMethod };\n//# sourceMappingURL=index.js.map","import { Util } from '@antv/g-math';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return Util.getBBoxByArray(xArr, yArr);\n}\n//# sourceMappingURL=polygon.js.map","import { getTextWidth, getTextHeight, assembleFont } from '../util/text';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        //  font\n        font = assembleFont(attrs);\n    }\n    var width = getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // width\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // left,  bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\n//# sourceMappingURL=text.js.map","import { mergeArrowBBox } from './util';\nexport default function (shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\n//# sourceMappingURL=line.js.map","export default function (shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\n//# sourceMappingURL=ellipse.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import {\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Arrow,\n  Marker,\n  Shape,\n} from '@antv/f6-core';\nimport { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport * as Algorithm from '@antv/algorithm';\nimport Graph, { registerGraph as oRegisterGraph } from './graph/graph';\nimport { Layout, Layouts, registerLayout, unRegisterLayout } from './layout';\nimport Global from './global';\nimport Util from './util';\nimport './element';\nimport './behavior';\n\nconst F6 = {\n  version: Global.version,\n  Graph,\n  Util,\n  Layout,\n  Layouts,\n  registerLayout,\n  unRegisterLayout,\n  Global,\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n};\n\nfunction registerExtenderWrapper<T1, T2>(\n  registerExtender: (registerName: T1, registerFunction: T2, global: Object) => Object,\n): (registerName: T1, registerFunction: T2) => Object {\n  return function (...args) {\n    return registerExtender.apply(null, [...args, F6]);\n  };\n}\n\nconst registerGraph = registerExtenderWrapper(oRegisterGraph);\n\n(F6 as any).registerGraph = registerGraph;\n\nexport * from '@antv/f6-core';\nexport * from './types';\nexport * from './interface/graph';\n\nexport {\n  Graph,\n  Util,\n  Layout,\n  registerLayout,\n  registerGraph,\n  Global,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n  //  G-Base \n  ICanvas,\n  IGroup,\n  IShape,\n};\n\nexport default F6;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getTouchActionProps;\n\nfunction getTouchActionProps() {\n  let touchMap = {};\n  ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(val => {\n    // If css.supports is not supported but there is native touch-action assume it supports\n    // all values. This is the case for IE 10 and 11.\n    return touchMap[val] = true;\n  });\n  return touchMap;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = uniqueId;\n\n/**\n * @private\n * get a unique id\n * @returns {number} uniqueId\n */\nlet _uniqueId = 1;\n\nfunction uniqueId() {\n  return _uniqueId++;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getRecognizerByNameIfManager;\n\n/**\n * @private\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n  let {\n    manager\n  } = recognizer;\n\n  if (manager) {\n    return manager.get(otherRecognizer);\n  }\n\n  return otherRecognizer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stateStr;\n\nvar _recognizerConsts = require(\"./recognizer-consts\");\n\n/**\n * @private\n * get a usable string, used as event postfix\n * @param {constant} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n  if (state & _recognizerConsts.STATE_CANCELLED) {\n    return 'cancel';\n  } else if (state & _recognizerConsts.STATE_ENDED) {\n    return 'end';\n  } else if (state & _recognizerConsts.STATE_CHANGED) {\n    return 'move';\n  } else if (state & _recognizerConsts.STATE_BEGAN) {\n    return 'start';\n  }\n\n  return '';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = cleanTouchActions;\n\nvar _inStr = _interopRequireDefault(require(\"../utils/in-str\"));\n\nvar _touchactionConsts = require(\"./touchaction-Consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n  // none\n  if ((0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_NONE)) {\n    return _touchactionConsts.TOUCH_ACTION_NONE;\n  }\n\n  let hasPanX = (0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_PAN_X);\n  let hasPanY = (0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n  // for different directions, e.g. horizontal pan but vertical swipe?)\n  // we need none (as otherwise with pan-x pan-y combined none of these\n  // recognizers will work, since the browser would handle all panning\n\n  if (hasPanX && hasPanY) {\n    return _touchactionConsts.TOUCH_ACTION_NONE;\n  } // pan-x OR pan-y\n\n\n  if (hasPanX || hasPanY) {\n    return hasPanX ? _touchactionConsts.TOUCH_ACTION_PAN_X : _touchactionConsts.TOUCH_ACTION_PAN_Y;\n  } // manipulation\n\n\n  if ((0, _inStr.default)(actions, _touchactionConsts.TOUCH_ACTION_MANIPULATION)) {\n    return _touchactionConsts.TOUCH_ACTION_MANIPULATION;\n  }\n\n  return _touchactionConsts.TOUCH_ACTION_AUTO;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createInputInstance;\n\nvar _inputHandler = _interopRequireDefault(require(\"./input-handler\"));\n\nvar _touch = _interopRequireDefault(require(\"../input/touch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n  let Type = _touch.default;\n\n  if (manager.options.inputClass) {\n    Type = inputClass;\n  }\n\n  return new Type(manager, _inputHandler.default);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inputHandler;\n\nvar _inputConsts = require(\"./input-consts\");\n\nvar _computeInputData = _interopRequireDefault(require(\"./compute-input-data\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n  let pointersLen = input.pointers.length;\n  let changedPointersLen = input.changedPointers.length;\n  let isFirst = eventType & _inputConsts.INPUT_START && pointersLen - changedPointersLen === 0;\n  let isFinal = eventType & (_inputConsts.INPUT_END | _inputConsts.INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n  input.isFirst = !!isFirst;\n  input.isFinal = !!isFinal;\n\n  if (isFirst) {\n    manager.session = {};\n  } // source event is the normalized value of the domEvents\n  // like 'touchstart, mouseup, pointerdown'\n\n\n  input.eventType = eventType; // compute scale, rotation etc\n\n  (0, _computeInputData.default)(manager, input); // emit secret event\n\n  manager.emit('hammer.input', input);\n  manager.recognize(input);\n  manager.session.prevInput = input;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = computeInputData;\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _hasParent = _interopRequireDefault(require(\"../utils/has-parent\"));\n\nvar _simpleCloneInputData = _interopRequireDefault(require(\"./simple-clone-input-data\"));\n\nvar _getCenter = _interopRequireDefault(require(\"./get-center\"));\n\nvar _getDistance = _interopRequireDefault(require(\"./get-distance\"));\n\nvar _getAngle = _interopRequireDefault(require(\"./get-angle\"));\n\nvar _getDirection = _interopRequireDefault(require(\"./get-direction\"));\n\nvar _computeDeltaXy = _interopRequireDefault(require(\"./compute-delta-xy\"));\n\nvar _getVelocity = _interopRequireDefault(require(\"./get-velocity\"));\n\nvar _getScale = _interopRequireDefault(require(\"./get-scale\"));\n\nvar _getRotation = _interopRequireDefault(require(\"./get-rotation\"));\n\nvar _computeIntervalInputData = _interopRequireDefault(require(\"./compute-interval-input-data\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n  let {\n    session\n  } = manager;\n  let {\n    pointers\n  } = input;\n  let {\n    length: pointersLength\n  } = pointers; // store the first input to calculate the distance and direction\n\n  if (!session.firstInput) {\n    session.firstInput = (0, _simpleCloneInputData.default)(input);\n  } // to compute scale and rotation we need to store the multiple touches\n\n\n  if (pointersLength > 1 && !session.firstMultiple) {\n    session.firstMultiple = (0, _simpleCloneInputData.default)(input);\n  } else if (pointersLength === 1) {\n    session.firstMultiple = false;\n  }\n\n  let {\n    firstInput,\n    firstMultiple\n  } = session;\n  let offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n  let center = input.center = (0, _getCenter.default)(pointers);\n  input.timeStamp = (0, _utilsConsts.now)();\n  input.deltaTime = input.timeStamp - firstInput.timeStamp;\n  input.angle = (0, _getAngle.default)(offsetCenter, center);\n  input.distance = (0, _getDistance.default)(offsetCenter, center);\n  (0, _computeDeltaXy.default)(session, input);\n  input.offsetDirection = (0, _getDirection.default)(input.deltaX, input.deltaY);\n  let overallVelocity = (0, _getVelocity.default)(input.deltaTime, input.deltaX, input.deltaY);\n  input.overallVelocityX = overallVelocity.x;\n  input.overallVelocityY = overallVelocity.y;\n  input.overallVelocity = (0, _utilsConsts.abs)(overallVelocity.x) > (0, _utilsConsts.abs)(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n  input.scale = firstMultiple ? (0, _getScale.default)(firstMultiple.pointers, pointers) : 1;\n  input.rotation = firstMultiple ? (0, _getRotation.default)(firstMultiple.pointers, pointers) : 0;\n  input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n  (0, _computeIntervalInputData.default)(session, input);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = simpleCloneInputData;\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _getCenter = _interopRequireDefault(require(\"./get-center\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n  // make a simple copy of the pointers because we will get a reference if we don't\n  // we only need clientXY for the calculations\n  let pointers = [];\n  let i = 0;\n\n  while (i < input.pointers.length) {\n    pointers[i] = {\n      clientX: (0, _utilsConsts.round)(input.pointers[i].clientX),\n      clientY: (0, _utilsConsts.round)(input.pointers[i].clientY)\n    };\n    i++;\n  }\n\n  return {\n    timeStamp: (0, _utilsConsts.now)(),\n    pointers,\n    center: (0, _getCenter.default)(pointers),\n    deltaX: input.deltaX,\n    deltaY: input.deltaY\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = computeDeltaXY;\n\nvar _inputConsts = require(\"./input-consts\");\n\nfunction computeDeltaXY(session, input) {\n  let {\n    center\n  } = input; // let { offsetDelta:offset = {}, prevDelta = {}, prevInput = {} } = session;\n  // jscs throwing error on defalut destructured values and without defaults tests fail\n\n  let offset = session.offsetDelta || {};\n  let prevDelta = session.prevDelta || {};\n  let prevInput = session.prevInput || {};\n\n  if (input.eventType === _inputConsts.INPUT_START || prevInput.eventType === _inputConsts.INPUT_END) {\n    prevDelta = session.prevDelta = {\n      x: prevInput.deltaX || 0,\n      y: prevInput.deltaY || 0\n    };\n    offset = session.offsetDelta = {\n      x: center.x,\n      y: center.y\n    };\n  }\n\n  input.deltaX = prevDelta.x + (center.x - offset.x);\n  input.deltaY = prevDelta.y + (center.y - offset.y);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getScale;\n\nvar _inputConsts = require(\"./input-consts\");\n\nvar _getDistance = _interopRequireDefault(require(\"./get-distance\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n  return (0, _getDistance.default)(end[0], end[1], _inputConsts.PROPS_CLIENT_XY) / (0, _getDistance.default)(start[0], start[1], _inputConsts.PROPS_CLIENT_XY);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getRotation;\n\nvar _getAngle = _interopRequireDefault(require(\"./get-angle\"));\n\nvar _inputConsts = require(\"./input-consts\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n  return (0, _getAngle.default)(end[1], end[0], _inputConsts.PROPS_CLIENT_XY) + (0, _getAngle.default)(start[1], start[0], _inputConsts.PROPS_CLIENT_XY);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = computeIntervalInputData;\n\nvar _inputConsts = require(\"./input-consts\");\n\nvar _utilsConsts = require(\"../utils/utils-consts\");\n\nvar _getVelocity = _interopRequireDefault(require(\"./get-velocity\"));\n\nvar _getDirection = _interopRequireDefault(require(\"./get-direction\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n  let last = session.lastInterval || input;\n  let deltaTime = input.timeStamp - last.timeStamp;\n  let velocity;\n  let velocityX;\n  let velocityY;\n  let direction;\n\n  if (input.eventType !== _inputConsts.INPUT_CANCEL && (deltaTime > _inputConsts.COMPUTE_INTERVAL || last.velocity === undefined)) {\n    let deltaX = input.deltaX - last.deltaX;\n    let deltaY = input.deltaY - last.deltaY;\n    let v = (0, _getVelocity.default)(deltaTime, deltaX, deltaY);\n    velocityX = v.x;\n    velocityY = v.y;\n    velocity = (0, _utilsConsts.abs)(v.x) > (0, _utilsConsts.abs)(v.y) ? v.x : v.y;\n    direction = (0, _getDirection.default)(deltaX, deltaY);\n    session.lastInterval = input;\n  } else {\n    // use latest velocity info if it doesn't overtake a minimum period\n    velocity = last.velocity;\n    velocityX = last.velocityX;\n    velocityY = last.velocityY;\n    direction = last.direction;\n  }\n\n  input.velocity = velocity;\n  input.velocityX = velocityX;\n  input.velocityY = velocityY;\n  input.direction = direction;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _inputConsts = require(\"../inputjs/input-consts\");\n\nvar _inputConstructor = _interopRequireDefault(require(\"../inputjs/input-constructor\"));\n\nvar _inArray = _interopRequireDefault(require(\"../utils/in-array\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst POINTER_INPUT_MAP = {\n  pointerdown: _inputConsts.INPUT_START,\n  pointermove: _inputConsts.INPUT_MOVE,\n  pointerup: _inputConsts.INPUT_END,\n  pointercancel: _inputConsts.INPUT_CANCEL,\n  pointerout: _inputConsts.INPUT_CANCEL\n}; // in IE10 the pointer types is defined as an enum\n\nconst IE10_POINTER_TYPE_ENUM = {\n  2: _inputConsts.INPUT_TYPE_TOUCH,\n  3: _inputConsts.INPUT_TYPE_PEN,\n  4: _inputConsts.INPUT_TYPE_MOUSE,\n  5: _inputConsts.INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n};\nlet POINTER_ELEMENT_EVENTS = 'pointerdown';\nlet POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n/**\n * @private\n * Pointer events input\n * @constructor\n * @extends Input\n */\n\nclass PointerEventInput extends _inputConstructor.default {\n  constructor() {\n    PointerEventInput.prototype.events = `${POINTER_ELEMENT_EVENTS} ${POINTER_WINDOW_EVENTS}`;\n    super(...arguments);\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    this.store = this.manager.session.pointerEvents = [];\n  }\n  /**\n   * @private\n   * handle mouse events\n   * @param {Object} ev\n   */\n\n\n  handler(ev) {\n    let {\n      store\n    } = this;\n    let removePointer = false;\n    let eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n    let eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n    let pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n    let isTouch = pointerType === _inputConsts.INPUT_TYPE_TOUCH; // get index of the event in the store\n\n    let storeIndex = (0, _inArray.default)(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n    if (eventType & _inputConsts.INPUT_START && (ev.button === 0 || isTouch)) {\n      if (storeIndex < 0) {\n        store.push(ev);\n        storeIndex = store.length - 1;\n      }\n    } else if (eventType & (_inputConsts.INPUT_END | _inputConsts.INPUT_CANCEL)) {\n      removePointer = true;\n    } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n    if (storeIndex < 0) {\n      return;\n    } // update the event in the store\n\n\n    store[storeIndex] = ev;\n    this.callback(this.manager, eventType, {\n      pointers: store,\n      changedPointers: [ev],\n      pointerType,\n      srcEvent: ev\n    });\n\n    if (removePointer) {\n      // remove from the store\n      store.splice(storeIndex, 1);\n    }\n  }\n\n}\n\nexports.default = PointerEventInput;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = removeEventListeners;\nexports.removeManagerListeners = removeManagerListeners;\n\nvar _each = _interopRequireDefault(require(\"./each\"));\n\nvar _splitStr = _interopRequireDefault(require(\"./split-str\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n  (0, _each.default)((0, _splitStr.default)(types), type => {\n    target.removeEventListener(type, handler, false);\n  });\n}\n\nfunction removeManagerListeners(manager, types, handler) {\n  (0, _each.default)((0, _splitStr.default)(types), type => {\n    manager.off(`origin_input:${type}`, handler);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _deprecate = _interopRequireDefault(require(\"./deprecate\"));\n\nvar _extend = _interopRequireDefault(require(\"./extend\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nconst merge = (0, _deprecate.default)((dest, src) => {\n  return (0, _extend.default)(dest, src, true);\n}, 'merge', 'Use `assign`.');\nvar _default = merge;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inherit;\n\nvar _assign = _interopRequireDefault(require(\"./assign\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n  let baseP = base.prototype;\n  let childP;\n  childP = child.prototype = Object.create(baseP);\n  childP.constructor = child;\n  childP._super = baseP;\n\n  if (properties) {\n    (0, _assign.default)(childP, properties);\n  }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAllowCapture = exports.isParent = exports.upperFirst = exports.each = exports.mix = exports.isArray = exports.isObject = exports.isString = exports.isFunction = exports.isNil = exports.isBrowser = exports.removeFromArray = void 0;\nfunction removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexports.removeFromArray = removeFromArray;\nexports.isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar util_1 = require(\"@antv/util\");\nObject.defineProperty(exports, \"isNil\", { enumerable: true, get: function () { return util_1.isNil; } });\nObject.defineProperty(exports, \"isFunction\", { enumerable: true, get: function () { return util_1.isFunction; } });\nObject.defineProperty(exports, \"isString\", { enumerable: true, get: function () { return util_1.isString; } });\nObject.defineProperty(exports, \"isObject\", { enumerable: true, get: function () { return util_1.isObject; } });\nObject.defineProperty(exports, \"isArray\", { enumerable: true, get: function () { return util_1.isArray; } });\nObject.defineProperty(exports, \"mix\", { enumerable: true, get: function () { return util_1.mix; } });\nObject.defineProperty(exports, \"each\", { enumerable: true, get: function () { return util_1.each; } });\nObject.defineProperty(exports, \"upperFirst\", { enumerable: true, get: function () { return util_1.upperFirst; } });\n// \nfunction isParent(container, shape) {\n    //  shape  canvas \n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexports.isParent = isParent;\nfunction isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\nexports.isAllowCapture = isAllowCapture;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getOffScreenContext = void 0;\n//  ctx isPointInPath\nvar offScreenCtx = null;\nfunction getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexports.getOffScreenContext = getOffScreenContext;\n//# sourceMappingURL=offscreen.js.map","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","var conversions = require('./conversions');\nvar route = require('./route');\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","var conversions = require('./conversions');\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { deepMix } from '@antv/util'; // \n\nregisterNode('circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util';\n/**\n * \n */\n\nregisterNode('ellipse', {\n  // \n  options: {\n    size: [80, 40],\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'ellipse',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('ellipse', {\n      attrs: style,\n      className: 'ellipse-keyShape',\n      name: 'ellipse-keyShape',\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      rx: rx,\n      ry: ry\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var strokeStyle = {\n      stroke: cfg.color,\n      rx: size[0] / 2,\n      ry: size[1] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('diamond', {\n  // \n  options: {\n    size: [80, 80],\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'diamond',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var path = [['M', 0, -height / 2], ['L', width / 2, 0], ['L', 0, height / 2], ['L', -width / 2, 0], ['Z'] // \n    ];\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // \n\nregisterNode('triangle', {\n  // \n  options: {\n    size: 40,\n    direction: 'up',\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      },\n      offset: 15\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20,\n      offset: 6\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'triangle',\n  // \n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.icon,\n        icon = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var style = this.getShapeStyle(cfg);\n    var direction = cfg.direction || defaultDirection;\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        offset = icon.offset,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        var iconW = -w / 2;\n        var iconH = -h / 2;\n\n        if (direction === 'up' || direction === 'down') {\n          iconH += offset;\n        }\n\n        if (direction === 'left' || direction === 'right') {\n          iconW += offset;\n        }\n\n        group.addShape('image', {\n          attrs: __assign({\n            x: iconW,\n            y: iconH\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.linkPoints,\n        linkPoints = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n\n    if (left) {\n      // up down left right \n      var leftPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        leftPos = [-r, diffY];\n      } else if (direction === 'down') {\n        leftPos = [-r, -diffY];\n      } else if (direction === 'left') {\n        leftPos = [-r, r - diffY];\n      }\n\n      if (leftPos) {\n        // left circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: leftPos[0],\n            y: leftPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left'\n        });\n      }\n    }\n\n    if (right) {\n      // right circle\n      // up down left right \n      var rightPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        rightPos = [r, diffY];\n      } else if (direction === 'down') {\n        rightPos = [r, -diffY];\n      } else if (direction === 'right') {\n        rightPos = [r, r - diffY];\n      }\n\n      if (rightPos) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: rightPos[0],\n            y: rightPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right'\n        });\n      }\n    }\n\n    if (top) {\n      // up down left right \n      var topPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        topPos = [r - diffY, -diffY];\n      } else if (direction === 'left') {\n        topPos = [r, -diffY];\n      } else if (direction === 'right') {\n        topPos = [-r, -diffY];\n      }\n\n      if (topPos) {\n        // top circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: topPos[0],\n            y: topPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top'\n        });\n      }\n    }\n\n    if (bottom) {\n      // up down left right \n      var bottomPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'down') {\n        bottomPos = [-r + diffY, diffY];\n      } else if (direction === 'left') {\n        bottomPos = [r, diffY];\n      } else if (direction === 'right') {\n        bottomPos = [-r, diffY];\n      }\n\n      if (bottomPos) {\n        // bottom circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: bottomPos[0],\n            y: bottomPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom'\n        });\n      }\n    }\n  },\n  getPath: function getPath(cfg) {\n    var defaultDirection = this.getOptions(cfg).direction;\n    var direction = cfg.direction || defaultDirection;\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n    var path = [['M', -r, diffY], ['L', 0, -diffY], ['L', r, diffY], ['Z'] // \n    ];\n\n    if (direction === 'down') {\n      path = [['M', -r, -diffY], ['L', r, -diffY], ['L', 0, diffY], ['Z'] // \n      ];\n    } else if (direction === 'left') {\n      path = [['M', -r, r - diffY], ['L', r, -r], ['L', r, r], ['Z'] // \n      ];\n    } else if (direction === 'right') {\n      path = [['M', r, r - diffY], ['L', -r, r], ['L', -r, -r], ['Z'] // \n      ];\n    }\n\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var _a = this.getOptions({}),\n        defaultLinkPoints = _a.linkPoints,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _b = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _b.left,\n        right = _b.right,\n        top = _b.top,\n        bottom = _b.bottom;\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var leftPos = null;\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n\n    if (direction === 'up') {\n      leftPos = [-r, diffY];\n    } else if (direction === 'down') {\n      leftPos = [-r, -diffY];\n    } else if (direction === 'left') {\n      leftPos = [-r, r - diffY];\n    }\n\n    if (leftPos) {\n      if (markLeft) {\n        if (!left && left !== undefined) {\n          markLeft.remove();\n        } else {\n          markLeft.attr(__assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }));\n        }\n      } else if (left) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var rightPos = null;\n\n    if (direction === 'up') {\n      rightPos = [r, diffY];\n    } else if (direction === 'down') {\n      rightPos = [r, -diffY];\n    } else if (direction === 'right') {\n      rightPos = [r, r - diffY];\n    }\n\n    if (rightPos) {\n      if (markRight) {\n        if (!right && right !== undefined) {\n          markRight.remove();\n        } else {\n          markRight.attr(__assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }));\n        }\n      } else if (right) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var topPos = null;\n\n    if (direction === 'up') {\n      topPos = [r - diffY, -diffY];\n    } else if (direction === 'left') {\n      topPos = [r, -diffY];\n    } else if (direction === 'right') {\n      topPos = [-r, -diffY];\n    }\n\n    if (topPos) {\n      if (markTop) {\n        if (!top && top !== undefined) {\n          markTop.remove();\n        } else {\n          // top circle\n          markTop.attr(__assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }));\n        }\n      } else if (top) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var bottomPos = null;\n\n    if (direction === 'down') {\n      bottomPos = [-r + diffY, diffY];\n    } else if (direction === 'left') {\n      bottomPos = [r, diffY];\n    } else if (direction === 'right') {\n      bottomPos = [-r, diffY];\n    }\n\n    if (bottomPos) {\n      if (markBottom) {\n        if (!bottom && bottom !== undefined) {\n          markBottom.remove();\n        } else {\n          markBottom.attr(__assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }));\n        }\n      } else if (bottom) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom',\n          isAnchorPoint: true\n        });\n      }\n    }\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix, isString } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('modelRect', {\n  // \n  options: {\n    size: [185, 70],\n    style: {\n      radius: 5,\n      stroke: '#69c0ff',\n      fill: '#ffffff',\n      lineWidth: Global.defaultNode.style.lineWidth,\n      fillOpacity: 1\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 14\n      },\n      offset: 30 //  offset y \n\n    },\n    descriptionCfg: {\n      style: {\n        fontSize: 12,\n        fill: '#bfbfbf'\n      },\n      paddingTop: 0\n    },\n    preRect: {\n      show: true,\n      width: 4,\n      fill: '#40a9ff',\n      radius: 2\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A'\n    },\n    // icon\n    logoIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: 0\n    },\n    // icon\n    stateIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: -5\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]]\n  },\n  shapeType: 'modelRect',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).preRect,\n        preRect = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n\n    var preRectShow = preRect.show,\n        preRectStyle = __rest(preRect, [\"show\"]);\n\n    if (preRectShow) {\n      group.addShape('rect', {\n        attrs: __assign({\n          x: -width / 2,\n          y: -height / 2,\n          height: height\n        }, preRectStyle),\n        className: 'pre-rect',\n        name: 'pre-rect',\n        draggable: true\n      });\n    }\n\n    this.drawLogoIcon(cfg, group);\n    this.drawStateIcon(cfg, group);\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * logo\n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawLogoIcon: function drawLogoIcon(cfg, group) {\n    var _a = this.getOptions(cfg).logoIcon,\n        logoIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (logoIcon.show) {\n      var w = logoIcon.width,\n          h = logoIcon.height,\n          x = logoIcon.x,\n          y = logoIcon.y,\n          offset = logoIcon.offset,\n          text = logoIcon.text,\n          logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, logoIconStyle),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, logoIconStyle), {\n            x: x || -width / 2 + w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawStateIcon: function drawStateIcon(cfg, group) {\n    var _a = this.getOptions(cfg).stateIcon,\n        stateIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (stateIcon.show) {\n      var w = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          offset = stateIcon.offset,\n          text = stateIcon.text,\n          iconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, iconStyle),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, iconStyle), {\n            x: x || width / 2 - w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.labelCfg,\n        labelCfg = _b === void 0 ? {} : _b,\n        _c = _a.logoIcon,\n        logoIcon = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var label = null;\n    var show = logoIcon.show,\n        w = logoIcon.width;\n    var offsetX = -width / 2 + labelCfg.offset;\n\n    if (show) {\n      offsetX = -width / 2 + w + labelCfg.offset;\n    }\n\n    var fontStyle = labelCfg.style;\n    var descriptionStyle = descriptionCfg.style,\n        descriptionPaddingTop = descriptionCfg.paddingTop;\n\n    if (isString(cfg.description)) {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: -5,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n      group.addShape('text', {\n        attrs: __assign(__assign({}, descriptionStyle), {\n          x: offsetX,\n          y: 17 + (descriptionPaddingTop || 0),\n          text: cfg.description\n        }),\n        className: 'rect-description',\n        name: 'rect-description',\n        draggable: true\n      });\n    } else {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: 7,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n    }\n\n    return label;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var _a = this.getOptions(cfg),\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b,\n        _c = _a.labelCfg,\n        labelCfg = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign(__assign({}, style), {\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }));\n    var group = item.getContainer();\n    var logoIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-logo-icon';\n    });\n    var currentLogoIconAttr = logoIconShape ? logoIconShape.attr() : {};\n    var logoIcon = mix({}, currentLogoIconAttr, cfg.logoIcon);\n    var w = logoIcon.width;\n\n    if (w === undefined) {\n      w = this.options.logoIcon.width;\n    }\n\n    var show = cfg.logoIcon ? cfg.logoIcon.show : undefined;\n    var offset = labelCfg.offset;\n    var offsetX = -width / 2 + w + offset;\n\n    if (!show && show !== undefined) {\n      offsetX = -width / 2 + offset;\n    }\n\n    var label = group.find(function (element) {\n      return element.get('className') === 'node-label';\n    });\n    var description = group.find(function (element) {\n      return element.get('className') === 'rect-description';\n    });\n\n    if (cfg.label) {\n      if (!label) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            x: offsetX,\n            y: cfg.description ? -5 : 7,\n            text: cfg.label\n          }),\n          className: 'node-label',\n          name: 'node-label',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : {};\n        var labelStyle = mix({}, label.attr(), cfgStyle);\n        if (cfg.label) labelStyle.text = cfg.label;\n        labelStyle.x = offsetX;\n        if (isString(cfg.description)) labelStyle.y = -5;\n\n        if (description) {\n          description.resetMatrix();\n          description.attr({\n            x: offsetX\n          });\n        }\n\n        label.resetMatrix();\n        label.attr(labelStyle);\n      }\n    }\n\n    if (isString(cfg.description)) {\n      var paddingTop = descriptionCfg.paddingTop;\n\n      if (!description) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, descriptionCfg.style), {\n            x: offsetX,\n            y: 17 + (paddingTop || 0),\n            text: cfg.description\n          }),\n          className: 'rect-description',\n          name: 'rect-description',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.descriptionCfg ? cfg.descriptionCfg.style : {};\n        var descriptionStyle = mix({}, description.attr(), cfgStyle);\n        if (isString(cfg.description)) descriptionStyle.text = cfg.description;\n        descriptionStyle.x = offsetX;\n        description.resetMatrix();\n        description.attr(__assign(__assign({}, descriptionStyle), {\n          y: 17 + (paddingTop || 0)\n        }));\n      }\n    }\n\n    var preRectShape = group.find(function (element) {\n      return element.get('className') === 'pre-rect';\n    });\n\n    if (preRectShape) {\n      var preRect = mix({}, preRectShape.attr(), cfg.preRect);\n      preRectShape.attr(__assign(__assign({}, preRect), {\n        x: -width / 2,\n        y: -height / 2,\n        height: height\n      }));\n    }\n\n    if (logoIconShape) {\n      if (!show && show !== undefined) {\n        logoIconShape.remove();\n      } else {\n        var logoW = logoIcon.width,\n            h = logoIcon.height,\n            x = logoIcon.x,\n            y = logoIcon.y,\n            logoOffset = logoIcon.offset,\n            logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n        logoIconShape.attr(__assign(__assign({}, logoIconStyle), {\n          x: x || -width / 2 + logoW + logoOffset,\n          y: y || -h / 2,\n          width: logoW,\n          height: h\n        }));\n      }\n    } else if (show) {\n      this.drawLogoIcon(cfg, group);\n    }\n\n    var stateIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-state-icon';\n    });\n    var currentStateIconAttr = stateIconShape ? stateIconShape.attr() : {};\n    var stateIcon = mix({}, currentStateIconAttr, cfg.stateIcon);\n\n    if (stateIconShape) {\n      if (!stateIcon.show && stateIcon.show !== undefined) {\n        stateIconShape.remove();\n      }\n\n      var stateW = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          stateOffset = stateIcon.offset,\n          stateIconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n      stateIconShape.attr(__assign(__assign({}, stateIconStyle), {\n        x: x || width / 2 - stateW + stateOffset,\n        y: y || -h / 2,\n        width: stateW,\n        height: h\n      }));\n    } else if (stateIcon.show) {\n      this.drawStateIcon(cfg, group);\n    }\n\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('star', {\n  // \n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // color stroke  cfg  stroke \n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { registerNode, BaseGlobal as Global, Util } from '@antv/f6-core';\nimport { deepMix, isNumber } from '@antv/util';\nvar defaultSubjectColors = Util.defaultSubjectColors; // \n\nregisterNode('donut', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      draggable: true,\n      name: this.type + \"-keyShape\"\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: this.type + \"-icon\",\n          name: this.type + \"-icon\",\n          draggable: true\n        });\n      }\n    }\n\n    var donutR = keyShape.attr('r');\n    var innerR = 0.6 * donutR; // \n\n    var arcR = (donutR + innerR) / 2; // \n\n    var _b = cfg,\n        _c = _b.donutAttrs,\n        donutAttrs = _c === void 0 ? {} : _c,\n        _d = _b.donutColorMap,\n        donutColorMap = _d === void 0 ? {} : _d;\n    var attrNum = Object.keys(donutAttrs).length;\n\n    if (donutAttrs && attrNum > 1) {\n      var attrs_1 = [];\n      var totalValue_1 = 0;\n      Object.keys(donutAttrs).forEach(function (name) {\n        var value = donutAttrs[name] || 0;\n        if (!isNumber(value)) return;\n        attrs_1.push({\n          key: name,\n          value: value,\n          color: donutColorMap[name]\n        });\n        totalValue_1 += value;\n      });\n\n      if (totalValue_1) {\n        var lineWidth_1 = donutR - innerR;\n\n        if (attrNum === 1) {\n          group.addShape('circle', {\n            attrs: {\n              r: arcR,\n              x: 0,\n              y: 0,\n              stroke: attrs_1[0].color || defaultSubjectColors[0],\n              lineWidth: lineWidth_1\n            },\n            name: \"fan-shape-0\"\n          });\n          return;\n        }\n\n        var arcBegin_1 = [arcR, 0];\n        var beginAngle_1 = 0;\n        attrs_1.forEach(function (attr, i) {\n          var percent = attr.value / totalValue_1;\n          if (percent < 0.001) return;\n          if (percent > 0.999) percent = 1;\n\n          if (percent === 1) {\n            group.addShape('circle', {\n              attrs: {\n                r: arcR,\n                x: 0,\n                y: 0,\n                stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length],\n                lineWidth: lineWidth_1\n              },\n              name: \"fan-shape-\" + i\n            });\n            return;\n          }\n\n          attr.percent = percent;\n          attr.angle = percent * Math.PI * 2;\n          attr.beginAgnle = beginAngle_1;\n          beginAngle_1 += attr.angle;\n          attr.endAngle = beginAngle_1;\n          attr.arcBegin = arcBegin_1;\n          attr.arcEnd = [arcR * Math.cos(attr.endAngle), -arcR * Math.sin(attr.endAngle)];\n          var isBig = attr.angle > Math.PI ? 1 : 0;\n          var path = [['M', attr.arcBegin[0], attr.arcBegin[1]], ['A', arcR, arcR, 0, isBig, 0, attr.arcEnd[0], attr.arcEnd[1]], ['L', attr.arcEnd[0], attr.arcEnd[1]]];\n          group.addShape('path', {\n            attrs: {\n              path: path,\n              lineWidth: lineWidth_1,\n              stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length]\n            },\n            name: \"fan-shape-\" + i\n          });\n          arcBegin_1 = attr.arcEnd;\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  update: undefined\n}, 'circle');","export var getBBoxFromPoint = function getBBoxFromPoint(point) {\n  var x = point.x,\n      y = point.y;\n  return {\n    x: x,\n    y: y,\n    centerX: x,\n    centerY: y,\n    minX: x,\n    minY: y,\n    maxX: x,\n    maxY: y,\n    height: 0,\n    width: 0\n  };\n};\nexport var getBBoxFromPoints = function getBBoxFromPoints(points) {\n  if (points === void 0) {\n    points = [];\n  }\n\n  var xs = [];\n  var ys = [];\n  points.forEach(function (p) {\n    xs.push(p.x);\n    ys.push(p.y);\n  });\n  var minX = Math.min.apply(Math, xs);\n  var maxX = Math.max.apply(Math, xs);\n  var minY = Math.min.apply(Math, ys);\n  var maxY = Math.max.apply(Math, ys);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    maxX: maxX,\n    maxY: maxY,\n    minX: minX,\n    minY: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var isBBoxesOverlapping = function isBBoxesOverlapping(b1, b2) {\n  return Math.abs(b1.centerX - b2.centerX) * 2 < b1.width + b2.width && Math.abs(b1.centerY - b2.centerY) * 2 < b1.height + b2.height;\n};\nexport var filterConnectPoints = function filterConnectPoints(points) {\n  // pre-process: remove duplicated points\n  var result = [];\n  var pointsMap = {};\n  var pointsLength = points.length;\n\n  for (var i = pointsLength - 1; i >= 0; i--) {\n    var p = points[i];\n    p.id = p.x + \"|||\" + p.y;\n    pointsMap[p.id] = p;\n    result.push(p);\n  }\n\n  return result;\n};\nexport var simplifyPolyline = function simplifyPolyline(points) {\n  return filterConnectPoints(points);\n};\nexport var getSimplePolyline = function getSimplePolyline(sPoint, tPoint) {\n  return [sPoint, {\n    x: sPoint.x,\n    y: tPoint.y\n  }, tPoint];\n};\nexport var getExpandedBBox = function getExpandedBBox(bbox, offset) {\n  if (bbox.width || bbox.height) {\n    return {\n      centerX: bbox.centerX,\n      centerY: bbox.centerY,\n      minX: bbox.minX - offset,\n      minY: bbox.minY - offset,\n      maxX: bbox.maxX + offset,\n      maxY: bbox.maxY + offset,\n      height: bbox.height + 2 * offset,\n      width: bbox.width + 2 * offset\n    };\n  } // when it is a point\n\n\n  return bbox;\n};\nexport var isHorizontalPort = function isHorizontalPort(port, bbox) {\n  var dx = Math.abs(port.x - bbox.centerX);\n  var dy = Math.abs(port.y - bbox.centerY);\n  if (dx === 0 && dy === 0) return 0;\n  return dx / bbox.width > dy / bbox.height;\n};\nexport var getExpandedBBoxPoint = function getExpandedBBoxPoint(bbox, //  bbox  offset  bbox gridSize \npoint, //  gridSize anchorPoint\nanotherPoint) {\n  var isHorizontal = isHorizontalPort(point, bbox);\n\n  if (isHorizontal === 0) {\n    // linkCenter: true\n    var x = bbox.centerX;\n    var y = bbox.centerY;\n\n    if (anotherPoint.y < point.y) {\n      // /\n      y = bbox.minY;\n    } else if (anotherPoint.x > point.x) {\n      // \n      x = bbox.maxX;\n    } else if (anotherPoint.x < point.x) {\n      // \n      x = bbox.minX;\n    } else if (anotherPoint.x === point.x) {\n      // \n      y = bbox.maxY;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  if (isHorizontal) {\n    return {\n      x: point.x > bbox.centerX ? bbox.maxX : bbox.minX,\n      y: point.y\n    };\n  }\n\n  return {\n    x: point.x,\n    y: point.y > bbox.centerY ? bbox.maxY : bbox.minY\n  };\n};\n/**\n *\n * @param b1\n * @param b2\n */\n\nexport var mergeBBox = function mergeBBox(b1, b2) {\n  var minX = Math.min(b1.minX, b2.minX);\n  var minY = Math.min(b1.minY, b2.minY);\n  var maxX = Math.max(b1.maxX, b2.maxX);\n  var maxY = Math.max(b1.maxY, b2.maxY);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var getPointsFromBBox = function getPointsFromBBox(bbox) {\n  // anticlockwise\n  // const { minX, minY, maxX, maxY } = bbox;\n  return [{\n    x: bbox.minX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }, {\n    x: bbox.minX,\n    y: bbox.maxY\n  }];\n};\nexport var isPointOutsideBBox = function isPointOutsideBBox(point, bbox) {\n  var x = point.x,\n      y = point.y;\n  return x < bbox.minX || x > bbox.maxX || y < bbox.minY || y > bbox.maxY;\n};\nexport var getBBoxXCrossPoints = function getBBoxXCrossPoints(bbox, x) {\n  if (x < bbox.minX || x > bbox.maxX) {\n    return [];\n  }\n\n  return [{\n    x: x,\n    y: bbox.minY\n  }, {\n    x: x,\n    y: bbox.maxY\n  }];\n};\nexport var getBBoxYCrossPoints = function getBBoxYCrossPoints(bbox, y) {\n  if (y < bbox.minY || y > bbox.maxY) {\n    return [];\n  }\n\n  return [{\n    x: bbox.minX,\n    y: y\n  }, {\n    x: bbox.maxX,\n    y: y\n  }];\n};\nexport var getBBoxCrossPointsByPoint = function getBBoxCrossPointsByPoint(bbox, point) {\n  return getBBoxXCrossPoints(bbox, point.x).concat(getBBoxYCrossPoints(bbox, point.y));\n};\n/**\n * \n */\n\nexport var distance = function distance(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n/**\n *  points  x  p  -2y \n *  points  / \n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var _costByPoints = function _costByPoints(p, points) {\n  var offset = -2;\n  var result = 0;\n  points.forEach(function (point) {\n    if (point) {\n      if (p.x === point.x) {\n        result += offset;\n      }\n\n      if (p.y === point.y) {\n        result += offset;\n      }\n    }\n  });\n  return result;\n};\n/**\n * ps  p  pt \n */\n\nexport var heuristicCostEstimate = function heuristicCostEstimate(p, ps, pt, source, target) {\n  return distance(p, ps) + distance(p, pt) + _costByPoints(p, [ps, pt, source, target]);\n};\nexport var reconstructPath = function reconstructPath(pathPoints, pointById, cameFrom, currentId, iterator) {\n  if (iterator === void 0) {\n    iterator = 0;\n  }\n\n  pathPoints.unshift(pointById[currentId]);\n\n  if (cameFrom[currentId] && cameFrom[currentId] !== currentId && iterator <= 100) {\n    reconstructPath(pathPoints, pointById, cameFrom, cameFrom[currentId], iterator + 1);\n  }\n};\n/**\n *  arr  item\n */\n\nexport var removeFrom = function removeFrom(arr, item) {\n  var index = arr.indexOf(item);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\nexport var isSegmentsIntersected = function isSegmentsIntersected(p0, p1, p2, p3) {\n  var v1x = p2.x - p0.x;\n  var v1y = p2.y - p0.y;\n  var v2x = p3.x - p0.x;\n  var v2y = p3.y - p0.y;\n  var v3x = p2.x - p1.x;\n  var v3y = p2.y - p1.y;\n  var v4x = p3.x - p1.x;\n  var v4y = p3.y - p1.y;\n  var pd1 = v1x * v2y - v1y * v2x;\n  var pd2 = v3x * v4y - v3y * v4x;\n  var pd3 = v1x * v3y - v1y * v3x;\n  var pd4 = v2x * v4y - v2y * v4x;\n  return pd1 * pd2 <= 0 && pd3 * pd4 <= 0;\n};\nexport var isSegmentCrossingBBox = function isSegmentCrossingBBox(p1, p2, bbox) {\n  if (bbox.width || bbox.height) {\n    var _a = getPointsFromBBox(bbox),\n        pa = _a[0],\n        pb = _a[1],\n        pc = _a[2],\n        pd = _a[3];\n\n    return isSegmentsIntersected(p1, p2, pa, pb) || isSegmentsIntersected(p1, p2, pa, pd) || isSegmentsIntersected(p1, p2, pb, pc) || isSegmentsIntersected(p1, p2, pc, pd);\n  }\n\n  return false;\n};\n/**\n *  points  x  y  point  x  y  point  bbox1  bbox2 \n */\n\nexport var getNeighborPoints = function getNeighborPoints(points, point, bbox1, bbox2) {\n  var neighbors = [];\n  points.forEach(function (p) {\n    if (p === point) return;\n\n    if (p.x === point.x || p.y === point.y) {\n      if (isSegmentCrossingBBox(p, point, bbox1) || isSegmentCrossingBBox(p, point, bbox2)) return;\n      neighbors.push(p);\n    }\n  });\n  return filterConnectPoints(neighbors);\n};\nexport var pathFinder = function pathFinder(points, start, goal, sBBox, tBBox, os, ot) {\n  // A-Star Algorithm\n  var closedSet = [];\n  var openSet = [start];\n  var cameFrom = {};\n  var gScore = {}; // all default values are Infinity\n\n  var fScore = {}; // all default values are Infinity\n\n  gScore[start.id] = 0;\n  fScore[start.id] = heuristicCostEstimate(start, goal, start);\n  var pointById = {};\n  points.forEach(function (p) {\n    pointById[p.id] = p;\n  });\n  var current, lowestFScore;\n\n  while (openSet.length) {\n    current = undefined;\n    lowestFScore = Infinity; //  openSet  fScore \n\n    openSet.forEach(function (p) {\n      if (fScore[p.id] <= lowestFScore) {\n        lowestFScore = fScore[p.id];\n        current = p;\n      }\n    }); //  openSet  fScore \n\n    if (current === goal) {\n      // ending condition\n      var pathPoints = [];\n      reconstructPath(pathPoints, pointById, cameFrom, goal.id);\n      return pathPoints;\n    }\n\n    removeFrom(openSet, current);\n    closedSet.push(current);\n    getNeighborPoints(points, current, sBBox, tBBox).forEach(function (neighbor) {\n      if (closedSet.indexOf(neighbor) !== -1) {\n        return;\n      }\n\n      if (openSet.indexOf(neighbor) === -1) {\n        openSet.push(neighbor);\n      }\n\n      var tentativeGScore = fScore[current.id] + distance(current, neighbor); // + distance(neighbor, goal);\n\n      if (gScore[neighbor.id] && tentativeGScore >= gScore[neighbor.id]) {\n        return;\n      }\n\n      cameFrom[neighbor.id] = current.id;\n      gScore[neighbor.id] = tentativeGScore;\n      fScore[neighbor.id] = gScore[neighbor.id] + heuristicCostEstimate(neighbor, goal, start, os, ot);\n    });\n  } // throw new Error('Cannot find path');\n\n\n  return [start, goal];\n};\nexport var isBending = function isBending(p0, p1, p2) {\n  return !(p0.x === p1.x && p1.x === p2.x || p0.y === p1.y && p1.y === p2.y);\n};\nexport var getBorderRadiusPoints = function getBorderRadiusPoints(p0, p1, p2, r) {\n  var d0 = distance(p0, p1);\n  var d1 = distance(p2, p1);\n\n  if (d0 < r) {\n    r = d0;\n  }\n\n  if (d1 < r) {\n    r = d1;\n  }\n\n  var ps = {\n    x: p1.x - r / d0 * (p1.x - p0.x),\n    y: p1.y - r / d0 * (p1.y - p0.y)\n  };\n  var pt = {\n    x: p1.x - r / d1 * (p1.x - p2.x),\n    y: p1.y - r / d1 * (p1.y - p2.y)\n  };\n  return [ps, pt];\n};\nexport var getPathWithBorderRadiusByPolyline = function getPathWithBorderRadiusByPolyline(points, borderRadius) {\n  var pathSegments = [];\n  var startPoint = points[0];\n  pathSegments.push(\"M\" + startPoint.x + \" \" + startPoint.y);\n  points.forEach(function (p, i) {\n    var p1 = points[i + 1];\n    var p2 = points[i + 2];\n\n    if (p1 && p2) {\n      if (isBending(p, p1, p2)) {\n        var _a = getBorderRadiusPoints(p, p1, p2, borderRadius),\n            ps = _a[0],\n            pt = _a[1];\n\n        pathSegments.push(\"L\" + ps.x + \" \" + ps.y);\n        pathSegments.push(\"Q\" + p1.x + \" \" + p1.y + \" \" + pt.x + \" \" + pt.y);\n        pathSegments.push(\"L\" + pt.x + \" \" + pt.y);\n      } else {\n        pathSegments.push(\"L\" + p1.x + \" \" + p1.y);\n      }\n    } else if (p1) {\n      pathSegments.push(\"L\" + p1.x + \" \" + p1.y);\n    }\n  });\n  return pathSegments.join('');\n};\nexport var getPolylinePoints = function getPolylinePoints(start, end, sNode, tNode, offset) {\n  var sBBox, tBBox;\n\n  if (!sNode || !sNode.getType()) {\n    sBBox = getBBoxFromPoint(start);\n  } else if (sNode.getType() === 'combo') {\n    var sNodeKeyShape = sNode.getKeyShape();\n    sBBox = sNodeKeyShape.getCanvasBBox() || getBBoxFromPoint(start);\n    sBBox.centerX = (sBBox.minX + sBBox.maxX) / 2;\n    sBBox.centerY = (sBBox.minY + sBBox.maxY) / 2;\n  } else {\n    sBBox = sNode.getBBox();\n  }\n\n  if (!tNode || !tNode.getType()) {\n    tBBox = getBBoxFromPoint(end);\n  } else if (tNode.getType() === 'combo') {\n    var tKeyShapeBBox = tNode.getKeyShape().getBBox();\n\n    if (tKeyShapeBBox) {\n      var _a = tNode.getModel(),\n          tx = _a.x,\n          ty = _a.y;\n\n      tBBox = {\n        x: tx,\n        y: ty,\n        width: tKeyShapeBBox.width,\n        height: tKeyShapeBBox.height,\n        minX: tKeyShapeBBox.minX + tx,\n        maxX: tKeyShapeBBox.maxX + tx,\n        minY: tKeyShapeBBox.minY + ty,\n        maxY: tKeyShapeBBox.maxY + ty\n      };\n      tBBox.centerX = (tBBox.minX + tBBox.maxX) / 2;\n      tBBox.centerY = (tBBox.minY + tBBox.maxY) / 2;\n    } else {\n      tBBox = getBBoxFromPoint(end);\n    }\n  } else {\n    tBBox = tNode && tNode.getBBox();\n  } // if (isBBoxesOverlapping(sBBox, tBBox)) {\n  //   // source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n\n  var sxBBox = getExpandedBBox(sBBox, offset);\n  var txBBox = getExpandedBBox(tBBox, offset); // if (isBBoxesOverlapping(sxBBox, txBBox)) {\n  //   // the expanded bounding boxes of source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n  var sPoint = getExpandedBBoxPoint(sxBBox, start, end);\n  var tPoint = getExpandedBBoxPoint(txBBox, end, start);\n  var lineBBox = getBBoxFromPoints([sPoint, tPoint]);\n  var sMixBBox = mergeBBox(sxBBox, lineBBox);\n  var tMixBBox = mergeBBox(txBBox, lineBBox);\n  var connectPoints = [];\n  connectPoints = connectPoints.concat(getPointsFromBBox(sMixBBox)).concat(getPointsFromBBox(tMixBBox));\n  var centerPoint = {\n    x: (start.x + end.x) / 2,\n    y: (start.y + end.y) / 2\n  };\n  [lineBBox, sMixBBox, tMixBBox].forEach(function (bbox) {\n    connectPoints = connectPoints.concat(getBBoxCrossPointsByPoint(bbox, centerPoint).filter(function (p) {\n      return isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox);\n    }));\n  });\n  [{\n    x: sPoint.x,\n    y: tPoint.y\n  }, {\n    x: tPoint.x,\n    y: sPoint.y\n  }].forEach(function (p) {\n    // impossible!!\n    if (isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox) // &&\n    // isPointInsideBBox(p, sMixBBox) && isPointInsideBBox(p, tMixBBox)\n    ) {\n        connectPoints.push(p);\n      }\n  });\n  connectPoints.unshift(sPoint);\n  connectPoints.push(tPoint); // filter out dulplicated points in connectPoints\n\n  connectPoints = filterConnectPoints(connectPoints); // , sxBBox, txBBox, outerBBox\n\n  var pathPoints = pathFinder(connectPoints, sPoint, tPoint, sBBox, tBBox, start, end);\n  pathPoints.unshift(start);\n  pathPoints.push(end);\n  return simplifyPolyline(pathPoints);\n};","/**\n *  costFunc, distFunc, constraints  router\n * generalRouter: \n * orthogonal: 4\n * octolinearRouter: 8\n */\nimport { Util } from '@antv/f6-core';\nimport { deepMix } from '@antv/util';\nimport { getExpandedBBox, getExpandedBBoxPoint, getPolylinePoints, simplifyPolyline, isSegmentCrossingBBox } from './polyline-util';\n\nvar manhattanDist = function manhattanDist(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n\nvar eucliDist = function eucliDist(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n};\n\nvar straightPath = function straightPath(start, end) {\n  // console.warn('fallbackRoute: straight path');\n  return [start, end];\n};\n\nvar simplePolyline = function simplePolyline(start, end, startNode, endNode, cfg) {\n  return simplifyPolyline(getPolylinePoints(start, end, startNode, endNode, cfg.offset));\n}; // getPolylinePoints\n\n\nvar defaultCfg = {\n  offset: 20,\n  maxAllowedDirectionChange: Math.PI / 2,\n  maximumLoops: 2000,\n  gridSize: 10,\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: -1\n  } // top\n  ],\n\n  get penalties() {\n    return {\n      0: 0,\n      45: this.gridSize / 2,\n      90: this.gridSize / 2\n    };\n  },\n\n  distFunc: manhattanDist,\n  fallbackRoute: simplePolyline\n};\nexport var octolinearCfg = {\n  maxAllowedDirectionChange: Math.PI / 4,\n  // 8 :  + 45\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: 1,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: -1\n  }, {\n    stepX: 0,\n    stepY: -1\n  }, {\n    stepX: 1,\n    stepY: -1\n  }],\n  distFunc: eucliDist,\n  fallbackRoute: straightPath\n};\n\nvar pos2GridIx = function pos2GridIx(pos, gridSize) {\n  var gridIx = Math.round(Math.abs(pos / gridSize));\n  var sign = pos < 0 ? -1 : 1;\n  return gridIx < 0 ? 0 : sign * gridIx;\n};\n\nvar getObstacleMap = function getObstacleMap(items, gridSize, offset) {\n  var map = {};\n  items.forEach(function (item) {\n    // create-edge  polyline  endNode  null\n    if (!item) return;\n    var bbox = getExpandedBBox(item.getBBox(), offset);\n\n    for (var x = pos2GridIx(bbox.minX, gridSize); x <= pos2GridIx(bbox.maxX, gridSize); x += 1) {\n      for (var y = pos2GridIx(bbox.minY, gridSize); y <= pos2GridIx(bbox.maxY, gridSize); y += 1) {\n        map[x + \"|||\" + y] = true;\n      }\n    }\n  });\n  return map;\n};\n/**\n *  p1  p2 0\n * @param p1 PolyPoint\n * @param p2 PolyPoint\n */\n\n\nvar getDirectionAngle = function getDirectionAngle(p1, p2) {\n  var deltaX = p2.x - p1.x;\n  var deltaY = p2.y - p1.y;\n\n  if (deltaX || deltaY) {\n    return Math.atan2(deltaY, deltaX);\n  }\n\n  return 0;\n};\n/**\n * 180\n * @param angle1\n * @param angle2\n */\n\n\nvar getAngleDiff = function getAngleDiff(angle1, angle2) {\n  var directionChange = Math.abs(angle1 - angle2);\n  return directionChange > Math.PI ? 2 * Math.PI - directionChange : directionChange; // return directionChange > 180 ? 360 - directionChange : directionChange;\n}; // Path finder //\n\n\nvar estimateCost = function estimateCost(from, endPoints, distFunc) {\n  var min = Infinity;\n\n  for (var i = 0, len = endPoints.length; i < len; i++) {\n    var cost = distFunc(from, endPoints[i]);\n\n    if (cost < min) {\n      min = cost;\n    }\n  }\n\n  return min;\n}; //  offset  BBox \n\n\nvar getBoxPoints = function getBoxPoints(point, //  gridSize anchorPoint\noriPoint, //  gridSize anchorPoint\nnode, //  bbox\nanotherPoint, //  gridSize \ncfg) {\n  var points = []; // create-edge endNode  null\n\n  if (!node) {\n    return [point];\n  }\n\n  var directions = cfg.directions,\n      offset = cfg.offset;\n  var bbox = node.getBBox();\n  var isInside = oriPoint.x > bbox.minX && oriPoint.x < bbox.maxX && oriPoint.y > bbox.minY && oriPoint.y < bbox.maxY;\n  var expandBBox = getExpandedBBox(bbox, offset);\n\n  for (var i in expandBBox) {\n    expandBBox[i] = pos2GridIx(expandBBox[i], cfg.gridSize);\n  }\n\n  if (isInside) {\n    //  anchorPoint \n    for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {\n      var dir = directions_1[_i];\n      var bounds = [[{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }]];\n\n      for (var i = 0; i < 4; i++) {\n        var boundLine = bounds[i];\n        var insterctP_1 = Util.getLineIntersect(point, {\n          x: point.x + dir.stepX * expandBBox.width,\n          y: point.y + dir.stepY * expandBBox.height\n        }, boundLine[0], boundLine[1]);\n\n        if (insterctP_1 && !isSegmentCrossingBBox(point, insterctP_1, bbox)) {\n          insterctP_1.id = insterctP_1.x + \"|||\" + insterctP_1.y;\n          points.push(insterctP_1);\n        }\n      }\n    }\n\n    return points;\n  } //  anchorPoint \n\n\n  var insterctP = getExpandedBBoxPoint(expandBBox, point, anotherPoint);\n  insterctP.id = insterctP.x + \"|||\" + insterctP.y;\n  return [insterctP];\n};\n\nvar getDirectionChange = function getDirectionChange(current, neighbor, cameFrom, scaleStartPoint) {\n  var directionAngle = getDirectionAngle(current, neighbor);\n\n  if (!cameFrom[current.id]) {\n    var startAngle = getDirectionAngle(scaleStartPoint, current);\n    return getAngleDiff(startAngle, directionAngle);\n  }\n\n  var prevDirectionAngle = getDirectionAngle({\n    x: cameFrom[current.id].x,\n    y: cameFrom[current.id].y\n  }, current);\n  return getAngleDiff(prevDirectionAngle, directionAngle);\n};\n\nvar getControlPoints = function getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize) {\n  var controlPoints = [endPoint];\n  var currentId = current.id;\n  var currentX = current.x;\n  var currentY = current.y;\n  var lastPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  };\n\n  if (getDirectionChange(lastPoint, scaleEndPoint, cameFrom, scaleStartPoint)) {\n    // if (scaleEndPoint.x === endPoint.x && scaleEndPoint.y === endPoint.y)\n    //   controlPoints.unshift({\n    //     x: endPoint.x,\n    //     y: endPoint.y\n    //   })\n    // else\n    //   controlPoints.unshift({\n    //     x: lastPoint.x * gridSize,\n    //     y: lastPoint.y * gridSize,\n    //   });\n    controlPoints.unshift({\n      x: scaleEndPoint.x === endPoint.x ? endPoint.x : lastPoint.x * gridSize,\n      y: scaleEndPoint.y === endPoint.y ? endPoint.y : lastPoint.y * gridSize\n    });\n  }\n\n  while (cameFrom[currentId] && cameFrom[currentId].id !== currentId) {\n    var point = {\n      x: currentX,\n      y: currentY,\n      id: currentId\n    };\n    var preId = cameFrom[currentId].id;\n    var preX = cameFrom[currentId].x;\n    var preY = cameFrom[currentId].y;\n    var prePoint = {\n      x: preX,\n      y: preY,\n      id: preId\n    };\n    var directionChange = getDirectionChange(prePoint, point, cameFrom, scaleStartPoint);\n\n    if (directionChange) {\n      // if (prePoint.x === point.x && prePoint.y === point.y)\n      //   controlPoints.unshift({\n      //     x: controlPoints[0].x,\n      //     y: controlPoints[0].y\n      //   })\n      // else\n      //   controlPoints.unshift({\n      //     x: prePoint.x * gridSize,\n      //     y: prePoint.y * gridSize,\n      //   });\n      controlPoints.unshift({\n        x: prePoint.x === point.x ? controlPoints[0].x : prePoint.x * gridSize,\n        y: prePoint.y === point.y ? controlPoints[0].y : prePoint.y * gridSize\n      });\n    }\n\n    currentId = preId;\n    currentX = preX;\n    currentY = preY;\n  } // startNode\n\n\n  var firstPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  }; // if (firstPoint.x === scaleStartPoint.x && firstPoint.y === scaleStartPoint.y) {\n  //   controlPoints[0].x = startPoint.x;\n  //   controlPoints[0].y = startPoint.y;\n  // }\n\n  controlPoints[0].x = firstPoint.x === scaleStartPoint.x ? startPoint.x : controlPoints[0].x;\n  controlPoints[0].y = firstPoint.y === scaleStartPoint.y ? startPoint.y : controlPoints[0].y;\n  controlPoints.unshift(startPoint);\n  return controlPoints;\n};\n\nexport var pathFinder = function pathFinder(startPoint, endPoint, startNode, endNode, routerCfg) {\n  if (isNaN(startPoint.x) || isNaN(endPoint.x)) return [];\n  var cfg = deepMix(defaultCfg, routerCfg);\n  cfg.obstacles = cfg.obstacles || [];\n  var gridSize = cfg.gridSize;\n  var map = getObstacleMap(cfg.obstacles.concat([startNode, endNode]), gridSize, cfg.offset);\n  var scaleStartPoint = {\n    x: pos2GridIx(startPoint.x, gridSize),\n    y: pos2GridIx(startPoint.y, gridSize)\n  };\n  var scaleEndPoint = {\n    x: pos2GridIx(endPoint.x, gridSize),\n    y: pos2GridIx(endPoint.y, gridSize)\n  };\n  startPoint.id = scaleStartPoint.x + \"|||\" + scaleStartPoint.y;\n  endPoint.id = scaleEndPoint.x + \"|||\" + scaleEndPoint.y;\n  var startPoints = getBoxPoints(scaleStartPoint, startPoint, startNode, scaleEndPoint, cfg);\n  var endPoints = getBoxPoints(scaleEndPoint, endPoint, endNode, scaleStartPoint, cfg);\n  startPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  endPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  var openSet = {};\n  var closedSet = {};\n  var cameFrom = {}; //  cost, default: Infinity\n\n  var gScore = {}; //  cost, default: Infinity\n\n  var fScore = {}; // initialize\n\n  for (var i = 0; i < startPoints.length; i++) {\n    var firstStep = startPoints[i];\n    openSet[firstStep.id] = firstStep; // cameFrom[firstStep.id] = startPoint.id;\n\n    gScore[firstStep.id] = 0;\n    fScore[firstStep.id] = estimateCost(firstStep, endPoints, cfg.distFunc);\n  }\n\n  var remainLoops = cfg.maximumLoops;\n  var penalties = cfg.penalties;\n  var current, curCost, direction, neighbor, neighborCost, costFromStart, directionChange;\n\n  while (Object.keys(openSet).length > 0 && remainLoops > 0) {\n    current = undefined;\n    curCost = Infinity; //  openSet  fScore \n\n    Object.keys(openSet).forEach(function (key) {\n      var id = openSet[key].id;\n\n      if (fScore[id] <= curCost) {\n        curCost = fScore[id];\n        current = openSet[id];\n      }\n    });\n    if (!current) break; //  fScore \n\n    if (endPoints.findIndex(function (point) {\n      return point.x === current.x && point.y === current.y;\n    }) > -1) {\n      return getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize);\n    }\n\n    delete openSet[current.id];\n    closedSet[current.id] = true; // \n    // \n\n    for (var i = 0; i < cfg.directions.length; i++) {\n      direction = cfg.directions[i];\n      neighbor = {\n        x: current.x + direction.stepX,\n        y: current.y + direction.stepY,\n        id: Math.round(current.x) + direction.stepX + \"|||\" + (Math.round(current.y) + direction.stepY)\n      };\n      if (closedSet[neighbor.id]) continue;\n      directionChange = getDirectionChange(current, neighbor, cameFrom, scaleStartPoint);\n      if (directionChange > cfg.maxAllowedDirectionChange) continue;\n      if (map[neighbor.id]) continue; // \n      //  openSet,  cost\n\n      if (!openSet[neighbor.id]) {\n        openSet[neighbor.id] = neighbor;\n      }\n\n      neighborCost = cfg.distFunc(current, neighbor) + (isNaN(penalties[directionChange]) ? gridSize : penalties[directionChange]);\n      costFromStart = gScore[current.id] + neighborCost;\n\n      if (gScore[neighbor.id] && costFromStart >= gScore[neighbor.id]) {\n        continue;\n      }\n\n      cameFrom[neighbor.id] = current;\n      gScore[neighbor.id] = costFromStart;\n      fScore[neighbor.id] = costFromStart + estimateCost(neighbor, endPoints, cfg.distFunc);\n    }\n\n    remainLoops -= 1;\n  }\n\n  return cfg.fallbackRoute(startPoint, endPoint, startNode, endNode, cfg);\n};","import { __assign } from \"tslib\";\nimport { mix, each, isArray, isString } from '@antv/util';\nimport { registerEdge, Util, BaseGlobal as Global } from '@antv/f6-core';\nimport { getPathWithBorderRadiusByPolyline, getPolylinePoints } from './polyline-util';\nimport { pathFinder } from './router'; // \n\nregisterEdge('polyline', {\n  options: {\n    color: Global.defaultEdge.color,\n    size: Global.defaultEdge.size,\n    style: {\n      radius: 0,\n      offset: 15,\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    routeCfg: {\n      obstacles: [],\n      maxAllowedDirectionChange: Math.PI,\n      maximumLoops: 500,\n      gridSize: 10 // \n\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n  shapeType: 'polyline',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    if (shapeStyle.radius === 0) delete shapeStyle.radius;\n    var keyShape = group.addShape('path', {\n      className: 'edge-shape',\n      name: 'edge-shape',\n      attrs: shapeStyle\n    });\n    return keyShape;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    cfg = this.getPathPoints(cfg);\n    this.radius = style.radius;\n    this.offset = style.offset;\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = style.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = style.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    var attrs = mix({}, Global.defaultEdge.style, style, {\n      lineWidth: cfg.size,\n      path: path\n    });\n    return attrs;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    if (!item.isVisible()) return;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = previousStyle.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = previousStyle.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getPath: function getPath(points, source, target, radius, routeCfg) {\n    var offset = routeCfg.offset,\n        simple = routeCfg.simple; // \n\n    if (!offset || points.length > 2) {\n      if (radius) {\n        return getPathWithBorderRadiusByPolyline(points, radius);\n      }\n\n      var pathArray_1 = [];\n      each(points, function (point, index) {\n        if (index === 0) {\n          pathArray_1.push(['M', point.x, point.y]);\n        } else {\n          pathArray_1.push(['L', point.x, point.y]);\n        }\n      });\n      return pathArray_1;\n    } // \n\n\n    var polylinePoints = simple ? getPolylinePoints(points[points.length - 1], points[0], target, source, offset) : pathFinder(points[0], points[points.length - 1], source, target, routeCfg);\n    if (!polylinePoints || !polylinePoints.length) return 'M0 0, L0 0';\n\n    if (radius) {\n      var res_1 = getPathWithBorderRadiusByPolyline(polylinePoints, radius);\n      return res_1;\n    }\n\n    var res = Util.pointsToPolygon(polylinePoints);\n    return res;\n  }\n}, 'single-edge');","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\n\nconst { cloneEvent, isNaN } = Util;\n\nconst { abs } = Math;\nconst DRAG_OFFSET = 10;\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      // drag-canvas  0\n      //  0 \n      //  0 \n      // https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0,\n      allowDragOnItem: false,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      dragstart: 'onDragStart',\n      drag: 'onDragMove',\n      dragend: 'onDragEnd',\n    };\n  },\n  updateViewport(e: IG6GraphEvent) {\n    const { origin } = this;\n    const clientX = +e.clientX;\n    const clientY = +e.clientY;\n\n    if (isNaN(clientX) || isNaN(clientY)) {\n      return;\n    }\n    let dx = clientX - origin.x;\n    let dy = clientY - origin.y;\n\n    if (this.get('direction') === 'x') {\n      dy = 0;\n    } else if (this.get('direction') === 'y') {\n      dx = 0;\n    }\n    this.origin = {\n      x: clientX,\n      y: clientY,\n    };\n    const width = this.graph.get('width');\n    const height = this.graph.get('height');\n    const graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n\n    if (\n      (graphCanvasBBox.minX <= width + this.scalableRange &&\n        graphCanvasBBox.minX + dx > width + this.scalableRange) ||\n      (graphCanvasBBox.maxX + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxX + this.scalableRange + dx < 0)\n    ) {\n      dx = 0;\n    }\n    if (\n      (graphCanvasBBox.minY <= height + this.scalableRange &&\n        graphCanvasBBox.minY + dy > height + this.scalableRange) ||\n      (graphCanvasBBox.maxY + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxY + this.scalableRange + dy < 0)\n    ) {\n      dy = 0;\n    }\n    this.graph.translate(dx, dy);\n  },\n  onDragStart(e: IG6GraphEvent) {\n    const self = this as any;\n    const event = e.originalEvent as Event;\n    if (!this.shouldBegin.call(this, e)) {\n      return;\n    }\n\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    self.origin = { x: e.clientX, y: e.clientY };\n    self.dragging = false;\n\n    if (this.enableOptimize) {\n      //  canvas label\n      const graph: IGraph = this.graph;\n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n          shape.hide();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            child.set('ori-visibility', child.get('ori-visibility') || child.get('visible'));\n            child.hide();\n          }\n        }\n      }\n    }\n  },\n\n  onDragMove(e: IG6GraphEvent) {\n    const { graph } = this;\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    e = cloneEvent(e);\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.dragging) {\n      if (abs(this.origin.x - e.clientX) + abs(this.origin.y - e.clientY) < DRAG_OFFSET) {\n        return;\n      }\n      if (this.shouldBegin.call(this, e)) {\n        e.type = 'dragstart';\n        this.dragging = true;\n      }\n    }\n    if (this.shouldUpdate.call(this, e)) {\n      this.updateViewport(e);\n    }\n  },\n  onDragEnd(e: IG6GraphEvent) {\n    const { graph } = this;\n\n    if (this.enableOptimize) {\n      // \n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          const oriVis = shape.get('ori-visibility');\n          if (oriVis) shape.show();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            const oriVis = child.get('ori-visibility');\n            if (oriVis) child.show();\n          }\n        }\n      }\n    }\n\n    if (!this.dragging) {\n      this.origin = null;\n      return;\n    }\n\n    e = cloneEvent(e);\n\n    if (this.shouldEnd.call(this, e)) {\n      this.updateViewport(e);\n    }\n    e.type = 'dragend';\n    // graph.emit('canvas:dragend', e);\n    this.endDrag();\n  },\n  endDrag() {\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n  },\n};\n","/*\n * @Author: moyee\n * @Date: 2019-06-27 18:12:06\n * @LastEditors: moyee\n * @LastEditTime: 2019-08-22 18:41:45\n * @Description: Behavior\n */\nimport { Point } from '@antv/g-base';\nimport { deepMix, clone } from '@antv/util';\nimport { G6Event, IG6GraphEvent, Item, NodeConfig, INode, ICombo } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Global from '../global';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      updateEdge: true,\n      delegateStyle: {},\n      // delegate\n      enableDelegate: false,\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      comboActiveState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n      'combo:drop': 'onDropCombo',\n      'node:drop': 'onDropNode',\n      'canvas:drop': 'onDropCanvas',\n    };\n  },\n  validationCombo(item: ICombo) {\n    if (!this.origin || !item || item.destroyed) {\n      return false;\n    }\n\n    const type = item.getType();\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  /**\n   * \n   * @param evt\n   */\n  onDragStart(evt: IG6GraphEvent) {\n    if (!this.shouldBegin.call(this, evt)) {\n      return;\n    }\n\n    const item: INode = evt.item as INode;\n    if (!item || item.destroyed || item.hasLocked()) {\n      return;\n    }\n\n    // target linkPoints / anchorPoints \n    const { target } = evt;\n    if (target) {\n      const isAnchorPoint = target.get('isAnchorPoint');\n      if (isAnchorPoint) {\n        return;\n      }\n    }\n\n    const { graph } = this;\n\n    this.targets = [];\n\n    //  Combo\n    this.targetCombo = null;\n\n    // \n    const nodes = graph.findAllByState('node', this.selectedState);\n\n    const currentNodeId = item.get('id');\n\n    // \n    const dragNodes = nodes.filter((node) => {\n      const nodeId = node.get('id');\n      return currentNodeId === nodeId;\n    });\n\n    // \n    if (dragNodes.length === 0) {\n      this.targets.push(item);\n    } else if (nodes.length > 1) {\n      // \n      nodes.forEach((node) => {\n        const locked = node.hasLocked();\n        if (!locked) {\n          this.targets.push(node);\n        }\n      });\n    } else {\n      this.targets.push(item);\n    }\n    const beforeDragNodes = [];\n    this.targets.forEach((t) => {\n      beforeDragNodes.push(clone(t.getModel()));\n    });\n    this.set('beforeDragNodes', beforeDragNodes);\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.point = {};\n    this.originPoint = {};\n  },\n\n  /**\n   * \n   * @param evt\n   */\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return;\n    }\n\n    if (this.get('enableDelegate')) {\n      this.updateDelegate(evt);\n    } else {\n      this.targets.map((target) => {\n        this.update(target, evt);\n      });\n    }\n  },\n  /**\n   * capturetrue combo combo \n   * @param evt\n   */\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.origin || !this.shouldEnd.call(this, evt)) {\n      return;\n    }\n\n    //  group  capture  true\n    const item = evt.item as INode;\n    if (item) {\n      const group = item.getContainer();\n      group.set('capture', true);\n    }\n\n    if (this.delegateRect) {\n      this.delegateRect.remove();\n      this.delegateRect = null;\n    }\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    // \n    if (graph.get('enabledStack')) {\n      const stackData = {\n        before: { nodes: this.get('beforeDragNodes'), edges: [], combos: [] },\n        after: { nodes: [], edges: [], combos: [] },\n      };\n\n      this.targets.forEach((target) => {\n        stackData.after.nodes.push(target.getModel());\n      });\n      graph.pushStack('update', clone(stackData));\n    }\n\n    // emitnull\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: null,\n    });\n\n    this.point = {};\n    this.origin = null;\n    this.originPoint = {};\n    this.targets.length = 0;\n    this.targetCombo = null;\n  },\n  /**\n   *  combo \n   * @param evt\n   */\n  onDropCombo(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n\n    this.targetCombo = item;\n\n    //  Combo  Combo \n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      const targetComboModel = item.getModel();\n      this.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (nodeModel.comboId !== targetComboModel.id) {\n          graph.updateComboTree(node, targetComboModel.id);\n        }\n      });\n      graph.updateCombo(item as ICombo);\n    }\n\n    //  combo emit combo\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: this.targetCombo,\n    });\n  },\n\n  onDropCanvas(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      this.targets.map((node: INode) => {\n        //  comboId combo \n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n  },\n\n  /**\n   *  combo  node \n   * @param evt\n   */\n  onDropNode(evt: IG6GraphEvent) {\n    const self = this;\n    if (!self.targets || self.targets.length === 0) return;\n    const item = evt.item as INode;\n    self.updatePositions(evt);\n    const graph: IGraph = self.graph;\n\n    const comboId = item.getModel().comboId as string;\n\n    if (comboId) {\n      const combo = graph.findById(comboId);\n      if (self.comboActiveState) {\n        graph.setItemState(combo, self.comboActiveState, false);\n      }\n      self.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (comboId !== nodeModel.comboId) {\n          graph.updateComboTree(node, comboId);\n        }\n      });\n      graph.updateCombo(combo as ICombo);\n    } else {\n      self.targets.map((node: INode) => {\n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n\n    // emit \n    graph.emit('dragnodeend', {\n      items: self.targets,\n      targetItem: item,\n    });\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragEnter(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, true);\n    }\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragLeave(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    //  delegate \n    if (this.get('enableDelegate')) {\n      this.targets.map((node) => this.update(node, evt));\n    }\n  },\n  /**\n   * \n   * @param item \n   * @param evt\n   */\n  update(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const model: NodeConfig = item.get('model');\n    const nodeId: string = item.get('id');\n    if (!this.point[nodeId]) {\n      this.point[nodeId] = {\n        x: model.x || 0,\n        y: model.y || 0,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[nodeId].x;\n    const y: number = evt.y - origin.y + this.point[nodeId].y;\n\n    const pos: Point = { x, y };\n\n    if (this.get('updateEdge')) {\n      this.graph.updateItem(item, pos, false);\n    } else {\n      item.updatePosition(pos);\n    }\n  },\n  /**\n   * delegate\n   * @param {Event} e \n   * @param {number} x x\n   * @param {number} y y\n   */\n  updateDelegate(e) {\n    const { graph } = this;\n    if (!this.delegateRect) {\n      // \n      const parent = this.graph.get('group');\n      const attrs = deepMix({}, Global.delegateStyle, this.delegateStyle);\n\n      const { x: cx, y: cy, width, height, minX, minY } = this.calculationGroupPosition(e);\n      this.originPoint = { x: cx, y: cy, width, height, minX, minY };\n      // modelx, ydelegateShapegx,y\n      this.delegateRect = parent.addShape('rect', {\n        attrs: {\n          width,\n          height,\n          x: cx,\n          y: cy,\n          ...attrs,\n        },\n        name: 'rect-delegate-shape',\n      });\n      // this.delegateRect.set('capture', false);\n    } else {\n      const clientX = e.x - this.origin.x + this.originPoint.minX;\n      const clientY = e.y - this.origin.y + this.originPoint.minY;\n      this.delegateRect.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n  /**\n   * delegate\n   * @memberof ItemGroup\n   * @return {object} delegate\n   */\n  calculationGroupPosition(evt: IG6GraphEvent) {\n    const { graph } = this;\n\n    const nodes = graph.findAllByState('node', this.selectedState);\n    if (nodes.length === 0) {\n      nodes.push(evt.item);\n    }\n\n    let minx = Infinity;\n    let maxx = -Infinity;\n    let miny = Infinity;\n    let maxy = -Infinity;\n\n    // x y\n    for (let i = 0; i < nodes.length; i++) {\n      const element = nodes[i];\n      const bbox = element.getBBox();\n      const { minX, minY, maxX, maxY } = bbox;\n      if (minX < minx) {\n        minx = minX;\n      }\n\n      if (minY < miny) {\n        miny = minY;\n      }\n\n      if (maxX > maxx) {\n        maxx = maxX;\n      }\n\n      if (maxY > maxy) {\n        maxy = maxY;\n      }\n    }\n\n    const x = Math.floor(minx);\n    const y = Math.floor(miny);\n    const width = Math.ceil(maxx) - Math.floor(minx);\n    const height = Math.ceil(maxy) - Math.floor(miny);\n\n    return {\n      x,\n      y,\n      width,\n      height,\n      minX: minx,\n      minY: miny,\n    };\n  },\n};\n","import { each } from '@antv/util';\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      multiple: true,\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n\n    return {\n      'node:tap': 'onClick',\n      'combo:tap': 'onClick',\n      'canvas:tap': 'onCanvasClick',\n    };\n  },\n  onClick(evt: IG6GraphEvent) {\n    const self = this;\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n    const { graph, multiple, shouldUpdate, shouldBegin } = self;\n    if (!shouldBegin.call(self, evt)) {\n      return;\n    }\n\n    // allow to select multiple nodes but did not press a key || do not allow the select multiple nodes\n    if (!multiple) {\n      const selected = graph.findAllByState(type, self.selectedState);\n      each(selected, (combo) => {\n        if (combo !== item) {\n          graph.setItemState(combo, self.selectedState, false);\n        }\n      });\n    }\n\n    if (item.hasState(self.selectedState)) {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, false);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: false,\n      });\n    } else {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, true);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: true,\n      });\n    }\n  },\n  onCanvasClick() {\n    const { graph } = this;\n    const selected = graph.findAllByState('node', this.selectedState);\n    each(selected, (node) => {\n      graph.setItemState(node, this.selectedState, false);\n    });\n\n    const selectedCombos = graph.findAllByState('combo', this.selectedState);\n    each(selectedCombos, (combo) => {\n      graph.setItemState(combo, this.selectedState, false);\n    });\n    graph.emit('nodeselectchange', {\n      selectedItems: { nodes: [], edges: [], combos: [] },\n      select: false,\n    });\n  },\n};\n","import { G6Event } from '@antv/f6-core';\n\nexport default {\n  firstScale: null,\n  getDefaultCfg(): object {\n    return {\n      originScale: 1,\n      sensitivity: 2,\n      minZoom: undefined,\n      maxZoom: undefined,\n      enableOptimize: false,\n      optimizeZoom: 0.1,\n      fixSelectedItems: {\n        fixAll: false,\n        fixLineWidth: false,\n        fixLabel: false,\n        fixState: 'selected',\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const { fixSelectedItems } = this;\n\n    if (!fixSelectedItems.fixState) fixSelectedItems.fixState = 'selected';\n    if (fixSelectedItems.fixAll) {\n      fixSelectedItems.fixLineWidth = true;\n      fixSelectedItems.fixLabel = true;\n    }\n\n    return {\n      pinchstart: 'onPinch',\n      pinchmove: 'onPinch',\n    };\n  },\n  onPinch(evt) {\n    if (evt.preventDefault) evt.preventDefault();\n    if (evt.originalEvent.preventDefault) evt.originalEvent.preventDefault();\n\n    const pointers = evt.originalEvent.pointers;\n    if (pointers.length < 2) return;\n\n    if (evt.type === 'pinchstart') {\n      this.firstScale = this.graph.getZoom();\n    }\n\n    const scale = evt.originalEvent.scale || evt.originalEvent.srcEvent.extra.scale;\n\n    // \n    const zoom = this.firstScale * scale;\n\n    // \n    this.currentScale = zoom;\n\n    const minZoom = this.get('minZoom') || this.graph.get('minZoom');\n    const maxZoom = this.get('maxZoom') || this.graph.get('maxZoom');\n\n    if (zoom > maxZoom || zoom < minZoom) {\n      return;\n    }\n    const canvas = this.graph.get('canvas');\n\n    const posA = { x: pointers[0].clientX, y: pointers[0].clientY };\n    const posB = { x: pointers[1].clientX, y: pointers[1].clientY };\n    // \n    const point = canvas.getPointByClient((posA.x + posB.x) / 2, (posA.y + posB.y) / 2);\n    this.graph.zoomTo(zoom, { x: point.x, y: point.y });\n  },\n};\n","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'dbltap'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      /**\n       * /\n       */\n      trigger: DEFAULT_TRIGGER,\n      onChange() {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      ({ trigger } = this);\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior collapse-expand  trigger  'click'  'dblclick'\");\n    }\n    return {\n      [`node:${trigger}`]: 'onNodeTap',\n      // \n      touchstart: 'onNodeTap',\n    };\n  },\n  onNodeTap(e: IG6GraphEvent) {\n    const { item } = e;\n\n    // model  merge model \n    const sourceData = this.graph.findDataById(item.get('id'));\n    if (!sourceData) {\n      return;\n    }\n\n    const { children } = sourceData;\n    // \n    if (!children || children.length === 0) {\n      return;\n    }\n    const collapsed = !sourceData.collapsed;\n    if (!this.shouldBegin(e, collapsed)) {\n      return;\n    }\n    sourceData.collapsed = collapsed;\n    item.getModel().collapsed = collapsed;\n    this.graph.emit('itemcollapsed', { item: e.item, collapsed });\n    if (!this.shouldUpdate(e, collapsed)) {\n      return;\n    }\n    try {\n      this.onChange(item, collapsed);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n    this.graph.layout();\n  },\n};\n","/*\n * @Author: moyee\n * @LastEditors: moyee\n * @Description:  Combo\n */\nimport { each } from '@antv/util';\nimport { IGroup } from '@antv/g-base';\nimport { G6Event, IG6GraphEvent, Item, ComboConfig, ICombo, INode } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\nimport Global from '../global';\n\nconst { calculationItemsBBox } = Util;\n\n/**\n *  Combo  Combo\n * @param data  Combo\n * @param fn\n */\nconst traverseCombo = (data, fn: (param: any) => boolean) => {\n  if (fn(data) === false) {\n    return;\n  }\n\n  if (data) {\n    const combos = data.get('combos');\n    if (combos.length === 0) {\n      return false;\n    }\n    each(combos, (child) => {\n      traverseCombo(child, fn);\n    });\n  }\n};\n\nexport default {\n  getDefaultCfg() {\n    return {\n      enableDelegate: false,\n      delegateStyle: {},\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      activeState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'combo:dragstart': 'onDragStart',\n      'combo:drag': 'onDrag',\n      'combo:dragend': 'onDragEnd',\n      'combo:drop': 'onDrop',\n      'node:drop': 'onNodeDrop',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n    };\n  },\n  validationCombo(evt: IG6GraphEvent) {\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return false;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return false;\n    }\n\n    const type = item.getType();\n\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  onDragStart(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    const { item } = evt;\n\n    if (!this.validationCombo(evt)) return;\n\n    this.targets = [];\n\n    //  Combo\n    const combos = graph.findAllByState('combo', this.selectedState);\n\n    const currentCombo = item.get('id');\n\n    const dragCombos = combos.filter((combo) => {\n      const comboId = combo.get('id');\n      return currentCombo === comboId;\n    });\n\n    if (dragCombos.length === 0) {\n      this.targets.push(item);\n    } else {\n      this.targets = combos;\n    }\n\n    if (this.activeState) {\n      this.targets.map((combo: ICombo) => {\n        const model = combo.getModel() as ComboConfig;\n        if (model.parentId) {\n          const parentCombo = graph.findById(model.parentId);\n          if (parentCombo) {\n            graph.setItemState(parentCombo, this.activeState, true);\n          }\n        }\n      });\n    }\n\n    this.point = {};\n    this.originPoint = {};\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.currentItemChildCombos = [];\n\n    traverseCombo(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      const model = param.getModel();\n      this.currentItemChildCombos.push(model.id);\n      return true;\n    });\n  },\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    if (this.enableDelegate) {\n      this.updateDelegate(evt);\n    } else {\n      if (this.activeState) {\n        const graph: IGraph = this.graph;\n        const item: Item = evt.item;\n        const model = item.getModel();\n        // \n        const combos = graph.getCombos();\n        const sourceBBox = item.getBBox();\n\n        const { centerX, centerY, width } = sourceBBox;\n\n        //  Combo\n        // 1 combo \n        // 2 combo  parent\n        // 3 Combo  children\n\n        const calcCombos = combos.filter((combo) => {\n          const cmodel = combo.getModel() as ComboConfig;\n          //  Combo parent\n          if (!model.parentId) {\n            return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n          }\n          return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n        });\n\n        calcCombos.map((combo) => {\n          const { centerX: cx, centerY: cy, width: w } = combo.getBBox();\n\n          //  combo  combo \n          const disX = centerX - cx;\n          const disY = centerY - cy;\n          // \n          const distance = 2 * Math.sqrt(disX * disX + disY * disY);\n\n          if (width + w - distance > 0.8 * width) {\n            graph.setItemState(combo, this.activeState, true);\n          } else {\n            graph.setItemState(combo, this.activeState, false);\n          }\n        });\n      }\n\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    //  delegate  combo\n    if (this.enableDelegate) {\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  onDrop(evt: IG6GraphEvent) {\n    //  combo\n    const { item } = evt;\n    if (!item || !this.targets || item.destroyed) {\n      return;\n    }\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    const targetModel = item.getModel();\n\n    this.targets.map((combo: ICombo) => {\n      const model = combo.getModel();\n      if (model.parentId !== targetModel.id) {\n        if (this.activeState) {\n          graph.setItemState(item, this.activeState, false);\n        }\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo, targetModel.id);\n        } else {\n          graph.updateCombo(combo);\n        }\n      } else {\n        graph.updateCombo(item as ICombo);\n      }\n    });\n\n    this.end(item, evt);\n\n    // \n    this.endComparison = true;\n  },\n  onNodeDrop(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    const graph: IGraph = this.graph;\n\n    const item = evt.item as INode;\n    const comboId = item.getModel().comboId as string;\n    let droppedCombo;\n    //  comboId comboId  combo  id  comboId\n    if (comboId) {\n      if (this.activeState) {\n        const combo = graph.findById(comboId);\n        graph.setItemState(combo, this.activeState, false);\n      }\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          if (comboId !== combo.getID()) {\n            droppedCombo = graph.findById(comboId);\n            if (comboId !== combo.getModel().parentId) graph.updateComboTree(combo, comboId);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    } else {\n      //  comboId combo  id undefined\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          const model = combo.getModel();\n          if (model.comboId) {\n            graph.updateComboTree(combo);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    // \n    this.endComparison = true;\n    this.end(droppedCombo, evt);\n  },\n  onDragEnter(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const { item } = evt;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, true);\n    }\n  },\n  onDragLeave(evt) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const item = evt.item as ICombo;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, false);\n    }\n  },\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    const item = evt.item;\n    this.updatePositions(evt);\n    const parentCombo = this.getParentCombo(item.getModel().parentId);\n    const graph: IGraph = this.graph;\n    if (parentCombo && this.activeState) {\n      graph.setItemState(parentCombo, this.activeState, false);\n    }\n    this.end(undefined, evt);\n  },\n\n  end(comboDropedOn: ICombo | undefined, evt: IG6GraphEvent) {\n    if (!this.origin) return;\n    const graph: IGraph = this.graph;\n\n    // delegate shape\n    if (this.delegateShape) {\n      const delegateGroup = graph.get('delegateGroup');\n      delegateGroup.clear();\n      this.delegateShape = null;\n    }\n\n    if (comboDropedOn && this.activeState) {\n      graph.setItemState(comboDropedOn, this.activeState, false);\n    }\n    //  combo\n    if (!comboDropedOn) {\n      this.targets.map((combo: ICombo) => {\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo);\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    this.point = [];\n    this.origin = null;\n    this.originPoint = null;\n    this.targets.length = 0;\n  },\n\n  /**\n   *  comboTree node  combo\n   * @param data\n   * @param fn\n   */\n  traverse<T extends Item>(data: T, fn: (param: T) => boolean) {\n    if (fn(data) === false) {\n      return;\n    }\n\n    if (data) {\n      const combos = data.get('combos');\n      each(combos, (child) => {\n        this.traverse(child, fn);\n      });\n\n      const nodes = data.get('nodes');\n      each(nodes, (child) => {\n        this.traverse(child, fn);\n      });\n    }\n  },\n\n  updateCombo(item: ICombo, evt: IG6GraphEvent) {\n    this.traverse(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      this.updateSignleItem(param, evt);\n      return true;\n    });\n  },\n\n  /**\n   *\n   * @param item \n   * @param evt\n   */\n  updateSignleItem(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const graph: IGraph = this.graph;\n    const model = item.getModel() as ComboConfig;\n    const itemId = item.get('id');\n\n    if (!this.point[itemId]) {\n      this.point[itemId] = {\n        x: model.x,\n        y: model.y,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[itemId].x;\n    const y: number = evt.y - origin.y + this.point[itemId].y;\n\n    graph.updateItem(item, { x, y });\n  },\n\n  /**\n   *  ID  Combo\n   * @param parentId  Combo ID\n   */\n  getParentCombo(parentId: string): ICombo | undefined {\n    const graph: IGraph = this.graph;\n    if (!parentId) {\n      return undefined;\n    }\n\n    const parentCombo = graph.findById(parentId) as ICombo;\n    if (!parentCombo) {\n      return undefined;\n    }\n\n    return parentCombo;\n  },\n\n  updateDelegate(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    //  delegate shape \n    if (!this.delegateShape) {\n      const delegateGroup: IGroup = graph.get('delegateGroup');\n\n      let bbox = null;\n      if (this.targets.length > 1) {\n        bbox = calculationItemsBBox(this.targets);\n      } else {\n        bbox = this.targets[0].getBBox();\n      }\n\n      const { x, y, width, height, minX, minY } = bbox;\n\n      this.originPoint = { x, y, width, height, minX, minY };\n\n      const attrs = { ...Global.delegateStyle, ...this.delegateStyle };\n\n      this.delegateShape = delegateGroup.addShape('rect', {\n        attrs: {\n          width: bbox.width,\n          height: bbox.height,\n          x: bbox.x,\n          y: bbox.y,\n          ...attrs,\n        },\n        name: 'combo-delegate-shape',\n      });\n    } else {\n      const clientX = evt.x - this.origin.x + this.originPoint.minX;\n      const clientY = evt.y - this.origin.y + this.originPoint.minY;\n\n      this.delegateShape.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n};\n","/*\n * @Author: Shiwu\n * @Description:  Combo\n */\n\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'dblclick';\nconst ALLOW_EVENTS = ['click', 'dblclick'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      relayout: true,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      trigger = this.trigger;\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior collapse-expand-group  trigger  'click'  'dblclick'\",\n      );\n    }\n    return {\n      [`combo:${trigger}`]: 'onComboClick',\n    };\n  },\n  onComboClick(evt: IG6GraphEvent) {\n    const { item } = evt;\n    const { graph, relayout } = this;\n\n    if (!item || item.destroyed || item.getType() !== 'combo') return;\n    const model = item.getModel();\n    const comboId = model.id;\n    if (!comboId) {\n      return;\n    }\n    graph.collapseExpandCombo(comboId);\n    if (relayout && graph.get('layout')) graph.layout();\n    else graph.refreshPositions();\n  },\n};\n","import { G6Event, IG6GraphEvent, EdgeConfig } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'drag'];\nconst DEFAULT_KEY = undefined;\nconst ALLOW_KEYS = ['shift', 'ctrl', 'control', 'alt', 'meta', undefined];\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      key: DEFAULT_KEY,\n      edgeConfig: {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n    // \n    if (!(ALLOW_EVENTS.indexOf(self.trigger.toLowerCase()) > -1)) {\n      self.trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior create-edge  trigger  'click''drag'\");\n    }\n    if (self.key && ALLOW_KEYS.indexOf(self.key.toLowerCase()) === -1) {\n      self.trigger = DEFAULT_KEY;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior create-edge  key  'shift''ctrl''alt''control' undefined\",\n      );\n    }\n    let events;\n    if (self.trigger === 'drag') {\n      events = {\n        'node:dragstart': 'onClick',\n        'combo:dragstart': 'onClick',\n        drag: 'updateEndPoint',\n        'node:drop': 'onClick',\n        'combo:drop': 'onClick',\n        dragend: 'onDragEnd',\n      };\n    } else if (self.trigger === 'click') {\n      events = {\n        'node:tap': 'onClick', // The event is node:click, the responsing function is onClick\n        mousemove: 'updateEndPoint', // The event is mousemove, the responsing function is onMousemove\n        'edge:tap': 'cancelCreating', // The event is edge:click, the responsing function is onEdgeClick\n        'canvas:tap': 'cancelCreating',\n        'combo:tap': 'onClick',\n      };\n    }\n    if (self.key) {\n      events.keydown = 'onKeyDown';\n      events.keyup = 'onKeyUp';\n    }\n    return events;\n  },\n  onDragEnd(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const { item } = ev;\n    if (!item || item.getID() === self.source || item.getType() !== 'node')\n      self.cancelCreating({\n        item: self.edge,\n        x: ev.x,\n        y: ev.y,\n      });\n  },\n  // \n  onClick(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const node = ev.item;\n    const graph: IGraph = self.graph;\n    const model = node.getModel();\n    // \n    if (self.addingEdge && self.edge) {\n      if (!self.shouldEnd.call(self, ev)) return;\n      const updateCfg: EdgeConfig = {\n        target: model.id,\n      };\n      if (self.source === model.id) {\n        updateCfg.type = 'loop';\n      }\n\n      graph.emit('beforecreateedge', {});\n\n      graph.updateItem(self.edge, updateCfg);\n\n      graph.emit('aftercreateedge', {\n        edge: self.edge,\n      });\n\n      //  capture  true\n      self.edge.getKeyShape().set('capture', true);\n\n      self.edge = null;\n      self.addingEdge = false;\n    } else {\n      // \n      if (!self.shouldBegin.call(self, ev)) return;\n      self.edge = graph.addItem(\n        'edge',\n        {\n          source: model.id,\n          target: model.id,\n          ...self.edgeConfig,\n        },\n        false,\n      );\n      self.source = model.id;\n      self.addingEdge = true;\n      //  capture  false\n      self.edge.getKeyShape().set('capture', false);\n    }\n  },\n  // \n  updateEndPoint(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const point = { x: ev.x, y: ev.y };\n\n    //  source \n    if (!self.graph.findById(self.source)) {\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.updateItem(\n        self.edge,\n        {\n          target: point,\n        },\n        false,\n      );\n    }\n  },\n  // \n  cancelCreating(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const graph: IGraph = self.graph;\n    const currentEdge = ev.item;\n    if (self.addingEdge && ev.target && ev.target.isCanvas && ev.target.isCanvas()) {\n      graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge === currentEdge) {\n      let cancelEdge = true;\n      // !graph.get('groupByTypes')  click \n      if (!graph.get('groupByTypes')) {\n        // \n        const { x, y } = ev;\n        const nodes = graph.getNodes();\n        const length = nodes.length;\n        for (let i = 0; i < length; i++) {\n          const node = nodes[i];\n          const model = node.getModel();\n          const nodeBBox = node.getBBox();\n          if (\n            x <= nodeBBox.maxX &&\n            x >= nodeBBox.minX &&\n            y <= nodeBBox.maxY &&\n            y >= nodeBBox.minY\n          ) {\n            if (\n              !self.shouldEnd.call(self, {\n                x: ev.x,\n                y: ev.y,\n                canvasX: ev.canvasX,\n                canvasY: ev.canvasY,\n                clientX: ev.clientX,\n                clientY: ev.clientY,\n                item: node,\n              })\n            ) {\n              return;\n            }\n\n            graph.emit('beforecreateedge', {});\n\n            graph.updateItem(self.edge, {\n              target: model.id,\n            });\n            graph.emit('aftercreateedge', {\n              edge: self.edge,\n            });\n            cancelEdge = false;\n            break;\n          }\n        }\n      }\n      if (cancelEdge) graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n    }\n  },\n\n  onKeyDown(e: IG6GraphEvent) {\n    const self = this;\n    const code = e.key;\n    if (!code) {\n      return;\n    }\n    if (code.toLowerCase() === self.key.toLowerCase()) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp() {\n    const self = this;\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.removeItem(self.edge, false);\n      self.addingEdge = false;\n      self.edge = null;\n    }\n    this.keydown = false;\n  },\n};\n","import { each } from '@antv/util';\nimport { IAbstractGraph, G6Event } from '@antv/f6-core';\n\nexport default {\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind(graph: IAbstractGraph) {\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', true);\n    }\n    const { events } = this;\n    this.graph = graph;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.on(event, handler);\n    });\n  },\n\n  unbind(graph: IAbstractGraph) {\n    const { events } = this;\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', false);\n    }\n    this.graph = null;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.off(event, handler);\n    });\n  },\n};\n","import { each } from '@antv/util';\nimport { registerBehavior } from '@antv/f6-core';\nimport DragCanvas from './drag-canvas';\nimport DragNode from './drag-node';\nimport ActivateRelations from './activate-relations';\nimport ClickSelect from './click-select';\nimport ZoomCanvas from './zoom-canvas';\nimport CollapseExpand from './collapse-expand';\nimport DragCombo from './drag-combo';\nimport CollapseExpandCombo from './collapse-expand-combo';\nimport CreateEdge from './create-edge';\nimport mobileBehavior from './mobile-behavior';\n\nconst behaviors = {\n  'drag-canvas': DragCanvas,\n  'zoom-canvas': ZoomCanvas,\n  'drag-node': DragNode,\n  'activate-relations': ActivateRelations,\n  'click-select': ClickSelect,\n  'collapse-expand': CollapseExpand,\n  'drag-combo': DragCombo,\n  'collapse-expand-combo': CollapseExpandCombo,\n  'create-edge': CreateEdge,\n};\n\neach(behaviors, (behavior, type: string) => {\n  registerBehavior(type, { ...behavior, ...mobileBehavior });\n});\n\n// export default Behavior;\n","import { G6Event, IG6GraphEvent, INode } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      activeState: 'active',\n      inactiveState: 'inactive',\n      resetSelected: false,\n      shouldUpdate() {\n        return true;\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:tap': 'setAllItemStates',\n      'canvas:tap': 'clearAllItemStates',\n    };\n  },\n  setAllItemStates(e: IG6GraphEvent) {\n    const self = this;\n    const item: INode = e.item as INode;\n    const graph = self.graph;\n    self.item = item;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'activate' })) {\n      return;\n    }\n    const activeState = self.activeState;\n    const inactiveState = self.inactiveState;\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      const hasSelected = node.hasState('selected');\n      if (self.resetSelected) {\n        if (hasSelected) {\n          graph.setItemState(node, 'selected', false);\n        }\n      }\n      graph.setItemState(node, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(node, inactiveState, true);\n      }\n    }\n\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.setItemState(edge, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(edge, inactiveState, true);\n      }\n    }\n\n    if (inactiveState) {\n      graph.setItemState(item, inactiveState, false);\n    }\n    graph.setItemState(item, activeState, true);\n\n    const rEdges = item.getEdges();\n    const rEdgeLegnth = rEdges.length;\n    for (let i = 0; i < rEdgeLegnth; i++) {\n      const edge = rEdges[i];\n      let otherEnd;\n      if (edge.getSource() === item) {\n        otherEnd = edge.getTarget();\n      } else {\n        otherEnd = edge.getSource();\n      }\n      if (inactiveState) {\n        graph.setItemState(otherEnd, inactiveState, false);\n      }\n      graph.setItemState(otherEnd, activeState, true);\n      graph.setItemState(edge, inactiveState, false);\n      graph.setItemState(edge, activeState, true);\n      edge.toFront();\n    }\n    graph.emit('afteractivaterelations', { item: e.item, action: 'activate' });\n  },\n  clearActiveState(e: any) {\n    const self = this;\n    const graph = self.get('graph');\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const autoPaint = graph.get('autoPaint');\n    graph.setAutoPaint(false);\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n    graph.paint();\n    graph.setAutoPaint(autoPaint);\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n  clearAllItemStates(e: any) {\n    const self = this;\n    const graph = self.graph;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n};\n"],"sourceRoot":""}