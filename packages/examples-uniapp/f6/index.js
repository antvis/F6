!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.f6=e():t.f6=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=246)}([function(t,e,n){"use strict";n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return w})),n.d(e,"x",(function(){return M})),n.d(e,"e",(function(){return i})),n.d(e,"i",(function(){return S})),n.d(e,"J",(function(){return C})),n.d(e,"f",(function(){return k})),n.d(e,"t",(function(){return T})),n.d(e,"z",(function(){return v})),n.d(e,"A",(function(){return y})),n.d(e,"C",(function(){return P})),n.d(e,"G",(function(){return N})),n.d(e,"I",(function(){return I})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return B})),n.d(e,"n",(function(){return D})),n.d(e,"q",(function(){return s})),n.d(e,"r",(function(){return u})),n.d(e,"s",(function(){return E})),n.d(e,"u",(function(){return h})),n.d(e,"v",(function(){return g})),n.d(e,"w",(function(){return x})),n.d(e,"b",(function(){return W})),n.d(e,"c",(function(){return q})),n.d(e,"d",(function(){return f})),n.d(e,"k",(function(){return G})),n.d(e,"o",(function(){return V})),n.d(e,"p",(function(){return Z})),n.d(e,"y",(function(){return Q})),n.d(e,"B",(function(){return X})),n.d(e,"a",(function(){return X})),n.d(e,"g",(function(){return K})),n.d(e,"F",(function(){return $})),n.d(e,"H",(function(){return tt})),n.d(e,"D",(function(){return et})),n.d(e,"E",(function(){return nt}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},o={}.toString,a=function(t,e){return o.call(t)==="[object "+e+"]"},s=function(t){return a(t,"Function")},u=function(t){return null==t},c=function(t){return Array.isArray?Array.isArray(t):a(t,"Array")};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=function(t){var e=l(t);return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(c(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(h(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=function(t){return"object"===d(t)&&null!==t},g=function(t){if(!p(t)||!a(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var v=function(t){if(c(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},y=function(t){if(c(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},m=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(c(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=v(e);return{min:y(e),max:i}},b=Array.prototype,x=(b.splice,b.indexOf,Array.prototype.splice,function(t){return a(t,"String")});function w(t){if(r(t))return t[0]}function M(t){if(r(t)){return t[t.length-1]}}var O=Object.prototype.hasOwnProperty;var S=function(t,e){if(!e||!c(t))return{};for(var n,r={},i=s(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),O.call(r,n)?r[n].push(a):r[n]=[a]}return r};var C=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var k=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},E=function(t){return a(t,"Number")};Number.isInteger&&Number.isInteger;function T(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var P=function(t,e){return(t%e+e)%e},j=(Math.PI,parseInt,Math.PI/180),N=function(t){return j*t},A=(Object.values,function(t){return u(t)?"":t.toString()});var I=function(t){var e=A(t);return e.charAt(0).toUpperCase()+e.substring(1)},_={}.toString,L=function(t){return _.call(t).replace(/^\[object /,"").replace(/]$/,"")},B=function(t){return a(t,"Boolean")},D=function(t){return a(t,"Date")},R=Object.prototype,Y=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||R)};function F(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function X(t,e,n,r){return e&&F(t,e),n&&F(t,n),r&&F(t,r),t}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var W=function t(e){if("object"!==z(e)||null===e)return e;var n;if(c(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===z(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===z(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};function H(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&g(o)?(g(t[i])||(t[i]={}),n<r?H(t[i],o,n+1,r):t[i]=e[i]):c(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var q=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)H(t,e[r]);return t},G=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},U=Object.prototype.hasOwnProperty;var V=function(t){if(u(t))return!0;if(r(t))return!t.length;var e=L(t);if("Map"===e||"Set"===e)return!t.size;if(Y(t))return!Object.keys(t).length;for(var n in t)if(U.call(t,n))return!1;return!0},Z=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(x(e)||x(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(p(e)||p(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},Q=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},K=function(t,e,n){for(var r=0,i=x(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},$=(Object.prototype.hasOwnProperty,function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=e-(c-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}),J={},tt=function(t){return J[t=t||"g"]?J[t]+=1:J[t]=1,t+J[t]},et=function(){};function nt(t){return u(t)?0:r(t)?t.length:Object.keys(t).length}!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}()},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}Object.create},function(t,e,n){"use strict";n.d(e,"i",(function(){return Ct})),n.d(e,"h",(function(){return _e})),n.d(e,"d",(function(){return Le})),n.d(e,"m",(function(){return De})),n.d(e,"l",(function(){return Ut})),n.d(e,"g",(function(){return Gt})),n.d(e,"f",(function(){return Vt})),n.d(e,"j",(function(){return be})),n.d(e,"k",(function(){return Be})),n.d(e,"r",(function(){return We})),n.d(e,"p",(function(){return qe})),n.d(e,"b",(function(){return we})),n.d(e,"n",(function(){return Fe})),n.d(e,"q",(function(){return He})),n.d(e,"o",(function(){return Ge})),n.d(e,"c",(function(){return Xe})),n.d(e,"a",(function(){return ze})),n.d(e,"e",(function(){return Ue}));var r={};n.r(r),n.d(r,"compare",(function(){return m})),n.d(r,"getLineIntersect",(function(){return x})),n.d(r,"getRectIntersectByPoint",(function(){return w})),n.d(r,"getCircleIntersectByPoint",(function(){return M})),n.d(r,"getEllipseIntersectByPoint",(function(){return O})),n.d(r,"applyMatrix",(function(){return S})),n.d(r,"invertMatrix",(function(){return C})),n.d(r,"getCircleCenterByPoints",(function(){return k})),n.d(r,"distance",(function(){return E})),n.d(r,"scaleMatrix",(function(){return T})),n.d(r,"floydWarshall",(function(){return P})),n.d(r,"getAdjMatrix",(function(){return j})),n.d(r,"translate",(function(){return N})),n.d(r,"move",(function(){return A})),n.d(r,"scale",(function(){return I})),n.d(r,"rotate",(function(){return _})),n.d(r,"getDegree",(function(){return L})),n.d(r,"isPointInPolygon",(function(){return D})),n.d(r,"intersectBBox",(function(){return R})),n.d(r,"isPolygonsIntersect",(function(){return Y})),n.d(r,"Line",(function(){return F})),n.d(r,"getBBoxBoundLine",(function(){return X})),n.d(r,"itemIntersectByLine",(function(){return W})),n.d(r,"fractionToLine",(function(){return H})),n.d(r,"getPointsCenter",(function(){return q})),n.d(r,"squareDist",(function(){return G})),n.d(r,"pointLineSquareDist",(function(){return U})),n.d(r,"isPointsOverlap",(function(){return V})),n.d(r,"pointRectSquareDist",(function(){return Z})),n.d(r,"pointLineDistance",(function(){return Q}));var i={};n.r(i),n.d(i,"getBBox",(function(){return ct})),n.d(i,"getLoopCfgs",(function(){return lt})),n.d(i,"getLabelPosition",(function(){return ht})),n.d(i,"traverseTree",(function(){return dt})),n.d(i,"traverseTreeUp",(function(){return pt})),n.d(i,"getLetterWidth",(function(){return gt})),n.d(i,"getTextSize",(function(){return vt})),n.d(i,"plainCombosToTrees",(function(){return yt})),n.d(i,"reconstructTree",(function(){return mt})),n.d(i,"getComboBBox",(function(){return bt})),n.d(i,"shouldRefreshEdge",(function(){return xt})),n.d(i,"cloneBesidesImg",(function(){return wt}));var o={};n.r(o),n.d(o,"uniqueId",(function(){return kt})),n.d(o,"formatPadding",(function(){return Et})),n.d(o,"cloneEvent",(function(){return Tt})),n.d(o,"isViewportChanged",(function(){return Pt})),n.d(o,"isNaN",(function(){return jt})),n.d(o,"calculationItemsBBox",(function(){return Nt})),n.d(o,"processParallelEdges",(function(){return At}));var a={};n.r(a),n.d(a,"getSpline",(function(){return te})),n.d(a,"getControlPoint",(function(){return ee})),n.d(a,"pointsToPolygon",(function(){return ne})),n.d(a,"pathToPoints",(function(){return re})),n.d(a,"getClosedSpline",(function(){return ie})),n.d(a,"roundedHull",(function(){return ue})),n.d(a,"paddedHull",(function(){return ce}));var s={};n.r(s),n.d(s,"defaultSubjectColors",(function(){return Re}));var u=n(0),c={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),Object(u.d)(e,(function(e,n){t.on(n,e)}))},unbind:function(t){var e=this.events;"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),Object(u.d)(e,(function(e,n){t.off(n,e)}))},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},l=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: "+e);var r=Object(u.b)(c);Object.assign(r,n);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var r={};n&&(Object(u.d)(n,(function(t,n){r[n]=Object(u.J)(e,t)})),this.events=r)};i.prototype=r,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),h=l,f=n(1),d=n(90),p=n(26),g=n(4),v=n(31),y=g.a.transform,m=function(t){return function(e,n){return e[t]-n[t]}},b=function(t,e,n){return t>=e&&t<=n},x=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,c=r.y-n.y,l=a*c-s*u,h=1/l;if(l*l>1e-4*(a*a+s*s)*(u*u+c*c)){var f=(i*c-o*u)*h,d=(i*s-o*a)*h;return b(f,0,1)&&b(d,0,1)?{x:t.x+f*a,y:t.y+f*s}:null}return null},w=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=x(a[c-1],a[c],s,e));c++);return u},M=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x-n,a=e.y-r;if(Math.sqrt(o*o+a*a)<i)return null;var s=Math.sign(o),u=Math.sign(a),c=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(c))*s,y:r+Math.abs(i*Math.sin(c))*u}},O=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},S=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),g.d.transformMat3(r,r,e),{x:r[0],y:r[1]}},C=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=g.b.invert([1,0,0,0,1,0,0,0,1],e);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return g.d.transformMat3(i,i,r),{x:i[0],y:i[1]}},k=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=i*o-r*a;return{x:-(a*s-i*u)/c,y:-(r*u-o*s)/c}},E=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},T=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n},P=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},j=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)})),i},N=function(t,e){t.translate(e.x,e.y)},A=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getCanvasBBox(),i=e.x-r.minX,o=e.y-r.minY,a=y(n,[["t",i,o]]);t.setMatrix(a)},I=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e;Object(u.l)(e)||(r=[e,e]),Object(u.l)(e)&&1===e.length&&(r=[e[0],e[0]]),n=y(n,[["s",r[0],r[1]]]),t.setMatrix(n)},_=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=y(n,[["r",e]]),t.setMatrix(n)},L=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r};function B(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var D=function(t,e,n){var r=!1,i=t.length;function o(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=t[a],u=t[(a+1)%i];if(B(s,u,[e,n]))return!0;o(s[1]-n)>0!=o(u[1]-n)>0&&o(e-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},R=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},Y=function(t,e){var n=function(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=n(t),o=n(e);if(!R(i,o))return!1;var a=!1;if(Object(u.d)(e,(function(e){if(D(t,e[0],e[1]))return a=!0,!1})),a)return!0;if(Object(u.d)(t,(function(t){if(D(e,t[0],t[1]))return a=!0,!1})),a)return!0;var s=r(t),c=r(e),l=!1;return Object(u.d)(c,(function(t){if(function(t,e){var n=!1;return Object(u.d)(t,(function(t){if(x(t.from,t.to,e.from,e.to))return n=!0,!1})),n}(s,t))return l=!0,!1})),l},F=function(){function t(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},t}(),X=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},z=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},W=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=X(r,n[a]),u=s[0],c=s[1],l=s[2],h=s[3];o[a]=x({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:c},{x:l,y:h}),o[a]&&(i+=1)}return[o,i]},H=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=X(r,n[a]),u=s[0],c=s[1],l=s[2],h=s[3],f=z(e,new F(u,c,l,h));(f=Math.abs(f-.5))>=0&&f<=1&&(o+=1,i=f<i?f:i)}return 0===o?-1:i},q=function(t){var e=0,n=0;if(t.length>0){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},G=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},U=function(t,e){var n,r=e.x1,i=e.y1,o=e.x2-r,a=e.y2-i,s=t.x-r,u=t.y-i,c=s*o+u*a;n=c<=0||(c=(s=o-s)*o+(u=a-u)*a)<=0?0:c*c/(o*o+a*a);var l=s*s+u*u-n;return l<0&&(l=0),l},V=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},Z=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s},Q=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e.x,s=e.y,u=[i-n,o-r];if(g.c.exactEquals(u,[0,0]))return NaN;var c=[-u[1],u[0]];g.c.normalize(c,c);var l=[a-n,s-r];return Math.abs(g.c.dot(l,c))},K="rgb(95, 149, 255)",$="rgb(253, 253, 253)",J="rgb(247, 250, 255)",tt="rgb(224, 224, 224)",et="rgb(224, 224, 224)",nt={version:"0.3.0",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:K,fill:"rgb(239, 244, 255)"},size:20,color:K,linkPoints:{size:8,lineWidth:1,fill:J,stroke:K}},nodeStateStyles:{active:{fill:J,stroke:K,lineWidth:2,shadowColor:K,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:K,lineWidth:4,shadowColor:K,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:tt,lineAppendWidth:2},color:tt},edgeStateStyles:{active:{stroke:K,lineWidth:1},selected:{stroke:K,lineWidth:2,shadowColor:K,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:K,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:$,lineWidth:1,stroke:et,r:5,width:20,height:10},size:[20,5],color:et,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:K,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:K,lineWidth:2,fill:$,shadowColor:K,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:$,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:$,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},rt={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},it=Math.PI,ot=Math.sin,at=Math.cos,st=ot(it/8),ut=at(it/8),ct=function(t,e){var n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=S(r,o),i=S(i,o)}var a=r.x,s=r.y,u=i.x,c=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},lt=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e.getKeyShape().getBBox(),i=t.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||nt.defaultLoopPosition,s=[n[6],n[7]],u=[t.startPoint.x,t.startPoint.y],c=[t.endPoint.x,t.endPoint.y],l=r.height/2,h=r.height/2,f=l*st,d=l*ut,p=h*st,v=h*ut;if(u[0]===c[0]&&u[1]===c[1]){switch(a){case"top":u=[s[0]-f,s[1]-d],c=[s[0]+p,s[1]-v];break;case"top-right":l=r.height/2,h=r.width/2,u=[s[0]+(f=l*st),s[1]-(d=l*ut)],c=[s[0]+(v=h*ut),s[1]-(p=h*st)];break;case"right":l=r.width/2,h=r.width/2,u=[s[0]+(d=l*ut),s[1]-(f=l*st)],c=[s[0]+(v=h*ut),s[1]+(p=h*st)];break;case"bottom-right":l=r.width/2,h=r.height/2,u=[s[0]+(d=l*ut),s[1]+(f=l*st)],c=[s[0]+(p=h*st),s[1]+(v=h*ut)];break;case"bottom":l=r.height/2,h=r.height/2,u=[s[0]+(f=l*st),s[1]+(d=l*ut)],c=[s[0]-(p=h*st),s[1]+(v=h*ut)];break;case"bottom-left":l=r.height/2,h=r.width/2,u=[s[0]-(f=l*st),s[1]+(d=l*ut)],c=[s[0]-(v=h*ut),s[1]+(p=h*st)];break;case"left":l=r.width/2,h=r.width/2,u=[s[0]-(d=l*ut),s[1]+(f=l*st)],c=[s[0]-(v=h*ut),s[1]-(p=h*st)];break;case"top-left":l=r.width/2,h=r.height/2,u=[s[0]-(d=l*ut),s[1]-(f=l*st)],c=[s[0]-(p=h*st),s[1]-(v=h*ut)];break;default:l=r.width/2,h=r.width/2,u=[s[0]-(f=l*st),s[1]-(d=l*ut)],c=[s[0]+(p=h*st),s[1]-(v=h*ut)]}if(!1===i.clockwise){var y=[u[0],u[1]];u=[c[0],c[1]],c=[y[0],y[1]]}}var m=[u[0]-s[0],u[1]-s[1]],b=(l+o)/l,x=(h+o)/h;!1===i.clockwise&&(b=(h+o)/h,x=(l+o)/l);var w=g.c.scale([0,0],m,b),M=[s[0]+w[0],s[1]+w[1]],O=[c[0]-s[0],c[1]-s[1]],S=g.c.scale([0,0],O,x),C=[s[0]+S[0],s[1]+S[1]];return t.startPoint={x:u[0],y:u[1]},t.endPoint={x:c[0],y:c[1]},t.controlPoints=[{x:M[0],y:M[1]},{x:C[0],y:C[1]}],t},ht=function(t,e,n,r,i){var o=[],a=t.getPoint(e);if(null===a)return{x:0,y:0,angle:0};if(e<1e-4)o=t.getStartTangent().reverse();else if(e>.9999)o=t.getEndTangent();else{var s=t.getPoint(e+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var u=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(u<0&&(u+=2*it),n&&(a.x+=at(u)*n,a.y+=ot(u)*n),r){var c=u-it/2;u>.5*it&&u<1.5*it&&(c-=it),a.x+=at(c)*r,a.y+=ot(c)*r}var l={x:a.x,y:a.y,angle:u};return i?(u>.5*it&&u<1.5*it&&(u-=it),Object(f.a)({rotate:u},l)):l},ft=function t(e,n){if(!1===n(e))return!1;if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return!1;return!0},dt=function(t,e){"function"==typeof e&&ft(t,e)},pt=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!1!==n(e)}(t,e)},gt=function(t,e){return e*(rt[t]||1)},vt=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach((function(t){r.test(t)?n+=e:n+=gt(t,e)})),[n,e]},yt=function(t,e){var n=[],r={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=Object(u.b)(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo "+o.id+" can not be the same as the combo's id"),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo "+o.id+" does not exist!"),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var c={id:a.parentId,children:[a]};r[a.parentId]=c,r[o.id]=o}}else if(Object(u.w)(t.parentId)){var l=r[t.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var h={id:t.parentId,children:[o]};r[h.id]=h,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(e||[]).forEach((function(t){o[t.id]=t;var e=r[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",r[t.id]=n}}));var a=0;return n.forEach((function(t){t.depth=a+10,ft(t,(function(t){var e,n=r[t.id].itemType;e="node"===n?r[t.comboId]:r[t.parentId],t.depth=e&&"node"===n?a+1:a+10,a<t.depth&&(a=t.depth);var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),n},mt=function(t,e,n){var r,i=t,o={root:{children:t}},a=!1,s="root";(t||[]).forEach((function(t){if(!a)return t.id===e?(r=t,"combo"===t.itemType?r.parentId=n:r.comboId=n,void(a=!0)):void dt(t,(function(t){return o[t.id]={children:t.children},i=o[t.parentId||t.comboId||"root"].children,!t||!t.removed&&e!==t.id||!i||(s=t.parentId||t.comboId||"root",r=t,"combo"===t.itemType?r.parentId=n:r.comboId=n,a=!0,!1)}))}));var u=(i=o[s].children)?i.indexOf(r):-1;if(u>-1&&i.splice(u,1),a||(r={id:e,itemType:"node",comboId:n},o[e]={children:void 0}),e){var c=!1;if(n){var l=0;(t||[]).forEach((function(t){c||dt(t,(function(t){return n!==t.id||(c=!0,t.children?t.children.push(r):t.children=[r],l=t.depth,"node"===r.itemType?r.depth=l+2:r.depth=l+1,!1)}))}))}else n&&c||"node"===r.itemType||t.push(r);var h=r.depth;dt(r,(function(t){return"node"===t.itemType?h+=2:h+=1,t.depth=h,!0}))}return t},bt=function(t,e){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return t&&0!==t.length?(t.forEach((function(t){var r=e.findById(t.id);if(r&&r.isVisible()){r.set("bboxCanvasCache",void 0);var i=r.getCanvasBBox();i.x&&n.minX>i.minX&&(n.minX=i.minX),i.y&&n.minY>i.minY&&(n.minY=i.minY),i.x&&n.maxX<i.maxX&&(n.maxX=i.maxX),i.y&&n.maxY<i.maxY&&(n.maxY=i.maxY)}})),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,Object.keys(n).forEach((function(t){n[t]!==1/0&&n[t]!==-1/0||(n[t]=void 0)})),n):n},xt=function(t){var e=Object(u.s)(t.x)||Object(u.s)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||Object(u.s)(t.style.r)||Object(u.s)(t.style.width)||Object(u.s)(t.style.height)||Object(u.s)(t.style.rx)||Object(u.s)(t.style.ry)),e},wt=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];if(Object(u.u)(r)){var i={};Object.keys(r).forEach((function(t){var e=r[t];("img"!==t||Object(u.w)(e))&&(i[t]=Object(u.b)(e))})),e[n]=i}else e[n]=Object(u.b)(r)})),e},Mt=function(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var e=t.nodes,n=t.edges,r=t.combos,i=void 0===r?[]:r;if(!e&&!n){var o=!0;return dt(t,(function(t){return!!Object(u.w)(t.id)||(o=!1,!1)})),o}var a=(e||[]).find((function(t){return!Object(u.w)(t.id)}));if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+a.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var s=(e||[]).map((function(t){return t.id})),c=i.map((function(t){return t.id})),l=Object(f.f)(Object(f.f)([],s),c),h=(n||[]).find((function(t){return!l.includes(t.source)||!l.includes(t.target)}));return!h||(console.warn("G6 Warning Tips: The source %c"+h.source+"%c or the target %c"+h.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},Ot=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;Object(u.d)(t,(function(t){Object(u.d)(t,(function(e,n){Object(u.w)(e)&&(t[n]={type:e})}))}))},t.prototype.setBehaviors=function(t){var e,n=this.graph,r=this.modes[t],i=[];Object(u.d)(r||[],(function(t){var r=l.getBehavior(t.type||t);r&&(e=new r(t))&&(e.bind(n),i.push(e))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return Object(u.d)(e,(function(e){t.indexOf(e)<0&&(Object(u.w)(e)&&(e={type:e}),t.push(e))})),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach((function(t){var r="";r=Object(u.w)(t)?t:t.type,e.indexOf(r)<0&&n.push(t)})),n},t.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit("beforemodechange",{mode:t}),Object(u.d)(this.currentBehaves,(function(t){t.delegate&&t.delegate.remove(),t.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,r){var i,o=this;if(i=Object(u.l)(e)?e:[e],Object(u.l)(n))return Object(u.d)(n,(function(e){o.modes[e]?o.modes[e]=r?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):r&&(o.modes[e]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?t.mergeBehaviors(this.modes[a]||[],i):t.filterBehaviors(this.modes[a]||[],i),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){Object(u.w)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===t.type)return s.updateCfg(e),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),St=n(53),Ct=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.detail=n.detail,r}return Object(f.c)(e,t),e}(n(39).Event),kt=function(t){return t+"-"+Math.random()+Date.now()},Et=function(t){var e=0,n=0,r=0,i=0;if(Object(u.s)(t))e=n=r=i=t;else if(Object(u.w)(t)){e=n=r=i=parseInt(t,10)}else Object(u.l)(t)&&(e=t[0],r=Object(u.r)(t[1])?t[0]:t[1],i=Object(u.r)(t[2])?t[0]:t[2],n=Object(u.r)(t[3])?r:t[3]);return[e,r,i,n]},Tt=function(t){var e=new Ct(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},Pt=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},jt=function(t){return Number.isNaN(Number(t))},Nt=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY;s<e&&(e=s),u<r&&(r=u),c>n&&(n=c),l>i&&(i=l)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},At=function(t,e,n,r,i){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=t.length,a=2*e,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],l={},h=0;h<o;h++){var f=t[h],d=f.source,p=f.target,g=d+"-"+p;if(!c[h]){u[g]||(u[g]=[]),c[h]=!0,u[g].push(f);for(var v=0;v<o;v++)if(h!==v){var y=t[v],m=y.source,b=y.target;c[v]||(d===b&&p===m?(u[g].push(y),c[v]=!0,l[m+"|"+b+"|"+(u[g].length-1)]=!0):d===m&&p===b&&(u[g].push(y),c[v]=!0))}}}for(var x in u)for(var w=u[x],M=w.length,O=0;O<M;O++){var S=w[O];if(S.source!==S.target)if(1===M&&r&&S.source!==S.target)S.type=r;else{S.type=n;var C=(O%2==0?1:-1)*(l[S.source+"|"+S.target+"|"+O]?-1:1);S.curveOffset=M%2==1?C*Math.ceil(O/2)*a:C*(Math.floor(O/2)*a+e)}else i&&(S.type=i),S.loopCfg={position:s[O%8],dist:20*Math.floor(O/8)+50}}return t},It=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),r=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(){var t=this.graph,e=t.get("group");e.resetMatrix();var n=e.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;t.translate(r.x-i,r.y-o)}},t.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),n=t.get("width"),r=t.get("height"),i=t.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;t.translate(a.x-s,a.y-u);var c=(n-e[1]-e[3])/o.width,l=(r-e[0]-e[2])/o.height,h=c;c>l&&(h=l),t.zoom(h,a)}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return Et(t)},t.prototype.focusPoint=function(t,e,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],u=(o.y-t.y)*a[4],c=0,l=0,h=0,d=0;this.graph.get("canvas").animate((function(t){h=s*t,d=u*t,r.graph.translate(h-c,d-l),c=h,l=d}),Object(f.a)({},n))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),C({x:t,y:e},n)},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),S({x:t,y:e},n)},t.prototype.focus=function(t,e,n){if(Object(u.w)(t)&&(t=this.graph.findById(t)),t){var r=0,i=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),a=t.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=t.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},e,n)}},t.prototype.changeSize=function(t,e){var n=this.graph;if(!Object(u.s)(t)||!Object(u.s)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach((function(r){if(r.get("gridContainer")){var i=n.get("minZoom");Object(St.b)(r.get("container"),{width:t+"px",height:e+"px"}),Object(St.b)(r.get("gridContainer"),{width:t/i+"px",height:e/i+"px",left:0,top:0})}}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!=typeof n)return n;for(var r=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some((function(t){return r(a)===t}))},u=null,c=0,l="";c<i.length;){var h=i[c],f=s('"',"'");if(f||h.trim()){var d="\\"===i[c-1],p=s("}"),g=s("]"),v=s(","),y=r(o);if(f)if(r(a)!==h||d)l+=h;else{a.pop();var m=e(l);y.push(m),u=m,l=""}else if(g&&","===h)l&&(y.push(e(l)),l="");else if(p&&":"===h)a.push(","),l&&(y.push(l),l="");else if(v&&","===h)l&&(y.push(e(l)),l=""),a.pop();else if("}"===h&&(p||v)){l&&(y.push(e(l)),l=""),v&&a.pop();for(var b={},x=1;x<y.length;x+=2)b[y[x-1]]=y[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===h&&g?(l&&(y.push(e(l)),l=""),o.pop(),o.length&&r(o).push(y),a.pop(),u=y):"{"===h?(o.push([]),a.push("}")):"["===h?(o.push([]),a.push("]")):'"'===h?a.push('"'):"'"===h?a.push("'"):l+=h;c+=1}else c+=1}return u||l}function Bt(t,e){var n;void 0===e&&(e={x:0,y:0});var r=Object(f.a)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var i=t.attrs,o=void 0===i?{}:i,a=o.marginTop,s=Object(f.a)({},e);a&&(s.y+=a);for(var u=0;u<t.children.length;u++){t.children[u].attrs.key=(o.key||"root")+" -"+u+" ";var c=Bt(t.children[u],s);if(c.bbox){var l=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,l.width+l.x>r.width&&(r.width=l.width+l.x),l.height+l.y>r.height&&(r.height=l.height+l.y)}}}return t.bbox=function(t,e,n){var r,i,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=vt(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,t.attrs=Object(f.a)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,r),t.attrs=Object(f.a)(Object(f.a)({},t.attrs),t.bbox),t}function Dt(t){var e={},n=function(e){var n=function(t){return function(e){for(var n=t.length,r=[],i=0,o="";i<n;)if("{"===t[i]&&"{"===t[i+1])r.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(r.length){var a=r.pop();o=Object(u.g)(e,o,a.endsWith("=")?'"{'+o+'}"':o),r.push(a+o)}i+=2,o=""}else o+=t[i],i+=1;return r.push(o),r.map((function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'+t+'}"':t})).join("")}}("function"==typeof t?t(e):t)(e),r=document.createElement("div");r.innerHTML=n;var i=Bt(function t(e,n){var r={},i=e.getAttributeNames&&e.getAttributeNames()||[],o=e.children&&Array.from(e.children).map((function(e){return t(e,n)})),a={},s=e.tagName?e.tagName.toLowerCase():"group";return"text"===s&&(r.text=e.innerText),a.type=s,"img"===s&&(a.type="image"),Array.from(i).forEach((function(t){var n=t.split("-").reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})),i=e.getAttribute(t);try{if("style"===n||"attrs"===n){var o=Lt(i);r=Object(f.a)(Object(f.a)({},r),o)}else a[n]=Lt(i)}catch(t){if("style"===n)throw t;a[n]=i}})),a.attrs=r,n&&n.style&&a.name&&"object"===_t(n.style[a.name])&&(a.attrs=Object(f.a)(Object(f.a)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(f.a)(Object(f.a)({},a.attrs),n.style)),o.length&&(a.children=o),a}(r.children[0],e));return r.remove(),i};return{draw:function(t,r){var i=n(t),o=r;return function t(e){var n=e.attrs,i=void 0===n?{}:n,a=e.bbox,s=e.type,u=e.children,c=Object(f.e)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var l=r.addShape(e.type,Object(f.a)({attrs:i,origin:{bbox:a,type:s,children:u}},c));e.keyshape&&(o=l)}e.children&&e.children.forEach((function(e){return t(e)}))}(i),e[t.id]=[i],o},update:function(t,r){e[t.id]||(e[t.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(t),s=function t(e,n){var r,i,o,a,s=(e||{}).type,u=((null==n?void 0:n.attrs)||{}).key;if(u&&e&&(e.attrs.key=u),!e&&n)return{action:"delete",val:n,type:s,key:u};if(e&&!n)return{action:"add",val:e,type:s};if(!e&&!n)return{action:"same",type:s};var c=[];if((null===(r=e.children)||void 0===r?void 0:r.length)>0||(null===(i=n.children)||void 0===i?void 0:i.length)>0)for(var l=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),h=n.children||[],f=e.children||[],d=0;d<l;d+=1)c.push(t(f[d],h[d]));var p=Object.keys(n.attrs),g=Object.keys(e.attrs);return n.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:n,key:u,children:c}:p.filter((function(t){return"children"!==t})).some((function(t){return e.attrs[t]!==n.attrs[t]||!g.includes(t)}))?{action:"change",val:e,children:c,type:s,key:u}:{action:"same",children:c,type:s,key:u}}(a,e[t.id].pop()),u=function t(e){var n;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))},c=function t(e){var n,r=o.find((function(t){return t.attrs.key===e.attrs.key}));r&&i.removeChild(r),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))};!function t(e){var n=e.key;if("group"!==e.type){var i=o.find((function(t){return t.attrs.key===n}));switch(e.action){case"change":if(i){var a=e.val.keyshape?r.getOriginStyle():{};i.attr(Object(f.a)(Object(f.a)({},a),e.val.attrs))}break;case"add":u(e.val);break;case"delete":c(e.val);break;case"restructure":c(e.formerTarget),u(e.nowTarget)}}e.children&&e.children.forEach((function(e){return t(e)}))}(s),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Rt={};function Yt(t){return Rt[t]||(Rt[t]=Object(u.I)(t)),Rt[t]}var Ft={defaultShapeType:"defaultType",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(t,e,n){var r=this.getShape(t),i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n){var r=this.getShape(t);r.update&&r.update(e,n),r.afterUpdate&&r.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Xt={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},zt=function(){function t(){}return t.registerFactory=function(e,n){var r=Yt(e),i=Ft,o=Object(f.a)(Object(f.a)({},i),n);return t[r]=o,o.className=r,o},t.getFactory=function(e){return t[Yt(e)]},t.registerNode=function(e,n,r){var i,o=t.Node;if("string"==typeof n||"function"==typeof n){var a=Dt(n);i=Object(f.a)(Object(f.a)({},o.getShape("single-node")),a)}else if(n.jsx){a=Dt(n.jsx);i=Object(f.a)(Object(f.a)(Object(f.a)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):Xt;i=Object(f.a)(Object(f.a)({},s),n)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,n,r){var i=t.Edge,o=r?i.getShape(r):Xt,a=Object(f.a)(Object(f.a)({},o),n);return a.type=e,a.itemType="edge",i[e]=a,a},t.registerCombo=function(e,n,r){var i=t.Combo,o=r?i.getShape(r):Xt,a=Object(f.a)(Object(f.a)({},o),n);return a.type=e,a.itemType="combo",i[e]=a,a},t}(),Wt=zt;zt.registerFactory("node",{defaultShapeType:"circle"}),zt.registerFactory("edge",{defaultShapeType:"line"}),zt.registerFactory("combo",{defaultShapeType:"circle"});var Ht=function(){function t(t){this._cfg={},this.destroyed=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=kt(i),this.get("model").id=r),this.set("id",r);var o=t.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var c=s[a].options;if(c&&c.stateStyles){var l=this.get("styles")||n.stateStyles;l=Object(u.c)({},c.stateStyles,l),this.set("styles",l)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ct(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ct(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model");e.clear();var r=n.visible;if(void 0===r||r||this.changeVisibility(r),t){this.updatePosition(n);var i=this.getShapeCfg(n),o=i.type,a=t.draw(o,i,e);a&&(this.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",o),this.restoreStates(t,o)}},t.prototype.setOriginStyle=function(){var t=this.get("group").get("children"),e=this.getKeyShape(),n=this,r=e.get("name");if(this.get("originStyle")){var i=this.getOriginStyle();r&&!i[r]&&(i[r]={});var o=this.getCurrentStatesStyle();Object(u.d)(t,(function(t){var e=t.get("name"),a=t.attr();if(e&&e!==r){var s=o[e];i[e]||(i[e]={}),s?Object.keys(a).forEach((function(t){var n=a[t];n!==s[t]&&(i[e][t]=n)})):i[e]="image"!==t.get("type")?Object(u.b)(a):n.getShapeStyleByName(e)}else{var c=t.attr(),l=Object(f.a)(Object(f.a)({},o),o[r]);Object.keys(c).forEach((function(t){var e=c[t];l[t]!==e&&(r?i[r][t]=e:i[t]=e)}))}})),i.path&&delete i.path,i.matrix&&delete i.matrix,i.x&&delete i.x,i.y&&delete i.y,i[r]&&i[r].x&&delete i[r].x,i[r]&&i[r].y&&delete i[r].y,n.set("originStyle",i)}else{var a={};Object(u.d)(t,(function(t){var e=t.get("type"),i=t.get("name");if(i&&i!==r)a[i]="image"!==e?Object(u.b)(t.attr()):n.getShapeStyleByName(i);else{var o=n.getShapeStyleByName();if(o.path&&delete o.path,o.matrix&&delete o.matrix,r)if(i)a[r]=o;else{var s=kt("shape");t.set("name",s),a[s]="image"!==e?Object(u.b)(t.attr()):n.getShapeStyleByName(i)}else Object.assign(a,o)}})),n.set("originStyle",a)}},t.prototype.restoreStates=function(t,e){var n=this,r=n.get("states");Object(u.d)(r,(function(r){t.setState(e,r,!0,n)}))},t.prototype.init=function(){var t=Wt.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){Object(u.v)(t)?this._cfg=Object(f.a)(Object(f.a)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n.find((function(e){return e.get("name")===t})):this.getKeyShape()){var r={};return Object(u.d)(e.attr(),(function(t,e){"img"!==e&&(r[e]=t)})),r}return{}},t.prototype.getShapeCfg=function(t){var e=this.get("styles");if(e){var n=t;return n.style=Object(f.a)(Object(f.a)({},e),t.style),n}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?(Object(u.d)(t.getStates(),(function(n){e=Object.assign(e,t.getStateStyle(n))})),e):this.getOriginStyle()},t.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t;Object(u.w)(e)&&(i=t+":"+e,o=t+":");var a=n;if(Object(u.m)(e)){var s=n.indexOf(o);if(e){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if(Object(u.w)(e)){var c=n.filter((function(t){return t.includes(o)}));c.length>0&&this.clearStates(c),(a=a.filter((function(t){return!t.includes(o)}))).push(i),this.set("states",a)}if(r){var l=this.get("model").type;r.setState(l,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),i=e.get("model").type;t||(t=n),Object(u.w)(t)&&(t=[t]);var o=n.filter((function(e){return-1===t.indexOf(e)}));e.set("states",o),t.forEach((function(t){r.setState(i,t,!1,e)}))},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(){var t=this.get("model");this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},t.prototype.isOnlyMove=function(t){return!1},t.prototype.update=function(t,e){void 0===e&&(e=!1);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=n.x,a=n.y;t.x=isNaN(t.x)?n.x:t.x,t.y=isNaN(t.y)?n.y:t.y;var s=this.get("styles");if(t.stateStyles){var c=t.stateStyles;Object(u.B)(s,c),delete t.stateStyles}Object.assign(n,t),e?this.updatePosition(t):(o===t.x&&a===t.y||this.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(){var t=this.get("shapeFactory"),e=this.get("model"),n=e.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var r=this.getShapeCfg(e);t.baseUpdate(n,r,this),this.setOriginStyle()}else this.draw();this.restoreStates(t,n)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=Object(u.r)(t.x)?e.x:t.x,r=Object(u.r)(t.y)?e.y:t.y,i=this.get("group");if(Object(u.r)(n)||Object(u.r)(r))return!1;e.x=n,e.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),N(i,{x:n,y:r}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get("bboxCache");return t||(t=this.calculateBBox(),this.set("bboxCache",t)),t},t.prototype.getCanvasBBox=function(){var t=this.get("bboxCanvasCache");return t||(t=this.calculateCanvasBBox(),this.set("bboxCanvasCache",t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),qt={source:"start",target:"end"},Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.c)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=qt[t]+"Point",r=t+"Node",i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),Object(u.v)(e)?(this.set(n,e),this.set(r,null)):(e.addEdge(this),this.set(r,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var r=qt[t]+"Point",i=t+"Node",o=this.get(r);if(!o){var a=this.get(i),s=t+"Anchor",c=this.getPrePoint(t,n),l=e[s];Object(u.r)(l)||(o=a.getLinkPointByAnchor(l)),o=o||a.getLinkPoint(c),Object(u.r)(o.index)||this.set(t+"AnchorIndex",o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this.getEndPoint(n)},e.prototype.getEndPoint=function(t){var e=t+"Node",n=qt[t]+"Point",r=this.get(e);return r?r.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+"Node",n=qt[t]+"Point",r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e){var n=this.get("linkCenter"),r=t.prototype.getShapeCfg.call(this,e);if(n)r.startPoint=this.getEndCenter("source"),r.endPoint=this.getEndCenter("target");else{var i=r.controlPoints||this.getControlPointsByCenter(r);r.startPoint=this.getLinkPoint("source",e,i),r.endPoint=this.getLinkPoint("target",e,i)}return r.sourceNode=this.get("sourceNode"),r.targetNode=this.get("targetNode"),r},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("sourceNode"),n=this.get("targetNode");return e?delete t.sourceNode:t.source=this.get("startPoint"),n?delete t.targetNode:t.target=this.get("endPoint"),Object(u.w)(t.source)||Object(u.v)(t.source)||(t.source=t.source.getID()),Object(u.w)(t.target)||Object(u.v)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=!1);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(t.stateStyles){var a=t.stateStyles;Object(u.B)(o,a),delete t.stateStyles}Object.assign(n,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var e=this.get("sourceNode"),n=this.get("targetNode");e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(Ht),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.c)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=E(t[0],e),o=0;o<t.length;o++){var a=t[o],s=E(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){return n.filter((function(t){return t.getSource()===e})).map((function(t){return t.getTarget()}))}if("source"===t){return n.filter((function(t){return t.getTarget()===e})).map((function(t){return t.getSource()}))}return n.map((function(t){return t.getSource()===e?t.getTarget():t.getSource()}))},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(e=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=M({x:e,y:n,r:o.width/2},t);break;case"ellipse":a=O({x:e,y:n,rx:o.width/2,ry:o.height/2},t);break;default:a=w(o,t)}var u=a;return s.length&&(u||(u=t),u=this.getNearestPoint(s,u)),u||(u={x:e,y:n}),u},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=e.getAnchorPoints(o,i)||[];Object(u.d)(a,(function(e,r){var i={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:r};t.push(i)})),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(u.r)(t.x),n=!Object(u.r)(t.y),r=Object.keys(t);return 1===r.length&&(e||n)||2===r.length&&e&&n},e}(Ht),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.c)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var r=t,i={r:Math.hypot(n.height,n.width)/2||nt.defaultCombo.size[0]/2,width:n.width||nt.defaultCombo.size[0],height:n.height||nt.defaultCombo.size[1]};r.style=Object(f.a)(Object(f.a)(Object(f.a)({},e),t.style),i);var o=t.padding||nt.defaultCombo.padding;return Object(u.s)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set("sizeCache",i),r}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=ct(t,e);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get("sizeCache"),i=this.get("bboxCache")||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===t.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set("anchorPointsCache",null),n}},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Ut),Zt=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this.graph,r="vedge"===t?"edge":t,i=n.get(r+"Group")||n.get("group"),o=Object(u.I)(r),a=null,s=n.get(r+Object(u.I)("stateStyles"))||{},c=n.get("default"+o);e.stateStyles&&(s=e.stateStyles),c&&Object(u.d)(c,(function(t,n){Object(u.u)(t)&&!Object(u.l)(t)?e[n]=Object(u.c)({},t,e[n]):Object(u.l)(t)?e[n]=e[n]||Object(u.b)(c[n]):e[n]=e[n]||c[n]}));var l=n.get(r+"Mapper");if(l){var h=l(e);h.stateStyles&&(s=h.stateStyles,delete h.stateStyles),Object(u.d)(h,(function(t,n){Object(u.u)(t)&&!Object(u.l)(t)?e[n]=Object(u.c)({},e[n],t):e[n]=h[n]||e[n]}))}if(n.emit("beforeadditem",{type:t,model:e}),"edge"===t||"vedge"===t){var f=void 0,d=void 0;if(f=e.source,d=e.target,f&&Object(u.w)(f)&&(f=n.findById(f)),d&&Object(u.w)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge "+e.id+" does not exist!");f.getType&&"combo"===f.getType()&&(e.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),a=new Gt({model:e,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if("node"===t)a=new Ut({model:e,styles:s,group:i.addGroup()});else if("combo"===t){var p=e.children,g=bt(p,n);isNaN(g.x)?isNaN(e.x)&&(e.x=100*Math.random()):e.x=g.x,isNaN(g.y)?isNaN(e.y)&&(e.y=100*Math.random()):e.y=g.y;var v=i.addGroup();v.setZIndex(e.depth);var y=(a=new Vt({model:e,styles:s,bbox:e.collapsed?bt([],n):g,group:v})).getModel();(p||[]).forEach((function(t){var e=n.findById(t.id);a.addChild(e),t.depth=y.depth+2})),e.collapsed&&setTimeout((function(){n.collapseCombo(a)}),16)}if(a)return n.get(t+"s").push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:e}),a},t.prototype.updateItem=function(t,e){var n,r,i=this.graph;if(Object(u.w)(t)&&(t=i.findById(t)),t&&!t.destroyed){var o="";t.getType&&(o=t.getType());var a=i.get(o+"Mapper"),s=t.getModel(),c=t.isOnlyMove(e);if(a){var l=a(Object(u.c)({},s,e)),h=Object(u.c)({},s,l,e);l.stateStyles&&(t.set("styles",h.stateStyles),delete h.stateStyles),Object(u.d)(h,(function(t,n){e[n]=t}))}else Object(u.d)(e,(function(t,n){s[n]&&Object(u.u)(t)&&!Object(u.l)(t)&&(e[n]=Object(f.a)(Object(f.a)({},s[n]),e[n]))}));if(i.emit("beforeupdateitem",{item:t,cfg:e}),"edge"===o){if(e.source){var d=e.source;Object(u.w)(d)&&(d=i.findById(d)),t.setSource(d)}if(e.target){var p=e.target;Object(u.w)(p)&&(p=i.findById(p)),t.setTarget(p)}t.update(e)}if("node"===o||"combo"===o){t.update(e,c);var g=t.getEdges(),v=xt(e);if(v&&"node"===o)Object(u.d)(g,(function(t){t.refresh()}));else if(v&&"combo"===o){var y=t.get("shapeFactory"),m=s.type||"circle";(void 0===s.animate||void 0===e.animate?null===(r=null===(n=y[m])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:s.animate||e.animate)?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&Object(u.d)(g,(function(t){t&&!t.destroyed&&t.refresh()}))}}),201):Object(u.d)(g,(function(t){t.refresh()}))}}i.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e){var n,r,i=this,o=this.graph;if(Object(u.w)(t)&&(t=o.findById(t)),t&&!t.destroyed){var a=t.getModel(),s=bt(a.collapsed?[]:e,o);t.set("bbox",s),t.update({x:s.x,y:s.y});var c=t.get("shapeFactory"),l=a.type||"circle";(void 0===a.animate?null===(r=null===(n=c[l])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:a.animate)?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(t.getShapeCfg(a),i.updateComboEdges(t))}}),201):this.updateComboEdges(t)}},t.prototype.updateComboEdges=function(t){for(var e=t.getEdges()||[],n=0;n<e.length;n++){var r=e[n];if(r&&!r.destroyed){var i=r.get("shapeFactory"),o=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=i.draw(o.type,o,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},t.prototype.collapseCombo=function(t){var e=this.graph;Object(u.w)(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach((function(t){e.hideItem(t)})),n.combos.forEach((function(t){e.hideItem(t)}))},t.prototype.expandCombo=function(t){var e=this.graph;Object(u.w)(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach((function(t){e.showItem(t)})),n.combos.forEach((function(t){t.getModel().collapsed?t.show():e.showItem(t)}))},t.prototype.removeItem=function(t){var e=this,n=this.graph;if(Object(u.w)(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=Object(u.b)(t.getModel());n.emit("beforeremoveitem",{item:r});var i="";t.getType&&(i=t.getType());var o=n.get(i+"s"),a=o.indexOf(t);if(a>-1&&o.splice(a,1),"edge"===i){var s=n.get("v"+i+"s"),c=s.indexOf(t);c>-1&&s.splice(c,1)}var l=t.get("id");delete n.get("itemMap")[l];var h=n.get("comboTrees"),f=t.get("id");if("node"===i){var d=t.getModel().comboId;if(h&&d){var p=h,g=!1;h.forEach((function(t){g||dt(t,(function(t){if(t.id===f&&p){var e=p.indexOf(t);return p.splice(e,1),g=!0,!1}return p=t.children,!0}))}))}for(var v=(x=t.getEdges()).length-1;v>=0;v--)n.removeItem(x[v],!1);d&&n.updateCombo(d)}else if("combo"===i){var y,m=t.getModel().parentId,b=!1;(h||[]).forEach((function(t){b||dt(t,(function(t){return t.id!==f||(y=t,b=!0,!1)}))})),y.removed=!0,y&&y.children&&y.children.forEach((function(t){e.removeItem(t.id)}));var x;for(v=(x=t.getEdges()).length;v>=0;v--)n.removeItem(x[v],!1);m&&n.updateCombo(m)}t.destroy(),n.emit("afterremoveitem",{item:r})}},t.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;Object(u.w)(n)&&(i=e+":"+n),t.hasState(i)===n&&n||Object(u.w)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,r=t;Object(u.w)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;Object(u.w)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;Object(u.w)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,r=this.graph;(t||[]).forEach((function(t){pt(t,(function(t){var r;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,r=e)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,r=this.graph;if(Object(u.w)(t)&&(t=r.findById(t)),t){if(r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&"node"===t.getType()){var i=t.getEdges();Object(u.d)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}else if(t.getType&&"combo"===t.getType()){var o=r.get("comboTrees"),a=t.get("id"),s=[],c=!1;(o||[]).forEach((function(t){c||t.children&&0!==t.children.length&&dt(t,(function(t){return t.id!==a||(s=t.children,c=!0,!1)}))})),s&&(!e||e&&!t.getModel().collapsed)&&s.forEach((function(t){var i=r.findById(t.id);n.changeItemVisibility(i,e)}));i=t.getEdges();Object(u.d)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}return r.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Qt=null,Kt=function(){function t(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return t.checkCache=function(t,e,n){if(n[e]){var r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}},t.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},t.prototype.updateState=function(e,n,r){var i=this,o=t.checkCache,a=t.cacheState;if(!e.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;r?(o(e,n,c),a(e,n,u)):(o(e,n,u),a(e,n,c)),Qt&&clearTimeout(Qt),Qt=setTimeout((function(){Qt=null,i.updateGraphStates()}),16)}},t.prototype.updateStates=function(t,e,n){var r=this;Object(u.w)(e)?this.updateState(t,e,n):e.forEach((function(e){r.updateState(t,e,n)}))},t.prototype.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;Object(u.d)(e.disabled,(function(e,n){t[n]&&(t[n]=t[n].filter((function(t){return e.indexOf(t)<0&&!e.destroyed})))})),Object(u.d)(e.enabled,(function(e,n){if(t[n]){var r={};t[n].forEach((function(t){t.destroyed||(r[t.get("id")]=!0)})),e.forEach((function(e){if(!e.destroyed){var i=e.get("id");r[i]||(r[i]=!0,t[n].push(e))}}))}else t[n]=e})),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},t.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Qt&&clearTimeout(Qt),Qt=null,this.destroyed=!0},t}(),$t=n(35),Jt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){if("\\"===t.charAt(0))return t.slice(1);var r=e[n];return 0===r&&(r="0"),r||""})):t},te=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,a=i.y;e.push(o),e.push(a)}var s=Object($t.a)(e);return s.unshift(["M",t[0].x,t[0].y]),s},ee=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];g.c.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},ne=function(t,e){var n=t.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=t[i];r+=Jt(0===i?"M{x} {y}":"L{x} {y}",o)}return e&&(r+="Z"),r},re=function(t){var e=[];return t.forEach((function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e},ie=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,c=t[a].x,l=t[a].y,h=t[a+1].x,f=t[a+1].y,d=c+(h-s)/6,p=l+(f-u)/6,g=h-((a!==t.length-2?t[a+2].x:h)-c)/6,v=f-((a!==t.length-2?t[a+2].y:f)-l)/6;o.push(["C",d,p,g,v,h,f])}return o.unshift(["M",r.x,r.y]),o},oe=function(t,e){return g.c.scale([0,0],g.c.normalize([0,0],t),e)},ae=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},se=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function ue(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M "+n+" A "+e+","+e+",0,0,0,"+r+" A "+e+","+e+",0,0,0,"+n}(t);if(2===t.length)return function(t){var n=g.c.scale([0,0],ae(t[0],t[1]),e),r=g.c.scale([0,0],n,-1),i=g.c.add([0,0],t[0],n),o=g.c.add([0,0],t[1],n),a=g.c.add([0,0],t[1],r),s=g.c.add([0,0],t[0],r);return"M "+i+" L "+o+" A "+[e,e,"0,0,0",a].join(",")+" L "+s+" A "+[e,e,"0,0,0",i].join(",")}(t);for(var n=new Array(t.length),r=0;r<n.length;++r){var i=0===r?t[t.length-1]:t[r-1],o=t[r],a=g.c.scale([0,0],ae(i,o),e);n[r]=[g.c.add([0,0],i,a),g.c.add([0,0],o,a)]}var s="A "+[e,e,"0,0,0,"].join(",");return(n=n.map((function(t,e){var r="";return 0===e&&(r="M "+n[n.length-1][1]+" "),r+=s+t[0]+" L "+t[1]}))).join(" ")}function ce(t,e){var n,r,i,o=t.length;if(!t||o<1)return"";if(1===o)return r=[(n=t)[0][0],n[0][1]-e],i=[n[0][0],n[0][1]+e],"M "+r+" A "+[e,e,"0,0,0",i].join(",")+" A "+[e,e,"0,0,0",r].join(",");if(2===o)return function(t){var n=se(t[0],t[1]),r=oe(n,e),i=g.c.add([0,0],t[0],g.c.scale([0,0],r,-1)),o=g.c.add([0,0],t[1],r),a=1.2*e,s=oe(g.c.normalize([0,0],n),a),u=g.c.scale([0,0],s,-1),c=g.c.add([0,0],i,u),l=g.c.add([0,0],o,u),h=g.c.add([0,0],i,s);return"M "+i+" C "+[c,l,o].join(",")+" S "+[h,i].join(",")+" Z"}(t);for(var a=t.map((function(e,n){var r=t[(n+1)%o];return{p:e,v:g.c.normalize([0,0],se(e,r))}})),s=0;s<a.length;++s){var u=s>0?s-1:o-1,c=g.c.normalize([0,0],g.c.add([0,0],a[u].v,g.c.scale([0,0],a[s].v,-1)));a[s].p=g.c.add([0,0],a[s].p,g.c.scale([0,0],c,e))}return a.map((function(t){var e=t.p;return{x:e[0],y:e[1]}}))}var le=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},he=function(t){var e=t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}}));if(e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x})),1===e.length)return e;for(var n=[],r=0;r<e.length;r++){for(;n.length>=2&&le(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}var i=[];for(r=e.length-1;r>=0;r--){for(;i.length>=2&&le(i[i.length-2],i[i.length-1],e[r])<=0;)i.pop();i.push(e[r])}return i.pop(),n.pop(),n.concat(i)},fe={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function de(t,e,n){var r=!1,i=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var r=0;return i(t-1,e-1)>=n&&(r+=1),i(t,e-1)>n&&(r+=2),i(t-1,e)>n&&(r+=4),i(t,e)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,c=0;c<e.width*e.height;c++){if(i=s,a=u,t.findIndex((function(t){return t.x===s&&t.y===u}))>-1){if(t[0].x===s&&t[0].y===u)return!0}else t.push({x:s,y:u});var l=o(s,u);switch(l){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: "+l),!0}}};this.march=function(){for(var t=0;t<e.width&&!r;t+=1)for(var s=0;s<e.height&&!r;s+=1)i(t,s)>n&&15!==o(t,s)&&(r=a(t,s));return r}}var pe=function(t,e){var n=Number.POSITIVE_INFINITY,r=null;return t.forEach((function(t){var i=H(t,e);i>=0&&i<n&&(r=t,n=i)})),r};function ge(t,e,n,r,i){var o=function(t,e,n){var r=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=G(o,a),u=new F(o.x,o.y,a.x,a.y),c=n.reduce((function(t,e){return H(e,u)>0?t+1:t}),0);s*Math.pow(c+1,2)<i&&(r=e,i=s*Math.pow(c+1,2))})),r}(t,n,e);if(null===o)return[];return function(t){for(var n=[];t.length>0;){var r=t.pop();if(0===t.length){n.push(r);break}var i=t.pop(),o=new F(r.x1,r.y1,i.x2,i.y2);pe(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(function(t,e,n,r){var i=[],o=[];o.push(t);for(var a=!0,s=0,u=function(t,e){var n=!1;return e.forEach((function(e){n||(V(t,{x:e.x1,y:e.y1})||V(t,{x:e.x2,y:e.y2}))&&(n=!0)})),n},c=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(D(o,t.x,t.y))return!0}return!1};a&&s<n;){a=!1;for(var l=function(){var t=o.pop(),n=pe(e,t);if(n){var l=W(n,t),h=l[0];if(2===l[1]){var f=function(s){for(var l=r,f=me(n,l,h,s),d=u(f,o)||u(f,i),p=c(f,e);!d&&p&&l>=1;)f=me(n,l/=1.5,h,s),d=u(f,o)||u(f,i),p=c(f,e);!f||d||s&&p||(o.push(new F(t.x1,t.y1,f.x,f.y)),o.push(new F(f.x,f.y,t.x2,t.y2)),a=!0)};f(!0),a||f(!1)}}a||i.push(t),s+=1};!a&&o.length;)l()}for(;o.length;)i.push(o.pop());return i}(new F(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),e,r,i))}var ve=function(t,e,n){var r=Object.assign(fe,n),i=q(t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}})));t=t.sort((function(t,e){return G({x:t.getModel().x,y:t.getModel().y},i)-G({x:e.getModel().x,y:e.getModel().y},i)}));var o=[],a=[];t.forEach((function(t){ge(t,e,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(t){a.push(t)})),o.push(t)}));for(var s,u,c,l,h,f=function(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(t,a,r.nodeR0),d=(s=f.width,u=f.height,c=r.pixelGroupSize,l=Math.ceil(s/c),h=Math.ceil(u/c),{cells:new Float32Array(Math.max(0,l*h)).fill(0),width:l,height:h}),p=[],g=[],v=0;v<r.maxMarchingIterations;v++)if(ye(t,e,a,f,d,r),g=[],new de(p=[],d,r.threshold).march()){var y=p.map((function(t){return{x:Math.round(t.x*r.pixelGroupSize+f.minX),y:Math.round(t.y*r.pixelGroupSize+f.minY)}}));if(y){var m=y.length;if(r.skip>1)for(m=Math.floor(y.length/r.skip);m<3&&r.skip>1;)r.skip-=1,m=Math.floor(y.length/r.skip);for(var b=0,x=0;x<m;x+=1,b+=r.skip)g.push({x:y[b].x,y:y[b].y})}if(g&&function(){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=g.map((function(t){return[t.x,t.y]}));if(!D(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return g;if(r.threshold*=.9,v<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&e.length>0))break;r.nonMemberInfluenceFactor*=.8}}return g};function ye(t,e,n,r,i,o){function a(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function s(t,e){return t*o.pixelGroupSize+e}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),c=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),l=function(t,e){return[Math.min(a(t.minX,e+r.minX),i.width),Math.min(a(t.minY,e+r.minY),i.height),Math.min(a(t.maxX,-e+r.minX),i.width),Math.min(a(t.maxY,-e+r.minY),i.height)]},h=function(t,e){for(var n=t.getBBox(),a=l(n,o.nodeR1),u=a[0],c=a[1],h=a[2],f=a[3],d=c;d<f;d+=1)for(var p=u;p<h;p+=1)if(!(e<0&&i[p+d*i.width]<=0)){var g=s(p,r.minX),v=s(d,r.minY),y=Z({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(y<Math.pow(o.nodeR1,2)){var m=Math.sqrt(y)-o.nodeR1;i.cells[p+d*i.width]+=e*m*m}}};o.nodeInfluenceFactor&&t.forEach((function(t){h(t,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(t){!function(t,e){for(var n=t.getBBox(),a=l(n,o.edgeR1),u=a[0],c=a[1],h=a[2],f=a[3],d=c;d<f;d+=1)for(var p=u;p<h;p+=1)if(!(e<0&&i.cells[p+d*i.width]<=0)){var g=s(p,r.minX),v=s(d,r.minY),y=U({x:g,y:v},t);if(y<Math.pow(o.edgeR1,2)){var m=Math.sqrt(y)-o.edgeR1;i.cells[p+d*i.width]+=e*m*m}}}(t,o.edgeInfluenceFactor/c)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){h(t,o.negativeNodeInfluenceFactor/u)}))}function me(t,e,n,r){var i=t.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},l=i.height*i.width;function h(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:h(a,u)<.5*l?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(o)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return h(o,s)<.5*l?o.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:o.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var be=function(){function t(t,e){this.cfg=Object(u.c)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return Object(u.w)(e)?t.findById(e):e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return Object(u.w)(e)?t.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":i=ue((n=he(t)).map((function(t){return[t.x,t.y]})),this.padding),r=Object($t.b)(i);break;case"smooth-convex":2===(n=he(t)).length?(i=ue(n.map((function(t){return[t.x,t.y]})),this.padding),r=Object($t.b)(i)):n.length>2&&(i=ce(n.map((function(t){return[t.x,t.y]})),this.padding),r=ie(i));break;case"bubble":r=(n=ve(t,e,this.cfg.bubbleCfg)).length>=2&&ie(n)}return r},t.prototype.render=function(){this.group.addShape("path",{attrs:Object(f.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},t.prototype.addMember=function(t){if(t){Object(u.w)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){Object(u.w)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){Object(u.w)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){Object(u.w)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return Object(u.w)(t)?n.graph.findById(t):t}))),e&&(this.nonMembers=e.map((function(t){return Object(u.w)(t)?n.graph.findById(t):t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(f.a)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=Object(u.c)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return Object(u.w)(t)?e.graph.findById(t):t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return Object(u.w)(t)?e.graph.findById(t):t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,r=this,i=(e=Object(u.w)(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))n=re(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(t){var e=r.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),Y(n,re(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),xe=g.a.transform,we=function(t){function e(e){var n=t.call(this)||this;return n.cfg=Object(u.c)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new v.Stack(n.cfg.maxStep),n.redoStack=new v.Stack(n.cfg.maxStep)),n}return Object(f.c)(e,t),e.prototype.init=function(){this.initCanvas();var t=new It(this),e=new Ot(this),n=new Zt(this),r=new Kt(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins(),Object(p.b)(this.onTick.bind(this))},e.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el").id,n=t.addGroup({id:e+"-root",className:nt.rootContainerClassName});if(this.get("groupByTypes")){var r=n.addGroup({id:e+"-edge",className:nt.edgeContainerClassName}),i=n.addGroup({id:e+"-node",className:nt.nodeContainerClassName}),o=n.addGroup({id:e+"-combo",className:nt.comboContainerClassName});o.toBack(),this.set({nodeGroup:i,edgeGroup:r,comboGroup:o})}var a=n.addGroup({id:e+"-delegate",className:nt.delegateContainerClassName});this.set({delegateGroup:a}),this.set("group",n)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,e){return Object(u.v)(t)?this.cfg=Object(f.a)(Object(f.a)({},this.cfg),t):this.cfg[t]=e,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){Object(u.w)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,r=this.get(t+"s");return Object(u.d)(r,(function(t,r){if(e(t,r))return n=t})),n},e.prototype.findAll=function(t,e){var n=[];return Object(u.d)(this.get(t+"s"),(function(t,r){e(t,r)&&n.push(t)})),n},e.prototype.findAllByState=function(t,e){return this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e){var n=this.get("group"),r=Object(u.b)(n.getMatrix());r||(r=[1,0,0,0,1,0,0,0,1]),r=xe(r,[["t",t,e]]),n.setMatrix(r),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,e){var n=this.get("group");A(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController").fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e){var n=this.get("group"),r=Object(u.b)(n.getMatrix()),i=this.get("minZoom"),o=this.get("maxZoom");r||(r=[1,0,0,0,1,0,0,0,1]),r=xe(r,e?[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]:[["s",t,t]]),i&&r[0]<i||o&&r[0]>o||(n.setMatrix(r),this.emit("viewportchange",{action:"zoom",matrix:r}),this.autoPaint())},e.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},e.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(t,i,o),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(Object(u.w)(t)&&(n=this.findById(t)),!n&&Object(u.w)(t))console.warn("The item to be removed does not exist!");else if(n){var r="";if(n.getType&&(r=n.getType()),e&&this.get("enabledStack")){var i=Object(f.a)(Object(f.a)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push(Object(f.a)(Object(f.a)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n);if(this.get("itemController").removeItem(n),"combo"===r){var c=mt(this.get("comboTrees"));this.set("comboTrees",c)}}},e.prototype.addItem=function(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!Object(u.w)(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+e.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(!("edge"!==t||e.source&&e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(t,e))return!1;if(!e.id||!this.findById(e.id)){var a,s=this.get("comboTrees");if(s||(s=[]),"combo"===t){var c=this.get("itemMap"),l=!1;if(s.forEach((function(n){l||pt(n,(function(n){if(e.parentId===n.id){l=!0;var r=Object(f.a)({id:e.id,depth:n.depth+2},e);n.children?n.children.push(r):n.children=[r],e.depth=r.depth,a=o.addItem(t,e)}var i=c[n.id];return l&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!l){var h=Object(f.a)({id:e.id,depth:0},e);e.depth=h.depth,s.push(h),a=o.addItem(t,e)}this.set("comboTrees",s)}else if("node"===t&&Object(u.w)(e.comboId)&&s){var d;(d=this.findById(e.comboId))&&d.getType&&"combo"!==d.getType()&&console.warn("'"+e.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),a=o.addItem(t,e);var p=this.get("itemMap"),g=!1,v=!1;(s||[]).forEach((function(t){v||g||pt(t,(function(t){if(t.id===e.id)return v=!0,!1;if(e.comboId===t.id&&!v){g=!0;var n=Object(u.b)(e);n.itemType="node",t.children?t.children.push(n):t.children=[n],n.depth=t.depth+1}return g&&p[t.id].getType&&"combo"===p[t.id].getType()&&o.updateCombo(p[t.id],t.children),!0}))}))}else a=o.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(d=this.findById(e.comboId||e.parentId))&&d.getType&&"combo"===d.getType()&&d.addChild(a);var y=this.get("combos");if(y&&y.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var m=Object(f.a)(Object(f.a)({},a.getModel()),{itemType:t}),b={};switch(t){case"node":b.nodes=[m];break;case"edge":b.edges=[m];break;case"combo":b.combos=[m]}this.pushStack("add",{before:{},after:b})}return a}console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","")},e.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},e.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=Object(u.w)(t)?this.findById(t):t;var a=Object(u.b)(i.getModel()),s="";i.getType&&(s=i.getType());var c=Object(f.f)([],i.getStates());if("combo"===s&&Object(u.d)(c,(function(t){return r.setItemState(i,t,!1)})),o.updateItem(i,e),"combo"===s&&Object(u.d)(c,(function(t){return r.setItemState(i,t,!0)})),n&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]},h={nodes:[],edges:[],combos:[]},d=Object(f.a)({id:a.id},e);switch(s){case"node":l.nodes.push(a),h.nodes.push(d);break;case"edge":l.edges.push(a),h.edges.push(d);break;case"combo":l.combos.push(a),h.combos.push(d)}"node"===s&&l.nodes.push(a),this.pushStack("update",{before:l,after:h})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){Object(u.w)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n);var r=this.get("stateController");Object(u.w)(n)?r.updateState(t,e+":"+n,!0):r.updateState(t,e,n)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){Mt(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i,a=e.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),Object(u.d)(r,(function(e){t.add("node",e,!1,!1)})),s&&0!==s.length){var c=yt(s,r);this.set("comboTrees",c),t.addCombos(s)}Object(u.d)(o,(function(e){t.add("edge",e,!1,!1)}));var l=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var h=t.get("layoutController");if(h){if(h.layout((function(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter();t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",l)})),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",l);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach((function(t){t.toFront()})):this.getEdges().forEach((function(t){t.toBack()})));this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var r,i=this,o=this.get("itemMap");Object(u.d)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===t){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(t,n,!1);r&&e[t+"s"].push(r)}))},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;if(!Mt(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(t){return n.clearItemStates(t)})),this.getEdges().map((function(t){return n.clearItemStates(t)}));var r=this.get("canvas"),i=r.get("localRefresh");r.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var o=this.get("itemMap"),a={nodes:[],edges:[]},s=t.combos;if(s){var c=yt(s,t.nodes);this.set("comboTrees",c)}this.diffItems("node",a,t.nodes),Object(u.d)(o,(function(t,e){o[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete o[e],t.destroy()):a.nodes.indexOf(t)<0&&(delete o[e],n.remove(t,!1)))}));for(var l=this.getCombos(),h=l.length-1;h>=0;h--)l[h].destroyed&&l.splice(h,1);s&&(n.addCombos(s),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",a,t.edges),Object(u.d)(o,(function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&a.edges.indexOf(t)<0&&(delete o[e],n.remove(t,!1))})),this.set({nodes:a.nodes,edges:a.edges});var f=this.get("layoutController");return f&&(f.changeData(),n.get("animate")&&!f.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){r.set("localRefresh",i)}),16),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var r,i="";if(t){if(Object(u.w)(t))i=t,r={id:t};else{if(!(i=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=t}var o=e.map((function(t){var e=n.findById(t),r=e.getModel(),o="";e.getType&&(o=e.getType());var a={id:e.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(t){pt(t,(function(t){return t.id!==i||(t.itemType="combo",t.children=o,!1)}))})),a&&this.sortCombos()}},e.prototype.uncombo=function(t){var e=this,n=t;if(Object(u.w)(t)&&(n=this.findById(t)),!n||n.getType&&"combo"!==n.getType())console.warn("The item is not a combo!");else{var r=n.getModel().parentId,i=this.get("comboTrees");i||(i=[]);var o,a=this.get("itemMap"),s=n.get("id"),c=[],l=this.get("combos"),h=this.findById(r);if(i.forEach((function(i){o||pt(i,(function(i){if(i.id===s){o=i,n.getEdges().forEach((function(t){e.removeItem(t,!1)}));var u=l.indexOf(t);l.splice(u,1),delete a[s],n.destroy()}return!r||!o||i.id!==r||(h.removeCombo(n),-1!==(u=(c=i.children).indexOf(o))&&c.splice(u,1),o.children.forEach((function(t){var n=e.findById(t.id),i=n.getModel();n.getType&&"combo"===n.getType()?(t.parentId=r,delete t.comboId,i.parentId=r,delete i.comboId):n.getType&&"node"===n.getType()&&(t.comboId=r,i.comboId=r),h.addChild(n),c.push(t)})),!1)}))})),!r&&o){var f=i.indexOf(o);i.splice(f,1),o.children.forEach((function(t){t.parentId=void 0;var n=e.findById(t.id).getModel();delete n.parentId,delete n.comboId,"node"!==t.itemType&&i.push(t)}))}}},e.prototype.updateCombos=function(){var t=this,e=this.get("comboTrees"),n=this.get("itemController"),r=this.get("itemMap");(e||[]).forEach((function(e){pt(e,(function(e){if(!e)return!0;var i=r[e.id];if(i&&i.getType&&"combo"===i.getType()){var o=Object(f.f)([],i.getStates());Object(u.d)(o,(function(e){return t.setItemState(i,e,!1)})),n.updateCombo(i,e.children),Object(u.d)(o,(function(e){return t.setItemState(i,e,!0)}))}return!0}))})),this.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,r=t;if(Object(u.w)(t)&&(r=this.findById(t)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{e=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(t){pt(t,(function(t){if(!t)return!0;var r=a[t.id];if(e===t.id&&r&&r.getType&&"combo"===r.getType()){var i=Object(f.f)([],r.getStates());Object(u.d)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!1)})),o.updateCombo(r,t.children),Object(u.d)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=Object(u.w)(t)?this.findById(t):t).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),e&&"combo"===s){var c,l=this.get("comboTrees"),h=!0;if((l||[]).forEach((function(t){c||dt(t,(function(t){if(!c)return t.id===r.getID()&&(c=t),!0}))})),dt(c,(function(t){return t.id!==e||(h=!1,!1)})),!h)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:e}]):"node"===s&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var p=this.findById(o.parentId||o.comboId);p&&p.removeChild(r)}("combo"===s?o.parentId=e:"node"===s&&(o.comboId=e),e)&&((i=this.findById(e))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var g=mt(this.get("comboTrees"),o.id,e);this.set("comboTrees",g),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return Object(u.d)(this.get("nodes"),(function(e){t.push(e.getModel())})),Object(u.d)(this.get("edges"),(function(t){e.push(t.getModel())})),Object(u.d)(this.get("combos"),(function(t){n.push(t.getModel())})),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),e=this.get("edges"),n=this.get("edges");Object(u.d)(t,(function(t){t.refresh()})),Object(u.d)(e,(function(t){t.refresh()})),Object(u.d)(n,(function(t){t.refresh()}))}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(u.w)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,r=t.getNodes(),i=r.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(e){Object(u.d)(i,(function(r){var i=t.findById(r.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model");if(!o){var s=i.getContainer().getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),o={x:s[6],y:s[7]},i.set("originAttrs",o)}if(n){var u=n(i,e,r,o);i.set("model",Object.assign(a,u))}else a.x=o.x+(r.x-o.x)*e,a.y=o.y+(r.y-o.y)*e}})),t.refreshPositions()}),{duration:e.duration,easing:e.easing,callback:function(){Object(u.d)(r,(function(t){t.set("originAttrs",null)})),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,e=this.get("nodes"),n=this.get("edges"),r=this.get("vedges"),i=this.get("combos"),o={};Object(u.d)(e,(function(e){t=e.getModel();var n=e.get("originAttrs");if(!n||t.x!==n.x||t.y!==n.y){var r=e.updatePosition({x:t.x,y:t.y});o[t.id]=r,t.comboId&&(o[t.comboId]=o[t.comboId]||r)}})),i&&0!==i.length&&this.updateCombos(),Object(u.d)(n,(function(t){var e=t.getSource().getModel(),n=t.getTarget();if(!Object(u.v)(n)){var r=n.getModel();(o[e.id]||o[r.id]||t.getModel().isComboEdge)&&t.refresh()}})),Object(u.d)(r,(function(t){t.refresh()})),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(t){return void 0===t&&(t=!1),this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(u.w)(t)&&(t={type:t});var n=this.get("layout"),r={};Object.assign(r,n,t),this.set("layout",r),e.isLayoutTypeSame(r)&&r.gpuEnabled===n.gpuEnabled?e.updateLayoutCfg(r):e.changeLayout(r)},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");e&&t&&(e.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var e=this;if(Object(u.w)(t)&&(t=this.findById(t)),t){this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").collapseCombo(t),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(t){s||dt(t,(function(t){if(s&&t.depth<=n.depth)return!1;if(n.id===t.id&&(s=!0),s){var r=e.findById(t.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var c={},l=[];r.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var r=t.getSource(),a=t.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=e.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var u=s.id;if(c[n.id+"-"+u])return void(c[n.id+"-"+u]+=f.size||1);var h=e.addItem("vedge",{source:n.id,target:u,isVEdge:!0},!1);c[n.id+"-"+u]=f.size||1,l.push(h)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var f;if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var d=r.getModel();!r.isVisible();){if(!(r=e.findById(d.parentId||d.comboId))||!d.parentId&&!d.comboId)return;d=r.getModel()}var p=d.id;if(c[p+"-"+n.id])return void(c[p+"-"+n.id]+=f.size||1);h=e.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);c[p+"-"+n.id]=f.size||1,l.push(h)}}})),l.forEach((function(t){var n=t.getModel();e.updateItem(t,{size:c[n.source+"-"+n.target]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var e=this;if(Object(u.w)(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").expandCombo(t),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(t){s||dt(t,(function(t){if(s&&t.depth<=n.depth)return!1;if(n.id===t.id&&(s=!0),s){var r=e.findById(t.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var c={},l={};r.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var r=t.getSource(),a=t.getTarget(),s=r.get("id"),u=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(var h=a.getModel();!a.isVisible();){if(!(a=e.findById(h.comboId||h.parentId))||!h.parentId&&!h.comboId)return;h=a.getModel()}u=h.id;for(var f=r.getModel();!r.isVisible();){if(!(r=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=r.getModel()}if(s=f.id,u){if(c[p=s+"-"+u])return c[p]+=t.getModel().size||1,void e.updateItem(l[p],{size:c[p]},!1);var d=e.addItem("vedge",{source:s,target:u,isVEdge:!0},!1);c[p]=t.getModel().size||1,l[p]=d}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||u===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(f=r.getModel();!r.isVisible();){if(!(r=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=r.getModel()}s=f.id;for(h=a.getModel();!a.isVisible();){if(!(a=e.findById(h.comboId||h.parentId))||!h.parentId&&!h.comboId)return;if(h.comboId===n.id||h.parentId===n.id)break;h=a.getModel()}if(u=h.id,s){var p;if(c[p=s+"-"+u])return c[p]+=t.getModel().size||1,void e.updateItem(l[p],{size:c[p]},!1);d=e.addItem("vedge",{target:u,source:s,isVEdge:!0},!1);c[p]=t.getModel().size||1,l[p]=d}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&t.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t){if(Object(u.w)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var e=[],n={};(this.get("comboTrees")||[]).forEach((function(t){dt(t,(function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],n[t.id]=t.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(t){var r=t.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);e[a]?e[a].push(r.id):e[a]=[r.id]})),e.forEach((function(e){if(e&&e.length)for(var n=e.length-1;n>=0;n--){var r=t.findById(e[n]);r&&r.toFront()}}))}},e.prototype.getNeighbors=function(t,e){var n=t;return Object(u.w)(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t;Object(u.w)(t)&&(r=this.findById(t));var i=this.get("degrees");i&&!n||(i=Object(v.getDegree)(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(e){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=e?Object(u.b)(e):{before:{},after:Object(u.b)(this.save())};"redo"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=Object(v.getAdjMatrix)(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=Object(v.getAdjMatrix)(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=Object(v.floydWarshall)(this.save(),e),this.set("shortestPathMatrix",r)),r},e.prototype.on=function(e,n,r){return t.prototype.on.call(this,e,n,r)},e.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var r=e.addGroup({id:t.id+"-container"}),i=new be(this,Object(f.a)(Object(f.a)({},t),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e;e=Object(u.w)(t)?this.getHullById(t):t,delete this.get("hullMap")[e.id],e.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach((function(e){t[e].destroy()})),this.set("hullMap",{}))},e.prototype.onTick=function(t){this.get("layoutController").onTick(t),Object(p.b)(this.onTick.bind(this))},e}(d.a);function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Oe=g.a.transform,Se=["startArrow","endArrow"],Ce={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},ke={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Ce,combo:Ce},Ee={options:{},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t){return Object(u.c)({labelCfg:{style:{fontFamily:"undefined"!=typeof window&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:"undefined"!=typeof window&&window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){var n=this.drawShape(t,e);(n.set("className",this.itemType+"-shape"),t.label)&&this.drawLabel(t,e).set("className",this.itemType+"-label");return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=this.getOptions(t).labelCfg||{},r=this.getLabelStyle(t,n,e),i=r.rotate;delete r.rotate;var o=e.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape"});if(i){var a=o.getBBox(),s=o.getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),r.rotateCenter)switch(r.rotateCenter){case"center":s=Oe(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=Oe(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=Oe(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);break;default:s=Oe(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]])}else s=Oe(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(t,e,o),c=this.itemType+"-label-bg";u.set("classname",c),o.toFront()}return o},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(u.B)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,t,i,e);return e.addShape("rect",{name:"text-bg-shape",attrs:o})},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e,n,r){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i=this.itemType+"Label",o=nt[i]?nt[i].style:null;return Object(f.a)(Object(f.a)(Object(f.a)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e){this.updateShapeStyle(t,e),this.updateLabel(t,e)},updateShapeStyle:function(t,e){var n=e.getContainer(),r=e.getKeyShape(),i=Object(u.B)({},r.attr(),t.style),o=function(t){var e,o=i[t];if(Object(u.v)(o)){var a=n.find((function(e){return e.get("name")===t}));a&&a.attr(o)}else r.attr(((e={})[t]=o,e))};for(var a in i)o(a)},updateLabel:function(t,e){var n=e.getContainer(),r=this.getOptions({}).labelCfg,i=this.itemType+"-label",o=n.find((function(t){return t.get("className")===i})),a=this.itemType+"-label-bg",s=n.find((function(t){return t.get("classname")===a}));if(t.label||""===t.label)if(o){var c={};e.getModel&&(c=e.getModel().labelCfg);var l=Object(u.c)({},r,c,t.labelCfg),h=this.getLabelStyleByPosition(t,l,n),d=t.labelCfg?t.labelCfg.style:void 0,p=l.style&&l.style.background,g=Object(f.a)(Object(f.a)(Object(f.a)({},o.attr()),h),d),v=g.rotate;if(delete g.rotate,v){var y=[1,0,0,0,1,0,0,0,1];y=Oe(y,[["t",-g.x,-g.y],["r",v],["t",g.x,g.y]]),o.resetMatrix(),o.attr(Object(f.a)(Object(f.a)({},g),{matrix:y}))}else o.resetMatrix(),o.attr(g);if(s)if(g.background){var m=this.getLabelBgStyleByPosition(o,t,l,n),b=Object(f.a)(Object(f.a)({},m),p);if(s.resetMatrix(),v){var x=[1,0,0,0,1,0,0,0,1];x=Oe(x,[["t",-b.x,-b.y],["r",v],["t",b.x,b.y]]),b.matrix=x}s.attr(b)}else n.removeChild(s);else g.background&&((s=this.drawLabelBg(t,n,o)).set("classname",a),o.toFront())}else{this.drawLabel(t,n).set("className",i)}},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o=n.get("keyShape");if(o&&!o.destroyed){var a=n.getType(),s=Object(u.m)(e)?t:t+":"+e,c=this.getStateStyle(s,n),l=n.getStateStyle(s);if(l||c){var h=Object(u.B)({},l||c),f=n.getContainer(),d={x:1,y:1,cx:1,cy:1};if("combo"===a&&(d.r=1,d.width=1,d.height=1),e){var p=function(t){var e,n=h[t];if(Object(u.v)(n)&&!Se.includes(t)){var r=f.find((function(e){return e.get("name")===t}));r&&r.attr(n)}else o.attr(((e={})[t]=n,e))};for(var g in h)p(g)}else{var v=wt(n.getCurrentStatesStyle()),y=n.getModel(),m=Object(u.B)({},y.style,wt(n.getOriginStyle())),b=o.get("name"),x=o.attr(),w={};Object.keys(x).forEach((function(t){if("img"!==t){var e=x[t];e&&"object"===Me(e)?w[t]=Object(u.b)(e):w[t]=e}}));var M={},O=function(t){var e=h[t];if(Object(u.v)(e)&&!Se.includes(t)){var n=f.find((function(e){return e.get("name")===t}));if(n){var r=Object(u.b)(n.attr());Object(u.d)(e,(function(e,i){if(t===b&&w[i]&&!d[i]){delete w[i];var s=m[t][i]||ke[a][i];o.attr(i,s)}else if(r[i]||0===r[i]){delete r[i];var u=m[t][i]||ke[a][i];n.attr(i,u)}})),M[t]=r}}else if(w[t]&&!d[t]){delete w[t];var i=m[t]||(m[b]?m[b][t]:void 0)||ke[a][t];o.attr(t,i)}};for(var S in h)O(S);for(var g in b?M[b]=w:Object(u.B)(M,w),v)if(!d[g]){var C=v[g];Object(u.v)(C)&&!Se.includes(g)||(b?(Object(u.B)(m[b],((i={})[g]=C,i)),delete m[g]):Object(u.B)(m,((r={})[g]=C,r)),delete v[g])}var k={};Object(u.c)(k,m,M,v);var E=!1,T=function(t){var e,n,r=k[t];if(Object(u.v)(r)&&!Se.includes(t)){var i=f.find((function(e){return e.get("name")===t}));i&&(t===b&&("combo"===a&&(delete r.r,delete r.width,delete r.height),E=!0),i.attr(r))}else if(!E){var s=r||ke[a][t];"combo"===a?b||o.attr(((e={})[t]=s,e)):o.attr(((n={})[t]=s,n))}};for(var P in k)T(P)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,c=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===r?Object(u.b)(c):Object(u.B)({},s,c)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return this.getOptions(t).anchorPoints}},Te={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:nt.nodeLabel.offset,getSize:function(t){var e=t.size||this.getOptions({}).size||nt.defaultNode.size;return Object(u.l)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(u.l)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:t.label};var r=e.offset;Object(u.r)(r)&&(r=this.offset);var i,o=this.getSize(t),a=o[0],s=o[1];switch(n){case"top":i={x:0,y:0-s/2-r,textBaseline:"bottom"};break;case"bottom":i={x:0,y:s/2+r,textBaseline:"top"};break;case"left":i={x:0-a/2-r,y:0,textAlign:"right"};break;default:i={x:a/2+r,y:0,textAlign:"left"}}return i.text=t.label,i},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a,s=Et(o.padding),c=i.width+s[1]+s[3],l=i.height+s[0]+s[2],h=n.offset;return Object(u.r)(h)&&(h=this.offset),a={x:i.minX-s[3],y:i.minY-s[0]},a=Object(f.a)(Object(f.a)(Object(f.a)({},a),o),{width:c,height:l})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"node-shape"})},updateLinkPoints:function(t,e){var n,r=this.getOptions(t).linkPoints,i=e.find((function(t){return"link-point-left"===t.get("className")})),o=e.find((function(t){return"link-point-right"===t.get("className")})),a=e.find((function(t){return"link-point-top"===t.get("className")})),s=e.find((function(t){return"link-point-bottom"===t.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var c=Object(u.B)({},n,t.linkPoints),l=c.fill,h=c.stroke,d=c.lineWidth,p=c.size/2;p||(p=c.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},v=g.left,y=g.right,m=g.top,b=g.bottom,x=this.getSize(t),w=x[0],M=x[1],O={r:p,fill:l,stroke:h,lineWidth:d};i?v||void 0===v?i.attr(Object(f.a)(Object(f.a)({},O),{x:-w/2,y:0})):i.remove():v&&e.addShape("circle",{attrs:Object(f.a)(Object(f.a)({},O),{x:-w/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(y||void 0===y||o.remove(),o.attr(Object(f.a)(Object(f.a)({},O),{x:w/2,y:0}))):y&&e.addShape("circle",{attrs:Object(f.a)(Object(f.a)({},O),{x:w/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a?(m||void 0===m||a.remove(),a.attr(Object(f.a)(Object(f.a)({},O),{x:0,y:-M/2}))):m&&e.addShape("circle",{attrs:Object(f.a)(Object(f.a)({},O),{x:0,y:-M/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?b||void 0===b?s.attr(Object(f.a)(Object(f.a)({},O),{x:0,y:M/2})):s.remove():b&&e.addShape("circle",{attrs:Object(f.a)(Object(f.a)({},O),{x:0,y:M/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(t,e,n,r){e.get("keyShape").attr(Object(f.a)({},n)),this.updateLabel(t,e),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,r=e.getContainer(),i=this.getOptions(t).icon,o=(t.icon?t.icon:{show:void 0}).show,a=r.find((function(t){return t.get("className")===n.type+"-icon"}));if(a)if(o||void 0===o){var s=Object(u.B)({},a.attr(),i),c=s.width,l=s.height;a.attr(Object(f.a)(Object(f.a)({},s),{x:-c/2,y:-l/2}))}else a.remove();else if(o){c=i.width,l=i.height;r.addShape("image",{attrs:Object(f.a)(Object(f.a)({},i),{x:-c/2,y:-l/2}),className:this.type+"-icon",name:this.type+"-icon"});var h=r.find((function(t){return"node-label"===t.get("className")}));h&&h.toFront()}}},Pe=Object(f.a)(Object(f.a)({},Ee),Te);Wt.registerNode("single-node",Pe);var je={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:nt.defaultEdge.size,style:{x:0,y:0,stroke:nt.defaultEdge.style.stroke,lineAppendWidth:nt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:nt.edgeLabel.style.fill,fontSize:nt.edgeLabel.style.fontSize}},stateStyles:Object(f.a)({},nt.edgeStateStyles)},getPath:function(t){var e=[];return Object(u.d)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(u.B)({},e,n,t.style),i=t.size||nt.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),c=[o];s&&(c=c.concat(s)),c.push(a);var l=this.getPath(c);return Object(u.B)({},nt.defaultEdge.style,{stroke:nt.defaultEdge.color,lineWidth:i,path:l},r)},updateShapeStyle:function(t,e){var n=e.getContainer(),r={stroke:t.color},i=n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,c=this.getControlPoints(t),l=[a];c&&(l=l.concat(c)),l.push(s);var h=i.attr(),f=Object(u.B)({},r,h,t.style),d=t.sourceNode,p=t.targetNode,g={radius:f.radius};c||(g={source:d,target:p,offset:f.offset,radius:f.radius}),h.endArrow&&!1===f.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===f.startArrow&&(t.style.startArrow={path:""});var v=this.getPath(l,g),y=Object(u.B)(r,i.attr(),{lineWidth:o,path:v},t.style);i&&i.attr(y)},getLabelStyleByPosition:function(t,e,n){var r,i=e.position||this.labelPosition,o={},a=n&&n.find((function(t){return"edge-shape"===t.get("className")}));r="start"===i?0:"end"===i?1:.5;var s,c=e.refX||this.refX,l=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+c,o.y=t.startPoint.y+l,o.text=t.label,o;s=Object(u.r)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var h=ht(a,r,c,l,s);return o.x=h.x,o.y=h.y,o.rotate=h.rotate,o.textAlign=this._getTextAlign(i,h.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a,s=o.padding,c=i.width+s[1]+s[3],l=i.height+s[0]+s[2],h=n.position||this.labelPosition,d=Object(f.a)(Object(f.a)({},o),{width:c,height:l,x:i.minX-s[2],y:i.minY-s[0],rotate:0});a=Object(u.r)(n.autoRotate)?this.labelAutoRotate:n.autoRotate;var p,g=r&&r.find((function(t){return"edge-shape"===t.get("className")}));p="start"===h?0:"end"===h?1:.5;var v=n.refX||this.refX,y=n.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return d.x=e.startPoint.x+v-c/2,d.y=e.startPoint.y+y-l/2,d;var m=ht(g,p,v-c/2,y+l/2,a),b=m.angle;return b>.5*Math.PI&&b<1.5*Math.PI&&(m=ht(g,p,v+c/2,y+l/2,a)),a&&(d.x=m.x,d.y=m.y),d.rotate=m.rotate,d},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n})},drawLabel:function(t,e){var n,r=this.options.labelCfg;n="undefined"!=typeof window&&void 0!==window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";var i=Object(u.c)({fontFamily:n},r,t.labelCfg),o=this.getLabelStyle(t,i,e),a=o.rotate;delete o.rotate;var s=e.addShape("text",{attrs:o,name:"text-shape"});if(a&&s.rotateAtStart(a),o.background){var c=this.drawLabelBg(t,e,s),l=this.itemType+"-label-bg";c.set("classname",l),s.toFront()}return s},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(u.c)({},r,t.labelCfg),o=this.getLabelStyle(t,i,e).rotate,a=this.getLabelBgStyleByPosition(n,t,i,e);delete a.rotate;var s=e.addShape("rect",{name:"text-bg-shape",attrs:a});return o&&s.rotateAtStart(o),s}},Ne=Object(f.a)(Object(f.a)({},Ee),je);Wt.registerEdge("single-edge",Ne),Wt.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Wt.registerEdge("spline",{getPath:function(t){return te(t)}},"single-edge"),Wt.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,r=t.startPoint,i=t.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=k(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=e.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=e.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)==(i.x-r.x)/(i.y-r.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),Object(u.l)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},c=Math.atan2(s.y,s.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+c)+o,y:t.curveOffset*Math.sin(-Math.PI/2+c)+a},e=k(r,n,i)}var l=E(r,e);return[{x:l,y:l}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),Wt.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,r=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(u.l)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),Object(u.l)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[ee(n,r,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),Wt.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(u.s)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(u.s)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,r=t.endPoint;e=[ee(n,r,t.curvePosition[0],t.curveOffset[0]),ee(n,r,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),Wt.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(u.s)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(u.s)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(u.s)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.y-e.y,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),Wt.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(u.s)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(u.s)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(u.s)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.x-e.x,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x+r*this.curvePosition[0]+i[0],y:e.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),Wt.registerEdge("loop",{getPathPoints:function(t){return lt(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Ae={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:nt.comboLabel.refX,refY:nt.comboLabel.refY,options:{style:{stroke:nt.defaultCombo.style.stroke,fill:nt.defaultCombo.style.fill,lineWidth:nt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:nt.comboLabel.style.fill,fontSize:nt.comboLabel.style.fontSize}},stateStyles:Object(f.a)({},nt.comboStateStyles)},getSize:function(t){var e=Object(u.b)(t.size||this.options.size||nt.defaultCombo.size);return Object(u.l)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(u.l)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(u.l)(i)&&(i=i[0]);var o=e.refX,a=e.refY;Object(u.r)(o)&&(o=this.refX),Object(u.r)(a)&&(a=this.refY);var s,c=this.getSize(t),l=(Math.max(r.r,c[0]/2)||c[0]/2)+i;switch(n){case"top":s={x:0,y:-l-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-l+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(Object(f.a)({},n)),this.updateLabel(t,e)}},Ie=Object(f.a)(Object(f.a)({},Ee),Ae);Wt.registerCombo("single-combo",Ie),Wt.registerCombo("circle",{options:{size:[nt.defaultCombo.size[0],nt.defaultCombo.size[0]],padding:nt.defaultCombo.padding[0],animate:!0,style:{stroke:nt.defaultCombo.style.stroke,fill:nt.defaultCombo.style.fill,lineWidth:nt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:nt.comboLabel.style.fill,fontSize:nt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(f.a)({},nt.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(u.l)(n)&&(n=n[0]);var r,i={stroke:t.color},o=Object(u.B)({},e,i,t.style);if(t.fixSize)r=Object(u.s)(t.fixSize)?t.fixSize:t.fixSize[0];else{var a=this.getSize(t);r=!Object(u.s)(o.r)||isNaN(o.r)?a[0]/2||nt.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=Object(f.a)({x:0,y:0},o);return t.style?t.style.r=r:t.style={r:r},s},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(u.l)(r)&&(r=r[0]);var i,o=Object(u.b)(t.style);i=t.fixSize?Object(u.s)(t.fixSize)?t.fixSize:t.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=e.get("sizeCache");a&&(a.r=o.r);var s={stroke:t.color},c=e.get("keyShape"),l=Object(u.B)({},c.attr(),s,o);t.style?t.style.r=i:t.style={r:i},this.updateShape(t,e,l,!0)}},"single-combo"),Wt.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:nt.defaultCombo.style.stroke,fill:nt.defaultCombo.style.fill,lineWidth:nt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:nt.comboLabel.style.fill,fontSize:nt.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(f.a)({},nt.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(u.s)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;Object(u.r)(o)&&(o=this.refX),Object(u.r)(a)&&(a=this.refY);var s,c=r.width/2+i[3],l=r.height/2+i[0];switch(n){case"top":s={x:0-c+o,y:0-l+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-c+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:c+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(u.s)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:t.color},a=Object(u.B)({},e,o,t.style),s=this.getSize(t),c=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;c?Object(u.s)(c)?(r=c,i=c):(r=c[0],i=c[1]):(r=!Object(u.s)(a.width)||isNaN(a.width)?s[0]||nt.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!Object(u.s)(a.height)||isNaN(a.height)?s[1]||nt.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var l=-r/2-n[3],h=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var d=Object(f.a)({x:l,y:h},a);return t.style?(t.style.width=r,t.style.height=i):t.style={width:r,height:i},d},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(u.s)(r)&&(r=[r,r,r,r]);var i,o,a=Object(u.b)(t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s?Object(u.s)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var c=e.get("sizeCache");c&&(c.width=a.width,c.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var l={stroke:t.color},h=e.get("keyShape"),f=Object(u.B)({},h.attr(),l,a);t.style?(t.style.width=i,t.style.height=o):t.style={width:i,height:o},this.updateShape(t,e,f,!1)},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(Object(f.a)({},n)),this.updateLabel(t,e)}},"single-combo"),Wt.registerNode("simple-circle",{options:{size:nt.defaultNode.size,style:{x:0,y:0,stroke:nt.defaultNode.style.stroke,fill:nt.defaultNode.style.fill,lineWidth:nt.defaultNode.style.lineWidth},labelCfg:{style:{fill:nt.nodeLabel.style.fill,fontSize:nt.nodeLabel.style.fontSize}},stateStyles:Object(f.a)({},nt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("circle",{attrs:n,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(u.c)({},e,n),i=this.getSize(t)[0]/2;return Object(f.a)({x:0,y:0,r:i},r)},update:function(t,e){var n=this.getSize(t),r={stroke:t.color,r:n[0]/2},i=e.get("keyShape"),o=Object(u.c)({},i.attr(),r,t.style);this.updateShape(t,e,o,!0)}},"single-node"),Wt.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:nt.defaultNode.style.stroke,fill:nt.defaultNode.style.fill,lineWidth:nt.defaultNode.style.lineWidth},labelCfg:{style:{fill:nt.nodeLabel.style.fill,fontSize:nt.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(f.a)({},nt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(u.B)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(f.a)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){e.getContainer();var n=this.getOptions({}).style,r=this.getSize(t),i=e.get("keyShape");t.size||(r[0]=i.attr("width")||n.width,r[1]=i.attr("height")||n.height);var o={stroke:t.color,x:-r[0]/2,y:-r[1]/2,width:r[0],height:r[1]},a=Object(u.B)({},n,i.attr(),o);a=Object(u.B)(a,t.style),this.updateShape(t,e,a,!1)}},"single-node"),Wt.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n=this.getOptions(t).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;e.setClip({type:"circle",attrs:Object(f.a)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,c=n.height,l=i-u/2,h=o-c/2;e.setClip({type:"rect",attrs:Object(f.a)({x:l,y:h,width:u,height:c},a)})}else if("ellipse"===r){var d=n.rx,p=n.ry;e.setClip({type:"ellipse",attrs:Object(f.a)({x:i,y:o,rx:d,ry:p},a)})}else if("polygon"===r){var g=n.points;e.setClip({type:"polygon",attrs:Object(f.a)({points:g},a)})}else if("path"===r){var v=n.path;e.setClip({type:"path",attrs:Object(f.a)({path:v},a)})}}},getShapeStyle:function(t){var e=this.getOptions(t).style,n=this.getSize(t),r=this.getOptions(t).img,i=n[0],o=n[1];return e&&(i=e.width||n[0],o=e.height||n[1]),Object(f.a)({x:-i/2,y:-o/2,width:i,height:o,img:r},e)},updateShapeStyle:function(t,e){var n=e.getContainer(),r=this.itemType+"-shape",i=n.find((function(t){return t.get("className")===r}))||e.getKeyShape(),o=this.getShapeStyle(t);i&&i.attr(o)}},"single-node");var _e,Le={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 L "+(r+e)+",-"+t/2+" L "+(r+e)+","+t/2+" Z"},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 L "+(r+e)+",-"+t/2+"\n        L "+(r+2*e/3)+",0 L "+(r+e)+","+t/2+" Z"},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M "+2*e+", 0\n            a "+t+","+t+" 0 1,0 "+2*t+",0\n            a "+t+","+t+" 0 1,0 "+2*-t+",0"},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n;return"M "+r+","+-t/2+" \n        L "+(r+e)+","+-t/2+" \n        L "+(r+e)+","+t/2+" \n        L "+r+","+t/2+" Z"},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 \n        L "+(r+e/2)+","+-t/2+" \n        L "+(r+e)+",0 \n        L "+(r+e/2)+","+t/2+" Z"},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+e+i;return"M "+a+",0 L "+(a+e)+",-"+t/2+" L "+(a+e)+","+t/2+" Z\n            M "+s+", -"+n/2+"\n            L "+(s+r)+" -"+n/2+"\n            L "+(s+r)+" "+n/2+"\n            L "+s+" "+n/2+"\n            Z"}},Be={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},De=Wt,Re=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Ye=g.a.transform,Fe=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},o),i),a),r),s),{transform:Ye,mat3:g.b}),Xe=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map((function(t){return(null==t?void 0:t.type)||""})):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t);return Array.isArray(this.layoutType)?this.layoutType.every((function(t,n){return t===e[n]})):(null==t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this.graph;t&&(t.get("animate")?t.positionsAnimate():t.refreshPositions())},t.prototype.changeLayout=function(t){this.layoutCfg=t,this.destoryLayoutMethods(),this.layout()},t.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods;null==t||t.forEach((function(t){t.destroy()})),this.layoutMethods=[]},t.prototype.destroyLayout=function(){var t=this.graph;this.destoryLayoutMethods(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t=[],e=[],n=[],r=[],i=[],o=[],a=this.graph.getNodes(),s=this.graph.getEdges(),u=this.graph.getCombos(),c=a.length,l=0;l<c;l++){var h=a[l];if(h&&!h.destroyed){var f=h.getModel();h.isVisible()?t.push(f):e.push(f)}}var d=s.length;for(l=0;l<d;l++){var p=s[l];if(p&&!p.destroyed){f=p.getModel();p.isVisible()?f.isComboEdge?i.push(f):n.push(f):r.push(f)}}var g=u.length;for(l=0;l<g;l++){var v=u[l];if(!v.destroyed){f=v.getModel();v.isVisible()?o.push(f):r.push(f)}}return{nodes:t,hiddenNodes:e,edges:n,hiddenEdges:r,combos:o,hiddenCombos:[],comboEdges:i}},t.prototype.reLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=null==e?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},t.init(n.data),"force"===a&&(t.ticking=!1,t.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.relayout=function(t){var e=this,n=this.graph,r=this.layoutMethods,i=this.layoutCfg;if(t){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(i.center,o)}n.emit("beforelayout");var a=Promise.resolve();null==r||r.forEach((function(t,n){var r=i[n];a=a.then((function(){return e.reLayoutMethod(t,r)}))})),a.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(t){console.warn("relayout failed",t)}))},t.prototype.filterLayoutData=function(t,e){var n,r,i=t.nodes,o=t.edges,a=Object(f.e)(t,["nodes","edges"]);if(!i)return t;if(n=Object(u.q)(null==e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0},Object(u.q)(null==e?void 0:e.edgesFilter))r=e.edgesFilter;else{var s=i.reduce((function(t,e){return t[e.id]=!0,t}),{});r=function(t){return s[t.source]&&s[t.target]}}return Object(f.a)({nodes:i.filter(n),edges:o.filter(r)},a)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=Object(u.i)(e.getNodes(),(function(t){return t.getModel().layoutOrder})),r=Object.values(n).map((function(t){var e=Nt(t);return e.size=[e.width,e.height],e}));return{groupNodes:Object.values(Object(u.i)(t,"layoutOrder")),layoutNodes:r}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!jt(t[0].x)){for(var e=[0,0],n=t.length,r=0;r<n;r++){var i=t[r];e[0]+=i.x,e[1]+=i.y}e[0]/=t.length,e[1]/=t.length;for(r=0;r<n;r++){(i=t[r]).x-=e[0],i.y-=e[1]}}},t.prototype.initPositions=function(t,e){var n=this.graph;if(!e)return!1;var r=e?e.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var c=t[0]-i/2,l=t[1]-o/2,h=!0,f=0;f<r;f++){var d=e[f];jt(d.x)&&(h=!1,d.x=f%a*s+c),jt(d.y)&&(h=!1,d.y=Math.floor(f/a)*u+l)}return h}},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t.prototype.onTick=function(t){var e;null===(e=this.layoutMethods)||void 0===e||e.forEach((function(e){null==e||e.onTick(t)}))},t}(),ze=function(t){this.graph=t,this.destroyed=!1,this.initEvents()};!function(t){t.CLICK="click",t.DBLCLICK="dblclick",t.TAP="tap",t.DBLTAP="dbltap",t.DRAGSTART="dragstart",t.DRAGEND="dragend",t.DRAG="drag",t.DRAGENTER="dragenter",t.DRAGLEAVE="dragleave",t.DRAGOVER="dragover",t.DRAGOUT="dragout",t.DDROP="drop",t.PINCHSTART="pinchstart",t.PINCHMOVE="pinchmove",t.PANSTART="panstart",t.PANMOVE="panmove",t.PANEND="panend",t.PRESS="press",t.ACTION_END="actionend",t.TOUCHSTART="touchstart",t.TOUCHMOVE="touchmove",t.TOUCHEND="touchend",t.CANVAS_TOUCHSTART="canvas:touchstart",t.CANVAS_TOUCHMOVE="canvas:touchmove",t.CANVAS_TOUCHEND="canvas:touchend",t.NODE_TOUCHSTART="node:touchstart",t.NODE_TOUCHMOVE="node:touchmove",t.NODE_TOUCHEND="node:touchend",t.COMBO_TOUCHSTART="combo:touchstart",t.COMBO_TOUCHMOVE="combo:touchmove",t.COMBO_TOUCHEND="combo:touchend",t.EDGE_TOUCHSTART="edge:touchstart",t.EDGE_TOUCHMOVE="edge:touchmove",t.EDGE_TOUCHEND="edge:touchend",t.NODE_CLICK="node:click",t.NODE_DBLCLICK="node:dblclick",t.NODE_DROP="node:drop",t.NODE_DRAGOVER="node:dragover",t.NODE_DRAGENTER="node:dragenter",t.NODE_DRAGLEAVE="node:dragleave",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DRAGEND="node:dragend",t.NODE_TAP="node:tap",t.NODE_DBLTAP="node:dbltap",t.NODE_PANSTART="node:panstart",t.NODE_PANMOVE="node:panmove",t.NODE_PANEND="node:panend",t.NODE_PRESS="node:press",t.COMBO_CLICK="combo:click",t.COMBO_DBLCLICK="combo:dblclick",t.COMBO_DROP="combo:drop",t.COMBO_DRAGOVER="combo:dragover",t.COMBO_DRAGENTER="combo:dragenter",t.COMBO_DRAGLEAVE="combo:dragleave",t.COMBO_DRAGSTART="combo:dragstart",t.COMBO_DRAG="combo:drag",t.COMBO_DRAGEND="combo:dragend",t.COMBO_TAP="combo:tap",t.COMBO_DBLTAP="combo:dbltap",t.COMBO_PANSTART="combo:panstart",t.COMBO_PANMOVE="combo:panmove",t.COMBO_PANEND="combo:panend",t.COMBO_PRESS="combo:press",t.EDGE_CLICK="edge:click",t.EDGE_DBLCLICK="edge:dblclick",t.EDGE_DROP="edge:drop",t.EDGE_DRAGOVER="edge:dragover",t.EDGE_DRAGENTER="edge:dragenter",t.EDGE_DRAGLEAVE="edge:dragleave",t.EDGE_TAP="edge:tap",t.EDGE_DBLTAP="edge:dbltap",t.EDGE_PRESS="edge:press",t.CANVAS_CLICK="canvas:click",t.CANVAS_DBLCLICK="canvas:dblclick",t.CANVAS_DROP="canvas:drop",t.CANVAS_DRAGENTER="canvas:dragenter",t.CANVAS_DRAGLEAVE="canvas:dragleave",t.CANVAS_DRAGSTART="canvas:dragstart",t.CANVAS_DRAG="canvas:drag",t.CANVAS_DRAGEND="canvas:dragend",t.CANVAS_TAP="canvas:tap",t.CANVAS_DBLTAP="canvas:dbltap",t.CANVAS_PANSTART="canvas:panstart",t.CANVAS_PANMOVE="canvas:panmove",t.CANVAS_PANEND="canvas:panend",t.CANVAS_PRESS="canvas:press",t.BEFORERENDER="beforerender",t.AFTERRENDER="afterrender",t.BEFOREADDITEM="beforeadditem",t.AFTERADDITEM="afteradditem",t.BEFOREREMOVEITEM="beforeremoveitem",t.AFTERREMOVEITEM="afterremoveitem",t.BEFOREUPDATEITEM="beforeupdateitem",t.AFTERUPDATEITEM="afterupdateitem",t.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",t.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",t.BEFOREITEMSTATECHANGE="beforeitemstatechange",t.AFTERITEMSTATECHANGE="afteritemstatechange",t.BEFOREITEMREFRESH="beforeitemrefresh",t.AFTERITEMREFRESH="afteritemrefresh",t.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",t.AFTERITEMSTATESCLEAR="afteritemstatesclear",t.BEFOREMODECHANGE="beforemodechange",t.AFTERMODECHANGE="aftermodechange",t.BEFORELAYOUT="beforelayout",t.AFTERLAYOUT="afterlayout",t.BEFORECREATEEDGE="beforecreateedge",t.AFTERCREATEEDGE="aftercreateedge",t.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",t.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",t.BEFOREGRAPHREFRESH="beforegraphrefresh",t.AFTERGRAPHREFRESH="aftergraphrefresh",t.BEFOREANIMATE="beforeanimate",t.AFTERANIMATE="afteranimate",t.BEFOREPAINT="beforepaint",t.AFTERPAINT="afterpaint",t.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",t.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",t.GRAPHSTATECHANGE="graphstatechange",t.AFTERACTIVATERELATIONS="afteractivaterelations",t.NODESELECTCHANGE="nodeselectchange",t.TOOLTIPCHANGE="tooltipchange",t.WHEELZOOM="wheelzoom",t.VIEWPORTCHANGE="viewportchange",t.DRAGNODEEND="dragnodeend",t.STACKCHANGE="stackchange"}(_e||(_e={}));var We=De.registerNode,He=De.registerEdge,qe=De.registerCombo,Ge=h.registerBehavior,Ue=nt;De.registerNode,De.registerEdge,De.registerCombo,h.registerBehavior},function(t,e,n){"use strict";n.r(e),n.d(e,"contains",(function(){return i})),n.d(e,"includes",(function(){return i})),n.d(e,"difference",(function(){return a})),n.d(e,"find",(function(){return x})),n.d(e,"findIndex",(function(){return w})),n.d(e,"firstValue",(function(){return M})),n.d(e,"flatten",(function(){return O})),n.d(e,"flattenDeep",(function(){return S})),n.d(e,"getRange",(function(){return E})),n.d(e,"pull",(function(){return N})),n.d(e,"pullAt",(function(){return I})),n.d(e,"reduce",(function(){return _})),n.d(e,"remove",(function(){return L})),n.d(e,"sortBy",(function(){return D})),n.d(e,"union",(function(){return Y})),n.d(e,"uniq",(function(){return R})),n.d(e,"valuesOfKey",(function(){return F})),n.d(e,"head",(function(){return X})),n.d(e,"last",(function(){return z})),n.d(e,"startsWith",(function(){return W})),n.d(e,"endsWith",(function(){return H})),n.d(e,"filter",(function(){return o})),n.d(e,"every",(function(){return q})),n.d(e,"some",(function(){return G})),n.d(e,"group",(function(){return Q})),n.d(e,"groupBy",(function(){return V})),n.d(e,"groupToMap",(function(){return Z})),n.d(e,"getWrapBehavior",(function(){return K})),n.d(e,"wrapBehavior",(function(){return $})),n.d(e,"number2color",(function(){return tt})),n.d(e,"parseRadius",(function(){return et})),n.d(e,"clamp",(function(){return nt})),n.d(e,"fixedBase",(function(){return rt})),n.d(e,"isDecimal",(function(){return ot})),n.d(e,"isEven",(function(){return at})),n.d(e,"isInteger",(function(){return st})),n.d(e,"isNegative",(function(){return ut})),n.d(e,"isNumberEqual",(function(){return ct})),n.d(e,"isOdd",(function(){return lt})),n.d(e,"isPositive",(function(){return ht})),n.d(e,"max",(function(){return C})),n.d(e,"maxBy",(function(){return ft})),n.d(e,"min",(function(){return k})),n.d(e,"minBy",(function(){return dt})),n.d(e,"mod",(function(){return pt})),n.d(e,"toDegree",(function(){return vt})),n.d(e,"toInteger",(function(){return yt})),n.d(e,"toRadian",(function(){return bt})),n.d(e,"forIn",(function(){return xt})),n.d(e,"has",(function(){return wt})),n.d(e,"hasKey",(function(){return Mt})),n.d(e,"hasValue",(function(){return St})),n.d(e,"keys",(function(){return g})),n.d(e,"isMatch",(function(){return v})),n.d(e,"values",(function(){return Ot})),n.d(e,"lowerCase",(function(){return kt})),n.d(e,"lowerFirst",(function(){return Et})),n.d(e,"substitute",(function(){return Tt})),n.d(e,"upperCase",(function(){return Pt})),n.d(e,"upperFirst",(function(){return jt})),n.d(e,"getType",(function(){return At})),n.d(e,"isArguments",(function(){return It})),n.d(e,"isArray",(function(){return h})),n.d(e,"isArrayLike",(function(){return r})),n.d(e,"isBoolean",(function(){return _t})),n.d(e,"isDate",(function(){return Lt})),n.d(e,"isError",(function(){return Bt})),n.d(e,"isFunction",(function(){return c})),n.d(e,"isFinite",(function(){return Dt})),n.d(e,"isNil",(function(){return l})),n.d(e,"isNull",(function(){return Rt})),n.d(e,"isNumber",(function(){return it})),n.d(e,"isObject",(function(){return d})),n.d(e,"isObjectLike",(function(){return m})),n.d(e,"isPlainObject",(function(){return b})),n.d(e,"isPrototype",(function(){return Ft})),n.d(e,"isRegExp",(function(){return Xt})),n.d(e,"isString",(function(){return B})),n.d(e,"isType",(function(){return u})),n.d(e,"isUndefined",(function(){return zt})),n.d(e,"isElement",(function(){return Wt})),n.d(e,"requestAnimationFrame",(function(){return Ht})),n.d(e,"clearAnimationFrame",(function(){return qt})),n.d(e,"augment",(function(){return Vt})),n.d(e,"clone",(function(){return Qt})),n.d(e,"debounce",(function(){return Kt})),n.d(e,"memoize",(function(){return $t})),n.d(e,"deepMix",(function(){return te})),n.d(e,"each",(function(){return p})),n.d(e,"extend",(function(){return ee})),n.d(e,"indexOf",(function(){return ne})),n.d(e,"isEmpty",(function(){return ie})),n.d(e,"isEqual",(function(){return oe})),n.d(e,"isEqualWith",(function(){return ae})),n.d(e,"map",(function(){return se})),n.d(e,"mapValues",(function(){return ce})),n.d(e,"mix",(function(){return Ut})),n.d(e,"assign",(function(){return Ut})),n.d(e,"get",(function(){return le})),n.d(e,"set",(function(){return he})),n.d(e,"pick",(function(){return de})),n.d(e,"omit",(function(){return pe})),n.d(e,"throttle",(function(){return ge})),n.d(e,"toArray",(function(){return ve})),n.d(e,"toString",(function(){return Ct})),n.d(e,"uniqueId",(function(){return me})),n.d(e,"noop",(function(){return be})),n.d(e,"identity",(function(){return xe})),n.d(e,"size",(function(){return we})),n.d(e,"Cache",(function(){return Me}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},s={}.toString,u=function(t,e){return s.call(t)==="[object "+e+"]"},c=function(t){return u(t,"Function")},l=function(t){return null==t},h=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t){var e=f(t);return null!==t&&"object"===e||"function"===e};var p=function(t,e){if(t)if(h(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},g=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(r)})),e};var v=function(t,e){var n=g(e),r=n.length;if(l(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===y(t)&&null!==t},b=function(t){if(!m(t)||!u(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var x=function(t,e){if(!h(t))return null;var n;if(c(e)&&(n=e),b(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var w=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},M=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!l(i)){n=h(i)?i[0]:i;break}}return n},O=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},S=function t(e,n){if(void 0===n&&(n=[]),h(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n},C=function(t){if(h(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},k=function(t){if(h(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},E=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=C(e);return{min:k(e),max:i}},T=Array.prototype,P=T.splice,j=T.indexOf,N=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=-1;(o=j.call(t,i))>-1;)P.call(t,o,1);return t},A=Array.prototype.splice,I=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,A.call(t,a,1))}return t},_=function(t,e,n){if(!h(t)&&!b(t))return t;var r=n;return p(t,(function(t,n){r=e(r,t,n)})),r},L=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return I(t,o),n},B=function(t){return u(t,"String")};var D=function(t,e){var n;if(c(e))n=function(t,n){return e(t)-e(n)};else{var r=[];B(e)?r.push(e):h(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var Y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},F=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!l(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function X(t){if(r(t))return t[0]}function z(t){if(r(t)){return t[t.length-1]}}var W=function(t,e){return!(!h(t)&&!B(t))&&t[0]===e};var H=function(t,e){return!(!h(t)&&!B(t))&&t[t.length-1]===e},q=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},G=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},U=Object.prototype.hasOwnProperty;var V=function(t,e){if(!e||!h(t))return{};for(var n,r={},i=c(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),U.call(r,n)?r[n].push(a):r[n]=[a]}return r};function Z(t,e){if(!e)return{0:t};if(!c(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return V(t,e)}var Q=function(t,e){if(!e)return[t];var n=Z(t,e),r=[];for(var i in n)r.push(n[i]);return r};var K=function(t,e){return t["_wrap_"+e]};var $=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},J={};var tt=function(t){var e=J[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,J[t]=e}return e};var et=function(t){var e=0,n=0,r=0,i=0;return h(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},nt=function(t,e,n){return t<e?e:t>n?n:t},rt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},it=function(t){return u(t,"Number")},ot=function(t){return it(t)&&t%1!=0},at=function(t){return it(t)&&t%2==0},st=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},ut=function(t){return it(t)&&t<0};function ct(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var lt=function(t){return it(t)&&t%2!=0},ht=function(t){return it(t)&&t>0},ft=function(t,e){if(h(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])>n&&(i=t,n=r)})),i}},dt=function(t,e){if(h(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])<n&&(i=t,n=r)})),i}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},yt=parseInt,mt=Math.PI/180,bt=function(t){return mt*t},xt=p,wt=function(t,e){return t.hasOwnProperty(e)},Mt=wt,Ot=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(n)})),e},St=function(t,e){return i(Ot(t),e)},Ct=function(t){return l(t)?"":t.toString()},kt=function(t){return Ct(t).toLowerCase()},Et=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Tt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},Pt=function(t){return Ct(t).toUpperCase()},jt=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},Nt={}.toString,At=function(t){return Nt.call(t).replace(/^\[object /,"").replace(/]$/,"")},It=function(t){return u(t,"Arguments")},_t=function(t){return u(t,"Boolean")},Lt=function(t){return u(t,"Date")},Bt=function(t){return u(t,"Error")},Dt=function(t){return it(t)&&isFinite(t)},Rt=function(t){return null===t},Yt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Yt)},Xt=function(t){return u(t,"RegExp")},zt=function(t){return void 0===t},Wt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ht(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function qt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Gt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Ut(t,e,n,r){return e&&Gt(t,e),n&&Gt(t,n),r&&Gt(t,r),t}var Vt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];c(i)&&(i=i.prototype),Ut(n.prototype,i)}};function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qt=function t(e){if("object"!==Zt(e)||null===e)return e;var n;if(h(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===Zt(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===Zt(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};var Kt=function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},$t=function(t,e){if(!c(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function Jt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&b(o)?(b(t[i])||(t[i]={}),n<r?Jt(t[i],o,n+1,r):t[i]=e[i]):h(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var te=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Jt(t,e[r]);return t},ee=function(t,e,n,r){c(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Ut(o,t.prototype),t.superclass=i(e.prototype,e),Ut(o,n),Ut(t,r),t},ne=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},re=Object.prototype.hasOwnProperty;var ie=function(t){if(l(t))return!0;if(r(t))return!t.length;var e=At(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},oe=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(B(e)||B(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(m(e)||m(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},ae=function(t,e,n){return c(n)?!!n(t,e):oe(t,e)},se=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},ue=function(t){return t},ce=function(t,e){void 0===e&&(e=ue);var n={};return d(t)&&!l(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},le=function(t,e,n){for(var r=0,i=B(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},he=function(t,e,n){var r=t,i=B(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(d(r[t])||(r[t]=it(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},fe=Object.prototype.hasOwnProperty,de=function(t,e){if(null===t||!b(t))return{};var n={};return p(e,(function(e){fe.call(t,e)&&(n[e]=t[e])})),n},pe=function(t,e){return _(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},ge=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=e-(c-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},ve=function(t){return r(t)?Array.prototype.slice.call(t):[]},ye={},me=function(t){return ye[t=t||"g"]?ye[t]+=1:ye[t]=1,t+ye[t]},be=function(){},xe=function(t){return t};function we(t){return l(t)?0:r(t)?t.length:Object.keys(t).length}var Me=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return i.a})),n.d(e,"c",(function(){return i.b})),n.d(e,"d",(function(){return i.c})),n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"leftTranslate",(function(){return o})),n.d(r,"leftRotate",(function(){return a})),n.d(r,"leftScale",(function(){return s})),n.d(r,"transform",(function(){return u})),n.d(r,"direction",(function(){return c})),n.d(r,"angleTo",(function(){return l})),n.d(r,"vertical",(function(){return h}));var i=n(8);function o(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.a.fromTranslation(r,n),i.a.multiply(t,r,e)}function a(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.a.fromRotation(r,n),i.a.multiply(t,r,e)}function s(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.a.fromScaling(r,n),i.a.multiply(t,r,e)}function u(t,e){for(var n,r,u,c=t?[].concat(t):[1,0,0,0,1,0,0,0,1],l=0,h=e.length;l<h;l++){var f=e[l];switch(f[0]){case"t":o(c,c,[f[1],f[2]]);break;case"s":s(c,c,[f[1],f[2]]);break;case"r":a(c,c,f[1]);break;case"m":n=c,r=c,u=f[1],i.a.multiply(n,u,r)}}return c}function c(t,e){return t[0]*e[1]-e[0]*t[1]}function l(t,e,n){var r=i.b.angle(t,e),o=c(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r}function h(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(0);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,"e",(function(){return r.r})),n.d(e,"d",(function(){return r.q})),n.d(e,"h",(function(){return r.w})),n.d(e,"f",(function(){return r.u})),n.d(e,"i",(function(){return r.B})),n.d(e,"a",(function(){return r.d})),n.d(e,"k",(function(){return r.I}));var o="undefined"!=typeof window&&void 0!==window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function s(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o}));var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var r=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(t){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return"base"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();e.Base=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return i}));var r={};n.r(r),n.d(r,"create",(function(){return a})),n.d(r,"fromMat4",(function(){return s})),n.d(r,"clone",(function(){return u})),n.d(r,"copy",(function(){return c})),n.d(r,"fromValues",(function(){return l})),n.d(r,"set",(function(){return h})),n.d(r,"identity",(function(){return f})),n.d(r,"transpose",(function(){return d})),n.d(r,"invert",(function(){return p})),n.d(r,"adjoint",(function(){return g})),n.d(r,"determinant",(function(){return v})),n.d(r,"multiply",(function(){return y})),n.d(r,"translate",(function(){return m})),n.d(r,"rotate",(function(){return b})),n.d(r,"scale",(function(){return x})),n.d(r,"fromTranslation",(function(){return w})),n.d(r,"fromRotation",(function(){return M})),n.d(r,"fromScaling",(function(){return O})),n.d(r,"fromMat2d",(function(){return S})),n.d(r,"fromQuat",(function(){return C})),n.d(r,"normalFromMat4",(function(){return k})),n.d(r,"projection",(function(){return E})),n.d(r,"str",(function(){return T})),n.d(r,"frob",(function(){return P})),n.d(r,"add",(function(){return j})),n.d(r,"subtract",(function(){return N})),n.d(r,"multiplyScalar",(function(){return A})),n.d(r,"multiplyScalarAndAdd",(function(){return I})),n.d(r,"exactEquals",(function(){return _})),n.d(r,"equals",(function(){return L})),n.d(r,"mul",(function(){return B})),n.d(r,"sub",(function(){return D}));var i={};n.r(i),n.d(i,"create",(function(){return Y})),n.d(i,"clone",(function(){return F})),n.d(i,"length",(function(){return X})),n.d(i,"fromValues",(function(){return z})),n.d(i,"copy",(function(){return W})),n.d(i,"set",(function(){return H})),n.d(i,"add",(function(){return q})),n.d(i,"subtract",(function(){return G})),n.d(i,"multiply",(function(){return U})),n.d(i,"divide",(function(){return V})),n.d(i,"ceil",(function(){return Z})),n.d(i,"floor",(function(){return Q})),n.d(i,"min",(function(){return K})),n.d(i,"max",(function(){return $})),n.d(i,"round",(function(){return J})),n.d(i,"scale",(function(){return tt})),n.d(i,"scaleAndAdd",(function(){return et})),n.d(i,"distance",(function(){return nt})),n.d(i,"squaredDistance",(function(){return rt})),n.d(i,"squaredLength",(function(){return it})),n.d(i,"negate",(function(){return ot})),n.d(i,"inverse",(function(){return at})),n.d(i,"normalize",(function(){return st})),n.d(i,"dot",(function(){return ut})),n.d(i,"cross",(function(){return ct})),n.d(i,"lerp",(function(){return lt})),n.d(i,"hermite",(function(){return ht})),n.d(i,"bezier",(function(){return ft})),n.d(i,"random",(function(){return dt})),n.d(i,"transformMat4",(function(){return pt})),n.d(i,"transformMat3",(function(){return gt})),n.d(i,"transformQuat",(function(){return vt})),n.d(i,"rotateX",(function(){return yt})),n.d(i,"rotateY",(function(){return mt})),n.d(i,"rotateZ",(function(){return bt})),n.d(i,"angle",(function(){return xt})),n.d(i,"zero",(function(){return wt})),n.d(i,"str",(function(){return Mt})),n.d(i,"exactEquals",(function(){return Ot})),n.d(i,"equals",(function(){return St})),n.d(i,"sub",(function(){return kt})),n.d(i,"mul",(function(){return Et})),n.d(i,"div",(function(){return Tt})),n.d(i,"dist",(function(){return Pt})),n.d(i,"sqrDist",(function(){return jt})),n.d(i,"len",(function(){return Nt})),n.d(i,"sqrLen",(function(){return At})),n.d(i,"forEach",(function(){return It}));var o=n(6);function a(){var t=new o.a(9);return o.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function u(t){var e=new o.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(t,e,n,r,i,a,s,u,c){var l=new o.a(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l}function h(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function g(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function v(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*l,t[2]=f*o+d*u+p*h,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*l,t[5]=g*o+v*u+y*h,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*l,t[8]=m*o+b*u+x*h,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+l,t[8]=f*o+d*u+h,t}function b(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=l,t[8]=h,t}function x(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-h-p,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-h,t}function k(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,M=r*c-o*s,O=i*c-o*u,S=l*g-h*p,C=l*v-f*p,k=l*y-d*p,E=h*v-f*g,T=h*y-d*g,P=f*y-d*v,j=m*P-b*T+x*E+w*k-M*C+O*S;return j?(j=1/j,t[0]=(s*P-u*T+c*E)*j,t[1]=(u*k-a*P-c*C)*j,t[2]=(a*T-s*k+c*S)*j,t[3]=(i*T-r*P-o*E)*j,t[4]=(n*P-i*k+o*C)*j,t[5]=(r*k-n*T-o*S)*j,t[6]=(g*O-v*M+y*w)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*M-g*x+y*m)*j,t):null}function E(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function T(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function P(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function N(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function A(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function I(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function _(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function L(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(n-f)<=o.b*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=o.b*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=o.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-g)<=o.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=o.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=o.b*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=o.b*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-b)<=o.b*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(h-x)<=o.b*Math.max(1,Math.abs(h),Math.abs(x))}var B=y,D=N,R=n(52);function Y(){var t=new o.a(3);return o.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function F(t){var e=new o.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function X(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function z(t,e,n){var r=new o.a(3);return r[0]=t,r[1]=e,r[2]=n,r}function W(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function H(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function q(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function G(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function U(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function V(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Z(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Q(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function K(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function $(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function J(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function tt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function et(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function nt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function rt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function it(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function ot(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function at(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function st(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function ut(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ct(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function lt(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function ht(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t}function ft(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*h+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*h+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*h+i[2]*f,t}function dt(t,e){e=e||1;var n=2*o.c()*Math.PI,r=2*o.c()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function pt(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function gt(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function vt(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],l=i*c-o*u,h=o*s-r*c,f=r*u-i*s,d=i*f-o*h,p=o*l-r*f,g=r*h-i*l,v=2*a;return l*=v,h*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+l+d,t[1]=u+h+p,t[2]=c+f+g,t}function yt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function mt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function bt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xt(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&ut(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function wt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Mt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ot(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function St(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=o.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=o.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=o.b*Math.max(1,Math.abs(i),Math.abs(u))}var Ct,kt=G,Et=U,Tt=V,Pt=nt,jt=rt,Nt=X,At=it,It=(Ct=Y(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Ct[0]=t[a],Ct[1]=t[a+1],Ct[2]=t[a+2],i(Ct,Ct,o),t[a]=Ct[0],t[a+1]=Ct[1],t[a+2]=Ct[2];return t})},,function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(11),e),i(n(12),e),i(n(13),e),i(n(14),e),i(n(15),e),i(n(16),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0;e.isString=function(t){return"string"==typeof t};var r,i,o=/-(\w)/g;e.camelize=(r=function(t){return t.replace(o,(function(t,e){return e?e.toUpperCase():""}))},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;e.isNumber=function(t){return"number"==typeof t};e.isNaN=function(t){return Number.isNaN(Number(t))};e.toNumber=function(t){var n=parseFloat(t);return e.isNaN(n)?t:n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegree=void 0;e.getDegree=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n?(n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r):r};e.floydWarshall=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e};e.getAdjMatrix=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)})),i};e.scaleMatrix=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n};e.traverseTreeUp=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!!n(e)}(t,e)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;e.isObject=function(t){return null!==t&&"object"===r(t)};e.clone=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var n=[];return t.forEach((function(t){n.push(t)})),n.map((function(t){return e.clone(t)}))}if("object"===r(t)&&t!=={}){var o=i({},t);return Object.keys(o).forEach((function(t){o[t]=e.clone(o[t])})),o}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0;e.isFunction=function(t){return"function"==typeof t}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROPS_CLIENT_XY=e.PROPS_XY=e.DIRECTION_ALL=e.DIRECTION_VERTICAL=e.DIRECTION_HORIZONTAL=e.DIRECTION_DOWN=e.DIRECTION_UP=e.DIRECTION_RIGHT=e.DIRECTION_LEFT=e.DIRECTION_NONE=e.INPUT_CANCEL=e.INPUT_END=e.INPUT_MOVE=e.INPUT_START=e.COMPUTE_INTERVAL=e.INPUT_TYPE_TOUCH=e.INPUT_TYPE_PEN=e.INPUT_TYPE_MOUSE=e.INPUT_TYPE_KINECT=void 0;e.INPUT_TYPE_TOUCH="touch";e.INPUT_TYPE_PEN="pen";e.INPUT_TYPE_MOUSE="mouse";e.INPUT_TYPE_KINECT="kinect";e.COMPUTE_INTERVAL=25;e.INPUT_START=1;e.INPUT_MOVE=2;e.INPUT_END=4;e.INPUT_CANCEL=8;e.DIRECTION_NONE=1;e.DIRECTION_LEFT=2;e.DIRECTION_RIGHT=4;e.DIRECTION_UP=8;e.DIRECTION_DOWN=16;e.DIRECTION_HORIZONTAL=6;e.DIRECTION_VERTICAL=24;e.DIRECTION_ALL=30;e.PROPS_XY=["x","y"];e.PROPS_CLIENT_XY=["clientX","clientY"]},function(t,e,n){"use strict";var r=n(94),i=Object(r.getColorsWithSubjectColor)("rgb(95, 149, 255)","rgb(255, 255, 255)");e.a={version:"0.0.11",rootContainerClassName:"root-container",uiContainerClassName:"ui-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:i.mainStroke,fill:i.mainFill},size:20,color:i.mainStroke,linkPoints:{size:8,lineWidth:1,fill:i.activeFill,stroke:i.activeStroke}},nodeStateStyles:{active:{fill:i.activeFill,stroke:i.activeStroke,lineWidth:2,shadowColor:i.mainStroke,shadowBlur:10},selected:{fill:i.selectedFill,stroke:i.selectedStroke,lineWidth:4,shadowColor:i.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:i.highlightFill,stroke:i.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:i.inactiveFill,stroke:i.inactiveStroke,lineWidth:1},disable:{fill:i.disableFill,stroke:i.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:i.edgeMainStroke,lineAppendWidth:2},color:i.edgeMainStroke},edgeStateStyles:{active:{stroke:i.edgeActiveStroke,lineWidth:1},selected:{stroke:i.edgeSelectedStroke,lineWidth:2,shadowColor:i.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:i.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:i.edgeInactiveStroke,lineWidth:1},disable:{stroke:i.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:i.comboMainFill,lineWidth:1,stroke:i.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:i.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:i.comboActiveStroke,lineWidth:1,fill:i.comboActiveFill},selected:{stroke:i.comboSelectedStroke,lineWidth:2,fill:i.comboSelectedFill,shadowColor:i.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:i.comboHighlightStroke,lineWidth:2,fill:i.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:i.comboInactiveStroke,fill:i.comboInactiveFill,lineWidth:1},disable:{stroke:i.comboDisableStroke,fill:i.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"}},,function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*l,n[2]=f*o+d*u+p*h,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*l,n[5]=g*o+v*u+y*h,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*l,n[8]=m*o+b*u+x*h,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-l*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(l*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r={};function i(t){void 0===t&&(t={}),r.requestAnimationFrame=t.requestAnimationFrame,r.clearAnimationFrame=t.cancelAnimationFrame}function o(t){return r.requestAnimationFrame?r.requestAnimationFrame(t):("object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)})(t)}function a(t){return r.clearAnimationFrame?r.clearAnimationFrame(t):("object"==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame:clearTimeout)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STATE_FAILED=e.STATE_CANCELLED=e.STATE_RECOGNIZED=e.STATE_ENDED=e.STATE_CHANGED=e.STATE_BEGAN=e.STATE_POSSIBLE=void 0;e.STATE_POSSIBLE=1;e.STATE_BEGAN=2;e.STATE_CHANGED=4;e.STATE_ENDED=8;e.STATE_RECOGNIZED=8;e.STATE_CANCELLED=16;e.STATE_FAILED=32},,function(t,e,n){"use strict";var r=n(100);n.d(e,"a",(function(){return r.Layout})),n.d(e,"b",(function(){return r.Layouts}));var i=n(64);n.d(e,"c",(function(){return i.registerLayout})),n.d(e,"d",(function(){return i.unRegisterLayout}));var o=n(65);Object(i.registerLayout)("random",o.RandomLayout)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return s}));var r=n(0),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if(Object(r.l)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),"m"===u&&s.length>2&&(n.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&n.push([i,s[0]]),"r"===u)n.push([i].concat(s));else for(;s.length>=e[u]&&(n.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),n};var u=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.d)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function c(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var l=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],l=0;l<=i;l++)s[l]=[],s[l][0]={min:l};for(var h=0;h<=o;h++)s[0][h]={min:h};for(l=1;l<=i;l++){n=t[l-1];for(h=1;h<=o;h++){r=e[h-1],a=u(n,r)?0:1;var f=s[l-1][h].min+1,d=s[l][h-1].min+1,p=s[l-1][h-1].min+a;s[l][h]=c(f,d,p)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var h=n[l][l].min;s=l;for(var f=a;f<=i;f++)n[l][f].min<h&&(h=n[l][f].min,s=f);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=i-(r=t.length);if(r<i)for(l=0;l<d;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function h(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=f(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function f(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var d=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=f(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=h(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"getAdjMatrix",(function(){return r})),n.d(e,"breadthFirstSearch",(function(){return h})),n.d(e,"connectedComponent",(function(){return d})),n.d(e,"getDegree",(function(){return g})),n.d(e,"getInDegree",(function(){return v})),n.d(e,"getOutDegree",(function(){return y})),n.d(e,"detectCycle",(function(){return M})),n.d(e,"detectDirectedCycle",(function(){return it})),n.d(e,"detectAllCycles",(function(){return w})),n.d(e,"detectAllDirectedCycle",(function(){return x})),n.d(e,"detectAllUndirectedCycle",(function(){return b})),n.d(e,"depthFirstSearch",(function(){return m})),n.d(e,"dijkstra",(function(){return C})),n.d(e,"findAllPath",(function(){return T})),n.d(e,"findShortestPath",(function(){return E})),n.d(e,"floydWarshall",(function(){return P})),n.d(e,"labelPropagation",(function(){return j})),n.d(e,"louvain",(function(){return A})),n.d(e,"minimumSpanningTree",(function(){return R})),n.d(e,"pageRank",(function(){return Y})),n.d(e,"getNeighbors",(function(){return u})),n.d(e,"Stack",(function(){return rt})),n.d(e,"GADDI",(function(){return nt}));var r=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))})),i},i=function(t,e){return t===e},o=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):""+this.value},t}(),a=function(){function t(t){void 0===t&&(t=i),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new o(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new o(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),s=function(){function t(){this.linkedList=new a}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),u=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){return r.filter((function(e){return e.source===t})).map((function(t){return t.target}))}if("source"===n){return r.filter((function(e){return e.target===t})).map((function(t){return t.source}))}return r.map((function(e){return e.source===t?e.target:e.source}))},c=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))},l=function(t){return void 0===t&&(t=0),t+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)};var h=function(t,e,n){var r=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),i=new s,o=t.edges,a=void 0===o?[]:o;i.enqueue(e);for(var c="",l=function(){var t=i.dequeue();r.enter({current:t,previous:c}),u(t,a,"target").forEach((function(e){r.allowTraversal({previous:c,current:t,next:e})&&i.enqueue(e)})),r.leave({current:t,previous:c}),c=t};!i.isEmpty();)l()},f=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s={},c={},l=[],h=0,f=function t(e){s[e.id]=h,c[e.id]=h,h+=1,o.push(e),a[e.id]=!0;for(var r=u(e.id,i,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(c[e.id]=Math.min(c[e.id],s[o]));else{var u=n.filter((function(t){return t.id===o}));u.length>0&&t(u[0]),c[e.id]=Math.min(c[e.id],c[o])}},d=0;d<r.length;d++)f(d);if(c[e.id]===s[e.id]){for(var p=[];o.length>0;){var g=o.pop();if(a[g.id]=!1,p.push(g),g===e)break}p.length>0&&l.push(p)}},d=0,p=n;d<p.length;d++){var g=p[d];s[g.id]||0===s[g.id]||f(g)}return l};function d(t,e){return e?f(t):function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s=[],c=function t(e){s.push(e),a[e.id]=!0;for(var r=u(e.id,i),o=function(e){var i=r[e];if(!a[i]){var o=n.filter((function(t){return t.id===i}));o.length>0&&t(o[0])}},c=0;c<r.length;++c)o(c)},l=0;l<n.length;l++){var h=n[l];if(!a[h.id]){c(h);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(t)}var p=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},g=p,v=function(t,e){return p(t)[e]?p(t)[e].inDegree:0},y=function(t,e){return p(t)[e]?p(t)[e].outDegree:0};function m(t,e,n){!function t(e,n,r,i){i.enter({current:n,previous:r});var o=e.edges;u(n,void 0===o?[]:o,"target").forEach((function(o){i.allowTraversal({previous:r,current:n,next:o})&&t(e,o,n,i)})),i.leave({current:n,previous:r})}(t,e,"",function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n))}var b=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=d(t,!1);a<s.length;a++){var c=s[a];if(c.length)for(var l=c[0],h=l.id,f=[l],p=((r={})[h]=l,r),g=((i={})[h]=new Set,i);f.length>0;)for(var v=f.pop(),y=v.id,m=u(y,t.edges),b=function(r){var i,a=m[r],s=t.nodes.find((function(t){return t.id===a}));if(a===y)o.push(((i={})[a]=v,i));else if(a in g){if(!g[y].has(s)){for(var u=!0,c=[s,v],l=p[y];g[a].size&&!g[a].has(l)&&(c.push(l),l!==p[l.id]);)l=p[l.id];if(c.push(l),e&&n?(u=!1,c.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(u=!0)):e&&!n&&c.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(u=!1),u){for(var h={},d=1;d<c.length;d+=1)h[c[d-1].id]=c[d];c.length&&(h[c[c.length-1].id]=c[0]),o.push(h)}g[a].add(v)}}else p[a]=v,f.push(s),g[a]=new Set([v])},x=0;x<m.length;x+=1)b(x)}return o},x=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},c={},l=function t(u,c,l){var h=!1;if(e&&!1===n&&e.indexOf(u.id)>-1)return h;r.push(u),i.add(u);for(var f=l[u.id],d=0;d<f.length;d+=1){if((v=s[f[d]])===c){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),h=!0}else i.has(v)||t(v,c,l)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(t){e.push(t)})),o[n.id].clear())}}(u);else for(d=0;d<f.length;d+=1){var v=s[f[d]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),h},h=t.nodes,d=void 0===h?[]:h,p=0;p<d.length;p+=1){var g=d[p],v=g.id;c[v]=p,s[p]=g}if(e&&n){var y=function(t){var n=e[t];c[d[t].id]=c[n],c[n]=0,s[0]=d.find((function(t){return t.id===n})),s[c[d[t].id]]=d[t]};for(p=0;p<e.length;p++)y(p)}for(var m=function(r){for(var i,o,s=1/0,l=0;l<r.length;l+=1)for(var h=r[l],f=0;f<h.length;f++){var d=c[h[f].id];d<s&&(s=d,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var v=p[l];g[v.id]=[];for(var y=0,m=u(v.id,t.edges,"target").filter((function(t){return p.map((function(t){return t.id})).indexOf(t)>-1}));y<m.length;y++){var b=m[y];b!==v.id||!1===n&&e.indexOf(v.id)>-1?g[v.id].push(c[b]):a.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:s}},b=0;b<d.length;){var x=d.filter((function(t){return c[t.id]>=b})),w=f({nodes:x,edges:t.edges}).filter((function(t){return t.length>1}));if(0===w.length)break;var M=m(w),O=M.minIdx,S=M.adjList,C=M.component;if(!(C.length>1))break;C.forEach((function(t){o[t.id]=new Set}));var k=s[O];if(e&&n&&-1===e.indexOf(k.id))return a;l(k,k,S),b=O+1}return a},w=function(t,e,n,r){return void 0===r&&(r=!0),e?x(t,n,r):b(t,n,r)},M=function(t){var e=null,n=t.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(t){i[t.id]=t}));for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,u=a;u!==n;)e[s]=u,s=u,u=r[u];e[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};Object.keys(i).length;){m(t,Object.keys(i)[0],s)}return e},O=n(1),S=n(0),C=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,u=[],l={},h={},f={};o.forEach((function(t,n){var r=t.id;u.push(r),h[r]=1/0,r===e&&(h[r]=0)}));for(var d=o.length,p=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(h,o,l),i=e.id;if(l[i]=!0,h[i]===1/0)return"continue";(n?function(t,e){return e.filter((function(e){return e.source===t}))}(i,s):c(i,s)).forEach((function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;h[a]>h[e.id]+s?(h[a]=h[e.id]+s,f[a]=[e.id]):h[a]===h[e.id]+s&&f[a].push(e.id)}))},g=0;g<d;g++)p();f[e]=[e];var v={};for(var y in h)h[y]!==1/0&&k(e,y,f,v);var m={};for(var y in v)m[y]=v[y][0];return{length:h,path:m,allPath:v}};function k(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=k(t,a[o],n,r);if(!s)return;for(var u=0,c=s;u<c.length;u++){var l=c[u];Object(S.l)(l)?i.push(Object(O.f)(Object(O.f)([],l),[e])):i.push([l,e])}}return r[e]=i,r[e]}var E=function(t,e,n,r,i){var o=C(t,e,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},T=function(t,e,n,r){var i;if(e===n)return[[e]];var o=t.edges,a=void 0===o?[]:o,s=[e],c=((i={})[e]=!0,i),l=[],h=[],f=r?u(e,a,"target"):u(e,a);for(l.push(f);s.length>0&&l.length>0;){var d=l[l.length-1];if(d.length){var p=d.shift();if(p&&(s.push(p),c[p]=!0,f=r?u(p,a,"target"):u(p,a),l.push(f.filter((function(t){return!c[t]})))),s[s.length-1]===n){var g=s.map((function(t){return t}));h.push(g);v=s.pop();c[v]=!1,l.pop()}}else{var v=s.pop();c[v]=!1,l.pop()}}return h},P=function(t,e){for(var n=r(t,e),i=[],o=n.length,a=0;a<o;a+=1){i[a]=[];for(var s=0;s<o;s+=1)a===s?i[a][s]=0:0!==n[a][s]&&n[a][s]?i[a][s]=n[a][s]:i[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)i[a][s]>i[a][u]+i[u][s]&&(i[a][s]=i[a][u]+i[u][s]);return i},j=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e3);var o=t.nodes,a=void 0===o?[]:o,s=t.edges,u=void 0===s?[]:s,c={},h={};a.forEach((function(t,e){var n=l();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}}));var f=r(t,e),d=[],p={};f.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=a[e].id;p[r][i]=t}})),d.push(n)}));for(var g=0,v=function(){var t=!1;if(a.forEach((function(e){var n={};Object.keys(p[e.id]).forEach((function(t){var r=p[e.id][t],i=h[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=c[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),l=c[i[u]];l.nodes.push(e),e.clusterId=l.id}}})),!t)return"break";g++};g<i;){if("break"===v())break}Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var y=[],m={};u.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=h[e].node.clusterId,a=h[r].node.clusterId,s=o+"---"+a;if(m[s])m[s].weight+=i,m[s].count++;else{var u={source:o,target:a,weight:i,count:1};m[s]=u,y.push(u)}}));var b=[];return Object.keys(c).forEach((function(t){b.push(c[t])})),{clusters:b,clusterEdges:y}},N=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var u=t[s].clusterId,c=0;c<i;c++){if(u===t[c].clusterId)a+=(e[s][c]||0)-(n[s]||0)*(n[c]||0)/o}return a*=1/o},A=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4);var o=t.nodes,a=void 0===o?[]:o,s=t.edges,u=void 0===s?[]:s,c=1,l={},h={};a.forEach((function(t,e){var n=String(c++);t.clusterId=n,l[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}}));var f=r(t,e),d=[],p={},g=0;f.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=a[e].id;p[r][i]=t,g+=t}})),d.push(n)})),g/=2;for(var v=1/0,y=1/0,m=0;v=N(a,f,d,g),!(Math.abs(v-y)<i||m>100);)y=v,m++,Object.keys(l).forEach((function(t){var e=0;u.forEach((function(r){var i=r.source,o=r.target,a=h[i].node.clusterId,s=h[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=r[n]||1)})),l[t].sumTot=e})),a.forEach((function(t,e){var r,i=l[t.clusterId],o=0,a=d[e]/(2*g),s=0;i.nodes.forEach((function(t){var n=h[t.id].idx;s+=f[e][n]||0}));var c=s-i.sumTot*a,v=p[t.id];if(Object.keys(v).forEach((function(n){var i=h[n].node.clusterId;if(i!==t.clusterId){var s=l[i],u=s.nodes;if(u&&u.length){var d=0;u.forEach((function(t){var n=h[t.id].idx;d+=f[e][n]||0}));var p=d-s.sumTot*a-c;p>o&&(o=p,r=s)}}})),o>0){r.nodes.push(t);var y=t.clusterId;t.clusterId=r.id;var m=i.nodes.indexOf(t);i.nodes.splice(m,1);var b=0,x=0;u.forEach((function(t){var e=t.source,i=t.target,o=h[e].node.clusterId,a=h[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(b+=t[n]||1),(o===y&&a!==y||a===y&&o!==y)&&(x+=t[n]||1)})),r.sumTot=b,i.sumTot=x}}));var b={},x=0;Object.keys(l).forEach((function(t){var e=l[t];if(e.nodes&&e.nodes.length){var n=String(x+1);n!==t&&(e.id=n,e.nodes=e.nodes.map((function(t){return{id:t.id,clusterId:n}})),l[n]=e,b[t]=n,delete l[t],x++)}else delete l[t]})),a.forEach((function(t){t.clusterId&&b[t.clusterId]&&(t.clusterId=b[t.clusterId])}));var w=[],M={};u.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=h[e].node.clusterId,a=h[r].node.clusterId,s=o+"---"+a;if(M[s])M[s].weight+=i,M[s].count++;else{var u={source:o,target:a,weight:i,count:1};M[s]=u,w.push(u)}}));var O=[];return Object.keys(l).forEach((function(t){O.push(l[t])})),{clusters:O,clusterEdges:w}},I=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),_=function(t,e){return t-e},L=function(){function t(t){void 0===t&&(t=_),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),B=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var l=new L((function(t,n){return e?t.weight-n.weight:0}));for(c(s.id,a).forEach((function(t){l.insert(t)}));!l.isEmpty();){var h=l.delMin(),f=h.source,d=h.target;u.has(f)&&u.has(d)||(n.push(h),u.has(f)||(u.add(f),c(f,a).forEach((function(t){l.insert(t)}))),u.has(d)||(u.add(d),c(d,a).forEach((function(t){l.insert(t)}))))}return n},D=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(t){return t}));e&&s.sort((function(t,e){return t.weight-e.weight}));for(var u=new I(i.map((function(t){return t.id})));s.length>0;){var c=s.shift(),l=c.source,h=c.target;u.connected(l,h)||(n.push(c),u.union(l,h))}return n},R=function(t,e,n){return n?{prim:B,kruskal:D}[n](t,e):D(t,e)},Y=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,c=void 0===s?[]:s,l=t.edges,h=void 0===l?[]:l,f=c.length,d={},p={},v=0;v<f;++v){d[m=(O=c[v]).id]=1/f,p[m]=1/f}for(var y=g(t);a>0&&i>e;){o=0;for(v=0;v<f;++v){var m=(O=c[v]).id;if(r=0,0===y[O.id].inDegree)d[m]=0;else{for(var b=u(m,h,"source"),x=0;x<b.length;++x){var w=b[x],M=y[w].outDegree;M>0&&(r+=p[w]/M)}d[m]=n*r,o+=d[m]}}o=(1-o)/f,i=0;for(v=0;v<f;++v){var O;r=d[m=(O=c[v]).id]+o,i+=Math.abs(r-p[m]),p[m]=r}a-=1}return p},F=function(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t,this.from=e,this.to=n,this.label=r},X=function(){function t(t,e){void 0===t&&(t=-1),void 0===e&&(e="-1"),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),z=function(){function t(t,e,n){void 0===t&&(t=-1),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new X(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new F(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new F(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),W=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||"-1",edgeLabel:r||"-1",nodeLabel2:i||"-1"}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),H=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new W(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new z(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;"-1"!==o&&n.addNode(e,o),"-1"!==s&&n.addNode(r,s),n.addEdge(void 0,e,r,a)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),q=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),G=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,a=t.maxNodeNum,s=void 0===a?4:a,u=t.top,c=void 0===u?10:u,l=t.directed,h=void 0!==l&&l,f=t.verbose,d=void 0!==f&&f;this.graphs=e,this.dfsCode=new H,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=h,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=d,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=u.label)return u}else if(e.label<u.label||e.label===u.label&&i[e.to].label<=i[n.to].label)return u}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=t.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&i.push(c)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],h=o[l.to].label;e.to===l.to||n>h||r.hasNode(o[l.to])||(e.label<l.label||e.label===l.label&&a<=h)&&i.push(l)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(-1,n),i=r.nodeMap,o=new H,a={};r.nodes.forEach((function(e){t.findForwardRootEdges(r,e).forEach((function(t){var n=i[t.to],o=e.label+"-"+t.label+"-"+n.label;a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:r.id,edge:t,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);o.dfsEdgeList.push(new W(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u=s.nodeLabel1+"-"+s.edgeLabel+"-"+s.nodeLabel2;return function a(s){for(var u=o.buildRmpath(),c=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l=o.dfsEdgeList[u[0]].toNode,h={},f=!1,d=0,p=n?-1:0,g=function(e){if(f)return"break";s.forEach((function(n){var i=new q(n),a=t.findBackwardEdge(r,i.edges[u[e]],i.edges[u[0]],i);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:r.id,edge:h,preNode:n}),d=o.dfsEdgeList[u[e]].fromNode,f=!0)}))},v=u.length-1;v>p;v--){if("break"===g(v))break}if(f){var y=t.findMinLabel(h);o.dfsEdgeList.push(new W(l,d,"-1",y.edgeLabel,"-1"));var m=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[m]===o.dfsEdgeList[m]&&a(h[y.edgeLabel].projected)}var b={};f=!1;var x=0;s.forEach((function(e){var n=new q(e),o=t.findForwardPureEdges(r,n.edges[u[0]],c,n);o.length>0&&(f=!0,x=l,o.forEach((function(t){var n=t.label+"-"+i[t.to].label;b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var w=u.length,M=function(e){if(f)return"break";var n=u[e];s.forEach((function(e){var a=new q(e),s=t.findForwardRmpathEdges(r,a.edges[n],c,a);s.length>0&&(f=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(t){var n=t.label+"-"+i[t.to].label;b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(v=0;v<w;v++){if("break"===M(v))break}if(!f)return!0;var O=t.findMinLabel(b);o.dfsEdgeList.push(new W(x,l+1,"-1",O.edgeLabel,O.nodeLabel2));var S=o.dfsEdgeList.length-1;return e.dfsEdgeList[S]===o.dfsEdgeList[S]&&a(b[O.edgeLabel+"-"+O.nodeLabel2].projected)}(a[u].projected)},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(S.b)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach((function(t){for(var u=e.graphs[t.graphId],c=u.nodeMap,l=new q(t),h=r.length-1;h>=0;h--){var f=e.findBackwardEdge(u,l.edges[r[h]],l.edges[r[0]],l);if(f){var d=e.dfsCode.dfsEdgeList[r[h]].fromNode+"-"+f.label;s[d]||(s[d]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[h]].fromNode,edgeLabel:f.label}),s[d].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(u,l.edges[r[0]],o,l).forEach((function(e){var n=i+"-"+e.label+"-"+c[e.to].label;a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:e.label,nodeLabel2:c[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var p=function(n){e.findForwardRmpathEdges(u,l.edges[r[n]],o,l).forEach((function(i){var o=e.dfsCode.dfsEdgeList[r[n]].fromNode+"-"+i.label+"-"+c[i.to].label;a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:c[i.to].label}),a[o].projected.push({graphId:t.graphId,edge:i,preNode:t})}))};for(h=0;h<r.length;h++)p(h)}})),Object.keys(s).forEach((function(t){var n=s[t],r=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new W(i,r,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(t){var n=a[t],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new W(r,i+1,"-1",o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach((function(n){var r=t[n],u=r.nodeMap;r.nodes.forEach((function(t,r){var c=t.label,l=n+"-"+c;if(!a[l]){var h=i[c]||0;h++,i[c]=h}a[l]={graphKey:n,label:c},t.edges.forEach((function(t){var r=c,i=u[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var l=t.label,h=n+"-"+r+"-"+l+"-"+i,f=r+"-"+l+"-"+i;if(!o[f]){var d=o[f]||0;d++,o[f]=d}s[h]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){t.findForwardRootEdges(i,e).forEach((function(t){var i=o[t.to],a=e.label+"-"+t.label+"-"+i.label;n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new W(0,1,o,a,s)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),U=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,i=t.nodeLabelProp,o=void 0===i?"cluster":i,a=t.edgeLabelProp,s=void 0===a?"cluster":a,u=function(t,e,n,r){var i={};return Object.keys(t).forEach((function(o,a){var s=t[o],u=new z(a,!0,e),c={};s.nodes.forEach((function(t,e){u.addNode(e,t[n]),c[t.id]=e})),s.edges.forEach((function(t,e){var n=c[t.source],i=c[t.target];u.addEdge(-1,n,i,t[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(e,r,o,s),c=t.minSupport,l=t.maxNodeNum,h=t.minNodeNum,f=t.verbose,d=t.top,p=new G({graphs:u,minSupport:c,maxNodeNum:l,minNodeNum:h,top:d,verbose:f,directed:r});return p.run(),function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push(((n={id:""+t.id})[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push(((e={source:""+t.from,target:""+t.to})[n]=t.label,e))})),r.push(i)})),r}(p.frequentSubgraphs,o,s)};function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Z=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(Q(o,t,e,n,r))})),i},Q=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach((function(e,u){if(e<=i&&n!==u){o.push(u),a.push(t[u]);var c=t[u][r];s[c]?(s[c].count++,s[c].dists.push(e)):s[c]={count:1,dists:[e]}}})),Object.keys(s).forEach((function(t){s[t].dists=s[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},K=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=t[o],c=null===(a=e[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=e[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var h=new Set(l),f=c.filter((function(t){return h.has(t)}));if(f&&f.length){for(var d={},p=f.length,g=0;g<p;g++){var v=i[f[g]];r[o].nodes.push(v),d[v.id]=!0}n.edges.forEach((function(t){d[t.source]&&d[t.target]&&r[o].edges.push(t)}))}}}})),r},$=function(t,e,n,r){var i={};t.nodes.forEach((function(t){i[t.id]=t}));var o=0;return t.edges.forEach((function(t){var a=i[t.source][n],s=i[t.target][n],u=e.nodes[0][n],c=e.nodes[1][n],l=e.edges[0][r];t[r]===l&&(a===u&&s===c||a===c&&s===u)&&o++})),o},J=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},tt=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r[""+l]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var s=n[t.source];s&&s.degree++;var u=n[t.target];u&&u.degree++})),{edgeMap:r,edgeLabelMap:i}},et=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var a=n?0:o+1,s=t[o].id,u=a;u<r;u++)if(o!==u){var c=t[u].id,l=e[u];i[s+"-"+c]=l,n||(i[c+"-"+s]=l)}})),i},nt=function(t,e,n,r,i,o,a){if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),t&&t.nodes){var s=t.nodes.length;if(s){var u=P(t,n),c=P(e,n),l=et(t.nodes,u,n),h=et(e.nodes,c,n),f=J(t.nodes,o),d=f.nodeMap,p=f.nodeLabelMap,g=J(e.nodes,o),v=g.nodeMap,y=g.nodeLabelMap;tt(t.edges,a,d);var m=tt(e.edges,a,v).edgeLabelMap;i||(i=Math.max.apply(Math,Object(O.f)(Object(O.f)([],c[0]),[2]))),r||(r=i);var b=Z(t,u,o,r),x=Z(e,c,o,r),w=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach((function(t,r){for(var u=0,c=0,l=t.nodeIdxs,h=t.neighborNum-1;u<o;){for(var f=l[1+Math.floor(Math.random()*h)],d=0;(a[r+"-"+f]||a[f+"-"+r])&&(f=Math.floor(Math.random()*e),!(++d>2*e)););if(d<2*e&&(a[r+"-"+f]={start:r,end:f,distance:i[r][f]},u++,++s>=n))return a;if(++c>2*e)break}u<o&&(o=(o+(o-u))/(e-r-1))})),a}(0,s,Math.min(100,s*(s-1)/2),x,u),M=K(w,b,t),S=U({graphs:M,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),k=S.length,E=[];S.forEach((function(t,e){E[e]={},Object.keys(M).forEach((function(n){var r=M[n],i=$(r,t,o,a);E[e][n]=i}))}));var T=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),a=[];o.forEach((function(t,e){a[e%10]||(a[e%10]={graphs:[],totalCount:0,aveCount:0}),a[e%10].graphs.push(t),a[e%10].totalCount+=n[t]}));var s=0,u=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,u.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var c=0;u.forEach((function(t,e){u.forEach((function(n,r){e!==r&&(c+=Math.abs(t-n))})),c/=u.length*(u.length-1)/2}));var l=c-s;r<l&&(r=l,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(E,k,S),j=T.structure,N=T.structureCountMap,A=e.nodes[0],I=A[o],_=p[I],L={},B={},D={},R={},Y={};Object.keys(y).forEach((function(n,r){Y[n]=[];var i=-1/0,s=y[n],u={};s.forEach((function(t){var e=h[A.id+"-"+t.id];e&&Y[n].push(e),i<e&&(i=e),u[A.id+"-"+t.id]={start:0,end:v[t.id].idx,distance:e}})),Y[n]=Y[n].sort((function(t,e){return t-e})),B=K(u,x,e,B);var c=[];if(Object.keys(u).forEach((function(t){if(D[t])c.push(D[t]);else{var e=B[t];D[t]=$(e,j,o,a),c.push(D[t])}})),c=c.sort((function(t,e){return e-t})),R[A.id+"-"+n]=c,n!==I)for(var f=function(e){var r=_[e],i=b[d[r.id].idx],s=i.nodeLabelCountMap[n],u=y[n].length;if(!s||s.count<u)return _.splice(e,1),"continue";for(var h=!1,f=0;f<u;f++)if(s.dists[f]>Y[n][f]){h=!0;break}if(h)return _.splice(e,1),"continue";var p={};i.neighbors.forEach((function(t){var e=l[r.id+"-"+t.id];p[r.id+"-"+t.id]={start:d[r.id].idx,end:d[t.id].idx,distance:e}})),M=K(p,b,t,M);var g=[];Object.keys(p).forEach((function(t){if(N[t])g.push(N[t]);else{var e=M[t];N[t]=$(e,j,o,a),g.push(N[t])}})),g=g.sort((function(t,e){return e-t}));var v=!1;for(f=0;f<u;f++)if(g[f]<c[f]){v=!0;break}return v?(_.splice(e,1),"continue"):void 0},p=_.length-1;p>=0;p--)f(p)}));var F=[];_.forEach((function(n){for(var r=d[n.id].idx,s=Q(t.nodes,u[r],r,o,i).neighbors,c=s.length,h=!1,f=function(r){if(s.length+1<e.nodes.length)return h=!0,{value:void 0};var i=s[r],u=i[o];if(!y[u]||!y[u].length)return s.splice(r,1),"continue";var c=n.id+"-"+i.id;if(!Y[u]||!Y[u].length)return s.splice(r,1),"continue";var f=l[c];if(f>Y[u][Y[u].length-1])return s.splice(r,1),"continue";var p=N[c]?N[c]:function(t,e,n,r,i,o,a,s,u,c,l){var h,f=e.id+"-"+n.id;if(c&&c[f])return c[f];var d=l?l[f]:void 0;if(!d){var p=((h={})[f]={start:r[e.id].idx,end:r[n.id].idx,distance:i},h);d=(l=K(p,o,t,l))[f]}return $(d,a,s,u)}(t,n,i,d,f,b,j,o,a,N,M),g=A.id+"-"+u;if(p<R[g][R[g].length-1])return s.splice(r,1),"continue";var m=L[u];return void 0===m&&(m=1/0,y[u].forEach((function(t){var e=v[t.id].degree;m>e&&(m=e)})),L[u]=m),d[i.id].degree<m?(s.splice(r,1),"continue"):void 0},p=c-1;p>=0;p--){var g=f(p);if("object"===V(g))return g.value}h||F.push({nodes:[n].concat(s)})}));var X=C(e,A.id,!1).length,z={};n?(Object.keys(X).forEach((function(t){var e=v[t].node[o];z[e]?z[e].push(X[t]):z[e]=[X[t]]})),Object.keys(z).forEach((function(t){z[t].sort((function(t,e){return t-e}))}))):z=Y;for(var W=function(r){var i=F[r],s=i.nodes[0],u={},c={};i.nodes.forEach((function(t,e){c[t.id]={idx:e,node:t,degree:0};var n=t[o];u[n]?u[n]++:u[n]=1}));var l=[],h={};t.edges.forEach((function(t){c[t.source]&&c[t.target]&&(l.push(t),h[t[a]]?h[t[a]]++:h[t[a]]=1,c[t.source].degree++,c[t.target].degree++)}));for(var f=Object.keys(m).length,p=!1,g=0;g<f;g++){var b=Object.keys(m)[g];if(!h[b]||h[b]<m[b].length){p=!0;break}}if(p)return F.splice(r,1),"continue";var x=l.length;if(x<e.edges.length)return F.splice(r,1),"break";var w=!1,M=function(t){var e=l[t],r=e[a],i=m[r];if(!i||!i.length)return h[r]--,i&&h[r]<i.length?(w=!0,"break"):(l.splice(t,1),c[e.source].degree--,c[e.target].degree--,"continue");var s=c[e.source].node[o],u=c[e.target].node[o],f=!1;return i.forEach((function(t){var e=v[t.source].node,r=v[t.target].node;e[o]===s&&r[o]===u&&(f=!0),n||e[o]!==u||r[o]!==s||(f=!0)})),f?void 0:(h[r]--,i&&h[r]<i.length?(w=!0,"break"):(l.splice(t,1),c[e.source].degree--,c[e.target].degree--,"continue"))};for(g=x-1;g>=0;g--){if("break"===M(g))break}if(w)return F.splice(r,1),"continue";i.edges=l;var O=C(i,i.nodes[0].id,!1).length;if(Object.keys(O).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!w){if(O[t]===1/0){var e=c[t].node[o];if(u[e]--,u[e]<y[e].length)return void(w=!0);var n=i.nodes.indexOf(c[t].node);return i.nodes.splice(n,1),void(c[t]=void 0)}var r=d[t].node[o];if(!z[r]||!z[r].length||O[t]>z[r][z[r].length-1]){e=c[t].node[o];if(u[e]--,u[e]<y[e].length)return void(w=!0);n=i.nodes.indexOf(c[t].node);i.nodes.splice(n,1),c[t]=void 0}}})),w)return F.splice(r,1),"continue";for(var S=!0,k=0;S&&!w;){if(S=!1,c[s.id].degree<v[A.id].degree){w=!0;break}if(u[s[o]]<y[s[o]].length){w=!0;break}for(var E=i.nodes.length-1;E>=0;E--){var T=i.nodes[E],P=c[T.id].degree,j=T[o];if(P<L[j]){if(u[T[o]]--,u[T[o]]<y[T[o]].length){w=!0;break}i.nodes.splice(E,1),c[T.id]=void 0,S=!0}}if(w||!S&&0!==k)break;for(var N=(x=l.length)-1;N>=0;N--){var I=l[N];if(!c[I.source]||!c[I.target]){l.splice(N,1);var _=I[a];if(h[_]--,c[I.source]&&c[I.source].degree--,c[I.target]&&c[I.target].degree--,m[_]&&h[_]<m[_].length){w=!0;break}S=!0}}k++}return w||w||i.nodes.length<e.nodes.length||l.length<e.edges.length?(F.splice(r,1),"continue"):void 0},H=F.length-1;H>=0;H--){if("break"===W(H))break}var q=F.length,G=function(t){var e=F[t],n={};e.edges.forEach((function(t){var e=t.source+"-"+t.target+"-"+t.label;n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=F[t],r={};e.edges.forEach((function(t){var e=t.source+"-"+t.target+"-"+t.label;r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&F.splice(t,1)},i=q-1;i>t;i--)r(i);q=F.length};for(H=0;H<=q-1;H++)G(H);return F}}},rt=function(){function t(t){void 0===t&&(t=10),this.linkedList=new a,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),it=M;e.default={getAdjMatrix:r,breadthFirstSearch:h,connectedComponent:d,getDegree:g,getInDegree:v,getOutDegree:y,detectCycle:M,detectDirectedCycle:it,detectAllCycles:w,detectAllDirectedCycle:x,detectAllUndirectedCycle:b,depthFirstSearch:m,dijkstra:C,findAllPath:T,findShortestPath:E,floydWarshall:P,labelPropagation:j,louvain:A,minimumSpanningTree:R,pageRank:Y,getNeighbors:u,Stack:rt,GADDI:nt}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.abs=e.round=e.TYPE_FUNCTION=void 0;e.TYPE_FUNCTION="function";var r=Math.round,i=Math.abs;e.abs=i,e.round=r;var o=Date.now;e.now=o},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return m}));var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;var a=function(t){var e=t||[];return Object(r.l)(e)?e:Object(r.w)(e)?(e=e.match(i),Object(r.d)(e,(function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}Object(r.d)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};function s(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var u="\t\n\v\f\r   ᠎             　\u2028\u2029",c=new RegExp("([a-z])["+u+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+u+"]*,?["+u+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+u+"]*,?["+u+"]*","ig");function h(t){if(!t)return null;if(Object(r.l)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(c,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(l,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}function f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(t,e){return f(t)*f(e)?(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e)):1}function p(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(d(t,e))}function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function v(t,e){var n=e[1],i=e[2],o=Object(r.C)(Object(r.G)(e[3]),2*Math.PI),a=e[4],s=e[5],u=t[0],c=t[1],l=e[6],h=e[7],f=Math.cos(o)*(u-l)/2+Math.sin(o)*(c-h)/2,v=-1*Math.sin(o)*(u-l)/2+Math.cos(o)*(c-h)/2,y=f*f/(n*n)+v*v/(i*i);y>1&&(n*=Math.sqrt(y),i*=Math.sqrt(y));var m=n*n*(v*v)+i*i*(f*f),b=m?Math.sqrt((n*n*(i*i)-m)/m):1;a===s&&(b*=-1),isNaN(b)&&(b=0);var x=i?b*n*v/i:0,w=n?b*-i*f/n:0,M=(u+l)/2+Math.cos(o)*x-Math.sin(o)*w,O=(c+h)/2+Math.sin(o)*x+Math.cos(o)*w,S=[(f-x)/n,(v-w)/i],C=[(-1*f-x)/n,(-1*v-w)/i],k=p([1,0],S),E=p(S,C);return d(S,C)<=-1&&(E=Math.PI),d(S,C)>=1&&(E=0),0===s&&E>0&&(E-=2*Math.PI),1===s&&E<0&&(E+=2*Math.PI),{cx:M,cy:O,rx:g(t,[l,h])?0:n,ry:g(t,[l,h])?0:i,startAngle:k,endAngle:k+E,xRotation:o,arcFlag:a,sweepFlag:s}}function y(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function m(t){for(var e=[],n=null,r=null,i=null,o=0,s=(t=a(t)).length,u=0;u<s;u++){var c=t[u];r=t[u+1];var l=c[0],h={command:l,prePoint:n,params:c,startTangent:null,endTangent:null};switch(l){case"M":i=[c[1],c[2]],o=u;break;case"A":var f=v(n,c);h.arcParams=f}if("Z"===l)n=i,r=t[o+1];else{var d=c.length;n=[c[d-2],c[d-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&g(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=p;var m=h.prePoint;if(["L","H","V"].includes(l))h.startTangent=[m[0]-n[0],m[1]-n[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]];else if("Q"===l){var b=[c[1],c[2]];h.startTangent=[m[0]-b[0],m[1]-b[1]],h.endTangent=[n[0]-b[0],n[1]-b[1]]}else if("T"===l){b=y((M=e[u-1]).currentPoint,m);"Q"===M.command?(h.command="Q",h.startTangent=[m[0]-b[0],m[1]-b[1]],h.endTangent=[n[0]-b[0],n[1]-b[1]]):(h.command="TL",h.startTangent=[m[0]-n[0],m[1]-n[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("C"===l){var x=[c[1],c[2]],w=[c[3],c[4]];h.startTangent=[m[0]-x[0],m[1]-x[1]],h.endTangent=[n[0]-w[0],n[1]-w[1]]}else if("S"===l){var M;x=y((M=e[u-1]).currentPoint,m),w=[c[1],c[2]];"C"===M.command?(h.command="C",h.startTangent=[m[0]-x[0],m[1]-x[1]],h.endTangent=[n[0]-w[0],n[1]-w[1]]):(h.command="SQ",h.startTangent=[m[0]-w[0],m[1]-w[1]],h.endTangent=[n[0]-w[0],n[1]-w[1]])}else if("A"===l){var O=.001,S=h.arcParams||{},C=S.cx,k=void 0===C?0:C,E=S.cy,T=void 0===E?0:E,P=S.rx,j=void 0===P?0:P,N=S.ry,A=void 0===N?0:N,I=S.sweepFlag,_=void 0===I?0:I,L=S.startAngle,B=void 0===L?0:L,D=S.endAngle,R=void 0===D?0:D;0===_&&(O*=-1);var Y=j*Math.cos(B-O)+k,F=A*Math.sin(B-O)+T;h.startTangent=[Y-i[0],F-i[1]];var X=j*Math.cos(B+R+O)+k,z=A*Math.sin(B+R-O)+T;h.endTangent=[m[0]-X,m[1]-z]}e.push(h)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=I(n(127)),i=I(n(66)),o=n(18),a=n(27),s=I(n(138)),u=I(n(99)),c=I(n(139)),l=I(n(145)),h=I(n(260)),f=I(n(56)),d=I(n(55)),p=I(n(134)),g=I(n(96)),v=I(n(132)),y=I(n(131)),m=I(n(129)),b=I(n(137)),x=I(n(146)),w=I(n(261)),M=I(n(46)),O=I(n(262)),S=I(n(150)),C=I(n(263)),k=I(n(136)),E=I(n(147)),T=I(n(148)),P=I(n(68)),j=I(n(57)),N=I(n(67)),A=I(n(98));function I(t){return t&&t.__esModule?t:{default:t}}var _=(0,i.default)(r.default,{INPUT_START:o.INPUT_START,INPUT_MOVE:o.INPUT_MOVE,INPUT_END:o.INPUT_END,INPUT_CANCEL:o.INPUT_CANCEL,STATE_POSSIBLE:a.STATE_POSSIBLE,STATE_BEGAN:a.STATE_BEGAN,STATE_CHANGED:a.STATE_CHANGED,STATE_ENDED:a.STATE_ENDED,STATE_RECOGNIZED:a.STATE_RECOGNIZED,STATE_CANCELLED:a.STATE_CANCELLED,STATE_FAILED:a.STATE_FAILED,DIRECTION_NONE:o.DIRECTION_NONE,DIRECTION_LEFT:o.DIRECTION_LEFT,DIRECTION_RIGHT:o.DIRECTION_RIGHT,DIRECTION_UP:o.DIRECTION_UP,DIRECTION_DOWN:o.DIRECTION_DOWN,DIRECTION_HORIZONTAL:o.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:o.DIRECTION_VERTICAL,DIRECTION_ALL:o.DIRECTION_ALL,Manager:s.default,Input:u.default,TouchAction:c.default,TouchInput:l.default,PointerEventInput:h.default,Recognizer:f.default,AttrRecognizer:d.default,Tap:p.default,Pan:g.default,Swipe:v.default,Pinch:y.default,Rotate:m.default,Press:b.default,on:x.default,off:w.default,each:M.default,merge:O.default,extend:S.default,assign:i.default,inherit:C.default,bindFn:k.default,toArray:E.default,inArray:j.default,uniqueArray:T.default,splitStr:P.default,boolOrFn:N.default,hasParent:A.default,addEventListeners:x.default,removeEventListeners:w.default});e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TOUCH_ACTION_MAP=e.TOUCH_ACTION_PAN_Y=e.TOUCH_ACTION_PAN_X=e.TOUCH_ACTION_NONE=e.TOUCH_ACTION_MANIPULATION=e.TOUCH_ACTION_COMPUTE=e.TOUCH_ACTION_AUTO=void 0;n(32);var r,i=(r=n(247))&&r.__esModule?r:{default:r};e.TOUCH_ACTION_COMPUTE="compute";e.TOUCH_ACTION_AUTO="auto";e.TOUCH_ACTION_MANIPULATION="manipulation";e.TOUCH_ACTION_NONE="none";e.TOUCH_ACTION_PAN_X="pan-x";e.TOUCH_ACTION_PAN_Y="pan-y";var o=(0,i.default)();e.TOUCH_ACTION_MAP=o},,function(t,e,n){"use strict";n(30);var r=n(122);n.o(r,"ICanvas")&&n.d(e,"ICanvas",(function(){return r.ICanvas})),n.o(r,"IGroup")&&n.d(e,"IGroup",(function(){return r.IGroup})),n.o(r,"IShape")&&n.d(e,"IShape",(function(){return r.IShape}));var i=n(123);n.o(i,"ICanvas")&&n.d(e,"ICanvas",(function(){return i.ICanvas})),n.o(i,"IGroup")&&n.d(e,"IGroup",(function(){return i.IGroup})),n.o(i,"IShape")&&n.d(e,"IShape",(function(){return i.IShape}));var o=n(87);n.d(e,"Event",(function(){return o.a}));n(88),n(207),n(125),n(126),n(209);var a=n(45);n.d(e,"assembleFont",(function(){return a.a}));n(5),n(21),n(89)},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"proccessToFunc",(function(){return c})),n.d(r,"buildTextureData",(function(){return l})),n.d(r,"buildTextureDataWithOneEdgeAttr",(function(){return h})),n.d(r,"buildTextureDataWithTwoEdgeAttr",(function(){return f})),n.d(r,"attributesToTextureData",(function(){return d})),n.d(r,"arrayToTextureData",(function(){return p})),n.d(r,"radialLayout",(function(){return g}));var i=n(1),o=n(94),a=n(2),s=n(0),u=a.n.traverseTree,c=function(t,e){return t?Object(s.s)(t)?function(e){return t}:t:function(t){return e||1}},l=function(t,e){var n=[],r=[],i={},o=0;for(o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<t.length;o++){var c=n.length,l=r[o],h=l.length;n[4*o+2]=c,n[4*o+3]=l.length,u=Math.max(u,l.length);for(var f=0;f<h;++f){var d=l[f];n.push(+d)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},h=function(t,e,n){var r=[],i=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<e.length;a++){var u=e[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var c=0;for(a=0;a<t.length;a++){var l=r.length,h=i[a],f=h.length;r[4*a+2]=l,r[4*a+3]=f/2,c=Math.max(c,f/2);for(var d=0;d<f;++d){var p=h[d];r.push(+p)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},f=function(t,e,n,r){var i=[],o=[],a={},s=0;for(s=0;s<t.length;s++){var u=t[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<e.length;s++){var c=e[s];o[a[c.source]].push(a[c.target]),o[a[c.source]].push(n(c)),o[a[c.source]].push(r(c)),o[a[c.source]].push(0),o[a[c.target]].push(a[c.source]),o[a[c.target]].push(n(c)),o[a[c.target]].push(r(c)),o[a[c.target]].push(0)}var l=0;for(s=0;s<t.length;s++){var h=i.length,f=o[s],d=f.length;i[4*s+2]=h+1048576*d/4,i[4*s+3]=0,l=Math.max(l,d/4);for(var p=0;p<d;++p){var g=f[p];i.push(+g)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:l}},d=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},p=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)},g=function(t,e){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",i="y");var a=0;u(t,(function(t){return a++,t.x>r.x&&(r.x=t.x),t.x<n.x&&(n.x=t.x),t.y>r.y&&(r.y=t.y),t.y<n.y&&(n.y=t.y),!0}));var s=2*Math.PI/a,c=r[o]-n[o];return 0===c||u(t,(function(e){var r=(e[o]-n[o])/c*(2*Math.PI-s)+s,a=Math.abs("x"===i?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(r),e.y=a*Math.sin(r),!0})),t},v=Object(i.a)(Object(i.a)(Object(i.a)({},a.n),o),r);e.a=v},,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(5),i=n(89);function o(t,e,n){var i=1;return Object(r.h)(t)&&(i=t.split("\n").length),i>1?e*i+function(t,e){return e?e-t:.14*t}(e,n)*(i-1):e}function a(t,e){var n=Object(i.a)(),o=0;if(Object(r.e)(t)||""===t)return o;if(n.save(),n.font=e,Object(r.h)(t)&&t.includes("\n")){var a=t.split("\n");Object(r.a)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o}function s(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r;if(!t)return;if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}},,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return i})),n.d(e,"clone",(function(){return o})),n.d(e,"fromValues",(function(){return a})),n.d(e,"copy",(function(){return s})),n.d(e,"set",(function(){return u})),n.d(e,"add",(function(){return c})),n.d(e,"subtract",(function(){return l})),n.d(e,"multiply",(function(){return h})),n.d(e,"divide",(function(){return f})),n.d(e,"ceil",(function(){return d})),n.d(e,"floor",(function(){return p})),n.d(e,"min",(function(){return g})),n.d(e,"max",(function(){return v})),n.d(e,"round",(function(){return y})),n.d(e,"scale",(function(){return m})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return x})),n.d(e,"squaredDistance",(function(){return w})),n.d(e,"length",(function(){return M})),n.d(e,"squaredLength",(function(){return O})),n.d(e,"negate",(function(){return S})),n.d(e,"inverse",(function(){return C})),n.d(e,"normalize",(function(){return k})),n.d(e,"dot",(function(){return E})),n.d(e,"cross",(function(){return T})),n.d(e,"lerp",(function(){return P})),n.d(e,"random",(function(){return j})),n.d(e,"transformMat2",(function(){return N})),n.d(e,"transformMat2d",(function(){return A})),n.d(e,"transformMat3",(function(){return I})),n.d(e,"transformMat4",(function(){return _})),n.d(e,"rotate",(function(){return L})),n.d(e,"angle",(function(){return B})),n.d(e,"zero",(function(){return D})),n.d(e,"str",(function(){return R})),n.d(e,"exactEquals",(function(){return Y})),n.d(e,"equals",(function(){return F})),n.d(e,"len",(function(){return z})),n.d(e,"sub",(function(){return W})),n.d(e,"mul",(function(){return H})),n.d(e,"div",(function(){return q})),n.d(e,"dist",(function(){return G})),n.d(e,"sqrDist",(function(){return U})),n.d(e,"sqrLen",(function(){return V})),n.d(e,"forEach",(function(){return Z}));var r=n(6);function i(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function M(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function O(t){var e=t[0],n=t[1];return e*e+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function k(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]}function T(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function P(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function j(t,e){e=e||1;var n=2*r.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function _(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function L(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function B(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function D(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function Y(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.b*Math.max(1,Math.abs(i),Math.abs(a))}var X,z=M,W=l,H=h,q=f,G=x,U=w,V=O,Z=(X=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)X[0]=t[a],X[1]=t[a+1],i(X,X,o),t[a]=X[0],t[a+1]=X[1];return t})},function(t,e,n){"use strict";var r,i,o,a;function s(t){r||(r=document.createElement("table"),i=document.createElement("tr"),o=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:i,th:i,"*":document.createElement("div")});var e=o.test(t)&&RegExp.$1;e&&e in a||(e="*");var n=a[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var s=n.childNodes[0];return n.removeChild(s),s}function u(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(266),o=n(270),a=[].slice,s=["keyword","gray","hex"],u={};Object.keys(o).forEach((function(t){u[a.call(o[t].labels).sort().join("")]=t}));var c={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in s&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);var n,r;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=i.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,r=o[this.model].channels,this.color=h.value.slice(0,r),this.valpha="number"==typeof h.value[r]?h.value[r]:1}else if(t.length){this.model=e||"rgb",r=o[this.model].channels;var f=a.call(t,0,r);this.color=p(f,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=d.sort().join("");if(!(g in u))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=u[g];var v=o[this.model].labels,y=[];for(n=0;n<v.length;n++)y.push(t[v[n]]);this.color=p(y)}if(c[this.model])for(r=o[this.model].channels,n=0;n<r;n++){var m=c[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function h(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(c[t]||(c[t]=[]))[e]=n})),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function f(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in i.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return i.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return i.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=o[this.model].channels,n=o[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:h("rgb",0,f(255)),green:h("rgb",1,f(255)),blue:h("rgb",2,f(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:h("hsl",1,f(100)),lightness:h("hsl",2,f(100)),saturationv:h("hsv",1,f(100)),value:h("hsv",2,f(100)),chroma:h("hcg",1,f(100)),gray:h("hcg",2,f(100)),white:h("hwb",1,f(100)),wblack:h("hwb",2,f(100)),cyan:h("cmyk",0,f(100)),magenta:h("cmyk",1,f(100)),yellow:h("cmyk",2,f(100)),black:h("cmyk",3,f(100)),x:h("xyz",0,f(100)),y:h("xyz",1,f(100)),z:h("xyz",2,f(100)),l:h("lab",0,f(100)),a:h("lab",1),b:h("lab",2),keyword:function(t){return arguments.length?new l(t):o[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+r(t));var n=t.rgb(),i=this.rgb(),o=void 0===e?.5:e,a=2*o-1,s=n.alpha()-i.alpha(),u=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,c=1-u;return l.rgb(u*n.red()+c*i.red(),u*n.green()+c*i.green(),u*n.blue()+c*i.blue(),n.alpha()*o+i.alpha()*(1-o))}},Object.keys(o).forEach((function(t){if(-1===s.indexOf(t)){var e=o[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var n="number"==typeof arguments[e]?e:this.valpha;return new l(d(o[this.model][t].raw(this.color)).concat(n),t)},l[t]=function(n){return"number"==typeof n&&(n=p(a.call(arguments),e)),new l(n,t)}}})),t.exports=l},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,h=(l=n(56))&&l.__esModule?l:{default:l},f=n(27),d=n(18);var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){return i(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"attrTest",value:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e}},{key:"process",value:function(t){var e=this.state,n=t.eventType,r=e&(f.STATE_BEGAN|f.STATE_CHANGED),i=this.attrTest(t);return r&&(n&d.INPUT_CANCEL||!i)?e|f.STATE_CANCELLED:r||i?n&d.INPUT_END?e|f.STATE_ENDED:e&f.STATE_BEGAN?e|f.STATE_CHANGED:f.STATE_BEGAN:f.STATE_FAILED}}])&&o(e.prototype,n),r&&o(e,r),c}(h.default);e.default=p,p.prototype.defaults={pointers:1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(27),o=d(n(66)),a=d(n(248)),s=d(n(128)),u=d(n(130)),c=d(n(57)),l=d(n(67)),h=d(n(249)),f=d(n(250));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,o.default)({},this.defaults,e||{}),this.id=(0,a.default)(),this.manager=null,this.options.enable=(0,s.default)(this.options.enable,!0),this.state=i.STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var e,n,d;return e=t,(n=[{key:"set",value:function(t){return(0,o.default)(this.options,t),this.manager&&this.manager.touchAction.update(),this}},{key:"recognizeWith",value:function(t){if((0,u.default)(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=(0,h.default)(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this}},{key:"dropRecognizeWith",value:function(t){return(0,u.default)(t,"dropRecognizeWith",this)||(t=(0,h.default)(t,this),delete this.simultaneous[t.id]),this}},{key:"requireFailure",value:function(t){if((0,u.default)(t,"requireFailure",this))return this;var e=this.requireFail;return t=(0,h.default)(t,this),-1===(0,c.default)(e,t)&&(e.push(t),t.requireFailure(this)),this}},{key:"dropRequireFailure",value:function(t){if((0,u.default)(t,"dropRequireFailure",this))return this;t=(0,h.default)(t,this);var e=(0,c.default)(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this}},{key:"hasRequireFailures",value:function(){return this.requireFail.length>0}},{key:"canRecognizeWith",value:function(t){return!!this.simultaneous[t.id]}},{key:"emit",value:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<i.STATE_ENDED&&r(e.options.event+(0,f.default)(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=i.STATE_ENDED&&r(e.options.event+(0,f.default)(n))}},{key:"tryEmit",value:function(t){if(this.canEmit())return this.emit(t);this.state=i.STATE_FAILED}},{key:"canEmit",value:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(i.STATE_FAILED|i.STATE_POSSIBLE)))return!1;t++}return!0}},{key:"recognize",value:function(t){var e=(0,o.default)({},t);if(!(0,l.default)(this.options.enable,[this,e]))return this.reset(),void(this.state=i.STATE_FAILED);this.state&(i.STATE_RECOGNIZED|i.STATE_CANCELLED|i.STATE_FAILED)&&(this.state=i.STATE_POSSIBLE),this.state=this.process(e),this.state&(i.STATE_BEGAN|i.STATE_CHANGED|i.STATE_ENDED|i.STATE_CANCELLED)&&this.tryEmit(e)}},{key:"process",value:function(t){}},{key:"getTouchAction",value:function(){}},{key:"reset",value:function(){}}])&&r(e.prototype,n),d&&r(e,d),t}();e.default=p,p.prototype.defaults={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}},,,,,,,function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n(7),a=n(10),s=new Map;e.registerLayout=function(t,e){if(s.get(t)&&console.warn("The layout with the name "+t+" exists already, it will be overridden"),a.isObject(e)){var n=function(t){function n(n){var r=t.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,e,n),Object.keys(o).forEach((function(t){var e=o[t];i[t]=e})),r}return i(n,t),n}(o.Base);s.set(t,n)}else s.set(t,e)};e.unRegisterLayout=function(t){s.has(t)&&s.delete(t)};e.getLayoutByName=function(t){return s.has(t)?s.get(t):null}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0;var o=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(n(7).Base);e.RandomLayout=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;e.default=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(r(t)===i.TYPE_FUNCTION)return t.apply(e&&e[0]||void 0,e);return t};var i=n(32)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.trim().split(/\s+/g)}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(90),o=n(5),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(o.i)(r,e),n}return Object(r.c)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=null;function i(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},function(t,e,n){"use strict";var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(92),a=n(5),s={};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?(Object(a.a)(u,(function(t){var e=t.getBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(i.A)(o),e=Object(i.z)(o),n=Object(i.A)(s),r=Object(i.z)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?(Object(a.a)(u,(function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(i.A)(o),e=Object(i.z)(o),n=Object(i.A)(s),r=Object(i.z)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(a.f)(n)?r=n:r.type=n;var i=s[r.type];i||(i=Object(a.k)(r.type),s[r.type]=i);var o=this.getShapeBase(),u=new o[i](r);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(a.d)(r))n=new r(i||{parent:this});else{var o=r||{},s=this.getGroupBase();n=new s(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(a.b)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var s=t[o];if(Object(a.b)(s)&&(s.isGroup()?i=s.getShape(e,n,r):s.isHit(e,n)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(a.j)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.a)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.a)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(o.a);e.a=u},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(4),a=n(5),s=n(21),u=n(88),c=o.a.transform,l=["zIndex","capture","visible","type"],h=["repeat"];function f(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function d(t,e){var n={},r=e.attr();return Object(i.d)(t,(function(t,e){-1!==h.indexOf(e)||Object(i.p)(r[e],t)||(n[e]=t)})),n}function p(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(i.d)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&o>t.delay&&Object(i.d)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var g=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(i.B)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(r.c)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if(!r)return this.attrs;if(Object(i.u)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,o),this.afterAttrsChange(((t={})[r]=o,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(a.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(s.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(s.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(s.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(s.a)(e);if(n)return Object(s.c)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(i.I)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(i.d)(e,(function(t,r){Object(i.l)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(i.l)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(i.d)(l,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,a,s,u,c,l=t[0],h=t[1],g=t[2],v=void 0===g?"easeLinear":g,y=t[3],m=void 0===y?i.D:y,b=t[4],x=void 0===b?0:b;Object(i.q)(l)?(o=l,l={}):Object(i.u)(l)&&l.onFrame&&(o=l.onFrame,a=l.repeat),Object(i.u)(h)?(h=(c=h).duration,v=c.easing||"easeLinear",x=c.delay||0,a=c.repeat||a||!1,m=c.callback||i.D,s=c.pauseCallback||i.D,u=c.resumeCallback||i.D):(Object(i.s)(m)&&(x=m,m=null),Object(i.q)(v)?(m=v,v="easeLinear"):v=v||"easeLinear");var w=d(l,this),M={fromAttrs:f(w,this),toAttrs:w,duration:h,easing:v,repeat:a,callback:m,pauseCallback:s,resumeCallback:u,delay:x,startTime:n.getTime(),id:Object(i.H)(),onFrame:o,pathFormatted:!1};r.length>0?r=p(r,M):n.addAnimator(this),r.push(M),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(i.d)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(i.d)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(i.d)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=o[t],c=s.get("name");if(c){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&Object(a.g)(s,n))return"break";Object(i.l)(c)?Object(i.d)(c,(function(t){r.emitDelegateEvent(s,t,e)})):u.emitDelegateEvent(s,c,e)}},u=this,c=0;c<o.length;c++){if("break"===s(c))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=c(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=c(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=c(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=c(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(u.a);e.a=g},function(t,e,n){"use strict";n.d(e,"b",(function(){return Yu}));var r={};n.r(r),n.d(r,"catmullRomToBezier",(function(){return M})),n.d(r,"fillPath",(function(){return H})),n.d(r,"fillPathByDiff",(function(){return U})),n.d(r,"formatPath",(function(){return Q})),n.d(r,"intersection",(function(){return X})),n.d(r,"parsePathArray",(function(){return j})),n.d(r,"parsePathString",(function(){return w})),n.d(r,"pathToAbsolute",(function(){return S})),n.d(r,"pathToCurve",(function(){return T})),n.d(r,"rectPath",(function(){return B}));var i={};n.r(i),n.d(i,"create",(function(){return ct})),n.d(i,"fromMat4",(function(){return lt})),n.d(i,"clone",(function(){return ht})),n.d(i,"copy",(function(){return ft})),n.d(i,"fromValues",(function(){return dt})),n.d(i,"set",(function(){return pt})),n.d(i,"identity",(function(){return gt})),n.d(i,"transpose",(function(){return vt})),n.d(i,"invert",(function(){return yt})),n.d(i,"adjoint",(function(){return mt})),n.d(i,"determinant",(function(){return bt})),n.d(i,"multiply",(function(){return xt})),n.d(i,"translate",(function(){return wt})),n.d(i,"rotate",(function(){return Mt})),n.d(i,"scale",(function(){return Ot})),n.d(i,"fromTranslation",(function(){return St})),n.d(i,"fromRotation",(function(){return Ct})),n.d(i,"fromScaling",(function(){return kt})),n.d(i,"fromMat2d",(function(){return Et})),n.d(i,"fromQuat",(function(){return Tt})),n.d(i,"normalFromMat4",(function(){return Pt})),n.d(i,"projection",(function(){return jt})),n.d(i,"str",(function(){return Nt})),n.d(i,"frob",(function(){return At})),n.d(i,"add",(function(){return It})),n.d(i,"subtract",(function(){return _t})),n.d(i,"multiplyScalar",(function(){return Lt})),n.d(i,"multiplyScalarAndAdd",(function(){return Bt})),n.d(i,"exactEquals",(function(){return Dt})),n.d(i,"equals",(function(){return Rt})),n.d(i,"mul",(function(){return Yt})),n.d(i,"sub",(function(){return Ft}));var o={};n.r(o),n.d(o,"create",(function(){return Xt})),n.d(o,"clone",(function(){return zt})),n.d(o,"fromValues",(function(){return Wt})),n.d(o,"copy",(function(){return Ht})),n.d(o,"set",(function(){return qt})),n.d(o,"add",(function(){return Gt})),n.d(o,"subtract",(function(){return Ut})),n.d(o,"multiply",(function(){return Vt})),n.d(o,"divide",(function(){return Zt})),n.d(o,"ceil",(function(){return Qt})),n.d(o,"floor",(function(){return Kt})),n.d(o,"min",(function(){return $t})),n.d(o,"max",(function(){return Jt})),n.d(o,"round",(function(){return te})),n.d(o,"scale",(function(){return ee})),n.d(o,"scaleAndAdd",(function(){return ne})),n.d(o,"distance",(function(){return re})),n.d(o,"squaredDistance",(function(){return ie})),n.d(o,"length",(function(){return oe})),n.d(o,"squaredLength",(function(){return ae})),n.d(o,"negate",(function(){return se})),n.d(o,"inverse",(function(){return ue})),n.d(o,"normalize",(function(){return ce})),n.d(o,"dot",(function(){return le})),n.d(o,"cross",(function(){return he})),n.d(o,"lerp",(function(){return fe})),n.d(o,"random",(function(){return de})),n.d(o,"transformMat2",(function(){return pe})),n.d(o,"transformMat2d",(function(){return ge})),n.d(o,"transformMat3",(function(){return ve})),n.d(o,"transformMat4",(function(){return ye})),n.d(o,"rotate",(function(){return me})),n.d(o,"angle",(function(){return be})),n.d(o,"zero",(function(){return xe})),n.d(o,"str",(function(){return we})),n.d(o,"exactEquals",(function(){return Me})),n.d(o,"equals",(function(){return Oe})),n.d(o,"len",(function(){return Ce})),n.d(o,"sub",(function(){return ke})),n.d(o,"mul",(function(){return Ee})),n.d(o,"div",(function(){return Te})),n.d(o,"dist",(function(){return Pe})),n.d(o,"sqrDist",(function(){return je})),n.d(o,"sqrLen",(function(){return Ne})),n.d(o,"forEach",(function(){return Ae}));var a={};n.r(a),n.d(a,"leftTranslate",(function(){return Ie})),n.d(a,"leftRotate",(function(){return _e})),n.d(a,"leftScale",(function(){return Le})),n.d(a,"transform",(function(){return Be})),n.d(a,"direction",(function(){return De})),n.d(a,"angleTo",(function(){return Re})),n.d(a,"vertical",(function(){return Ye}));var s={};n.r(s),n.d(s,"easeLinear",(function(){return yn})),n.d(s,"easeQuad",(function(){return xn})),n.d(s,"easeQuadIn",(function(){return mn})),n.d(s,"easeQuadOut",(function(){return bn})),n.d(s,"easeQuadInOut",(function(){return xn})),n.d(s,"easeCubic",(function(){return On})),n.d(s,"easeCubicIn",(function(){return wn})),n.d(s,"easeCubicOut",(function(){return Mn})),n.d(s,"easeCubicInOut",(function(){return On})),n.d(s,"easePoly",(function(){return kn})),n.d(s,"easePolyIn",(function(){return Sn})),n.d(s,"easePolyOut",(function(){return Cn})),n.d(s,"easePolyInOut",(function(){return kn})),n.d(s,"easeSin",(function(){return Nn})),n.d(s,"easeSinIn",(function(){return Pn})),n.d(s,"easeSinOut",(function(){return jn})),n.d(s,"easeSinInOut",(function(){return Nn})),n.d(s,"easeExp",(function(){return Ln})),n.d(s,"easeExpIn",(function(){return In})),n.d(s,"easeExpOut",(function(){return _n})),n.d(s,"easeExpInOut",(function(){return Ln})),n.d(s,"easeCircle",(function(){return Rn})),n.d(s,"easeCircleIn",(function(){return Bn})),n.d(s,"easeCircleOut",(function(){return Dn})),n.d(s,"easeCircleInOut",(function(){return Rn})),n.d(s,"easeBounce",(function(){return Fn})),n.d(s,"easeBounceIn",(function(){return Yn})),n.d(s,"easeBounceOut",(function(){return Fn})),n.d(s,"easeBounceInOut",(function(){return Xn})),n.d(s,"easeBack",(function(){return Hn})),n.d(s,"easeBackIn",(function(){return zn})),n.d(s,"easeBackOut",(function(){return Wn})),n.d(s,"easeBackInOut",(function(){return Hn})),n.d(s,"easeElastic",(function(){return Un})),n.d(s,"easeElasticIn",(function(){return Gn})),n.d(s,"easeElasticOut",(function(){return Un})),n.d(s,"easeElasticInOut",(function(){return Vn}));var u={};n.r(u),n.d(u,"distance",(function(){return vi})),n.d(u,"isNumberEqual",(function(){return yi})),n.d(u,"getBBoxByArray",(function(){return mi})),n.d(u,"getBBoxRange",(function(){return bi})),n.d(u,"piMod",(function(){return xi}));var c={};n.r(c),n.d(c,"create",(function(){return Ea})),n.d(c,"fromMat4",(function(){return Ta})),n.d(c,"clone",(function(){return Pa})),n.d(c,"copy",(function(){return ja})),n.d(c,"fromValues",(function(){return Na})),n.d(c,"set",(function(){return Aa})),n.d(c,"identity",(function(){return Ia})),n.d(c,"transpose",(function(){return _a})),n.d(c,"invert",(function(){return La})),n.d(c,"adjoint",(function(){return Ba})),n.d(c,"determinant",(function(){return Da})),n.d(c,"multiply",(function(){return Ra})),n.d(c,"translate",(function(){return Ya})),n.d(c,"rotate",(function(){return Fa})),n.d(c,"scale",(function(){return Xa})),n.d(c,"fromTranslation",(function(){return za})),n.d(c,"fromRotation",(function(){return Wa})),n.d(c,"fromScaling",(function(){return Ha})),n.d(c,"fromMat2d",(function(){return qa})),n.d(c,"fromQuat",(function(){return Ga})),n.d(c,"normalFromMat4",(function(){return Ua})),n.d(c,"projection",(function(){return Va})),n.d(c,"str",(function(){return Za})),n.d(c,"frob",(function(){return Qa})),n.d(c,"add",(function(){return Ka})),n.d(c,"subtract",(function(){return $a})),n.d(c,"multiplyScalar",(function(){return Ja})),n.d(c,"multiplyScalarAndAdd",(function(){return ts})),n.d(c,"exactEquals",(function(){return es})),n.d(c,"equals",(function(){return ns})),n.d(c,"mul",(function(){return rs})),n.d(c,"sub",(function(){return is}));var l={};n.r(l),n.d(l,"create",(function(){return os})),n.d(l,"clone",(function(){return as})),n.d(l,"fromValues",(function(){return ss})),n.d(l,"copy",(function(){return us})),n.d(l,"set",(function(){return cs})),n.d(l,"add",(function(){return ls})),n.d(l,"subtract",(function(){return hs})),n.d(l,"multiply",(function(){return fs})),n.d(l,"divide",(function(){return ds})),n.d(l,"ceil",(function(){return ps})),n.d(l,"floor",(function(){return gs})),n.d(l,"min",(function(){return vs})),n.d(l,"max",(function(){return ys})),n.d(l,"round",(function(){return ms})),n.d(l,"scale",(function(){return bs})),n.d(l,"scaleAndAdd",(function(){return xs})),n.d(l,"distance",(function(){return ws})),n.d(l,"squaredDistance",(function(){return Ms})),n.d(l,"length",(function(){return Os})),n.d(l,"squaredLength",(function(){return Ss})),n.d(l,"negate",(function(){return Cs})),n.d(l,"inverse",(function(){return ks})),n.d(l,"normalize",(function(){return Es})),n.d(l,"dot",(function(){return Ts})),n.d(l,"cross",(function(){return Ps})),n.d(l,"lerp",(function(){return js})),n.d(l,"random",(function(){return Ns})),n.d(l,"transformMat2",(function(){return As})),n.d(l,"transformMat2d",(function(){return Is})),n.d(l,"transformMat3",(function(){return _s})),n.d(l,"transformMat4",(function(){return Ls})),n.d(l,"rotate",(function(){return Bs})),n.d(l,"angle",(function(){return Ds})),n.d(l,"zero",(function(){return Rs})),n.d(l,"str",(function(){return Ys})),n.d(l,"exactEquals",(function(){return Fs})),n.d(l,"equals",(function(){return Xs})),n.d(l,"len",(function(){return zs})),n.d(l,"sub",(function(){return Ws})),n.d(l,"mul",(function(){return Hs})),n.d(l,"div",(function(){return qs})),n.d(l,"dist",(function(){return Gs})),n.d(l,"sqrDist",(function(){return Us})),n.d(l,"sqrLen",(function(){return Vs})),n.d(l,"forEach",(function(){return Zs}));var h={};n.r(h),n.d(h,"leftTranslate",(function(){return Qs})),n.d(h,"leftRotate",(function(){return Ks})),n.d(h,"leftScale",(function(){return $s})),n.d(h,"transform",(function(){return Js})),n.d(h,"direction",(function(){return tu})),n.d(h,"angleTo",(function(){return eu})),n.d(h,"vertical",(function(){return nu}));var f={};n.r(f),n.d(f,"Base",(function(){return Ko})),n.d(f,"Circle",(function(){return $o})),n.d(f,"Ellipse",(function(){return ta})),n.d(f,"Image",(function(){return ra})),n.d(f,"Line",(function(){return oa})),n.d(f,"Marker",(function(){return wa})),n.d(f,"Path",(function(){return uu})),n.d(f,"Polygon",(function(){return lu})),n.d(f,"Polyline",(function(){return hu})),n.d(f,"Rect",(function(){return fu})),n.d(f,"Text",(function(){return du}));var d=n(1);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var y=n(3),m="\t\n\v\f\r   ᠎             　\u2028\u2029",b=new RegExp("([a-z])["+m+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+m+"]*,?["+m+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+m+"]*,?["+m+"]*","ig"),w=function(t){if(!t)return null;if(Object(y.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(b,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(x,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=e[s]&&(n.push([i].concat(a.splice(0,e[s]))),e[s]););return t})),n},M=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},O=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},S=function(t){if(!(t=w(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],u++,r[0]=["M",i,o]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),l=void 0,h=void 0,f=u,d=t.length;f<d;f++){if(r.push(l=[]),(e=(h=t[f])[0])!==e.toUpperCase())switch(l[0]=e.toUpperCase(),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+h[6]+i,l[7]=+h[7]+o;break;case"V":l[1]=+h[1]+o;break;case"H":l[1]=+h[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(h.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(M(n,c));break;case"O":r.pop(),(n=O(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(O(i,o,h[1],h[2],h[3])),l=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+h[1]+i,s=+h[2]+o;break;default:for(p=1,g=h.length;p<g;p++)l[p]=+h[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(h.slice(1)),r.pop(),r=r.concat(M(n,c)),l=["R"].concat(h.slice(-2));else if("O"===e)r.pop(),(n=O(i,o,h[1],h[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(O(i,o,h[1],h[2],h[3])),l=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,y=h.length;v<y;v++)l[v]=h[v];if("O"!==(e=e.toUpperCase()))switch(l[0]){case"Z":i=+a,o=+s;break;case"H":i=l[1];break;case"V":o=l[1];break;case"M":a=l[l.length-2],s=l[l.length-1];break;default:i=l[l.length-2],o=l[l.length-1]}}return r},C=function(t,e,n,r){return[t,e,n,r,n,r]},k=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},E=function(t,e,n,r,i,o,a,s,u,c){n===r&&(n+=1);var l,h,f,d,p,g=120*Math.PI/180,v=Math.PI/180*(+i||0),y=[],m=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)h=c[0],f=c[1],d=c[2],p=c[3];else{t=(l=m(t,e,-v)).x,e=l.y,s=(l=m(s,u,-v)).x,u=l.y,t===s&&e===u&&(s+=1,u+=1);var b=(t-s)/2,x=(e-u)/2,w=b*b/(n*n)+x*x/(r*r);w>1&&(n*=w=Math.sqrt(w),r*=w);var M=n*n,O=r*r,S=(o===a?-1:1)*Math.sqrt(Math.abs((M*O-M*x*x-O*b*b)/(M*x*x+O*b*b)));d=S*n*x/r+(t+s)/2,p=S*-r*b/n+(e+u)/2,h=Math.asin(((e-p)/r).toFixed(9)),f=Math.asin(((u-p)/r).toFixed(9)),h=t<d?Math.PI-h:h,f=s<d?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),a&&h>f&&(h-=2*Math.PI),!a&&f>h&&(f-=2*Math.PI)}var C=f-h;if(Math.abs(C)>g){var k=f,T=s,P=u;f=h+g*(a&&f>h?1:-1),s=d+n*Math.cos(f),u=p+r*Math.sin(f),y=E(s,u,n,r,i,0,a,T,P,[f,k,d,p])}C=f-h;var j=Math.cos(h),N=Math.sin(h),A=Math.cos(f),I=Math.sin(f),_=Math.tan(C/4),L=4/3*n*_,B=4/3*r*_,D=[t,e],R=[t+L*N,e-B*j],Y=[s+L*I,u-B*A],F=[s,u];if(R[0]=2*D[0]-R[0],R[1]=2*D[1]-R[1],c)return[R,Y,F].concat(y);for(var X=[],z=0,W=(y=[R,Y,F].concat(y).join().split(",")).length;z<W;z++)X[z]=z%2?m(y[z-1],y[z],v).y:m(y[z],y[z+1],v).x;return X},T=function(t,e){var n,r=S(t),i=e&&S(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",l="",h=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(E.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(k(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(k(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(C(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(C(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(C(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(C(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},d=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(l=s[p-1])),r[p]=h(r[p],o,l),"A"!==s[p]&&"C"===c&&(s[p]="C"),f(r,p),i&&(i[p]&&(c=i[p][0]),"C"!==c&&(u[p]=c,p&&(l=u[p-1])),i[p]=h(i[p],a,l),"A"!==u[p]&&"C"===c&&(u[p]="C"),f(i,p)),d(r,i,o,a,p),d(i,r,a,o,p);var g=r[p],v=i&&i[p],y=g.length,m=i&&v.length;o.x=g[y-2],o.y=g[y-1],o.bx=parseFloat(g[y-4])||o.x,o.by=parseFloat(g[y-3])||o.y,a.bx=i&&(parseFloat(v[m-4])||a.x),a.by=i&&(parseFloat(v[m-3])||a.y),a.x=i&&v[m-2],a.y=i&&v[m-1]}return i?[r,i]:r},P=/,?([a-z]),?/gi,j=function(t){return t.join(",").replace(P,"$1")},N=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},A=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=c*l[d]+c,g=N(p,t,n,i,a),v=N(p,e,r,o,s),y=g*g+v*v;f+=h[d]*Math.sqrt(y)}return c*f},I=function(t,e,n,r,i,o,a,s){for(var u,c,l,h,f=[],d=[[],[]],p=0;p<2;++p)if(0===p?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,l=3*n-3*t):(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,l=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(h=-l/c)>0&&h<1&&f.push(h)}else{var g=c*c-4*l*u,v=Math.sqrt(g);if(!(g<0)){var y=(-c+v)/(2*u);y>0&&y<1&&f.push(y);var m=(-c-v)/(2*u);m>0&&m<1&&f.push(m)}}for(var b,x=f.length,w=x;x--;)b=1-(h=f[x]),d[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*i+h*h*h*a,d[1][x]=b*b*b*e+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},_=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,l=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,h=+c.toFixed(2),f=+l.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:l}}}},L=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},B=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=j,o},D=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:B(t,e,n,r),vb:[t,e,n,r].join(" ")}},R=function(t,e,n,r,i,o,a,s){Object(y.isArray)(t)||(t=[t,e,n,r,i,o,a,s]);var u=I.apply(null,t);return D(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Y=function(t,e,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),h=Math.pow(c,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(o-2*r+e),v=n+2*u*(i-n)+f*(a-2*i+n),y=r+2*u*(o-r)+f*(s-2*o+r);return{x:l*t+3*h*u*n+3*c*u*u*i+d*a,y:l*e+3*h*u*r+3*c*u*u*o+d*s,m:{x:p,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}},F=function(t,e,n){if(!function(t,e){return t=D(t),e=D(e),L(e,t.x,t.y)||L(e,t.x2,t.y)||L(e,t.x,t.y2)||L(e,t.x2,t.y2)||L(t,e.x,e.y)||L(t,e.x2,e.y)||L(t,e.x,e.y2)||L(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(R(t),R(e)))return n?0:[];for(var r=~~(A.apply(0,t)/8),i=~~(A.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var l=Y.apply(0,t.concat(c/r));o.push({x:l.x,y:l.y,t:c/r})}for(c=0;c<i+1;c++){l=Y.apply(0,e.concat(c/i));a.push({x:l.x,y:l.y,t:c/i})}for(c=0;c<r;c++)for(var h=0;h<i;h++){var f=o[c],d=o[c+1],p=a[h],g=a[h+1],v=Math.abs(d.x-f.x)<.001?"y":"x",y=Math.abs(g.x-p.x)<.001?"y":"x",m=_(f.x,f.y,d.x,d.y,p.x,p.y,g.x,g.y);if(m){if(s[m.x.toFixed(4)]===m.y.toFixed(4))continue;s[m.x.toFixed(4)]=m.y.toFixed(4);var b=f.t+Math.abs((m[v]-f[v])/(d[v]-f[v]))*(d.t-f.t),x=p.t+Math.abs((m[y]-p[y])/(g[y]-p[y]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:m.x,y:m.y,t1:b,t2:x}))}}return u},X=function(t,e){return function(t,e,n){var r,i,o,a,s,u,c,l,h,f;t=T(t),e=T(e);for(var d=n?0:[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(h=[r,i].concat(v.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var y=0,m=e.length;y<m;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=l=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,c,l,c,l],o=c,a=l);var x=F(h,f,n);if(n)d+=x;else{for(var w=0,M=x.length;w<M;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=h,x[w].bez2=f;d=d.concat(x)}}}}}return d}(t,e)};function z(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var W=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=z(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},H=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(W(t[i],t[i+1],r))}),[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u},q=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(y.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function G(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var U=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(u=1;u<=i;u++){n=t[u-1];for(c=1;c<=o;c++){r=e[c-1],a=q(n,r)?0:1;var l=s[u-1][c].min+1,h=s[u][c-1].min+1,f=s[u-1][c-1].min+a;s[u][c]=G(l,h,f)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var l=a;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=i-(r=t.length);if(r<i)for(u=0;u<h;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function V(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=Z(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function Z(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var Q=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=Z(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},K=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var $=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;var tt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function et(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var nt="undefined"!=typeof window&&void 0!==window.document;function rt(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function it(t){return t.cfg.visible&&t.cfg.capture}var ot=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(y.mix)(r,e),n}return J(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(tt),at=n(211),st="undefined"!=typeof Float32Array?Float32Array:Array,ut=Math.random;Math.PI;function ct(){var t=new st(9);return st!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function ht(t){var e=new st(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function dt(t,e,n,r,i,o,a,s,u){var c=new st(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function pt(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function gt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function vt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function yt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function bt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function xt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*l,t[2]=f*o+d*u+p*h,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*l,t[5]=g*o+v*u+y*h,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*l,t[8]=m*o+b*u+x*h,t}function wt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+l,t[8]=f*o+d*u+h,t}function Mt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=l,t[8]=h,t}function Ot(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function St(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Ct(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function kt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Et(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Tt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-h-p,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-h,t}function Pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,M=r*c-o*s,O=i*c-o*u,S=l*g-h*p,C=l*v-f*p,k=l*y-d*p,E=h*v-f*g,T=h*y-d*g,P=f*y-d*v,j=m*P-b*T+x*E+w*k-M*C+O*S;return j?(j=1/j,t[0]=(s*P-u*T+c*E)*j,t[1]=(u*k-a*P-c*C)*j,t[2]=(a*T-s*k+c*S)*j,t[3]=(i*T-r*P-o*E)*j,t[4]=(n*P-i*k+o*C)*j,t[5]=(r*k-n*T-o*S)*j,t[6]=(g*O-v*M+y*w)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*M-g*x+y*m)*j,t):null}function jt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Nt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function At(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function It(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function _t(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Bt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Rt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-h)<=1e-6*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=1e-6*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=1e-6*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=1e-6*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=1e-6*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=1e-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-b)<=1e-6*Math.max(1,Math.abs(l),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Yt=xt,Ft=_t;function Xt(){var t=new st(2);return st!=Float32Array&&(t[0]=0,t[1]=0),t}function zt(t){var e=new st(2);return e[0]=t[0],e[1]=t[1],e}function Wt(t,e){var n=new st(2);return n[0]=t,n[1]=e,n}function Ht(t,e){return t[0]=e[0],t[1]=e[1],t}function qt(t,e,n){return t[0]=e,t[1]=n,t}function Gt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Ut(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Vt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Zt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Qt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Kt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function $t(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Jt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function te(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ee(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ne(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function re(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function ie(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function oe(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function ae(t){var e=t[0],n=t[1];return e*e+n*n}function se(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ue(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ce(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function le(t,e){return t[0]*e[0]+t[1]*e[1]}function he(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function fe(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function de(t,e){e=e||1;var n=2*ut()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function pe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function ge(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function ve(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function ye(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function me(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function be(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function xe(t){return t[0]=0,t[1]=0,t}function we(t){return"vec2("+t[0]+", "+t[1]+")"}function Me(t,e){return t[0]===e[0]&&t[1]===e[1]}function Oe(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var Se,Ce=oe,ke=Ut,Ee=Vt,Te=Zt,Pe=re,je=ie,Ne=ae,Ae=(Se=Xt(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Se[0]=t[a],Se[1]=t[a+1],i(Se,Se,o),t[a]=Se[0],t[a+1]=Se[1];return t});function Ie(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromTranslation(r,n),i.multiply(t,r,e)}function _e(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromRotation(r,n),i.multiply(t,r,e)}function Le(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromScaling(r,n),i.multiply(t,r,e)}function Be(t,e){for(var n,r,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,u=e.length;s<u;s++){var c=e[s];switch(c[0]){case"t":Ie(a,a,[c[1],c[2]]);break;case"s":Le(a,a,[c[1],c[2]]);break;case"r":_e(a,a,c[1]);break;case"m":n=a,r=a,o=c[1],i.multiply(n,o,r)}}return a}function De(t,e){return t[0]*e[1]-e[0]*t[1]}function Re(t,e,n){var r=o.angle(t,e),i=De(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function Ye(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function Fe(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*l,n[2]=f*o+d*u+p*h,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*l,n[5]=g*o+v*u+y*h,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*l,n[8]=m*o+b*u+x*h,n}function Xe(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function ze(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-l*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(l*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}var We=a.transform,He=["zIndex","capture","visible","type"],qe=["repeat"];function Ge(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Ue(t,e){var n={},r=e.attr();return Object(y.each)(t,(function(t,e){-1!==qe.indexOf(e)||Object(y.isEqual)(r[e],t)||(n[e]=t)})),n}function Ve(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return Object(y.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&Object(y.each)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Ze=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(y.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return J(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(y.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(et(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Fe(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Fe(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Xe(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=ze(e);if(n)return Xe(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(y.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(y.each)(e,(function(t,r){Object(y.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(y.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(y.each)(He,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,c=t[0],l=t[1],h=t[2],f=void 0===h?"easeLinear":h,d=t[3],p=void 0===d?y.noop:d,g=t[4],v=void 0===g?0:g;Object(y.isFunction)(c)?(i=c,c={}):Object(y.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(y.isObject)(l)?(l=(u=l).duration,f=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||y.noop,a=u.pauseCallback||y.noop,s=u.resumeCallback||y.noop):(Object(y.isNumber)(p)&&(v=p,p=null),Object(y.isFunction)(f)?(p=f,f="easeLinear"):f=f||"easeLinear");var m=Ue(c,this),b={fromAttrs:Ge(m,this),toAttrs:m,duration:l,easing:f,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(y.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=Ve(r,b):n.addAnimator(this),r.push(b),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(y.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(y.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(y.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&rt(o,n))return"break";Object(y.isArray)(s)?Object(y.each)(s,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,s,e)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=We(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=We(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=We(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=We(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=We(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(ot),Qe={};var Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Object(y.each)(a,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(y.min)(i),e=Object(y.max)(i),n=Object(y.min)(o),r=Object(y.max)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Object(y.each)(a,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(y.min)(i),e=Object(y.max)(i),n=Object(y.min)(o),r=Object(y.max)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(y.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(y.isObject)(n)?r=n:r.type=n;var i=Qe[r.type];i||(i=Object(y.upperFirst)(r.type),Qe[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(y.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!it(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(it(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),et(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(y.each)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(y.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(y.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Ze);function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je,tn,en=0,nn=0,rn=0,on=0,an=0,sn=0,un="object"===("undefined"==typeof performance?"undefined":$e(performance))&&performance.now?performance:Date,cn="object"===("undefined"==typeof window?"undefined":$e(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ln(){return an||(cn(hn),an=un.now()+sn)}function hn(){an=0}function fn(){this._call=this._time=this._next=null}function dn(t,e,n){var r=new fn;return r.restart(t,e,n),r}function pn(){an=(on=un.now())+sn,en=nn=0;try{!function(){ln(),++en;for(var t,e=Je;e;)(t=an-e._time)>=0&&e._call.call(null,t),e=e._next;--en}()}finally{en=0,function(){var t,e,n=Je,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Je=e);tn=t,vn(r)}(),an=0}}function gn(){var t=un.now(),e=t-on;e>1e3&&(sn-=e,on=t)}function vn(t){en||(nn&&(nn=clearTimeout(nn)),t-an>24?(t<1/0&&(nn=setTimeout(pn,t-un.now()-sn)),rn&&(rn=clearInterval(rn))):(rn||(on=un.now(),rn=setInterval(gn,1e3)),en=1,cn(pn)))}function yn(t){return+t}function mn(t){return t*t}function bn(t){return t*(2-t)}function xn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function wn(t){return t*t*t}function Mn(t){return--t*t*t+1}function On(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}fn.prototype=dn.prototype={constructor:fn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ln():+n)+(null==e?0:+e),this._next||tn===this||(tn?tn._next=this:Je=this,tn=this),this._call=t,this._time=n,vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,vn())}};var Sn=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Cn=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),kn=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),En=Math.PI,Tn=En/2;function Pn(t){return 1==+t?1:1-Math.cos(t*Tn)}function jn(t){return Math.sin(t*Tn)}function Nn(t){return(1-Math.cos(En*t))/2}function An(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function In(t){return An(1-+t)}function _n(t){return 1-An(t)}function Ln(t){return((t*=2)<=1?An(1-t):2-An(t-1))/2}function Bn(t){return 1-Math.sqrt(1-t*t)}function Dn(t){return Math.sqrt(1- --t*t)}function Rn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Yn(t){return 1-Fn(1-t)}function Fn(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function Xn(t){return((t*=2)<=1?1-Fn(1-t):Fn(t-1)+1)/2}var zn=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),Wn=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),Hn=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),qn=2*Math.PI,Gn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qn);function i(t){return e*An(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*qn)},i.period=function(n){return t(e,n)},i}(1,.3),Un=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qn);function i(t){return 1-e*An(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*qn)},i.period=function(n){return t(e,n)},i}(1,.3),Vn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=qn);function i(t){return((t=2*t-1)<0?e*An(-t)*Math.sin((r-t)/n):2-e*An(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*qn)},i.period=function(n){return t(e,n)},i}(1,.3),Zn=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Qn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kn(){}var $n="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",er=/^#([0-9a-f]{3,8})$/,nr=new RegExp("^rgb\\("+[$n,$n,$n]+"\\)$"),rr=new RegExp("^rgb\\("+[tr,tr,tr]+"\\)$"),ir=new RegExp("^rgba\\("+[$n,$n,$n,Jn]+"\\)$"),or=new RegExp("^rgba\\("+[tr,tr,tr,Jn]+"\\)$"),ar=new RegExp("^hsl\\("+[Jn,tr,tr]+"\\)$"),sr=new RegExp("^hsla\\("+[Jn,tr,tr,Jn]+"\\)$"),ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cr(){return this.rgb().formatHex()}function lr(){return this.rgb().formatRgb()}function hr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=er.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fr(e):3===n?new vr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?dr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?dr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nr.exec(t))?new vr(e[1],e[2],e[3],1):(e=rr.exec(t))?new vr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ir.exec(t))?dr(e[1],e[2],e[3],e[4]):(e=or.exec(t))?dr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ar.exec(t))?xr(e[1],e[2]/100,e[3]/100,1):(e=sr.exec(t))?xr(e[1],e[2]/100,e[3]/100,e[4]):ur.hasOwnProperty(t)?fr(ur[t]):"transparent"===t?new vr(NaN,NaN,NaN,0):null}function fr(t){return new vr(t>>16&255,t>>8&255,255&t,1)}function dr(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function pr(t){return t instanceof Kn||(t=hr(t)),t?new vr((t=t.rgb()).r,t.g,t.b,t.opacity):new vr}function gr(t,e,n,r){return 1===arguments.length?pr(t):new vr(t,e,n,null==r?1:r)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function yr(){return"#"+br(this.r)+br(this.g)+br(this.b)}function mr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function br(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mr(t,e,n,r)}function wr(t){if(t instanceof Mr)return new Mr(t.h,t.s,t.l,t.opacity);if(t instanceof Kn||(t=hr(t)),!t)return new Mr;if(t instanceof Mr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Mr(a,s,u,t.opacity)}function Mr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Or(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Sr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Zn(Kn,hr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:cr,formatHex:cr,formatHsl:function(){return wr(this).formatHsl()},formatRgb:lr,toString:lr}),Zn(vr,gr,Qn(Kn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yr,formatHex:yr,formatRgb:mr,toString:mr})),Zn(Mr,(function(t,e,n,r){return 1===arguments.length?wr(t):new Mr(t,e,n,null==r?1:r)}),Qn(Kn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Or(t>=240?t-240:t+120,i,r),Or(t,i,r),Or(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Cr=function(t){return function(){return t}};function kr(t,e){return function(n){return t+n*e}}function Er(t){return 1==(t=+t)?Tr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Cr(isNaN(e)?n:e)}}function Tr(t,e){var n=e-t;return n?kr(t,n):Cr(isNaN(t)?e:t)}var Pr=function t(e){var n=Er(e);function r(t,e){var r=n((t=gr(t)).r,(e=gr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Tr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function jr(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=gr(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}jr((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Sr((n-r/e)*e,a,i,o,s)}})),jr((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Sr((n-r/e)*e,i,o,a,s)}}));var Nr=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Ar(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ir(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=zr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var _r=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Lr=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dr=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Br(t)||(t={}),null!==e&&"object"===Br(e)||(e={}),e)n in t?r[n]=zr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yr=new RegExp(Rr.source,"g");var Fr=function(t,e){var n,r,i,o=Rr.lastIndex=Yr.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Rr.exec(t))&&(r=Yr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Lr(n,r)})),o=Yr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function Xr(t){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var zr=function(t,e){var n,r=Xr(e);return null==e||"boolean"===r?Cr(e):("number"===r?Lr:"string"===r?(n=hr(e))?(e=n,Pr):Fr:e instanceof hr?Pr:e instanceof Date?_r:Ar(e)?Nr:Array.isArray(e)?Ir:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Dr:Lr)(t,e)},Wr=[1,0,0,0,1,0,0,0,1];function Hr(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var o=e.duration,a=e.easing;if(n=n-i-e.delay,e.repeat)r=n%o/o,r=s[a](r);else{if(!((r=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=s[a](r)}if(e.onFrame){var u=e.onFrame(r);t.attr(u)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,u,c;for(var l in o)if(!Object(y.isEqual)(i[l],o[l]))if("path"===l){var h=o[l],f=i[l];h.length>f.length?(h=w(o[l]),f=w(i[l]),f=U(f,h),f=Q(f,h),e.fromAttrs.path=f,e.toAttrs.path=h):e.pathFormatted||(h=w(o[l]),f=w(i[l]),f=Q(f,h),e.fromAttrs.path=f,e.toAttrs.path=h,e.pathFormatted=!0),r[l]=[];for(var d=0;d<h.length;d++){for(var p=h[d],g=f[d],v=[],m=0;m<p.length;m++)Object(y.isNumber)(p[m])&&g&&Object(y.isNumber)(g[m])?(a=zr(g[m],p[m]),v.push(a(n))):v.push(p[m]);r[l].push(v)}}else if("matrix"===l){var b=(u=i[l]||Wr,(Ar(c=o[l]||Wr)?Nr:Ir)(u,c))(n);r[l]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(l)&&(s=o[l],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[l]=o[l]:Object(y.isFunction)(o[l])||(a=zr(i[l],o[l]),r[l]=a(n));t.attr(r)}}(t,e,r);return!1}var qr=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=dn((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],Hr(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Gr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ur(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Vr(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&rt(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Zr=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(y.each)(Gr,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(y.each)(Gr,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new K(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,l=a.clientY-t.clientY;u>120||c*c+l*l>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,Ur(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Vr(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Ur(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Qr=Object(at.a)(),Kr=Qr&&"firefox"===Qr.name,$r=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return J(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(y.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Zr({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new qr(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");nt&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");nt&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Kr&&!Object(y.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(y.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Ke),Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Ke),ti=function(t){function e(e){return t.call(this,e)||this}return J(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=Xe(e,[t.minX,t.minY]),s=Xe(e,[t.maxX,t.minY]),u=Xe(e,[t.minX,t.maxY]),c=Xe(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),i=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),o=Math.max(a[1],s[1],u[1],c[1])}var l=this.attrs;if(l.shadowColor){var h=l.shadowBlur,f=void 0===h?0:h,d=l.shadowOffsetX,p=void 0===d?0:d,g=l.shadowOffsetY,v=void 0===g?0:g,y=n-f+p,m=i+f+p,b=r-f+v,x=o+f+v;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Ze),ei=new Map;function ni(t,e){ei.set(t,e)}var ri=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},ii=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}},oi={}.toString,ai=function(t,e){return oi.call(t)==="[object "+e+"]"},si=function(t){return ai(t,"Function")},ui=function(t){return Array.isArray?Array.isArray(t):ai(t,"Array")};function ci(t){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var li=function(t){var e=ci(t);return null!==t&&"object"===e||"function"===e};var hi=function(t,e){if(t)if(ui(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(li(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var fi=function(t){if(ui(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},di=function(t){if(ui(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},pi=Array.prototype;pi.splice,pi.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var gi=function(t){return ai(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function vi(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function yi(t,e){return Math.abs(t-e)<.001}function mi(t,e){var n=di(t),r=di(e);return{x:n,y:r,width:fi(t)-n,height:fi(e)-r}}function bi(t,e,n,r){return{minX:di([t,n]),maxX:fi([t,n]),minY:di([e,r]),maxY:fi([e,r])}}function xi(t){return(t+2*Math.PI)%(2*Math.PI)}var wi="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});!function(){var t,e=(t=new wi(2),wi!=Float32Array&&(t[0]=0,t[1]=0),t)}();var Mi={box:function(t,e,n,r){return mi([t,n],[e,r])},length:function(t,e,n,r){return vi(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);return a<0?vi(t,e,i,o):a>(n-t)*(n-t)+(r-e)*(r-e)?vi(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(function(t,e){return t[0]===e[0]&&t[1]===e[1]}(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];!function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i}(s,s);var u=[i-t,o-e];return Math.abs(function(t,e){return t[0]*e[0]+t[1]*e[1]}(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function Oi(t,e,n,r,i,o){var a,s=1/0,u=[n,r],c=20;o&&o>200&&(c=o/10);for(var l=1/c,h=l/10,f=0;f<=c;f++){var d=f*l,p=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))];(m=vi(u[0],u[1],p[0],p[1]))<s&&(a=d,s=m)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(f=0;f<32&&!(h<1e-4);f++){var v=a-h,y=a+h,m=(p=[i.apply(null,t.concat([v])),i.apply(null,e.concat([v]))],vi(u[0],u[1],p[0],p[1]));if(v>=0&&m<s)a=v,s=m;else{var b=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],x=vi(u[0],u[1],b[0],b[1]);y<=1&&x<s?(a=y,s=x):h*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function Si(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Ci(t,e,n){var r=t+n-2*e;if(yi(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function ki(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function Ei(t,e,n,r,i,o,a){var s=Si(t,n,i,a),u=Si(e,r,o,a),c=Mi.pointAt(t,e,n,r,a),l=Mi.pointAt(n,r,i,o,a);return[[t,e,c.x,c.y,s,u],[s,u,l.x,l.y,i,o]]}var Ti={box:function(t,e,n,r,i,o){var a=Ci(t,n,i)[0],s=Ci(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(Si(t,n,i,a)),void 0!==s&&c.push(Si(e,r,o,s)),mi(u,c)},length:function(t,e,n,r,i,o){return function t(e,n,r,i,o,a,s){if(0===s)return(vi(e,n,r,i)+vi(r,i,o,a)+vi(e,n,o,a))/2;var u=Ei(e,n,r,i,o,a,.5),c=u[0],l=u[1];return c.push(s-1),l.push(s-1),t.apply(null,c)+t.apply(null,l)}(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return Oi([t,n,i],[e,r,o],a,s,Si)},pointDistance:function(t,e,n,r,i,o,a,s){var u=this.nearestPoint(t,e,n,r,i,o,a,s);return vi(u.x,u.y,a,s)},interpolationAt:Si,pointAt:function(t,e,n,r,i,o,a){return{x:Si(t,n,i,a),y:Si(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return Ei(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=ki(t,n,i,a),u=ki(e,r,o,a);return xi(Math.atan2(u,s))}};function Pi(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function ji(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Ni(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,l=[];if(yi(s,0))yi(u,0)||(i=-c/u)>=0&&i<=1&&l.push(i);else{var h=u*u-4*s*c;yi(h,0)?l.push(-u/(2*s)):h>0&&(o=(-u-(a=Math.sqrt(h)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&l.push(i),o>=0&&o<=1&&l.push(o))}return l}function Ai(t,e,n,r,i,o,a,s,u){var c=Pi(t,n,i,a,u),l=Pi(e,r,o,s,u),h=Mi.pointAt(t,e,n,r,u),f=Mi.pointAt(n,r,i,o,u),d=Mi.pointAt(i,o,a,s,u),p=Mi.pointAt(h.x,h.y,f.x,f.y,u),g=Mi.pointAt(f.x,f.y,d.x,d.y,u);return[[t,e,h.x,h.y,p.x,p.y,c,l],[c,l,g.x,g.y,d.x,d.y,a,s]]}function Ii(t,e,n,r,i,o,a,s,u){if(0===u)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++){n+=vi(t[i],e[i],t[(i+1)%r],e[(i+1)%r])}return n/2}([t,n,i,a],[e,r,o,s]);var c=Ai(t,e,n,r,i,o,a,s,.5),l=c[0],h=c[1];return l.push(u-1),h.push(u-1),Ii.apply(null,l)+Ii.apply(null,h)}var _i={extrema:Ni,box:function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],l=Ni(t,n,i,a),h=Ni(e,r,o,s),f=0;f<l.length;f++)u.push(Pi(t,n,i,a,l[f]));for(f=0;f<h.length;f++)c.push(Pi(e,r,o,s,h[f]));return mi(u,c)},length:function(t,e,n,r,i,o,a,s){return Ii(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,c,l){return Oi([t,n,i,a],[e,r,o,s],u,c,Pi,l)},pointDistance:function(t,e,n,r,i,o,a,s,u,c,l){var h=this.nearestPoint(t,e,n,r,i,o,a,s,u,c,l);return vi(h.x,h.y,u,c)},interpolationAt:Pi,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:Pi(t,n,i,a,u),y:Pi(e,r,o,s,u)}},divide:function(t,e,n,r,i,o,a,s,u){return Ai(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,i,o,a,s,u){var c=ji(t,n,i,a,u),l=ji(e,r,o,s,u);return xi(Math.atan2(l,c))}};function Li(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Bi(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var Di=function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,l=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;o<a?o<f&&f<a&&l.push(f):a<f&&f<o&&l.push(f)}for(h=0;h<l.length;h++){var d=Li(t,0,n,r,i,l[h]);d<u&&(u=d),d>c&&(c=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var b=Bi(0,e,n,r,i,y[h]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function Ri(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=vi(r[0],r[1],i[0],i[1])}return e}var Yi=function(t){return Ri(t)};function Fi(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Xi(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=Fi(e,n.getCanvasBBox())),r&&(e=Fi(e,r.getCanvasBBox())),e}var zi=null;function Wi(t,e,n){var r=1;return Object(y.isString)(t)&&(r=t.split("\n").length),r>1?e*r+function(t,e){return e?e-t:.14*t}(e,n)*(r-1):e}function Hi(t,e){var n=function(){if(!zi){var t=document.createElement("canvas");t.width=1,t.height=1,zi=t.getContext("2d")}return zi}(),r=0;if(Object(y.isNil)(t)||""===t)return r;if(n.save(),n.font=e,Object(y.isString)(t)&&t.includes("\n")){var i=t.split("\n");Object(y.each)(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function qi(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}var Gi=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Ui=/[^\s\,]+/gi;var Vi=function(t){var e=t||[];return Object(y.isArray)(e)?e:Object(y.isString)(e)?(e=e.match(Gi),Object(y.each)(e,(function(t,n){if((t=t.match(Ui))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}Object(y.each)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};new RegExp("([a-z])[\t\n\v\f\r   ᠎             　\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*)+)","ig"),new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*","ig");function Zi(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qi(t,e){return Zi(t)*Zi(e)?(t[0]*e[0]+t[1]*e[1])/(Zi(t)*Zi(e)):1}function Ki(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qi(t,e))}function $i(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ji(t,e){var n=e[1],r=e[2],i=Object(y.mod)(Object(y.toRadian)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],l=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,m=n?g*-r*h/n:0,b=(s+c)/2+Math.cos(i)*v-Math.sin(i)*m,x=(u+l)/2+Math.sin(i)*v+Math.cos(i)*m,w=[(h-v)/n,(f-m)/r],M=[(-1*h-v)/n,(-1*f-m)/r],O=Ki([1,0],w),S=Ki(w,M);return Qi(w,M)<=-1&&(S=Math.PI),Qi(w,M)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:b,cy:x,rx:$i(t,[c,l])?0:n,ry:$i(t,[c,l])?0:r,startAngle:O,endAngle:O+S,xRotation:i,arcFlag:o,sweepFlag:a}}function to(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function eo(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(y.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(u/2-c)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(l-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}ni("rect",ri),ni("image",ri),ni("circle",ii),ni("marker",ii),ni("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=u.getBBoxByArray(n,r),s=a.x,c=a.y,l={minX:s,minY:c,maxX:s+a.width,maxY:c+a.height};return{x:(l=Xi(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),ni("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return u.getBBoxByArray(n,r)})),ni("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=qi(e));var u,c=Hi(i,s);if(c){var l=e.textAlign,h=e.textBaseline,f=Wi(i,o,a),d={x:n,y:r-f};l&&("end"===l||"right"===l?d.x-=c:"center"===l&&(d.x-=c/2)),h&&("top"===h?d.y+=f:"middle"===h&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u})),ni("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=Ti.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=_i.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var l=g.arcParams;c=Di(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var h=Object(y.min)(n),f=Object(y.min)(r),d=Object(y.max)(n),p=Object(y.max)(r);if(0===i.length)return{x:h,y:f,width:d-h,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===h?h-=eo(g,e).xExtra:a[0]===d&&(d+=eo(g,e).xExtra),a[1]===f?f-=eo(g,e).yExtra:a[1]===p&&(p+=eo(g,e).yExtra)}return{x:h,y:f,width:d-h,height:p-f}}(t.get("segments")||function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=Vi(t)).length,s=0;s<a;s++){var u=t[s];r=t[s+1];var c=u[0],l={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var h=Ji(n,u);l.arcParams=h}if("Z"===c)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),l.currentPoint=n,e[o]&&$i(n,e[o].currentPoint)&&(e[o].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var p=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=to((m=e[s-1]).currentPoint,p);"Q"===m.command?(l.command="Q",l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]):(l.command="TL",l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],y=[u[3],u[4]];l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]}else if("S"===c){var m;v=to((m=e[s-1]).currentPoint,p),y=[u[1],u[2]];"C"===m.command?(l.command="C",l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]):(l.command="SQ",l.startTangent=[p[0]-y[0],p[1]-y[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var b=.001,x=l.arcParams||{},w=x.cx,M=void 0===w?0:w,O=x.cy,S=void 0===O?0:O,C=x.rx,k=void 0===C?0:C,E=x.ry,T=void 0===E?0:E,P=x.sweepFlag,j=void 0===P?0:P,N=x.startAngle,A=void 0===N?0:N,I=x.endAngle,_=void 0===I?0:I;0===j&&(b*=-1);var L=k*Math.cos(A-b)+M,B=T*Math.sin(A-b)+S;l.startTangent=[L-i[0],B-i[1]];var D=k*Math.cos(A+_+b)+M,R=T*Math.sin(A+_-b)+S;l.endTangent=[p[0]-D,p[1]-R]}e.push(l)}return e}(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Xi(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),ni("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Xi(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),ni("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var no={}.toString,ro=function(t,e){return no.call(t)==="[object "+e+"]"},io=function(t){return ro(t,"Function")},oo=function(t){return null==t},ao=function(t){return Array.isArray?Array.isArray(t):ro(t,"Array")};function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uo=function(t){var e=so(t);return null!==t&&"object"===e||"function"===e};var co=function(t,e){if(t)if(ao(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(uo(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var lo=Array.prototype,ho=(lo.splice,lo.indexOf,Array.prototype.splice,function(t){return ro(t,"String")});Object.prototype.hasOwnProperty;var fo=function(t){return ro(t,"Number")};Number.isInteger&&Number.isInteger;var po=function(t,e){return(t%e+e)%e},go=(Math.PI,parseInt,Math.PI/180),vo=function(t){return go*t};Object.values;Object.prototype;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var yo=n(26);function mo(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function bo(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function xo(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function wo(t,e){return t[0]===e[0]&&t[1]===e[1]}var Mo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Oo=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,So=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Co=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ko(t,e){var n=t.match(Co);co(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Eo(t,e,n){if(ho(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,o=Mo.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var c=Math.tan(a),l=c*c,h=(i.x-r.x+c*(i.y-r.y))/(l+1)+r.x,f=c*(i.x-r.x+c*(i.y-r.y))/(l+1)+r.y,d=t.createLinearGradient(r.x,r.y,h,f);return ko(s,d),d}(t,e,n);if("r"===n[0])return function(t,e,n){var r=Oo.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(Co);return u[u.length-1].split(":")[1]}var c=e.getBBox(),l=c.maxX-c.minX,h=c.maxY-c.minY,f=Math.sqrt(l*l+h*h)/2,d=t.createRadialGradient(c.minX+l*i,c.minY+h*o,0,c.minX+l/2,c.minY+h/2,a*f);return ko(s,d),d}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=So.exec(n),a=o[1],s=o[2];function u(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(t,e,n)}return n}}function To(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Po(t,e){return To(t)*To(e)?(t[0]*e[0]+t[1]*e[1])/(To(t)*To(e)):1}function jo(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Po(t,e))}function No(t,e){var n=e[1],r=e[2],i=po(vo(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],l=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*h/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+l)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(h-v)/n,(f-y)/r],w=[(-1*h-v)/n,(-1*f-y)/r],M=jo([1,0],x),O=jo(x,w);return Po(x,w)<=-1&&(O=Math.PI),Po(x,w)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:wo(t,[c,l])?0:n,ry:wo(t,[c,l])?0:r,startAngle:M,endAngle:M+O,xRotation:i,arcFlag:o,sweepFlag:a}}var Ao=Math.sin,Io=Math.cos,_o=Math.atan2,Lo=Math.PI;function Bo(t,e,n,r,i,o,a){var s=e.stroke,u=e.lineWidth,c=_o(r-o,n-i),l=new uu({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Io(Lo/6)+","+10*Ao(Lo/6)+" L0,0 L"+10*Io(Lo/6)+",-"+10*Ao(Lo/6),stroke:s,lineWidth:u}});l.translate(i,o),l.rotateAtPoint(i,o,c),t.set(a?"startArrowShape":"endArrowShape",l)}function Do(t,e,n,r,i,o,a){var s=e.startArrow,u=e.endArrow,c=e.stroke,l=e.lineWidth,h=a?s:u,f=h.d,d=h.fill,p=h.stroke,g=h.lineWidth,y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(h,["d","fill","stroke","lineWidth"]),m=_o(r-o,n-i);f&&(i-=Io(m)*f,o-=Ao(m)*f);var b=new uu({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:v(v({},y),{stroke:p||c,lineWidth:g||l,fill:d})});b.translate(i,o),b.rotateAtPoint(i,o,m),t.set(a?"startArrowShape":"endArrowShape",b)}function Ro(t,e,n,r,i){var o=_o(r-e,n-t);return{dx:Io(o)*i,dy:Ao(o)*i}}function Yo(t,e,n,r,i,o){"object"==typeof e.startArrow?Do(t,e,n,r,i,o,!0):e.startArrow?Bo(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function Fo(t,e,n,r,i,o){"object"==typeof e.endArrow?Do(t,e,n,r,i,o,!1):e.endArrow?Bo(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var Xo={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function zo(t,e){var n=e.attr();for(var r in n){var i=n[r],o=Xo[r]?Xo[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?ao(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Eo(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function Wo(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function Ho(t,e,n){var r=t.get("refreshElements");co(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?qo(e,n):function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&qo(i.cfg.children,n);else if(i.cfg.refresh)i.isGroup()&&t(i.cfg.children,n);else{var o=Go(i,n);i.cfg.refresh=o,o&&i.isGroup()&&t(i.cfg.children,n)}}}(e,n)}function qo(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&qo(r.get("children"),e)}}function Go(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&xo(n,e)}function Uo(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],c={dx:0,dy:0};e.beginPath();for(var l=0;l<i.length;l++){var h=i[l],f=h[0];if(0===l&&o&&o.d)c=Ro((d=t.getStartTangent())[0][0],d[0][1],d[1][0],d[1][1],o.d);else if(l===i.length-2&&"Z"===i[l+1][0]&&a&&a.d){if("Z"===i[l+1][0])c=Ro((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}else if(l===i.length-1&&a&&a.d){var d;if("Z"!==i[0])c=Ro((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}var p=c.dx,g=c.dy;switch(f){case"M":e.moveTo(h[1]-p,h[2]-g),u=[h[1],h[2]];break;case"L":e.lineTo(h[1]-p,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-p,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-p,h[6]-g);break;case"A":var v=void 0;r?(v=r[l])||(v=No(s,h),r[l]=v):v=No(s,h);var y=v.cx,m=v.cy,b=v.rx,x=v.ry,w=v.startAngle,M=v.endAngle,O=v.xRotation,S=v.sweepFlag;if(e.ellipse)e.ellipse(y,m,b,x,O,w,M,1-S);else{var C=b>x?b:x,k=b>x?1:b/x,E=b>x?x/b:1;e.translate(y,m),e.rotate(O),e.scale(k,E),e.arc(0,0,C,w,M,1-S),e.scale(1/k,1/E),e.rotate(-O),e.translate(-y,-m)}break;case"Z":e.closePath()}if("Z"===f)s=u;else{var T=h.length;s=[h[T-2],h[T-1]]}}}}function Vo(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Zo(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=t.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?e=i:s&&(e=a)}return e}var Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.onCanvasChange=function(t){Vo(this,t)},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),zo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];co(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=Math.min.apply(null,e),o=Math.max.apply(null,e),a=Math.min.apply(null,n),s=Math.max.apply(null,n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var c=u.getViewRange();this.set("isInView",xo(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),zo(t,this),this._applyClip(t,this.getClip()),Wo(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Jr),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Qo},e.prototype.onCanvasChange=function(t){Vo(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=function(t){return ei.get(t)}(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),zo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!xo(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),zo(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=xo(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(oo(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(oo(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(ti),$o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,l=mo(a,s,t,e);return r&&n?l<=u+c:r?l<=u:!!n&&(l>=u-c&&l<=u+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Ko);function Jo(t,e,n,r){return t/(n*n)+e/(r*r)}var ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,l=o.ry,h=(t-s)*(t-s),f=(e-u)*(e-u);return r&&n?Jo(h,f,c+a,l+a)<=1:r?Jo(h,f,c,l)<=1:!!n&&(Jo(h,f,c-a,l-a)>=1&&Jo(h,f,c+a,l+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ko);function ea(t){return t instanceof HTMLElement&&ho(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var na=null;var ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(!(null==na?void 0:na.isMini())||(null==na?void 0:na.isMiniNative()))if(ho(t)){var r=null;(r=(null==na?void 0:na.isMiniNative())?null==na?void 0:na.get("extra").createImage():new Image).onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else(null==na?void 0:na.isMiniNative())||t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):ea(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))));else this.attr("img",t)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){var e=this.attr(),n=e.img,r=e.x,i=e.y,o=e.width,a=e.height,s=e.sx,u=e.sy,c=e.swidth,l=e.sheight;if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);(null==na?void 0:na.isMini())?t.drawImage(n,r,i,o,a):(n instanceof Image||ea(n))&&(oo(s)||oo(u)||oo(c)||oo(l)?t.drawImage(n,r,i,o,a):t.drawImage(n,s,u,c,l,r,i,o,a))},e}(Ko);function ia(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),c=Math.min(e,r),l=Math.max(e,r),h=i/2;return o>=s-h&&o<=u+h&&a>=c-h&&a<=l+h&&Mi.pointToLine(t,e,n,r,o,a)<=i/2}var oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&Yo(this,t,r,i,e,n),a&&Fo(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return ia(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=Ro(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=Ro(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Mi.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Mi.pointAt(n,r,i,o,t)},e}(Ko),aa=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,sa=/[^\s\,]+/gi;var ua=function(t){var e=t||[];return ao(e)?e:ho(e)?(e=e.match(aa),co(e,(function(t,n){if((t=t.match(sa))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}co(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};var ca=new RegExp("([a-z])[\t\n\v\f\r   ᠎             　\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*)+)","ig"),la=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*","ig");var ha=/[a-z]/;function fa(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function da(t){var e=function(t){if(!t)return null;if(ao(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(ca,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(la,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(ha.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,u=0,c=0,l=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(u=a=+h[1],c=s=+h[2],l++,o[0]=["M",a,s]);r=l;for(var f=e.length;r<f;r++){var d=e[r],p=o[r-1],g=[],v=(i=d[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=d[1],g[2]=d[2],g[3]=d[3],g[4]=d[4],g[5]=d[5],g[6]=+d[6]+a,g[7]=+d[7]+s;break;case"V":g[1]=+d[1]+s;break;case"H":g[1]=+d[1]+a;break;case"M":u=+d[1]+a,c=+d[2]+s;break;default:for(var y=1,m=d.length;y<m;y++)g[y]=+d[y]+(y%2?a:s)}else g=e[r];switch(v){case"Z":a=+u,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=fa([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=fa([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}function pa(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ga(t,e){return pa(t)*pa(e)?(t[0]*e[0]+t[1]*e[1])/(pa(t)*pa(e)):1}function va(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ga(t,e))}function ya(t,e){return t[0]===e[0]&&t[1]===e[1]}function ma(t,e){var n=e[1],r=e[2],i=po(vo(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],l=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*h/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+l)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(h-v)/n,(f-y)/r],w=[(-1*h-v)/n,(-1*f-y)/r],M=va([1,0],x),O=va(x,w);return ga(x,w)<=-1&&(O=Math.PI),ga(x,w)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:ya(t,[c,l])?0:n,ry:ya(t,[c,l])?0:r,startAngle:M,endAngle:M+O,xRotation:i,arcFlag:o,sweepFlag:a}}function ba(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var xa={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return oo(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if(io(a))n=da(n=(t=a)(i,o,s));else{if(!(t=e.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=t(i,o,s)}return n},e.prototype.createPath=function(t){Uo(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=xa,e}(Ko);function Ma(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function Oa(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Sa(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Oa(a,s,[e,n]))return!0;Ma(a[1]-n)>0!=Ma(s[1]-n)>0&&Ma(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}var Ca="undefined"!=typeof Float32Array?Float32Array:Array,ka=Math.random;Math.PI;function Ea(){var t=new Ca(9);return Ca!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Ta(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Pa(t){var e=new Ca(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ja(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Na(t,e,n,r,i,o,a,s,u){var c=new Ca(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function Aa(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function Ia(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _a(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function La(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,f=-l*o+s*u,d=c*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function Ba(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function Da(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function Ra(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*l,t[2]=f*o+d*u+p*h,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*l,t[5]=g*o+v*u+y*h,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*l,t[8]=m*o+b*u+x*h,t}function Ya(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+l,t[8]=f*o+d*u+h,t}function Fa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=l,t[8]=h,t}function Xa(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function za(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Wa(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ha(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function qa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ga(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-h-p,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-h,t}function Ua(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,M=r*c-o*s,O=i*c-o*u,S=l*g-h*p,C=l*v-f*p,k=l*y-d*p,E=h*v-f*g,T=h*y-d*g,P=f*y-d*v,j=m*P-b*T+x*E+w*k-M*C+O*S;return j?(j=1/j,t[0]=(s*P-u*T+c*E)*j,t[1]=(u*k-a*P-c*C)*j,t[2]=(a*T-s*k+c*S)*j,t[3]=(i*T-r*P-o*E)*j,t[4]=(n*P-i*k+o*C)*j,t[5]=(r*k-n*T-o*S)*j,t[6]=(g*O-v*M+y*w)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*M-g*x+y*m)*j,t):null}function Va(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Za(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Qa(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ka(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function $a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Ja(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function ts(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function es(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ns(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-h)<=1e-6*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=1e-6*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=1e-6*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=1e-6*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=1e-6*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=1e-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-b)<=1e-6*Math.max(1,Math.abs(l),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var rs=Ra,is=$a;function os(){var t=new Ca(2);return Ca!=Float32Array&&(t[0]=0,t[1]=0),t}function as(t){var e=new Ca(2);return e[0]=t[0],e[1]=t[1],e}function ss(t,e){var n=new Ca(2);return n[0]=t,n[1]=e,n}function us(t,e){return t[0]=e[0],t[1]=e[1],t}function cs(t,e,n){return t[0]=e,t[1]=n,t}function ls(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function hs(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function fs(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function ds(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function ps(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function gs(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function vs(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ys(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ms(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function bs(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function xs(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function ws(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function Ms(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Os(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function Ss(t){var e=t[0],n=t[1];return e*e+n*n}function Cs(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ks(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Es(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Ts(t,e){return t[0]*e[0]+t[1]*e[1]}function Ps(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function js(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function Ns(t,e){e=e||1;var n=2*ka()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function As(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Is(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function _s(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Ls(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Bs(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function Ds(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Rs(t){return t[0]=0,t[1]=0,t}function Ys(t){return"vec2("+t[0]+", "+t[1]+")"}function Fs(t,e){return t[0]===e[0]&&t[1]===e[1]}function Xs(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var zs=Os,Ws=hs,Hs=fs,qs=ds,Gs=ws,Us=Ms,Vs=Ss,Zs=function(){var t=os();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();function Qs(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromTranslation(r,n),c.multiply(t,r,e)}function Ks(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromRotation(r,n),c.multiply(t,r,e)}function $s(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromScaling(r,n),c.multiply(t,r,e)}function Js(t,e){for(var n,r,i,o=t?[].concat(t):[1,0,0,0,1,0,0,0,1],a=0,s=e.length;a<s;a++){var u=e[a];switch(u[0]){case"t":Qs(o,o,[u[1],u[2]]);break;case"s":$s(o,o,[u[1],u[2]]);break;case"r":Ks(o,o,u[1]);break;case"m":n=o,r=o,i=u[1],c.multiply(n,i,r)}}return o}function tu(t,e){return t[0]*e[1]-e[0]*t[1]}function eu(t,e,n){var r=l.angle(t,e),i=tu(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function nu(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function ru(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}!function(){var t,e=(t=new Ca(3),Ca!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t)}();function iu(t,e,n,r,i,o,a,s){var u=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var c={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return mo(c.x,c.y,a,s)<=o/2}var ou=h.transform;var au=v({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var u=t[s],c=u.currentPoint,l=u.params,h=u.prePoint,f=u.box;if(!f||bo(f.x-a,f.y-a,f.width+e,f.height+e,n,r)){switch(u.command){case"L":case"Z":o=ia(h[0],h[1],c[0],c[1],e,n,r);break;case"Q":o=Ti.pointDistance(h[0],h[1],l[1],l[2],l[3],l[4],n,r)<=e/2;break;case"C":o=_i.pointDistance(h[0],h[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,i)<=e/2;break;case"A":var d=u.arcParams,p=d.cx,g=d.cy,v=d.rx,y=d.ry,m=d.startAngle,b=d.endAngle,x=d.xRotation,w=[n,r,1],M=v>y?v:y;ru(w,w,ou(null,[["t",-p,-g],["r",-x],["s",1/(v>y?1:v/y),1/(v>y?y/v:1)]])),o=iu(0,0,M,m,b,e,w[0],w[1])}if(o)break}}return o}},r);function su(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=Sa(t[i],e,n))break}return r}var uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=da(t);var e=au.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=ua(t)).length,s=0;s<a;s++){var u=t[s];r=t[s+1];var c=u[0],l={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var h=ma(n,u);l.arcParams=h}if("Z"===c)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),l.currentPoint=n,e[o]&&ya(n,e[o].currentPoint)&&(e[o].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var p=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=ba((m=e[s-1]).currentPoint,p);"Q"===m.command?(l.command="Q",l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]):(l.command="TL",l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],y=[u[3],u[4]];l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]}else if("S"===c){var m;v=ba((m=e[s-1]).currentPoint,p),y=[u[1],u[2]];"C"===m.command?(l.command="C",l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]):(l.command="SQ",l.startTangent=[p[0]-y[0],p[1]-y[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var b=.001,x=l.arcParams||{},w=x.cx,M=void 0===w?0:w,O=x.cy,S=void 0===O?0:O,C=x.rx,k=void 0===C?0:C,E=x.ry,T=void 0===E?0:E,P=x.sweepFlag,j=void 0===P?0:P,N=x.startAngle,A=void 0===N?0:N,I=x.endAngle,_=void 0===I?0:I;0===j&&(b*=-1);var L=k*Math.cos(A-b)+M,B=T*Math.sin(A-b)+S;l.startTangent=[L-i[0],B-i[1]];var D=k*Math.cos(A+_+b)+M,R=T*Math.sin(A+_-b)+S;l.endTangent=[p[0]-D,p[1]-R]}e.push(l)}return e}(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&Yo(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&Fo(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=(this.get("hasArc"),!1);if(n){var s=this.getTotalLength();a=au.isPointInStroke(o,i,t,e,s)}if(!a&&r){var u=this.attr("path"),c=au.extractPolygons(u);a=su(c.polygons,t,e)||su(c.polylines,t,e)}return a},e.prototype.createPath=function(t){Uo(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return oo(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;co(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if(oo(o)||oo(n))return null;var a=o.length,s=i[n+1];return _i.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",au.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(co(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=_i.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?(co(s,(function(u,c){n=s[c+1],r=u.length,n&&((t=[])[0]=o/i,e=_i.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Ko);function cu(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(ia(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var s=t[0],u=t[o-1];if(ia(s[0],s[1],u[0],u[1],e,n,r))return!0}return!1}var lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=cu(o,i,t,e,!0)),!a&&r&&(a=Sa(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(Ko),hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&Yo(this,t,n[1][0],n[1][1],a,s),i&&Fo(this,t,n[o-2][0],n[o-2][1],u,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&cu(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],l=n[o-1][1];if(r&&r.d)s+=(a=Ro(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)c-=(a=Ro(n[o-2][0],n[o-2][1],c,l,i.d)).dx,l-=a.dy;t.beginPath(),t.moveTo(s,u);for(var h=0;h<o-1;h++){var f=n[h];t.lineTo(f[0],f[1])}t.lineTo(c,l)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return oo(e)?(this.set("totalLength",Yi(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),co(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Mi.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];co(t,(function(a,s){t[s+1]&&((n=[])[0]=i/e,r=Mi.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ko);var fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,c=o.height,l=o.radius;if(l){var h=!1;return n&&(h=function(t,e,n,r,i,o,a,s){return ia(t+i,e,t+n-i,e,o,a,s)||ia(t+n,e+i,t+n,e+r-i,o,a,s)||ia(t+n-i,e+r,t+i,e+r,o,a,s)||ia(t,e+r-i,t,e+i,o,a,s)||iu(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||iu(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||iu(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||iu(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,c,l,i,t,e)),!h&&r&&(h=bo(a,s,u,c,t,e)),h}var f=i/2;return r&&n?bo(a-f,s-f,u+f,c+f,t,e):r?bo(a,s,u,c,t,e):n?function(t,e,n,r,i,o,a){var s=i/2;return bo(t-s,e-s,n,i,o,a)||bo(t+n-s,e-s,i,r,o,a)||bo(t+s,e+r-s,n,i,o,a)||bo(t-s,e+s,i,r,o,a)}(a,s,u,c,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=function(t){var e=0,n=0,r=0,i=0;return ao(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(a),u=s[0],c=s[1],l=s[2],h=s[3];t.moveTo(n+u,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+o-l),0!==l&&t.arc(n+i-l,r+o-l,l,0,Math.PI/2),t.lineTo(n+h,r+o),0!==h&&t.arc(n+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+u),0!==u&&t.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ko),du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=qi(t)},e.prototype._setText=function(t){var e=null;ho(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,c=this._getSpaceingY(),l=Wi(i.text,i.fontSize,i.lineHeight);co(e,(function(e,i){r=s+i*(c+u)-l+u,"middle"===o&&(r+=l-u-(l-u)/2),"top"===o&&(r+=l-u),n?t.fillText(e,a,r):t.strokeText(e,a,r)}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;e?t.fillText(a,r,i):t.strokeText(a,r,i)}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(oo(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(oo(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ko);function pu(t,e,n){var r,i,o=t.getTotalMatrix();if(o){var a=(r=[e,n,1],(i=o)?Xe(ze(i),r):r);return[a[0],a[1]]}return[e,n]}function gu(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!it(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=pu(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}var vu=n(36),yu=n.n(vu);function mu(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function bu(t,e,n){if(n.bubbles){t.isCanvas(),0,n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var xu=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.panstartShape=null,this.panstartPoint=null,this.handleEvent=function(t){e.hammerRuntime.emit("origin_input:"+t.type,t)},this.canvas=t.canvas,this._initEvent()}return t.prototype._initEvent=function(){var t=this;this.hammerRuntime=new yu.a({},{inputClass:vu.TouchInput}),this.hammerRuntime.add(new yu.a.Pan({threshold:0,pointers:1})),this.hammerRuntime.add(new yu.a.Swipe).recognizeWith(this.hammerRuntime.get("pan")),this.hammerRuntime.add(new yu.a.Pinch({threshold:0,pointers:2})),this.hammerRuntime.add(new yu.a.Tap({event:"dbltap",taps:2})),this.hammerRuntime.add(new yu.a.Tap),this.hammerRuntime.add(new yu.a.Press({time:500})),this.hammerRuntime.on("panstart panmove panend pancancel",(function(e){e.srcEvent.extra=e;var n=t._getPointInfo(e),r=t._getShape(n,e);"panend"!==e.type&&"pancancel"!==e.type||t._onpanend(n,r,e),"panstart"===e.type&&(t.dragging&&(t.draggingShape=null,t.dragging=!1,t.panstartShape=null,t.panstartPoint=null),t._onpanstart(n,r,e)),"panmove"===e.type&&t._onpanmove(n,r,e),t.currentShape=r})),this.hammerRuntime.on("tap dbltap press swipe rotatestart rotatemove",(function(e){t._emitMobileEvent(e.type,e)})),this.hammerRuntime.on("pinchstart pinchmove pinchend pinchcancel",(function(e){"pinchend"!==e.type&&"pinchcancel"!==e.type?(e.srcEvent.extra={scale:e.scale},t._emitMobileEvent(e.type,e)):t._emitMobileEvent(e.type,e)}))},t.prototype._emitMobileEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e);this._emitEvent(t,e,n,r)},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new K(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){var n=e.srcEvent;return this.canvas.getShape(t.x,t.y,n)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t];if(i)i.call(this,n,r,e);else{var o=this.currentShape;"panstart"===t||"dragenter"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"panstart"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"panend"===t||"dragleave"===t?(o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"panend"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}},t.prototype._onpanstart=function(t,e,n){this.panstartShape=e,this.panstartPoint=t,this.panstartTimeStamp=n.timeStamp,this._emitEvent("panstart",n,t,e,null,null)},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);this.currentShape=r},t.prototype._onpanend=function(t,e,n){var r=this.draggingShape;this.dragging&&(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)),this._emitEvent("panend",n,t,e),this.panstartShape=null,this.panstartPoint=null},t.prototype._onpanmove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.panstartPoint;if(a){var s=this.panstartShape,u=n.timeStamp-this.panstartTimeStamp,c=a.clientX-t.clientX,l=a.clientY-t.clientY;(u>120||c*c+l*l>40)&&(s&&s.get("draggable")?((o=this.panstartShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.panstartShape=null,this.panstartPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.panstartShape=null,this.panstartPoint=null):this._emitEvent("panmove",n,t,e))}}this._emitEvent("panmove",n,t,e)},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,mu(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||bu(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{mu(this.canvas,t,a)}},t.prototype.destroy=function(){this.canvas=null,this.currentShape=null,this.draggingShape=null,this.panstartPoint=null,this.panstartShape=null,this.panstartTimeStamp=null},t}(),wu=function(){function t(){}return t.prototype.set=function(t,e,n){switch(e){case"strokeStyle":t.setStrokeStyle(n);break;case"fillStyle":t.setFillStyle(n);break;case"lineWidth":t.setLineWidth(n);break;case"lineDash":t.setLineDash(n);break;case"globalAlpha":(n||0===n)&&(t.globalAlpha=n,t.setGlobalAlpha(n));break;case"fontSize":t.setFontSize(n);break;case"textAlign":t.setTextAlign(n);break;case"fontStyle":case"font":t.setFont(n);break;case"textBaseline":t.setTextBaseline(n);break;default:t[e]=n}return!0},t.prototype.get=function(t,e){return"globalAlpha"===e&&void 0===t[e]?1:"function"==typeof t[e]?t[e].bind(t):t[e]},t}(),Mu=n(120),Ou=null;var Su=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(Mu.assembleFont)(e));var u,c=function(t,e){var n=0;if(oo(t)||""===t)return n;if(Ou.save(),Ou.font=e,ho(t)&&t.includes("\n")){var r=t.split("\n");co(r,(function(t){var e=Ou.measureText(t).width;n<e&&(n=e)}))}else n=Ou.measureText(t).width;return Ou.restore(),n}(i,s);if(c){var l=e.textAlign,h=e.textBaseline,f=Object(Mu.getTextHeight)(i,o,a),d={x:n,y:r-f};l&&("end"===l||"right"===l?d.x-=c:"center"===l&&(d.x-=c/2)),h&&("top"===h?d.y+=f:"middle"===h&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u},Cu=function(t){Ou=t,ni("text",Su)},ku=function(t,e){!function(t){na=t}(e),Cu(t)},Eu=function(t){function e(e){var n=t.call(this,e)||this,r=n.get("context");return n.isMini()&&(n.isMiniNative()?Object(yo.c)(n.get("extra")):n.set("context",new Proxy(r,new wu)),ku(r,n)),n}return g(e,t),e.prototype.isMiniNative=function(){return"mini-native"===this.get("renderer")},e.prototype.isMini=function(){return this.get("renderer").startsWith("mini")},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e.boundingClientRect={width:0,height:0,left:0,top:0,bottom:0,right:0},e},e.prototype.initEvents=function(){var t=new xu({canvas:this});this.set("eventController",t)},e.prototype.registerEventCallback=function(t){this.get("eventController").handleEvent(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Qo},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||("object"==typeof window&&window.devicePixelRatio?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.initDom=function(){if(this.isMini()){var e=this.get("context"),n=this.get("fitView"),r=this.getPixelRatio();!n&&r>1&&e.scale(r,r)}else t.prototype.initDom.call(this)},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame(),this.get("context").clearRect(0,0,this.get("width"),this.get("height"))},e.prototype.getShape=function(e,n){return this.get("quickHit")?function t(e,n,r){if(!gu(e,n,r))return null;for(var i=null,o=e.getChildren(),a=o.length-1;a>=0;a--){var s=o[a];if(s.isGroup())i=t(s,n,r);else if(gu(s,n,r)){var u=s,c=pu(s,n,r),l=c[0],h=c[1];u.isInShape(l,h)&&(i=s)}if(i)break}return i}(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return co(t,(function(t){var o=Zo(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,n),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,i)}}(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&xo(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n)));return t},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(yo.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(yo.b)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),Object(yo.a)(e),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),zo(t,this),Ho(this,n,r),Wo(t,n,r),t.restore()):e.length&&function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&t(r.cfg.children)}}(e),co(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.isMini()&&!this.isMiniNative()&&t.draw(!0),this.set("refreshElements",[])},e.prototype._drawAll=function(){var t=this.get("context"),e=this.getChildren();t.clearRect(0,0,this.get("width"),this.get("height")),zo(t,this),Wo(t,e),this.isMini()&&!this.isMiniNative()&&t.draw(!0),this.set("refreshElements",[])},e.prototype.skipDraw=function(){},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype.getPointByEvent=function(e){if(this.isMini()){var n=this.getClientByEvent(e),r=n.x,i=n.y;return this.getPointByClient(r,i)}return t.prototype.getPointByEvent.call(this,e)},e.prototype.getClientByEvent=function(t){var e=t.srcEvent,n=null;return e.touches&&(n="touchend"===e.type?e.changedTouches[0]:e.touches[0]),n?{x:n.clientX,y:n.clientY}:{}},e.prototype.getPointByClient=function(t,e){if(this.isMini()){var n=this.get("boundingClientRect");return{x:t+n.left,y:e+n.top}}var r=this.get("el").getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){if(this.isMini()){var n=this.get("boundingClientRect");return{x:t+n.left,y:e+n.top}}var r=this.get("el").getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e}($r),Tu=n(8);var Pu=n(0),ju=n(2),Nu=n(19),Au=ju.n.cloneEvent,Iu=ju.n.isViewportChanged,_u=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=e,n.destroyed=!1,n}return Object(d.c)(e,t),e.prototype.initEvents=function(){var t=this.graph,e=(this.extendEvents,t.get("canvas"));this.canvasHandler=Object(Pu.J)(this,"onCanvasEvents"),e.off("*").on("*",this.canvasHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this.graph,r=n.get("canvas"),i=t.target,o=t.type;t.canvasX=t.x,t.canvasY=t.y;var a={x:t.canvasX,y:t.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),Iu(s)&&(a=n.getPointByClient(t.clientX,t.clientY)),t.x=a.x,t.y=a.y,t.currentTarget=n,i===r)return"panmove"===o&&this.handleTouchMove(t,"canvas"),t.target=r,t.item=null,n.emit(o,t),void n.emit("canvas:"+o,t);var u=e.getItemRoot(i);if(u){var c=u.get("item");if(!c.destroyed){var l=c.getType();if(t.target=i,t.item=c,t.canvasX===t.x&&t.canvasY===t.y){var h=n.getCanvasByPoint(t.x,t.y);t.canvasX=h.x,t.canvasY=h.y}n.emit(o,t),t.name&&!t.name.includes(":")?n.emit(l+":"+o,t):n.emit(t.name,t),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"panmove"===o&&this.handleTouchMove(t,l)}}else n.emit(o,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit(t+":"+e,n)},e.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get("canvas").off("*",e),Object(Pu.d)(n,(function(t){t.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},e.prototype.handleTouchMove=function(t,e){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=t.target===i?null:t.item;t=Au(t),r&&r!==o&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),"touchleave",t),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",t)),o&&r!==o&&(t.item=o,this.emitCustomEvent(e,"touchenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},e}(ju.a),Lu=n(29),Bu=["force","grid","circular"],Du=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n}return Object(d.c)(e,t),e.prototype.updateLayoutCfg=function(t){var e=this,n=this.graph,r=this.layoutMethods,i=Object(Pu.B)({},this.layoutCfg,t);if(this.layoutCfg=i,null==r?void 0:r.length){this.data=this.setDataFromGraph(),n.emit("beforelayout");var o=Promise.resolve();1===r.length?o=o.then((function(){return e.updateLayoutMethod(r[0],i)})):null==r||r.forEach((function(t,n){var r=i.pipes[n];o=o.then((function(){return e.updateLayoutMethod(t,r)}))})),this.data=this.setDataFromGraph(),o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(t){console.warn("layout failed",t)}))}else this.layout()},e.prototype.layout=function(t){var e=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var c=u.onLayoutEnd,l=u.layoutEndFormatted,h=u.adjust;l||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return Object(d.b)(e,void 0,void 0,(function(){return Object(d.d)(this,(function(t){switch(t.label){case 0:return c&&c(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))});var f=Promise.resolve();return u.type?f=f.then((function(){return e.execLayoutMethod(u,0)})):u.pipes&&u.pipes.forEach((function(t,n){f=f.then((function(){return e.execLayoutMethod(t,n)}))})),f.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),t&&t()})).catch((function(t){console.warn("graph layout failed,",t)})),!1},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=t.type;if(t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},"force"===a||"g6force"===a||"gForce"===a){var s=t.onTick,u=function(){s&&s(),o.refreshPositions()};t.tick=u}else"comboForce"===t.type&&(t.comboTrees=o.get("comboTrees"));var c;try{c=new Lu.a(t)}catch(t){console.warn("The layout method: '"+a+"' does not exist! Please specify it first."),i()}if(c.enableTick){var l=t.onTick;u=function(){l&&l(),o.refreshPositions()};c.tick=u}var h=n.filterLayoutData(n.data,t);!function(t,e){var n;if(!(null===(n=null==t?void 0:t.nodes)||void 0===n?void 0:n.length))return;t.nodes.forEach((function(t){t.layoutOrder=e}))}(h,e),c.init(h),o.emit("beforesublayout",{type:a}),c.execute(),c.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),n.layoutMethods.push(c)}))},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=null==e?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()};var s=n.filterLayoutData(n.data,e);t.init(s),t.updateCfg(e),o.emit("beforesublayout",{type:a}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()}))},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise((function(r){var i=t.nodes;(null==i?void 0:i.length)||r(),Bu.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),r());var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,c=Object(Pu.b)(u);o.onLayoutEnd=function(){null==u||u.forEach((function(t,e){var n,r,i,o=t.x-(null===(n=c[e])||void 0===n?void 0:n.x),a=t.y-(null===(r=c[e])||void 0===r?void 0:r.y);null===(i=s[e])||void 0===i||i.forEach((function(t){t.x+=o,t.y+=a}))})),r()},new Lu.a(o).layout({nodes:u})}))},e.prototype.destroy=function(){this.destoryLayoutMethods(),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(ju.c);var Ru=n(53),Yu=function(t,e,n){return n[t]&&console.warn("The graph with the name "+t+" exists already, it will be overridden"),n[t]=e(n),n},Fu=function(t){function e(e){var n=t.call(this,e)||this;n.get("renderer").startsWith("mini")&&n.set("context",e.context),t.prototype.init.call(n);var r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return Object(d.c)(e,t),e.prototype.init=function(){},e.prototype.emitEvent=function(t){var e=this.get("canvas");t.type=t.type.toLowerCase(),e.registerEventCallback(t)},e.prototype.initLayoutController=function(){var t=new Du(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new _u(this);if(this.set({eventController:t}),!this.get("renderer").startsWith("mini")){var e=this.get("canvas"),n=e.get("el");"touchstart touchmove touchend touchcancel".split(" ").forEach((function(t){n.addEventListener(t,e.registerEventCallback.bind(e),!1)}))}},e.prototype.initCanvas=function(){var t=this.get("container");null!==t&&"string"==typeof t&&(t=document.getElementById(t),this.set("container",t));var e=this.get("renderer");if(!t&&!e.startsWith("mini"))throw new Error("invalid container");var n=this.get("width"),r=this.get("height"),i={container:t,context:this.get("context"),width:n,height:r,renderer:e,fitView:this.get("fitView"),extra:this.get("extra")},o=this.get("pixelRatio");o&&(i.pixelRatio=o);var a=new Eu(i);this.set("canvas",a)},e.prototype.initPlugins=function(){var t=this;Object(Pu.d)(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");t||(t="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var l=void 0,h=i.getContext("2d"),f=this.get("width"),d=this.get("height"),p=void 0;if(e){var g="undefined"!=typeof window?window.devicePixelRatio:1;l=h.getImageData(0,0,f*g,d*g),p=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=e,h.fillRect(0,0,f,d)}o=i.toDataURL(t),e&&(h.clearRect(0,0,f,d),h.putImageData(l,0,0),h.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=Object(Ru.a)('<id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?Object(Pu.s)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var l=i+c[0]+c[2],h=o+c[1]+c[3],f=new Eu({container:s,height:l,width:h,quickHit:!0}),d=this.get("group").clone(),p=Object(Pu.b)(d.getMatrix());p||(p=[1,0,0,0,1,0,0,0,1]);var g=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2;Tu.a.translate(p,p,[-g,-v]),Tu.a.translate(p,p,[o/2+c[3],i/2+c[0]]),d.resetMatrix(),d.setMatrix(p),f.add(d);var y=f.get("el"),m="";e||(e="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);m="data:image/svg+xml;charset=utf8,"+encodeURIComponent(o)}else{var s=void 0,c=y.getContext("2d"),f=void 0;if(u){var d="undefined"!=typeof window?window.devicePixelRatio:1;s=c.getImageData(0,0,h*d,l*d),f=c.globalCompositeOperation,c.globalCompositeOperation="destination-over",c.fillStyle=u,c.fillRect(0,0,h,l)}m=y.toDataURL(e),u&&(c.clearRect(0,0,h,l),c.putImageData(s,0,0),c.globalCompositeOperation=f)}t&&t(m)}),16)},e.prototype.downloadFullImage=function(t,e,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=Object(Ru.a)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?Object(Pu.s)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var h=o+l[0]+l[2],f=a+l[1]+l[3],d=new Eu({container:u,height:h,width:f}),p=this.get("group").clone(),g=Object(Pu.b)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(i.maxX+i.minX)/2,y=(i.maxY+i.minY)/2;Tu.a.translate(g,g,[-v,-y]),Tu.a.translate(g,g,[a/2+l[3],o/2+l[0]]),p.resetMatrix(),p.setMatrix(g),d.add(p);var m=d.get("el");e||(e="image/png"),setTimeout((function(){var n="";if("svg"===s){var i=m.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),a=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);a.replaceChild(i,a.documentElement);var u=(new XMLSerializer).serializeToString(a);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(u)}else{var l=void 0,d=m.getContext("2d"),p=void 0;if(c){var g="undefined"!=typeof window?window.devicePixelRatio:1;l=d.getImageData(0,0,f*g,h*g),p=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=c,d.fillRect(0,0,f,h)}n=m.toDataURL(e),c&&(d.clearRect(0,0,f,h),d.putImageData(l,0,0),d.globalCompositeOperation=p)}var v=document.createElement("a"),y=(t||"graph")+("svg"===s?".svg":"."+e.split("/")[1]);r.dataURLToImage(n,s,v,y);var b=document.createEvent("MouseEvents");b.initEvent("click",!1,!1),v.dispatchEvent(b)}),16)},e.prototype.downloadImage=function(t,e,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();e||(e="image/png");var a=(t||"graph")+("svg"===o?".svg":e.split("/")[1]),s=document.createElement("a");setTimeout((function(){var t=i.toDataURL(e,n);r.dataURLToImage(t,o,s,a);var u=document.createEvent("MouseEvents");u.initEvent("click",!1,!1),s.dispatchEvent(u)}),16)},e.prototype.dataURLToImage=function(t,e,n,r){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(l,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(l)}))}else n.addEventListener("click",(function(){n.download=r,n.href=t}))},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Nu.a.waterMarkerImage);var n=this.get("container");Object(Pu.w)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(Pu.c)({},Nu.a.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Eu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var h=r.get("context"),f=u.rotate,d=u.x,p=u.y;h.rotate(-f*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=t,g.onload=function(){if(h.drawImage(g,d,p,u.width,u.height),h.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");Object(Pu.w)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(Pu.c)({},Nu.a.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Eu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var h=r.get("context"),f=u.rotate,d=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,y=u.x,m=u.y,b=u.lineHeight;h.rotate(-f*Math.PI/180),h.font=g+"px "+p,h.fillStyle=d,h.textBaseline=v;for(var x=t.length-1;x>=0;x--)h.fillText(t[x],y,m+x*b);if(h.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(w)}},e.prototype.destroy=function(){Object(Pu.d)(this.get("plugins"),(function(t){t.destroyPlugin()}));var e=this.get("tooltips");if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r){var i=r.parentElement;i&&i.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),t.prototype.destroy.call(this)},e.prototype.initGroups=function(){var t=this.get("canvas"),e=t.addGroup({id:"root",className:Nu.a.rootContainerClassName});if(this.get("groupByTypes")){var n=e.addGroup({id:"edge",className:Nu.a.edgeContainerClassName}),r=e.addGroup({id:"node",className:Nu.a.nodeContainerClassName}),i=e.addGroup({id:"combo",className:Nu.a.comboContainerClassName});i.toBack(),this.set({nodeGroup:r,edgeGroup:n,comboGroup:i})}var o=t.addGroup({id:"uiGroup",className:Nu.a.uiContainerClassName}),a=e.addGroup({id:"delegate",className:Nu.a.delegateContainerClassName});this.set({delegateGroup:a}),this.set("group",e),this.set("uiGroup",o)},e}(ju.b);e.a=Fu},function(t,e,n){"use strict";n.r(e),n.d(e,"mixColor",(function(){return _})),n.d(e,"getColorsWithSubjectColor",(function(){return L})),n.d(e,"getColorSetsBySubjectColors",(function(){return B}));var r=n(54),i=n.n(r);function o(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function a(t){return Math.min(1,Math.max(0,t))}function s(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function u(t){return t<=1?100*Number(t)+"%":t}function c(t){return 1===t.length?"0"+t:String(t)}function l(t,e,n){t=o(t,255),e=o(e,255),n=o(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a=0,s=0,u=(r+i)/2;if(r===i)s=0,a=0;else{var c=r-i;switch(s=u>.5?c/(2-r-i):c/(r+i),r){case t:a=(e-n)/c+(e<n?6:0);break;case e:a=(n-t)/c+2;break;case n:a=(t-e)/c+4}a/=6}return{h:a,s:s,l:u}}function h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f(t,e,n){t=o(t,255),e=o(e,255),n=o(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a=0,s=r,u=r-i,c=0===r?0:u/r;if(r===i)a=0;else{switch(r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4}a/=6}return{h:a,s:c,v:s}}function d(t,e,n,r){var i=[c(Math.round(t).toString(16)),c(Math.round(e).toString(16)),c(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t){return Math.round(255*parseFloat(t)).toString(16)}function g(t){return v(t)/255}function v(t){return parseInt(t,16)}var y={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){var e,n,r,i={r:0,g:0,b:0},a=1,c=null,l=null,f=null,d=!1,p=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(y[t])t=y[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=O.rgb.exec(t);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=O.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=O.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=O.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=O.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=O.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=O.hex8.exec(t))return{r:v(n[1]),g:v(n[2]),b:v(n[3]),a:g(n[4]),format:e?"name":"hex8"};if(n=O.hex6.exec(t))return{r:v(n[1]),g:v(n[2]),b:v(n[3]),format:e?"name":"hex"};if(n=O.hex4.exec(t))return{r:v(n[1]+n[1]),g:v(n[2]+n[2]),b:v(n[3]+n[3]),a:g(n[4]+n[4]),format:e?"name":"hex8"};if(n=O.hex3.exec(t))return{r:v(n[1]+n[1]),g:v(n[2]+n[2]),b:v(n[3]+n[3]),format:e?"name":"hex"};return!1}(t)),"object"===m(t)&&(S(t.r)&&S(t.g)&&S(t.b)?(e=t.r,n=t.g,r=t.b,i={r:255*o(e,255),g:255*o(n,255),b:255*o(r,255)},d=!0,p="%"===String(t.r).substr(-1)?"prgb":"rgb"):S(t.h)&&S(t.s)&&S(t.v)?(c=u(t.s),l=u(t.v),i=function(t,e,n){t=6*o(t,360),e=o(e,100),n=o(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),u=n*(1-(1-i)*e),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(t.h,c,l),d=!0,p="hsv"):S(t.h)&&S(t.s)&&S(t.l)&&(c=u(t.s),f=u(t.l),i=function(t,e,n){var r,i,a;if(t=o(t,360),e=o(e,100),n=o(n,100),0===e)i=n,a=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=h(u,s,t+1/3),i=h(u,s,t),a=h(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*a}}(t.h,c,f),d=!0,p="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(a=t.a)),a=s(a),{ok:d,format:t.format||p,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var x="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",w="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?",M="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?",O={CSS_UNIT:new RegExp(x),rgb:new RegExp("rgb"+w),rgba:new RegExp("rgba"+M),hsl:new RegExp("hsl"+w),hsla:new RegExp("hsla"+M),hsv:new RegExp("hsv"+w),hsva:new RegExp("hsva"+M),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function S(t){return Boolean(O.CSS_UNIT.exec(String(t)))}var C=function(){function t(e,n){var r;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var i=b(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,r=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=s(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=f(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=f(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=l(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=l(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),d(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,r,i){var o=[c(Math.round(t).toString(16)),c(Math.round(e).toString(16)),c(Math.round(n).toString(16)),c(p(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*o(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*o(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+d(this.r,this.g,this.b,!1),e=0,n=Object.entries(y);e<n.length;e++){var r=n[e],i=r[0];if(t===r[1])return i}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1,r=this.a<1&&this.a>=0;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=a(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=a(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=a(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=a(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100;return new t({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();var k=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function E(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function T(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(r=1),n&&5===e&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function P(t,e,n){var r;return(r=n?t.v+.05*e:t.v-.15*e)>1&&(r=1),Number(r.toFixed(2))}function j(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new C(t),i=5;i>0;i-=1){var o=r.toHsv(),a=new C({h:E(o,i,!0),s:T(o,i,!0),v:P(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),c=new C({h:E(u,s),s:T(u,s),v:P(u,s)}).toHexString();n.push(c)}return"dark"===e.theme?k.map((function(t){var r=t.index,i=t.opacity;return new C(e.backgroundColor||"#141414").mix(n[r],100*i).toHexString()})):n}var N={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},A={},I={};Object.keys(N).forEach((function(t){A[t]=j(N[t]),A[t].primary=A[t][5],I[t]=j(N[t],{theme:"dark",backgroundColor:"#141414"}),I[t].primary=I[t][5]}));A.red,A.volcano,A.gold,A.orange,A.yellow,A.lime,A.green,A.cyan,A.blue,A.geekblue,A.purple,A.magenta,A.grey;var _=function(t,e,n){var r=i()(t),o=i()(e);return i()([(1-n)*r.red()+n*o.red(),(1-n)*r.green()+n*o.green(),(1-n)*r.blue()+n*o.blue()]).rgb()},L=function(t,e,n,r){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=_(e,t,.05).rgb().toString(),o=_(e,t,.1).rgb().toString(),a=_(e,t,.2).rgb().toString(),s=_(e,t,.4).rgb().toString(),u=_(e,n,.02).rgb().toString(),c=_(e,n,.05).rgb().toString(),l=_(e,n,.1).rgb().toString(),h=_(e,n,.2).rgb().toString(),f=_(e,n,.3).rgb().toString(),d=j(t,{theme:"default",backgroundColor:e}),p=i()(t).hex().toLowerCase(),g=d.indexOf(p),v=t;return-1!==g&&(v=d[g+1]),{mainStroke:t,mainFill:o,activeStroke:t,activeFill:r,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:e,highlightStroke:v,highlightFill:a,disableStroke:f,disableFill:c,edgeMainStroke:f,edgeActiveStroke:t,edgeInactiveStroke:h,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:f,comboMainFill:u,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:u,comboSelectedStroke:t,comboSelectedFill:u,comboHighlightStroke:v,comboHighlightFill:u,comboDisableStroke:h,comboDisableFill:c}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var r=_(e,t,.2).rgb().toString(),o=_(e,t,.3).rgb().toString(),a=_(e,t,.6).rgb().toString(),s=_(e,t,.8).rgb().toString(),u=_(e,n,.2).rgb().toString(),c=_(e,n,.25).rgb().toString(),l=_(e,n,.3).rgb().toString(),h=_(e,n,.4).rgb().toString(),f=_(e,n,.5).rgb().toString(),d=j(t,{theme:"dark",backgroundColor:e}),p=i()(t).hex().toLowerCase(),g=d.indexOf(p),v=t;return-1!==g&&(v=d[g+1]),{mainStroke:s,mainFill:r,activeStroke:t,activeFill:o,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:r,highlightStroke:t,highlightFill:a,disableStroke:f,disableFill:c,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:c,comboActiveStroke:t,comboActiveFill:u,comboInactiveStroke:h,comboInactiveFill:c,comboSelectedStroke:t,comboSelectedFill:u,comboHighlightStroke:v,comboHighlightFill:c,comboDisableStroke:h,comboDisableFill:u}}(t,e,"#777")},B=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach((function(t){i.push(L(t,e,n,r))})),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(273),i=n(274),o=n(275);e.default=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o.default(e)||o.default(n))return!1;if(i.default(e)||i.default(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(r.default(e)||r.default(n)){var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(a=!0,s=0;s<u.length&&(a=t(e[u[s]],n[u[s]]));s++);return a}return!1}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=v(n(55)),f=n(18),d=n(27),p=n(37),g=v(n(133));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(v,t);var e,n,r,c=u(v);function v(){var t;return i(this,v),(t=c.apply(this,arguments)).pX=null,t.pY=null,t}return e=v,(n=[{key:"getTouchAction",value:function(){var t=this.options.direction,e=[];return t&f.DIRECTION_HORIZONTAL&&e.push(p.TOUCH_ACTION_PAN_Y),t&f.DIRECTION_VERTICAL&&e.push(p.TOUCH_ACTION_PAN_X),e}},{key:"directionTest",value:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&f.DIRECTION_HORIZONTAL?(i=0===o?f.DIRECTION_NONE:o<0?f.DIRECTION_LEFT:f.DIRECTION_RIGHT,n=o!==this.pX,r=Math.abs(t.deltaX)):(i=0===a?f.DIRECTION_NONE:a<0?f.DIRECTION_UP:f.DIRECTION_DOWN,n=a!==this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction}},{key:"attrTest",value:function(t){return h.default.prototype.attrTest.call(this,t)&&(this.state&d.STATE_BEGAN||!(this.state&d.STATE_BEGAN)&&this.directionTest(t))}},{key:"emit",value:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=(0,g.default)(t.direction);e&&(t.additionalEvent=this.options.event+e),a(l(v.prototype),"emit",this).call(this,t)}}])&&o(e.prototype,n),r&&o(e,r),v}(h.default);e.default=y,y.prototype.defaults={event:"pan",threshold:10,pointers:1,direction:f.DIRECTION_ALL}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){n||(n=r.PROPS_XY);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)};var r=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(67))&&i.__esModule?i:{default:i},a=n(146);var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;this.manager=e,this.callback=n,this.eventHandler=function(t){(0,o.default)(e.options.enable,[e])&&r.handler(t)},this.init()}var e,n,i;return e=t,(n=[{key:"handler",value:function(){}},{key:"init",value:function(){(0,a.addManagerListeners)(this.manager,this.events||"",this.eventHandler)}},{key:"destroy",value:function(){removeManagerListeners(this.manager,this.events||"",this.eventHandler)}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layouts=e.Layout=void 0;var r=n(64),i=function(){function t(t){var e=r.getLayoutByName(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.layoutInstance.init(t)},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();e.Layout=i,e.Layouts=new Proxy({},{get:function(t,e){return r.getLayoutByName(e)},set:function(t,e,n){return r.registerLayout(e,n),!0}})},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return Qe}));var r={};n.r(r),n.d(r,"default",(function(){return Ht})),n.d(r,"assign",(function(){return St})),n.d(r,"format",(function(){return zt})),n.d(r,"parse",(function(){return Wt})),n.d(r,"defaultI18n",(function(){return Tt})),n.d(r,"setGlobalDateI18n",(function(){return jt})),n.d(r,"setGlobalDateMasks",(function(){return Xt}));var i,o=n(1);function a(t){if(/^[-\+\.\d]+$/.test(t))return Number(t);if(/true|false/.test(t))return Boolean(t);if(/^\s*\[/.test(t))try{return JSON.parse(t)}catch(e){throw new Error("解析数组"+t+"失败")}if(/^\s*\{/.test(t))try{return JSON.parse(t)}catch(e){throw new Error("解析对象"+t+"失败")}return t}function s(t){return i[t]||t.startsWith("rgb(")||t.startsWith("rgba(")||t.startsWith("#")&&!isNaN(Number("0x"+t.slice(1)))}function u(t,e){t&&e&&(t.attrs.id&&e("id",t.attrs.id),t.attrs.class&&c(t.attrs.class,/\s+/g).forEach((function(t){return e("class",t)})),e("tagName",t.tagName))}function c(t,e){return e?t.split(e).filter((function(t){return""!=t})):[t]}function l(t,e){if(!t||!e)return!1;var n=e.match(/(^[^\.#]+)/g),r=e.match(/#[^\.#]+/g),i=e.match(/\.[^\.#]+/g),a=Object(o.f)(Object(o.f)(Object(o.f)([],n||[]),r||[]),i||[]),s={};u(t,(function(t,e){switch(t){case"id":s["#"+e]=1;break;case"class":s["."+e]=1;break;case"tagName":s[""+e]=1}}));for(var c=0,l=a;c<l.length;c++){var h=l[c];if(!s[h])return!1}return!0}!function(t){t[t.aliceblue=0]="aliceblue",t[t.antiquewhite=1]="antiquewhite",t[t.aqua=2]="aqua",t[t.aquamarine=3]="aquamarine",t[t.azure=4]="azure",t[t.beige=5]="beige",t[t.bisque=6]="bisque",t[t.black=7]="black",t[t.blanchedalmond=8]="blanchedalmond",t[t.blue=9]="blue",t[t.blueviolet=10]="blueviolet",t[t.brown=11]="brown",t[t.burlywood=12]="burlywood",t[t.cadetblue=13]="cadetblue",t[t.chartreuse=14]="chartreuse",t[t.chocolate=15]="chocolate",t[t.coral=16]="coral",t[t.cornflowerblue=17]="cornflowerblue",t[t.cornsilk=18]="cornsilk",t[t.crimson=19]="crimson",t[t.cyan=20]="cyan",t[t.darkblue=21]="darkblue",t[t.darkcyan=22]="darkcyan",t[t.darkgoldenrod=23]="darkgoldenrod",t[t.darkgray=24]="darkgray",t[t.darkgreen=25]="darkgreen",t[t.darkgrey=26]="darkgrey",t[t.darkkhaki=27]="darkkhaki",t[t.darkmagenta=28]="darkmagenta",t[t.darkolivegreen=29]="darkolivegreen",t[t.darkorange=30]="darkorange",t[t.darkorchid=31]="darkorchid",t[t.darkred=32]="darkred",t[t.darksalmon=33]="darksalmon",t[t.darkseagreen=34]="darkseagreen",t[t.darkslateblue=35]="darkslateblue",t[t.darkslategray=36]="darkslategray",t[t.darkslategrey=37]="darkslategrey",t[t.darkturquoise=38]="darkturquoise",t[t.darkviolet=39]="darkviolet",t[t.deeppink=40]="deeppink",t[t.deepskyblue=41]="deepskyblue",t[t.dimgray=42]="dimgray",t[t.dimgrey=43]="dimgrey",t[t.dodgerblue=44]="dodgerblue",t[t.firebrick=45]="firebrick",t[t.floralwhite=46]="floralwhite",t[t.forestgreen=47]="forestgreen",t[t.fuchsia=48]="fuchsia",t[t.gainsboro=49]="gainsboro",t[t.ghostwhite=50]="ghostwhite",t[t.gold=51]="gold",t[t.goldenrod=52]="goldenrod",t[t.gray=53]="gray",t[t.green=54]="green",t[t.greenyellow=55]="greenyellow",t[t.grey=56]="grey",t[t.honeydew=57]="honeydew",t[t.hotpink=58]="hotpink",t[t.indianred=59]="indianred",t[t.indigo=60]="indigo",t[t.ivory=61]="ivory",t[t.khaki=62]="khaki",t[t.lavender=63]="lavender",t[t.lavenderblush=64]="lavenderblush",t[t.lawngreen=65]="lawngreen",t[t.lemonchiffon=66]="lemonchiffon",t[t.lightblue=67]="lightblue",t[t.lightcoral=68]="lightcoral",t[t.lightcyan=69]="lightcyan",t[t.lightgoldenrodyellow=70]="lightgoldenrodyellow",t[t.lightgray=71]="lightgray",t[t.lightgreen=72]="lightgreen",t[t.lightgrey=73]="lightgrey",t[t.lightpink=74]="lightpink",t[t.lightsalmon=75]="lightsalmon",t[t.lightseagreen=76]="lightseagreen",t[t.lightskyblue=77]="lightskyblue",t[t.lightslategray=78]="lightslategray",t[t.lightslategrey=79]="lightslategrey",t[t.lightsteelblue=80]="lightsteelblue",t[t.lightyellow=81]="lightyellow",t[t.lime=82]="lime",t[t.limegreen=83]="limegreen",t[t.linen=84]="linen",t[t.magenta=85]="magenta",t[t.maroon=86]="maroon",t[t.mediumaquamarine=87]="mediumaquamarine",t[t.mediumblue=88]="mediumblue",t[t.mediumorchid=89]="mediumorchid",t[t.mediumpurple=90]="mediumpurple",t[t.mediumseagreen=91]="mediumseagreen",t[t.mediumslateblue=92]="mediumslateblue",t[t.mediumspringgreen=93]="mediumspringgreen",t[t.mediumturquoise=94]="mediumturquoise",t[t.mediumvioletred=95]="mediumvioletred",t[t.midnightblue=96]="midnightblue",t[t.mintcream=97]="mintcream",t[t.mistyrose=98]="mistyrose",t[t.moccasin=99]="moccasin",t[t.navajowhite=100]="navajowhite",t[t.navy=101]="navy",t[t.oldlace=102]="oldlace",t[t.olive=103]="olive",t[t.olivedrab=104]="olivedrab",t[t.orange=105]="orange",t[t.orangered=106]="orangered",t[t.orchid=107]="orchid",t[t.palegoldenrod=108]="palegoldenrod",t[t.palegreen=109]="palegreen",t[t.paleturquoise=110]="paleturquoise",t[t.palevioletred=111]="palevioletred",t[t.papayawhip=112]="papayawhip",t[t.peachpuff=113]="peachpuff",t[t.peru=114]="peru",t[t.pink=115]="pink",t[t.plum=116]="plum",t[t.powderblue=117]="powderblue",t[t.purple=118]="purple",t[t.red=119]="red",t[t.rosybrown=120]="rosybrown",t[t.royalblue=121]="royalblue",t[t.saddlebrown=122]="saddlebrown",t[t.salmon=123]="salmon",t[t.sandybrown=124]="sandybrown",t[t.seagreen=125]="seagreen",t[t.seashell=126]="seashell",t[t.sienna=127]="sienna",t[t.silver=128]="silver",t[t.skyblue=129]="skyblue",t[t.slateblue=130]="slateblue",t[t.slategray=131]="slategray",t[t.slategrey=132]="slategrey",t[t.snow=133]="snow",t[t.springgreen=134]="springgreen",t[t.steelblue=135]="steelblue",t[t.tan=136]="tan",t[t.teal=137]="teal",t[t.thistle=138]="thistle",t[t.tomato=139]="tomato",t[t.turquoise=140]="turquoise",t[t.violet=141]="violet",t[t.wheat=142]="wheat",t[t.white=143]="white",t[t.whitesmoke=144]="whitesmoke",t[t.yellow=145]="yellow",t[t.yellowgreen=146]="yellowgreen"}(i||(i={}));var h={position:1,display:1,width:1,height:1,minWidth:1,minHeight:1,top:1,left:1,right:1,bottom:1,flex:1,margin:1,marginLeft:1,marginRight:1,marginTop:1,marginBottom:1,padding:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1,borderWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,flexDirection:1,justifyContent:1,alignItems:1,alignSelf:1,flexWrap:1},f={};function d(t,e){if(t){var n=t;Array.isArray(n)||(n=[n]),n.forEach((function(t){f[t]="function"==typeof e?e:a}))}}var p=function(t,e){var n={},r=e.split(/\s/g).filter((function(t){return""!==t}));return 1!==r.length||isNaN(r[0])||(n[""+t]=Number(r[0])),2===r.length&&(!isNaN(Number(r[0]))&&(n[t+"Bottom"]=n[t+"Top"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+"Left"]=n[t+"Right"]=Number(r[1]))),3===r.length&&(!isNaN(Number(r[0]))&&(n[t+"Top"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+"Left"]=n[t+"Right"]=Number(r[1])),!isNaN(Number(r[2]))&&(n[t+"Bottom"]=Number(r[2]))),4===r.length&&(!isNaN(Number(r[0]))&&(n[t+"Top"]=Number(r[0])),!isNaN(Number(r[1]))&&(n[t+"Right"]=Number(r[1])),!isNaN(Number(r[2]))&&(n[t+"Bottom"]=Number(r[2])),!isNaN(Number(r[3]))&&(n[t+"Left"]=Number(r[3]))),n},g=["solid","dashed"];function v(t,e){if(f[t])return f[t](e);try{return a(e)}catch(t){return console.error(t),e}}d("padding",p.bind(null,"padding")),d("margin",p.bind(null,"margin")),d("border-radius",(function(t){var e={},n=t.split(/\s/g).filter((function(t){return""!==t}));return 1!==n.length||isNaN(n[0])||(e.borderTopLeftRadius=Number(n[0]),e.borderTopRightRadius=Number(n[0]),e.borderBottomRightRadius=Number(n[0]),e.borderBottomLeftRadius=Number(n[0])),2===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=e.borderBottomRightRadius=Number(n[0])),!isNaN(Number(n[2]))&&(e.borderBottomLeftRadius=e.borderTopRightRadius=Number(n[1]))),3===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=Number(n[0])),!isNaN(Number(n[1]))&&(e.borderBottomLeftRadius=e.borderTopRightRadius=Number(n[1])),!isNaN(Number(n[2]))&&(e.borderBottomRightRadius=Number(n[2]))),4===n.length&&(!isNaN(Number(n[0]))&&(e.borderTopLeftRadius=Number(n[0])),!isNaN(Number(n[1]))&&(e.borderTopRightRadius=Number(n[1])),!isNaN(Number(n[2]))&&(e.borderBottomRightRadius=Number(n[2])),!isNaN(Number(n[3]))&&(e.borderBottomLeftRadius=Number(n[3]))),e})),d("border",(function(t){for(var e={},n=0,r=t.split(/\s/g).filter((function(t){return""!==t}));n<r.length;n++){var i=r[n];isNaN(Number(i))?s(i)?e.borderColor=i:g.includes(i)&&(e.borderStyle=i):e.borderWidth=Number(i)}return e})),d("background",(function(t){for(var e={},n=0,r=t.split(/\s/g).filter((function(t){return""!==t}));n<r.length;n++)if(s(t=r[n]))e.backgroundColor=t;else if(null==t?void 0:t.startsWith("url")){var i=t.match(/url\((.+?)\)/);i&&(e.backgroundImage=i[1])}return e})),d(["box-shadow","text-shadow"],(function(t){for(var e={},n=t.split(/\s/g).filter((function(t){return""!==t})),r=["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"];n.length;){var i=n.shift();if(isNaN(Number(i)))s(i)&&(e.shadowColor=i);else e[r.shift()]=Number(i)}return e}));var y=function(){this.type="",this.tagName="",this.attrs={},this.children=[],this.text=""},m=function(){function t(t){this.input="",this.index=0,this.input=t}return t.prototype.stepNext=function(){this.index++},t.prototype.cur=function(){return this.input[this.index]},t.prototype.twoChar=function(){return this.input[this.index]+this.input[this.index+1]},t.prototype.stepWhile=function(t){for(var e="";this.index<this.input.length&&t&&t(this.input[this.index]);)e+=this.input[this.index++];return e},t.prototype.skipWhiteSpace=function(){this.stepWhile((function(t){return/\s/.test(t)}))},t.prototype.getText=function(){return this.stepWhile((function(t){return/[a-zA-Z0-9_]/.test(t)}))},t.prototype.eof=function(){return this.index>=this.input.length},t}(),b=function(){function t(t){this.helper=new m(t)}return t.prototype.parse=function(){return this.parseNodes()},t.prototype.parseNodes=function(){for(var t=[];t.push(this.parseNode()),this.helper.skipWhiteSpace(),!this.helper.eof()&&"</"!==this.helper.twoChar(););return t},t.prototype.parseNode=function(){return this.helper.skipWhiteSpace(),"<"===this.helper.cur()?this.parseElement():this.parseTextNode()},t.prototype.parseElement=function(){var t,e=new y;e.type="element",this.helper.stepNext();var n=this.helper.getText();if(e.tagName=n,e.attrs=this.parseAttributes(),"/>"===this.helper.twoChar())return this.helper.stepNext(),this.helper.stepNext(),e;if(">"!==this.helper.cur())throw new Error("解析标签开始失败");if(this.helper.stepNext(),this.helper.skipWhiteSpace(),"</"!==this.helper.twoChar()&&((t=e.children).push.apply(t,this.parseNodes()),this.helper.skipWhiteSpace()),"</"!==this.helper.twoChar())throw new Error("解析标签结束失败");if(this.helper.stepNext(),this.helper.stepNext(),this.helper.getText()!==n)throw new Error("解析标签结束失败");if(">"!==this.helper.cur())throw new Error("解析标签结束失败");return this.helper.stepNext(),e},t.prototype.parseTextNode=function(){var t=new y,e=this.helper.stepWhile((function(t){return/[^<]/.test(t)}));return t.type="text",t.tagName="text",t.text=e,t},t.prototype.parseAttributes=function(){var t={};for(this.helper.skipWhiteSpace();!this.helper.eof()&&">"!==this.helper.cur()&&"/>"!==this.helper.twoChar();){var e=this.helper.stepWhile((function(t){return/[^\s=]/.test(t)}));this.helper.skipWhiteSpace(),this.helper.stepNext(),this.helper.skipWhiteSpace();var n="";'"'===this.helper.cur()?(this.helper.stepNext(),n=this.helper.stepWhile((function(t){return/[^"]/.test(t)})),this.helper.stepNext()):"'"===this.helper.cur()?(this.helper.stepNext(),n=this.helper.stepWhile((function(t){return/[^']/.test(t)})),this.helper.stepNext()):n=this.helper.stepWhile((function(t){return/[^\s</>/]/.test(t)})),t[e]=v(e,n),this.helper.skipWhiteSpace()}return t},t.prototype.removeQuote=function(t){var e=t;return/^["']/.test(e[0])&&(e=e.slice(1)),/["']$/.test(e[e.length-1])&&(e=e.slice(0,-1)),e},t}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function M(t){return t?t.replace(/^\s+|\s+$/g,""):""}var O=function(t,e){e=e||{};var n=1,r=1;function i(t){var e=t.match(/\n/g);e&&(n+=e.length);var i=t.lastIndexOf("\n");r=~i?t.length-i:r+t.length}function o(){var t={line:n,column:r};return function(e){return e.position=new a(t),d(),e}}function a(t){this.start=t,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;var s=[];function u(i){var o=new Error(e.source+":"+n+":"+r+": "+i);if(o.reason=i,o.filename=e.source,o.line=n,o.column=r,o.source=t,!e.silent)throw o;s.push(o)}function c(){return f(/^{\s*/)}function l(){return f(/^}/)}function h(){var e,n=[];for(d(),p(n);t.length&&"}"!=t.charAt(0)&&(e=T()||P());)!1!==e&&(n.push(e),p(n));return n}function f(e){var n=e.exec(t);if(n){var r=n[0];return i(r),t=t.slice(r.length),n}}function d(){f(/^\s*/)}function p(t){var e;for(t=t||[];e=g();)!1!==e&&t.push(e);return t}function g(){var e=o();if("/"==t.charAt(0)&&"*"==t.charAt(1)){for(var n=2;""!=t.charAt(n)&&("*"!=t.charAt(n)||"/"!=t.charAt(n+1));)++n;if(n+=2,""===t.charAt(n-1))return u("End of comment missing");var a=t.slice(2,n-2);return r+=2,i(a),t=t.slice(n),r+=2,e({type:"comment",comment:a})}}function v(){var t=f(/^([^{]+)/);if(t)return M(t[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(t){return t.replace(/\u200C/g,",")}))}function y(){var t=o(),e=f(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e){if(e=M(e[0]),!f(/^:\s*/))return u("property missing ':'");var n=f(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=t({type:"declaration",property:e.replace(w,""),value:n?M(n[0]).replace(w,""):""});return f(/^[;\s]*/),r}}function m(){var t,e=[];if(!c())return u("missing '{'");for(p(e);t=y();)!1!==t&&(e.push(t),p(e));return l()?e:u("missing '}'")}function b(){for(var t,e=[],n=o();t=f(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),f(/^,\s*/);if(e.length)return n({type:"keyframe",values:e,declarations:m()})}var O,S=E("import"),C=E("charset"),k=E("namespace");function E(t){var e=new RegExp("^@"+t+"\\s*([^;]+);");return function(){var n=o(),r=f(e);if(r){var i={type:t};return i[t]=r[1].trim(),n(i)}}}function T(){if("@"==t[0])return function(){var t=o();if(e=f(/^@([-\w]+)?keyframes\s*/)){var e,n=e[1];if(!(e=f(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r,i=e[1];if(!c())return u("@keyframes missing '{'");for(var a=p();r=b();)a.push(r),a=a.concat(p());return l()?t({type:"keyframes",name:i,vendor:n,keyframes:a}):u("@keyframes missing '}'")}}()||function(){var t=o(),e=f(/^@media *([^{]+)/);if(e){var n=M(e[1]);if(!c())return u("@media missing '{'");var r=p().concat(h());return l()?t({type:"media",media:n,rules:r}):u("@media missing '}'")}}()||function(){var t=o(),e=f(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return t({type:"custom-media",name:M(e[1]),media:M(e[2])})}()||function(){var t=o(),e=f(/^@supports *([^{]+)/);if(e){var n=M(e[1]);if(!c())return u("@supports missing '{'");var r=p().concat(h());return l()?t({type:"supports",supports:n,rules:r}):u("@supports missing '}'")}}()||S()||C()||k()||function(){var t=o(),e=f(/^@([-\w]+)?document *([^{]+)/);if(e){var n=M(e[1]),r=M(e[2]);if(!c())return u("@document missing '{'");var i=p().concat(h());return l()?t({type:"document",document:r,vendor:n,rules:i}):u("@document missing '}'")}}()||function(){var t=o();if(f(/^@page */)){var e=v()||[];if(!c())return u("@page missing '{'");for(var n,r=p();n=y();)r.push(n),r=r.concat(p());return l()?t({type:"page",selectors:e,declarations:r}):u("@page missing '}'")}}()||function(){var t=o();if(f(/^@host\s*/)){if(!c())return u("@host missing '{'");var e=p().concat(h());return l()?t({type:"host",rules:e}):u("@host missing '}'")}}()||function(){var t=o();if(f(/^@font-face\s*/)){if(!c())return u("@font-face missing '{'");for(var e,n=p();e=y();)n.push(e),n=n.concat(p());return l()?t({type:"font-face",declarations:n}):u("@font-face missing '}'")}}()}function P(){var t=o(),e=v();return e?(p(),t({type:"rule",selectors:e,declarations:m()})):u("selector missing")}return function t(e,n){var r=e&&"string"==typeof e.type,i=r?e:n;for(var o in e){var a=e[o];Array.isArray(a)?a.forEach((function(e){t(e,i)})):a&&"object"===x(a)&&t(a,i)}r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null});return e}((O=h(),{type:"stylesheet",stylesheet:{source:e.source,rules:O,parsingErrors:s}}))},S=n(212),C=n.n(S);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=function(){this.dom=null,this.style=null,this.children=[],this.originChildren=[]},T={"font-family":"serif"},P=["font","fontFamily","fontWeight","fontSize","fontVariant","fontStretch","textIndent","textAlign","textShadow","lineHeight","color","direction","wordSpacing","letterSpacing","textTransform","captionSide","borderCollapse","emptyCells","listStyleType","listStyleImage","listStylePosition","listStyle","visibility","cursor"],j=function(){function t(t,e){this.domTree=null,this.cssTree=null,this.rulesHash={ids:{},classes:{},tagNames:{}},this.domTree=t,this.cssTree=e}return t.prototype.parse=function(){return this.parseRulesHash(this.cssTree),this.genStyleTree(this.domTree)},t.prototype.parseRulesHash=function(t){for(var e=this.rulesHash,n=0,r=t.stylesheet.rules;n<r.length;n++){var i=r[n];if("rule"===i.type)for(var a=0,s=i.selectors;a<s.length;a++){var u=s[a],c=this.genKeySelector(u);switch(c[0]){case"#":var l=c.slice(1);e.ids[l]=Object(o.f)(Object(o.f)([],e.ids[l]||[]),[{selector:u,specificity:this.genSpecificity(u),style:this.genStyleFromRule(i)}]);break;case".":var h=c.slice(1);e.classes[h]=Object(o.f)(Object(o.f)([],e.classes[h]||[]),[{selector:u,specificity:this.genSpecificity(u),style:this.genStyleFromRule(i)}]);break;default:e.tagNames[c]=Object(o.f)(Object(o.f)([],e.tagNames[c]||[]),[{selector:u,specificity:this.genSpecificity(u),style:this.genStyleFromRule(i)}])}}}},t.prototype.genStyleTree=function(t){for(var e=new E,n=[[t,[],e]];n.length;){var r=n.pop(),i=r[0],a=r[1],s=r[2],u=r[3];s.dom=i,s.style=this.computeCSS(i,a,null==u?void 0:u.style);for(var c=0,l=i.children;c<l.length;c++){var h=l[c],f=new E;s.originChildren.push(f),n.push([h,Object(o.f)(Object(o.f)([],a),[i]),f,s])}}return e},t.prototype.genSpecificity=function(t){var e,n,r=(null===(e=t.match(/#\w+/g))||void 0===e?void 0:e.length)||0,i=(null===(n=t.match(/\.\w+/g))||void 0===n?void 0:n.length)||0;return 100*r+10*i+(t.split(/\s+|#|\./).filter((function(t){return""!==t})).length-r-i)},t.prototype.genKeySelector=function(t){var e=c(t,/\s/).pop(),n=e.match(/(#[^\.#]+)/);return(null==n?void 0:n.length)>0||(null==(n=e.match(/\.[^\.#]+/))?void 0:n.length)>0?n[0]:e},t.prototype.genStyleFromRule=function(t){return this.genStyleFromDeclaration(t.declarations)},t.prototype.genStyleFromDeclaration=function(t){var e={};return t.forEach((function(t){var n=t.value;e[t.property]=n})),e},t.prototype.computeCSS=function(t,e,n){var r=this,i=[];u(t,(function(t,e){switch(t){case"id":i.push.apply(i,r.rulesHash.ids[e]||[]);break;case"class":i.push.apply(i,r.rulesHash.classes[e]||[]);break;case"tagName":i.push.apply(i,r.rulesHash.tagNames[e]||[])}}));var a=i.filter((function(t){for(var n=c(t.selector,/\s+/g),r=n.length-2,i=e.length-1,o=!0;r>-1;r--){for(var a=!1;i>-1;i--){if(l(e[i],n[r])){a=!0;break}}if(!a){o=!1;break}}return o}));a.sort((function(t,e){return t.specificity-e.specificity}));for(var s=a.reduce((function(t,e){return Object.assign(t,e.style)}),Object(o.a)({},T)),h={},f=0,d=Object.entries(s);f<d.length;f++){var p=d[f],g=p[0],y=p[1],m=g.split("-").map((function(t,e){return e>0?""+t[0].toUpperCase()+t.slice(1):t})).join(""),b=v(g,y);"object"===k(b)?h=Object(o.a)(Object(o.a)({},h),b):h[m]=b}if(n){for(var x=0,w=Object.entries(h);x<w.length;x++){var M=w[x];g=M[0];"inherit"===(y=M[1])&&P.includes(g)&&(delete h[g],void 0!==n[g]&&(h[g]=n[g]))}for(var O=0,S=Object.entries(n);O<S.length;O++){var C=S[O];g=C[0],y=C[1];P.includes(g)&&!h[g]&&(h[g]=y)}}return h},t}(),N={};function A(t,e){N[t]=e}function I(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=N[t];if(!r)throw new Error("找不到标签"+t+"的构造函数");var i=new(r.bind.apply(r,Object(o.f)([void 0],e)));return i}var _=n(95),L=n.n(_),B=function(){function t(t){var e=this;this.styleNode=null,this.gNode=null,this.parent=null,this.children=[],this.isMounted=!1,this.isDisplay=!0,this._parentGNode=null,this._prevAttrs=null,this._prevStyle=null,this._prevLayout=null,this.events={},this.trigger=function(t){for(var n,r,i=t.target;i&&!i.get("uiNode");)i=i.get("parent");t.targetGNode=i||null,t.uiNode=null!==(n=null==i?void 0:i.get("uiNode"))&&void 0!==n?n:null,null===(r=e.events[t.type])||void 0===r||r.forEach((function(n){return n(t,e)}))},this.styleNode=t}return Object.defineProperty(t.prototype,"top",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.layout)||void 0===e?void 0:e.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.dom)||void 0===e?void 0:e.tagName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){var t;return null===(t=this.styleNode)||void 0===t?void 0:t.style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var t,e;return null===(e=null===(t=this.styleNode)||void 0===t?void 0:t.dom)||void 0===e?void 0:e.attrs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_layout",{get:function(){var t;return null===(t=this.styleNode)||void 0===t?void 0:t._layout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentGNode",{get:function(){var t;return(null===(t=this.parent)||void 0===t?void 0:t.gNode)||this._parentGNode},set:function(t){this._parentGNode=t},enumerable:!1,configurable:!0}),t.prototype.setParent=function(t){this.parent=t},t.prototype.appendChild=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){e.setParent(t),t.children.push(e),e.styleNode&&t.styleNode&&!t.styleNode.originChildren.includes(e.styleNode)&&t.styleNode.originChildren.push(e.styleNode)})),this.reflow()},t.prototype.removeChild=function(t){t&&t.remove()},t.prototype.remove=function(){var t,e=this.parent;e&&(this.unmount(),this.gNode.remove(),e.children.splice(1,e.children.indexOf(this)),null===(t=e.styleNode)||void 0===t||t.children.splice(1,e.children.indexOf(this.styleNode)),e.reflow())},t.prototype.query=function(t){if("string"==typeof t)for(var e=[[this,t.split(/\s+/g).filter((function(t){return""!==t}))]];e.length;)for(var n=e.shift(),r=n[0],i=n[1],o=0,a=r.children;o<a.length;o++){var s=a[o],u=[];if(s.styleNode&&l(s.styleNode.dom,i[0])){if(0===i.slice(1).length)return s;u=i.slice(1)}else u=i;e.push([s,u])}},t.prototype.queryAll=function(t){if("string"==typeof t){for(var e=[],n=[[this,t.split(/\s+/g).filter((function(t){return""!==t})),e]];n.length;)for(var r=n.shift(),i=r[0],o=r[1],a=r[2],s=0,u=i.children;s<u.length;s++){var c=u[s],h=[];c.styleNode&&l(c.styleNode.dom,o[0])?0===o.slice(1).length?(a.push(c),h=[o[0]]):h=o.slice(1):h=o,n.push([c,h,a])}return e}},t.prototype.manualMount=function(t){this.parentGNode=t,this.layout(),this.mount()},t.prototype.reflow=function(){var t;this.parentGNode&&("absolute"!==(null===(t=this.style)||void 0===t?void 0:t.position)&&this.parent?this.parent.reflow():(this.layout(),this.render()))},t.prototype.layout=function(){this._prevLayout=Object(o.a)({},this._layout||{}),this.clearLayout(),function(t){for(var e=[t];e.length;){var n=e.pop();n.children=n.originChildren.filter((function(t){return"none"!==t.style.display&&(e.push(t),!0)}))}C()(t)}(this.styleNode)},t.prototype.mount=function(){var t;this.isMounted||("none"!==(null===(t=this.style)||void 0===t?void 0:t.display)?(this._prevAttrs=this.attributes,this._prevStyle=this.style,this.draw(this.parentGNode),this.isMounted=!0,this.gNode.set("uiNode",this),this.gNode.on("*",this.trigger),this.children.forEach((function(t){return t.mount()})),this.didMount()):this.isDisplay=!1)},t.prototype.didMount=function(){},t.prototype.unmount=function(){this.isMounted&&(this.isMounted=!1,this.children.forEach((function(t){return t.unmount()})),this.didUnmount())},t.prototype.didUnmount=function(){},t.prototype.render=function(){var t,e,n;if(this.isMounted){if("none"===(null===(t=this.style)||void 0===t?void 0:t.display))return this.isDisplay=!1,null===(e=this.gNode)||void 0===e||e.remove(!1),!1;!1===this.isDisplay&&(this.isDisplay=!0,null===(n=this.parentGNode)||void 0===n||n.add(this.gNode));var r=this.shouldUpdate(this._prevAttrs,this._prevStyle,this._prevLayout);r&&this.draw(),this.children.forEach((function(t){return t.render()})),r&&this.didUpdate()}else this.mount()},t.prototype.didUpdate=function(){},t.prototype.shouldUpdate=function(t,e,n){return!L()(e,this.style)||!L()(t,this.attributes)||!L()(n,this._layout)},t.prototype.draw=function(t){},t.prototype.animate=function(){},t.prototype.clearLayout=function(){this.styleNode.isDirty=!0,this.children.forEach((function(t){t.clearLayout()}))},t.prototype.setAttribute=function(t,e){var n;if(this.styleNode&&this.styleNode.dom){if(this._prevAttrs=Object(o.a)({},this.styleNode.dom.attrs),this.styleNode.dom.attrs[t]=e,!(null===(n=this.parent)||void 0===n?void 0:n.isMounted))return;this.render()}},t.prototype.setStyle=function(t,e){var n;if(this.styleNode&&this.styleNode.style){if(this._prevStyle=Object(o.a)({},this.styleNode.dom.style),this.styleNode.style[t]=e,!(null===(n=this.parent)||void 0===n?void 0:n.isMounted))return;h[t]?this.reflow():this.render()}},t.prototype.getAttribute=function(t){var e,n;return null===(n=null===(e=this.styleNode)||void 0===e?void 0:e.dom)||void 0===n?void 0:n.attrs[t]},t.prototype.getStyle=function(t){var e,n,r;return null!==(n=null===(e=this.styleNode)||void 0===e?void 0:e.layout[t])&&void 0!==n?n:null===(r=this.styleNode)||void 0===r?void 0:r.style[t]},t.prototype.setText=function(t){var e=this.query("text");e&&e.styleNode&&e.styleNode.dom&&(e.styleNode.dom.text=t,e.render())},t.prototype.on=function(t,e){this.events[t]=Object(o.f)(Object(o.f)([],this.events[t]||[]),[e])},t.prototype.off=function(t,e){if(e){var n=this.events[t],r=null==n?void 0:n.indexOf(e);r&&-1!==r&&(null==n||n.splice(r,1))}else delete this.events[t]},t}(),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroudNode=null,e}return Object(o.c)(e,t),e.prototype.draw=function(t){var e,n;this.gNode||(this.gNode=t.addGroup({id:null===(e=this.attributes)||void 0===e?void 0:e.id,className:this.styleNode.dom.attrs.class}));var r=this.gNode,i=this.styleNode;r.resetMatrix(),null===(n=this.backgroudNode)||void 0===n||n.remove();var o=this.backgroudNode=r.addGroup();r.translate(this.left,this.top);var a=i.style;"number"==typeof a.zIndex&&r.setZIndex(a.zIndex),o.addShape("rect",{attrs:{x:0,y:0,fill:a.backgroundColor||"#fff",fillOpacity:a.backgroundOpacity,opacity:a.opacity,width:this.width,height:this.height,radius:[a.borderTopLeftRadius||0,a.borderTopRightRadius||0,a.borderBottomLeftRadius||0,a.borderBottomLeftRadius||0],shadowBlur:a.shadowBlur||0,shadowColor:a.shadowColor||null,shadowOffsetX:a.shadowOffsetX||0,shadowOffsetY:a.shadowOffsetY||0}}),a.backgroundImage&&o.addShape("image",{attrs:{x:0,y:0,img:a.url,width:this.width,height:this.height}});var s={attrs:{x:(a.borderWidth||0)/2,y:(a.borderWidth||0)/2,lineWidth:a.borderWidth,stroke:a.borderColor,width:this.width-(a.borderWidth||0),height:this.height-(a.borderWidth||0),radius:[(a.borderTopLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderTopRightRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderBottomLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width),(a.borderBottomLeftRadius||0)*((this.width-(a.borderWidth||0))/this.width)]}};"dashed"===a.borderStyle&&(s.attrs.lineDash=a.lineDash||[2,2]),o.addShape("rect",s),"hidden"===a.overflow&&r.setClip({type:"rect",attrs:{width:this.width,height:this.height,radius:[a.borderTopLeftRadius||0,a.borderTopRightRadius||0,a.borderBottomLeftRadius||0,a.borderBottomLeftRadius||0]}}),o.toBack()},e}(B),R=n(39),Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getAttrs=function(){var t=this.styleNode.style;return{x:this.styleNode.layout.left,y:this.styleNode.layout.top,textAlign:t.textAlign,fill:t.color,fontSize:t.fontSize||12,fontStyle:t.fontStyle,fontFamily:t.fontFamily,lineHeight:t.lineHeight||0,fontVariant:t.fontVariant,fontWeight:t.fontWeight,textBaseline:"top",opacity:t.opacity,fillOpacity:t.backgroundOpacity}},e.prototype.draw=function(t){var e=this.getAttrs();this.gNode||(this.gNode=t.addShape("text",{type:"text",attrs:e})),this.update()},e.prototype.getMultiLineText=function(t,e,n){var r,i=null===(r=this.parent.gNode.get("canvas"))||void 0===r?void 0:r.get("context");if(!i)return t;i.save();var o=Object(R.assembleFont)(e);if(i.font=o,i.measureText(t).width<n)return t;for(var a="",s=0,u=0,c=t;u<c.length;u++){var l=c[u],h=i.measureText(l).width;(s+=h)>=n?(s=h,a+="\n"+l):a+=l}return i.restore(),a},e.prototype.update=function(){var t=this.styleNode.style,e=this.getAttrs(),n=this.gNode;switch(n.attr(e),n.resetMatrix(),t.textAlign){case"center":n.translate(this.styleNode.layout.width/2);break;case"right":n.translate(this.styleNode.layout.width)}"nowrap"===t.whiteSpace?n.attr("text",String(this.styleNode.dom.text)):n.attr("text",this.getMultiLineText(String(this.styleNode.dom.text),e,this.styleNode.layout.width))},e}(B),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getAttrs=function(){var t=this.styleNode,e=t.style,n=t.layout,r=t.dom;return Object(o.a)(Object(o.a)({},r.attrs),{fill:e.backgroundColor,lineWidth:e.borderWidth,fillOpacity:e.backgroundOpacity,stroke:e.borderColor,width:n.width-(e.borderWidth||0),height:n.height-(e.borderWidth||0)})},e.prototype.draw=function(t){var e=this.styleNode,n=this.getAttrs(),r=e.dom;this.gNode||(this.gNode=t.addShape(r.attrs.type,{attrs:n})),this.update()},e.prototype.update=function(){var t,e=this.getAttrs(),n=this.gNode;n.attr(e),n.resetMatrix(),n.translate(this.left,this.top),"number"==typeof(null===(t=this.style)||void 0===t?void 0:t.zIndex)&&n.setZIndex(this.style.zIndex)},e}(B),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.draw=function(t){var e={x:this.styleNode.layout.left,y:this.styleNode.layout.top,img:this.styleNode.dom.attrs.src,width:this.styleNode.layout.width||0,height:this.styleNode.layout.height||0};this.gNode||(this.gNode=t.addShape("image",{type:"image",attrs:e}));var n=this.gNode;switch(n.resetMatrix(),n.attr(e),"number"==typeof this.styleNode.style.zIndex&&n.setZIndex(this.styleNode.style.zIndex),this.styleNode.style.textAlign){case"center":n.translate(this.styleNode.layout.width/2);break;case"right":n.translate(this.styleNode.layout.width)}},e}(B),z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e}(D);function W(t,e,n){var r=H(t,e,!1);return n&&r.manualMount(n),r}function H(t,e,n){void 0===n&&(n=!1);for(var r=function(t,e){return new j(t,e).parse()}(function(t,e){var n;void 0===e&&(e=!0);var r=new b(t).parse(),i=r[0];return"root"!==(null===(n=r[0])||void 0===n?void 0:n.tagName)&&e&&((i=new y).tagName="root",i.children=r),i}(t,n),O(e)),i=I(r.dom.tagName,r),o=[[r,i]];o.length;)for(var a=o.pop(),s=a[0],u=a[1],c=0,l=s.originChildren;c<l.length;c++){var h=l[c],f=I(h.dom.tagName,h);u.children.push(f),f.setParent(u),o.push([h,f])}return i}A("div",D),A("text",Y),A("shape",F),A("image",X),A("root",z);var q={};function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=q[t];null==r||r.forEach((function(t){t.apply(null,e)}))}function U(t,e){q[t]=Object(o.f)(Object(o.f)([],q[t]||[]),[e])}var V={fill:"#416180",opacity:.05},Z={fill:"#416180",opacity:.15,radius:5},Q={fill:"#5B8FF9",opacity:.3,cursor:"grab"},K={width:2,height:26,fill:"#1890ff",stroke:"#1890ff",opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},$={fill:"#fff",stroke:"#1890ff",radius:15,opacity:1,lineWidth:2,cursor:"ew-resize"},J={textBaseline:"middle",fill:"#000",opacity:.45,fontSize:12},tt={fill:"#607889",opacity:.35,fontSize:12,width:50},et={width:1,height:4,fill:"#ccc"},nt=2,rt=18,it={height:4,width:1,fill:"#BFBFBF"},ot={fill:"#8c8c8c",fontSize:10,width:50},at={fill:"#5B8FF9"},st={fill:"#e6e8e9"},ut={speed:1,contentWidth:200,height:60,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa"},nextBtnStyle:{fill:"#aaa"},playBtnStyle:{fill:"#aaa"}};var ct=function(t,e){var n=e.height,r=(void 0===n?16:n)/2,i="";return"next"===t&&(i="\n      <shape  type='path' path='[\n        [\"M\", 0, "+(0-r)+'],\n        ["L", '+r+', 0],\n        ["L", 0, '+r+'],\n        ["Z", 0, '+(0-r)+'],\n        ["M", 0, 0],\n        ["L", '+(0-r)+", "+(0-r)+'],\n        ["L", '+(0-r)+", "+r+'],\n        ["Z"]\n      ]\'/>  \n    '),"prev"===t&&(i="\n      <shape  type='path' path='[\n        [\"M\", 0, "+(0-r)+'],\n        ["L", '+(0-r)+', 0],\n        ["L", 0, '+(0+r)+'],\n        ["L", 0, '+(0-r)+'],\n        ["M", 0, 0],\n        ["L", '+(0+r)+", "+(0-r)+'],\n        ["L", '+(0+r)+", "+(0+r)+'],\n        ["Z"]\n      ]\'/>  \n    '),W(i,"\n    shape {\n      margin-left: "+r+";\n      width: "+r+";\n      background: "+e.fill+";\n    }\n  ")};var lt=function(t){var e=t||{},n=e.radius,r=void 0===n?15:n,i=e.fill,o=r*Math.sqrt(3)/2,a=W('\n  <div id=\'play_Btn\'>\n    <shape class="start" type=\'path\' path=\'[\n      ["M", 0 , 0],\n      ["L", '+o+" , "+r/2+'],\n      ["L", 0 , '+r+"]\n    ]'/>\n    <div class=\"pause\">\n      <shape class='pause_0' type='rect' />\n      <shape class='pause_1' type='rect' />\n    </div>\n  </div>","\n    #play_Btn {\n      width: "+2*r+";\n      height: "+2*r+";\n      background: #fff;\n      border: 1 solid "+i+";\n      border-radius: "+r+";\n    }\n    .start{\n      position: absolute;\n      top: "+r/2+";\n      left: "+(r-o/2+1)+" ;\n      background: "+i+";\n      width: "+r+";\n      height: "+r+";\n    }\n    .pause {\n      display: none;\n    }\n    .pause shape {\n      position: absolute;\n      background: "+i+";\n      width: "+r/4+";\n      height: "+r+";\n    }\n    .pause_1 {\n      left: "+4*r/8+";\n    }\n    .pause {\n      position: absolute;\n      top: "+r/2+";\n      left: "+5*r/8+";\n    }\n  "),s=a.query(".start"),u=a.query(".pause"),c=!0;function l(){s.setStyle("display",c?"flex":"none"),u.setStyle("display",c?"none":"flex")}return l(),a.on("tap",(function(){G(c?"SLIDER_PLAY":"SLIDER_PAUSE"),c=!c,l()})),a},ht=n(0);var ft=function(t){var e=Object(ht.c)({},ut,t),n=e.wrapperWidth,r=e.contentWidth,i=e.height,o=e.fill,a=e.stroke,s=e.nextBtnStyle,u=e.preBtnStyle,c=e.playBtnStyle,l=e.speed,h=W("\n    <div class='wrapper'>\n      <div class='content'> \n\n      </div>\n    </div>\n  ","\n    .wrapper {\n      display: flex;\n      width: "+n+";\n      height: "+i+";\n      flex-wrap: nowrap;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      background: "+o+";\n      "+(a?"border: 1 solid "+a+";":"")+"\n    }\n    .content{\n      display: flex;\n      width: "+r+";\n      flex-wrap: nowrap;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      background-opacity: 0;\n    }\n"),f=ct("next",s),d=ct("prev",u),p=lt(c);return G("SPEED_CHANGE",l),f.on("tap",(function(){G("CONTROL_NEXT")})),d.on("tap",(function(){G("CONTROL_PREV")})),h.query(".content").appendChild(d,p,f),h};function dt(t,e){void 0===e&&(e=20);var n=!0,r=null;return{play:function(){n=!1,function i(){n?clearTimeout(r):(null==t||t(),r=setTimeout((function(){i()}),e))}()},stop:function(){n=!0},setSpeed:function(t){t>10&&(t=10),t<1&&(t=1),e=800-500*t/9}}}var pt=n(35),gt={};function vt(t,e){gt[t]=e}var yt=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(ht.a)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(ht.y)(this.ticks,(function(e,n){return Object(ht.u)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Object(ht.r)(r)||!Object(ht.q)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(ht.a)(this,this.__cfg__),this.setDomain(),Object(ht.o)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ht.w)(t)){var n=gt[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(ht.q)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return Object(ht.s)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Object(o.c)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=Object(ht.s)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return Object(ht.s)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Object(o.g)([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(ht.r)(this.getConfig("min"))&&(this.min=0),Object(ht.r)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(yt),bt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,xt="[^\\s]+",wt=/\[([^]*?)\]/gm;function Mt(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var Ot=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return r>-1?r:null}};function St(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var Ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kt=["January","February","March","April","May","June","July","August","September","October","November","December"],Et=Mt(kt,3),Tt={dayNamesShort:Mt(Ct,3),dayNames:Ct,monthNamesShort:Et,monthNames:kt,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},Pt=St({},Tt),jt=function(t){return Pt=St(Pt,t)},Nt=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},At=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},It={D:function(t){return String(t.getDate())},DD:function(t){return At(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return At(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return At(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return At(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return At(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return At(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return At(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return At(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return At(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return At(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return At(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+At(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+At(Math.floor(Math.abs(e)/60),2)+":"+At(Math.abs(e)%60,2)}},_t=function(t){return+t-1},Lt=[null,"[1-9]\\d?"],Bt=[null,xt],Dt=["isPm",xt,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Rt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],Yt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+xt,function(t){return parseInt(t,10)}],M:["month","[1-9]\\d?",_t],MM:["month","\\d\\d",_t],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:Lt,dd:Lt,ddd:Bt,dddd:Bt,MMM:["month",xt,Ot("monthNamesShort")],MMMM:["month",xt,Ot("monthNames")],a:Dt,A:Dt,ZZ:Rt,Z:Rt},Ft={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Xt=function(t){return St(Ft,t)},zt=function(t,e,n){if(void 0===e&&(e=Ft.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var r=[];e=(e=Ft[e]||e).replace(wt,(function(t,e){return r.push(e),"@@@"}));var i=St(St({},Pt),n);return(e=e.replace(bt,(function(e){return It[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function Wt(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=Ft[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(wt,(function(t,e){return o.push(Nt(e)),"@@@"})),s={},u={};a=Nt(a).replace(bt,(function(t){var e=Yt[t],n=e[0],r=e[1],o=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(e),"("+r+")"})),Object.keys(u).forEach((function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var c=t.match(new RegExp(a,"i"));if(!c)return null;for(var l=St(St({},Pt),n),h=1;h<c.length;h++){var f=i[h-1],d=f[0],p=f[2],g=p?p(c[h],l):+c[h];if(null==g)return null;r[d]=g}1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],m=(h=0,y.length);h<m;h++)if(s[y[h][0]]&&r[y[h][0]]!==v[y[h][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var Ht={format:zt,parse:Wt,defaultI18n:Tt,setGlobalDateI18n:jt,setGlobalDateMasks:Xt};function qt(t,e){return(r.format||Ht.format)(t,e)}function Gt(t){return Object(ht.w)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(ht.n)(t)&&(t=t.getTime()),t}var Ut=36e5,Vt=24*Ut,Zt=31*Vt,Qt=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",Ut],["HH",6*Ut],["HH",12*Ut],["YYYY-MM-DD",Vt],["YYYY-MM-DD",4*Vt],["YYYY-WW",7*Vt],["YYYY-MM",Zt],["YYYY-MM",4*Zt],["YYYY-MM",6*Zt],["YYYY",380*Vt]];function Kt(t,e,n){var r,i=(r=function(t){return t[1]},function(t,e,n,i){for(var o=Object(ht.r)(n)?0:n,a=Object(ht.r)(i)?t.length:i;o<a;){var s=o+a>>>1;r(t[s])>e?a=s:o=s+1}return o})(Qt,(e-t)/n)-1,o=Qt[i];return i<0?o=Qt[0]:i>=Qt.length&&(o=Object(ht.x)(Qt)),o}var $t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Object(o.c)(e,t),e.prototype.translate=function(t){t=Gt(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ht.s)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):qt(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(ht.d)(e,(function(t,n){e[n]=Gt(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(mt),Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(o.c)(e,t),e.prototype.scale=function(t){if(Object(ht.r)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Object(ht.j)(e),r=Object(ht.x)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Object(ht.r)(this.minLimit)||(this.min=n),Object(ht.r)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Object(ht.h)(this.values),e=t.min,n=t.max;Object(ht.r)(this.min)&&(this.min=e),Object(ht.r)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Object(ht.e)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(yt),te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Object(o.c)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Jt);function ee(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function ne(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function re(t,e,n){Object(ht.r)(n)&&(n=Math.max.apply(null,t));var r=n;return Object(ht.d)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}function ie(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}var oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Object(o.c)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=ne(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=ne(n,a/n)))*o;if(t<s)return t/s*a}else e=ne(n,this.min);var u=(t-i)/o*(r-e)+e;return Math.pow(n,u)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=re(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(ne(r,e)-ne(r,n)):(ne(r,t)-ne(r,n))/(ne(r,e)-ne(r,n))},e}(Jt),ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Object(o.c)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=ee(n,this.max),i=ee(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(ee(r,t)-ee(r,n))/(ee(r,e)-ee(r,n))},e}(Jt),se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Object(o.c)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):qt(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Object(ht.w)(n)||Object(ht.n)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return Gt(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Object(ht.r)(e)&&Object(ht.s)(e)||(this.min=this.translate(this.min)),Object(ht.r)(n)&&Object(ht.s)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;Object(ht.d)(t,(function(t){var e=Gt(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),Object(ht.r)(e)&&(this.min=i),Object(ht.r)(n)&&(this.max=a)}},e}(te),ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Object(o.c)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return Object(ht.x)(e);if(i<0)return Object(ht.j)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(ht.x)(e)!==this.max&&e.push(this.max),Object(ht.j)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(ht.j)(e))return 0;if(t>Object(ht.x)(e))return 1;var n=0;return Object(ht.d)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Jt),ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Object(o.c)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(ue),le={};function he(t,e){if(function(t){return le[t]}(t))throw new Error("type '"+t+"' existed.");le[t]=e}var fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Object(o.c)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(ht.s)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(yt),de=[1,5,2,2.5,4,3],pe=100*Number.EPSILON;function ge(t,e,n,r,i,o){var a=Object(ht.E)(e),s=Object(ht.k)(e,t),u=0,c=function(t,e){return(t%e+e)%e}(r,o);return(c<pe||o-c<pe)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function ve(t,e,n){var r=Object(ht.E)(e);return 1-Object(ht.k)(e,t)/(r-1)-n+1}function ye(t,e,n,r,i,o){var a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function me(t,e){return t>=e?2-(t-1)/(e-1):1}function be(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function xe(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function we(t,e,n,r,i,o){if(void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=de),void 0===o&&(o=[.25,.2,.5,.05]),Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!n)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===n)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var u=0;u<i.length;u+=1){var c=i[u],l=ve(c,i,s);if(o[0]*l+o[1]+o[2]+o[3]<a.score){s=1/0;break}for(var h=2;h<1/0;){var f=me(h,n);if(o[0]*l+o[1]+o[2]*f+o[3]<a.score)break;for(var d=(e-t)/(h+1)/s/c,p=Math.ceil(Math.log10(d));p<1/0;){var g=s*c*Math.pow(10,p),v=xe(t,e,g*(h-1));if(o[0]*l+o[1]*v+o[2]*f+o[3]<a.score)break;var y=Math.floor(e/g)*s-(h-1)*s,m=Math.ceil(t/g)*s;if(y>m)p+=1;else{for(var b=y;b<=m;b+=1){var x=b*(g/s),w=x+g*(h-1),M=g,O=ge(c,i,s,x,w,M),S=be(t,e,x,w),C=ye(h,n,t,e,x,w),k=o[0]*O+o[1]*S+o[2]*C+1*o[3];k>a.score&&(!r||x<=t&&w>=e)&&(a.lmin=x,a.lmax=w,a.lstep=M,a.score=k)}p+=1}}h+=1}}s+=1}for(var E,T,P,j,N,A=0,I=new Array(Math.floor((a.lmax-a.lmin)/a.lstep)),_=a.lmin;_<=a.lmax;E=_,T=a.lstep,P=void 0,j=void 0,N=void 0,P=ie(E),j=ie(T),N=Math.pow(10,Math.max(P,j)),_=(E*N+T*N)/N)I[A]=_,A+=1;return{min:Math.min(t,Object(ht.j)(I)),max:Math.max(e,Object(ht.x)(I)),ticks:I}}function Me(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=e;if(Object(ht.s)(n))return Object(ht.e)(i,(function(t,e){return e%n==0}));var o=t.min,a=t.max;if(Object(ht.r)(o)&&(o=0),Object(ht.r)(a)&&(a=e.length-1),Object(ht.s)(r)&&r<a-o){var s=we(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ht.e)(s,(function(t){return t>=o&&t<=a})).map((function(t){return e[t]}))}return e.slice(o,a+1)}var Oe=Math.sqrt(50),Se=Math.sqrt(10),Ce=Math.sqrt(2),ke=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(e=[u,s])[0],u=e[1],o=(n=[a,o])[0],a=n[1]),(r=Ee(s,u,t))>0?r=Ee(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,t):r<0&&(r=Ee(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,t)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(a=Ee(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Ee(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Oe?10:o>=Se?5:o>=Ce?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Oe?10:o>=Se?5:o>=Ce?2:1)}function Te(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function Pe(t,e,n){var r=Te(t,n,"floor"),i=Te(e,n,"ceil");r=Object(ht.f)(r,n),i=Object(ht.f)(i,n);for(var o=[],a=r;a<=i;a+=n){var s=Object(ht.f)(a,n);o.push(s)}return{min:r,max:i,ticks:o}}function je(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,u=t.tickCount,c=void 0===u?5:u,l=Object(ht.r)(i)?Object(ht.r)(e)?a:e:i,h=Object(ht.r)(o)?Object(ht.r)(n)?s:n:o;if(l>h&&(h=(r=[l,h])[0],l=r[1]),c<=2)return[l,h];for(var f=(h-l)/(c-1),d=[],p=0;p<c;p++)d.push(l+f*p);return d}function Ne(t,e,n){void 0===n&&(n=5);var r={max:0,min:0,ticks:[]};if(t===e)return{max:e,min:t,ticks:[t]};var i=(e-t)/n,o=Math.pow(10,Math.floor(Math.log10(i))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-i<1.5*(i-s)&&5*o-i<2.75*(i-(s=2*o))&&10*o-i<1.5*(i-(s=5*o))&&(s=10*o);var u=Math.ceil(e/s),c=Math.floor(t/s);r.max=Math.max(u*s,e),r.min=Math.min(c*s,t);for(var l=Number.parseFloat((c*s).toFixed(a));l<e;)r.ticks.push(l),l+=s,a&&(l=Number.parseFloat(l.toFixed(a)));return r.ticks.push(l),r}function Ae(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function Ie(t){return new Date(t).getFullYear()}function _e(t){return new Date(t,0,1).getTime()}function Le(t){return new Date(t).getMonth()}function Be(t,e){return new Date(t,e,1).getTime()}function De(t){return function(t){return Object(ht.y)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function Re(t,e,n,r){void 0===r&&(r=!0);var i=new te({values:t}),o=new mt({values:Object(ht.y)(t,(function(t,e){return e}))}),a=Object(ht.y)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}));return r?function(t){if(t.length<=2)return De(t);var e=[];Object(ht.d)(t,(function(t){Object(ht.p)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=pt.a(e,!1),r=Object(ht.j)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):De(a)}vt("cat",Me),vt("time-cat",(function(t){var e=Me(t),n=Object(ht.x)(t.values);return n!==Object(ht.x)(e)&&e.push(n),e})),vt("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,u=we(e,n,r,i).ticks;return Object(ht.r)(a)&&Object(ht.r)(s)?o?Pe(e,n,o).ticks:u:je(t,Object(ht.j)(u),Object(ht.x)(u))})),vt("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=Ne(e,n,r).ticks;return Object(ht.r)(o)&&Object(ht.r)(a)?i?Pe(e,n,i).ticks:s:je(t,Object(ht.j)(s),Object(ht.x)(s))})),vt("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{var a=(n-e)/(i=Kt(e,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var s=[],u=e;u<n+i;u+=i)s.push(u);return s})),vt("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/i,r&&o<r&&(o=r));var s=Ie(e);if(o>31536e6)for(var u=Ie(n),c=Math.ceil(o/31536e6),l=s;l<=u+c;l+=c)a.push(_e(l));else if(o>Zt){var h=Math.ceil(o/Zt),f=Le(e),d=function(t,e){var n=Ie(t),r=Ie(e),i=Le(t);return 12*(r-n)+(Le(e)-i)%12}(e,n);for(l=0;l<=d+h;l+=h)a.push(Be(s,l+f))}else if(o>Vt){var p=(b=new Date(e)).getFullYear(),g=b.getMonth(),v=b.getDate(),y=Math.ceil(o/Vt),m=function(t,e){return Math.ceil((e-t)/Vt)}(e,n);for(l=0;l<m+y;l+=y)a.push(new Date(p,g,v+l).getTime())}else if(o>Ut){p=(b=new Date(e)).getFullYear(),g=b.getMonth(),y=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/Ut),M=function(t,e){return Math.ceil((e-t)/Ut)}(e,n);for(l=0;l<=M+w;l+=w)a.push(new Date(p,g,y,x+l).getTime())}else if(o>6e4){var O=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),S=Math.ceil(o/6e4);for(l=0;l<=O+S;l+=S)a.push(e+6e4*l)}else{var C=o;C<1e3&&(C=1e3);var k=1e3*Math.floor(e/1e3),E=Math.ceil((n-e)/1e3),T=Math.ceil(C/1e3);for(l=0;l<E+T;l+=T)a.push(k+1e3*l)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),vt("log",(function(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,a=t.values,s=ne(n,o);if(i>0)e=Math.floor(ne(n,i));else{var u=re(a,n,o);e=Math.floor(ne(n,u))}for(var c=s-e,l=Math.ceil(c/r),h=[],f=e;f<s+l;f+=l)h.push(Math.pow(n,f));return i<=0&&h.unshift(0),h})),vt("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(ee(e,t.max));return Ne(Math.floor(ee(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),vt("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(Ae(r,a))}return i})),vt("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new ke;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}(t);return Object(ht.r)(i)&&Object(ht.r)(o)?r?Pe(e,n,r).ticks:a:je(t,Object(ht.j)(a),Object(ht.x)(a))})),he("cat",mt),he("category",mt),he("identity",fe),he("linear",te),he("log",oe),he("pow",ae),he("time",se),he("timeCat",$t),he("quantize",ue),he("quantile",ce);var Ye={stroke:"#C5C5C5",strokeOpacity:.85};function Fe(t){var e=t.data,n=void 0===e?[]:e,r=t.width,i=t.slider,o=t.sliderTick,a=function(t){var e=t.width,n=t.height,r=void 0===n?4:n,i=Object.assign({},$,t.handlerStyle),o=Object.assign({},Z,t.backgroundStyle),a=Object.assign({},Q,t.foregroundStyle),s=Object.assign({},J,t.textStyle),u=W("\n    <div class='slider-bg'>\n      <div class=\"slider-inner\"></div>\n      <div class='control left-control'>\n        <div class='text'>0</div>\n      </div>\n      <div class='control right-control'>\n        <div class='text'>0</div>\n      </div>\n    </div>\n  ","\n    .slider-bg {\n      width: "+e+";\n      height: "+r+";\n      background: "+o.fill+";\n      opacity: "+o.opacity+";\n      border-radius: "+o.radius+";\n      z-index: 10;\n      margin-top: 30;\n    }\n    \n    .slider-inner{\n      position: absolute;\n      width: "+e+";\n      height: "+r+";\n      border-radius: "+r/2+";\n      background: "+a.fill+";\n      background-opacity: "+a.opacity+"\n      z-index: 1;\n    }\n\n    .control {\n      position: absolute;\n      top: "+(-i.radius/2+r/2)+";\n      width: "+i.radius+";\n      height: "+i.radius+";\n      border-radius: "+i.radius/2+";\n      background: "+i.fill+";\n      border: "+i.lineWidth+" solid "+i.stroke+";\n      z-index: 2;\n    }\n\n    .text{\n      position: absolute;\n      left: "+i.radius/2+";\n      top: -"+(i.radius/2+s.fontSize/2)+";\n      width: 0;\n      color: "+s.fill+";\n      font-size: "+s.fontSize+";\n      text-align: center;\n    }\n\n    text{\n      opacity: "+s.opacity+";\n      white-space: nowrap;\n    }\n    \n    .left-control {\n      left: 0;\n    }\n\n    .right-control{\n      left: "+(e-i.radius)+";\n    }\n  ");return{slideContainer:u,leftControl:u.query(".left-control"),rightControl:u.query(".right-control"),slideInner:u.query(".slider-inner")}}(i);return ze({data:n,width:r,start:i.start,end:i.end,sliderTick:o},a)}function Xe(t){var e=t.data,n=t.width,r=t.slider,i=t.sliderTick,o=function(t){var e=t.slider,n=void 0===e?{}:e,r=t.trend,i=void 0===r?{}:r,o=n.width,a=n.height,s=void 0===a?24:a,u=i.data,c=void 0===u?[]:u,l=i.lineStyle,h=i.smooth,f=void 0===h||h,d=Object.assign({},K,n.handlerStyle),p=Object.assign({},V,n.backgroundStyle),g=Object.assign({},Q,n.foregroundStyle),v=Object.assign({},J,n.textStyle),y=Object.assign({},Ye,l),m=d.width,b=2*m,x=2*b+10,w=W("\n    <div class='slider-bg'>\n      <shape class='trend-bg' type='path' path='[]' />\n      <div class= 'slider-inner' />\n      <div class='control left-control'>\n        <div class='handler'> \n          <div class='text'>1</div>\n          <shape class='rect' type='rect' width='"+d.width+"'/>\n          <shape class='circle top-circle' type='circle' r='"+b+"' />\n          <shape class='circle bottom-circle' type='circle' r='"+b+"' />\n        </div>\n      </div>\n      <div class='control right-control'>\n        <div class='handler'> \n          <div class='text'>1</div>\n          <shape class='rect' type='rect' width='"+d.width+"'/>\n          <shape class='circle top-circle' type='circle' r='"+b+"' />\n          <shape class='circle bottom-circle' type='circle' r='"+b+"' />\n        </div>\n      </div>\n    </div>\n  ","\n    .slider-bg {\n      width: "+o+";\n      height: "+s+";\n      background: "+p.fill+";\n      opacity: "+p.opacity+";\n      z-index: 10;\n    }\n\n    .trend-bg{\n      position: absolute;\n      width: "+o+";\n      height: "+s+";\n      border: 1 solid "+y.stroke+";\n      opacity: "+y.strokeOpacity+";\n    }\n    \n    .slider-inner{\n      position: absolute;\n      width: "+o+";\n      height: "+s+";\n      background: "+g.fill+";\n      opacity: "+g.opacity+";\n    }\n\n    .control {\n      position: absolute;\n      width: "+x+";\n      height: "+s+";\n      font-size: 10;\n      background-opacity: 0;\n    }\n\n    .handler{\n      position: absolute;\n      height: "+d.height+";\n      width: "+m+";\n    }\n    \n    .rect {\n      position: absolute;\n      width: "+m+";\n      height: "+d.height+";\n      background: "+d.fill+";\n    }\n\n    .circle {\n      background: "+d.fill+";\n      position: absolute;\n      left: "+m/2+"\n    }\n\n    .top-circle{\n      top: 0\n    }\n\n    .bottom-circle{\n      bottom: 0\n    }\n\n    .right-control .handler{\n      right: 0\n    }\n\n    .control .text{\n      position: absolute;\n      top: "+(s/2-5)+";\n    }\n    \n    .text{\n      color: "+v.fill+";\n      width: 40;\n      text-align: center;\n    }\n\n    .text text{\n      opacity:"+v.opacity+"\n    }\n\n    .left-control .text{\n      margin-left: 0;\n    }\n\n    .right-control .text{\n      \n    }\n    \n    .left-control {\n      left: 0;\n    }\n\n    .right-control{\n      left: "+(o-x)+";\n    }\n  "),M=Re(c,o,s,f);w.query(".trend-bg").setAttribute("path",M);var O=w.query(".left-control"),S=w.query(".right-control"),C=O.query(".text"),k=S.query(".text");return O.onLeftChange=function(t){t<C.width?C.setStyle("marginLeft",0):C.setStyle("marginLeft",-C.width)},S.onLeftChange=function(t){t>w.width-S.width-k.width?k.setStyle("marginLeft",-k.width):k.setStyle("marginLeft",0)},{slideContainer:w,leftControl:w.query(".left-control"),rightControl:w.query(".right-control"),slideInner:w.query(".slider-inner")}}({slider:r,trend:t.trend});return ze({data:e,width:n,start:r.start,end:r.end,sliderTick:i},o)}function ze(t,e){var n=t.data,r=void 0===n?[]:n,i=t.width,o=t.start,a=void 0===o?.1:o,s=t.end,u=void 0===s?.9:s,c=t.sliderTick,l=c.width,h=(void 0===l?0:l)/r.length,f=function(t){return W("\n    <div id='slider'></div>\n  ","\n    #slider {\n      width: "+t+";\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  ")}(i),d=e.slideContainer,p=e.leftControl,g=e.rightControl,v=e.slideInner,y=function(t,e,n){var r=n.width,i=void 0===r?0:r,o=Object.assign({},tt,n.textStyle),a=Object.assign({},et,n.lineStyle),s=Math.floor(o.width/e);return W("\n  <div class='tiker'>\n    "+t.reduce((function(t,e,n){return t+"\n        <div class='single-tick'> \n          "+(n%s==0?"\n          <shape class='line' type='rect' />\n          <div class='text'>"+e.date+"</div>":"")+"\n        </div> \n      "}),"")+"\n  </div>","\n    .tiker {\n      width: "+i+";\n      background-opacity: 0;\n      display: flex;\n      flex-direction: row;\n      z-index: 1;\n      color: black;\n    }\n    .single-tick {\n      width: "+e+";\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n    }\n    .single-tick shape{\n      width: "+a.width+";\n      height: "+a.height+";\n      background: "+a.fill+";\n    }\n    .single-tick .text {\n      height: "+o.fontSize+";\n      text-align: center;\n      font-size: "+o.fontSize+";\n      width: 0; \n      color: "+o.fill+";\n    }\n    text {\n      opacity: "+o.opacity+";;\n      white-space: nowrap;\n    }\n  ")}(r,h,c);f.appendChild(d,y);var m=function(t){var e=t.delegateNode,n=t.leftControl,r=t.rightControl,i=t.slideInner,o=t.data,a=t.tickWidth,s=t.slideContainer,u=t.speed,c=0,l=1,h=0;function f(){var t=r.width,e=s.width;h>e-t||y(h+=a)}var d=dt(f,void 0===u?100:u);function p(){return r.left-n.left+n.width}function g(t){var e=t/s.width*o.length;return o[Math.floor(e)]}function v(t,e){var r;void 0===e&&(e=!0);var o=n.width,a=s.width;t<0&&(t=0),t>a-o&&(t=a-o),null===(r=n.onLeftChange)||void 0===r||r.call(n,t),n.setStyle("left",t),e&&i.setStyle("width",p()),i.setStyle("left",t<0?0:t);var u=g(t);u&&(n.setText(u.date),G("RANGE_CHANGE",{value:[c=t/a,l]}))}function y(t,e){var n;void 0===e&&(e=!0);var o=r.width,a=s.width;t<0&&(t=0),t>=a-o&&(t=a-o),null===(n=r.onLeftChange)||void 0===n||n.call(r,t),r.setStyle("left",t),e&&i.setStyle("width",p());var u=g(t+o);u&&(h=t,r.setText(u.date),G("RANGE_CHANGE",{value:[c,l=(t+o)/a]}))}var m=new Map;m.set(n,{getStart:function(){return n.left},handler:v}),m.set(r,{getStart:function(){return r.left},handler:y}),m.set(i,{getStart:function(){return i.left},handler:function(t){var e=r.width,n=i.width,o=s.width;t<0&&(t=0),t>o-n&&(t=o-n),v(t,!1),y(t+n-e,!1)}});var b,x=0,w=0;return e.on("panstart",(function(t){if(t.uiNode){b=void 0;var e=m.get(t.uiNode);e&&(b=t.uiNode,x=t.clientX,w=e.getStart())}})),e.on("panmove",(function(t){if(b){var e=m.get(b),n=t.clientX-x;e.handler(w+n)}})),{goLeftPercent:function(t){t<0||t>1||v(t*s.width)},goRightPercent:function(t){t<0||t>1||y(t*s.width)},goNext:f,goPrev:function(){h<0||y(h-=a)},player:d}}({data:r,slideContainer:d,leftControl:p,rightControl:g,slideInner:v,tickWidth:h,delegateNode:f});return d.didMount=function(){m.goLeftPercent(a),m.goRightPercent(u)},U("SLIDER_PLAY",m.player.play),U("SLIDER_PAUSE",m.player.stop),U("SPEED_CHANGE",m.player.setSpeed),U("CONTROL_NEXT",m.goNext),U("CONTROL_PREV",m.goPrev),f}function We(t,e,n){var r=Math.max(t,e),i=Math.min(t,e);n.start=i,n.end=r,He(n),n.tickBoxs.forEach((function(t){n.selects.includes(t)||t.getAttribute("disFromStart")>=i&&t.getAttribute("disFromStart")<=r&&(t.setStyle("backgroundColor",n.selectedFill),n.selects.push(t))})),n.selects.length>0&&G("RANGE_CHANGE",{value:[n.selects[0].getAttribute("disFromStart")/n.width,n.selects[n.selects.length-1].getAttribute("disFromStart")/n.width]})}function He(t){t.selects.forEach((function(e){e.setStyle("backgroundColor",t.unSelectFill)})),t.selects=[]}var qe=function(t){var e,n,r,i,o,a=t.data,s=t.tick,u=s.start,c=void 0===u?.1:u,l=s.end,h=void 0===l?.9:l,f=s.width,d=s.padding;console.log(t);var p=Object.assign({},at,null===(e=null==t?void 0:t.tick)||void 0===e?void 0:e.selectedTickStyle),g=Object.assign({},st,null===(n=null==t?void 0:t.tick)||void 0===n?void 0:n.unSelectedTickStyle),v={};v.data=a,v.width=f,v.padding=d||"10 0",v.selectedFill=p.fill,v.unSelectFill=g.fill,v.gap=nt,v.tickBoxHeight=(null===(r=null==t?void 0:t.tick)||void 0===r?void 0:r.tickBoxHeight)||rt,v.lineStyle=Object.assign({},it,null===(i=null==t?void 0:t.tick)||void 0===i?void 0:i.tickLineStyle),v.textStyle=Object.assign({},ot,null===(o=null==t?void 0:t.tick)||void 0===o?void 0:o.tickLabelStyle),v.tickWidth=f/a.length,v.count=Math.floor(v.textStyle.width/v.tickWidth),v.start=c,v.end=h,v.selects=[];var y=function(t){var e=t.data,n=t.tickWidth,r=t.count,i=t.width,o=t.gap,a=t.tickBoxHeight,s=t.textStyle,u=t.lineStyle,c=t.start,l=t.end,h=t.unSelectFill,f="\n  <div id='slider'>\n    "+e.reduce((function(t,e,i){return t+"\n        <div class='ticker'> \n          <div class='tick-box' disFromStart='"+i*n+"'></div>\n          "+(i%r==0?"\n              <div class='tick-desc' > \n                <shape class='line' type='rect'/>\n                <div class='text'>"+e.date+"</div>\n              </div>":"")+"\n        </div>"}),"")+"\n  </div>\n",d="\n  #slider {\n    width: "+i+";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: "+t.padding+";\n  }\n\n  .ticker {\n    width: "+(n-o)+";\n    display: flex;\n    background-opacity: 0;\n    align-items: center;\n  }\n\n  .tick-box {\n    width: "+(n-o)+";\n    height: "+a+";\n    background:  "+h+";\n  }\n\n  .tick-desc {\n    display: flex;\n    align-items: center;\n  }\n\n  .text{\n    width: 0;\n    height: "+s.fontSize+";\n    text-align:center;\n    color: "+s.fill+";\n    font-size: "+s.fontSize+";\n  }\n\n  .text text{\n    white-space: nowrap;\n  }\n\n  .line {\n    width: "+u.width+";\n    height: "+u.height+";\n    background: "+u.fill+";\n    margin: 2 0;\n  }\n",p=W(f,d);return p.didMount=function(){t.start=c*i,t.end=l*i,We(t.start,t.end,t)},p}(v);return v.tickBoxs=y.queryAll(".tick-box"),function(t){var e=function(){t.end+=t.tickWidth,We(t.start,t.end,t)},n=dt(e,1e3);U("CONTROL_NEXT",e),U("CONTROL_PREV",(function(){t.end-=t.tickWidth,We(t.start,t.end,t)})),U("SLIDER_PLAY",n.play),U("SLIDER_PAUSE",n.stop),U("SPEED_CHANGE",n.setSpeed)}(v),function(t,e){var n=0,r=!1,i=0,o=Object(ht.F)(We,30,{trailing:!0,leading:!0});t.on("panstart",(function(t){r=!1,t.uiNode&&"tick-box"===t.uiNode.getAttribute("class")&&(r=!0,n=t.clientX,i=t.uiNode.getAttribute("disFromStart"),He(e))})),t.on("panmove",(function(t){if(r){var a=t.clientX-n;o(i,i+a,e)}})),t.on("tap",(function(t){t.uiNode&&"tick-box"===t.uiNode.getAttribute("class")&&function(t,e){He(e),e.selects.push(t),e.start=e.end=t.getAttribute("disFromStart"),G("RANGE_CHANGE",{value:[t.getAttribute("disFromStart")/e.width,t.getAttribute("disFromStart")/e.width]}),t.setStyle("backgroundColor",e.selectedFill)}(t.uiNode,e)}))}(y,v),y};function Ge(t,e){var n=t.width,r=t.group,i=t.control,o=function(t,e,n){var r=H(t,e,!0);return r.manualMount(n),r}("<root></root>","\n  root {\n    /** 盒模型 **/\n    width: "+n+";\n    /** flex **/\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n",r),a=ft(i);return o.appendChild(e,a),o}var Ue=function(){function t(t){this._cfgs=Object(ht.c)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),r={};Object(ht.d)(n,(function(n,i){var o=Object(ht.J)(e,n);r[i]=o,t.on(i,o)})),this._events=r,this.init()},t.prototype.init=function(){},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;Object(ht.d)(e,(function(e,n){t.off(n,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),Ve=(function(t){function e(e){return t.call(this,e)||this}Object(o.c)(e,t),e.prototype.getDefaultCfgs=function(){return{className:"f6-component-timebar",padding:10,type:"trend",data:[],trend:{smooth:!0},controllerCfg:{speed:1},slider:{start:.1,end:.9},tick:{start:.1,end:.9},filterEdge:!1}},e.prototype.init=function(){var t=this;setTimeout((function(){t.render(),t.initEvent()}))},e.prototype.filterData=function(t){var e,n=t.value,r=this.get("data");if(r&&0!==r.length){var i=this.get("rangeChange"),o=this.get("graph"),a=Math.round(r.length*n[0]),s=Math.round(r.length*n[1]);s=s>=r.length?r.length-1:s,a=a>=r.length?r.length-1:a;var u=null===(e=this._cfgs.tick)||void 0===e?void 0:e.tickLabelFormatter,c=u?u(r[a]):r[a].date,l=u?u(r[s]):r[s].date;if(i)i(o,c,l);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=o.get("data"));var h=this.cacheGraphData.nodes.filter((function(t){return t.date>=r[a].date&&t.date<=r[s].date})),f=h.map((function(t){return t.id})),d=[];this.cacheGraphData.edges&&(d=this.cacheGraphData.edges.filter((function(t){return f.includes(t.source)&&f.includes(t.target)})),this.get("filterEdge")&&(d=d.filter((function(t){return t.date>=r[a].date&&t.date<=r[s].date})))),o.changeData({nodes:h,edges:d})}}else console.warn("请配置 TimeBar 组件的数据")},e.prototype.render=function(){var t=this._cfgs,e=t.data,n=t.width,r=t.padding,i=t.type,a=t.trend,s=t.slider,u=t.controllerCfg,c=t.tick,l=t.sliderTick,h=this.get("graph"),f=h.get("uiGroup"),d=null;switch(i){case"trend":d=function(t){var e=t.width,n=void 0===e?0:e,r=t.padding,i=void 0===r?0:r,a=t.group,s=t.data,u=void 0===s?[]:s,c=t.slider,l=void 0===c?{}:c,h=t.controllerCfg,f=void 0===h?{}:h,d=t.trend,p=void 0===d?{}:d,g=t.sliderTick,v=void 0===g?{}:g,y=Xe({data:u,width:n,slider:Object(o.a)({width:l.width||n-2*i,paddingTop:0},l||{}),sliderTick:Object(o.a)({width:n-2*i},v||{}),trend:Object(o.a)({data:null==u?void 0:u.map((function(t){return t.value}))},p||{})});return Ge({width:n,group:a,control:Object(o.a)({wrapperWidth:n},f)},y)}({group:f,width:n,padding:r,data:e,trend:a,slider:s,controllerCfg:u,sliderTick:l});break;case"tick":d=function(t){var e=t.group,n=t.data,r=void 0===n?[]:n,i=t.width,a=t.padding,s=t.controllerCfg,u=void 0===s?{}:s,c=t.tick,l=void 0===c?{}:c,h=qe({data:r,tick:Object(o.a)({width:i-a},l)});return Ge({width:i,group:e,control:Object(o.a)({wrapperWidth:i},u)},h)}({group:f,width:n,padding:r,tick:c,data:e,controllerCfg:u});break;case"simple":d=function(t){var e=t.width,n=void 0===e?0:e,r=t.padding,i=void 0===r?0:r,a=t.group,s=t.data,u=void 0===s?[]:s,c=t.slider,l=void 0===c?{}:c,h=t.controllerCfg,f=void 0===h?{}:h,d=t.sliderTick,p=void 0===d?{}:d,g=Fe({data:u,width:n,slider:Object(o.a)({width:l.width||n-2*i,paddingTop:0},l),sliderTick:Object(o.a)({width:n-2*i},p)});return Ge({width:n,group:a,control:Object(o.a)({wrapperWidth:n},f)},g)}({group:f,width:n,padding:r,slider:s,data:e,controllerCfg:u,sliderTick:l})}var p=h.get("height");f.translate(0,p-d.height)},e.prototype.initEvent=function(){U("RANGE_CHANGE",Object(ht.F)(this.filterData.bind(this),200,{trailing:!0,leading:!0}))},e.prototype.destroy=function(){q={}}}(Ue),n(2).n.pointLineDistance),Ze={stroke:"#FA8C16",lineWidth:1},Qe=function(t){function e(e){return t.call(this,e)||this}return Object(o.c)(e,t),e.prototype.getDefaultCfgs=function(){return{line:Ze,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var e=t.item,n=(e.get("delegateShape")||e).getBBox(),r=e.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,r=t.itemAlignType;this.get("graph").getNodes().forEach((function(t){var i=t.getBBox(),o=t.get("id");!0===r||"horizontal"===r?(e[o+"tltr"]=[i.minX,i.minY,i.maxX,i.minY,t],e[o+"lcrc"]=[i.minX,i.centerY,i.maxX,i.centerY,t],e[o+"blbr"]=[i.minX,i.maxY,i.maxX,i.maxY,t]):"center"===r&&(e[o+"lcrc"]=[i.minX,i.centerY,i.maxX,i.centerY,t]),!0===r||"vertical"===r?(n[o+"tlbl"]=[i.minX,i.minY,i.minX,i.maxY,t],n[o+"tcbc"]=[i.centerX,i.minY,i.centerX,i.maxY,t],n[o+"trbr"]=[i.maxX,i.minY,i.maxX,i.maxY,t]):"center"===r&&(n[o+"tcbc"]=[i.centerX,i.minY,i.centerX,i.maxY,t])}))},e.prototype.show=function(t,e){var n=Object(ht.B)({},t);return this.itemAlign(t,e,n),t},e.prototype.itemAlign=function(t,e,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+e.width/2,y:n.y},c={x:n.x+e.width/2,y:n.y+e.height/2},l={x:n.x+e.width/2,y:n.y+e.height},h={x:n.x,y:n.y+e.height/2},f={x:n.x+e.width,y:n.y+e.height/2},d=[],p=[],g=null;if(this.clearAlignLine(),Object(ht.d)(o,(function(t){t[4].isVisible&&(d.push(r.getLineDisObject(t,u)),d.push(r.getLineDisObject(t,c)),d.push(r.getLineDisObject(t,l)))})),Object(ht.d)(a,(function(t){t[4].isVisible&&(p.push(r.getLineDisObject(t,h)),p.push(r.getLineDisObject(t,c)),p.push(r.getLineDisObject(t,f)))})),d.sort((function(t,e){return t.dis-e.dis})),p.sort((function(t,e){return t.dis-e.dis})),0!==d.length&&d[0].dis<s){t.y=d[0].line[1]-d[0].point.y+n.y,g={type:"item",horizontals:[d[0]]};for(var v=1;v<3;v++)d[0].dis===d[v].dis&&g.horizontals.push(d[v])}if(0!==p.length&&p[0].dis<s){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=e,this.addAlignLine(g))},e.prototype.addAlignLine=function(t){var e=t.bbox,n=t.type,r=t.horizontals,i=t.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&Object(ht.d)(r,(function(t){var n,r,i=t.line,o=t.point,c=(i[0]+i[2])/2;o.x<c?(n=o.x-e.width/2,r=Math.max(i[0],i[2])):(n=o.x+e.width/2,r=Math.min(i[0],i[2]));var l=Object(ht.B)({x1:n,y1:i[1],x2:r,y2:i[1]},a),h=u.addShape("line",{attrs:l,capture:!1});s.push(h)})),i&&Object(ht.d)(i,(function(t){var n,r,i=t.line,o=t.point,c=(i[1]+i[3])/2;o.y<c?(n=o.y-e.height/2,r=Math.max(i[1],i[3])):(n=o.y+e.height/2,r=Math.min(i[1],i[3]));var l=Object(ht.B)({x1:i[0],y1:n,x2:i[0],y2:r},a),h=u.addShape("line",{attrs:l,capture:!1});s.push(h)})))},e.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:Ve(t,e)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(ht.d)(t,(function(t){t.remove()})),t.length=0},e.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines;this.get("graph").getNodes().forEach((function(t){var r=t.get("id");delete e[r+"tltr"],delete e[r+"lcrc"],delete e[r+"blbr"],delete n[r+"tlbl"],delete n[r+"tcbc"],delete n[r+"trbr"]})),this.clearAlignLine()},e}(Ue)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assembleFont=e.getTextWidth=e.getLineSpaceing=e.getTextHeight=void 0;var r=n(264),i=n(265);function o(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var i=1;return r.isString(t)&&(i=t.split("\n").length),i>1?e*i+o(e,n)*(i-1):e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var n=i.getOffScreenContext(),o=0;if(r.isNil(t)||""===t)return o;if(n.save(),n.font=e,r.isString(t)&&t.includes("\n")){var a=t.split("\n");r.each(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},,function(t,e){},function(t,e){},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(1);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(r.c)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e}}(n(91).a)},function(t,e,n){"use strict";var r=n(1),i=n(92),o=n(21);!function(t){function e(e){return t.call(this,e)||this}Object(r.c)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var s=Object(o.c)(e,[t.minX,t.minY]),u=Object(o.c)(e,[t.maxX,t.minY]),c=Object(o.c)(e,[t.minX,t.maxY]),l=Object(o.c)(e,[t.maxX,t.maxY]);n=Math.min(s[0],u[0],c[0],l[0]),i=Math.max(s[0],u[0],c[0],l[0]),r=Math.min(s[1],u[1],c[1],l[1]),a=Math.max(s[1],u[1],c[1],l[1])}var h=this.attrs;if(h.shadowColor){var f=h.shadowBlur,d=void 0===f?0:f,p=h.shadowOffsetX,g=void 0===p?0:p,v=h.shadowOffsetY,y=void 0===v?0:v,m=n-d+g,b=i+d+g,x=r-d+y,w=a+d+y;n=Math.min(n,m),i=Math.max(i,b),r=Math.min(r,x),a=Math.max(a,w)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1}}(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(n(128)),i=n(37),o=n(18),a=d(n(129)),s=d(n(131)),u=d(n(132)),c=d(n(96)),l=d(n(134)),h=d(n(137)),f=d(n(138));function d(t){return t&&t.__esModule?t:{default:t}}var p=function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(e=e||{}).recognizers=(0,r.default)(e.recognizers,t.defaults.preset),new f.default(e)};e.default=p,p.defaults={domEvents:!1,touchAction:i.TOUCH_ACTION_COMPUTE,enable:!0,inputClass:null,preset:[[a.default,{enable:!1}],[s.default,{enable:!1},["rotate"]],[u.default,{direction:o.DIRECTION_HORIZONTAL}],[c.default,{direction:o.DIRECTION_HORIZONTAL},["swipe"]],[l.default],[l.default,{event:"doubletap",taps:2},["tap"]],[h.default]]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===t?e:t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h,f=(h=n(55))&&h.__esModule?h:{default:h},d=n(37),p=n(27);var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,c=u(h);function h(){return i(this,h),c.apply(this,arguments)}return e=h,(n=[{key:"getTouchAction",value:function(){return[d.TOUCH_ACTION_NONE]}},{key:"attrTest",value:function(t){return a(l(h.prototype),"attrTest",this).call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&p.STATE_BEGAN)}}])&&o(e.prototype,n),r&&o(e,r),h}(f.default);e.default=g,g.prototype.defaults={event:"rotate",threshold:0,pointers:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(Array.isArray(t))return(0,i.default)(t,n[e],n),!0;return!1};var r,i=(r=n(46))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h,f=(h=n(55))&&h.__esModule?h:{default:h},d=n(37),p=n(27);var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,c=u(h);function h(){return i(this,h),c.apply(this,arguments)}return e=h,(n=[{key:"getTouchAction",value:function(){return[d.TOUCH_ACTION_NONE]}},{key:"attrTest",value:function(t){return a(l(h.prototype),"attrTest",this).call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&p.STATE_BEGAN)}},{key:"emit",value:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}a(l(h.prototype),"emit",this).call(this,t)}}])&&o(e.prototype,n),r&&o(e,r),h}(f.default);e.default=g,g.prototype.defaults={event:"pinch",threshold:0,pointers:2}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=v(n(55)),f=n(32),d=n(18),p=v(n(96)),g=v(n(133));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,c=u(h);function h(){return i(this,h),c.apply(this,arguments)}return e=h,(n=[{key:"getTouchAction",value:function(){return p.default.prototype.getTouchAction.call(this)}},{key:"attrTest",value:function(t){var e,n=this.options.direction;return n&(d.DIRECTION_HORIZONTAL|d.DIRECTION_VERTICAL)?e=t.overallVelocity:n&d.DIRECTION_HORIZONTAL?e=t.overallVelocityX:n&d.DIRECTION_VERTICAL&&(e=t.overallVelocityY),a(l(h.prototype),"attrTest",this).call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&(0,f.abs)(e)>this.options.velocity&&t.eventType&d.INPUT_END}},{key:"emit",value:function(t){var e=(0,g.default)(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}])&&o(e.prototype,n),r&&o(e,r),h}(h.default);e.default=y,y.prototype.defaults={event:"swipe",threshold:10,velocity:.3,direction:d.DIRECTION_HORIZONTAL|d.DIRECTION_VERTICAL,pointers:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t===r.DIRECTION_DOWN)return"down";if(t===r.DIRECTION_UP)return"up";if(t===r.DIRECTION_LEFT)return"left";if(t===r.DIRECTION_RIGHT)return"right";return""};var r=n(18)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=v(n(135)),h=v(n(56)),f=n(37),d=n(18),p=n(27),g=v(n(97));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments)).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}return e=c,(n=[{key:"getTouchAction",value:function(){return[f.TOUCH_ACTION_MANIPULATION]}},{key:"process",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&d.INPUT_START&&0===this.count)return this.failTimeout();if(i&&o&&r){if(t.eventType!==d.INPUT_END)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||(0,g.default)(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=(0,l.default)((function(){e.state=p.STATE_RECOGNIZED,e.tryEmit()}),n.interval,this),p.STATE_BEGAN):p.STATE_RECOGNIZED}return p.STATE_FAILED}},{key:"failTimeout",value:function(){var t=this;return this._timer=(0,l.default)((function(){t.state=p.STATE_FAILED}),this.options.interval,this),p.STATE_FAILED}},{key:"reset",value:function(){clearTimeout(this._timer)}},{key:"emit",value:function(){this.state===p.STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}])&&o(e.prototype,n),r&&o(e,r),c}(h.default);e.default=y,y.prototype.defaults={event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return setTimeout((0,i.default)(t,n),e)};var r,i=(r=n(136))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=v(n(56)),h=n(27),f=n(32),d=v(n(135)),p=n(37),g=n(18);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments))._timer=null,t._input=null,t}return e=c,(n=[{key:"getTouchAction",value:function(){return[p.TOUCH_ACTION_AUTO]}},{key:"process",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||t.eventType&(g.INPUT_END|g.INPUT_CANCEL)&&!o)this.reset();else if(t.eventType&g.INPUT_START)this.reset(),this._timer=(0,d.default)((function(){e.state=h.STATE_RECOGNIZED,e.tryEmit()}),n.time,this);else if(t.eventType&g.INPUT_END)return h.STATE_RECOGNIZED;return h.STATE_FAILED}},{key:"reset",value:function(){clearTimeout(this._timer)}},{key:"emit",value:function(t){this.state===h.STATE_RECOGNIZED&&(t&&t.eventType&g.INPUT_END?this.manager.emit("".concat(this.options.event,"up"),t):(this._input.timeStamp=(0,f.now)(),this.manager.emit(this.options.event,this._input)))}}])&&o(e.prototype,n),r&&o(e,r),c}(l.default);e.default=y,y.prototype.defaults={event:"press",pointers:1,time:251,threshold:9}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=p(n(66)),o=p(n(127)),a=p(n(139)),s=p(n(252)),u=p(n(46)),c=p(n(57)),l=p(n(130)),h=p(n(68)),f=p(n(56)),d=n(27);function p(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,i.default)({},o.default.defaults,e||{}),this.handlers={},this.filters=[],this.session={},this.recognizers=[],this.input=(0,s.default)(this),this.touchAction=new a.default(this,this.options.touchAction),(0,u.default)(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e,n,p;return e=t,(n=[{key:"set",value:function(t){return(0,i.default)(this.options,t),t.touchAction&&this.touchAction.update(),this}},{key:"stop",value:function(t){this.session.stopped=t?2:1}},{key:"addFilter",value:function(t){if("function"!=typeof t)throw new Error("filter must be a function");this.filters.push(t)}},{key:"recognize",value:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&d.STATE_RECOGNIZED)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(d.STATE_BEGAN|d.STATE_CHANGED|d.STATE_ENDED)&&(i=e.curRecognizer=n),o++}}},{key:"get",value:function(t){if(t instanceof f.default)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null}},{key:"add",value:function(t){if((0,l.default)(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t}},{key:"remove",value:function(t){if((0,l.default)(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=(0,c.default)(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this}},{key:"on",value:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return(0,u.default)((0,h.default)(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}}},{key:"off",value:function(t,e){if(void 0!==t){var n=this.handlers;return(0,u.default)((0,h.default)(t),(function(t){e?n[t]&&n[t].splice((0,c.default)(n[t],e),1):delete n[t]})),this}}},{key:"emit",value:function(t,e){var n=this.handlers[t]&&this.handlers[t].slice();if(this.filters,n&&n.length){t.startsWith("origin_input")||(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault&&e.srcEvent.preventDefault()});for(var r=0;r<n.length;)n[r](e),r++}}},{key:"destroy",value:function(){this.handlers={},this.filters=[],this.session={},this.input.destroy()}}])&&r(e.prototype,n),p&&r(e,p),t}();e.default=g},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(37),o=n(18),a=l(n(46)),s=l(n(67)),u=l(n(140)),c=l(n(251));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manager=e,this.set(n)}var e,n,l;return e=t,(n=[{key:"set",value:function(t){t===i.TOUCH_ACTION_COMPUTE&&(t=this.compute()),this.actions=t.toLowerCase().trim()}},{key:"update",value:function(){this.set(this.manager.options.touchAction)}},{key:"compute",value:function(){var t=[];return(0,a.default)(this.manager.recognizers,(function(e){(0,s.default)(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),(0,c.default)(t.join(" "))}},{key:"preventDefaults",value:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,a=(0,u.default)(r,i.TOUCH_ACTION_NONE)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_NONE],s=(0,u.default)(r,i.TOUCH_ACTION_PAN_Y)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_PAN_Y],c=(0,u.default)(r,i.TOUCH_ACTION_PAN_X)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_PAN_X];if(a){var l=1===t.pointers.length,h=t.distance<2,f=t.deltaTime<250;if(l&&h&&f)return}if(!c||!s)return a||s&&n&o.DIRECTION_HORIZONTAL||c&&n&o.DIRECTION_VERTICAL?this.preventSrc(e):void 0}}},{key:"preventSrc",value:function(t){this.manager.session.prevented=!0,t.preventDefault()}}])&&r(e.prototype,n),l&&r(e,l),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.indexOf(e)>-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length;if(1===e)return{x:(0,r.round)(t[0].clientX),y:(0,r.round)(t[0].clientY)};var n=0,i=0,o=0;for(;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:(0,r.round)(n/e),y:(0,r.round)(i/e)}};var r=n(32)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){n||(n=r.PROPS_XY);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI};var r=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t===e)return i.DIRECTION_NONE;if((0,r.abs)(t)>=(0,r.abs)(e))return t<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT;return e<0?i.DIRECTION_UP:i.DIRECTION_DOWN};var r=n(32),i=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return{x:e/t||0,y:n/t||0}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(18),h=p(n(99)),f=p(n(147)),d=(p(n(98)),p(n(148)));function p(t){return t&&t.__esModule?t:{default:t}}var g={touchstart:l.INPUT_START,touchmove:l.INPUT_MOVE,touchend:l.INPUT_END,touchcancel:l.INPUT_CANCEL},v="touchstart touchmove touchend touchcancel",y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),c.prototype.evTarget=v,c.prototype.targetIds={},c.prototype.events=v,(t=u.apply(this,arguments)).evTarget=v,t.targetIds={},t}return e=c,(n=[{key:"handler",value:function(t){var e=g[t.type],n=m.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:l.INPUT_TYPE_TOUCH,srcEvent:t})}}])&&o(e.prototype,n),r&&o(e,r),c}(h.default);function m(t,e){var n,r,i=(0,f.default)(t.touches),o=this.targetIds;if(e&(l.INPUT_START|l.INPUT_MOVE)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=(0,f.default)(t.changedTouches),s=[];this.target;if(r=i,e===l.INPUT_START)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),e&(l.INPUT_END|l.INPUT_CANCEL)&&delete o[a[n].identifier],n++;return s.length?[(0,d.default)(r.concat(s),"identifier",!0),s]:void 0}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.addEventListener(e,n,!1)}))},e.addManagerListeners=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.on("origin_input:".concat(e),n)}))};var r=o(n(46)),i=o(n(68));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.prototype.slice.call(t,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=[],o=[],a=0;for(;a<t.length;){var s=e?t[a][e]:t[a];(0,i.default)(o,s)<0&&r.push(t[a]),o[a]=s,a++}n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort());return r};var r,i=(r=n(57))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r="DEPRECATED METHOD: ".concat(e,"\n").concat(n," AT \n");return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=console.warn;return i&&i(r,n),t.apply(this,arguments)}}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,((r=n(149))&&r.__esModule?r:{default:r}).default)((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`.");e.default=i},function(t,e,n){var r=n(271),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?e=0:r===s?e=(i-o)/u:i===s?e=2+(o-r)/u:o===s&&(e=4+(r-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,i,o,a=t[0]/255,s=t[1]/255,u=t[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),h=function(t){return(c-t)/6/l+.5};return 0===l?i=o=0:(o=l/c,e=h(a),n=h(s),r=h(u),a===c?i=r-n:s===c?i=1/3+e-r:u===c&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var c=r[u],l=(o=t,a=c,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));l<s&&(s=l,n=u)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c]=255*o;return i},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,i,o,a,s,u=t[0]/360,c=t[1]/100,l=t[2]/100,h=c+l;switch(h>1&&(c/=h,l/=h),r=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(r=1-r),i=c+r*((n=1-l)-c),e){default:case 6:case 0:o=n,a=i,s=c;break;case 1:o=i,a=n,s=c;break;case 2:o=c,a=n,s=i;break;case 3:o=c,a=i,s=n;break;case 4:o=i,a=c,s=n;break;case 5:o=n,a=c,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r,i=t[0];e=t[1]/500+(n=(i+16)/116),r=n-t[2]/200;var o=Math.pow(n,3),a=Math.pow(e,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},a.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return e=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=e%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"easeLinear",(function(){return E})),n.d(r,"easeQuad",(function(){return j})),n.d(r,"easeQuadIn",(function(){return T})),n.d(r,"easeQuadOut",(function(){return P})),n.d(r,"easeQuadInOut",(function(){return j})),n.d(r,"easeCubic",(function(){return I})),n.d(r,"easeCubicIn",(function(){return N})),n.d(r,"easeCubicOut",(function(){return A})),n.d(r,"easeCubicInOut",(function(){return I})),n.d(r,"easePoly",(function(){return B})),n.d(r,"easePolyIn",(function(){return _})),n.d(r,"easePolyOut",(function(){return L})),n.d(r,"easePolyInOut",(function(){return B})),n.d(r,"easeSin",(function(){return X})),n.d(r,"easeSinIn",(function(){return Y})),n.d(r,"easeSinOut",(function(){return F})),n.d(r,"easeSinInOut",(function(){return X})),n.d(r,"easeExp",(function(){return q})),n.d(r,"easeExpIn",(function(){return W})),n.d(r,"easeExpOut",(function(){return H})),n.d(r,"easeExpInOut",(function(){return q})),n.d(r,"easeCircle",(function(){return V})),n.d(r,"easeCircleIn",(function(){return G})),n.d(r,"easeCircleOut",(function(){return U})),n.d(r,"easeCircleInOut",(function(){return V})),n.d(r,"easeBounce",(function(){return K})),n.d(r,"easeBounceIn",(function(){return Q})),n.d(r,"easeBounceOut",(function(){return K})),n.d(r,"easeBounceInOut",(function(){return $})),n.d(r,"easeBack",(function(){return et})),n.d(r,"easeBackIn",(function(){return J})),n.d(r,"easeBackOut",(function(){return tt})),n.d(r,"easeBackInOut",(function(){return et})),n.d(r,"easeElastic",(function(){return it})),n.d(r,"easeElasticIn",(function(){return rt})),n.d(r,"easeElasticOut",(function(){return it})),n.d(r,"easeElasticInOut",(function(){return ot}));var i=n(1),o=n(210),a=n(91),s=n(5),u=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l,h,f=0,d=0,p=0,g=0,v=0,y=0,m="object"===("undefined"==typeof performance?"undefined":c(performance))&&performance.now?performance:Date,b="object"===("undefined"==typeof window?"undefined":c(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return v||(b(w),v=m.now()+y)}function w(){v=0}function M(){this._call=this._time=this._next=null}function O(t,e,n){var r=new M;return r.restart(t,e,n),r}function S(){v=(g=m.now())+y,f=d=0;try{!function(){x(),++f;for(var t,e=l;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--f}()}finally{f=0,function(){var t,e,n=l,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:l=e);h=t,k(r)}(),v=0}}function C(){var t=m.now(),e=t-g;e>1e3&&(y-=e,g=t)}function k(t){f||(d&&(d=clearTimeout(d)),t-v>24?(t<1/0&&(d=setTimeout(S,t-m.now()-y)),p&&(p=clearInterval(p))):(p||(g=m.now(),p=setInterval(C,1e3)),f=1,b(S)))}function E(t){return+t}function T(t){return t*t}function P(t){return t*(2-t)}function j(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function N(t){return t*t*t}function A(t){return--t*t*t+1}function I(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}M.prototype=O.prototype={constructor:M,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?x():+n)+(null==e?0:+e),this._next||h===this||(h?h._next=this:l=this,h=this),this._call=t,this._time=n,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}};var _=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),L=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),B=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),D=Math.PI,R=D/2;function Y(t){return 1==+t?1:1-Math.cos(t*R)}function F(t){return Math.sin(t*R)}function X(t){return(1-Math.cos(D*t))/2}function z(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function W(t){return z(1-+t)}function H(t){return 1-z(t)}function q(t){return((t*=2)<=1?z(1-t):2-z(t-1))/2}function G(t){return 1-Math.sqrt(1-t*t)}function U(t){return Math.sqrt(1- --t*t)}function V(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Z=7.5625;function Q(t){return 1-K(1-t)}function K(t){return(t=+t)<4/11?Z*t*t:t<8/11?Z*(t-=6/11)*t+3/4:t<10/11?Z*(t-=9/11)*t+15/16:Z*(t-=21/22)*t+63/64}function $(t){return((t*=2)<=1?1-K(1-t):K(t-1)+1)/2}var J=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),tt=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),et=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),nt=2*Math.PI,rt=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return e*z(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),it=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return 1-e*z(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),ot=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return((t=2*t-1)<0?e*z(-t)*Math.sin((r-t)/n):2-e*z(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),at=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function st(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ut(){}var ct="\\s*([+-]?\\d+)\\s*",lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ft=/^#([0-9a-f]{3,8})$/,dt=new RegExp("^rgb\\("+[ct,ct,ct]+"\\)$"),pt=new RegExp("^rgb\\("+[ht,ht,ht]+"\\)$"),gt=new RegExp("^rgba\\("+[ct,ct,ct,lt]+"\\)$"),vt=new RegExp("^rgba\\("+[ht,ht,ht,lt]+"\\)$"),yt=new RegExp("^hsl\\("+[lt,ht,ht]+"\\)$"),mt=new RegExp("^hsla\\("+[lt,ht,ht,lt]+"\\)$"),bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xt(){return this.rgb().formatHex()}function wt(){return this.rgb().formatRgb()}function Mt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ot(e):3===n?new Et(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?St(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?St(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dt.exec(t))?new Et(e[1],e[2],e[3],1):(e=pt.exec(t))?new Et(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gt.exec(t))?St(e[1],e[2],e[3],e[4]):(e=vt.exec(t))?St(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=yt.exec(t))?Nt(e[1],e[2]/100,e[3]/100,1):(e=mt.exec(t))?Nt(e[1],e[2]/100,e[3]/100,e[4]):bt.hasOwnProperty(t)?Ot(bt[t]):"transparent"===t?new Et(NaN,NaN,NaN,0):null}function Ot(t){return new Et(t>>16&255,t>>8&255,255&t,1)}function St(t,e,n,r){return r<=0&&(t=e=n=NaN),new Et(t,e,n,r)}function Ct(t){return t instanceof ut||(t=Mt(t)),t?new Et((t=t.rgb()).r,t.g,t.b,t.opacity):new Et}function kt(t,e,n,r){return 1===arguments.length?Ct(t):new Et(t,e,n,null==r?1:r)}function Et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Tt(){return"#"+jt(this.r)+jt(this.g)+jt(this.b)}function Pt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function jt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Nt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function At(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof ut||(t=Mt(t)),!t)return new It;if(t instanceof It)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new It(a,s,u,t.opacity)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _t(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Lt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}at(ut,Mt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xt,formatHex:xt,formatHsl:function(){return At(this).formatHsl()},formatRgb:wt,toString:wt}),at(Et,kt,st(ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tt,formatHex:Tt,formatRgb:Pt,toString:Pt})),at(It,(function(t,e,n,r){return 1===arguments.length?At(t):new It(t,e,n,null==r?1:r)}),st(ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Et(_t(t>=240?t-240:t+120,i,r),_t(t,i,r),_t(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Bt=function(t){return function(){return t}};function Dt(t,e){return function(n){return t+n*e}}function Rt(t){return 1==(t=+t)?Yt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Bt(isNaN(e)?n:e)}}function Yt(t,e){var n=e-t;return n?Dt(t,n):Bt(isNaN(t)?e:t)}var Ft=function t(e){var n=Rt(e);function r(t,e){var r=n((t=kt(t)).r,(e=kt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Yt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Xt(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=kt(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Xt((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Lt((n-r/e)*e,a,i,o,s)}})),Xt((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Lt((n-r/e)*e,i,o,a,s)}}));var zt=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Wt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ht(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Jt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var qt=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Gt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Vt=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Ut(t)||(t={}),null!==e&&"object"===Ut(e)||(e={}),e)n in t?r[n]=Jt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qt=new RegExp(Zt.source,"g");var Kt=function(t,e){var n,r,i,o=Zt.lastIndex=Qt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Zt.exec(t))&&(r=Qt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Gt(n,r)})),o=Qt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Jt=function(t,e){var n,r=$t(e);return null==e||"boolean"===r?Bt(e):("number"===r?Gt:"string"===r?(n=Mt(e))?(e=n,Ft):Kt:e instanceof Mt?Ft:e instanceof Date?qt:Wt(e)?zt:Array.isArray(e)?Ht:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Vt:Gt)(t,e)},te=n(30),ee=[1,0,0,0,1,0,0,0,1];function ne(t,e,n){var i,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,s=e.easing;if(n=n-o-e.delay,e.repeat)i=n%a/a,i=r[s](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=r[s](i)}if(e.onFrame){var c=e.onFrame(i);t.attr(c)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,c,l;for(var h in o)if(!Object(u.p)(i[h],o[h]))if("path"===h){var f=o[h],d=i[h];f.length>d.length?(f=te.c(o[h]),d=te.c(i[h]),d=te.a(d,f),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f):e.pathFormatted||(f=te.c(o[h]),d=te.c(i[h]),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f,e.pathFormatted=!0),r[h]=[];for(var p=0;p<f.length;p++){for(var g=f[p],v=d[p],y=[],m=0;m<g.length;m++)Object(u.s)(g[m])&&v&&Object(u.s)(v[m])?(a=Jt(v[m],g[m]),y.push(a(n))):y.push(g[m]);r[h].push(y)}}else if("matrix"===h){var b=(c=i[h]||ee,(Wt(l=o[h]||ee)?zt:Ht)(c,l))(n);r[h]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(h)&&(s=o[h],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[h]=o[h]:Object(u.q)(o[h])||(a=Jt(i[h],o[h]),r[h]=a(n));t.attr(r)}}(t,e,i);return!1}var re=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=O((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],ne(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ie=n(87),oe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ae(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function se(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Object(s.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var ue=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(oe,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(oe,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new ie.a(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,l=a.clientY-t.clientY;u>120||c*c+l*l>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,ae(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||se(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{ae(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ce=Object(o.a)(),le=ce&&"firefox"===ce.name;!function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}Object(i.c)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(s.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new ue({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new re(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");s.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");s.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(le&&!Object(s.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(s.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))}}(a.a)},,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"distance",(function(){return l})),n.d(r,"isNumberEqual",(function(){return h})),n.d(r,"getBBoxByArray",(function(){return f})),n.d(r,"getBBoxRange",(function(){return d})),n.d(r,"piMod",(function(){return p}));var i=new Map;function o(t,e){i.set(t,e)}var a=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},s=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}};function u(t){return Math.min.apply(null,t)}function c(t){return Math.max.apply(null,t)}function l(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function h(t,e){return Math.abs(t-e)<.001}function f(t,e){var n=u(t),r=u(e);return{x:n,y:r,width:c(t)-n,height:c(e)-r}}function d(t,e,n,r){return{minX:u([t,n]),maxX:c([t,n]),minY:u([e,r]),maxY:c([e,r])}}function p(t){return(t+2*Math.PI)%(2*Math.PI)}n(52);function g(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function v(t,e,n){var r=t+n-2*e;if(h(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var y=function(t,e,n,r,i,o){var a=v(t,n,i)[0],s=v(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(g(t,n,i,a)),void 0!==s&&c.push(g(e,r,o,s)),f(u,c)};function m(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function b(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,l=[];if(h(s,0))h(u,0)||(i=-c/u)>=0&&i<=1&&l.push(i);else{var f=u*u-4*s*c;h(f,0)?l.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&l.push(i),o>=0&&o<=1&&l.push(o))}return l}var x=function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],l=b(t,n,i,a),h=b(e,r,o,s),d=0;d<l.length;d++)u.push(m(t,n,i,a,l[d]));for(d=0;d<h.length;d++)c.push(m(e,r,o,s,h[d]));return f(u,c)};function w(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function M(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var O=function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,l=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;o<a?o<f&&f<a&&l.push(f):a<f&&f<o&&l.push(f)}for(h=0;h<l.length;h++){var d=w(t,0,n,r,i,l[h]);d<u&&(u=d),d>c&&(c=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var b=M(0,e,n,r,i,y[h]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function S(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function C(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=S(e,n.getCanvasBBox())),r&&(e=S(e,r.getCanvasBBox())),e}var k=n(45),E=n(35),T=n(0);function P(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(T.t)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(u/2-c)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(l-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}o("rect",a),o("image",a),o("circle",s),o("marker",s),o("polyline",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}var s=r.getBBoxByArray(n,i),u=s.x,c=s.y,l={minX:u,minY:c,maxX:u+s.width,maxY:c+s.height};return{x:(l=C(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),o("polygon",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}return r.getBBoxByArray(n,i)})),o("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(k.a)(e));var u,c=Object(k.c)(i,s);if(c){var l=e.textAlign,h=e.textBaseline,f=Object(k.b)(i,o,a),d={x:n,y:r-f};l&&("end"===l||"right"===l?d.x-=c:"center"===l&&(d.x-=c/2)),h&&("top"===h?d.y+=f:"middle"===h&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u})),o("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=y(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=x(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var l=g.arcParams;c=O(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var h=Object(T.A)(n),f=Object(T.A)(r),d=Object(T.z)(n),p=Object(T.z)(r);if(0===i.length)return{x:h,y:f,width:d-h,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===h?h-=P(g,e).xExtra:a[0]===d&&(d+=P(g,e).xExtra),a[1]===f?f-=P(g,e).yExtra:a[1]===p&&(p+=P(g,e).yExtra)}return{x:h,y:f,width:d-h,height:p-f}}(t.get("segments")||Object(E.c)(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=C(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),o("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=C(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),o("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return""!==t&&l.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-u.length))):u=[];var l=u.join("."),f=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=c.exec(t);return p&&p[1]?new a(n,l,f,p[1]):new i(n,l,f)}}).call(this,n(124))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return""!==t&&l.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-u.length))):u=[];var l=u.join("."),f=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=c.exec(t);return p&&p[1]?new a(n,l,f,p[1]):new i(n,l,f)}}).call(this,n(124))},function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=[],void 0===(o="function"==typeof(r=function(){var n=function(){var t={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},e={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},n={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},r={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function i(t){return void 0===t}function o(t){return"row"===t||"row-reverse"===t}function a(t,e){if(void 0!==t.style.marginStart&&o(e))return t.style.marginStart;var n=null;switch(e){case"row":n=t.style.marginLeft;break;case"row-reverse":n=t.style.marginRight;break;case"column":n=t.style.marginTop;break;case"column-reverse":n=t.style.marginBottom}return void 0!==n?n:void 0!==t.style.margin?t.style.margin:0}function s(t,e){if(void 0!==t.style.marginEnd&&o(e))return t.style.marginEnd;var n=null;switch(e){case"row":n=t.style.marginRight;break;case"row-reverse":n=t.style.marginLeft;break;case"column":n=t.style.marginBottom;break;case"column-reverse":n=t.style.marginTop}return null!=n?n:void 0!==t.style.margin?t.style.margin:0}function u(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&o(e))return t.style.borderStartWidth;var n=null;switch(e){case"row":n=t.style.borderLeftWidth;break;case"row-reverse":n=t.style.borderRightWidth;break;case"column":n=t.style.borderTopWidth;break;case"column-reverse":n=t.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function c(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&o(e))return t.style.borderEndWidth;var n=null;switch(e){case"row":n=t.style.borderRightWidth;break;case"row-reverse":n=t.style.borderLeftWidth;break;case"column":n=t.style.borderBottomWidth;break;case"column-reverse":n=t.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function l(t,e){return function(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&o(e))return t.style.paddingStart;var n=null;switch(e){case"row":n=t.style.paddingLeft;break;case"row-reverse":n=t.style.paddingRight;break;case"column":n=t.style.paddingTop;break;case"column-reverse":n=t.style.paddingBottom}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+u(t,e)}function h(t,e){return function(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&o(e))return t.style.paddingEnd;var n=null;switch(e){case"row":n=t.style.paddingRight;break;case"row-reverse":n=t.style.paddingLeft;break;case"column":n=t.style.paddingBottom;break;case"column-reverse":n=t.style.paddingTop}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+c(t,e)}function f(t,e){return u(t,e)+c(t,e)}function d(t,e){return a(t,e)+s(t,e)}function p(t,e){return l(t,e)+h(t,e)}function g(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function v(t,e){if("rtl"===e){if("row"===t)return"row-reverse";if("row-reverse"===t)return"row"}return t}function y(t){return t.style.position?t.style.position:"relative"}function m(t){return"relative"===y(t)&&t.style.flex>0}function b(t,e){return t.layout[r[e]]+d(t,e)}function x(t,e){return void 0!==t.style[r[e]]&&t.style[r[e]]>=0}function w(t,e){return void 0!==t.style[e]}function M(t,e){return void 0!==t.style[e]?t.style[e]:0}function O(t,e,n){var r={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],o=n;return void 0!==i&&i>=0&&o>i&&(o=i),void 0!==r&&r>=0&&o<r&&(o=r),o}function S(t,e){return t>e?t:e}function C(t,e){void 0===t.layout[r[e]]&&x(t,e)&&(t.layout[r[e]]=S(O(t,e,t.style[r[e]]),p(t,e)))}function k(t,i,o){i.layout[e[o]]=t.layout[r[o]]-i.layout[r[o]]-i.layout[n[o]]}function E(n,r){return void 0!==n.style[t[r]]?M(n,t[r]):-M(n,e[r])}function T(c,T,j){var N=function(t,e){var n;return"inherit"===(n=t.style.direction?t.style.direction:"inherit")&&(n=void 0===e?"ltr":e),n}(c,j),A=v(function(t){return t.style.flexDirection?t.style.flexDirection:"column"}(c),N),I=function(t,e){return function(t){return"column"===t||"column-reverse"===t}(t)?v("row",e):"column"}(A,N),_=v("row",N);C(c,A),C(c,I),c.layout.direction=N,c.layout[t[A]]+=a(c,A)+E(c,A),c.layout[e[A]]+=s(c,A)+E(c,A),c.layout[t[I]]+=a(c,I)+E(c,I),c.layout[e[I]]+=s(c,I)+E(c,I);var L=c.children.length,B=p(c,_);if(function(t){return void 0!==t.style.measure}(c)){var D=!i(c.layout[r[_]]),R=void 0;R=x(c,_)?c.style.width:D?c.layout[r[_]]:T-d(c,_),R-=B;var Y=!x(c,_)&&!D,F=!x(c,"column")&&i(c.layout[r.column]);if(Y||F){var X=c.style.measure(R);Y&&(c.layout.width=X.width+B),F&&(c.layout.height=X.height+p(c,"column"))}if(0===L)return}var z,W,H,q,G=function(t){return"wrap"===t.style.flexWrap}(c),U=function(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}(c),V=l(c,A),Z=l(c,I),Q=p(c,A),K=p(c,I),$=!i(c.layout[r[A]]),J=!i(c.layout[r[I]]),tt=o(A),et=null,nt=null,rt=void 0;$&&(rt=c.layout[r[A]]-Q);for(var it=0,ot=0,at=0,st=0,ut=0,ct=0;ot<L;){var lt,ht=0,ft=0,dt=0,pt=0,gt=$&&"flex-start"===U||!$&&"center"!==U,vt=gt?L:it,yt=!0,mt=L,bt=null,xt=null,wt=V,Mt=0;for(z=it;z<L;++z){if((H=c.children[z]).lineIndex=ct,H.nextAbsoluteChild=null,H.nextFlexChild=null,"stretch"===(Nt=g(c,H))&&"relative"===y(H)&&J&&!x(H,I))H.layout[r[I]]=S(O(H,I,c.layout[r[I]]-K-d(H,I)),p(H,I));else if("absolute"===y(H))for(null===et&&(et=H),null!==nt&&(nt.nextAbsoluteChild=H),nt=H,W=0;W<2;W++)q=0!==W?"row":"column",!i(c.layout[r[q]])&&!x(H,q)&&w(H,t[q])&&w(H,e[q])&&(H.layout[r[q]]=S(O(H,q,c.layout[r[q]]-p(c,q)-d(H,q)-M(H,t[q])-M(H,e[q])),p(H,q)));var Ot=0;if($&&m(H)?(ft++,dt+=H.style.flex,null===bt&&(bt=H),null!==xt&&(xt.nextFlexChild=H),xt=H,Ot=p(H,A)+d(H,A)):(lt=void 0,tt||(lt=x(c,_)?c.layout[r[_]]-B:T-d(c,_)-B),0===at&&P(H,lt,N),"relative"===y(H)&&(pt++,Ot=b(H,A))),G&&$&&ht+Ot>rt&&z!==it){pt--,at=1;break}gt&&("relative"!==y(H)||m(H))&&(gt=!1,vt=z),yt&&("relative"!==y(H)||"stretch"!==Nt&&"flex-start"!==Nt||i(H.layout[r[I]]))&&(yt=!1,mt=z),gt&&(H.layout[n[A]]+=wt,$&&k(c,H,A),wt+=b(H,A),Mt=S(Mt,O(H,I,b(H,I)))),yt&&(H.layout[n[I]]+=st+Z,J&&k(c,H,I)),at=0,ht+=Ot,ot=z+1}var St=0,Ct=0,kt=0;if(kt=$?rt-ht:S(ht,0)-ht,0!==ft){var Et,Tt,Pt=kt/dt;for(xt=bt;null!==xt;)(Et=Pt*xt.style.flex+p(xt,A))!==(Tt=O(xt,A,Et))&&(kt-=Tt,dt-=xt.style.flex),xt=xt.nextFlexChild;for((Pt=kt/dt)<0&&(Pt=0),xt=bt;null!==xt;)xt.layout[r[A]]=O(xt,A,Pt*xt.style.flex+p(xt,A)),lt=void 0,x(c,_)?lt=c.layout[r[_]]-B:tt||(lt=T-d(c,_)-B),P(xt,lt,N),H=xt,xt=xt.nextFlexChild,H.nextFlexChild=null}else"flex-start"!==U&&("center"===U?St=kt/2:"flex-end"===U?St=kt:"space-between"===U?(kt=S(kt,0),Ct=ft+pt-1!=0?kt/(ft+pt-1):0):"space-around"===U&&(St=(Ct=kt/(ft+pt))/2));for(wt+=St,z=vt;z<ot;++z)"absolute"===y(H=c.children[z])&&w(H,t[A])?H.layout[n[A]]=M(H,t[A])+u(c,A)+a(H,A):(H.layout[n[A]]+=wt,$&&k(c,H,A),"relative"===y(H)&&(wt+=Ct+b(H,A),Mt=S(Mt,O(H,I,b(H,I)))));var jt=c.layout[r[I]];for(J||(jt=S(O(c,I,Mt+K),K)),z=mt;z<ot;++z)if("absolute"===y(H=c.children[z])&&w(H,t[I]))H.layout[n[I]]=M(H,t[I])+u(c,I)+a(H,I);else{var Nt,At=Z;if("relative"===y(H))if("stretch"===(Nt=g(c,H)))i(H.layout[r[I]])&&(H.layout[r[I]]=S(O(H,I,jt-K-d(H,I)),p(H,I)));else if("flex-start"!==Nt){var It=jt-K-b(H,I);At+="center"===Nt?It/2:It}H.layout[n[I]]+=st+At,J&&k(c,H,I)}st+=Mt,ut=S(ut,wt),ct+=1,it=ot}if(ct>1&&J){var _t=c.layout[r[I]]-K,Lt=_t-st,Bt=0,Dt=Z,Rt=function(t){return t.style.alignContent?t.style.alignContent:"flex-start"}(c);"flex-end"===Rt?Dt+=Lt:"center"===Rt?Dt+=Lt/2:"stretch"===Rt&&_t>st&&(Bt=Lt/ct);var Yt=0;for(z=0;z<ct;++z){var Ft=Yt,Xt=0;for(W=Ft;W<L;++W)if("relative"===y(H=c.children[W])){if(H.lineIndex!==z)break;i(H.layout[r[I]])||(Xt=S(Xt,H.layout[r[I]]+d(H,I)))}for(Yt=W,Xt+=Bt,W=Ft;W<Yt;++W)if("relative"===y(H=c.children[W])){var zt=g(c,H);if("flex-start"===zt)H.layout[n[I]]=Dt+a(H,I);else if("flex-end"===zt)H.layout[n[I]]=Dt+Xt-s(H,I)-H.layout[r[I]];else if("center"===zt){var Wt=H.layout[r[I]];H.layout[n[I]]=Dt+(Xt-Wt)/2}else"stretch"===zt&&(H.layout[n[I]]=Dt+a(H,I))}Dt+=Xt}}var Ht=!1,qt=!1;if($||(c.layout[r[A]]=S(O(c,A,ut+h(c,A)),Q),"row-reverse"!==A&&"column-reverse"!==A||(Ht=!0)),J||(c.layout[r[I]]=S(O(c,I,st+K),K),"row-reverse"!==I&&"column-reverse"!==I||(qt=!0)),Ht||qt)for(z=0;z<L;++z)H=c.children[z],Ht&&k(c,H,A),qt&&k(c,H,I);for(nt=et;null!==nt;){for(W=0;W<2;W++)q=0!==W?"row":"column",!i(c.layout[r[q]])&&!x(nt,q)&&w(nt,t[q])&&w(nt,e[q])&&(nt.layout[r[q]]=S(O(nt,q,c.layout[r[q]]-f(c,q)-d(nt,q)-M(nt,t[q])-M(nt,e[q])),p(nt,q))),w(nt,e[q])&&!w(nt,t[q])&&(nt.layout[t[q]]=c.layout[r[q]]-nt.layout[r[q]]-M(nt,e[q]));H=nt,nt=nt.nextAbsoluteChild,H.nextAbsoluteChild=null}}function P(t,e,n){t.shouldUpdate=!0;var r=t.style.direction||"ltr";!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),T(t,e,n),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left)}return{layoutNodeImpl:T,computeLayout:P,fillNodes:function t(e){return e.layout&&!e.isDirty||(e.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),e.style||(e.style={}),e.children||(e.children=[]),e.children.forEach(t),e}}}();return"object"===a(e)&&(t.exports=n),function(t){n.fillNodes(t),n.computeLayout(t)}})?r.apply(e,i):r)||(t.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"registerGraph",(function(){return y}));var r=n(1),i=n(2);n.d(e,"Arrow",(function(){return i.d})),n.d(e,"Marker",(function(){return i.k})),n.d(e,"Shape",(function(){return i.m}));var o=n(39);n.d(e,"ICanvas",(function(){return o.ICanvas})),n.d(e,"IGroup",(function(){return o.IGroup})),n.d(e,"IShape",(function(){return o.IShape}));var a=n(31);n.d(e,"Algorithm",(function(){return a}));var s=n(93);n.d(e,"Graph",(function(){return s.a}));var u=n(29);n.d(e,"Layout",(function(){return u.a})),n.d(e,"registerLayout",(function(){return u.c}));var c=n(119);n.d(e,"SnapLine",(function(){return c.a}));var l=n(19);n.d(e,"Global",(function(){return l.a}));var h=n(40);n.d(e,"Util",(function(){return h.a}));n(477),n(478);n.d(e,"G6GraphEvent",(function(){return i.i})),n.d(e,"G6Event",(function(){return i.h})),n.d(e,"Node",(function(){return i.l})),n.d(e,"Edge",(function(){return i.g})),n.d(e,"Combo",(function(){return i.f})),n.d(e,"Hull",(function(){return i.j})),n.d(e,"registerNode",(function(){return i.r})),n.d(e,"registerCombo",(function(){return i.p})),n.d(e,"AbstractGraph",(function(){return i.b})),n.d(e,"registerEdge",(function(){return i.q})),n.d(e,"registerBehavior",(function(){return i.o})),n.d(e,"AbstractLayout",(function(){return i.c})),n.d(e,"AbstractEvent",(function(){return i.a})),n.d(e,"BaseGlobal",(function(){return i.e}));var f=n(152);for(var d in f)["default","Graph","Util","Layout","registerLayout","registerGraph","Global","Algorithm","Arrow","Marker","Shape","SnapLine","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(d)<0&&function(t){n.d(e,t,(function(){return f[t]}))}(d);var p=n(153);for(var d in p)["default","Graph","Util","Layout","registerLayout","registerGraph","Global","Algorithm","Arrow","Marker","Shape","SnapLine","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(d)<0&&function(t){n.d(e,t,(function(){return p[t]}))}(d);var g={version:l.a.version,Graph:s.a,Util:h.a,Layout:u.a,Layouts:u.b,registerLayout:u.c,unRegisterLayout:u.d,Global:l.a,registerBehavior:i.o,registerCombo:i.p,registerEdge:i.q,registerNode:i.r,Algorithm:a,Arrow:i.d,Marker:i.k,Shape:i.m,SnapLine:c.a};var v,y=(v=s.b,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return v.apply(null,Object(r.g)(t,[g]))});g.registerGraph=y,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={};return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(e){return t[e]=!0})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return r++};var r=1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.manager;if(n)return n.get(t);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t&r.STATE_CANCELLED)return"cancel";if(t&r.STATE_ENDED)return"end";if(t&r.STATE_CHANGED)return"move";if(t&r.STATE_BEGAN)return"start";return""};var r=n(27)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t,o.TOUCH_ACTION_NONE))return o.TOUCH_ACTION_NONE;var e=(0,i.default)(t,o.TOUCH_ACTION_PAN_X),n=(0,i.default)(t,o.TOUCH_ACTION_PAN_Y);if(e&&n)return o.TOUCH_ACTION_NONE;if(e||n)return e?o.TOUCH_ACTION_PAN_X:o.TOUCH_ACTION_PAN_Y;if((0,i.default)(t,o.TOUCH_ACTION_MANIPULATION))return o.TOUCH_ACTION_MANIPULATION;return o.TOUCH_ACTION_AUTO};var r,i=(r=n(140))&&r.__esModule?r:{default:r},o=n(37)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.default;t.options.inputClass&&(e=inputClass);return new e(t,r.default)};var r=o(n(253)),i=o(n(145));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=n.pointers.length,a=n.changedPointers.length,s=e&i.INPUT_START&&r-a==0,u=e&(i.INPUT_END|i.INPUT_CANCEL)&&r-a==0;n.isFirst=!!s,n.isFinal=!!u,s&&(t.session={});n.eventType=e,(0,o.default)(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n};var r,i=n(18),o=(r=n(254))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.session,p=e.pointers,g=p.length;n.firstInput||(n.firstInput=(0,i.default)(e));g>1&&!n.firstMultiple?n.firstMultiple=(0,i.default)(e):1===g&&(n.firstMultiple=!1);var v=n.firstInput,y=n.firstMultiple,m=y?y.center:v.center,b=e.center=(0,o.default)(p);e.timeStamp=(0,r.now)(),e.deltaTime=e.timeStamp-v.timeStamp,e.angle=(0,s.default)(m,b),e.distance=(0,a.default)(m,b),(0,c.default)(n,e),e.offsetDirection=(0,u.default)(e.deltaX,e.deltaY);var x=(0,l.default)(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=x.x,e.overallVelocityY=x.y,e.overallVelocity=(0,r.abs)(x.x)>(0,r.abs)(x.y)?x.x:x.y,e.scale=y?(0,h.default)(y.pointers,p):1,e.rotation=y?(0,f.default)(y.pointers,p):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,(0,d.default)(n,e)};var r=n(32),i=(p(n(98)),p(n(255))),o=p(n(141)),a=p(n(97)),s=p(n(142)),u=p(n(143)),c=p(n(256)),l=p(n(144)),h=p(n(257)),f=p(n(258)),d=p(n(259));function p(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[],n=0;for(;n<t.pointers.length;)e[n]={clientX:(0,i.round)(t.pointers[n].clientX),clientY:(0,i.round)(t.pointers[n].clientY)},n++;return{timeStamp:(0,i.now)(),pointers:e,center:(0,o.default)(e),deltaX:t.deltaX,deltaY:t.deltaY}};var r,i=n(32),o=(r=n(141))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};e.eventType!==r.INPUT_START&&a.eventType!==r.INPUT_END||(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)};var r=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,o.default)(e[0],e[1],i.PROPS_CLIENT_XY)/(0,o.default)(t[0],t[1],i.PROPS_CLIENT_XY)};var r,i=n(18),o=(r=n(97))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(e[1],e[0],o.PROPS_CLIENT_XY)+(0,i.default)(t[1],t[0],o.PROPS_CLIENT_XY)};var r,i=(r=n(142))&&r.__esModule?r:{default:r},o=n(18)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,s,u,c,l=t.lastInterval||e,h=e.timeStamp-l.timeStamp;if(e.eventType!==r.INPUT_CANCEL&&(h>r.COMPUTE_INTERVAL||void 0===l.velocity)){var f=e.deltaX-l.deltaX,d=e.deltaY-l.deltaY,p=(0,o.default)(h,f,d);s=p.x,u=p.y,n=(0,i.abs)(p.x)>(0,i.abs)(p.y)?p.x:p.y,c=(0,a.default)(f,d),t.lastInterval=e}else n=l.velocity,s=l.velocityX,u=l.velocityY,c=l.direction;e.velocity=n,e.velocityX=s,e.velocityY=u,e.direction=c};var r=n(18),i=n(32),o=s(n(144)),a=s(n(143));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=n(18),h=d(n(99)),f=d(n(57));function d(t){return t&&t.__esModule?t:{default:t}}var p={pointerdown:l.INPUT_START,pointermove:l.INPUT_MOVE,pointerup:l.INPUT_END,pointercancel:l.INPUT_CANCEL,pointerout:l.INPUT_CANCEL},g={2:l.INPUT_TYPE_TOUCH,3:l.INPUT_TYPE_PEN,4:l.INPUT_TYPE_MOUSE,5:l.INPUT_TYPE_KINECT},v="pointermove pointerup pointercancel",y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),c.prototype.events="".concat("pointerdown"," ").concat(v),(t=u.apply(this,arguments)).evEl="pointerdown",t.evWin=v,t.store=t.manager.session.pointerEvents=[],t}return e=c,(n=[{key:"handler",value:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=p[r],o=g[t.pointerType]||t.pointerType,a=o===l.INPUT_TYPE_TOUCH,s=(0,f.default)(e,t.pointerId,"pointerId");i&l.INPUT_START&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(l.INPUT_END|l.INPUT_CANCEL)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}}])&&o(e.prototype,n),r&&o(e,r),c}(h.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.removeEventListener(e,n,!1)}))},e.removeManagerListeners=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.off("origin_input:".concat(e),n)}))};var r=o(n(46)),i=o(n(68));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(149)),i=o(n(150));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)((function(t,e){return(0,i.default)(t,e,!0)}),"merge","Use `assign`.");e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&(0,i.default)(r,n)};var r,i=(r=n(66))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAllowCapture=e.isParent=e.upperFirst=e.each=e.mix=e.isArray=e.isObject=e.isString=e.isFunction=e.isNil=e.isBrowser=e.removeFromArray=void 0,e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var r=n(3);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return r.isObject}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return r.mix}}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return r.upperFirst}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOffScreenContext=void 0;var r=null;e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},function(t,e,n){var r=n(267),i=n(268),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),n="hsl";break;case"hwb":e=s.get.hwb(t),n="hwb";break;default:e=s.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,n,i,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(e.slice(a,a+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=r[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},s.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return o[t.slice(0,3)]}},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){"use strict";var r=n(269),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(151),o=n(272),a={};Object.keys(i).forEach((function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:i[t].channels}),Object.defineProperty(a[t],"labels",{value:i[t].labels});var e=o(t);Object.keys(e).forEach((function(n){var i=e[n];a[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"===r(n))for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),a[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))})),t.exports=a},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){var r=n(151);function i(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],c=e[u];-1===c.distance&&(c.distance=e[i].distance+1,c.parent=i,n.unshift(u))}return e}function o(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],i=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),i=o(r[e[a].parent][a],i),a=e[a].parent;return i.conversion=n,i}t.exports=function(t){for(var e=i(t),n={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var u=r[s];null!==e[u].parent&&(n[u]=a(u,e))}return n}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return"object"===r(t)&&null!==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(276);e.default=function(t){return r.default(t,"String")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={}.toString;e.default=function(t,e){return r.call(t)==="[object "+e+"]"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var o=n(2),a=n(0);Object(o.r)("circle",{options:{size:o.e.defaultNode.size,style:{x:0,y:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),s=Object(a.c)({},i,t.icon),u=e.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0}),c=s.width,l=s.height,h=s.show,f=s.text;return h&&(f?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},s),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):e.addShape("image",{attrs:r({x:-c/2,y:-l/2},s),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(t,e),u},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.size,h=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t)[0]/2;s&&e.addShape("circle",{attrs:r(r({},f),{x:-d,y:0,r:l/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:d,y:0,r:l/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-d,r:l/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:d,r:l/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.c)({},e,n),o=this.getSize(t)[0]/2;return r({x:0,y:0,r:o},i)},update:function(t,e){var n=e.getContainer(),r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get("keyShape"),s=Object(a.c)({},o.attr(),i,t.style);this.updateShape(t,e,s,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("rect",{options:{size:[100,30],style:{radius:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:r({},o.e.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.size,h=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:l/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:l/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:l/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:l/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getSize(t),s=i.width||o[0],u=i.height||o[1];return r({x:-s/2,y:-u/2,width:s,height:u},i)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var s={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},u=Object(a.B)({},r,o.attr(),s);u=Object(a.B)(u,t.style),this.updateShape(t,e,u,!1),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=i.width,u=i.height,c=i.show,l=i.text;return c&&(l?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.size,h=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0]/2,g=d[1]/2;s&&e.addShape("circle",{attrs:r(r({},f),{x:-p,y:0,r:l/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p,y:0,r:l/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g,r:l/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g,r:l/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getSize(t),s=o[0]/2,u=o[1]/2;return r({x:0,y:0,rx:s,ry:u},i)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o={stroke:t.color,rx:i[0]/2,ry:i[1]/2},s=e.get("keyShape"),u=Object(a.B)({},r,s.attr(),o);u=Object(a.B)(u,t.style),this.updateShape(t,e,u,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("diamond",{options:{size:[80,80],style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=i.width,u=i.height,c=i.show,l=i.text;return c&&(l?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.size,h=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:l/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:l/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:l/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:l/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getPath(t);return r({path:o},i)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},s=e.get("keyShape"),u=Object(a.B)({},r,s.attr(),o);u=Object(a.B)(u,t.style),this.updateShape(t,e,u,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("triangle",{options:{size:40,direction:"up",style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.getOptions(t),i=n.icon,o=void 0===i?{}:i,a=n.direction,s=this.getShapeStyle(t),u=t.direction||a,c=e.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),l=o.width,h=o.height,f=o.show,d=o.offset,p=o.text;if(f)if(p)e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var g=-l/2,v=-h/2;"up"!==u&&"down"!==u||(v+=d),"left"!==u&&"right"!==u||(g+=d),e.addShape("image",{attrs:r({x:g,y:v},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getOptions(t),o=n.linkPoints,a=void 0===o?{}:o,s=n.direction,u=t.direction||s,c=a.top,l=a.left,h=a.right,f=a.bottom,d=a.size,p=a.r,g=i(a,["top","left","right","bottom","size","r"]),v=this.getSize(t)[0];if(l){var y=null,m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?y=[-b,m]:"down"===u?y=[-b,-m]:"left"===u&&(y=[-b,b-m]),y&&e.addShape("circle",{attrs:r(r({},g),{x:y[0],y:y[1],r:d/2||p||5}),className:"link-point-left",name:"link-point-left"})}if(h){var x=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?x=[b,m]:"down"===u?x=[b,-m]:"right"===u&&(x=[b,b-m]),x&&e.addShape("circle",{attrs:r(r({},g),{x:x[0],y:x[1],r:d/2||p||5}),className:"link-point-right",name:"link-point-right"})}if(c){var w=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?w=[b-m,-m]:"left"===u?w=[b,-m]:"right"===u&&(w=[-b,-m]),w&&e.addShape("circle",{attrs:r(r({},g),{x:w[0],y:w[1],r:d/2||p||5}),className:"link-point-top",name:"link-point-top"})}if(f){var M=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"down"===u?M=[-b+m,m]:"left"===u?M=[b,m]:"right"===u&&(M=[-b,m]),M&&e.addShape("circle",{attrs:r(r({},g),{x:M[0],y:M[1],r:d/2||p||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(t){var e=this.getOptions(t).direction,n=t.direction||e,r=this.getSize(t)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getPath(t);return r({path:o},i)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},s=e.get("keyShape"),u=Object(a.B)({},r,s.attr(),o);u=Object(a.B)(u,t.style),this.updateShape(t,e,u,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}),i=n.linkPoints,o=n.direction,s=t.direction||o,u=e.find((function(t){return"link-point-left"===t.get("className")})),c=e.find((function(t){return"link-point-right"===t.get("className")})),l=e.find((function(t){return"link-point-top"===t.get("className")})),h=e.find((function(t){return"link-point-bottom"===t.get("className")})),f=i,d=u||c||l||h;d&&(f=d.attr());var p=Object(a.B)({},f,t.linkPoints),g=p.fill,v=p.stroke,y=p.lineWidth,m=p.size/2;m||(m=p.r);var b=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},x=b.left,w=b.right,M=b.top,O=b.bottom,S=this.getSize(t)[0],C={r:m,fill:g,stroke:v,lineWidth:y},k=null,E=S*Math.sin(1/3*Math.PI),T=S*Math.sin(1/3*Math.PI);"up"===s?k=[-T,E]:"down"===s?k=[-T,-E]:"left"===s&&(k=[-T,T-E]),k&&(u?x||void 0===x?u.attr(r(r({},C),{x:k[0],y:k[1]})):u.remove():x&&e.addShape("circle",{attrs:r(r({},C),{x:k[0],y:k[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var P=null;"up"===s?P=[T,E]:"down"===s?P=[T,-E]:"right"===s&&(P=[T,T-E]),P&&(c?w||void 0===w?c.attr(r(r({},C),{x:P[0],y:P[1]})):c.remove():w&&e.addShape("circle",{attrs:r(r({},C),{x:P[0],y:P[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var j=null;"up"===s?j=[T-E,-E]:"left"===s?j=[T,-E]:"right"===s&&(j=[-T,-E]),j&&(l?M||void 0===M?l.attr(r(r({},C),{x:j[0],y:j[1]})):l.remove():M&&e.addShape("circle",{attrs:r(r({},C),{x:j[0],y:j[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var N=null;"down"===s?N=[-T+E,E]:"left"===s?N=[T,E]:"right"===s&&(N=[-T,E]),N&&(h?O||void 0===O?h.attr(r(r({},C),{x:N[0],y:N[1]})):h.remove():O&&e.addShape("circle",{attrs:r(r({},C),{x:N[0],y:N[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Object(o.r)("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:o.e.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=this.getOptions(t).preRect,o=void 0===n?{}:n,a=this.getShapeStyle(t),s=this.getSize(t),u=s[0],c=s[1],l=e.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=o.show,f=i(o,["show"]);return h&&e.addShape("rect",{attrs:r({x:-u/2,y:-c/2,height:c},f),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),l},drawLogoIcon:function(t,e){var n=this.getOptions(t).logoIcon,o=void 0===n?{}:n,a=this.getSize(t)[0];if(o.show){var s=o.width,u=o.height,c=o.x,l=o.y,h=o.offset,f=o.text,d=i(o,["width","height","x","y","offset","text"]);f?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:r(r({},d),{x:c||-a/2+s+h,y:l||-u/2,width:s,height:u}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=this.getOptions(t).stateIcon,o=void 0===n?{}:n,a=this.getSize(t)[0];if(o.show){var s=o.width,u=o.height,c=o.x,l=o.y,h=o.offset,f=o.text,d=i(o,["width","height","x","y","offset","text"]);f?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:r(r({},d),{x:c||a/2-s+h,y:l||-u/2,width:s,height:u}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,l=o.size,h=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:l/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:l/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:l/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:l/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(t,e){var n=this.getOptions(t),i=n.labelCfg,o=void 0===i?{}:i,s=n.logoIcon,u=void 0===s?{}:s,c=n.descriptionCfg,l=void 0===c?{}:c,h=this.getSize(t)[0],f=null,d=u.show,p=u.width,g=-h/2+o.offset;d&&(g=-h/2+p+o.offset);var v=o.style,y=l.style,m=l.paddingTop;return Object(a.w)(t.description)?(f=e.addShape("text",{attrs:r(r({},v),{x:g,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0}),e.addShape("text",{attrs:r(r({},y),{x:g,y:17+(m||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})):f=e.addShape("text",{attrs:r(r({},v),{x:g,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0}),f},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getSize(t),s=i.width||o[0],u=i.height||o[1];return r({x:-s/2,y:-u/2,width:s,height:u},i)},update:function(t,e){var n=this.getOptions(t),o=n.style,s=void 0===o?{}:o,u=n.labelCfg,c=void 0===u?{}:u,l=n.descriptionCfg,h=void 0===l?{}:l,f=this.getSize(t),d=f[0],p=f[1];e.get("keyShape").attr(r(r({},s),{x:-d/2,y:-p/2,width:d,height:p}));var g=e.getContainer(),v=g.find((function(t){return"rect-logo-icon"===t.get("className")})),y=v?v.attr():{},m=Object(a.B)({},y,t.logoIcon),b=m.width;void 0===b&&(b=this.options.logoIcon.width);var x=t.logoIcon?t.logoIcon.show:void 0,w=c.offset,M=-d/2+b+w;x||void 0===x||(M=-d/2+w);var O=g.find((function(t){return"node-label"===t.get("className")})),S=g.find((function(t){return"rect-description"===t.get("className")}));if(t.label)if(O){var C=t.labelCfg?t.labelCfg.style:{},k=Object(a.B)({},O.attr(),C);t.label&&(k.text=t.label),k.x=M,Object(a.w)(t.description)&&(k.y=-5),S&&(S.resetMatrix(),S.attr({x:M})),O.resetMatrix(),O.attr(k)}else g.addShape("text",{attrs:r(r({},c.style),{x:M,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0});if(Object(a.w)(t.description)){var E=h.paddingTop;if(S){C=t.descriptionCfg?t.descriptionCfg.style:{};var T=Object(a.B)({},S.attr(),C);Object(a.w)(t.description)&&(T.text=t.description),T.x=M,S.resetMatrix(),S.attr(r(r({},T),{y:17+(E||0)}))}else g.addShape("text",{attrs:r(r({},h.style),{x:M,y:17+(E||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})}var P=g.find((function(t){return"pre-rect"===t.get("className")}));if(P){var j=Object(a.B)({},P.attr(),t.preRect);P.attr(r(r({},j),{x:-d/2,y:-p/2,height:p}))}if(v)if(x||void 0===x){var N=m.width,A=m.height,I=m.x,_=m.y,L=m.offset,B=i(m,["width","height","x","y","offset"]);v.attr(r(r({},B),{x:I||-d/2+N+L,y:_||-A/2,width:N,height:A}))}else v.remove();else x&&this.drawLogoIcon(t,g);var D=g.find((function(t){return"rect-state-icon"===t.get("className")})),R=D?D.attr():{},Y=Object(a.B)({},R,t.stateIcon);if(D){Y.show||void 0===Y.show||D.remove();var F=Y.width,X=(A=Y.height,I=Y.x,_=Y.y,Y.offset),z=i(Y,["width","height","x","y","offset"]);D.attr(r(r({},z),{x:I||d/2-F+X,y:_||-A/2,width:F,height:A}))}else Y.show&&this.drawStateIcon(t,g);this.updateLinkPoints(t,g)}},"single-node"),Object(o.r)("star",{options:{size:60,style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=i.width,u=i.height,c=i.show,l=i.text;return c&&(l?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.leftBottom,l=o.rightBottom,h=o.size,f=o.r,d=i(o,["top","left","right","leftBottom","rightBottom","size","r"]),p=this.getSize(t)[0];if(u){var g=Math.cos(.1*Math.PI)*p,v=Math.sin(.1*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:h/2||f||5}),className:"link-point-right",name:"link-point-right"})}if(a){g=Math.cos(.5*Math.PI)*p,v=Math.sin(.5*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:h/2||f||5}),className:"link-point-top",name:"link-point-top"})}if(s){g=Math.cos(.9*Math.PI)*p,v=Math.sin(.9*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:h/2||f||5}),className:"link-point-left",name:"link-point-left"})}if(c){g=Math.cos(1.3*Math.PI)*p,v=Math.sin(1.3*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:h/2||f||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){g=Math.cos(1.7*Math.PI)*p,v=Math.sin(1.7*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:h/2||f||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){for(var e=this.getSize(t)[0],n=3*e/8,r=t.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*e,s=Math.sin((18+72*o)/180*Math.PI)*e,u=Math.cos((54+72*o)/180*Math.PI)*r,c=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-c])}return i.push(["Z"]),i},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=Object(a.B)({},e,n),o=this.getPath(t);return r({path:o},i)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},s=e.get("keyShape"),u=Object(a.B)({},r,s.attr(),o);u=Object(a.B)(u,t.style),this.updateShape(t,e,u,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,i=e.find((function(t){return"link-point-left"===t.get("className")})),o=e.find((function(t){return"link-point-right"===t.get("className")})),s=e.find((function(t){return"link-point-top"===t.get("className")})),u=e.find((function(t){return"link-point-left-bottom"===t.get("className")})),c=e.find((function(t){return"link-point-right-bottom"===t.get("className")})),l=n,h=i||o||s||u||c;h&&(l=h.attr());var f=Object(a.B)({},l,t.linkPoints),d=f.fill,p=f.stroke,g=f.lineWidth,v=f.size/2;v||(v=f.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=y.left,b=y.right,x=y.top,w=y.leftBottom,M=y.rightBottom,O=this.getSize(t)[0],S={r:v,fill:d,stroke:p,lineWidth:g},C=Math.cos(.1*Math.PI)*O,k=Math.sin(.1*Math.PI)*O;o?b||void 0===b?o.attr(r(r({},S),{x:C,y:-k})):o.remove():b&&e.addShape("circle",{attrs:r(r({},S),{x:C,y:-k}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),C=Math.cos(.5*Math.PI)*O,k=Math.sin(.5*Math.PI)*O,s?x||void 0===x?s.attr(r(r({},S),{x:C,y:-k})):s.remove():x&&e.addShape("circle",{attrs:r(r({},S),{x:C,y:-k}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),C=Math.cos(.9*Math.PI)*O,k=Math.sin(.9*Math.PI)*O,i?m||void 0===m?i.attr(r(r({},S),{x:C,y:-k})):i.remove():m&&e.addShape("circle",{attrs:r(r({},S),{x:C,y:-k}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),C=Math.cos(1.3*Math.PI)*O,k=Math.sin(1.3*Math.PI)*O,u?w||void 0===w?u.attr(r(r({},S),{x:C,y:-k})):u.remove():w&&e.addShape("circle",{attrs:r(r({},S),{x:C,y:-k}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),C=Math.cos(1.7*Math.PI)*O,k=Math.sin(1.7*Math.PI)*O,c?M||void 0===M?c.attr(r(r({},S),{x:C,y:-k})):u.remove():M&&e.addShape("circle",{attrs:r(r({},S),{x:C,y:-k}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var s=o.n.defaultSubjectColors;Object(o.r)("donut",{options:{size:o.e.defaultNode.size,style:{x:0,y:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),u=Object(a.c)({},i,t.icon),c=e.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),l=u.width,h=u.height,f=u.show,d=u.text;f&&(d?e.addShape("text",{attrs:r({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):e.addShape("image",{attrs:r({x:-l/2,y:-h/2},u),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var p=c.attr("r"),g=.6*p,v=(p+g)/2,y=t,m=y.donutAttrs,b=void 0===m?{}:m,x=y.donutColorMap,w=void 0===x?{}:x,M=Object.keys(b).length;if(b&&M>1){var O=[],S=0;if(Object.keys(b).forEach((function(t){var e=b[t]||0;Object(a.s)(e)&&(O.push({key:t,value:e,color:w[t]}),S+=e)})),S){var C=p-g;if(1===M)return void e.addShape("circle",{attrs:{r:v,x:0,y:0,stroke:O[0].color||s[0],lineWidth:C},name:"fan-shape-0"});var k=[v,0],E=0;O.forEach((function(t,n){var r=t.value/S;if(!(r<.001))if(r>.999&&(r=1),1!==r){t.percent=r,t.angle=r*Math.PI*2,t.beginAgnle=E,E+=t.angle,t.endAngle=E,t.arcBegin=k,t.arcEnd=[v*Math.cos(t.endAngle),-v*Math.sin(t.endAngle)];var i=t.angle>Math.PI?1:0,o=[["M",t.arcBegin[0],t.arcBegin[1]],["A",v,v,0,i,0,t.arcEnd[0],t.arcEnd[1]],["L",t.arcEnd[0],t.arcEnd[1]]];e.addShape("path",{attrs:{path:o,lineWidth:C,stroke:t.color||s[n%s.length]},name:"fan-shape-"+n}),k=t.arcEnd}else e.addShape("circle",{attrs:{r:v,x:0,y:0,stroke:t.color||s[n%s.length],lineWidth:C},name:"fan-shape-"+n})}))}}return this.drawLinkPoints(t,e),c},update:void 0},"circle");var u=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},c=function(t){for(var e=[],n={},r=t.length-1;r>=0;r--){var i=t[r];i.id=i.x+"|||"+i.y,n[i.id]=i,e.push(i)}return e},l=function(t){return c(t)},h=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},f=function(t,e,n){var r=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return 0===n&&0===r?0:n/e.width>r/e.height}(e,t);if(0===r){var i=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?i=t.maxX:n.x<e.x?i=t.minX:n.x===e.x&&(o=t.maxY),{x:i,y:o}}return r?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},d=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},p=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},g=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},v=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},y=function(t,e,n,r,i){return v(t,e)+v(t,n)+function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n}(t,[e,n,r,i])},m=function t(e,n,r,i,o){void 0===o&&(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},b=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=r.x-t.x,s=r.y-t.y,u=n.x-e.x,c=n.y-e.y,l=r.x-e.x,h=r.y-e.y;return(i*s-o*a)*(u*h-c*l)<=0&&(i*c-o*u)*(a*h-s*l)<=0},x=function(t,e,n){if(n.width||n.height){var r=p(n),i=r[0],o=r[1],a=r[2],s=r[3];return b(t,e,i,o)||b(t,e,i,s)||b(t,e,o,a)||b(t,e,a,s)}return!1},w=function(t,e,n,r){var i=[];return t.forEach((function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(x(t,e,n)||x(t,e,r))return;i.push(t)}})),c(i)},M=function(t,e){var n=[],r=t[0];return n.push("M"+r.x+" "+r.y),t.forEach((function(r,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(r,o,a)){var s=function(t,e,n,r){var i=v(t,e),o=v(n,e);return i<r&&(r=i),o<r&&(r=o),[{x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},{x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)}]}(r,o,a,e),u=s[0],c=s[1];n.push("L"+u.x+" "+u.y),n.push("Q"+o.x+" "+o.y+" "+c.x+" "+c.y),n.push("L"+c.x+" "+c.y)}else n.push("L"+o.x+" "+o.y);else o&&n.push("L"+o.x+" "+o.y)})),n.join("")},O=function(t,e,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||u(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=u(t);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var b=r.getModel(),x=b.x,M=b.y;(a={x:x,y:M,width:s.width,height:s.height,minX:s.minX+x,maxX:s.maxX+x,minY:s.minY+M,maxY:s.maxY+M}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=u(e)}else a=r&&r.getBBox();else a=u(e);var O=h(o,i),S=h(a,i),C=f(O,t,e),k=f(S,e,t),E=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach((function(t){e.push(t.x),n.push(t.y)}));var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([C,k]),T=d(O,E),P=d(S,E),j=[];j=j.concat(p(T)).concat(p(P));var N={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[E,T,P].forEach((function(t){j=j.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,N).filter((function(t){return g(t,O)&&g(t,S)})))})),[{x:C.x,y:k.y},{x:k.x,y:C.y}].forEach((function(t){g(t,O)&&g(t,S)&&j.push(t)})),j.unshift(C),j.push(k);var A=function(t,e,n,r,i,o,a){var s=[],u=[e],c={},l={},h={};l[e.id]=0,h[e.id]=y(e,n,e);var f,d,p,g,b,x={};for(t.forEach((function(t){x[t.id]=t}));u.length;){if(f=void 0,d=1/0,u.forEach((function(t){h[t.id]<=d&&(d=h[t.id],f=t)})),f===n){var M=[];return m(M,x,c,n.id),M}g=f,b=void 0,(b=(p=u).indexOf(g))>-1&&p.splice(b,1),s.push(f),w(t,f,r,i).forEach((function(t){if(-1===s.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var r=h[f.id]+v(f,t);l[t.id]&&r>=l[t.id]||(c[t.id]=f.id,l[t.id]=r,h[t.id]=l[t.id]+y(t,n,e,o,a))}}))}return[e,n]}(j=c(j),C,k,o,a,t,e);return A.unshift(t),A.push(e),l(A)},S={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,r,i){return l(O(t,e,n,r,i.offset))}},C=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),k=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n||r?Math.atan2(r,n):0},E=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},T=function(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var a=n(t,e[i]);a<r&&(r=a)}return r},P=function(t,e,n,r,i){var a=[];if(!n)return[t];var s=i.directions,u=i.offset,c=n.getBBox(),l=e.x>c.minX&&e.x<c.maxX&&e.y>c.minY&&e.y<c.maxY,d=h(c,u);for(var p in d)d[p]=C(d[p],i.gridSize);if(l){for(var g=0,v=s;g<v.length;g++){var y=v[g],m=[[{x:d.minX,y:d.minY},{x:d.maxX,y:d.minY}],[{x:d.minX,y:d.minY},{x:d.minX,y:d.maxY}],[{x:d.maxX,y:d.minY},{x:d.maxX,y:d.maxY}],[{x:d.minX,y:d.maxY},{x:d.maxX,y:d.maxY}]];for(p=0;p<4;p++){var b=m[p],w=o.n.getLineIntersect(t,{x:t.x+y.stepX*d.width,y:t.y+y.stepY*d.height},b[0],b[1]);w&&!x(t,w,c)&&(w.id=w.x+"|||"+w.y,a.push(w))}}return a}var M=f(d,t,r);return M.id=M.x+"|||"+M.y,[M]},j=function(t,e,n,r){var i=k(t,e);if(!n[t.id]){var o=k(r,t);return E(o,i)}var a=k({x:n[t.id].x,y:n[t.id].y},t);return E(a,i)},N=function(t,e,n,r,i,o,a){var s=[r],u=t.id,c=t.x,l=t.y,h={x:c,y:l,id:u};for(j(h,o,e,n)&&s.unshift({x:o.x===r.x?r.x:h.x*a,y:o.y===r.y?r.y:h.y*a});e[u]&&e[u].id!==u;){var f={x:c,y:l,id:u},d=e[u].id,p=e[u].x,g=e[u].y,v={x:p,y:g,id:d};j(v,f,e,n)&&s.unshift({x:v.x===f.x?s[0].x:v.x*a,y:v.y===f.y?s[0].y:v.y*a}),u=d,c=p,l=g}var y=c,m=l;return s[0].x=y===n.x?i.x:s[0].x,s[0].y=m===n.y?i.y:s[0].y,s.unshift(i),s},A=function(t,e,n,r,i){if(isNaN(t.x)||isNaN(e.x))return[];var o=Object(a.c)(S,i);o.obstacles=o.obstacles||[];var s=o.gridSize,u=function(t,e,n){var r={};return t.forEach((function(t){if(t)for(var i=h(t.getBBox(),n),o=C(i.minX,e);o<=C(i.maxX,e);o+=1)for(var a=C(i.minY,e);a<=C(i.maxY,e);a+=1)r[o+"|||"+a]=!0})),r}(o.obstacles.concat([n,r]),s,o.offset),c={x:C(t.x,s),y:C(t.y,s)},l={x:C(e.x,s),y:C(e.y,s)};t.id=c.x+"|||"+c.y,e.id=l.x+"|||"+l.y;var f=P(c,t,n,l,o),d=P(l,e,r,c,o);f.forEach((function(t){delete u[t.id]})),d.forEach((function(t){delete u[t.id]}));for(var p={},g={},v={},y={},m={},b=0;b<f.length;b++){var x=f[b];p[x.id]=x,y[x.id]=0,m[x.id]=T(x,d,o.distFunc)}for(var w,M,O,k,E,A,I,_=o.maximumLoops,L=o.penalties;Object.keys(p).length>0&&_>0&&(w=void 0,M=1/0,Object.keys(p).forEach((function(t){var e=p[t].id;m[e]<=M&&(M=m[e],w=p[e])})),w);){if(d.findIndex((function(t){return t.x===w.x&&t.y===w.y}))>-1)return N(w,v,c,e,t,l,s);delete p[w.id],g[w.id]=!0;for(b=0;b<o.directions.length;b++)O=o.directions[b],g[(k={x:w.x+O.stepX,y:w.y+O.stepY,id:Math.round(w.x)+O.stepX+"|||"+(Math.round(w.y)+O.stepY)}).id]||(I=j(w,k,v,c))>o.maxAllowedDirectionChange||u[k.id]||(p[k.id]||(p[k.id]=k),E=o.distFunc(w,k)+(isNaN(L[I])?s:L[I]),A=y[w.id]+E,y[k.id]&&A>=y[k.id]||(v[k.id]=w,y[k.id]=A,m[k.id]=A+T(k,d,o.distFunc)));_-=1}return o.fallbackRoute(t,e,n,r,o)};Object(o.q)("polyline",{options:{color:o.e.defaultEdge.color,size:o.e.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:o.e.defaultEdge.style.stroke,lineAppendWidth:o.e.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:o.e.edgeLabel.style.fill,fontSize:o.e.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:r({},o.e.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return 0===n.radius&&delete n.radius,e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n})},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(a.B)({},e,n,t.style);t=this.getPathPoints(t),this.radius=r.radius,this.offset=r.offset;var i=t.startPoint,s=t.endPoint,u=this.getControlPoints(t),c=[i];u&&(c=c.concat(u)),c.push(s);var l=t.sourceNode,h=t.targetNode,f=r.radius,d=this.options.routeCfg,p=Object(a.B)({},d,t.routeCfg);p.offset=r.offset;var g=this.getPath(c,l,h,f,p);return(Object(a.l)(g)&&g.length<=1||Object(a.w)(g)&&-1===g.indexOf("L"))&&(g="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(s.x)||isNaN(s.y))&&(g="M0 0, L0 0"),Object(a.B)({},o.e.defaultEdge.style,r,{lineWidth:t.size,path:g})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var r={stroke:t.color},i=n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,s=(t=this.getPathPoints(t)).startPoint,u=t.endPoint,c=this.getControlPoints(t),l=[s];c&&(l=l.concat(c)),l.push(u);var h=i.attr(),f=Object(a.B)({},r,h,t.style),d=t.sourceNode,p=t.targetNode,g=f.radius,v=this.options.routeCfg,y=Object(a.B)({},v,t.routeCfg);y.offset=f.offset;var m=this.getPath(l,d,p,g,y);(Object(a.l)(m)&&m.length<=1||Object(a.w)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(u.x)||isNaN(u.y))&&(m="M0 0, L0 0"),h.endArrow&&!1===f.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===f.startArrow&&(t.style.startArrow={path:""});var b=Object(a.B)(r,i.attr(),{lineWidth:o,path:m},t.style);i&&i.attr(b)}},getPath:function(t,e,n,r,i){var s=i.offset,u=i.simple;if(!s||t.length>2){if(r)return M(t,r);var c=[];return Object(a.d)(t,(function(t,e){0===e?c.push(["M",t.x,t.y]):c.push(["L",t.x,t.y])})),c}var l=u?O(t[t.length-1],t[0],n,e,s):A(t[0],t[t.length-1],e,n,i);return l&&l.length?r?M(l,r):o.n.pointsToPolygon(l):"M0 0, L0 0"}},"single-edge")},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(2),a=n(40),s=a.a.cloneEvent,u=a.a.isNaN,c=Math.abs,l={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,r=+t.clientY;if(!u(n)&&!u(r)){var i=n-e.x,o=r-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox();(c.minX<=a+this.scalableRange&&c.minX+i>a+this.scalableRange||c.maxX+this.scalableRange>=0&&c.maxX+this.scalableRange+i<0)&&(i=0),(c.minY<=s+this.scalableRange&&c.minY+o>s+this.scalableRange||c.maxY+this.scalableRange>=0&&c.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(i,o)}},onDragStart:function(t){t.originalEvent;if(this.shouldBegin.call(this,t)){var e=t.target,n=e&&e.isCanvas&&e.isCanvas();if((this.allowDragOnItem||n)&&(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize)){for(var r=this.graph,i=r.getEdges(),o=0,a=i.length;o<a;o++){var s=i[o].get("group").get("children");s&&s.forEach((function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()}))}for(var u=r.getNodes(),c=0,l=u.length;c<l;c++)for(var h=0,f=u[c].getContainer().get("children");h<f.length;h++){var d=f[h];d.get("isKeyShape")||(d.set("ori-visibility",d.get("ori-visibility")||d.get("visible")),d.hide())}}}},onDragMove:function(t){this.graph;var e=t.target,n=e&&e.isCanvas&&e.isCanvas();if((this.allowDragOnItem||n)&&(t=s(t),this.origin)){if(!this.dragging){if(c(this.origin.x-t.clientX)+c(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}},onDragEnd:function(t){var e=this.graph;if(this.enableOptimize){for(var n=e.getEdges(),r=0,i=n.length;r<i;r++){var o=n[r].get("group").get("children");o&&o.forEach((function(t){t.get("ori-visibility")&&t.show()}))}for(var a=e.getNodes(),u=0,c=a.length;u<c;u++)for(var l=0,h=a[u].getContainer().get("children");l<h.length;l++){var f=h[l];if(!f.get("isKeyShape"))f.get("ori-visibility")&&f.show()}}this.dragging?(t=s(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",this.endDrag()):this.origin=null},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1}},h=n(19),f={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var n=t.item;if(n&&!n.destroyed&&!n.hasLocked()){var r=t.target;if(r)if(r.get("isAnchorPoint"))return;var o=this.graph;this.targets=[],this.targetCombo=null;var a=o.findAllByState("node",this.selectedState),s=n.get("id");0===a.filter((function(t){var e=t.get("id");return s===e})).length?this.targets.push(n):a.length>1?a.forEach((function(t){t.hasLocked()||e.targets.push(t)})):this.targets.push(n);var u=[];this.targets.forEach((function(t){u.push(Object(i.b)(t.getModel()))})),this.set("beforeDragNodes",u),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;this.origin&&this.shouldUpdate(this,t)&&(this.get("enableDelegate")?this.updateDelegate(t):this.targets.map((function(n){e.update(n,t)})))},onDragEnd:function(t){if(this.origin&&this.shouldEnd.call(this,t)){var e=t.item;if(e)e.getContainer().set("capture",!0);this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(t);var n=this.graph;if(n.get("enabledStack")){var r={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach((function(t){r.after.nodes.push(t.getModel())})),n.pushStack("update",Object(i.b)(r))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.validationCombo(e)){this.updatePositions(t);var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var r=e.getModel();this.targets.map((function(t){t.getModel().comboId!==r.id&&n.updateComboTree(t,r.id)})),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.targets&&0!==this.targets.length&&(this.updatePositions(t),this.onlyChangeComboSize?e.updateCombos():this.targets.map((function(t){t.getModel().comboId&&e.updateComboTree(t)})))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var n=this.graph,r=e.getModel().comboId;if(r){var i=n.findById(r);this.comboActiveState&&n.setItemState(i,this.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();r!==e.comboId&&n.updateComboTree(t,r)})),n.updateCombo(i)}else this.targets.map((function(t){t.getModel().comboId&&n.updateComboTree(t)}));n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t){var e=this;this.targets&&0!==this.targets.length&&this.get("enableDelegate")&&this.targets.map((function(n){return e.update(n,t)}))},update:function(t,e){var n=this.origin,r=t.get("model"),i=t.get("id");this.point[i]||(this.point[i]={x:r.x||0,y:r.y||0});var o={x:e.x-n.x+this.point[i].x,y:e.y-n.y+this.point[i].y};this.get("updateEdge")?this.graph.updateItem(t,o,!1):t.updatePosition(o)},updateDelegate:function(t){this.graph;if(this.delegateRect){var e=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:e,y:n})}else{var o=this.graph.get("group"),a=Object(i.c)({},h.a.delegateStyle,this.delegateStyle),s=this.calculationGroupPosition(t),u=s.x,c=s.y,l=s.width,f=s.height,d=s.minX,p=s.minY;this.originPoint={x:u,y:c,width:l,height:f,minX:d,minY:p},this.delegateRect=o.addShape("rect",{attrs:Object(r.a)({width:l,height:f,x:u,y:c},a),name:"rect-delegate-shape"})}},calculationGroupPosition:function(t){var e=this.graph.findAllByState("node",this.selectedState);0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),u=s.minX,c=s.minY,l=s.maxX,h=s.maxY;u<n&&(n=u),c<i&&(i=c),l>r&&(r=l),h>o&&(o=h)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},d={getDefaultCfg:function(){return{multiple:!0,selectedState:"selected"}},getEvents:function(){return{"node:tap":"onClick","combo:tap":"onClick","canvas:tap":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var r=n.getType(),o=e.graph,a=e.multiple,s=e.shouldUpdate;if(e.shouldBegin.call(e,t)){if(!a){var u=o.findAllByState(r,e.selectedState);Object(i.d)(u,(function(t){t!==n&&o.setItemState(t,e.selectedState,!1)}))}if(n.hasState(e.selectedState)){s.call(e,t)&&o.setItemState(n,e.selectedState,!1);var c=o.findAllByState("node",e.selectedState),l=o.findAllByState("combo",e.selectedState);o.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:l},select:!1})}else{s.call(e,t)&&o.setItemState(n,e.selectedState,!0);c=o.findAllByState("node",e.selectedState),l=o.findAllByState("combo",e.selectedState);o.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:l},select:!0})}}}},onCanvasClick:function(){var t=this,e=this.graph,n=e.findAllByState("node",this.selectedState);Object(i.d)(n,(function(n){e.setItemState(n,t.selectedState,!1)}));var r=e.findAllByState("combo",this.selectedState);Object(i.d)(r,(function(n){e.setItemState(n,t.selectedState,!1)})),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},p={firstScale:null,getDefaultCfg:function(){return{originScale:1,sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{pinchstart:"onPinch",pinchmove:"onPinch"}},onPinch:function(t){t.preventDefault&&t.preventDefault(),t.originalEvent.preventDefault&&t.originalEvent.preventDefault();var e=t.originalEvent.pointers;if(!(e.length<2)){"pinchstart"===t.type&&(this.firstScale=this.graph.getZoom());var n=t.originalEvent.scale||t.originalEvent.srcEvent.extra.scale,r=this.firstScale*n;this.currentScale=r;var i=this.get("minZoom")||this.graph.get("minZoom");if(!(r>(this.get("maxZoom")||this.graph.get("maxZoom"))||r<i)){var o=this.graph.get("canvas"),a=e[0].clientX,s=e[0].clientY,u=e[1].clientX,c=e[1].clientY,l=o.getPointByClient((a+u)/2,(s+c)/2);this.graph.zoomTo(r,{x:l.x,y:l.y})}}}},g=["tap","dbltap"],v={getDefaultCfg:function(){return{trigger:"tap",onChange:function(){}}},getEvents:function(){var t,e;return g.includes(this.trigger)?e=this.trigger:(e="tap",console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:"+e]="onNodeTap",t.touchstart="onNodeTap",t},onNodeTap:function(t){var e=t.item,n=this.graph.findDataById(e.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;if(this.shouldBegin(t,i)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i))){try{this.onChange(e,i)}catch(t){console.warn(t)}this.graph.layout()}}}}},y=a.a.calculationItemsBBox,m=function(t,e){if(!1!==e(t)&&t){var n=t.get("combos");if(0===n.length)return!1;Object(i.d)(n,(function(t){m(t,e)}))}},b=["click","dblclick"],x=["tap","drag"],w=["shift","ctrl","control","alt","meta",void 0],M={bind:function(t){"drag-canvas"===this.type&&t.get("canvas").set("draggable",!0);var e=this.events;this.graph=t,Object(i.d)(e,(function(e,n){t.on(n,e)}))},unbind:function(t){var e=this.events;"drag-canvas"===this.type&&t.get("canvas").set("draggable",!1),this.graph=null,Object(i.d)(e,(function(e,n){t.off(n,e)}))}},O={"drag-canvas":l,"zoom-canvas":p,"drag-node":f,"activate-relations":{getDefaultCfg:function(){return{activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return{"node:tap":"setAllItemStates","canvas:tap":"clearAllItemStates"}},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var l=o[c],h=l.hasState("selected");this.resetSelected&&h&&n.setItemState(l,"selected",!1),n.setItemState(l,r,!1),i&&n.setItemState(l,i,!0)}for(c=0;c<u;c++){var f=a[c];n.setItemState(f,r,!1),i&&n.setItemState(f,i,!0)}i&&n.setItemState(e,i,!1),n.setItemState(e,r,!0);var d=e.getEdges(),p=d.length;for(c=0;c<p;c++){var g=void 0;g=(f=d[c]).getSource()===e?f.getTarget():f.getSource(),i&&n.setItemState(g,i,!1),n.setItemState(g,r,!0),n.setItemState(f,i,!1),n.setItemState(f,r,!0),f.toFront()}n.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this.get("graph");if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this.activeState,r=this.inactiveState,i=e.get("autoPaint");e.setAutoPaint(!1);for(var o=e.getNodes(),a=e.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var l=o[c];e.clearItemStates(l,[n,r])}for(c=0;c<u;c++){var h=a[c];e.clearItemStates(h,[n,r,"deactivate"])}e.paint(),e.setAutoPaint(i),e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(t){var e=this.graph;if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){for(var n=this.activeState,r=this.inactiveState,i=e.getNodes(),o=e.getEdges(),a=i.length,s=o.length,u=0;u<a;u++){var c=i[u];e.clearItemStates(c,[n,r])}for(u=0;u<s;u++){var l=o[u];e.clearItemStates(l,[n,r,"deactivate"])}e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}}},"click-select":d,"collapse-expand":v,"drag-combo":{getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate(this,t)&&"combo"===e.getType())},onDragStart:function(t){var e=this,n=this.graph,r=t.item;if(this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id");0===i.filter((function(t){var e=t.get("id");return o===e})).length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(t){var r=t.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],m(r,(function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,r=t.item,o=r.getModel(),a=n.getCombos(),s=r.getBBox(),u=s.centerX,c=s.centerY,l=s.width;a.filter((function(t){var n=t.getModel();return o.parentId,n.id!==o.id&&!e.currentItemChildCombos.includes(n.id)})).map((function(t){var r=t.getBBox(),i=r.centerX,o=r.centerY,a=r.width,s=u-i,h=c-o,f=2*Math.sqrt(s*s+h*h);l+a-f>.8*l?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)}))}Object(i.d)(this.targets,(function(n){e.updateCombo(n,t)}))}},updatePositions:function(t){var e=this;this.enableDelegate&&Object(i.d)(this.targets,(function(n){e.updateCombo(n,t)}))},onDrop:function(t){var e=this,n=t.item;if(n&&this.targets&&!n.destroyed){this.updatePositions(t);var r=this.graph,i=n.getModel();this.targets.map((function(t){t.getModel().parentId!==i.id?(e.activeState&&r.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t,i.id)):r.updateCombo(n)})),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){this.updatePositions(t);var n,r=this.graph,i=t.item.getModel().comboId;if(i){if(this.activeState){var o=r.findById(i);r.setItemState(o,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSize?r.updateCombo(t):i!==t.getID()&&(n=r.findById(i),i!==t.getModel().parentId&&r.updateComboTree(t,i))}))}else this.targets.map((function(t){e.onlyChangeComboSize?r.updateCombo(t):t.getModel().comboId&&r.updateComboTree(t)}));this.endComparison=!0,this.end(n,t)}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;t&&this.activeState&&r.setItemState(t,this.activeState,!1),t||this.targets.map((function(t){n.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e){var n=this;if(!1!==e(t)&&t){var r=t.get("combos");Object(i.d)(r,(function(t){n.traverse(t,e)}));var o=t.get("nodes");Object(i.d)(o,(function(t){n.traverse(t,e)}))}},updateCombo:function(t,e){var n=this;this.traverse(t,(function(t){return!t.destroyed&&(n.updateSignleItem(t,e),!0)}))},updateSignleItem:function(t,e){var n=this.origin,r=this.graph,i=t.getModel(),o=t.get("id");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a=e.x-n.x+this.point[o].x,s=e.y-n.y+this.point[o].y;r.updateItem(t,{x:a,y:s})},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,i=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:i})}else{var o=e.get("delegateGroup"),a=null,s=(a=this.targets.length>1?y(this.targets):this.targets[0].getBBox()).x,u=a.y,c=a.width,l=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:c,height:l,minX:f,minY:d};var p=Object(r.a)(Object(r.a)({},h.a.delegateStyle),this.delegateStyle);this.delegateShape=o.addShape("rect",{attrs:Object(r.a)({width:a.width,height:a.height,x:a.x,y:a.y},p),name:"combo-delegate-shape"})}}},"collapse-expand-combo":{getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var t,e;return b.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:"+e]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this.graph,r=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var i=e.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},"create-edge":{getDefaultCfg:function(){return{trigger:"tap",key:void 0,edgeConfig:{}}},getEvents:function(){var t;return x.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="tap",console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),this.key&&-1===w.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===this.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(t={"node:tap":"onClick",mousemove:"updateEndPoint","edge:tap":"cancelCreating","canvas:tap":"cancelCreating","combo:tap":"onClick"}),this.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){if(!this.key||this.keydown){var e=t.item;e&&e.getID()!==this.source&&"node"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y})}},onClick:function(t){if(!this.key||this.keydown){var e=t.item,n=this.graph,i=e.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,t))return;var o={target:i.id};this.source===i.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(this.edge,o),n.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,t))return;this.edge=n.addItem("edge",Object(r.a)({source:i.id,target:i.id},this.edgeConfig),!1),this.source=i.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){if(!this.key||this.keydown){var e={x:t.x,y:t.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:e},!1):this.addingEdge=!1}},cancelCreating:function(t){if(!this.key||this.keydown){var e=this.graph,n=t.item;if(this.addingEdge&&t.target&&t.target.isCanvas&&t.target.isCanvas())return e.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);if(this.addingEdge&&this.edge===n){var r=!0;if(!e.get("groupByTypes"))for(var i=t.x,o=t.y,a=e.getNodes(),s=a.length,u=0;u<s;u++){var c=a[u],l=c.getModel(),h=c.getBBox();if(i<=h.maxX&&i>=h.minX&&o<=h.maxY&&o>=h.minY){if(!this.shouldEnd.call(this,{x:t.x,y:t.y,canvasX:t.canvasX,canvasY:t.canvasY,clientX:t.clientX,clientY:t.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(this.edge,{target:l.id}),e.emit("aftercreateedge",{edge:this.edge}),r=!1;break}}r&&e.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}}};Object(i.d)(O,(function(t,e){Object(o.o)(e,Object(r.a)(Object(r.a)({},t),M))}))}]).default}));
//# sourceMappingURL=f6.js.map