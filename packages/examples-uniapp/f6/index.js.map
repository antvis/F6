{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/../src/is-array-like.ts","webpack://[name]/../src/contains.ts","webpack://[name]/../src/filter.ts","webpack://[name]/../src/difference.ts","webpack://[name]/../src/is-type.ts","webpack://[name]/../src/is-function.ts","webpack://[name]/../src/is-nil.ts","webpack://[name]/../src/is-array.ts","webpack://[name]/../src/is-object.ts","webpack://[name]/../src/each.ts","webpack://[name]/../src/keys.ts","webpack://[name]/../src/is-match.ts","webpack://[name]/../src/is-object-like.ts","webpack://[name]/../src/is-plain-object.ts","webpack://[name]/../src/find.ts","webpack://[name]/../src/find-index.ts","webpack://[name]/../src/first-value.ts","webpack://[name]/../src/flatten.ts","webpack://[name]/../src/flatten-deep.ts","webpack://[name]/../src/max.ts","webpack://[name]/../src/min.ts","webpack://[name]/../src/get-range.ts","webpack://[name]/../src/pull.ts","webpack://[name]/../src/pull-at.ts","webpack://[name]/../src/reduce.ts","webpack://[name]/../src/remove.ts","webpack://[name]/../src/is-string.ts","webpack://[name]/../src/sort-by.ts","webpack://[name]/../src/uniq.ts","webpack://[name]/../src/union.ts","webpack://[name]/../src/values-of-key.ts","webpack://[name]/../src/head.ts","webpack://[name]/../src/last.ts","webpack://[name]/../src/starts-with.ts","webpack://[name]/../src/ends-with.ts","webpack://[name]/../src/every.ts","webpack://[name]/../src/some.ts","webpack://[name]/../src/group-by.ts","webpack://[name]/../src/group-to-map.ts","webpack://[name]/../src/group.ts","webpack://[name]/../src/get-wrap-behavior.ts","webpack://[name]/../src/wrap-behavior.ts","webpack://[name]/../src/number2color.ts","webpack://[name]/../src/parse-radius.ts","webpack://[name]/../src/clamp.ts","webpack://[name]/../src/fixed-base.ts","webpack://[name]/../src/is-number.ts","webpack://[name]/../src/is-decimal.ts","webpack://[name]/../src/is-even.ts","webpack://[name]/../src/is-integer.ts","webpack://[name]/../src/is-negative.ts","webpack://[name]/../src/is-number-equal.ts","webpack://[name]/../src/is-odd.ts","webpack://[name]/../src/is-positive.ts","webpack://[name]/../src/max-by.ts","webpack://[name]/../src/min-by.ts","webpack://[name]/../src/mod.ts","webpack://[name]/../src/to-degree.ts","webpack://[name]/../src/to-integer.ts","webpack://[name]/../src/to-radian.ts","webpack://[name]/../src/for-in.ts","webpack://[name]/../src/has.ts","webpack://[name]/../src/has-key.ts","webpack://[name]/../src/values.ts","webpack://[name]/../src/has-value.ts","webpack://[name]/../src/to-string.ts","webpack://[name]/../src/lower-case.ts","webpack://[name]/../src/lower-first.ts","webpack://[name]/../src/substitute.ts","webpack://[name]/../src/upper-case.ts","webpack://[name]/../src/upper-first.ts","webpack://[name]/../src/get-type.ts","webpack://[name]/../src/is-arguments.ts","webpack://[name]/../src/is-boolean.ts","webpack://[name]/../src/is-date.ts","webpack://[name]/../src/is-error.ts","webpack://[name]/../src/is-finite.ts","webpack://[name]/../src/is-null.ts","webpack://[name]/../src/is-prototype.ts","webpack://[name]/../src/is-reg-exp.ts","webpack://[name]/../src/is-undefined.ts","webpack://[name]/../src/is-element.ts","webpack://[name]/../src/request-animation-frame.ts","webpack://[name]/../src/clear-animation-frame.ts","webpack://[name]/../src/mix.ts","webpack://[name]/../src/augment.ts","webpack://[name]/../src/clone.ts","webpack://[name]/../src/debounce.ts","webpack://[name]/../src/memoize.ts","webpack://[name]/../src/deep-mix.ts","webpack://[name]/../src/extend.ts","webpack://[name]/../src/index-of.ts","webpack://[name]/../src/is-empty.ts","webpack://[name]/../src/is-equal.ts","webpack://[name]/../src/is-equal-with.ts","webpack://[name]/../src/map.ts","webpack://[name]/../src/map-values.ts","webpack://[name]/../src/get.ts","webpack://[name]/../src/set.ts","webpack://[name]/../src/pick.ts","webpack://[name]/../src/omit.ts","webpack://[name]/../src/throttle.ts","webpack://[name]/../src/to-array.ts","webpack://[name]/../src/unique-id.ts","webpack://[name]/../src/noop.ts","webpack://[name]/../src/identity.ts","webpack://[name]/../src/size.ts","webpack://[name]/../src/measure-text-width.ts","webpack://[name]/../src/get-ellipsis-text.ts","webpack://[name]/../src/cache.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/tslib/tslib.es6.js","webpack://[name]/../node_modules/color-convert/conversions.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/detect-browser/es/index.js","webpack://[name]/./src/index.umd.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/process/browser.js","webpack://[name]/../../src/util/util.ts","webpack://[name]/./src/global.ts","webpack://[name]/../../src/util/offscreen.ts","webpack://[name]/../node_modules/color-string/index.js","webpack://[name]/../node_modules/color-name/index.js","webpack://[name]/../node_modules/simple-swizzle/index.js","webpack://[name]/../node_modules/simple-swizzle/node_modules/is-arrayish/index.js","webpack://[name]/../node_modules/color-convert/index.js","webpack://[name]/../node_modules/color-convert/node_modules/color-name/index.js","webpack://[name]/../node_modules/color-convert/route.js","webpack://[name]/../node_modules/@antv/layout/lib/util/index.js","webpack://[name]/../node_modules/@antv/layout/lib/util/string.js","webpack://[name]/../node_modules/@antv/layout/lib/util/array.js","webpack://[name]/../node_modules/@antv/layout/lib/util/number.js","webpack://[name]/../node_modules/@antv/layout/lib/util/math.js","webpack://[name]/../node_modules/@antv/layout/lib/util/object.js","webpack://[name]/../node_modules/@antv/layout/lib/util/function.js","webpack://[name]/(webpack)/buildin/amd-options.js","webpack://[name]/../core/es/behavior/behaviorOption.js","webpack://[name]/../core/es/behavior/behavior.js","webpack://[name]/../core/es/behavior/index.js","webpack://[name]/../core/es/util/math.js","webpack://[name]/../core/es/global.js","webpack://[name]/../core/es/util/letterAspectRatio.js","webpack://[name]/../core/es/util/graphic.js","webpack://[name]/../core/es/util/validation.js","webpack://[name]/../core/es/graph/controller/mode.js","webpack://[name]/../core/es/interface/behavior.js","webpack://[name]/../core/es/util/base.js","webpack://[name]/../core/es/graph/controller/view.js","webpack://[name]/../core/es/element/xml.js","webpack://[name]/../core/es/element/shape.js","webpack://[name]/../core/es/item/item.js","webpack://[name]/../core/es/item/edge.js","webpack://[name]/../core/es/item/node.js","webpack://[name]/../core/es/item/combo.js","webpack://[name]/../core/es/graph/controller/item.js","webpack://[name]/../core/es/graph/controller/state.js","webpack://[name]/../core/es/util/path.js","webpack://[name]/../core/es/element/hull/convexHull.js","webpack://[name]/../core/es/element/hull/bubbleset.js","webpack://[name]/../core/es/item/hull.js","webpack://[name]/../core/es/graph/graph.js","webpack://[name]/../core/es/element/shapeBase.js","webpack://[name]/../core/es/element/node.js","webpack://[name]/../core/es/element/edge.js","webpack://[name]/../core/es/element/combo.js","webpack://[name]/../core/es/element/combos/circle.js","webpack://[name]/../core/es/element/combos/rect.js","webpack://[name]/../core/es/element/nodes/simple-circle.js","webpack://[name]/../core/es/element/nodes/simple-rect.js","webpack://[name]/../core/es/element/nodes/image.js","webpack://[name]/../core/es/element/arrow.js","webpack://[name]/../core/es/types/index.js","webpack://[name]/../core/es/element/marker.js","webpack://[name]/../core/es/element/index.js","webpack://[name]/../core/es/util/color.js","webpack://[name]/../core/es/util/index.js","webpack://[name]/../core/es/graph/controller/layout.js","webpack://[name]/../core/es/graph/controller/event.js","webpack://[name]/../core/es/index.js","webpack://[name]/../src/parse-path.ts","webpack://[name]/../src/catmull-rom-2-bezier.ts","webpack://[name]/../src/parse-path-string.ts","webpack://[name]/../src/path-2-absolute.ts","webpack://[name]/../../src/process/arc-2-cubic.ts","webpack://[name]/../src/get-arc-params.ts","webpack://[name]/../src/path-2-segments.ts","webpack://[name]/./src/layout/index.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/adjacent-matrix.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/structs/linked-list.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/structs/queue.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/util.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/bfs.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/connected-component.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/degree.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/dfs.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/detect-cycle.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/dijkstra.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/find-path.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/types.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/floydWarshall.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/label-propagation.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/utils/vector.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/utils/node-properties.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/utils/data-preprocessing.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/louvain.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/i-louvain.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/k-core.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/k-means.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/cosine-similarity.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/nodes-cosine-similarity.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/structs/union-find.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/structs/binary-heap.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/mts.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/pageRank.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/gSpan/struct.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/gSpan/gSpan.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/gaddi.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/structs/stack.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@antv/algorithm/es/index.js","webpack://[name]/../src/ext.ts","webpack://[name]/../hammer/dist/hammer.min.js","webpack://[name]/./src/util/layout.ts","webpack://[name]/./src/util/index.ts","webpack://[name]/../element/node_modules/tslib/tslib.es6.js","webpack://[name]/../element/es/nodes/circle.js","webpack://[name]/../element/es/nodes/rect.js","webpack://[name]/../element/es/nodes/ellipse.js","webpack://[name]/../element/es/nodes/diamond.js","webpack://[name]/../element/es/nodes/triangle.js","webpack://[name]/../element/es/nodes/modelRect.js","webpack://[name]/../element/es/nodes/star.js","webpack://[name]/../element/es/nodes/donut.js","webpack://[name]/../element/es/edges/polyline-util.js","webpack://[name]/../element/es/edges/router.js","webpack://[name]/../element/es/edges/polyline.js","webpack://[name]/./src/behavior/drag-canvas.ts","webpack://[name]/./src/behavior/drag-node.ts","webpack://[name]/./src/behavior/click-select.ts","webpack://[name]/./src/behavior/zoom-canvas.ts","webpack://[name]/./src/behavior/collapse-expand.ts","webpack://[name]/./src/behavior/drag-combo.ts","webpack://[name]/./src/behavior/collapse-expand-combo.ts","webpack://[name]/./src/behavior/create-edge.ts","webpack://[name]/./src/behavior/mobile-behavior.ts","webpack://[name]/./src/behavior/index.ts","webpack://[name]/./src/behavior/activate-relations.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/gl-matrix/esm/mat3.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/gl-matrix/esm/vec2.js","webpack://[name]/../src/create-dom.ts","webpack://[name]/../src/modify-css.ts","webpack://[name]/../node_modules/color/index.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/gl-matrix/esm/common.js","webpack://[name]/../node_modules/@antv/layout/lib/registy/index.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/random.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/base.js","webpack://[name]/../../src/util/path.ts","webpack://[name]/../../src/event/graph-event.ts","webpack://[name]/../../src/abstract/base.ts","webpack://[name]/../../src/util/matrix.ts","webpack://[name]/../../src/abstract/element.ts","webpack://[name]/../../src/abstract/container.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-timer/src/timer.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-color/src/define.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-color/src/color.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/basis.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/constant.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/color.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/rgb.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/basisClosed.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/numberArray.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/array.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/date.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/number.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/object.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/string.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-interpolate/src/value.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/linear.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/quad.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/cubic.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/poly.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/sin.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/math.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/exp.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/circle.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/bounce.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/back.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/d3-ease/src/elastic.js","webpack://[name]/../../src/animate/register.ts","webpack://[name]/../../src/util/color.ts","webpack://[name]/../../src/animate/timeline.ts","webpack://[name]/../../src/event/event-contoller.ts","webpack://[name]/../../src/abstract/canvas.ts","webpack://[name]/../../src/abstract/group.ts","webpack://[name]/../../src/abstract/shape.ts","webpack://[name]/../../src/bbox/register.ts","webpack://[name]/../../src/bbox/rect.ts","webpack://[name]/../../src/bbox/circle.ts","webpack://[name]/../../src/bbox/util.ts","webpack://[name]/../../src/bbox/polyline.ts","webpack://[name]/../../src/util/text.ts","webpack://[name]/../../src/bbox/text.ts","webpack://[name]/../../src/bbox/path.ts","webpack://[name]/../../src/bbox/index.ts","webpack://[name]/../../src/bbox/polygon.ts","webpack://[name]/../../src/bbox/line.ts","webpack://[name]/../../src/bbox/ellipse.ts","webpack://[name]/../src/util.ts","webpack://[name]/../src/line.ts","webpack://[name]/../src/bezier.ts","webpack://[name]/../src/quadratic.ts","webpack://[name]/../src/cubic.ts","webpack://[name]/../src/ellipse.ts","webpack://[name]/../src/arc.ts","webpack://[name]/../src/segments.ts","webpack://[name]/../src/polyline.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/gl-matrix/esm/vec3.js","webpack://[name]/../src/index.ts","webpack://[name]/../../src/util/time.ts","webpack://[name]/../../src/util/parse.ts","webpack://[name]/../../src/util/arc-params.ts","webpack://[name]/../../src/util/arrow.ts","webpack://[name]/../../src/util/draw.ts","webpack://[name]/../../src/shape/base.ts","webpack://[name]/../../src/shape/circle.ts","webpack://[name]/../../src/shape/ellipse.ts","webpack://[name]/../../src/shape/image.ts","webpack://[name]/../../../src/util/in-stroke/line.ts","webpack://[name]/../../src/shape/line.ts","webpack://[name]/../../src/shape/marker.ts","webpack://[name]/../../../src/util/in-path/polygon.ts","webpack://[name]/../../../src/util/in-stroke/arc.ts","webpack://[name]/../../src/shape/path.ts","webpack://[name]/../../../src/util/in-stroke/polyline.ts","webpack://[name]/../../src/shape/polygon.ts","webpack://[name]/../../src/shape/polyline.ts","webpack://[name]/../../src/shape/rect.ts","webpack://[name]/../../../src/util/in-stroke/rect-radius.ts","webpack://[name]/../../../src/util/in-stroke/rect.ts","webpack://[name]/../../src/shape/text.ts","webpack://[name]/../../src/util/hit.ts","webpack://[name]/../src/events.ts","webpack://[name]/../../src/util/mini-canvas-proxy.ts","webpack://[name]/../../../src/patch/bbox/text.ts","webpack://[name]/../../../src/patch/bbox/index.ts","webpack://[name]/../../src/patch/index.ts","webpack://[name]/../src/canvas.ts","webpack://[name]/./src/graph/controller/event.ts","webpack://[name]/./src/graph/controller/layout.ts","webpack://[name]/./src/graph/graph.ts","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@ctrl/tinycolor/dist/module/util.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@ctrl/tinycolor/dist/module/conversion.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@ctrl/tinycolor/dist/module/format-input.js","webpack://[name]//Users/bingren/Desktop/fork/F6/node_modules/@ctrl/tinycolor/dist/module/index.js","webpack://[name]/./node_modules/@ant-design/colors/dist/index.esm.js","webpack://[name]/./src/util/color.ts","webpack://[name]/../node_modules/@antv/g-mobile/esm/util/time.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/../node_modules/@antv/layout/lib/layout/layout.js","webpack://[name]/./src/index.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isArrayLike","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","isNil","Array","isArray","each","elements","len","isObject","k","keys","obj","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","rst","flatten","concat","flattenDeep","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","splice","pull","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","item","has","set","union","sources","apply","tmpMap","j","val","head","startsWith","e","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","groups","array","getWrapBehavior","action","wrapBehavior","method","numColorCache","numberToColor","num","color","parseRadius","radius","r1","r2","r3","r4","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","isDecimal","isEven","isInteger","Number","isNegative","isNumberEqual","precision","abs","isOdd","isPositive","maxItem","Infinity","minItem","mod","DEGREE","PI","toDegree","radian","parseInt","RADIAN","toRadian","degree","lowerCase","toLowerCase","lowerFirst","charAt","substring","substitute","match","slice","undefined","upperCase","toUpperCase","upperFirst","getType","isArguments","isBoolean","isDate","isError","isNull","objectProto","isPrototype","Ctor","constructor","isRegExp","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","augment","args","clone","debounce","wait","immediate","timeout","context","arguments","later","callNow","resolver","TypeError","memoized","_deepMix","src","level","maxLevel","deepMix","extend","subclass","superclass","overrides","staticOverrides","Tmp","superObj","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","forEach","defaultValue","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","setPrototypeOf","__proto__","__extends","String","__","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","op","pop","__spreadArrays","il","jl","__spreadArray","to","from","pack","ar","cssKeywords","require","reverseKeywords","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","gray","model","Error","comparativeDistance","pow","h","u","floor","atan2","sqrt","cos","sin","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","_a","browser","regex","uaMatch","exec","matchedRule","versionParts","count","output","ii","createVersionParts","detectOS","searchBotMatch","globalThis","self","global","defineProperties","f6","console","warn","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","container","shape","isCanvas","parent","getParent","isParent","element","cfg","visible","capture","colorSet","rootContainerClassName","uiContainerClassName","waterContainerClassName","nodeContainerClassName","edgeContainerClassName","comboContainerClassName","delegateContainerClassName","defaultLoopPosition","nodeLabel","style","fill","textAlign","textBaseline","offset","defaultNode","lineWidth","stroke","mainStroke","mainFill","linkPoints","activeFill","activeStroke","nodeStateStyles","active","shadowColor","shadowBlur","selected","selectedFill","selectedStroke","highlight","highlightFill","highlightStroke","inactive","inactiveFill","inactiveStroke","disable","disableFill","disableStroke","edgeLabel","defaultEdge","edgeMainStroke","lineAppendWidth","edgeStateStyles","edgeActiveStroke","edgeSelectedStroke","edgeHighlightStroke","edgeInactiveStroke","edgeDisableStroke","comboLabel","refY","refX","defaultCombo","comboMainFill","comboMainStroke","height","padding","comboStateStyles","comboActiveStroke","comboActiveFill","comboSelectedStroke","comboSelectedFill","comboHighlightStroke","comboHighlightFill","comboInactiveStroke","comboInactiveFill","comboDisableStroke","comboDisableFill","delegateStyle","fillOpacity","strokeOpacity","lineDash","textWaterMarkerConfig","compatible","x","lineHeight","rotate","baseline","imageWaterMarkerConfig","image","waterMarkerImage","offScreenCtx","canvas","colorNames","swizzle","reverseNames","cs","hexDouble","percent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","isArrayish","wrap","Function","getOwnPropertyDescriptor","_typeof","conversions","route","conversion","wrapRounded","raw","wrapRaw","deriveBFS","distance","buildGraph","unshift","link","wrapConversion","__createBinding","__exportStar","camelize","camelizeRE","cacheStringFunction","toNumber","traverseTreeUp","scaleMatrix","getAdjMatrix","floydWarshall","getDegree","source","target","nodes","edges","id","children","traverseUp","getTime","__webpack_amd_options__","getDefaultCfg","getEvents","updateCfg","shouldBegin","shouldUpdate","shouldEnd","graph","events","event","unbind","Behavior","registerBehavior","behavior","behaviorOption","_this","eventsToBind","handle","types","hasBehavior","getBehavior","transform","compare","attributeName","isBetween","getLineIntersect","p0","p1","p2","p3","E","D0","D1","kross","invertKross","getRectIntersectByPoint","rect","point","points","center","getCircleIntersectByPoint","circle","cx","cy","dx","dy","signX","sign","signY","angle","atan","getEllipseIntersectByPoint","ellipse","rx","ry","matrix","tag","vector","transformMat3","inversedMatrix","invert","getCircleCenterByPoints","denominator","vx","vy","ratio","newRow","adjMatrix","directed","nodeMap","node","sIndex","tIndex","translate","group","vec","move","getMatrix","bbox","getCanvasBBox","minX","minY","movedMatrix","setMatrix","scaleXY","nodeIdxMap","degrees","onSegment","q","isPointInPolygon","isHit","dcmp","xValue","intersectBBox","box1","box2","maxX","maxY","points1","points2","getBBox","xArr","yArr","parseToLines","lines","first","bbox1","bbox2","isIn","lines1","lines2","isIntersect","line","Line","x1","y1","x2","y2","getBBoxBoundLine","direction","top","left","bottom","right","fractionAlongLineA","la","lb","uaT","ubT","uB","ub","POSITIVE_INFINITY","itemIntersectByLine","directions","countIntersections","intersections","fractionToLine","minDistance","testDistance","getPointsCenter","centerX","centerY","_i","points_1","squareDist","pointLineSquareDist","projlenSq","px","py","dotprod","lenSq","isPointsOverlap","pointRectSquareDist","isLeft","isRight","isTop","isBottom","exactEquals","NaN","normalize","dot","subjectColor","comboFill","A","B","C","D","F","G","H","I","J","K","L","M","N","O","Q","R","S","T","U","V","w","W","X","Y","z","Z","$","SELF_LINK_SIN","SELF_LINK_COS","leftTop","rightBottom","lx","ly","sourceNode","targetNode","containerMatrix","getKeyShape","loopCfg","position","startPoint","endPoint","rstart","rend","sinDeltaStart","cosDeltaStart","sinDeltaEnd","cosDeltaEnd","clockwise","swap","startVec","scaleRateStart","scaleRateEnd","startExtendVec","scale","controlPoint1","endVec","endExtendVec","controlPoint2","controlPoints","pathShape","getPoint","getStartTangent","reverse","getEndTangent","offsetPoint","rad","normal","traverse","traverseTree","letter","letterAspectRatio","getTextSize","pattern","RegExp","test","addedMap","modelMap","cd","itemType","parentId","mappedObj","mappedParent","parent_1","parent_2","pa","combo","comboId","cnode","maxDepth","tree","depth","child","oriNodeModel","reconstructTree","trees","subtreeId","newParentId","subtree","brothers","comboChildsMap","foundSubTree","oldParentId","removed","found_1","newParentDepth_1","currentDepth_1","getComboBBox","comboBBox","childItem","findById","isVisible","childBBox","refreshEdge","anchorPoints","clonedObj","key1","obj2","clonedObj2_1","key2","error","combos","validated_1","param","nonNode","nodeIds","comboIds","ids","nonEdges","edge","ModeController","destroyed","modes","default","formatModes","currentBehaves","setMode","setBehaviors","behave","behaviors","behaves","BehaviorInstance","mergeBehaviors","modeBehaviors","filterBehaviors","current","delegate","getMode","manipulateBehaviors","isAdd","currentMode","updateBehavior","newCfg","behaviorSet","length_2","length_1","destroy","_super","G6GraphEvent","canvasX","canvasY","detail","uniqueId","random","clientX","clientY","currentTarget","bubbles","isViewportChanged","ORIGIN_MATRIX","input","calculationItemsBBox","items","minx","maxx","miny","maxy","ceil","processParallelEdges","offsetDiff","multiEdgeType","singleEdgeType","loopEdgeType","cod","loopPosition","edgeMap","tags","reverses","sourceTarget","sedge","dst","arcEdges","curveOffset","ViewController","getViewCenter","getFormatPadding","fitCenter","resetMatrix","viewCenter","groupCenter","fitView","zoom","focusPoint","animate","animateCfg","modelCenter","getPointByCanvas","viewportMatrix","dx_1","dy_1","lastX_1","lastY_1","newX_1","newY_1","getPointByClient","canvasPoint","getClientByPoint","getCanvasByPoint","focus","sourceMatrix","getSource","targetMatrix","getTarget","changeSize","plugin","minZoom","looseJSONParse","safeParse","JSON","parse","trim","firstAttempt","tail","objectStack","syntaxStack","isLastPair","syntaxes","syntax","temp","nowChar","isInString","isLastTranslate","isInObject","isInArray","isWaitingValue","tempArr","generateTarget","lastOffset","defaultBbox","_b","marginTop","chilrenBBox","shapeHeight","shapeWidth","marginLeft","createNodeFromXML","gen","structures","compileXML","xml","xmlParser","innerHTML","parseXML","getAttributeNames","tagName","innerText","getAttribute","keyshape","draw","resultTarget","renderTarget","rest","addShape","origin","update","getContainer","newTarget","diffResult","compareTwoTarget","nowTarget","formerTarget","_c","_d","formerChilren","nowChilren","formerKeys","nowKeys","delShape","targetShape","removeChild","updateTarget","originAttr","getOriginStyle","attr","getAnchorPoints","ucfirst","ShapeFactoryBase","defaultShapeType","className","getShape","afterDraw","baseUpdate","afterUpdate","setState","getControlPoints","ShapeFramework","drawShape","defaultAnchorPoints","Shape","registerFactory","factoryType","factoryBase","shapeFactory","getFactory","registerNode","shapeType","nodeDefinition","extendShapeType","shapeObj","Node","autoNodeDefinition","jsx","extendShape","registerEdge","edgeDefinition","Edge","registerCombo","comboDefinition","Combo","ItemBase","_cfg","defaultCfg","locked","keyShape","states","stateStyles","styles","calculateBBox","calculateCanvasBBox","drawInner","clear","changeVisibility","updatePosition","getShapeCfg","setOriginStyle","restoreStates","keyShapeName","styles_1","currentStatesStyle_1","getCurrentStatesStyle","shapeAttrs","shapeStateStyle_1","getShapeStyleByName","shapeAttrs_1","keyShapeStateStyles_1","originStyles_1","keyShapeStyle","shapeName","state","clearCache","beforeDraw","currentShape","styles_2","newModel","getStateStyle","getStates","stateName","filterStateName","newStates","filterStates","clearStates","originStates","getModel","getID","isItem","hasState","refresh","updateShape","isOnlyMove","onlyMove","oriVisible","cfgVisible","originPosition","toFront","toBack","show","hide","enableCapture","enable","stopAnimate","END_MAP","linkCenter","setEnd","pointName","itemName","preItem","removeEdge","addEdge","getLinkPoint","anchorName","prePoint","getPrePoint","anchorIndex","getLinkPointByAnchor","oppositeName","getEndPoint","getControlPointsByCenter","sourcePoint","targetPoint","getEndCenter","setSource","setTarget","out","sourceItem","targetItem","getNearestPoint","curPoint","nearestPoint","dis","getEdges","getInEdges","getOutEdges","getNeighbors","intersectPoint","linkPoint","bbox_1","shapeCfg","pointArr","lock","unlock","hasLocked","existX","existY","hypot","cacheSize","cacheBBox","oriX","oriY","getChildren","getNodes","getCombos","addChild","addNode","addCombo","removeNode","removeCombo","ItemController","addItem","vType","upperType","defaultModel","mapper","mappedModel_1","isComboEdge","addGroup","comboGroup","setZIndex","comboModel_1","collapsed","collapseCombo","updateItem","mappedModel","edges_1","updateCombo","updateComboEdges","combEdges","edgeSF","edgeCfg","edgeGroup","hideItem","expandCombo","showItem","removeItem","itemModel","vitems","vindex","itemId","comboTrees","brothers_1","ctree","bidx","comboInTree_1","found_2","setItemState","enabled","autoPaint","priorityState","currentItem","clearItemStates","refreshItem","addCombos","comboModels","comboModel","changeItemVisibility","id_1","children_1","found_3","timer","StateController","cachedStates","disabled","checkCache","cacheState","updateState","enabledStates","disabledStates","updateGraphStates","updateStates","map_1","res","spliePath","tangent","perpendicular","pointsToPolygon","pathToPoints","seg","getClosedSpline","second","lastSecond","closedPath","x0","y0","cp1x","cp1y","cp2x","cp2y","unitNormal","nLength","vecFrom","roundedHull","polyPoints","roundedHull1","offsetVector","invOffsetVector","add","roundedHull2","segments","segmentIndex","arcData","segment","pathFragment","paddedHull","pointCount","extensionVec","extension0","extension1","tangentHalfLength","controlDelta","invControlDelta","control0","control1","control3","smoothHull2","hullPoints","pNext","priorIndex","cross","genConvexHull","lower","upper","defaultOps","maxRoutingIterations","maxMarchingIterations","pixelGroupSize","edgeR0","edgeR1","nodeR0","nodeR1","morphBuffer","threshold","skip","nodeInfluenceFactor","edgeInfluenceFactor","negativeNodeInfluenceFactor","MarchingSquares","contour","potentialArea","marched","getVal","cells","getState","squareVal","doMarch","xPos","yPos","prevX","prevY","march","closestItem","getRoute","nonMembers","visited","optimalNeighbor","closestNeighbour","minCost","neighbourItem","itemP","neighbourItemP","directLine","numberObstacles","_item","checkedLines","finalRoute","line1","line2","mergeLine","mergeLines","linesToCheck","hasIntersection","iterations","pointExists","flag","isPointInNonMembers","_nonMembers","_nonMembers_1","itemContour","_loop_1","intersections_1","testReroute","isFirst","tempMorphBuffer","virtualNode","rerouteLine","exist","pointInside","members","centroid","virtualEdges","scaleWidth","scaleHeight","activeRegion","NEGATIVE_INFINITY","bboxes","bboxes_1","getActiveRregion","Float32Array","hull","fillPotentialArea","marchedPath","members_1","isContourValid","memberInfluenceFactor","nonMemberInfluenceFactor","pos2GridIx","gridIx","gridIx2Pos","nodeInfA","edgeInfA","getAffectedRegion","thresholdR","addItemInfluence","influenceFactor","startX","startY","endX","endY","tempX","tempY","distanceSq","dr","minDistanceSq","mdr","addEdgeInfluence","buffer","wrapNormal","topIntersect","leftIntersect","bottomIntersect","rightIntersect","cornerPos","topLeft","topRight","bottomLeft","bottomRight","totalArea","calcHalfArea","intersect1","intersect2","Hull","setPadding","setType","calcPath","render","opacity","nodeSize","bubbleCfg","addMember","updateData","addNonMember","removeMember","removeNonMember","updateStyle","contain","nodeItem","shapePoints","shapeBBox","AbstractGraph","animating","enabledStack","undoStack","maxStep","redoStack","initCanvas","viewController","modeController","itemController","stateController","initLayoutController","initEventController","initGroups","initPlugins","timeIndex","onTick","nodeGroup","delegateGroup","renderer","plugins","fitViewPadding","maxZoom","groupByTypes","vedges","itemMap","onFrame","duration","easing","callback","tooltips","getGroup","getMinZoom","setMinZoom","getMaxZoom","setMaxZoom","getWidth","getHeight","nodeFn","edgeFn","comboFn","findAll","findAllByState","moveTo","addBehaviors","removeBehaviors","zoomTo","toRatio","getZoom","focusItem","isAnimate","curAniamteCfg","paint","getGraphCenterPoint","getViewPortCenterPoint","stack","before","after","pushStack","setAutoPaint","auto","deletedModel","updateComboTree","newComboTrees","sortCombo","currentComboSorted","itemMap_1","foundParent_1","newCombo","parentCombo","itemMap_2","foundParent_2","foundNode_1","cloneNode","sortCombos","addedModel","UnupdateModel","afterModel","clearStack","layoutController","layout","refreshPositions","read","diffItems","models","changeData","save","removeHulls","localRefresh","combosData","comboItems","getLayoutType","positionsAnimate","createCombo","comboConfig","elementId","cItem","uncombo","comboItem","treeToBeUncombo","parentItem","childModel","updateCombos","uItem","itemSubTree_1","valid_1","subTree","beforeData","afterData","vedge","getComboChildren","toNodes","isAnimating","originAttrs","updatedNodes","changed","sourceModel","targetModel","getCurrentMode","avoidEmit","updateLayout","oriLayoutCfg","layoutCfg","isLayoutTypeSame","gpuEnabled","updateLayoutCfg","changeLayout","destroyLayout","workerEnabled","layoutMethod","relayout","cnodes","ccombos","found","edgeWeightMap","addedVEdges","isVEdge","edgeModel","targetId","sourceId","vedgeModel","vedgeId","collapseExpandCombo","parentModel","depthMap","dataDepthMap","cTree","edgeItem","sourceDepth","targetDepth","getNodeDegree","nodeDegrees","inDegree","outDegree","getUndoStack","getRedoStack","getStackData","toArray","stackType","stackData","currentAdjMatrix","getShortestPathMatrix","currentShourtestPathMatrix","eventName","createHull","hullMap","getHulls","getHullById","hullId","removeHull","hullInstance","hulls","timestamp","SHAPE_DEFAULT_ATTRS","shadowOffsetX","shadowOffsetY","SHAPES_DEFAULT_ATTRS","startArrow","endArrow","shapeBase","getCustomConfig","getOptions","labelCfg","getComputedStyle","getPropertyValue","descriptionCfg","drawLabel","labelStyle","getLabelStyle","draggable","labelBBox","labelMatrix","rotateCenter","background","drawLabelBg","labelBgClassname","defaultLabelCfg","getLabelBgStyleByPosition","getLabelStyleByPosition","calculateStyle","attrName","defaultStyle","getShapeStyle","updateShapeStyle","updateLabel","shapeStyle","subShape","labelClassName","labelBg","currentLabelCfg","cfgStyle","cfgBgStyle","rotateMatrix","calculateBgStyle","labelBgStyle","bgRotateMatrix","shapeStateStyle","itemStateStyle","keptAttrs","_loop_2","enableStatesStyle","originStyle_1","keyShapeName_1","keyShapeStyles_1","filtetDisableStatesStyle","_loop_3","subShape_1","subShapeStyles_1","value_1","value_2","value_3","enableStyle","originstyles","keyShapeSetted","_loop_4","originKey","_e","value_4","modelStateStyle","singleNode","labelPosition","getSize","backgroundStyle","backgroundWidth","backgroundHeight","updateLinkPoints","currentLinkPoints","defaultLinkPoints","markLeft","markRight","markTop","markBottom","markFill","markStroke","borderWidth","markSize","isAnchorPoint","hasIcon","updateIcon","icon","iconShape","iconConfig","labelShape","singleNodeDef","singleEdge","labelAutoRotate","getPath","strokeStyle","getPathPoints","currentAttr","previousStyle","routeCfg","pointPercent","autoRotate","offsetX","offsetY","offsetStyle","_getTextAlign","revertAlign","defaultFontFamily","rotateAtStart","singleEdgeDef","arcPoint","midPoint","edgeAngle","curvePosition","minCurveOffset","yDist","xDist","singleCombo","singleComboDef","fixSize","itemCacheSize","leftDis","topDis","fixCollapseSize","img","clipCfg","drawClip","clip","setClip","rectX","rectY","shapeClassName","G6Event","triangle","begin","vee","diamond","triangleRect","tWidth","tLength","rWidth","rLength","gap","rectBegin","collapse","expand","upTriangle","l1","l2","downTriangle","defaultSubjectColors","mat3","LayoutController","layoutType","layoutMethods","initLayout","getLayoutCfgType","pipes","pipe","refreshLayout","destoryLayoutMethods","setDataFromGraph","hiddenNodes","hiddenEdges","comboEdges","nodeItems","edgeItems","nodeLength","edgeLength","comboLength","hiddenCombos","reLayoutMethod","reslove","onLayoutEnd","ticking","forceSimulation","stop","execute","isCustomLayout","reloadData","initPositions","start","currentCfg","onAllLayoutEnd","catch","filterLayoutData","nodesFilter","edegsFilter","edgesFilter","nodesMap_1","acc","cur","getLayoutBBox","graphGroupNodes","layoutOrder","layoutNodes","groupNodes","layoutAnimate","moveToZero","meanCenter","horiNum","horiGap","vertiGap","beginX","beginY","allHavePos","initEvents","BaseGlobal","regexTags","regexDot","parsePath","sub","catmullRom2Bezier","crp","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","nextCp0","cp0","cps","hasConstraint","vec2","d0","d1","sum","v1","v2","shift","smoothBezier","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","params","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","mx","my","preParams","upCmd","jj","symetricT","symetricS","vMag","vRatio","vAngle","acos","isSamePoint","point1","point2","getArcParams","xRotation","arcFlag","sweepFlag","xp","yp","lambda","diff","cxp","cyp","theta","dTheta","startAngle","endAngle","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","startTangent","endTangent","arcParams","cp","preSegment","_f","_g","_h","dx1","dy1","dx2","dy2","graphData","defaultComparator","LinkedListNode","LinkedList","comparator","prepend","newNode","append","delete","deleteNode","currentNode","deleteTail","deletedTail","deleteHead","deletedHead","fromArray","prevNode","nextNode","Queue","linkedList","peek","enqueue","dequeue","removeHead","nodeId","currentEdges","getEdgesByNodeId","random1","random2","breadthFirstSearch","startNodeId","originalCallbacks","callbacks","seen","initiatedCallback","stubCallback","allowTraversalCallback","allowTraversal","enter","leave","initCallbacks","nodeQueue","previousNode","detectStrongConnectComponents","nodeStack","inStack","indices","lowLink","allComponents","getComponent","neighbors","targetNodeID","component","tmpNode","nodes_1","getConnectedComponents","neighbor","detectConnectedComponents","getInDegree","getOutDegree","depthFirstSearch","depthFirstSearchRecursive","detectAllUndirectedCycle","include","allCycles","components_1","rootId","used","Set","curNode","curNodeId","neighborId","cycleValid","cyclePath","cycle","detectAllDirectedCycle","blocked","idx2Node","node2Idx","circuit","adjList","closed","thisNode","unblock","getMinComponentAdj","components","minCompIdx","minIdx","comp","nodeIdx_1","nodeIdx","subgraphNodes","sccs","scc","startNode","detectAllCycles","detectDirectedCycle","dfsParentMap","unvisitedSet","visitingSet","visitedSet","currentCycleNode","previousCycleNode","dfs","dijkstra","weightPropertyName","marks","prevs","nodeNum","minNode","minDis","minVertex","minNodeId","getOutEdgesNodeId","edgeTarget","edgeSource","weight","paths","findAllPaths","allPath","foundPaths","prevPaths","prevPaths_1","prePath","DistanceType","findShortestPath","end","findAllPath","isVisited","adjacentMatrix","labelPropagation","maxIteration","clusters","cid","clusterId","ks","iid","entry","jid","iter","neighborClusters","neighborWeight","neighborClusterId","maxWeight","bestClusterIds","selfClusterIdx","selfCluster","nodeInSelfClusterIdx","randomIdx","bestCluster","cluster","clusterEdges","clusterEdgeMap","sourceClusterId","targetClusterId","newEdgeId","newEdge","clustersArray","Vector","getArr","otherVector","otherArr","subtract","avg","negate","squareEuclideanDistance","euclideanDistance","cloneArr","norm2","equal","getAllProperties","allProperties","getAllKeyValueMap","dataList","involvedKeys","uninvolvedKeys","allKeyValueMap","oneHot","oneHotCode","code","keyValue","allKeyValue","valueIndex","subCode","getDistance","otherItem","distanceType","EuclideanDistance","getModularity","modularity","clusteri","getInertialModularity","allPropertiesWeight","totalProperties","avgProperties","variance","propertiesi","squareEuclideanDistanceInfo","propertiesj","inertialModularity","clusterj","clusterInertial","louvain","propertyKey","inertialWeight","properties","originIndex","nodeTypeInfo_1","nodeType","totalModularity","previousModularity","finalNodes","finalClusters","increaseWithinThreshold","sumTot","bestIncrease","commonParam","kiin","selfClusterNodes","scNode","scNodeIdx","removeModurarity","selfClusterNodesAfterRemove","propertiesWeightRemove","nodeRemove","removeInertialModularity","nodeNeighborIds","neighborNodeId","neighborCluster","clusterNodes","neighborClusterKiin","cNode","cNodeIdx","addModurarity","clusterNodesAfterAdd","propertiesWeightAdd","nodeAdd","addInertialModularity","increase","previousClusterId_1","neighborClusterSumTot_1","selfClusterSumTot_1","newClusterIdMap","clusterIdx","newId","nodeInfo","iLouvain","kCore","minIndexId","getCentroid","kMeans","defaultClusterInfo","allPropertiesWeightUniq","finalK","centroids","centroidIndexList","randomIndex","maxDistance","maxDistanceNodeIndex","totalDistance","avgDistance","minDistanceIndex","centroidsEqualAvg","totalVector","avgVector","cosineSimilarity","targetItemVector","targetNodeNorm2","itemVector","itemNorm2","norm2Product","nodesCosineSimilarity","seedNode","similarNodes","seedNodeIndex","seedNodeProperties","allCosineSimilarity","nodeProperties","cosineSimilarityValue","UnionFind","items_1","rootA","rootB","connected","defaultCompare","MinBinaryHeap","compareFn","list","getLeft","getRight","delMin","moveDown","insert","moveUp","primMST","selectedEdges","currNode","edgeQueue","currEdge","kruskalMST","weightEdges","disjointSet","curEdge","minimumSpanningTree","algo","prim","kruskal","pageRank","epsilon","linkProb","currentRank","leakedRank","maxIterations","nodesCount","curRanks","prevRanks","nodeDegree","Graph","edgeIdAutoIncrease","nodeLabelMap","edgeLabelMap","counter","getNodeNum","rEdge","DFSedge","fromNode","toNode","fromNodeLabel","toNodeLabel","nodeEdgeNodeLabel","nodeLabel1","nodeLabel2","equalTo","formNode","notEqualTo","DFScode","rmpath","dfsEdgeList","aLength","pushBack","toGraph","graphId","dfsEdge","fromNodeId","toNodeId","buildRmpath","oldFrom","fromNodeIdx","toNodeIdx","History","pdfs","his","nodesUsed","edgesUsed","preNode","hasNode","hasEdge","GSpan","graphs","minSupport","minNodeNum","maxNodeNum","verbose","dfsCode","support","frequentSize1Subgraphs","frequentSubgraphs","reportDF","findForwardRootEdges","findBackwardEdge","edge1","edge2","history","edge2ToEdges","findForwardPureEdges","rightmostEdge","minNodeLabel","rightmostEdgeToId","findForwardRmpathEdges","newToNodeLabel","getSupport","projected","graphMap","pro","findMinLabel","minLabel","isMin","log","dfsCodeMin","otherNode","projectIsMin","maxToC","backwardRoot","newTo","backwardEdge","minBackwardEdgeLabel","idx_1","forwardRoot","newFrom","forwardPureEdges","pathLength","forwardRmpathEdges","forwardMinEdgeNodeLabel","report","subGraphMining","generate1EdgeFrequentSubGraphs","nodeLabelCounter","nodeEdgeNodeCounter","nodeLableCounted","nodeEdgeNodeLabelCounted","graphNodeKey","graphKey","graphNodeEdgeNodeKey","nodeEdgeNodeKey","gSpan","nodeLabelProp","edgeLabelProp","formattedGraphs","fGraph","sourceIdx","targetIdx","formatGraphs","calculator","toGraphDatas","findKNeighborUnits","spm","units","findKNeighborUnit","unitNodeIdxs","labelCountMap","dists","nodeIdxs","neighborNum","nodeLabelCountMap","getIntersectNeighborInducedGraph","nodePairMap","neighborUnits","cachedInducedGraphMap","pair","startUnitNodeIds","endUnitNodeIds","endSet","intersect","intersectIdMap","intersectLength","getMatchedCount","structure","sourceLabel","targetLabel","strNodeLabel1","strNodeLabel2","strEdgeLabel","getNodeMaps","getEdgeMaps","getSpmMap","iId","jId","getNDSDist","node1","node2","spDist","kNeighborUnits","cachedNDSMap","cachedInterInducedGraph","interInducedGraph","pairMap","stashPatternNodeLabelDegreeMap","minPatternNodeLabelDegreeMap","neighborLabel","patternNodeMap","patternNodeLabelMap","minPatternNodeLabelDegree","minPatternNodeLabelInDegree","minPatternNodeLabelOutDegree","patternNodeWithLabel","patternNodeDegree","patternNodeInDegree","patternNodeOutDegree","GADDI","patternSpm","spmMap","patternSpmMap","patternEdgeLabelMap","patternSpmSpread","patternKNeighborUnits","nodePairsMap","maxNodePairNum","nodePairNumEachNode","foundNodePairCount","unit","nodePairForICount","outerLoopCount","oidx","innerLoopCount","findNodePairsRandomly","intGMap","freStructures","structureNum","matchedCountMap","subStructureCount","maxOffset","representClusterType","countMapI","sortedGraphKeys","totalCount","aveCount","aveIntraDist","aveCounts","graphsInCluster","aveIntraPerCluster","graphsNum","graphKey1","graph1Count","graphKey2","aveInterDist","aveCount1","aveCount2","structureCountMap","findRepresentStructure","dsG","ndsDist","beginPNode","candidates","maxNodeNumWithSameLabel","pLabel","nodesWithSameLabel","patternIntGraphMap","patternNDSDist","patternNDSDistMap","patternSpDist","patternSpDistBack","label2","maxDist","patternNodesWithLabel2","patternNodePairMap","nodeWithLabel2","distBack","currentPatternNDSDistArray","patternIntGraph","graphNeighborUnit","graphNeighborUnitCountMap","patternLabel2Num","prune2Invalid","cNodePairMap","neighborNode","currentNDSDistArray","intGraph","prune3Invalid","candidateGraphs","candidate","neighborNodes","unmatched","distToCandidate","keyBack","distFromCandidate","ndsToCandidate","patternKey","undirectedLengthsToBeginPNode","undirectedLengthsToBeginPNodeLabelMap","candidateGraph","candidateNodeLabelCountMap","candidateNodeMap","cNodeLabel","candidateEdges","edgeLabelCountMap","pattenrEdgeLabelNum","prunedByEdgeLabel","label_1","candidateEdgeNum","candidateGraphInvalid","_loop_5","patternEdgesWithLabel","edgeMatched","patternEdge","patternSource","patternTarget","lengthsToCandidate","targetNodeLabel","nLabel","degreeChanged","loopCount","cgNode","nodeInDegree","nodeOutDegree","cedge","currentLength","cg1","cg1EdgeMap","_loop_6","cg2","cg2EdgeMap","same","Stack","configurable","isMaxStack","detectCycle","connectedComponent","leftTranslate","transMat","fromTranslation","multiply","leftRotate","rotateMat","fromRotation","leftScale","scaleMat","fromScaling","actions","a1","angleTo","direct","ang","angleLargeThanPI","vertical","ke","manager","defaults","simultaneous","requireFail","touchAction","recognizeWith","requireFailure","additionalEvent","canEmit","reset","tryEmit","writable","ReferenceError","Reflect","construct","sham","Proxy","Boolean","valueOf","pointers","eventType","attrTest","rotation","tt","et","nt","rt","it","ut","st","ct","at","ft","pX","pY","deltaX","deltaY","directionTest","ot","lt","pt","ht","vt","mt","bt","dt","gt","getTouchAction","overallVelocity","overallVelocityX","overallVelocityY","offsetDirection","maxPointers","velocity","yt","Ot","wt","Tt","jt","Pt","Et","Rt","St","kt","pTime","pCenter","_timer","_input","deltaTime","time","failTimeout","timeStamp","interval","posThreshold","taps","hasRequireFailures","tapCount","_t","xt","Dt","It","Ct","zt","Nt","At","Xt","Ft","compute","recognizers","srcEvent","session","prevented","preventDefault","none","preventSrc","Yt","Bt","Mt","qt","Lt","Wt","Ut","changedPointers","isFinal","firstInput","firstMultiple","offsetDelta","prevDelta","prevInput","lastInterval","velocityX","velocityY","recognize","Vt","Ht","addEventListener","Zt","eventHandler","removeManagerListeners","Gt","$t","Jt","Kt","Qt","ee","ne","re","oe","touchstart","touchmove","touchend","touchcancel","ie","ue","evTarget","targetIds","ce","pointerType","te","touches","identifier","changedTouches","se","pe","handlers","filters","inputClass","stopped","preventDefaults","curRecognizer","canRecognizeWith","ae","fe","le","preset","ye","he","be","de","me","domEvents","ge","pointerdown","pointermove","pointerup","pointercancel","pointerout","Oe","2","3","4","5","we","Te","je","evEl","evWin","store","pointerEvents","pointerId","button","ve","Pe","removeEventListener","Re","Se","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Manager","Input","TouchAction","TouchInput","PointerEventInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","merge","inherit","bindFn","inArray","uniqueArray","splitStr","boolOrFn","hasParent","parentNode","addEventListeners","removeEventListeners","proccessToFunc","defaultV","buildTextureData","dataArray","nodeDict","mapIdPos","maxEdgePerVetex","dests","dest","buildTextureDataWithOneEdgeAttr","buildTextureDataWithTwoEdgeAttr","attrs1","attrs2","attributesToTextureData","attributeNames","attributeNum","attributteStringMap","arrayToTextureData","valueArrays","itemNum","valueArray","radialLayout","rScale","radScale","avgRad","radDiff","radial","G6Util","defaultIcon","drawLinkPoints","markR","markStyle","defaultDirection","iconW","iconH","leftPos","diffY","rightPos","topPos","bottomPos","existLinkPoint","paddingTop","preRect","logoIcon","stateIcon","preRectShow","preRectStyle","drawLogoIcon","drawStateIcon","logoIconStyle","iconStyle","descriptionStyle","descriptionPaddingTop","description","logoIconShape","currentLogoIconAttr","preRectShape","logoW","logoOffset","stateIconShape","currentStateIconAttr","stateW","stateOffset","stateIconStyle","leftBottom","outerR","defaultInnerR","innerR","markLeftBottom","markRightBottom","donutR","arcR","donutAttrs","donutColorMap","attrNum","attrs_1","totalValue_1","lineWidth_1","arcBegin_1","beginAngle_1","beginAgnle","arcBegin","arcEnd","isBig","getBBoxFromPoint","filterConnectPoints","pointsMap","simplifyPolyline","getExpandedBBox","getExpandedBBoxPoint","anotherPoint","isHorizontal","port","isHorizontalPort","mergeBBox","b1","b2","getPointsFromBBox","isPointOutsideBBox","heuristicCostEstimate","ps","_costByPoints","reconstructPath","pathPoints","pointById","cameFrom","currentId","isSegmentsIntersected","v1x","v1y","v2x","v2y","v3x","v3y","v4x","v4y","isSegmentCrossingBBox","pb","pc","pd","getNeighborPoints","getPathWithBorderRadiusByPolyline","borderRadius","pathSegments","isBending","getBorderRadiusPoints","getPolylinePoints","sNode","tNode","sBBox","tBBox","tKeyShapeBBox","tx","ty","sxBBox","txBBox","sPoint","tPoint","lineBBox","xs","ys","getBBoxFromPoints","sMixBBox","tMixBBox","connectPoints","centerPoint","getBBoxXCrossPoints","getBBoxYCrossPoints","getBBoxCrossPointsByPoint","goal","closedSet","openSet","gScore","fScore","lowestFScore","tentativeGScore","maxAllowedDirectionChange","maximumLoops","gridSize","stepX","stepY","0","45","90","distFunc","fallbackRoute","endNode","pos","getDirectionAngle","getAngleDiff","angle1","angle2","directionChange","estimateCost","endPoints","cost","oriPoint","isInside","expandBBox","directions_1","bounds","boundLine","insterctP_1","insterctP","getDirectionChange","scaleStartPoint","directionAngle","prevDirectionAngle","scaleEndPoint","currentX","currentY","lastPoint","preId","preX","preY","firstPoint","routerCfg","obstacles","startPoints","firstStep","curCost","neighborCost","costFromStart","remainLoops","penalties","defaultRouteCfg","simple","pathArray_1","polylinePoints","cloneEvent","enableOptimize","scalableRange","allowDragOnItem","dragstart","drag","dragend","updateViewport","graphCanvasBBox","onDragStart","originalEvent","targetIsCanvas","dragging","shapes","nodeLen","onDragMove","onDragEnd","endDrag","dragbegin","updateEdge","enableDelegate","onlyChangeComboSize","comboActiveState","selectedState","validationCombo","evt","targets","targetCombo","currentNodeId","beforeDragNodes","originPoint","onDrag","updateDelegate","delegateRect","updatePositions","onDropCombo","onDropCanvas","onDropNode","nodeModel","onDragEnter","onDragLeave","calculationGroupPosition","multiple","onClick","selectedNodes","selectedCombos","selectedItems","select","onCanvasClick","firstScale","originScale","sensitivity","optimizeZoom","fixSelectedItems","fixAll","fixLineWidth","fixLabel","fixState","pinchstart","pinchmove","onPinch","extra","currentScale","posA","posB","ALLOW_EVENTS","trigger","onChange","onNodeTap","sourceData","findDataById","err","traverseCombo","ALLOW_KEYS","activeState","inactiveState","resetSelected","setAllItemStates","hasSelected","rEdges","rEdgeLegnth","otherEnd","clearActiveState","clearAllItemStates","currentCombo","currentItemChildCombos","sourceBBox","cmodel","disX","disY","onDrop","endComparison","onNodeDrop","droppedCombo","getParentCombo","comboDropedOn","delegateShape","updateSignleItem","onComboClick","edgeConfig","mousemove","keydown","keyup","ev","cancelCreating","addingEdge","updateEndPoint","currentEdge","cancelEdge","nodeBBox","onKeyDown","onKeyUp","glMatrix","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","transpose","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","b00","b02","b10","b12","b20","b22","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","equals","a0","a2","a3","a4","a5","a6","a7","a8","b0","b3","b4","b5","b6","b7","b8","mul","divide","scaleAndAdd","squaredDistance","squaredLength","inverse","lerp","ax","ay","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","zero","div","sqrDist","sqrLen","stride","arg","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","createDom","tr","tbody","thead","tfoot","td","th","$1","dom","childNodes","modifyCSS","css","colorString","_slice","skippedModels","hashedModelKeys","limiters","Color","valpha","zeroArray","alpha","stringify","freeze","roundToPlace","roundTo","getset","maxfn","assertArray","string","toJSON","percentString","unitArray","unitObject","hue","saturationl","lightness","saturationv","chroma","wblack","rgbNumber","luminosity","contrast","isDark","isLight","lighten","darken","saturate","desaturate","whiten","blacken","grayscale","fade","opaquer","EPSILON","ARRAY_TYPE","RANDOM","getLayoutByName","unRegisterLayout","registerLayout","base_1","util_1","Base","RandomLayout","innerWidth","innerHeight","positions","executeWithWorker","catmullRomToBezier","iLen","ellipsePath","pa0","dots","crz","kk","l2c","q2c","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","bx","by","qx","qy","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","x3","y3","x4","y4","Tvalues","Cvalues","xbase","ybase","comb","curveDim","tvalues","b2ac","sqrtb2ac","t1","t2","jlen","px2","py2","isPointInsideBBox","rectPath","box","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","obj1","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","defaultPrevented","propagationStopped","removeFromArray","isBrowser","isAllowCapture","EE","multiplyMatrix","multiplyVec2","ext","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","checkExistedAttrs","animations","animation","delay","startTime","getDefaultAttrs","initAttrs","initAnimate","zIndex","getDefaultMatrix","changeType","setAttr","afterAttrsChange","getClip","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","totalMatrix","currentMatrix","parentMatrix","invertMatrix","getCanvas","clipShape","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","formatToAttrs","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","propagationPath","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","delegateTarget","delegateObject","translateX","translateY","newMatrix","targetX","targetY","ratioX","ratioY","SHAPE_MAP","Container","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","ShapeBase","groupClass","tmpCfg","TmpGroupClass","getGroupBase","_findShape","invertFromMatrix","isClipped","preParent","setCanvas","setTimeline","_applyElementMatrix","getChildByIndex","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color_formatHex","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","colors","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","number","one","date","numberArray","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","IDENTITY_MATRIX","elapsed","easeFn","d3Ease","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","EVENTS","emitTargetEvent","bubbleEvent","isOverEvent","EventController","_triggerEvent","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","el","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","emitDelegation","_clearEvents","isFirefox","Canvas","initContainer","initDom","initTimeline","getElementById","appendChild","setDOMSize","eventController","layerX","layerY","clientInfo","getBoundingClientRect","clearEvents","removeDom","AbstractGroup","AbstractShape","clearCacheBBox","canvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","mergeArrowBBox","getTextHeight","lineCount","getLineSpaceing","getTextWidth","getOffScreenContext","textArr","subText","measureWidth","restore","assembleFont","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","Util","getBBoxByArray","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","getPathBox","path2Segments","minNum","maxNum","getBBoxRange","piMod","pointAt","pointDistance","pointToLine","tangentAngle","tCallback","segNum","increaseRate","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","interpolationAt","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","xAt","yAt","xDim","yDim","relativeVector","relativePoint","getAngle","derivativeXAt","derivativeYAt","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","distance_1","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","EventEmitter","_events","wildcardEvents","doEmit","es","clearAnimationFrame","inBox","intersectRect","regexLG","regexRG","regexPR","regexColorStop","addStop","steps","gradient","itemArr","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","onload","createPattern","Image","crossOrigin","complete","parsePattern","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","region","skipDraw","checkRefresh","refreshElements","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","cacheCanvasBBox","isInView","drawPath","arcParamsCache","beginPath","ArrowUtil","lineTo","quadraticCurveTo","bezierCurveTo","scaleX","scaleY","arc","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isFill","isStroke","isInStrokeOrPath","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","HTMLElement","nodeName","miniCanvas","ImageShape","_setImage","isMini","isMiniNative","image_1","createImage","_afterLoading","sx","sy","swidth","sheight","drawImage","inLine","halfWidth","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","square","Marker","_resetParamsCache","symbol","_getR","path2Absolute","_getPath","isInPolygon","hasArc","extractPolygons","polygons","polylines","isPointInStroke","vec3","inArc","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","Text","_assembleFont","_setText","subY","spaceingY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","hammerRuntime","_initEvent","Hammer","_onpanend","panstartShape","panstartPoint","_onpanstart","_onpanmove","_emitMobileEvent","panstartTimeStamp","MiniCanvasProxy","registerBBox","setMiniCanvas","CanvasProxy","miniPatch","handleEvent","pixelRatio","devicePixelRatio","getPixelRatio","_clearFrame","clearRect","curShape","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","_startDraw","_drawRegion","_drawAll","_getRefreshRegion","clearChanged","AbstractCanvas","extendEvents","canvasHandler","getItemRoot","onCanvasEvents","handleTouchMove","itemShape","onExtendEvents","emitCustomEvent","LayoutPipesAdjustNames","updateLayoutMethod","success","layoutEndFormatted","adjust","adjustPipesBox","execLayoutMethod","order","tick","enableTick","layoutData","addLayoutOrder","preventOverlap","preNodes","ele","registerGraph","graphName","GraphFunction","G6","emitEvent","registerEventCallback","canvasDom","canvasCfg","initPlugin","toDataURL","backgroundColor","getRenderer","dataURL","svgDocType","implementation","createDocumentType","svgDoc","createDocument","replaceChild","documentElement","svgData","XMLSerializer","serializeToString","encodeURIComponent","imageData","compositeOperation","getImageData","globalCompositeOperation","fillStyle","fillRect","putImageData","toFullDataURL","imageConfig","vContainerDOM","vHeight","vWidth","vCanvas","quickHit","vGroup","vCanvasEl","downloadFullImage","fileName","dataURLToImage","createEvent","initEvent","dispatchEvent","downloadImage","Blob","URL","mime","bstr","atob","u8arr","Uint8Array","charCodeAt","download","href","createObjectURL","addPlugin","removePlugin","destroyPlugin","setImageWaterMarker","imgURL","config","waterCanvas","waterMarkerConfig","imgWidth","imgHeight","water_img_url","setTextWaterMarker","texts","display","cssText","querySelector","tooltipDOMs","parentElement","waterGroup","uiGroup","bound01","isOnePointZero","isPercent","isPercentage","clamp01","boundAlpha","convertToPercentage","pad2","rgbToHsl","hue2rgb","rgbToHsv","rgbToHex","allow3Char","convertDecimalToHex","convertHexToDecimal","parseIntFromHex","names","inputToRGB","ok","matchers","hsva","hex8","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","hsvToRgb","hslToRgb","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","TinyColor","opts","numberInputToObject","originalInput","roundA","gradientType","isValid","getBrightness","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","getAlpha","setAlpha","toHsv","toHsvString","toHsl","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","toPercentageRgbString","rnd","toName","entries","formatSet","formattedString","hasAlpha","amount","brighten","tint","shade","greyscale","spin","rgb1","rgb2","analogous","results","slices","part","ret","complement","monochromatic","modification","splitcomplement","onBackground","fg","bg","triad","polyad","tetrad","increment","darkColorMap","getHue","light","getSaturation","saturation","getValue","generate","patterns","pColor","_hsv","_colorString","theme","_ref","presetPrimaryColors","volcano","geekblue","presetPalettes","presetDarkPalettes","primary","mixColor","backColor","frontColor","frontAlpha","bc","fc","getColorsWithSubjectColor","disableColor","subjectColor005","subjectColor01","subjectColor02","subjectColor04","disableColor002","disableColor005","disableColor01","disableColor02","disableColor03","paletteFromSubject","subjectHex","subjectIdx","deeperSubject","getColorsWithDefaultTheme","subjectColor03","subjectColor06","subjectColor08","disableColor025","disableColor04","disableColor05","getColorsWithDarkTheme","getColorSetsBySubjectColors","subjectColors","sets","sColor","setExtraFunction","Layouts","Layout","registy_1","layoutInstance","F6","Global","Algorithm","Arrow","registerExtender"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAY,GAAID,IAEhBD,EAAS,GAAIC,IARf,CASGK,MAAM,WACT,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,K,ujJClFrD,IAUeC,EAVK,SAASf,GAO3B,OAAiB,OAAVA,GAAmC,mBAAVA,GAAwBgB,SAAShB,EAAMiB,SCE1DC,EAPE,SAASC,EAAYnB,GACpC,QAAKe,EAAYI,IAGVA,EAAIC,QAAQpB,IAAU,GCWhBqB,EAfA,SAAaF,EAAUG,GACpC,IAAKP,EAAYI,GACf,OAAOA,EAGT,IADA,IAAMI,EAAc,GACXC,EAAQ,EAAGA,EAAQL,EAAIF,OAAQO,IAAS,CAC/C,IAAMxB,EAAQmB,EAAIK,GACdF,EAAKtB,EAAOwB,IACdD,EAAOE,KAAKzB,GAIhB,OAAOuB,GCEMG,EAJI,SAAYP,EAAUQ,GACvC,YADuC,QAAAA,MAChCN,EAAOF,GAAK,SAACnB,GAAe,OAACkB,EAASS,EAAQ3B,OCbjD4B,EAAW,GAAGA,SAILC,EAFA,SAAC7B,EAAY8B,GAA0B,SAAS5C,KAAKc,KAAW,WAAa8B,EAAO,KCKpF,WAAC9B,GACd,OAAO6B,EAAO7B,EAAO,aCCR+B,EARD,SAAS/B,GAKrB,OAAOA,SCJM,WAACA,GACd,OAAOgC,MAAMC,QACXD,MAAMC,QAAQjC,GACd6B,EAAO7B,EAAO,U,qOCLH,eAAaA,GAO1B,IAAM8B,EAAI,EAAU9B,GACpB,OAAiB,OAAVA,GAA2B,WAAT8B,GAA8B,aAATA,GCmBjCI,MAxBf,SAAeC,EAA0Bb,GACvC,GAAKa,EAIL,GAAIF,EAAQE,GACV,IAAK,IAAIpD,EAAI,EAAGqD,EAAMD,EAASlB,OAAQlC,EAAIqD,IAE7B,IADNd,EAAKa,EAASpD,GAAIA,GADsBA,UAM3C,GAAIsD,EAASF,GAClB,IAAK,IAAMG,KAAKH,EACd,GAAIA,EAASvB,eAAe0B,KAEd,IADNhB,EAAKa,EAASG,GAAIA,GAEtB,OCPKC,EAVF9C,OAAO8C,KAAO,YAAO,cAAOA,KAAKC,IAAO,YACnD,IAAMjB,EAAS,GAMf,OALAW,EAAKM,GAAK,SAACxC,EAAOM,GACVmC,EAAWD,IAAgB,cAARlC,GACvBiB,EAAOE,KAAKnB,MAGTiB,GCMMmB,MAbf,SAAiBF,EAAUG,GACzB,IAAMC,EAAQL,EAAKI,GACb1B,EAAS2B,EAAM3B,OACrB,GAAIc,EAAMS,GAAM,OAAQvB,EACxB,IAAK,IAAIlC,EAAI,EAAGA,EAAIkC,EAAQlC,GAAK,EAAG,CAClC,IAAMuB,EAAMsC,EAAM7D,GAClB,GAAI4D,EAAMrC,KAASkC,EAAIlC,MAAUA,KAAOkC,GACtC,OAAO,EAGX,OAAO,G,qOCbT,IAUeK,EAVM,SAAS7C,GAO5B,MAAwB,WAAjB,EAAOA,IAAgC,OAAVA,GCgBvB8C,EApBO,SAAS9C,GAO7B,IAAK6C,EAAa7C,KAAW6B,EAAO7B,EAAO,UACzC,OAAO,EAET,GAAqC,OAAjCP,OAAOsD,eAAe/C,GACxB,OAAO,EAGT,IADA,IAAIgD,EAAQhD,EAC4B,OAAjCP,OAAOsD,eAAeC,IAC3BA,EAAQvD,OAAOsD,eAAeC,GAEhC,OAAOvD,OAAOsD,eAAe/C,KAAWgD,GCQ3BC,MApBf,SAAiB9B,EAAU+B,GACzB,IAAKjB,EAAQd,GAAM,OAAO,KAE1B,IAAIgC,EAOJ,GANIV,EAAWS,KACbC,EAAaD,GAEXJ,EAAcI,KAChBC,EAAa,YAAK,SAAQC,EAAGF,KAE3BC,EACF,IAAK,IAAIpE,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,GAAK,EACnC,GAAIoE,EAAWhC,EAAIpC,IACjB,OAAOoC,EAAIpC,GAIjB,OAAO,MCdMsE,MAXf,SAAsBlC,EAAU+B,EAA+CI,QAAA,QAAAA,KAC7E,IAAK,IAAIvE,EAAIuE,EAAWvE,EAAIoC,EAAIF,OAAQlC,IACtC,GAAImE,EAAU/B,EAAIpC,GAAIA,GAEpB,OAAOA,EAIX,OAAQ,GCYKwE,EAjBI,SAASC,EAAgBlE,GAE1C,IADA,IAAImE,EAAM,KACD1E,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IACMiB,EADMwD,EAAKzE,GACCO,GAClB,IAAKyC,EAAM/B,GAAQ,CAEfyD,EADExB,EAAQjC,GACJA,EAAM,GAENA,EAER,OAGJ,OAAOyD,GCKMC,EAXC,SAAavC,GAC3B,IAAKc,EAAQd,GACX,MAAO,GAGT,IADA,IAAIsC,EAAW,GACN1E,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B0E,EAAMA,EAAIE,OAAOxC,EAAIpC,IAEvB,OAAO0E,GCIMG,EAXK,SAAdA,EAAuBzC,EAAYI,GACvC,QADuC,QAAAA,MAClCU,EAAQd,GAGX,IAAK,IAAIpC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,GAAK,EACnC6E,EAAYzC,EAAIpC,GAAIwC,QAHtBA,EAAOE,KAAKN,GAMd,OAAOI,GCAM,WAACJ,GACd,GAAKc,EAAQd,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKC,IAAIH,EAAMC,KACrB5C,EAAI,KCNM,WAACA,GACd,GAAKc,EAAQd,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKE,IAAIJ,EAAMC,KACrB5C,EAAI,KCQMgD,EAzBE,SAAUxC,GAEzB,IAAIyC,EAAezC,EAAON,QAAO,SAACgD,GAAM,OAACC,MAAMD,MAC/C,IAAKD,EAAanD,OAEhB,MAAO,CACLiD,IAAK,EACLD,IAAK,GAGT,GAAIhC,EAAQN,EAAO,IAAK,CAEtB,IADA,IAAI4C,EAAM,GACDxF,EAAI,EAAGA,EAAI4C,EAAOV,OAAQlC,IACjCwF,EAAMA,EAAIZ,OAAOhC,EAAO5C,IAE1BqF,EAAeG,EAEjB,IAAMN,EAAMO,EAAOJ,GAEnB,MAAO,CACLF,IAFUO,EAAOL,GAGjBH,IAAG,IC9BDS,EAAe1C,MAAMrB,UACrBgE,EAASD,EAAaC,OACtBvD,EAAUsD,EAAatD,QAadwD,EAXF,SAAYzD,G,IAAU,oCAAAQ,oBACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAOV,OAAQlC,IAGjC,IAFA,IAAMiB,EAAQ2B,EAAO5C,GACjBuE,GAAa,GACTA,EAAYlC,EAAQlC,KAAKiC,EAAKnB,KAAW,GAC/C2E,EAAOzF,KAAKiC,EAAKmC,EAAW,GAGhC,OAAOnC,GCVHwD,EAAS3C,MAAMrB,UAAUgE,OAoBhBE,EAlBA,SAAoB1D,EAAU2D,GAC3C,IAAK/D,EAAYI,GACf,MAAO,GAKT,IAHA,IAAIF,EAASE,EAAM2D,EAAQ7D,OAAS,EAC9B8D,EAAO9D,EAAS,EAEfA,KAAU,CACf,IAAI+D,OAAQ,EACNxD,EAAQsD,EAAQ7D,GAClBA,IAAW8D,GAAQvD,IAAUwD,IAC/BA,EAAWxD,EACXmD,EAAOzF,KAAKiC,EAAKK,EAAO,IAG5B,OAAOL,GCHM0C,EAXA,SAAe1C,EAAwB8D,EAAqDC,GACzG,IAAKjD,EAAQd,KAAS2B,EAAc3B,GAClC,OAAOA,EAET,IAAII,EAAS2D,EAIb,OAHAhD,EAAKf,GAAK,SAACqC,EAAMzE,GACfwC,EAAS0D,EAAG1D,EAAQiC,EAAMzE,MAErBwC,GCgBM4D,EA1BA,SAAYhE,EAAU+B,GAOnC,IAAM3B,EAAS,GACf,IAAKR,EAAYI,GACf,OAAOI,EAMT,IAJA,IAAIxC,GAAK,EACH+F,EAAU,GACV7D,EAASE,EAAIF,SAEVlC,EAAIkC,GAAQ,CACnB,IAAMjB,EAAQmB,EAAIpC,GACdmE,EAAUlD,EAAOjB,EAAGoC,KACtBI,EAAOE,KAAKzB,GACZ8E,EAAQrD,KAAK1C,IAIjB,OADA8F,EAAO1D,EAAK2D,GACLvD,GCxBM,WAAC6D,GACd,OAAOvD,EAAOuD,EAAK,WCsCNC,MA7Bf,SAAoBlE,EAAsBb,GACxC,IAAIgF,EACJ,GAAI7C,EAAWnC,GACbgF,EAAW,SAAClC,EAAGmC,GAAM,SAAInC,GAAK9C,EAAIiF,QAC7B,CACL,IAAIC,EAAO,GACPC,EAASnF,GACXkF,EAAK/D,KAAKnB,GACD2B,EAAQ3B,KACjBkF,EAAOlF,GAETgF,EAAW,SAAClC,EAAGmC,GACb,IAAK,IAAIxG,EAAI,EAAGA,EAAIyG,EAAKvE,OAAQlC,GAAK,EAAG,CACvC,IAAM2G,EAAOF,EAAKzG,GAClB,GAAIqE,EAAEsC,GAAQH,EAAEG,GACd,OAAO,EAET,GAAItC,EAAEsC,GAAQH,EAAEG,GACd,OAAQ,EAGZ,OAAO,GAKX,OADAvE,EAAIwE,KAAKL,GACFnE,GCtCK,SAAUyE,EAAKzE,EAAY0E,QAAA,QAAAA,MAAYC,KACnD,IAAMjG,EAAI,GAEV,GAAImC,MAAMC,QAAQd,GAChB,IAAK,IAAIpC,EAAI,EAAGqD,EAAMjB,EAAIF,OAAQlC,EAAIqD,EAAKrD,IAAM,CAC/C,IAAMgH,EAAO5E,EAAIpC,GAEZ8G,EAAMG,IAAID,KACblG,EAAE4B,KAAKsE,GACPF,EAAMI,IAAIF,GAAM,IAItB,OAAOlG,ECXT,IAIeqG,EAJD,W,IAAS,oCAAAC,kBACrB,OAAOP,EAAK,GAAGjC,OAAMyC,MAAT,GAAaD,KCAZ,WAAC3C,EAAalE,GAI3B,IAHA,IAAMmE,EAAM,GACN4C,EAAS,GAENtH,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IACIiB,EADQwD,EAAKzE,GACDO,GAEhB,IAAKyC,EAAM/B,GAAQ,CAEZiC,EAAQjC,KACXA,EAAQ,CAAEA,IAEZ,IAAK,IAAIsG,EAAI,EAAGA,EAAItG,EAAMiB,OAAQqF,IAAK,CACrC,IAAMC,EAAMvG,EAAMsG,GAEbD,EAAOE,KACV9C,EAAIhC,KAAK8E,GACTF,EAAOE,IAAO,KAMtB,OAAO9C,GCzBK,SAAU+C,EAAKhH,GAC3B,GAAIuB,EAAYvB,GACd,OAAwBA,EAAG,GCFjB,SAAUuF,EAAKvF,GAC3B,GAAIuB,EAAYvB,GAAI,CAElB,OADYA,IACGyB,OAAS,ICIbwF,MAJf,SAAuBtF,EAAmBuF,GACxC,SAAQzE,EAAQd,KAAQsE,EAAStE,KAAQA,EAAI,KAAOuF,GCGvCC,MAJf,SAAqBxF,EAAmBuF,GACtC,SAAQzE,EAAQd,KAAQsE,EAAStE,KAAQA,EAAIA,EAAIF,OAAS,KAAOyF,GCOpDE,EARD,SAAazF,EAAUG,GACnC,IAAK,IAAIvC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,IAAKuC,EAAKH,EAAIpC,GAAIA,GAAI,OAAO,EAG/B,OAAO,GCGM8H,EARF,SAAa1F,EAAUG,GAClC,IAAK,IAAIvC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,GAAIuC,EAAKH,EAAIpC,GAAIA,GAAI,OAAO,EAG9B,OAAO,GCPH6B,EAAiBnB,OAAOkB,UAAUC,eA+BzBkG,MAvBf,SAAoBtD,EAAWuD,GAC7B,IAAKA,IAAc9E,EAAQuB,GACzB,MAAO,GAQT,IANA,IAKIlD,EALEiB,EAAwB,GAGxB2B,EAAYT,EAAWsE,GAAaA,EAAY,SAAChB,GAAS,SAAKgB,IAG5DhI,EAAI,EAAGA,EAAIyE,EAAKvC,OAAQlC,IAAK,CACpC,IAAMgH,EAAOvC,EAAKzE,GAClBuB,EAAM4C,EAAU6C,GACZnF,EAAe1B,KAAKqC,EAAQjB,GAC9BiB,EAAOjB,GAAKmB,KAAKsE,GAEjBxE,EAAOjB,GAAO,CAAEyF,GAIpB,OAAOxE,GCtBK,SAAUyF,EAAWxD,EAAWuD,GAC5C,IAAKA,EACH,MAAO,CACL,EAAGvD,GAGP,IAAKf,EAAWsE,GAAY,CAE1B,IAAME,EAAkBhF,EAAQ8E,GAAaA,EAAYA,EAAUG,QAAQ,OAAQ,IAAIC,MAAM,KAC7FJ,EAAY,SAAUK,GAIpB,IAHA,IAAIC,EAAS,IAGJtI,EAAI,EAAGC,EAAIiI,EAAgBhG,OAAQlC,EAAIC,EAAGD,IACjDsI,GAAUD,EAAIH,EAAgBlI,KAAOqI,EAAIH,EAAgBlI,IAAI6C,WAE/D,OAAOyF,GAGX,OAAOP,EAAQtD,EAAMuD,GC1BR,eAAIvD,EAAWuD,GAC5B,IAAKA,EAEH,MAAO,CAAEvD,GAEX,IAAM8D,EAASN,EAAWxD,EAAMuD,GAC1BQ,EAAQ,GACd,IAAK,IAAMxI,KAAKuI,EACdC,EAAM9F,KAAK6F,EAAOvI,IAEpB,OAAOwI,GCAMC,MAJf,SAAyBhF,EAAaiF,GACpC,OAAOjF,EAAI,SAAWiF,ICUTC,MAXf,SAAsBlF,EAAaiF,GACjC,GAAIjF,EAAI,SAAWiF,GACjB,OAAOjF,EAAI,SAAWiF,GAExB,IAAME,EAAS,YACbnF,EAAIiF,GAAQf,IAGd,OADAlE,EAAI,SAAWiF,GAAUE,EAClBA,GChBHC,EAAgB,GAgBPC,OAdf,SAAuBC,GAErB,IAAIC,EAAQH,EAAcE,GAC1B,IAAKC,EAAO,CAEV,IADA,IAAI3C,EAAM0C,EAAIlG,SAAS,IACd7C,EAAIqG,EAAInE,OAAQlC,EAAI,EAAGA,IAC9BqG,EAAM,IAAMA,EAEd2C,EAAQ,IAAM3C,EACdwC,EAAcE,GAAOC,EAEvB,OAAOA,GC+BMC,OAhCf,SAAqBC,GACnB,IAAIC,EAAK,EACPC,EAAK,EACLC,EAAK,EACLC,EAAK,EAoBP,OAnBIpG,EAAQgG,GACY,IAAlBA,EAAOhH,OACTiH,EAAKC,EAAKC,EAAKC,EAAKJ,EAAO,GACA,IAAlBA,EAAOhH,QAChBiH,EAAKE,EAAKH,EAAO,GACjBE,EAAKE,EAAKJ,EAAO,IACU,IAAlBA,EAAOhH,QAChBiH,EAAKD,EAAO,GACZE,EAAKE,EAAKJ,EAAO,GACjBG,EAAKH,EAAO,KAEZC,EAAKD,EAAO,GACZE,EAAKF,EAAO,GACZG,EAAKH,EAAO,GACZI,EAAKJ,EAAO,IAGdC,EAAKC,EAAKC,EAAKC,EAAKJ,EAEf,CACLC,GAAE,EACFC,GAAE,EACFC,GAAE,EACFC,GAAE,IC/BSC,GATD,SAASlF,EAAWc,EAAaD,GAC7C,OAAIb,EAAIc,EACCA,EACEd,EAAIa,EACNA,EAEFb,GCOMmF,GAbG,SAASlE,EAAWmE,GACpC,IAAMpD,EAAMoD,EAAK5G,WACXJ,EAAQ4D,EAAIhE,QAAQ,KAC1B,IAAe,IAAXI,EACF,OAAOwC,KAAKyE,MAAMpE,GAEpB,IAAIpD,EAASmE,EAAIsD,OAAOlH,EAAQ,GAAGP,OAInC,OAHIA,EAAS,KACXA,EAAS,IAEJ0H,WAAWtE,EAAEuE,QAAQ3H,KCDf4H,GAHE,SAAS7I,GACxB,OAAO6B,EAAO7B,EAAO,WCDR8I,GAJG,SAAShB,GACzB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBiB,GAJA,SAASjB,GACtB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBkB,GAJGC,OAAOD,UAAYC,OAAOD,UAAY,SAASlB,GAC/D,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvBoB,GAJI,SAASpB,GAC1B,OAAOe,GAASf,IAAQA,EAAM,GCDlB,SAAUqB,GAAc/F,EAAWmC,EAAW6D,GAC1D,YAD0D,QAAAA,EAF1C,MAGTpF,KAAKqF,IAAKjG,EAAImC,GAAM6D,ECD7B,IAIeE,GAJD,SAASxB,GACrB,OAAOe,GAASf,IAAQA,EAAM,GAAM,GCGvByB,GAJI,SAASzB,GAC1B,OAAOe,GAASf,IAAQA,EAAM,GCcjB,YAAI3G,EAAU8D,GAC3B,GAAKhD,EAAQd,GAAb,CAOA,IAHA,IAAIqI,EACAvF,GAAOwF,IAEF1K,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAAK,CACnC,IAAMgH,EAAO5E,EAAIpC,GACXsF,EAAI5B,EAAWwC,GAAMA,EAAGc,GAAQA,EAAKd,GAEvCZ,EAAIJ,IACNuF,EAAUzD,EACV9B,EAAMI,GAIV,OAAOmF,ICjBM,YAAIrI,EAAU8D,GAC3B,GAAKhD,EAAQd,GAAb,CAOA,IAHA,IAAIuI,EACAxF,EAAMuF,IAED1K,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAAK,CACnC,IAAMgH,EAAO5E,EAAIpC,GACXsF,EAAI5B,EAAWwC,GAAMA,EAAGc,GAAQA,EAAKd,GAEvCZ,EAAIH,IACNwF,EAAU3D,EACV7B,EAAMG,GAIV,OAAOqF,IChCMC,GAJH,SAASnJ,EAAWrB,GAC9B,OAASqB,EAAIrB,EAAKA,GAAKA,GCDnByK,GAAS,IAAM5F,KAAK6F,GAMXC,GAJE,SAASC,GACxB,OAAOH,GAASG,GCHHC,YCATC,GAASjG,KAAK6F,GAAK,IAMVK,GAJE,SAASC,GACxB,OAAOF,GAASE,GCDHjI,KCFA,YAACM,EAAalC,GAAsB,SAAIM,eAAeN,ICCvD0F,MCaArE,GAVAlC,OAAOkC,OAAS,YAAO,cAAOA,OAAOa,IAAO,YACzD,IAAMjB,EAAS,GAMf,OALAW,EAAKM,GAAK,SAACxC,EAAOM,GACVmC,EAAWD,IAAgB,cAARlC,GACvBiB,EAAOE,KAAKzB,MAGTuB,GCRM,YAACiB,EAAaxC,GAAwB,SAAS2B,GAAOa,GAAMxC,ICD5D,YAACA,GACd,OAAI+B,EAAM/B,GAAe,GAClBA,EAAM4B,YCEAwI,GAJG,SAAShF,GACzB,OAAOxD,GAASwD,GAAKiF,eCIRC,GALI,SAAStK,GAC1B,IAAMoF,EAAMxD,GAAS5B,GACrB,OAAOoF,EAAImF,OAAO,GAAGF,cAAgBjF,EAAIoF,UAAU,ICYtCC,OAZf,SAAwBrF,EAAa5F,GACnC,OAAK4F,GAAQ5F,EAGN4F,EAAI8B,QAAQ,oBAAoB,SAACwD,EAAOpL,GAC7C,MAAwB,OAApBoL,EAAMH,OAAO,GACRG,EAAMC,MAAM,QAEDC,IAAZpL,EAAEF,GAAuB,GAAKE,EAAEF,MANjC8F,GCAIyF,GAJG,SAASzF,GACzB,OAAOxD,GAASwD,GAAK0F,eCIRC,GALI,SAAS/K,GAC1B,IAAMoF,EAAMxD,GAAS5B,GACrB,OAAOoF,EAAImF,OAAO,GAAGO,cAAgB1F,EAAIoF,UAAU,ICJ/C5I,GAAW,GAAGA,SAMLoJ,GAJC,SAAShL,GACvB,OAAO4B,GAAS1C,KAAKc,GAAOkH,QAAQ,aAAc,IAAIA,QAAQ,KAAM,KCSvD+D,GAJK,SAASjL,GAC3B,OAAO6B,EAAO7B,EAAO,cCGRkL,GAJG,SAASlL,GACzB,OAAO6B,EAAO7B,EAAO,YCHRmL,GAJA,SAASnL,GACtB,OAAO6B,EAAO7B,EAAO,SCSRoL,GAJC,SAASpL,GACvB,OAAO6B,EAAO7B,EAAO,UCHT,YAAUA,GACpB,OAAO6I,GAAS7I,IAAUgB,SAAShB,ICHxBqL,GAJA,SAASrL,GACtB,OAAiB,OAAVA,GCDHsL,GAAc7L,OAAOkB,UAQZ4K,GANK,SAASvL,GAC3B,IAAMwL,EAAOxL,GAASA,EAAMyL,YAE5B,OAAOzL,KADwB,mBAATwL,GAAuBA,EAAK7K,WAAc2K,KCEnDI,GAJE,SAAStG,GACxB,OAAOvD,EAAOuD,EAAK,WCCNuG,GAJK,SAAS3L,GAC3B,YAAiB4K,IAAV5K,GCMM4L,GAHG,SAASpM,GACzB,OAAOA,aAAaqM,SAAWrM,aAAasM,cCLhC,SAAUC,GAAsB9G,GAW5C,OAVe+G,OAAOD,uBACpBC,OAAOC,6BAEPD,OAAOE,0BAEPF,OAAOG,yBACP,SAASC,GACP,OAAOC,WAAWD,EAAG,MAGXnH,GCXF,SAAUqH,GAAqBC,IAC5BP,OAAOM,sBACpBN,OAAOQ,4BAEPR,OAAOS,yBAEPT,OAAOU,wBACPC,cAEKJ,GCRT,SAASK,GAAmBC,EAAqBrK,GAC/C,IAAK,IAAMlC,KAAOkC,EACZA,EAAI5B,eAAeN,IAAgB,gBAARA,QAAsCsK,IAAbpI,EAAIlC,KACpDuM,EAAMvM,GAAOkC,EAAIlC,IAKf,SAAUwM,GAAmBD,EAAwBE,EAAUC,EAAUC,GAIrF,OAHIF,GAAMH,GAAKC,EAAME,GACjBC,GAAMJ,GAAKC,EAAMG,GACjBC,GAAML,GAAKC,EAAMI,GACdJ,ECTT,IAWeK,GAXC,W,IAAS,oCAAAC,kBAEvB,IADA,IAAM/N,EAAI+N,EAAK,GACNpO,EAAI,EAAGA,EAAIoO,EAAKlM,OAAQlC,IAAK,CACpC,IAAIyD,EAAM2K,EAAKpO,GACX0D,EAAWD,KACbA,EAAMA,EAAI7B,WAEZmM,GAAI1N,EAAEuB,UAAW6B,K,uOCTrB,IA4Be4K,GA5BD,SAARA,EAAiB5K,GACrB,GAAmB,WAAf,GAAOA,IAA4B,OAARA,EAC7B,OAAOA,EAET,IAAIiB,EACJ,GAAIxB,EAAQO,GAAM,CAChBiB,EAAM,GACN,IAAK,IAAI1E,EAAI,EAAGC,EAAIwD,EAAIvB,OAAQlC,EAAIC,EAAGD,IACf,WAAlB,GAAOyD,EAAIzD,KAA6B,MAAVyD,EAAIzD,GACpC0E,EAAI1E,GAAKqO,EAAM5K,EAAIzD,IAEnB0E,EAAI1E,GAAKyD,EAAIzD,QAKjB,IAAK,IAAMuD,KADXmB,EAAM,GACUjB,EACQ,WAAlB,GAAOA,EAAIF,KAA6B,MAAVE,EAAIF,GACpCmB,EAAInB,GAAK8K,EAAM5K,EAAIF,IAEnBmB,EAAInB,GAAKE,EAAIF,GAKnB,OAAOmB,GCNM4J,OApBf,SAAkB/L,EAAgBgM,EAAeC,GAC/C,IAAIC,EACJ,OAAO,WACL,IAAMC,EAAU,KACdN,EAAOO,UACHC,EAAQ,WACZH,EAAU,KACLD,GACHjM,EAAK8E,MAAMqH,EAASN,IAGlBS,EAAUL,IAAcC,EAC9Bb,aAAaa,GACbA,EAAUnB,WAAWsB,EAAOL,GACxBM,GACFtM,EAAK8E,MAAMqH,EAASN,KCRX,YAACf,EAAayB,GAC3B,IAAKpL,EAAW2J,GACd,MAAM,IAAI0B,UAAU,uBAGtB,IAAMC,EAAW,SAAXA,I,IAAoB,oCAAAZ,kBAExB,IAAM7M,EAAMuN,EAAWA,EAASzH,MAAM,KAAM+G,GAAQA,EAAK,GACnDtH,EAAQkI,EAASlI,MAEvB,GAAIA,EAAMG,IAAI1F,GACZ,OAAOuF,EAAMjG,IAAIU,GAEnB,IAAMiB,EAAS6K,EAAEhG,MAAM,KAAM+G,GAG7B,OADAtH,EAAMI,IAAI3F,EAAKiB,GACRA,GAKT,OAFAwM,EAASlI,MAAQ,IAAIC,IAEdiI,GCxBT,SAASC,GAASnB,EAAMoB,EAAKC,EAAQC,GAGnC,IAAK,IAAM7N,KAFX4N,EAAQA,GAAS,EACjBC,EAAWA,GAJS,EAKFF,EAChB,GAAIA,EAAIrN,eAAeN,GAAM,CAC3B,IAAMN,EAAQiO,EAAI3N,GACJ,OAAVN,GAAkB8C,EAAc9C,IAC7B8C,EAAc+J,EAAKvM,MACtBuM,EAAKvM,GAAO,IAEV4N,EAAQC,EACVH,GAASnB,EAAKvM,GAAMN,EAAOkO,EAAQ,EAAGC,GAEtCtB,EAAKvM,GAAO2N,EAAI3N,IAET2B,EAAQjC,IACjB6M,EAAKvM,GAAO,GACZuM,EAAKvM,GAAOuM,EAAKvM,GAAKqD,OAAO3D,SACV4K,IAAV5K,IACT6M,EAAKvM,GAAON,IAOpB,IAOeoO,GAPC,SAAS3K,G,IAAS,oCAAA0J,oBAChC,IAAK,IAAIpO,EAAI,EAAGA,EAAIoO,EAAKlM,OAAQlC,GAAK,EACpCiP,GAASvK,EAAK0J,EAAKpO,IAErB,OAAO0E,GCAM4K,GAhCA,SAASC,EAAUC,EAAYC,EAAYC,GAEnDhM,EAAW8L,KACdC,EAAYD,EACZA,EAAaD,EACbA,EAAW,cAGb,IAAMjO,EAASZ,OAAOY,OACpB,SAAS2C,EAAO5D,GACd,OAAOK,OAAOY,OAAO2C,EAAO,CAC1ByI,YAAa,CACXzL,MAAOZ,MAIb,SAAS4D,EAAO5D,GACd,SAASsP,KACTA,EAAI/N,UAAYqC,EAChB,IAAMxD,EAAI,IAAIkP,EAEd,OADAlP,EAAEiM,YAAcrM,EACTI,GAGLmP,EAAWtO,EAAOkO,EAAW5N,UAAW2N,GAK9C,OAJAA,EAAS3N,UAAYmM,GAAI6B,EAAUL,EAAS3N,WAC5C2N,EAASC,WAAalO,EAAOkO,EAAW5N,UAAW4N,GACnDzB,GAAI6B,EAAUH,GACd1B,GAAIwB,EAAUG,GACPH,GCXMlN,GAnBC,SAAaD,EAAUqB,GACrC,IAAKzB,EAAYI,GACf,OAAQ,EAEV,IAAMhC,EAAI6C,MAAMrB,UAAUS,QAC1B,GAAIjC,EACF,OAAOA,EAAED,KAAKiC,EAAKqB,GAIrB,IAFA,IAAIhB,GAAS,EAEJzC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC9B,GAAIoC,EAAIpC,KAAOyD,EAAK,CAClBhB,EAAQzC,EACR,MAGJ,OAAOyC,GCbHZ,GAAiBnB,OAAOkB,UAAUC,eAiCzBgO,OA/Bf,SAAiB5O,GAUf,GAAI+B,EAAM/B,GACR,OAAO,EAET,GAAIe,EAAYf,GACd,OAAQA,EAAMiB,OAEhB,IAAMa,EAAOkJ,GAAQhL,GACrB,GAAa,QAAT8B,GAA2B,QAATA,EACpB,OAAQ9B,EAAM6O,KAEhB,GAAItD,GAAYvL,GACd,OAAQP,OAAO8C,KAAKvC,GAAOiB,OAE7B,IAAK,IAAMX,KAAON,EAChB,GAAIY,GAAe1B,KAAKc,EAAOM,GAC7B,OAAO,EAGX,OAAO,GCUMwO,GAzCC,SAAVA,EAAW9O,EAAY+O,GAC3B,GAAI/O,IAAU+O,EACZ,OAAO,EAET,IAAK/O,IAAU+O,EACb,OAAO,EAET,GAAItJ,EAASzF,IAAUyF,EAASsJ,GAC9B,OAAO,EAET,GAAIhO,EAAYf,IAAUe,EAAYgO,GAAQ,CAC5C,GAAI/O,EAAMiB,SAAW8N,EAAM9N,OACzB,OAAO,EAGT,IADA,IAAIwC,GAAM,EACD1E,EAAI,EAAGA,EAAIiB,EAAMiB,SACxBwC,EAAMqL,EAAQ9O,EAAMjB,GAAIgQ,EAAMhQ,KADEA,KAMlC,OAAO0E,EAET,GAAIZ,EAAa7C,IAAU6C,EAAakM,GAAQ,CAC9C,IAAMC,EAAYvP,OAAO8C,KAAKvC,GACxBiP,EAAYxP,OAAO8C,KAAKwM,GAC9B,GAAIC,EAAU/N,SAAWgO,EAAUhO,OACjC,OAAO,EAGT,IADIwC,GAAM,EACD1E,EAAI,EAAGA,EAAIiQ,EAAU/N,SAC5BwC,EAAMqL,EAAQ9O,EAAMgP,EAAUjQ,IAAKgQ,EAAMC,EAAUjQ,MADfA,KAMtC,OAAO0E,EAET,OAAO,GCjBM,YAAIzD,EAAU+O,EAAU9J,GACrC,OAAKxC,EAAWwC,KAGPA,EAAGjF,EAAO+O,GAFVD,GAAQ9O,EAAO+O,ICXXG,GAdH,SAAQ/N,EAAUG,GAC5B,IAAKP,EAAYI,GAEf,OAAOA,EAIT,IAFA,IAAMI,EAAc,GAEXC,EAAQ,EAAGA,EAAQL,EAAIF,OAAQO,IAAS,CAC/C,IAAMxB,EAAQmB,EAAIK,GAClBD,EAAOE,KAAKH,EAAKtB,EAAOwB,IAE1B,OAAOD,GCVH4N,GAAW,SAAI9K,GAAY,UAMlB,YAAI5D,EAA8Ba,QAAA,QAAAA,MAC/C,IAAMzB,EAAc,GAOpB,OANIwC,EAAS5B,KAAYsB,EAAMtB,IAC7BhB,OAAO8C,KAAK9B,GAAQ2O,SAAQ,YAE1BvP,EAAES,GAAOgB,EAAKb,EAAOH,GAAMA,MAGxBT,GCVM,YAAC2C,EAAUlC,EAAqB+O,GAK7C,IAJA,IAAIxO,EAAI,EAEFyO,EAAS7J,EAASnF,GAAOA,EAAI6G,MAAM,KAAO7G,EAEzCkC,GAAO3B,EAAIyO,EAAOrO,QACvBuB,EAAMA,EAAI8M,EAAOzO,MAGnB,YAAgB+J,IAARpI,GAAqB3B,EAAIyO,EAAOrO,OAAUoO,EAAe7M,GCNpD,YAACA,EAAU+M,EAAsBvP,GAC9C,IAAIR,EAAIgD,EAEF8M,EAAS7J,EAAS8J,GAAQA,EAAKpI,MAAM,KAAOoI,EAclD,OAZAD,EAAOF,SAAQ,SAAC9O,EAAsBkP,GAEhCA,EAAMF,EAAOrO,OAAS,GACnBoB,EAAS7C,EAAEc,MACdd,EAAEc,GAAOuI,GAASyG,EAAOE,EAAM,IAAM,GAAK,IAE5ChQ,EAAIA,EAAEc,IAENd,EAAEc,GAAON,KAINwC,GCxBH5B,GAAiBnB,OAAOkB,UAAUC,eAiBzB,YAAIH,EAAuB8B,GACxC,GAAe,OAAX9B,IAAoBqC,EAAcrC,GACpC,MAAO,GAET,IAAMc,EAAwB,GAM9B,OALAW,EAAKK,GAAM,YACL3B,GAAe1B,KAAKuB,EAAQH,KAC9BiB,EAAOjB,GAAOG,EAAOH,OAGlBiB,GC3BM,YAAIiB,EAAoBD,GACrC,OAAOsB,EACLrB,GACA,SAAC3C,EAAkBkE,EAASzD,GAI1B,OAHKiC,EAAKkN,SAASnP,KACjBT,EAAES,GAAOyD,GAEJlE,IAET,KCPW,YAACyB,EAAgBgM,EAAcoC,GAC5C,IAAIlC,EACFC,EACAN,EACA5L,EACEyD,EAAW,EACV0K,IAASA,EAAU,IAExB,IAAM/B,EAAQ,WACZ3I,GAA+B,IAApB0K,EAAQC,QAAoB,EAAIC,KAAKC,MAChDrC,EAAU,KACVjM,EAASD,EAAK8E,MAAMqH,EAASN,GACxBK,IAASC,EAAUN,EAAO,OAG3B2C,EAAY,WAChB,IAAMD,EAAMD,KAAKC,MACZ7K,IAAgC,IAApB0K,EAAQC,UAAmB3K,EAAW6K,GACvD,IAAME,EAAYzC,GAAQuC,EAAM7K,GAchC,OAbAyI,EAAU,KACVN,EAAOO,UACHqC,GAAa,GAAKA,EAAYzC,GAC5BE,IACFb,aAAaa,GACbA,EAAU,MAEZxI,EAAW6K,EACXtO,EAASD,EAAK8E,MAAMqH,EAASN,GACxBK,IAASC,EAAUN,EAAO,OACrBK,IAAgC,IAArBkC,EAAQM,WAC7BxC,EAAUnB,WAAWsB,EAAOoC,IAEvBxO,GAST,OANAuO,EAAUG,OAAS,WACjBtD,aAAaa,GACbxI,EAAW,EACXwI,EAAUC,EAAUN,EAAO,MAGtB2C,GC5CM,YAAC9P,GACd,OAAOe,EAAYf,GAASgC,MAAMrB,UAAUgK,MAAMzL,KAAKc,GAAS,ICH5DkP,GAAM,GAEG,YAACgB,GAOd,OALKhB,GADLgB,EAASA,GAAU,KAIjBhB,GAAIgB,IAAW,EAFfhB,GAAIgB,GAAU,EAITA,EAAShB,GAAIgB,ICTP,gBCAA,YAAI7L,GAAY,UCGjB,SAAUwK,GAAKrP,GAC3B,OAAIuC,EAAMvC,GACD,EAEL2Q,EAAY3Q,GACUA,EAAGyB,OAEtBxB,OAAO8C,KAAa/C,GAAGyB,O,ICD5BmP,G,QAKWC,OACb,SAACC,EAAWC,QAAA,QAAAA,MACF,MAA6DA,EAAI,SAAvDC,EAAmDD,EAAI,WAA3CE,EAAuCF,EAAI,WAA/BG,EAA2BH,EAAI,UAApBI,EAAgBJ,EAAI,YAKzE,OAJKH,KACHA,GAAMQ,SAASC,cAAc,UAAUC,WAAW,OAEpDV,GAAKG,KAAO,CAACG,EAAWC,EAAaF,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAC5EZ,GAAKa,YAAYxL,EAAS6K,GAAQA,EAAO,IAAIY,SAEtD,SAACZ,EAAWC,GAAoB,YAApB,QAAAA,MAAoB,cAACD,GAAS3O,GAAO4O,IAAOS,KAAK,OCThD,YAACV,EAAuBa,EAAkBZ,EAAanL,QAAA,QAAAA,SACpE,IAOIgM,EACAC,EAPEC,EAAoBC,GAAiBnM,EAAKmL,GAC5CiB,EAAY/L,EAAS6K,GAAyBA,EAAjB1O,GAAS0O,GAEtCmB,EAAYN,EAEVtR,EAAI,GAIV,GAAI0R,GAAiBjB,EAAMC,IAASY,EAClC,OAAOb,EAKT,KAEEc,EAAcI,EAAS9I,OAAO,EAlBnB,OAoBX2I,EAAeE,GAAiBH,EAAab,IAE1Be,EAAoBG,GACjCJ,EAAeI,IAUrB,GALA5R,EAAE4B,KAAK2P,GAEPK,GAAaJ,IACbG,EAAWA,EAAS9I,OA/BT,KAkCT,OAAO7I,EAAEmR,KAAK,IAMlB,KAEEI,EAAcI,EAAS9I,OAAO,EAAG,MAEjC2I,EAAeE,GAAiBH,EAAab,IAE1Be,EAAoBG,IAQvC,GALA5R,EAAE4B,KAAK2P,GAEPK,GAAaJ,IACbG,EAAWA,EAAS9I,OAAO,IAGzB,OAAO7I,EAAEmR,KAAK,IAGlB,MAAO,GAAGnR,EAAEmR,KAAK,IAAM5L,G,GCtEzB,wBACE,SAA4B,GA0B9B,OAxBEsM,yBAAIpR,GACF,YAAyBsK,IAAlB,KAAKsE,IAAI5O,IAGlBoR,yBAAIpR,EAAaqR,GACf,IAAMtN,EAAI,KAAK6K,IAAI5O,GACnB,YAAasK,IAANvG,EAAkBsN,EAAMtN,GAGjCqN,yBAAIpR,EAAaN,GACf,KAAKkP,IAAI5O,GAAON,GAGlB0R,6BACE,KAAKxC,IAAM,IAGbwC,4BAAOpR,UACE,KAAK4O,IAAI5O,IAGlBoR,4BACE,OAAOjS,OAAO8C,KAAK,KAAK2M,KAAKjO,QAEjC,EA3BA,I;;;;;;;;;;;;;;;ACaA,IAAI2Q,EAAgB,SAASvS,EAAGkG,GAI5B,OAHAqM,EAAgBnS,OAAOoS,gBAClB,CAAEC,UAAW,cAAgB9P,OAAS,SAAU3C,EAAGkG,GAAKlG,EAAEyS,UAAYvM,IACvE,SAAUlG,EAAGkG,GAAK,IAAK,IAAI1E,KAAK0E,EAAO9F,OAAOkB,UAAUC,eAAe1B,KAAKqG,EAAG1E,KAAIxB,EAAEwB,GAAK0E,EAAE1E,MAC3ExB,EAAGkG,IAGrB,SAASwM,EAAU1S,EAAGkG,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIuI,UAAU,uBAAyBkE,OAAOzM,GAAK,iCAE7D,SAAS0M,IAAOtT,KAAK8M,YAAcpM,EADnCuS,EAAcvS,EAAGkG,GAEjBlG,EAAEsB,UAAkB,OAAN4E,EAAa9F,OAAOY,OAAOkF,IAAM0M,EAAGtR,UAAY4E,EAAE5E,UAAW,IAAIsR,GAG5E,IAAIC,EAAW,WAQlB,OAPAA,EAAWzS,OAAO0S,QAAU,SAAkBlS,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkN,UAAUzM,OAAQlC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAI4M,UAAU3O,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEKmG,MAAMzH,KAAM+O,YAGzB,SAAS0E,EAAOtR,EAAG4F,GACtB,IAAIzG,EAAI,GACR,IAAK,IAAIY,KAAKC,EAAOrB,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,IAAM6F,EAAEtF,QAAQP,GAAK,IAC9EZ,EAAEY,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCrB,OAAO4S,sBACtB,KAAItT,EAAI,EAAb,IAAgB8B,EAAIpB,OAAO4S,sBAAsBvR,GAAI/B,EAAI8B,EAAEI,OAAQlC,IAC3D2H,EAAEtF,QAAQP,EAAE9B,IAAM,GAAKU,OAAOkB,UAAU2R,qBAAqBpT,KAAK4B,EAAGD,EAAE9B,MACvEkB,EAAEY,EAAE9B,IAAM+B,EAAED,EAAE9B,KAE1B,OAAOkB,EAkBJ,SAASsS,EAAUC,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU/S,GAAS,IAAMgT,EAAKL,EAAUM,KAAKjT,IAAW,MAAO0G,GAAKoM,EAAOpM,IACpF,SAASwM,EAASlT,GAAS,IAAMgT,EAAKL,EAAS,MAAU3S,IAAW,MAAO0G,GAAKoM,EAAOpM,IACvF,SAASsM,EAAKzR,GAJlB,IAAevB,EAIauB,EAAO4R,KAAON,EAAQtR,EAAOvB,QAJ1CA,EAIyDuB,EAAOvB,MAJhDA,aAAiB0S,EAAI1S,EAAQ,IAAI0S,GAAE,SAAUG,GAAWA,EAAQ7S,OAIToT,KAAKL,EAAWG,GAClGF,GAAML,EAAYA,EAAUvM,MAAMoM,EAASC,GAAc,KAAKQ,WAI/D,SAASI,EAAYb,EAASc,GACjC,IAAsGlH,EAAGmH,EAAGtT,EAAGuT,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP1T,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO2T,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEP,KAAMa,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXhU,SAA0B0T,EAAE1T,OAAOiU,UAAY,WAAa,OAAOpV,OAAU6U,EACvJ,SAASM,EAAKtT,GAAK,OAAO,SAAU6D,GAAK,OACzC,SAAc2P,GACV,GAAI5H,EAAG,MAAM,IAAI0B,UAAU,mCAC3B,KAAO2F,GAAG,IACN,GAAIrH,EAAI,EAAGmH,IAAMtT,EAAY,EAAR+T,EAAG,GAAST,EAAC,OAAaS,EAAG,GAAKT,EAAC,SAAetT,EAAIsT,EAAC,SAAetT,EAAEf,KAAKqU,GAAI,GAAKA,EAAEN,SAAWhT,EAAIA,EAAEf,KAAKqU,EAAGS,EAAG,KAAKb,KAAM,OAAOlT,EAE3J,OADIsT,EAAI,EAAGtT,IAAG+T,EAAK,CAAS,EAARA,EAAG,GAAQ/T,EAAED,QACzBgU,EAAG,IACP,KAAK,EAAG,KAAK,EAAG/T,EAAI+T,EAAI,MACxB,KAAK,EAAc,OAAXP,EAAEC,QAAgB,CAAE1T,MAAOgU,EAAG,GAAIb,MAAM,GAChD,KAAK,EAAGM,EAAEC,QAASH,EAAIS,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKP,EAAEI,IAAII,MAAOR,EAAEG,KAAKK,MAAO,SACxC,QACI,KAAMhU,EAAIwT,EAAEG,MAAM3T,EAAIA,EAAEgB,OAAS,GAAKhB,EAAEA,EAAEgB,OAAS,KAAkB,IAAV+S,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEP,EAAI,EAAG,SACjG,GAAc,IAAVO,EAAG,MAAc/T,GAAM+T,EAAG,GAAK/T,EAAE,IAAM+T,EAAG,GAAK/T,EAAE,IAAM,CAAEwT,EAAEC,MAAQM,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYP,EAAEC,MAAQzT,EAAE,GAAI,CAAEwT,EAAEC,MAAQzT,EAAE,GAAIA,EAAI+T,EAAI,MAC7D,GAAI/T,GAAKwT,EAAEC,MAAQzT,EAAE,GAAI,CAAEwT,EAAEC,MAAQzT,EAAE,GAAIwT,EAAEI,IAAIpS,KAAKuS,GAAK,MACvD/T,EAAE,IAAIwT,EAAEI,IAAII,MAChBR,EAAEG,KAAKK,MAAO,SAEtBD,EAAKV,EAAKpU,KAAKsT,EAASiB,GAC1B,MAAO/M,GAAKsN,EAAK,CAAC,EAAGtN,GAAI6M,EAAI,EAjBrB,QAiBoCnH,EAAInM,EAAI,EACtD,GAAY,EAAR+T,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEhU,MAAOgU,EAAG,GAAKA,EAAG,QAAK,EAAQb,MAAM,GArB9BH,CAAK,CAACxS,EAAG6D,MAyBhC5E,OAAOY,OAiD7B,SAAS6T,IACZ,IAAK,IAAIpT,EAAI,EAAG/B,EAAI,EAAGoV,EAAKzG,UAAUzM,OAAQlC,EAAIoV,EAAIpV,IAAK+B,GAAK4M,UAAU3O,GAAGkC,OACxE,IAAIpB,EAAImC,MAAMlB,GAAIwB,EAAI,EAA3B,IAA8BvD,EAAI,EAAGA,EAAIoV,EAAIpV,IACzC,IAAK,IAAIqE,EAAIsK,UAAU3O,GAAIuH,EAAI,EAAG8N,EAAKhR,EAAEnC,OAAQqF,EAAI8N,EAAI9N,IAAKhE,IAC1DzC,EAAEyC,GAAKc,EAAEkD,GACjB,OAAOzG,EAGJ,SAASwU,EAAcC,EAAIC,EAAMC,GACpC,GAAIA,GAA6B,IAArB9G,UAAUzM,OAAc,IAAK,IAA4BwT,EAAxB1V,EAAI,EAAGC,EAAIuV,EAAKtT,OAAYlC,EAAIC,EAAGD,KACxE0V,GAAQ1V,KAAKwV,IACRE,IAAIA,EAAKzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,EAAM,EAAGxV,IAClD0V,EAAG1V,GAAKwV,EAAKxV,IAGrB,OAAOuV,EAAG3Q,OAAO8Q,GAAMzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,IAsC7B9U,OAAOY,Q,iCCjNnB,IAAIqU,EAAYC,EAAQ,KAAcC,EAAgB,GAAG,IAAI,IAAItU,KAAOoU,EAAYA,EAAY9T,eAAeN,KAAOsU,EAAgBF,EAAYpU,IAAMA,GAAK,IAAIuU,EAAQrW,EAAOD,QAAQ,CAACuW,IAAI,CAACC,SAAS,EAAEC,OAAO,OAAOC,IAAI,CAACF,SAAS,EAAEC,OAAO,OAAOE,IAAI,CAACH,SAAS,EAAEC,OAAO,OAAOG,IAAI,CAACJ,SAAS,EAAEC,OAAO,OAAOI,KAAK,CAACL,SAAS,EAAEC,OAAO,QAAQK,IAAI,CAACN,SAAS,EAAEC,OAAO,OAAOM,IAAI,CAACP,SAAS,EAAEC,OAAO,OAAOO,IAAI,CAACR,SAAS,EAAEC,OAAO,OAAOQ,IAAI,CAACT,SAAS,EAAEC,OAAO,CAAC,QAAQS,QAAQ,CAACV,SAAS,EAAEC,OAAO,CAAC,YAAYU,OAAO,CAACX,SAAS,EAAEC,OAAO,CAAC,WAAWW,QAAQ,CAACZ,SAAS,EAAEC,OAAO,CAAC,YAAYY,IAAI,CAACb,SAAS,EAAEC,OAAO,CAAC,IAAI,IAAI,MAAMa,MAAM,CAACd,SAAS,EAAEC,OAAO,CAAC,MAAM,MAAM,QAAQc,KAAK,CAACf,SAAS,EAAEC,OAAO,CAAC,UAAU,IAAI,IAAIe,KAASlB,EAAQ,GAAGA,EAAQjU,eAAemV,GAAO,CAAC,KAAK,aAAalB,EAAQkB,IAAQ,MAAM,IAAIC,MAAM,8BAA8BD,GAAO,KAAK,WAAWlB,EAAQkB,IAAQ,MAAM,IAAIC,MAAM,oCAAoCD,GAAO,GAAGlB,EAAQkB,GAAOf,OAAO/T,SAAS4T,EAAQkB,GAAOhB,SAAS,MAAM,IAAIiB,MAAM,sCAAsCD,GAAO,IAAIhB,EAASF,EAAQkB,GAAOhB,SAASC,EAAOH,EAAQkB,GAAOf,cAAcH,EAAQkB,GAAOhB,gBAAgBF,EAAQkB,GAAOf,OAAOvV,OAAOC,eAAemV,EAAQkB,GAAO,WAAW,CAAC/V,MAAM+U,IAAWtV,OAAOC,eAAemV,EAAQkB,GAAO,SAAS,CAAC/V,MAAMgV,IAAS,SAASiB,EAAoBpW,EAAEW,GAAG,OAAOwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGwD,KAAKkS,IAAIrW,EAAE,GAAGW,EAAE,GAAG,GAAGqU,EAAQC,IAAIG,IAAI,SAASpV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAE4E,KAAKE,IAAIjE,EAAEmD,EAAE5D,GAAG2W,EAAEnS,KAAKC,IAAIhE,EAAEmD,EAAE5D,GAAGsB,EAAEqV,EAAE/W,EAAE,OAAO+W,IAAI/W,EAAEoB,EAAE,EAAEP,IAAIkW,EAAE3V,GAAG4C,EAAE5D,GAAGsB,EAAEsC,IAAI+S,EAAE3V,EAAE,GAAGhB,EAAES,GAAGa,EAAEtB,IAAI2W,IAAI3V,EAAE,GAAGP,EAAEmD,GAAGtC,IAAIN,EAAEwD,KAAKE,IAAI,GAAG1D,EAAE,MAAM,IAAIA,GAAG,KAAKkG,GAAGtH,EAAE+W,GAAG,EAAE,CAAC3V,EAAE,KAAK2V,IAAI/W,EAAE,EAAEsH,GAAG,GAAG5F,GAAGqV,EAAE/W,GAAG0B,GAAG,EAAEqV,EAAE/W,IAAI,IAAIsH,IAAImO,EAAQC,IAAII,IAAI,SAASrV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAES,EAAE,GAAG,IAAIsW,EAAEtW,EAAE,GAAG,IAAIiB,EAAEjB,EAAE,GAAG,IAAIb,EAAEgF,KAAKC,IAAI7E,EAAE+W,EAAErV,GAAGuD,EAAErF,EAAEgF,KAAKE,IAAI9E,EAAE+W,EAAErV,GAAGsV,EAAE,SAASvW,GAAG,OAAOb,EAAEa,GAAG,EAAEwE,EAAE,IAAI,OAAO,IAAIA,EAAEjB,EAAE5D,EAAE,GAAGA,EAAE6E,EAAErF,EAAEwB,EAAE4V,EAAEhX,GAAGsH,EAAE0P,EAAED,GAAGlW,EAAEmW,EAAEtV,GAAG1B,IAAIJ,EAAEoE,EAAEnD,EAAEyG,EAAEyP,IAAInX,EAAEoE,EAAE,EAAE,EAAE5C,EAAEP,EAAEa,IAAI9B,IAAIoE,EAAE,EAAE,EAAEsD,EAAElG,GAAG4C,EAAE,EAAEA,GAAG,EAAEA,EAAE,IAAIA,GAAG,IAAI,CAAC,IAAIA,EAAE,IAAI5D,EAAE,IAAIR,IAAI6V,EAAQC,IAAIK,IAAI,SAAStV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,MAAM,CAACgV,EAAQC,IAAIG,IAAIpV,GAAG,GAAQ,EAAE,IAAImE,KAAKE,IAAI1D,EAAEwD,KAAKE,IAAIwC,EAAEzG,IAAjC,IAAsC,KAAKA,EAAE,EAAE,EAAE,IAAI+D,KAAKC,IAAIzD,EAAEwD,KAAKC,IAAIyC,EAAEzG,OAAO4U,EAAQC,IAAIM,KAAK,SAASvV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEY,KAAKE,IAAI,EAAE1D,EAAE,EAAEkG,EAAE,EAAEzG,GAAG,MAAM,CAAC,MAAM,EAAEO,EAAE4C,IAAI,EAAEA,IAAI,GAAG,MAAM,EAAEsD,EAAEtD,IAAI,EAAEA,IAAI,GAAG,MAAM,EAAEnD,EAAEmD,IAAI,EAAEA,IAAI,GAAG,IAAIA,IAAIyR,EAAQC,IAAIW,QAAQ,SAAS5V,GAAG,IAAIW,EAAEkG,EAAEkO,EAAgB/U,GAAG,GAAG6G,EAAE,OAAOA,EAAE,IAAIzG,EAAEmD,EAAE,IAAI,IAAI,IAAI5D,KAAKkV,EAAYA,EAAY9T,eAAepB,KAAKgB,EAAEyV,EAAoBpW,EAAE6U,EAAYlV,KAAK4D,IAAIA,EAAE5C,EAAEP,EAAET,GAAG,OAAOS,GAAG4U,EAAQY,QAAQX,IAAI,SAASjV,GAAG,OAAO6U,EAAY7U,IAAIgV,EAAQC,IAAIO,IAAI,SAASxV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAI,MAAM,CAAC,KAAK,OAAOW,EAAEA,EAAE,OAAOwD,KAAKkS,KAAK1V,EAAE,MAAM,MAAM,KAAKA,EAAE,OAAO,OAAOkG,EAAEA,EAAE,OAAO1C,KAAKkS,KAAKxP,EAAE,MAAM,MAAM,KAAKA,EAAE,OAAO,OAAOzG,EAAEA,EAAE,OAAO+D,KAAKkS,KAAKjW,EAAE,MAAM,MAAM,KAAKA,EAAE,QAAQ,KAAK,MAAMO,EAAE,MAAMkG,EAAE,MAAMzG,GAAG,KAAK,MAAMO,EAAE,MAAMkG,EAAE,MAAMzG,KAAK4U,EAAQC,IAAIQ,IAAI,SAASzV,GAAG,IAAIW,EAAEqU,EAAQC,IAAIO,IAAIxV,GAAG6G,EAAElG,EAAE,GAAGP,EAAEO,EAAE,GAAG4C,EAAE5C,EAAE,GAAG,OAAOP,GAAG,IAAImD,GAAG,QAAQsD,GAAGA,GAAG,QAAQ,QAAQ1C,KAAKkS,IAAIxP,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI,CAAC,KAAKzG,EAAEA,EAAE,QAAQ+D,KAAKkS,IAAIjW,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,GAAG,KAAKyG,EAAEzG,GAAG,KAAKA,GAAGmD,EAAEA,EAAE,QAAQY,KAAKkS,IAAI9S,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,QAAQyR,EAAQI,IAAIH,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAE+W,EAAEtW,EAAE,GAAG,IAAIiB,EAAEjB,EAAE,GAAG,IAAIb,EAAEa,EAAE,GAAG,IAAI,GAAG,IAAIiB,EAAE,MAAM,CAAC1B,EAAE,IAAIJ,EAAEI,EAAEA,GAAG,IAAIsH,EAAE,EAAE1H,GAAGiB,EAAEjB,EAAE,GAAGA,GAAG,EAAE8B,GAAG9B,EAAE8B,EAAE9B,EAAE8B,GAAGtB,EAAE,CAAC,EAAE,EAAE,GAAGgB,EAAE,EAAEA,EAAE,EAAEA,KAAK4C,EAAE+S,EAAE,EAAE,IAAI3V,EAAE,IAAI,GAAG4C,IAAIA,EAAE,GAAGA,IAAIhE,EAAE,EAAEgE,EAAE,EAAEsD,EAAE,GAAGzG,EAAEyG,GAAGtD,EAAE,EAAEA,EAAE,EAAEnD,EAAE,EAAEmD,EAAE,EAAEsD,GAAGzG,EAAEyG,IAAI,EAAE,EAAEtD,GAAG,EAAEsD,EAAElH,EAAEgB,GAAG,IAAIpB,EAAE,OAAOI,GAAGqV,EAAQI,IAAIC,IAAI,SAASrV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEsD,EAAElH,EAAEwE,KAAKC,IAAIhE,EAAE,KAAK,OAAOyG,IAAIzG,GAAG,IAAI,EAAEA,EAAE,EAAEA,EAAEmD,GAAG5D,GAAG,EAAEA,EAAE,EAAEA,EAAE,CAACgB,EAAE,KAAK,IAAIP,EAAE,EAAEmD,GAAG5D,EAAE4D,GAAG,EAAEsD,GAAGzG,EAAEyG,KAAUzG,EAAEyG,GAAG,EAAX,MAAgBmO,EAAQK,IAAIJ,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,GAAG6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEY,KAAKqS,MAAM7V,GAAG,EAAEhB,EAAEgB,EAAEwD,KAAKqS,MAAM7V,GAAGpB,EAAE,IAAIa,GAAG,EAAEyG,GAAGyP,EAAE,IAAIlW,GAAG,EAAEyG,EAAElH,GAAGsB,EAAE,IAAIb,GAAG,EAAEyG,GAAG,EAAElH,IAAI,OAAOS,GAAG,IAAImD,GAAG,KAAK,EAAE,MAAM,CAACnD,EAAEa,EAAE1B,GAAG,KAAK,EAAE,MAAM,CAAC+W,EAAElW,EAAEb,GAAG,KAAK,EAAE,MAAM,CAACA,EAAEa,EAAEa,GAAG,KAAK,EAAE,MAAM,CAAC1B,EAAE+W,EAAElW,GAAG,KAAK,EAAE,MAAM,CAACa,EAAE1B,EAAEa,GAAG,KAAK,EAAE,MAAM,CAACA,EAAEb,EAAE+W,KAAKtB,EAAQK,IAAID,IAAI,SAASpV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEJ,EAAE,GAAGuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAE4E,KAAKC,IAAIzE,EAAE,KAAK2W,GAAG,EAAE/S,GAAG5D,EAAE,OAAOkH,EAAEtD,EAAEhE,EAAE,CAACa,EAAE,KAAKyG,GAAGA,IAAIlG,GAAG,EAAE4C,GAAGhE,IAAI,EAAEoB,EAAE,EAAEA,IAAI,GAAG,KAAK2V,GAAG,KAAKtB,EAAQM,IAAIL,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAE5D,EAAEJ,EAAE+W,EAAErV,EAAEjB,EAAE,GAAG,IAAIb,EAAEa,EAAE,GAAG,IAAIwE,EAAExE,EAAE,GAAG,IAAIuW,EAAEpX,EAAEqF,EAAE,OAAO+R,EAAE,IAAIpX,GAAGoX,EAAE/R,GAAG+R,GAAGnW,EAAE,EAAEa,GAAGN,EAAEwD,KAAKqS,MAAM,EAAEvV,IAAI,IAAI,EAAEN,KAAKP,EAAE,EAAEA,GAAGmD,EAAEpE,EAAEiB,IAAIyG,EAAE,EAAErC,GAAGrF,GAAGwB,GAAG,QAAQ,KAAK,EAAE,KAAK,EAAEhB,EAAEkH,EAAEtH,EAAEgE,EAAE+S,EAAEnX,EAAE,MAAM,KAAK,EAAEQ,EAAE4D,EAAEhE,EAAEsH,EAAEyP,EAAEnX,EAAE,MAAM,KAAK,EAAEQ,EAAER,EAAEI,EAAEsH,EAAEyP,EAAE/S,EAAE,MAAM,KAAK,EAAE5D,EAAER,EAAEI,EAAEgE,EAAE+S,EAAEzP,EAAE,MAAM,KAAK,EAAElH,EAAE4D,EAAEhE,EAAEJ,EAAEmX,EAAEzP,EAAE,MAAM,KAAK,EAAElH,EAAEkH,EAAEtH,EAAEJ,EAAEmX,EAAE/S,EAAE,MAAM,CAAC,IAAI5D,EAAE,IAAIJ,EAAE,IAAI+W,IAAItB,EAAQO,KAAKN,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAI,MAAM,CAAC,KAAK,EAAEmE,KAAKE,IAAI,EAAE1D,GAAG,EAAE4C,GAAGA,IAAI,KAAK,EAAEY,KAAKE,IAAI,EAAEwC,GAAG,EAAEtD,GAAGA,IAAI,KAAK,EAAEY,KAAKE,IAAI,EAAEjE,GAAG,EAAEmD,GAAGA,MAAMyR,EAAQQ,IAAIP,IAAI,SAASjV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAEvD,EAAE,GAAG,IAAIL,EAAEK,EAAE,GAAG,IAAIT,EAAES,EAAE,GAAG,IAAI,OAAO6G,GAAG,MAAMtD,EAAE,OAAO5D,EAAE,MAAMJ,EAAEa,EAAE,MAAMmD,GAAG,KAAK5D,EAAE,MAAMJ,EAAEoB,GAAGA,EAAE,OAAO4C,GAAG,OAAO5D,GAAG,MAAMJ,GAAG,SAAS,MAAM4E,KAAKkS,IAAI1V,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAEkG,EAAEA,EAAE,SAAS,MAAM1C,KAAKkS,IAAIxP,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAEzG,EAAEA,EAAE,SAAS,MAAM+D,KAAKkS,IAAIjW,EAAE,EAAE,KAAK,KAAK,MAAMA,EAAE,CAAC,KAAKO,EAAEwD,KAAKE,IAAIF,KAAKC,IAAI,EAAEzD,GAAG,IAAI,KAAKkG,EAAE1C,KAAKE,IAAIF,KAAKC,IAAI,EAAEyC,GAAG,IAAI,KAAKzG,EAAE+D,KAAKE,IAAIF,KAAKC,IAAI,EAAEhE,GAAG,MAAM4U,EAAQQ,IAAIC,IAAI,SAASzV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,OAAO6G,GAAG,IAAIzG,GAAG,QAAQO,GAAGA,GAAG,QAAQ,QAAQwD,KAAKkS,IAAI1V,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI,CAAC,KAAKkG,EAAEA,EAAE,QAAQ1C,KAAKkS,IAAIxP,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,GAAG,KAAKlG,EAAEkG,GAAG,KAAKA,GAAGzG,EAAEA,EAAE,QAAQ+D,KAAKkS,IAAIjW,EAAE,EAAE,GAAG,MAAMA,EAAE,GAAG,QAAQ4U,EAAQS,IAAID,IAAI,SAASxV,GAAG,IAAIW,EAAEkG,EAAEzG,EAAEmD,EAAEvD,EAAE,GAAGW,EAAEX,EAAE,GAAG,KAAK6G,GAAGtD,EAAE,IAAI,KAAKnD,EAAEyG,EAAE7G,EAAE,GAAG,IAAI,IAAIL,EAAEwE,KAAKkS,IAAIxP,EAAE,GAAGtH,EAAE4E,KAAKkS,IAAI1V,EAAE,GAAG2V,EAAEnS,KAAKkS,IAAIjW,EAAE,GAAG,OAAOyG,EAAElH,EAAE,QAAQA,GAAGkH,EAAE,GAAG,KAAK,MAAMlG,EAAEpB,EAAE,QAAQA,GAAGoB,EAAE,GAAG,KAAK,MAAMP,EAAEkW,EAAE,QAAQA,GAAGlW,EAAE,GAAG,KAAK,MAAM,CAACO,GAAG,OAAOkG,GAAG,IAAIzG,GAAG,UAAU4U,EAAQS,IAAIC,IAAI,SAAS1V,GAAG,IAAIW,EAAEkG,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAGuD,EAAEvD,EAAE,GAAG,OAAOW,EAAE,IAAIwD,KAAKsS,MAAMlT,EAAEnD,GAAG,EAAE+D,KAAK6F,IAAI,IAAIrJ,GAAG,KAAK,CAACkG,EAAE1C,KAAKuS,KAAKtW,EAAEA,EAAEmD,EAAEA,GAAG5C,IAAIqU,EAAQU,IAAID,IAAI,SAASzV,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,IAAI,EAAEmE,KAAK6F,GAAG,MAAM,CAACrJ,EAAEkG,EAAE1C,KAAKwS,IAAIvW,GAAGyG,EAAE1C,KAAKyS,IAAIxW,KAAK4U,EAAQC,IAAIY,OAAO,SAAS7V,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAGuD,EAAE,KAAKsK,UAAUA,UAAU,GAAGmH,EAAQC,IAAII,IAAIrV,GAAG,GAAG,GAAG,KAAKuD,EAAEY,KAAKyE,MAAMrF,EAAE,KAAK,OAAO,GAAG,IAAI5D,EAAE,IAAIwE,KAAKyE,MAAMxI,EAAE,MAAM,EAAE+D,KAAKyE,MAAM/B,EAAE,MAAM,EAAE1C,KAAKyE,MAAMjI,EAAE,MAAM,OAAO,IAAI4C,IAAI5D,GAAG,IAAIA,GAAGqV,EAAQK,IAAIQ,OAAO,SAAS7V,GAAG,OAAOgV,EAAQC,IAAIY,OAAOb,EAAQK,IAAIJ,IAAIjV,GAAGA,EAAE,KAAKgV,EAAQC,IAAIa,QAAQ,SAAS9V,GAAG,IAAIW,EAAEX,EAAE,GAAG6G,EAAE7G,EAAE,GAAGI,EAAEJ,EAAE,GAAG,OAAOW,IAAIkG,GAAGA,IAAIzG,EAAEO,EAAE,EAAE,GAAGA,EAAE,IAAI,IAAIwD,KAAKyE,OAAOjI,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG,GAAGwD,KAAKyE,MAAMjI,EAAE,IAAI,GAAG,EAAEwD,KAAKyE,MAAM/B,EAAE,IAAI,GAAG1C,KAAKyE,MAAMxI,EAAE,IAAI,IAAI4U,EAAQa,OAAOZ,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,GAAG,IAAIW,GAAG,IAAIA,EAAE,OAAOX,EAAE,KAAKW,GAAG,KAAK,CAACA,EAAEA,EAAE,KAAK,IAAIA,EAAEA,GAAG,IAAIkG,EAAE,IAAI,KAAK7G,EAAE,KAAK,MAAM,EAAE,EAAEW,GAAGkG,EAAE,KAAKlG,GAAG,EAAE,GAAGkG,EAAE,KAAKlG,GAAG,EAAE,GAAGkG,EAAE,MAAMmO,EAAQc,QAAQb,IAAI,SAASjV,GAAG,OAAOA,GAAG,IAAI,CAAC6G,EAAE,IAAI7G,EAAE,KAAK,EAAE6G,EAAEA,IAAI7G,GAAG,GAAG,CAACmE,KAAKqS,MAAMxW,EAAE,IAAI,EAAE,IAAImE,KAAKqS,OAAO7V,EAAEX,EAAE,IAAI,GAAG,EAAE,IAAIW,EAAE,EAAE,EAAE,MAAM,IAAIA,EAAEkG,GAAGmO,EAAQC,IAAIU,IAAI,SAAS3V,GAAG,IAAIW,KAAK,IAAIwD,KAAKyE,MAAM5I,EAAE,MAAM,MAAM,IAAImE,KAAKyE,MAAM5I,EAAE,MAAM,IAAI,IAAImE,KAAKyE,MAAM5I,EAAE,MAAM+B,SAAS,IAAIkJ,cAAc,MAAM,SAASN,UAAUhK,EAAES,QAAQT,GAAGqU,EAAQW,IAAIV,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE+B,SAAS,IAAI8I,MAAM,4BAA4B,IAAIlK,EAAE,MAAM,CAAC,EAAE,EAAE,GAAG,IAAIkG,EAAElG,EAAE,GAAG,IAAIA,EAAE,GAAGS,SAASyF,EAAEA,EAAES,MAAM,IAAI+H,KAAK,SAASrP,GAAG,OAAOA,EAAEA,KAAKmR,KAAK,KAAK,IAAI/Q,EAAE+J,SAAStD,EAAE,IAAI,MAAM,CAACzG,GAAG,GAAG,IAAIA,GAAG,EAAE,IAAI,IAAIA,IAAI4U,EAAQC,IAAIc,IAAI,SAAS/V,GAAG,IAAIW,EAAEkG,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAIuD,EAAEvD,EAAE,GAAG,IAAIL,EAAEwE,KAAKC,IAAID,KAAKC,IAAIyC,EAAEzG,GAAGmD,GAAGhE,EAAE4E,KAAKE,IAAIF,KAAKE,IAAIwC,EAAEzG,GAAGmD,GAAG+S,EAAE3W,EAAEJ,EAAE,OAAOoB,EAAE2V,GAAG,EAAE,EAAE3W,IAAIkH,GAAGzG,EAAEmD,GAAG+S,EAAE,EAAE3W,IAAIS,EAAE,GAAGmD,EAAEsD,GAAGyP,EAAE,GAAGzP,EAAEzG,GAAGkW,EAAE,EAAE3V,GAAG,EAAE,CAAC,KAAKA,GAAG,GAAG,IAAI2V,EAAE,KAAKA,EAAE,EAAE/W,GAAG,EAAE+W,GAAG,KAAKtB,EAAQI,IAAIW,IAAI,SAAS/V,GAAG,IAA0BI,EAAtBO,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAQuD,EAAE,EAAE,OAAOnD,EAAEyG,EAAE,GAAG,EAAElG,EAAEkG,EAAE,EAAElG,GAAG,EAAEkG,IAAI,IAAItD,GAAGsD,EAAE,GAAGzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQK,IAAIU,IAAI,SAAS/V,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEO,EAAEkG,EAAEtD,EAAE,EAAE,OAAOnD,EAAE,IAAImD,GAAGsD,EAAEzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQe,IAAId,IAAI,SAASjV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,IAAII,EAAEJ,EAAE,GAAG,IAAI,GAAG,IAAI6G,EAAE,MAAM,CAAC,IAAIzG,EAAE,IAAIA,EAAE,IAAIA,GAAG,IAAImD,EAAE5D,EAAE,CAAC,EAAE,EAAE,GAAGJ,EAAEoB,EAAE,EAAE,EAAE2V,EAAE/W,EAAE,EAAE0B,EAAE,EAAEqV,EAAE,OAAOnS,KAAKqS,MAAMjX,IAAI,KAAK,EAAEI,EAAE,GAAG,EAAEA,EAAE,GAAG2W,EAAE3W,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAGsB,EAAEtB,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAG2W,EAAE,MAAM,KAAK,EAAE3W,EAAE,GAAG,EAAEA,EAAE,GAAGsB,EAAEtB,EAAE,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,GAAG2W,EAAE3W,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAE,MAAM,QAAQA,EAAE,GAAG,EAAEA,EAAE,GAAG,EAAEA,EAAE,GAAGsB,EAAE,OAAOsC,GAAG,EAAEsD,GAAGzG,EAAE,CAAC,KAAKyG,EAAElH,EAAE,GAAG4D,GAAG,KAAKsD,EAAElH,EAAE,GAAG4D,GAAG,KAAKsD,EAAElH,EAAE,GAAG4D,KAAKyR,EAAQe,IAAIV,IAAI,SAASrV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAElG,EAAEX,EAAE,GAAG,KAAK,EAAEW,GAAGP,EAAE,EAAE,OAAOyG,EAAE,IAAIzG,EAAEO,EAAEkG,GAAG,CAAC7G,EAAE,GAAG,IAAII,EAAE,IAAIyG,IAAImO,EAAQe,IAAIX,IAAI,SAASpV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE7G,EAAE,GAAG,KAAK,EAAEW,GAAG,GAAGA,EAAEP,EAAE,EAAE,OAAOyG,EAAE,GAAGA,EAAE,GAAGzG,EAAEO,GAAG,EAAEkG,GAAGA,GAAG,IAAIA,EAAE,IAAIzG,EAAEO,GAAG,GAAG,EAAEkG,KAAK,CAAC7G,EAAE,GAAG,IAAII,EAAE,IAAIyG,IAAImO,EAAQe,IAAIT,IAAI,SAAStV,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAElG,EAAEX,EAAE,GAAG,KAAK,EAAEW,GAAG,MAAM,CAACX,EAAE,GAAG,KAAK6G,EAAElG,GAAG,KAAK,EAAEkG,KAAKmO,EAAQM,IAAIS,IAAI,SAAS/V,GAAG,IAAIW,EAAEX,EAAE,GAAG,IAAI6G,EAAE,EAAE7G,EAAE,GAAG,IAAII,EAAEyG,EAAElG,EAAE4C,EAAE,EAAE,OAAOnD,EAAE,IAAImD,GAAGsD,EAAEzG,IAAI,EAAEA,IAAI,CAACJ,EAAE,GAAG,IAAII,EAAE,IAAImD,IAAIyR,EAAQgB,MAAMf,IAAI,SAASjV,GAAG,MAAM,CAACA,EAAE,GAAG,MAAM,IAAIA,EAAE,GAAG,MAAM,IAAIA,EAAE,GAAG,MAAM,MAAMgV,EAAQC,IAAIe,MAAM,SAAShW,GAAG,MAAM,CAACA,EAAE,GAAG,IAAI,MAAMA,EAAE,GAAG,IAAI,MAAMA,EAAE,GAAG,IAAI,QAAQgV,EAAQiB,KAAKhB,IAAI,SAASjV,GAAG,MAAM,CAACA,EAAE,GAAG,IAAI,IAAIA,EAAE,GAAG,IAAI,IAAIA,EAAE,GAAG,IAAI,MAAMgV,EAAQiB,KAAKb,IAAIJ,EAAQiB,KAAKZ,IAAI,SAASrV,GAAG,MAAM,CAAC,EAAE,EAAEA,EAAE,KAAKgV,EAAQiB,KAAKX,IAAI,SAAStV,GAAG,MAAM,CAAC,EAAE,IAAIA,EAAE,KAAKgV,EAAQiB,KAAKV,KAAK,SAASvV,GAAG,MAAM,CAAC,EAAE,EAAE,EAAEA,EAAE,KAAKgV,EAAQiB,KAAKR,IAAI,SAASzV,GAAG,MAAM,CAACA,EAAE,GAAG,EAAE,IAAIgV,EAAQiB,KAAKN,IAAI,SAAS3V,GAAG,IAAIW,EAAE,IAAIwD,KAAKyE,MAAM5I,EAAE,GAAG,IAAI,KAAK6G,IAAIlG,GAAG,KAAKA,GAAG,GAAGA,GAAGoB,SAAS,IAAIkJ,cAAc,MAAM,SAASN,UAAU9D,EAAEzF,QAAQyF,GAAGmO,EAAQC,IAAIgB,KAAK,SAASjW,GAAG,MAAM,EAAEA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,EAAE,IAAI,O,0ECAl2R,kDAAIwU,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArB9G,UAAUzM,OAAc,IAAK,IAA4BwT,EAAxB1V,EAAI,EAAGC,EAAIuV,EAAKtT,OAAYlC,EAAIC,EAAGD,KACxE0V,GAAQ1V,KAAKwV,IACRE,IAAIA,EAAKzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,EAAM,EAAGxV,IAClD0V,EAAG1V,GAAKwV,EAAKxV,IAGrB,OAAOuV,EAAG3Q,OAAO8Q,GAAMzS,MAAMrB,UAAUgK,MAAMzL,KAAKqV,KAElDmC,EACA,SAAqBpX,EAAMqX,EAASC,GAChCjY,KAAKW,KAAOA,EACZX,KAAKgY,QAAUA,EACfhY,KAAKiY,GAAKA,EACVjY,KAAKmD,KAAO,WAKhB+U,EACA,SAAkBF,GACdhY,KAAKgY,QAAUA,EACfhY,KAAKmD,KAAO,OACZnD,KAAKW,KAAO,OACZX,KAAKiY,GAAKE,EAAQC,UAKtBC,EACA,SAA6B1X,EAAMqX,EAASC,EAAIK,GAC5CtY,KAAKW,KAAOA,EACZX,KAAKgY,QAAUA,EACfhY,KAAKiY,GAAKA,EACVjY,KAAKsY,IAAMA,EACXtY,KAAKmD,KAAO,cAKhBoV,EACA,WACIvY,KAAKmD,KAAO,MACZnD,KAAKsY,KAAM,EACXtY,KAAKW,KAAO,MACZX,KAAKgY,QAAU,KACfhY,KAAKiY,GAAK,MAKdO,EACA,WACIxY,KAAKmD,KAAO,eACZnD,KAAKW,KAAO,eACZX,KAAKgY,QAAU,KACfhY,KAAKiY,GAAK,MAOdQ,EAAqB,qFAErBC,EAAiB,CACjB,CAAC,MAAO,0BACR,CAAC,OAAQ,qBACT,CAAC,WAAY,uBACb,CAAC,gBAAiB,0BAClB,CAAC,YAAa,yBACd,CAAC,UAAW,8BACZ,CAAC,OAAQ,yBACT,CAAC,OAAQ,4BACT,CAAC,SAAU,6BACX,CAAC,gBAAiB,qBAClB,CACI,mBACA,0DAEJ,CAAC,SAAU,oDACX,CAAC,YAAa,iCACd,CAAC,QAAS,6BACV,CAAC,UAAW,+BACZ,CAAC,QAAS,qBACV,CAAC,aAAc,mCACf,CAAC,QAAS,6BACV,CAAC,QAAS,2BACV,CAAC,MAAO,oDACR,CAAC,MAAO,iGACR,CAAC,WAAY,wCACb,CAAC,KAAM,6CACP,CAAC,KAAM,uCACP,CAAC,KAAM,gBACP,CAAC,OAAQ,qCACT,CAAC,UAAW,uBACZ,CAAC,MAAO,0CACR,CAAC,SAAU,gCACX,CAAC,WAAY,uBACb,CAAC,YAAa,yBACd,CAAC,cAAe,mCAChB,CAAC,cAAe,qCAChB,CAAC,OAAQ,sBACT,CAAC,YAzCoB,iIA2CrBC,EAAuB,CACvB,CAAC,MAAO,kBACR,CAAC,aAAc,WACf,CAAC,gBAAiB,mBAClB,CAAC,iBAAkB,YACnB,CAAC,YAAa,UACd,CAAC,eAAgB,SACjB,CAAC,aAAc,qCACf,CAAC,aAAc,wBACf,CAAC,eAAgB,mCACjB,CAAC,aAAc,iCACf,CAAC,sBAAuB,oBACxB,CAAC,gBAAiB,oBAClB,CAAC,YAAa,oBACd,CAAC,YAAa,oBACd,CAAC,cAAe,oBAChB,CAAC,aAAc,qBACf,CAAC,aAAc,cACf,CAAC,aAAc,uDACf,CAAC,WAAY,WACb,CAAC,SAAU,SACX,CAAC,YAAa,QACd,CAAC,QAAS,iBACV,CAAC,SAAU,6BACX,CAAC,MAAO,OACR,CAAC,OAAQ,QACT,CAAC,OAAQ,UAEN,SAASC,EAAOC,GACnB,OAAMA,EACKC,EAAeD,GAEF,oBAAb5G,UACc,oBAAd8G,WACe,gBAAtBA,UAAUC,QACH,IAAIR,EAEU,oBAAdO,UACAD,EAAeC,UAAUF,gBA6DJ,IAAZV,GAA2BA,EAAQH,QACvC,IAAIE,EAASC,EAAQH,QAAQhM,MAAM,IAAM,KA1D7D,SAASiN,EAAeC,GAKpB,MAAe,KAAPA,GACJR,EAAexT,QAAO,SAAUiU,EAASC,GACrC,IAAIC,EAAUD,EAAG,GAAIE,EAAQF,EAAG,GAChC,GAAID,EACA,OAAOA,EAEX,IAAII,EAAUD,EAAME,KAAKN,GACzB,QAASK,GAAW,CAACF,EAASE,MAC/B,GAMJ,SAAST,EAAeI,GAC3B,IAAIO,EAAcR,EAAeC,GACjC,IAAKO,EACD,OAAO,KAEX,IAAI9Y,EAAO8Y,EAAY,GAAI1N,EAAQ0N,EAAY,GAC/C,GAAa,cAAT9Y,EACA,OAAO,IAAI4X,EAGf,IAAImB,EAAe3N,EAAM,IAAMA,EAAM,GAAGvD,MAAM,KAAK6J,KAAK,KAAK7J,MAAM,KAAKwD,MAAM,EAAG,GAC7E0N,EACIA,EAAapX,OAlHI,IAmHjBoX,EAAehE,EAAcA,EAAc,GAAIgE,GAAc,GA4BzE,SAA4BC,GAExB,IADA,IAAIC,EAAS,GACJC,EAAK,EAAGA,EAAKF,EAAOE,IACzBD,EAAO9W,KAAK,KAEhB,OAAO8W,EAjCqEE,CAnHnD,EAmH+FJ,EAAapX,SAAS,IAI1IoX,EAAe,GAEnB,IAAI1B,EAAU0B,EAAarH,KAAK,KAC5B4F,EAOD,SAAkBiB,GACrB,IAAK,IAAIW,EAAK,EAAGF,EAAQhB,EAAqBrW,OAAQuX,EAAKF,EAAOE,IAAM,CACpE,IAAIT,EAAKT,EAAqBkB,GAAK5B,EAAKmB,EAAG,GAE3C,GAFuDA,EAAG,GACxCI,KAAKN,GAEnB,OAAOjB,EAGf,OAAO,KAfE8B,CAASb,GACdc,EAAiBvB,EAAmBe,KAAKN,GAC7C,OAAIc,GAAkBA,EAAe,GAC1B,IAAI3B,EAAoB1X,EAAMqX,EAASC,EAAI+B,EAAe,IAE9D,IAAIjC,EAAYpX,EAAMqX,EAASC,M,oDC/L1C,+BAmBMvY,EAdsB,oBAAfua,WACFA,WAEW,oBAATC,KACFA,KAEa,oBAAX7M,OACFA,YAEa,IAAX8M,EACFA,OADT,EAOqB,iBAAZva,SAA0C,iBAAXC,GACb,mBAAXC,QAAyB,QACb,iBAAZF,SAEhBkB,OAAOsZ,iBAAiB1a,EAAM,CAC5B2a,GAAI,CACFpZ,IAAK,WAEH,OADAqZ,QAAQC,KAAK,2BACN,cAMA,YAAE,S,oCClCjB,IAOIC,EACAC,EARAtC,EAAUtY,EAAOD,QAAU,GAU/B,SAAS8a,IACL,MAAM,IAAIrD,MAAM,mCAEpB,SAASsD,IACL,MAAM,IAAItD,MAAM,qCAsBpB,SAASuD,EAAWC,GAChB,GAAIL,IAAqB9M,WAErB,OAAOA,WAAWmN,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqB9M,WAEhE,OADA8M,EAAmB9M,WACZA,WAAWmN,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAM9S,GACJ,IAEI,OAAOyS,EAAiBja,KAAK,KAAMsa,EAAK,GAC1C,MAAM9S,GAEJ,OAAOyS,EAAiBja,KAAKP,KAAM6a,EAAK,MAvCnD,WACG,IAEQL,EADsB,mBAAf9M,WACYA,WAEAgN,EAEzB,MAAO3S,GACLyS,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjBzM,aACcA,aAEA2M,EAE3B,MAAO5S,GACL0S,EAAqBE,GAjB5B,GAwED,IAEIG,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAaxY,OACbyY,EAAQD,EAAa9V,OAAO+V,GAE5BE,GAAc,EAEdF,EAAMzY,QACN6Y,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAInM,EAAU+L,EAAWM,GACzBF,GAAW,EAGX,IADA,IAAIvX,EAAMsX,EAAMzY,OACVmB,GAAK,CAGP,IAFAqX,EAAeC,EACfA,EAAQ,KACCE,EAAaxX,GACdqX,GACAA,EAAaG,GAAYG,MAGjCH,GAAc,EACdxX,EAAMsX,EAAMzY,OAEhBwY,EAAe,KACfE,GAAW,EAnEf,SAAyBK,GACrB,GAAIZ,IAAuBzM,aAEvB,OAAOA,aAAaqN,GAGxB,IAAKZ,IAAuBE,IAAwBF,IAAuBzM,aAEvE,OADAyM,EAAqBzM,aACdA,aAAaqN,GAExB,IAEWZ,EAAmBY,GAC5B,MAAOtT,GACL,IAEI,OAAO0S,EAAmBla,KAAK,KAAM8a,GACvC,MAAOtT,GAGL,OAAO0S,EAAmBla,KAAKP,KAAMqb,KAgD7CC,CAAgBzM,IAiBpB,SAAS0M,EAAKV,EAAKjS,GACf5I,KAAK6a,IAAMA,EACX7a,KAAK4I,MAAQA,EAYjB,SAAS4S,KA5BTrD,EAAQsD,SAAW,SAAUZ,GACzB,IAAIrM,EAAO,IAAInL,MAAM0L,UAAUzM,OAAS,GACxC,GAAIyM,UAAUzM,OAAS,EACnB,IAAK,IAAIlC,EAAI,EAAGA,EAAI2O,UAAUzM,OAAQlC,IAClCoO,EAAKpO,EAAI,GAAK2O,UAAU3O,GAGhC2a,EAAMjY,KAAK,IAAIyY,EAAKV,EAAKrM,IACJ,IAAjBuM,EAAMzY,QAAiB0Y,GACvBJ,EAAWO,IASnBI,EAAKvZ,UAAUoZ,IAAM,WACjBpb,KAAK6a,IAAIpT,MAAM,KAAMzH,KAAK4I,QAE9BuP,EAAQuD,MAAQ,UAChBvD,EAAQkB,SAAU,EAClBlB,EAAQwD,IAAM,GACdxD,EAAQyD,KAAO,GACfzD,EAAQH,QAAU,GAClBG,EAAQ0D,SAAW,GAInB1D,EAAQ2D,GAAKN,EACbrD,EAAQ4D,YAAcP,EACtBrD,EAAQ6D,KAAOR,EACfrD,EAAQ8D,IAAMT,EACdrD,EAAQ+D,eAAiBV,EACzBrD,EAAQgE,mBAAqBX,EAC7BrD,EAAQiE,KAAOZ,EACfrD,EAAQkE,gBAAkBb,EAC1BrD,EAAQmE,oBAAsBd,EAE9BrD,EAAQoE,UAAY,SAAU5b,GAAQ,MAAO,IAE7CwX,EAAQqE,QAAU,SAAU7b,GACxB,MAAM,IAAI0W,MAAM,qCAGpBc,EAAQsE,IAAM,WAAc,MAAO,KACnCtE,EAAQuE,MAAQ,SAAUC,GACtB,MAAM,IAAItF,MAAM,mCAEpBc,EAAQyE,MAAQ,WAAa,OAAO,I,kOCtLpChd,kBAAA,SAAgC4C,EAAYqB,GAC1C,IAAMhB,EAAQL,EAAIC,QAAQoB,IACX,IAAXhB,GACFL,EAAIwD,OAAOnD,EAAO,IAITjD,YAA8B,oBAAXyN,aAAqD,IAApBA,OAAO4E,SACxE,WAASnR,iCAAAE,cAAAC,eAAA,kBAAOH,sCAAAE,cAAAC,eAAA,uBAAYH,oCAAAE,cAAAC,eAAA,qBAAUH,oCAAAE,cAAAC,eAAA,qBAAUH,mCAAAE,cAAAC,eAAA,oBAASH,+BAAAE,cAAAC,eAAA,gBAAKH,gCAAAE,cAAAC,eAAA,iBAAMH,sCAAAE,cAAAC,eAAA,uBAGpErB,WAAA,SAAyBid,EAAWC,GAElC,GAAID,EAAUE,WACZ,OAAO,EAIT,IAFA,IAAIC,EAASF,EAAMG,YACfC,GAAW,EACRF,GAAQ,CACb,GAAIA,IAAWH,EAAW,CACxBK,GAAW,EACX,MAEFF,EAASA,EAAOC,YAElB,OAAOC,GAGTtd,iBAAA,SAA+Bud,GAE7B,OAAOA,EAAQC,IAAIC,SAAWF,EAAQC,IAAIE,U,gCC/B5C,YAMMC,EAAW,oCAJI,oBACH,sBAKH,KACbvF,QAAS,SACTwF,uBAAwB,iBACxBC,qBAAsB,eACtBC,wBAAyB,kBACzBC,uBAAwB,iBACxBC,uBAAwB,iBACxBC,wBAAyB,kBACzBC,2BAA4B,qBAC5BC,oBAAqB,MACrBC,UAAW,CACTC,MAAO,CACLC,KAAM,OACN9L,SAAU,GACV+L,UAAW,SACXC,aAAc,UAEhBC,OAAQ,GAEVC,YAAa,CACXnb,KAAM,SACN8a,MAAO,CACLM,UAAW,EACXC,OAAQjB,EAASkB,WACjBP,KAAMX,EAASmB,UAEjBxO,KAAM,GACN9G,MAAOmU,EAASkB,WAChBE,WAAY,CACVzO,KAAM,EACNqO,UAAW,EACXL,KAAMX,EAASqB,WACfJ,OAAQjB,EAASsB,eAIrBC,gBAAiB,CACfC,OAAQ,CACNb,KAAMX,EAASqB,WACfJ,OAAQjB,EAASsB,aACjBN,UAAW,EACXS,YAAazB,EAASkB,WACtBQ,WAAY,IAEdC,SAAU,CACRhB,KAAMX,EAAS4B,aACfX,OAAQjB,EAAS6B,eACjBb,UAAW,EACXS,YAAazB,EAAS6B,eACtBH,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTnB,KAAMX,EAAS+B,cACfd,OAAQjB,EAASgC,gBACjBhB,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRtB,KAAMX,EAASkC,aACfjB,OAAQjB,EAASmC,eACjBnB,UAAW,GAEboB,QAAS,CACPzB,KAAMX,EAASqC,YACfpB,OAAQjB,EAASsC,cACjBtB,UAAW,IAGfuB,UAAW,CACT7B,MAAO,CACLC,KA/EY,eAgFZC,UAAW,SACXC,aAAc,SACdhM,SAAU,KAGd2N,YAAa,CACX5c,KAAM,OACN+M,KAAM,EACN+N,MAAO,CACLO,OAAQjB,EAASyC,eACjBC,gBAAiB,GAEnB7W,MAAOmU,EAASyC,gBAGlBE,gBAAiB,CACfnB,OAAQ,CACNP,OAAQjB,EAAS4C,iBACjB5B,UAAW,GAEbW,SAAU,CACRV,OAAQjB,EAAS6C,mBACjB7B,UAAW,EACXS,YAAazB,EAAS6C,mBACtBnB,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAAQjB,EAAS8C,oBACjB9B,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRhB,OAAQjB,EAAS+C,mBACjB/B,UAAW,GAEboB,QAAS,CACPnB,OAAQjB,EAASgD,kBACjBhC,UAAW,IAGfiC,WAAY,CACVvC,MAAO,CACLC,KA/HY,eAiIZE,aAAc,SACdhM,SAAU,IAEZqO,KAAM,GACNC,KAAM,IAERC,aAAc,CACZxd,KAAM,SACN8a,MAAO,CACLC,KAAMX,EAASqD,cACfrC,UAAW,EACXC,OAAQjB,EAASsD,gBACjB3f,EAAG,EACHqR,MAAO,GACPuO,OAAQ,IAEV5Q,KAAM,CAAC,GAAI,GACX9G,MAAOmU,EAASsD,gBAChBE,QAAS,CAAC,GAAI,GAAI,GAAI,KAGxBC,iBAAkB,CAChBjC,OAAQ,CACNP,OAAQjB,EAAS0D,kBACjB1C,UAAW,EACXL,KAAMX,EAAS2D,iBAEjBhC,SAAU,CACRV,OAAQjB,EAAS4D,oBACjB5C,UAAW,EACXL,KAAMX,EAAS6D,kBACfpC,YAAazB,EAAS4D,oBACtBlC,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAAQjB,EAAS8D,qBACjB9C,UAAW,EACXL,KAAMX,EAAS+D,mBACf,aAAc,CACZxP,WAAY,MAGhB0N,SAAU,CACRhB,OAAQjB,EAASgE,oBACjBrD,KAAMX,EAASiE,kBACfjD,UAAW,GAEboB,QAAS,CACPnB,OAAQjB,EAASkE,mBACjBvD,KAAMX,EAASmE,iBACfnD,UAAW,IAGfoD,cAAe,CACbzD,KAAM,UACN0D,YAAa,GACbpD,OAAQ,UACRqD,cAAe,GACfC,SAAU,CAAC,EAAG,IAGhBC,sBAAuB,CACrBxP,MAAO,IACPuO,OAAQ,IACRkB,YAAY,EACZrQ,KAAM,CACJsQ,EAAG,EACHrN,EAAG,GACHsN,WAAY,GACZC,OAAQ,GACR/P,SAAU,GACVP,WAAY,kBACZqM,KAAM,qBACNkE,SAAU,WAGdC,uBAAwB,CAEtBC,MAAO,CACLL,EAAG,EACHrN,EAAG,EACHrC,MAAO,GACPuO,OAAQ,GACRqB,OAAQ,IAGZI,iBACE,sF,+GC9NJ,IAAIC,EAAe,KACnB5iB,sBAAA,WACE,IAAK4iB,EAAc,CACjB,IAAMC,EAASxQ,SAASC,cAAc,UACtCuQ,EAAOlQ,MAAQ,EACfkQ,EAAO3B,OAAS,EAChB0B,EAAeC,EAAOtQ,WAAW,MAEnC,OAAOqQ,I,iCCTI,IAAIE,EAAW1M,EAAQ,KAAc2M,EAAQ3M,EAAQ,KAAkB/T,EAAenB,OAAOmB,eAAe2gB,EAAa,GAAG,IAAI,IAAIjiB,KAAQ+hB,EAAWzgB,EAAe1B,KAAKmiB,EAAW/hB,KAAQiiB,EAAaF,EAAW/hB,IAAOA,GAAM,IAAIkiB,EAAGhjB,EAAOD,QAAQ,CAAC+V,GAAG,GAAG1U,IAAI,IAAI,SAAS0I,EAAMzI,EAAE6G,EAAEtD,GAAG,OAAOY,KAAKE,IAAIF,KAAKC,IAAIyC,EAAE7G,GAAGuD,GAAG,SAASqe,EAAU5hB,GAAG,IAAI6G,EAAE1C,KAAKyE,MAAM5I,GAAG+B,SAAS,IAAIkJ,cAAc,OAAOpE,EAAEzF,OAAO,EAAE,IAAIyF,EAAEA,EAAE8a,EAAG5hB,IAAI,SAASC,GAAG,IAAI6G,EAAEtD,EAAE,OAAOvD,EAAE2K,UAAU,EAAE,GAAGH,eAAe,IAAI,MAAM3D,EAAE8a,EAAG5hB,IAAIqV,IAAIpV,GAAGuD,EAAE,MAAM,MAAM,IAAI,MAAMsD,EAAE8a,EAAG5hB,IAAIuV,IAAItV,GAAGuD,EAAE,MAAM,MAAM,QAAQsD,EAAE8a,EAAG5hB,IAAIkV,IAAIjV,GAAGuD,EAAE,MAAM,OAAOsD,EAAE,CAACqP,MAAM3S,EAAEpD,MAAM0G,GAAG,MAAM8a,EAAG5hB,IAAIkV,IAAI,SAASjV,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI6G,EAAEtD,EAAEtC,EAAEb,EAAEO,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,GAAG4C,EAAEvD,EAAE6K,MAAM,mCAAmC,CAAC,IAAIzK,EAAEmD,EAAE,GAAGA,EAAEA,EAAE,GAAGtC,EAAE,EAAEA,EAAE,EAAEA,IAAI4F,EAAE,EAAE5F,EAAEN,EAAEM,GAAGkJ,SAAS5G,EAAEuH,MAAMjE,EAAEA,EAAE,GAAG,IAAIzG,IAAIO,EAAE,GAAGwJ,SAAS/J,EAAE,IAAI,UAAU,GAAGmD,EAAEvD,EAAE6K,MAAM,uBAAuB,CAAC,IAAIzK,GAAGmD,EAAEA,EAAE,IAAI,GAAGtC,EAAE,EAAEA,EAAE,EAAEA,IAAIN,EAAEM,GAAGkJ,SAAS5G,EAAEtC,GAAGsC,EAAEtC,GAAG,IAAIb,IAAIO,EAAE,GAAGwJ,SAAS/J,EAAEA,EAAE,IAAI,UAAU,GAAGmD,EAAEvD,EAAE6K,MAAM,gIAAgI,CAAC,IAAI5J,EAAE,EAAEA,EAAE,EAAEA,IAAIN,EAAEM,GAAGkJ,SAAS5G,EAAEtC,EAAE,GAAG,GAAGsC,EAAE,KAAKA,EAAE,GAAG5C,EAAE,GAAG,IAAImI,WAAWvF,EAAE,IAAI5C,EAAE,GAAGmI,WAAWvF,EAAE,SAAS,CAAC,KAAKA,EAAEvD,EAAE6K,MAAM,yHAAyH,OAAOtH,EAAEvD,EAAE6K,MAAM,YAAY,gBAAgBtH,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,GAAGxC,EAAe1B,KAAKmiB,EAAWje,EAAE,MAAM5C,EAAE6gB,EAAWje,EAAE,KAAK,GAAG,EAAE5C,GAAG,KAAK,KAAK,IAAIM,EAAE,EAAEA,EAAE,EAAEA,IAAIN,EAAEM,GAAGkD,KAAKyE,MAAM,KAAKE,WAAWvF,EAAEtC,EAAE,KAAKsC,EAAE,KAAKA,EAAE,GAAG5C,EAAE,GAAG,IAAImI,WAAWvF,EAAE,IAAI5C,EAAE,GAAGmI,WAAWvF,EAAE,KAAK,IAAItC,EAAE,EAAEA,EAAE,EAAEA,IAAIN,EAAEM,GAAGwH,EAAM9H,EAAEM,GAAG,EAAE,KAAK,OAAON,EAAE,GAAG8H,EAAM9H,EAAE,GAAG,EAAE,GAAGA,GAAGghB,EAAG5hB,IAAIqV,IAAI,SAASpV,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI6G,EAAEtD,EAAEvD,EAAE6K,MAAM,gLAAgL,OAAOtH,GAAGsD,EAAEiC,WAAWvF,EAAE,IAAI,EAAEuF,WAAWvF,EAAE,IAAI,IAAI,KAAK,IAAIkF,EAAMK,WAAWvF,EAAE,IAAI,EAAE,KAAKkF,EAAMK,WAAWvF,EAAE,IAAI,EAAE,KAAKkF,EAAMhE,MAAMoC,GAAG,EAAEA,EAAE,EAAE,KAAK,MAAM8a,EAAG5hB,IAAIuV,IAAI,SAAStV,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI6G,EAAEtD,EAAEvD,EAAE6K,MAAM,uKAAuK,OAAOtH,GAAGsD,EAAEiC,WAAWvF,EAAE,IAAI,EAAEuF,WAAWvF,EAAE,IAAI,IAAI,KAAK,IAAIkF,EAAMK,WAAWvF,EAAE,IAAI,EAAE,KAAKkF,EAAMK,WAAWvF,EAAE,IAAI,EAAE,KAAKkF,EAAMhE,MAAMoC,GAAG,EAAEA,EAAE,EAAE,KAAK,MAAM8a,EAAGlN,GAAGkB,IAAI,WAAW,IAAI3V,EAAEyhB,EAAQ5T,WAAW,MAAM,IAAI+T,EAAU5hB,EAAE,IAAI4hB,EAAU5hB,EAAE,IAAI4hB,EAAU5hB,EAAE,KAAKA,EAAE,GAAG,EAAE4hB,EAAUzd,KAAKyE,MAAM,IAAI5I,EAAE,KAAK,KAAK2hB,EAAGlN,GAAGQ,IAAI,WAAW,IAAIjV,EAAEyhB,EAAQ5T,WAAW,OAAO7N,EAAEoB,OAAO,GAAG,IAAIpB,EAAE,GAAG,OAAOmE,KAAKyE,MAAM5I,EAAE,IAAI,KAAKmE,KAAKyE,MAAM5I,EAAE,IAAI,KAAKmE,KAAKyE,MAAM5I,EAAE,IAAI,IAAI,QAAQmE,KAAKyE,MAAM5I,EAAE,IAAI,KAAKmE,KAAKyE,MAAM5I,EAAE,IAAI,KAAKmE,KAAKyE,MAAM5I,EAAE,IAAI,KAAKA,EAAE,GAAG,KAAK2hB,EAAGlN,GAAGQ,IAAI4M,QAAQ,WAAW,IAAI7hB,EAAEyhB,EAAQ5T,WAAWhH,EAAE1C,KAAKyE,MAAM5I,EAAE,GAAG,IAAI,KAAKuD,EAAEY,KAAKyE,MAAM5I,EAAE,GAAG,IAAI,KAAKiB,EAAEkD,KAAKyE,MAAM5I,EAAE,GAAG,IAAI,KAAK,OAAOA,EAAEoB,OAAO,GAAG,IAAIpB,EAAE,GAAG,OAAO6G,EAAE,MAAMtD,EAAE,MAAMtC,EAAE,KAAK,QAAQ4F,EAAE,MAAMtD,EAAE,MAAMtC,EAAE,MAAMjB,EAAE,GAAG,KAAK2hB,EAAGlN,GAAGW,IAAI,WAAW,IAAIpV,EAAEyhB,EAAQ5T,WAAW,OAAO7N,EAAEoB,OAAO,GAAG,IAAIpB,EAAE,GAAG,OAAOA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK,QAAQA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,MAAMA,EAAE,GAAG,KAAK2hB,EAAGlN,GAAGa,IAAI,WAAW,IAAItV,EAAEyhB,EAAQ5T,WAAWhH,EAAE,GAAG,OAAO7G,EAAEoB,QAAQ,GAAG,IAAIpB,EAAE,KAAK6G,EAAE,KAAK7G,EAAE,IAAI,OAAOA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAI6G,EAAE,KAAK8a,EAAGlN,GAAGmB,QAAQ,SAAS5V,GAAG,OAAO0hB,EAAa1hB,EAAE8K,MAAM,EAAE,M,iCCAx1GnM,EAAOD,QAAQ,CAACojB,UAAU,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,EAAE,EAAE,GAAGC,eAAe,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,WAAW,CAAC,IAAI,GAAG,KAAKC,MAAM,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,IAAIC,eAAe,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,GAAG,IAAIC,KAAK,CAAC,EAAE,IAAI,KAAKC,SAAS,CAAC,EAAE,EAAE,KAAKC,SAAS,CAAC,EAAE,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,EAAE,IAAI,GAAGC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,EAAE,KAAKC,eAAe,CAAC,GAAG,IAAI,IAAIC,WAAW,CAAC,IAAI,IAAI,GAAGC,WAAW,CAAC,IAAI,GAAG,KAAKC,QAAQ,CAAC,IAAI,EAAE,GAAGC,WAAW,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,GAAG,KAAKC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,EAAE,KAAKC,SAAS,CAAC,IAAI,GAAG,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,GAAG,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,YAAY,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,GAAG,IAAI,IAAIC,QAAQ,CAAC,IAAI,EAAE,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIjP,KAAK,CAAC,IAAI,IAAI,KAAKkP,MAAM,CAAC,EAAE,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,GAAG,EAAE,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,GAAGC,aAAa,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,qBAAqB,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,GAAGC,UAAU,CAAC,GAAG,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,EAAE,KAAKC,OAAO,CAAC,IAAI,EAAE,GAAGC,iBAAiB,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,EAAE,EAAE,KAAKC,aAAa,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,IAAI,KAAKC,kBAAkB,CAAC,EAAE,IAAI,KAAKC,gBAAgB,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,GAAG,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,OAAO,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,GAAG,GAAGC,OAAO,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,EAAE,KAAKC,cAAc,CAAC,IAAI,GAAG,KAAKC,IAAI,CAAC,IAAI,EAAE,GAAGC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,YAAY,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,GAAG,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,IAAI,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,GAAG,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,M,iCCA90G,IAAIC,EAAWnW,EAAQ,KAAehR,EAAO3B,MAAMrB,UAAUgD,OAAOgH,EAAM3I,MAAMrB,UAAUgK,MAAM2W,EAAQ9iB,EAAOD,QAAQ,SAASsB,GAAG,IAAI6G,EAAE3H,EAAEkB,EAAEa,EAAE,GAAG,IAAI4F,EAAE,EAAE3H,EAAEc,EAAEoB,OAAOyF,EAAE3H,EAAE2H,IAAIzG,EAAEJ,EAAE6G,GAAGokB,EAAW7qB,GAAGa,EAAE6C,EAAOzE,KAAK4B,EAAE6J,EAAMzL,KAAKe,IAAIa,EAAEW,KAAKxB,GAAG,OAAOa,GAAGwgB,EAAQyJ,KAAK,SAASlrB,GAAG,OAAO,WAAW,OAAOA,EAAEyhB,EAAQ5T,e,iCCAjTlP,EAAOD,QAAQ,SAAS0B,GAAG,SAASA,GAAG,iBAAiBA,KAAKA,aAAa+B,OAAOA,MAAMC,QAAQhC,IAAIA,EAAEgB,QAAQ,IAAIhB,EAAE0E,kBAAkBqmB,UAAUvrB,OAAOwrB,yBAAyBhrB,EAAEA,EAAEgB,OAAO,IAAI,WAAWhB,EAAEwL,YAAYnM,S,sQCAvN,SAAS4rB,EAAQ1rB,GAAG,OAAO0rB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAASvU,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBM,QAAQN,EAAEiM,cAAc3L,QAAQN,IAAIM,OAAOa,UAAU,SAA3E,EAA2FnB,KAAIA,GAAG,IAAI2rB,EAAYxW,EAAQ,KAAiByW,EAAMzW,EAAQ,KAAWE,EAAQ,GAAUpV,OAAO8C,KAAK4oB,GAA4d/b,SAAS,SAAS5P,GAAGqV,EAAQrV,GAAG,GAAGC,OAAOC,eAAemV,EAAQrV,GAAG,WAAW,CAACQ,MAAMmrB,EAAY3rB,GAAGuV,WAAWtV,OAAOC,eAAemV,EAAQrV,GAAG,SAAS,CAACQ,MAAMmrB,EAAY3rB,GAAGwV,SAAS,IAAItO,EAAE0kB,EAAM5rB,GAAGC,OAAO8C,KAAKmE,GAAG0I,SAAS,SAAS5O,GAAG,IAAIX,EAAE6G,EAAElG,GAAGqU,EAAQrV,GAAGgB,GAA9hB,SAAqBhB,GAAG,IAAIkH,EAAE,SAASA,GAAG,GAAG,MAAMA,EAAE,OAAOA,EAAEgH,UAAUzM,OAAO,IAAIyF,EAAE1E,MAAMrB,UAAUgK,MAAMzL,KAAKwO,YAAY,IAAIlN,EAAEX,EAAEI,EAAET,EAAEkH,GAAG,GAAG,WAAWwkB,EAAQjrB,GAAG,IAAIO,EAAEP,EAAEgB,OAAOpB,EAAE,EAAEA,EAAEW,EAAEX,IAAII,EAAEJ,GAAGmE,KAAKyE,MAAMxI,EAAEJ,IAAI,OAAOI,GAAG,MAAM,eAAeT,IAAIkH,EAAE2kB,WAAW7rB,EAAE6rB,YAAY3kB,EAA8Q4kB,CAAYzrB,GAAGgV,EAAQrV,GAAGgB,GAAG+qB,IAAjvB,SAAiB/rB,GAAG,IAAIkH,EAAE,SAASA,GAAG,OAAO,MAAMA,EAAEA,GAAGgH,UAAUzM,OAAO,IAAIyF,EAAE1E,MAAMrB,UAAUgK,MAAMzL,KAAKwO,YAAYlO,EAAEkH,KAAK,MAAM,eAAelH,IAAIkH,EAAE2kB,WAAW7rB,EAAE6rB,YAAY3kB,EAAokB8kB,CAAQ3rB,SAASrB,EAAOD,QAAQsW,G,iCCAnnCrW,EAAOD,QAAQ,CAACojB,UAAU,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,EAAE,EAAE,GAAGC,eAAe,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,WAAW,CAAC,IAAI,GAAG,KAAKC,MAAM,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,IAAIC,eAAe,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,GAAG,IAAIC,KAAK,CAAC,EAAE,IAAI,KAAKC,SAAS,CAAC,EAAE,EAAE,KAAKC,SAAS,CAAC,EAAE,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,EAAE,IAAI,GAAGC,SAAS,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,EAAE,KAAKC,eAAe,CAAC,GAAG,IAAI,IAAIC,WAAW,CAAC,IAAI,IAAI,GAAGC,WAAW,CAAC,IAAI,GAAG,KAAKC,QAAQ,CAAC,IAAI,EAAE,GAAGC,WAAW,CAAC,IAAI,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,GAAG,KAAKC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,GAAG,GAAG,IAAIC,cAAc,CAAC,EAAE,IAAI,KAAKC,WAAW,CAAC,IAAI,EAAE,KAAKC,SAAS,CAAC,IAAI,GAAG,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,GAAG,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,YAAY,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,GAAG,IAAI,IAAIC,QAAQ,CAAC,IAAI,EAAE,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIjP,KAAK,CAAC,IAAI,IAAI,KAAKkP,MAAM,CAAC,EAAE,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,GAAG,EAAE,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,GAAGC,aAAa,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,qBAAqB,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,GAAG,IAAI,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,GAAGC,UAAU,CAAC,GAAG,IAAI,IAAIC,MAAM,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,EAAE,KAAKC,OAAO,CAAC,IAAI,EAAE,GAAGC,iBAAiB,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,EAAE,EAAE,KAAKC,aAAa,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,IAAI,IAAI,KAAKC,eAAe,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,IAAI,KAAKC,kBAAkB,CAAC,EAAE,IAAI,KAAKC,gBAAgB,CAAC,GAAG,IAAI,KAAKC,gBAAgB,CAAC,IAAI,GAAG,KAAKC,aAAa,CAAC,GAAG,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,SAAS,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,EAAE,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,IAAI,IAAIC,OAAO,CAAC,IAAI,IAAI,GAAGC,UAAU,CAAC,IAAI,GAAG,GAAGC,OAAO,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,cAAc,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,IAAIC,KAAK,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,EAAE,KAAKC,cAAc,CAAC,IAAI,GAAG,KAAKC,IAAI,CAAC,IAAI,EAAE,GAAGC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,YAAY,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,IAAIC,SAAS,CAAC,GAAG,IAAI,IAAIC,SAAS,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,OAAO,CAAC,IAAI,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,GAAG,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,UAAU,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,IAAI,IAAI,KAAKC,YAAY,CAAC,EAAE,IAAI,KAAKC,UAAU,CAAC,GAAG,IAAI,KAAKC,IAAI,CAAC,IAAI,IAAI,KAAKC,KAAK,CAAC,EAAE,IAAI,KAAKC,QAAQ,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,GAAG,IAAIC,UAAU,CAAC,GAAG,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,MAAM,CAAC,IAAI,IAAI,KAAKC,WAAW,CAAC,IAAI,IAAI,KAAKC,OAAO,CAAC,IAAI,IAAI,GAAGC,YAAY,CAAC,IAAI,IAAI,M,iCCA90G,IAAIM,EAAYxW,EAAQ,KAAqJ,SAAS8W,EAAUjrB,GAAG,IAAIX,EAAE6G,EAAEzG,EAAET,EAAET,EAAE+B,EAAEsC,EAA1K,WAAsB,IAAI5C,EAAEX,EAAE6G,EAAE,GAAGzG,EAAER,OAAO8C,KAAK4oB,GAAa,IAAI3qB,EAAEP,EAAEgB,OAAOpB,EAAE,EAAEA,EAAEW,EAAEX,IAAI6G,EAAEzG,EAAEJ,IAAI,CAAC6rB,UAAU,EAAE/P,OAAO,MAAM,OAAOjV,EAA0CilB,GAAavsB,EAAE,CAACoB,GAAG,IAAI4C,EAAE5C,GAAGkrB,SAAS,EAAEtsB,EAAE6B,QAAQ,IAAIpB,EAAET,EAAE6U,MAAMhU,GAAGyG,EAAEjH,OAAO8C,KAAK4oB,EAAYtrB,KAAKoB,OAAOzB,EAAE,EAAEA,EAAES,EAAET,KAAK,KAAKsB,EAAEsC,EAAErE,EAAE2H,EAAElH,KAAKksB,WAAW5qB,EAAE4qB,SAAStoB,EAAEvD,GAAG6rB,SAAS,EAAE5qB,EAAE6a,OAAO9b,EAAET,EAAEwsB,QAAQ7sB,IAAI,OAAOqE,EAAE,SAASyoB,EAAKrrB,EAAEX,GAAG,OAAO,SAAS6G,GAAG,OAAO7G,EAAEW,EAAEkG,KAAK,SAASolB,EAAetrB,EAAEX,GAAG,IAAI,IAAI6G,EAAE,CAAC7G,EAAEW,GAAGmb,OAAOnb,GAAGP,EAAEkrB,EAAYtrB,EAAEW,GAAGmb,QAAQnb,GAAGhB,EAAEK,EAAEW,GAAGmb,OAAO9b,EAAEL,GAAGmc,QAAQjV,EAAEklB,QAAQ/rB,EAAEL,GAAGmc,QAAQ1b,EAAE4rB,EAAKV,EAAYtrB,EAAEL,GAAGmc,QAAQnc,GAAGS,GAAGT,EAAEK,EAAEL,GAAGmc,OAAO,OAAO1b,EAAEorB,WAAW3kB,EAAEzG,EAAEzB,EAAOD,QAAQ,SAASiC,GAAG,IAAIX,EAAE6G,EAAEzG,EAAET,EAAEisB,EAAUjrB,GAAGzB,EAAE,GAAG+B,EAAErB,OAAO8C,KAAK/C,GAAG,IAAIK,EAAEiB,EAAEG,OAAOyF,EAAE,EAAEA,EAAE7G,EAAE6G,IAAI,OAAOlH,EAAES,EAAEa,EAAE4F,IAAIiV,SAAS5c,EAAEkB,GAAG6rB,EAAe7rB,EAAET,IAAI,OAAOT,I,iCCA70B,IAAIgtB,EAAgBtsB,OAAOY,OAAO,SAASqG,EAAE7G,EAAEI,EAAET,QAAG,IAASA,IAAIA,EAAES,GAAGR,OAAOC,eAAegH,EAAElH,EAAE,CAACG,YAAW,EAAGC,IAAI,WAAW,OAAOC,EAAEI,OAAO,SAASyG,EAAE7G,EAAEI,EAAET,QAAG,IAASA,IAAIA,EAAES,GAAGyG,EAAElH,GAAGK,EAAEI,IAAI+rB,EAAa,SAAStlB,EAAE7G,GAAG,IAAI,IAAII,KAAKyG,EAAE,YAAYzG,GAAGR,OAAOkB,UAAUC,eAAe1B,KAAKW,EAAEI,IAAI8rB,EAAgBlsB,EAAE6G,EAAEzG,IAAIR,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKgsB,EAAarX,EAAQ,KAAYpW,GAASytB,EAAarX,EAAQ,KAAWpW,GAASytB,EAAarX,EAAQ,KAAYpW,GAASytB,EAAarX,EAAQ,KAAUpW,GAASytB,EAAarX,EAAQ,KAAYpW,GAASytB,EAAarX,EAAQ,KAAcpW,I,iCCAlmBkB,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ0tB,SAAS1tB,EAAQkH,cAAS,EAA0DlH,EAAQkH,SAA9C,SAASiB,GAAG,MAAM,iBAAiBA,GAA6B,IAA4GwlB,EAAW,SAAS3tB,EAAQ0tB,SAAhH,SAASvlB,GAAG,IAAIzG,EAAER,OAAOY,OAAO,MAAM,OAAO,SAASR,GAAG,OAAOI,EAAEJ,KAAKI,EAAEJ,GAAG6G,EAAE7G,KAA2CssB,EAAqB,SAASzlB,GAAG,OAAOA,EAAEQ,QAAQglB,GAAY,SAASxlB,EAAEzG,GAAG,OAAOA,EAAEA,EAAE6K,cAAc,U,iCCAnarL,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ0D,aAAQ,EAAO1D,EAAQ0D,QAAQD,MAAMC,S,iCCApGxC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ6tB,SAAS7tB,EAAQ+F,MAAM/F,EAAQsK,cAAS,EAA0DtK,EAAQsK,SAA9C,SAAShJ,GAAG,MAAM,iBAAiBA,GAAmFtB,EAAQ+F,MAApD,SAASzE,GAAG,OAAOoJ,OAAO3E,MAAM2E,OAAOpJ,KAAmGtB,EAAQ6tB,SAArE,SAASvsB,GAAG,IAAI6G,EAAEiC,WAAW9I,GAAG,OAAOtB,EAAQ+F,MAAMoC,GAAG7G,EAAE6G,I,iCCA5UjH,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ8tB,eAAe9tB,EAAQ+tB,YAAY/tB,EAAQguB,aAAahuB,EAAQiuB,cAAcjuB,EAAQkuB,eAAU,EAA6KluB,EAAQkuB,UAAhK,SAAS5sB,EAAE6G,EAAEzG,GAAG,IAAImD,EAAE5D,EAAE,GAAG,IAAI4D,EAAE,EAAEA,EAAEvD,EAAEuD,IAAI5D,EAAE4D,GAAG,EAAE,OAAOnD,GAAGA,EAAEmP,SAAS,SAASvP,GAAGA,EAAE6sB,SAASltB,EAAEkH,EAAE7G,EAAE6sB,UAAU,GAAG7sB,EAAE8sB,SAASntB,EAAEkH,EAAE7G,EAAE8sB,UAAU,MAAMntB,GAAGA,GAAsTjB,EAAQiuB,cAA7Q,SAAS3sB,GAAG,IAAI6G,EAAEzG,EAAE,GAAGmD,EAAEvD,EAAEoB,OAAO,IAAIzB,EAAE,EAAEA,EAAE4D,EAAE5D,GAAG,EAAE,IAAIS,EAAET,GAAG,GAAGgB,EAAE,EAAEA,EAAE4C,EAAE5C,GAAG,EAAEhB,IAAIgB,EAAEP,EAAET,GAAGgB,GAAG,EAAE,IAAIX,EAAEL,GAAGgB,IAAIX,EAAEL,GAAGgB,GAAGP,EAAET,GAAGgB,GAAGX,EAAEL,GAAGgB,GAAGP,EAAET,GAAGgB,GAAG,IAAI,IAAIkG,EAAE,EAAEA,EAAEtD,EAAEsD,GAAG,EAAE,IAAI,IAAIlH,EAAE,EAAEA,EAAE4D,EAAE5D,GAAG,EAAE,IAAI,IAAIgB,EAAE,EAAEA,EAAE4C,EAAE5C,GAAG,EAAEP,EAAET,GAAGgB,GAAGP,EAAET,GAAGkH,GAAGzG,EAAEyG,GAAGlG,KAAKP,EAAET,GAAGgB,GAAGP,EAAET,GAAGkH,GAAGzG,EAAEyG,GAAGlG,IAAI,OAAOP,GAAiT1B,EAAQguB,aAAjQ,SAAS1sB,EAAE6G,GAAG,IAAIzG,EAAEJ,EAAE+sB,MAAMxpB,EAAEvD,EAAEgtB,MAAMrtB,EAAE,GAAGgB,EAAE,GAAG,IAAIP,EAAE,MAAM,IAAI+V,MAAM,uBAAuB,OAAO/V,GAAGA,EAAEmP,SAAS,SAASvP,EAAE6G,GAAGlG,EAAEX,EAAEitB,IAAIpmB,EAAElH,EAAEiC,KAAK,OAAO2B,GAAGA,EAAEgM,SAAS,SAASvP,GAAG,IAAII,EAAEJ,EAAE6sB,OAAOtpB,EAAEvD,EAAE8sB,OAAO7rB,EAAEN,EAAEP,GAAGmM,EAAE5L,EAAE4C,GAAG5D,EAAEsB,GAAGsL,GAAG,EAAE1F,IAAIlH,EAAE4M,GAAGtL,GAAG,MAAMtB,GAAyKjB,EAAQ+tB,YAA5H,SAASzsB,EAAE6G,GAAG,IAAIzG,EAAE,GAAG,OAAOJ,EAAEuP,SAAS,SAASvP,GAAG,IAAIuD,EAAE,GAAGvD,EAAEuP,SAAS,SAASvP,GAAGuD,EAAE3B,KAAK5B,EAAE6G,MAAMzG,EAAEwB,KAAK2B,MAAMnD,GAA4O1B,EAAQ8tB,eAA7D,SAASxsB,EAAE6G,GAAG,mBAAmBA,GAAtK,SAAS7G,EAAE6G,EAAEzG,GAAG,IAAImD,EAAE,GAAGsD,GAAGA,EAAEqmB,SAAS,IAAI3pB,EAAEsD,EAAEqmB,SAAS9rB,OAAO,EAAEmC,GAAG,EAAEA,IAAI,IAAIvD,EAAE6G,EAAEqmB,SAAS3pB,GAAGnD,GAAG,OAAO,QAAQA,EAAEyG,GAAuDsmB,CAAWntB,EAAE6G,K,sQCAxzC,SAASwkB,EAAQjrB,GAAG,OAAOirB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAAS9T,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,SAA3E,EAA2FV,KAAIA,GAAG,IAAIiS,EAAS,WAAW,OAAOA,EAASzS,OAAO0S,QAAQ,SAASlS,GAAG,IAAIyG,EAAElH,EAAEgB,EAAE,IAAIhB,EAAE,EAAEgB,EAAEkN,UAAUzM,OAAOzB,EAAEgB,EAAEhB,IAAI,IAAI,IAAIK,KAAK6G,EAAEgH,UAAUlO,GAAGC,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAE7G,KAAKI,EAAEJ,GAAG6G,EAAE7G,IAAI,OAAOI,IAAImG,MAAMzH,KAAK+O,YAAYjO,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ6O,MAAM7O,EAAQ8D,cAAS,EAAwE9D,EAAQ8D,SAA5D,SAASpC,GAAG,OAAO,OAAOA,GAAG,WAAWirB,EAAQjrB,IAAwV1B,EAAQ6O,MAAxT,SAASnN,GAAG,IAAIyG,EAAElH,EAAE,OAAO,OAAOS,EAAEA,EAAEA,aAAa2P,KAAK,IAAIA,KAAK3P,EAAEgtB,WAAWhtB,aAAa+B,OAAO0E,EAAE,GAAGzG,EAAEmP,SAAS,SAASnP,GAAGyG,EAAEjF,KAAKxB,MAAMyG,EAAEwI,KAAK,SAASjP,GAAG,OAAO1B,EAAQ6O,MAAMnN,OAAO,WAAWirB,EAAQjrB,IAAIA,IAAI,IAAIT,EAAE0S,EAAS,GAAGjS,GAAGR,OAAO8C,KAAK/C,GAAG4P,SAAS,SAASnP,GAAGT,EAAES,GAAG1B,EAAQ6O,MAAM5N,EAAES,OAAOT,GAAGS,I,iCCAr8BR,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQkE,gBAAW,EAA8DlE,EAAQkE,WAAhD,SAASxC,GAAG,MAAM,mBAAmBA,I,mBCAlJ,YACAzB,EAAOD,QAAU2uB,I,2qGCCF,GACbC,cAAe,WACb,MAAO,IAUTC,UAAW,WACT,MAAO,IAETC,UAAW,SAAmBtR,GAE5B,OADAtc,OAAO0S,OAAOxT,KAAMod,IACb,GAETuR,YAAa,WACX,OAAO,GAETC,aAAc,WACZ,OAAO,GAETC,UAAW,WACT,OAAO,GAOTjtB,KAAM,SAAcktB,GAClB,IAAIC,EAAS/uB,KAAK+uB,OAClB/uB,KAAK8uB,MAAQA,EAEK,gBAAd9uB,KAAKmD,MAAwC,iBAAdnD,KAAKmD,MAAyC,iBAAdnD,KAAKmD,MACtE2rB,EAAM7tB,IAAI,UAAUqG,IAAI,aAAa,GAGvC,eAAKynB,GAAQ,SAAUnhB,EAASohB,GAC9BF,EAAMhT,GAAGkT,EAAOphB,OAGpBqhB,OAAQ,SAAgBH,GACtB,IAAIC,EAAS/uB,KAAK+uB,OAEA,gBAAd/uB,KAAKmD,MAAwC,iBAAdnD,KAAKmD,MAAyC,iBAAdnD,KAAKmD,MACtE2rB,EAAM7tB,IAAI,UAAUqG,IAAI,aAAa,GAGvC,eAAKynB,GAAQ,SAAUnhB,EAASohB,GAC9BF,EAAM7S,IAAI+S,EAAOphB,OAGrB3M,IAAK,SAAa2G,GAChB,OAAO5H,KAAK4H,IAEdN,IAAK,SAAa3F,EAAKiG,GAErB,OADA5H,KAAK2B,GAAOiG,EACL5H,OCRI,EAlDf,WACE,SAASkvB,KA8CT,OAtCAA,EAASC,iBAAmB,SAAUhsB,EAAMisB,GAC1C,IAAKA,EACH,MAAM,IAAI/X,MAAM,6CAA6CrS,OAAO7B,IAGtE,IAAInB,EAAY,gBAAMqtB,GACtBvuB,OAAO0S,OAAOxR,EAAWotB,GAEzB,IAAIvlB,EAAO,SAAcuT,GACvB,IAAIkS,EAAQtvB,KAEZc,OAAO0S,OAAOxT,KAAMA,KAAKwuB,gBAAiBpR,GAC1C,IAAI2R,EAAS/uB,KAAKyuB,YAClBzuB,KAAK+uB,OAAS,KACd,IAAIQ,EAAe,GAEfR,IACF,eAAKA,GAAQ,SAAUS,EAAQR,GAC7BO,EAAaP,GAAS,uBAAaM,EAAOE,MAE5CxvB,KAAK+uB,OAASQ,IAIlB1lB,EAAK7H,UAAYA,EACjBktB,EAASO,MAAMtsB,GAAQ0G,GAGzBqlB,EAASQ,YAAc,SAAUvsB,GAC/B,QAAS+rB,EAASO,MAAMtsB,IAG1B+rB,EAASS,YAAc,SAAUxsB,GAC/B,OAAO+rB,EAASO,MAAMtsB,IAIxB+rB,EAASO,MAAQ,GACVP,EA/CT,GCJe,I,sCCCXU,EAAY,IAAIA,UASTC,EAAU,SAAiBC,GACpC,OAAO,SAAUtvB,EAAGqB,GAClB,OAAOrB,EAAEsvB,GAAiBjuB,EAAEiuB,KAW5BC,EAAY,SAAmB1uB,EAAOkE,EAAKD,GAC7C,OAAOjE,GAASkE,GAAOlE,GAASiE,GAYvB0qB,EAAmB,SAA0BC,EAAIC,EAAIC,EAAIC,GAClE,IACIC,EACCF,EAAGlO,EAAIgO,EAAGhO,EADXoO,EAECF,EAAGvb,EAAIqb,EAAGrb,EAEX0b,EACCJ,EAAGjO,EAAIgO,EAAGhO,EADXqO,EAECJ,EAAGtb,EAAIqb,EAAGrb,EAEX2b,EACCH,EAAGnO,EAAIkO,EAAGlO,EADXsO,EAECH,EAAGxb,EAAIub,EAAGvb,EAEX4b,EAAQF,EAAOC,EAAOD,EAAOC,EAE7BE,EAAc,EAAID,EAItB,GALeA,EAAQA,EAdP,MAgBFF,EAAOA,EAAOA,EAAOA,IACrBC,EAAOA,EAAOA,EAAOA,GAEW,CAC5C,IAAIpuB,GAAKkuB,EAAME,EAAOF,EAAME,GAAQE,EAChCnvB,GAAK+uB,EAAMC,EAAOD,EAAMC,GAAQG,EACpC,OAAKV,EAAU5tB,EAAG,EAAG,IAAO4tB,EAAUzuB,EAAG,EAAG,GACrC,CACL2gB,EAAGgO,EAAGhO,EAAI9f,EAAImuB,EACd1b,EAAGqb,EAAGrb,EAAIzS,EAAImuB,GAHuC,KAOzD,OAAO,MASEI,EAA0B,SAAiCC,EAAMC,GAC1E,IAAI3O,EAAI0O,EAAK1O,EACTrN,EAAI+b,EAAK/b,EACTrC,EAAQoe,EAAKpe,MACbuO,EAAS6P,EAAK7P,OAGd+P,EAAS,GACTC,EAAS,CACX7O,EAJOA,EAAI1P,EAAQ,EAKnBqC,EAJOA,EAAIkM,EAAS,GAMtB+P,EAAO/tB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,IAELic,EAAO/tB,KAAK,CACVmf,EAAGA,EAAI1P,EACPqC,EAAGA,IAELic,EAAO/tB,KAAK,CACVmf,EAAGA,EAAI1P,EACPqC,EAAGA,EAAIkM,IAET+P,EAAO/tB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,EAAIkM,IAET+P,EAAO/tB,KAAK,CACVmf,EAAGA,EACHrN,EAAGA,IAIL,IAFA,IAAI9P,EAAM,KAED1E,EAAI,EAAGA,EAAIywB,EAAOvuB,UACzBwC,EAAMkrB,EAAiBa,EAAOzwB,EAAI,GAAIywB,EAAOzwB,GAAI0wB,EAAQF,IADxBxwB,KAQnC,OAAO0E,GASEisB,EAA4B,SAAmCC,EAAQJ,GAChF,IAAIK,EAAKD,EAAO/O,EACZiP,EAAKF,EAAOpc,EACZ1T,EAAI8vB,EAAO9vB,EAGXiwB,EAFIP,EAAM3O,EAEDgP,EACTG,EAFIR,EAAMhc,EAEDsc,EAGb,GAFQ7rB,KAAKuS,KAAKuZ,EAAKA,EAAKC,EAAKA,GAEzBlwB,EACN,OAAO,KAGT,IAAImwB,EAAQhsB,KAAKisB,KAAKH,GAClBI,EAAQlsB,KAAKisB,KAAKF,GAClBI,EAAQnsB,KAAKosB,KAAKL,EAAKD,GAC3B,MAAO,CACLlP,EAAGgP,EAAK5rB,KAAKqF,IAAIxJ,EAAImE,KAAKwS,IAAI2Z,IAAUH,EACxCzc,EAAGsc,EAAK7rB,KAAKqF,IAAIxJ,EAAImE,KAAKyS,IAAI0Z,IAAUD,IAUjCG,EAA6B,SAAoCC,EAASf,GACnF,IAAInsB,EAAIktB,EAAQC,GACZhrB,EAAI+qB,EAAQE,GACZZ,EAAKU,EAAQ1P,EACbiP,EAAKS,EAAQ/c,EACbuc,EAAKP,EAAM3O,EAAIgP,EACfG,EAAKR,EAAMhc,EAAIsc,EAEfM,EAAQnsB,KAAKsS,MAAMyZ,EAAKxqB,EAAGuqB,EAAK1sB,GAMpC,OAJI+sB,EAAQ,IACVA,GAAS,EAAInsB,KAAK6F,IAGb,CACL+W,EAAGgP,EAAKxsB,EAAIY,KAAKwS,IAAI2Z,GACrB5c,EAAGsc,EAAKtqB,EAAIvB,KAAKyS,IAAI0Z,KAWd,EAAc,SAAqBZ,EAAOkB,EAAQC,QAC/C,IAARA,IACFA,EAAM,GAGR,IAAIC,EAAS,CAACpB,EAAM3O,EAAG2O,EAAMhc,EAAGmd,GAOhC,OALKD,IAAUnsB,MAAMmsB,EAAO,MAC1BA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAKG,cAAcD,EAAQA,EAAQF,GAC5B,CACL7P,EAAG+P,EAAO,GACVpd,EAAGod,EAAO,KAWH,EAAe,SAAsBpB,EAAOkB,EAAQC,QACjD,IAARA,IACFA,EAAM,GAGHD,IAAUnsB,MAAMmsB,EAAO,MAC1BA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAII,EAAiB,IAAKC,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIL,GAEzDI,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG5C,IAAIF,EAAS,CAACpB,EAAM3O,EAAG2O,EAAMhc,EAAGmd,GAEhC,OADA,IAAKE,cAAcD,EAAQA,EAAQE,GAC5B,CACLjQ,EAAG+P,EAAO,GACVpd,EAAGod,EAAO,KAUHI,EAA0B,SAAiClC,EAAIC,EAAIC,GAC5E,IAAI3rB,EAAIyrB,EAAGjO,EAAIkO,EAAGlO,EACdrb,EAAIspB,EAAGtb,EAAIub,EAAGvb,EACdnU,EAAIyvB,EAAGjO,EAAImO,EAAGnO,EACdvhB,EAAIwvB,EAAGtb,EAAIwb,EAAGxb,EACd7M,GAAKmoB,EAAGjO,EAAIiO,EAAGjO,EAAIkO,EAAGlO,EAAIkO,EAAGlO,EAAIkO,EAAGvb,EAAIub,EAAGvb,EAAIsb,EAAGtb,EAAIsb,EAAGtb,GAAK,EAC9DnH,GAAKyiB,EAAGjO,EAAIiO,EAAGjO,EAAImO,EAAGnO,EAAImO,EAAGnO,EAAImO,EAAGxb,EAAIwb,EAAGxb,EAAIsb,EAAGtb,EAAIsb,EAAGtb,GAAK,EAC9Dyd,EAAczrB,EAAInG,EAAIgE,EAAI/D,EAC9B,MAAO,CACLuhB,IAAKvhB,EAAIqH,EAAInB,EAAI6G,GAAK4kB,EACtBzd,IAAKnQ,EAAIgJ,EAAIhN,EAAIsH,GAAKsqB,IASf,EAAW,SAAkBnC,EAAIC,GAC1C,IAAImC,EAAKpC,EAAGjO,EAAIkO,EAAGlO,EACfsQ,EAAKrC,EAAGtb,EAAIub,EAAGvb,EACnB,OAAOvP,KAAKuS,KAAK0a,EAAKA,EAAKC,EAAKA,IAQvB5E,EAAc,SAAqBmE,EAAQU,GACpD,IAAI5vB,EAAS,GAQb,OAPAkvB,EAAOrhB,SAAQ,SAAUhI,GACvB,IAAIgqB,EAAS,GACbhqB,EAAIgI,SAAQ,SAAU/K,GACpB+sB,EAAO3vB,KAAK4C,EAAI8sB,MAElB5vB,EAAOE,KAAK2vB,MAEP7vB,GAQEirB,EAAgB,SAAuB6E,GAKhD,IAHA,IAAIxkB,EAAO,GACPgC,EAAOwiB,EAAUpwB,OAEZlC,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAAG,CAChC8N,EAAK9N,GAAK,GAEV,IAAK,IAAIuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBvH,IAAMuH,EACRuG,EAAK9N,GAAGuH,GAAK,EACgB,IAApB+qB,EAAUtyB,GAAGuH,IAAa+qB,EAAUtyB,GAAGuH,GAGhDuG,EAAK9N,GAAGuH,GAAK+qB,EAAUtyB,GAAGuH,GAF1BuG,EAAK9N,GAAGuH,GAAKmD,IAQnB,IAAK,IAAInH,EAAI,EAAGA,EAAIuM,EAAMvM,GAAK,EAC7B,IAASvD,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAC7B,IAASuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,KACpCuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,IAM1C,OAAOuG,GAQE0f,EAAe,SAAsB/oB,EAAM8tB,GACpD,IAAI1E,EAAQppB,EAAKopB,MACbC,EAAQrpB,EAAKqpB,MACb4D,EAAS,GAETc,EAAU,GAEd,IAAK3E,EACH,MAAM,IAAI5W,MAAM,uBAyBlB,OAtBI4W,GACFA,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5BwyB,EAAQC,EAAK1E,IAAM/tB,EAEnB0xB,EAAOhvB,KADG,OAKVorB,GACFA,EAAMzd,SAAQ,SAAU1I,GACtB,IAAIgmB,EAAShmB,EAAEgmB,OACXC,EAASjmB,EAAEimB,OACX8E,EAASF,EAAQ7E,GACjBgF,EAASH,EAAQ5E,GACrB8D,EAAOgB,GAAQC,GAAU,EAEpBJ,IACHb,EAAOiB,GAAQD,GAAU,MAKxBhB,GAQEkB,EAAY,SAAmBC,EAAOC,GAC/CD,EAAMD,UAAUE,EAAIjR,EAAGiR,EAAIte,IAQlBue,EAAO,SAAcF,EAAOrC,GACrC,IAAIkB,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAIuB,EAAOJ,EAAMK,gBACbhB,EAAK1B,EAAM3O,EAAIoR,EAAKE,KACpBhB,EAAK3B,EAAMhc,EAAIye,EAAKG,KACpBC,EAAc7D,EAAUkC,EAAQ,CAAC,CAAC,IAAKQ,EAAIC,KAC/CU,EAAMS,UAAUD,IAQP,EAAQ,SAAeR,EAAOT,GACvC,IAAIV,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpC,IAAI6B,EAAUnB,EAET,kBAAQA,KACXmB,EAAU,CAACnB,EAAOA,IAGhB,kBAAQA,IAA2B,IAAjBA,EAAMlwB,SAC1BqxB,EAAU,CAACnB,EAAM,GAAIA,EAAM,KAG7BV,EAASlC,EAAUkC,EAAQ,CAAC,CAAC,IAAK6B,EAAQ,GAAIA,EAAQ,MACtDV,EAAMS,UAAU5B,IAQP,EAAS,SAAgBmB,EAAOzB,GACzC,IAAIM,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCA,EAASlC,EAAUkC,EAAQ,CAAC,CAAC,IAAKN,KAClCyB,EAAMS,UAAU5B,IAEPhE,EAAY,SAAmBjsB,EAAG+xB,EAAY1F,GAGvD,IAFA,IAAI2F,EAAU,GAELzzB,EAAI,EAAGA,EAAIyB,EAAGzB,IACrByzB,EAAQzzB,GAAK,EAYf,OATA8tB,EAAMzd,SAAQ,SAAU1I,GAClBA,EAAEgmB,SACJ8F,EAAQD,EAAW7rB,EAAEgmB,UAAY,GAG/BhmB,EAAEimB,SACJ6F,EAAQD,EAAW7rB,EAAEimB,UAAY,MAG9B6F,GAGT,SAASC,EAAU5D,EAAIC,EAAI4D,GACzB,OAAKA,EAAE,GAAK7D,EAAG,KAAOC,EAAG,GAAKD,EAAG,MAASC,EAAG,GAAKD,EAAG,KAAO6D,EAAE,GAAK7D,EAAG,KAAO7qB,KAAKE,IAAI2qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAAMA,EAAE,IAAM1uB,KAAKC,IAAI4qB,EAAG,GAAIC,EAAG,KAAO9qB,KAAKE,IAAI2qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAAMA,EAAE,IAAM1uB,KAAKC,IAAI4qB,EAAG,GAAIC,EAAG,IAczM,IAAI6D,EAAmB,SAA0BnD,EAAQ5O,EAAGrN,GACjE,IAAIqf,GAAQ,EACRpyB,EAAIgvB,EAAOvuB,OAIf,SAAS4xB,EAAKC,GACZ,OAAI9uB,KAAKqF,IAAIypB,GAHC,KAIL,EAGFA,EAAS,GAAK,EAAI,EAG3B,GAAItyB,GAAK,EAEP,OAAO,EAGT,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAC1B,IAAI8vB,EAAKW,EAAOzwB,GACZ+vB,EAAKU,GAAQzwB,EAAI,GAAKyB,GAE1B,GAAIiyB,EAAU5D,EAAIC,EAAI,CAAClO,EAAGrN,IAExB,OAAO,EAKLsf,EAAKhE,EAAG,GAAKtb,GAAK,GAAMsf,EAAK/D,EAAG,GAAKvb,GAAK,GAAKsf,EAAKjS,GAAKrN,EAAIsb,EAAG,KAAOA,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,IAAMD,EAAG,IAAM,IACrH+D,GAASA,GAIb,OAAOA,GAGEG,EAAgB,SAAuBC,EAAMC,GACtD,QAASA,EAAKf,KAAOc,EAAKE,MAAQD,EAAKC,KAAOF,EAAKd,MAAQe,EAAKd,KAAOa,EAAKG,MAAQF,EAAKE,KAAOH,EAAKb,OAqB5F,EAAsB,SAA6BiB,EAASC,GACrE,IAAIC,EAAU,SAAiB9D,GAC7B,IAAI+D,EAAO/D,EAAOtgB,KAAI,SAAUrO,GAC9B,OAAOA,EAAE,MAEP2yB,EAAOhE,EAAOtgB,KAAI,SAAUrO,GAC9B,OAAOA,EAAE,MAEX,MAAO,CACLqxB,KAAMluB,KAAKE,IAAIkC,MAAM,KAAMmtB,GAC3BL,KAAMlvB,KAAKC,IAAImC,MAAM,KAAMmtB,GAC3BpB,KAAMnuB,KAAKE,IAAIkC,MAAM,KAAMotB,GAC3BL,KAAMnvB,KAAKC,IAAImC,MAAM,KAAMotB,KAI3BC,EAAe,SAAsBjE,GAIvC,IAHA,IAAIkE,EAAQ,GACRpb,EAAQkX,EAAOvuB,OAEVlC,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAClC,IAAIwwB,EAAQC,EAAOzwB,GACfkU,EAAOuc,EAAOzwB,EAAI,GACtB20B,EAAMjyB,KAAK,CACT8S,KAAM,CACJqM,EAAG2O,EAAM,GACThc,EAAGgc,EAAM,IAEXjb,GAAI,CACFsM,EAAG3N,EAAK,GACRM,EAAGN,EAAK,MAKd,GAAIygB,EAAMzyB,OAAS,EAAG,CACpB,IAAI0yB,EAAQnE,EAAO,GACfzqB,EAAOyqB,EAAOlX,EAAQ,GAC1Bob,EAAMjyB,KAAK,CACT8S,KAAM,CACJqM,EAAG7b,EAAK,GACRwO,EAAGxO,EAAK,IAEVuP,GAAI,CACFsM,EAAG+S,EAAM,GACTpgB,EAAGogB,EAAM,MAKf,OAAOD,GAIT,GAAIN,EAAQnyB,OAAS,GAAKoyB,EAAQpyB,OAAS,EACzC,OAAO,EAGT,IAAI2yB,EAAQN,EAAQF,GAChBS,EAAQP,EAAQD,GAEpB,IAAKN,EAAca,EAAOC,GACxB,OAAO,EAGT,IAAIC,GAAO,EASX,GAPA,eAAKT,GAAS,SAAU9D,GACtB,GAAIoD,EAAiBS,EAAS7D,EAAM,GAAIA,EAAM,IAE5C,OADAuE,GAAO,GACA,KAIPA,EACF,OAAO,EAUT,GAPA,eAAKV,GAAS,SAAU7D,GACtB,GAAIoD,EAAiBU,EAAS9D,EAAM,GAAIA,EAAM,IAE5C,OADAuE,GAAO,GACA,KAIPA,EACF,OAAO,EAGT,IAAIC,EAASN,EAAaL,GACtBY,EAASP,EAAaJ,GACtBY,GAAc,EAOlB,OANA,eAAKD,GAAQ,SAAUE,GACrB,GA/GuB,SAA8BR,EAAOQ,GAC9D,IAAID,GAAc,EAOlB,OANA,eAAKP,GAAO,SAAU10B,GACpB,GAAI2vB,EAAiB3vB,EAAEuV,KAAMvV,EAAEsV,GAAI4f,EAAK3f,KAAM2f,EAAK5f,IAEjD,OADA2f,GAAc,GACP,KAGJA,EAuGD,CAAqBF,EAAQG,GAE/B,OADAD,GAAc,GACP,KAGJA,GAGLE,EAEJ,WACE,SAASA,EAAKC,EAAIC,EAAIC,EAAIC,GACxB51B,KAAKy1B,GAAKA,EACVz1B,KAAK01B,GAAKA,EACV11B,KAAK21B,GAAKA,EACV31B,KAAK41B,GAAKA,EAqBZ,OAlBAJ,EAAKxzB,UAAU2yB,QAAU,WACvB,IAAIpB,EAAOluB,KAAKE,IAAIvF,KAAKy1B,GAAIz1B,KAAK21B,IAC9BnC,EAAOnuB,KAAKE,IAAIvF,KAAK01B,GAAI11B,KAAK41B,IAC9BrB,EAAOlvB,KAAKC,IAAItF,KAAKy1B,GAAIz1B,KAAK21B,IAC9BnB,EAAOnvB,KAAKC,IAAItF,KAAK01B,GAAI11B,KAAK41B,IAWlC,MAVU,CACR3T,EAAGsR,EACH3e,EAAG4e,EACHD,KAAMA,EACNC,KAAMA,EACNe,KAAMA,EACNC,KAAMA,EACNjiB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,IAKZgC,EA1BT,GA8BWK,EAAmB,SAA0BxC,EAAMyC,GAO5D,MANa,CACXC,IAAK,CAAC1C,EAAKE,KAAMF,EAAKG,KAAMH,EAAKkB,KAAMlB,EAAKG,MAC5CwC,KAAM,CAAC3C,EAAKE,KAAMF,EAAKG,KAAMH,EAAKE,KAAMF,EAAKmB,MAC7CyB,OAAQ,CAAC5C,EAAKE,KAAMF,EAAKmB,KAAMnB,EAAKkB,KAAMlB,EAAKmB,MAC/C0B,MAAO,CAAC7C,EAAKkB,KAAMlB,EAAKG,KAAMH,EAAKkB,KAAMlB,EAAKmB,OAElCsB,IAMZK,EAAqB,SAA4BC,EAAIC,GACvD,IAAIC,GAAOD,EAAGV,GAAKU,EAAGZ,KAAOW,EAAGV,GAAKW,EAAGX,KAAOW,EAAGT,GAAKS,EAAGX,KAAOU,EAAGX,GAAKY,EAAGZ,IACxEc,GAAOH,EAAGT,GAAKS,EAAGX,KAAOW,EAAGV,GAAKW,EAAGX,KAAOU,EAAGR,GAAKQ,EAAGV,KAAOU,EAAGX,GAAKY,EAAGZ,IACxEe,GAAMH,EAAGT,GAAKS,EAAGX,KAAOU,EAAGT,GAAKS,EAAGX,KAAOY,EAAGV,GAAKU,EAAGZ,KAAOW,EAAGR,GAAKQ,EAAGV,IAE3E,GAAIc,EAAI,CACN,IAAItd,EAAKod,EAAME,EACXC,EAAKF,EAAMC,EAEf,GAAItd,GAAM,GAAKA,GAAM,GAAKud,GAAM,GAAKA,GAAM,EACzC,OAAOvd,EAIX,OAAO5O,OAAOosB,mBAGLC,EAAsB,SAA6BvvB,EAAMmuB,GAMlE,IALA,IAAIqB,EAAa,CAAC,MAAO,OAAQ,SAAU,SACvCvD,EAAOjsB,EAAKutB,UACZkC,EAAqB,EACrBC,EAAgB,GAEX12B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIgZ,EAAKyc,EAAiBxC,EAAMuD,EAAWx2B,IACvCq1B,EAAKrc,EAAG,GACRsc,EAAKtc,EAAG,GACRuc,EAAKvc,EAAG,GACRwc,EAAKxc,EAAG,GAEZ0d,EAAc12B,GAAK4vB,EAAiB,CAClC/N,EAAGsT,EAAKE,GACR7gB,EAAG2gB,EAAKG,IACP,CACDzT,EAAGsT,EAAKI,GACR/gB,EAAG2gB,EAAKK,IACP,CACD3T,EAAGwT,EACH7gB,EAAG8gB,GACF,CACDzT,EAAG0T,EACH/gB,EAAGghB,IAGDkB,EAAc12B,KAChBy2B,GAAsB,GAI1B,MAAO,CAACC,EAAeD,IAEdE,EAAiB,SAAwB3vB,EAAMmuB,GAMxD,IALA,IAAIqB,EAAa,CAAC,MAAO,OAAQ,SAAU,SACvCvD,EAAOjsB,EAAKutB,UACZqC,EAAc1sB,OAAOosB,kBACrBG,EAAqB,EAEhBz2B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIgZ,EAAKyc,EAAiBxC,EAAMuD,EAAWx2B,IACvCq1B,EAAKrc,EAAG,GACRsc,EAAKtc,EAAG,GACRuc,EAAKvc,EAAG,GACRwc,EAAKxc,EAAG,GAER6d,EAAed,EAAmBZ,EAAM,IAAIC,EAAKC,EAAIC,EAAIC,EAAIC,KACjEqB,EAAe5xB,KAAKqF,IAAIusB,EAAe,MAEnB,GAAKA,GAAgB,IACvCJ,GAAsB,EACtBG,EAAcC,EAAeD,EAAcC,EAAeD,GAI9D,OAA2B,IAAvBH,GAAkC,EAC/BG,GAEEE,EAAkB,SAAyBrG,GACpD,IAAIsG,EAAU,EACVC,EAAU,EAEd,GAAIvG,EAAOvuB,OAAS,EAAG,CACrB,IAAK,IAAI+0B,EAAK,EAAGC,EAAWzG,EAAQwG,EAAKC,EAASh1B,OAAQ+0B,IAAM,CAC9D,IAAIzG,EAAQ0G,EAASD,GACrBF,GAAWvG,EAAM3O,EACjBmV,GAAWxG,EAAMhc,EAGnBuiB,GAAWtG,EAAOvuB,OAClB80B,GAAWvG,EAAOvuB,OAGpB,MAAO,CACL2f,EAAGkV,EACHviB,EAAGwiB,IAGIG,EAAa,SAAoB9yB,EAAGmC,GAC7C,OAAOvB,KAAKkS,IAAI9S,EAAEwd,EAAIrb,EAAEqb,EAAG,GAAK5c,KAAKkS,IAAI9S,EAAEmQ,EAAIhO,EAAEgO,EAAG,IAE3C4iB,EAAsB,SAA6B5G,EAAO2E,GACnE,IAOIkC,EAPAhC,EAAKF,EAAKE,GACVC,EAAKH,EAAKG,GACVC,EAAKJ,EAAKI,GAAKF,EACfG,EAAKL,EAAKK,GAAKF,EACfgC,EAAK9G,EAAM3O,EAAIwT,EACfkC,EAAK/G,EAAMhc,EAAI8gB,EACfkC,EAAUF,EAAK/B,EAAKgC,EAAK/B,EAI3B6B,EADEG,GAAW,IAKbA,GAFAF,EAAK/B,EAAK+B,GAEK/B,GADfgC,EAAK/B,EAAK+B,GACe/B,IAEV,EANH,EASEgC,EAAUA,GAAWjC,EAAKA,EAAKC,EAAKA,GAIpD,IAAIiC,EAAQH,EAAKA,EAAKC,EAAKA,EAAKF,EAMhC,OAJII,EAAQ,IACVA,EAAQ,GAGHA,GAEEC,EAAkB,SAAyB5H,EAAIC,EAAIpoB,GAK5D,YAJU,IAANA,IACFA,EAAI,MAGC1C,KAAKkS,IAAI2Y,EAAGjO,EAAIkO,EAAGlO,EAAG,GAAK5c,KAAKkS,IAAI2Y,EAAGtb,EAAIub,EAAGvb,EAAG,GAAKvP,KAAKkS,IAAIxP,EAAG,IAQhEgwB,EAAsB,SAA6BnH,EAAOD,GACnE,IAAIqH,EAASpH,EAAM3O,EAAI0O,EAAK1O,EACxBgW,EAAUrH,EAAM3O,EAAI0O,EAAK1O,EAAI0O,EAAKpe,MAClC2lB,EAAQtH,EAAMhc,EAAI+b,EAAK/b,EAAI+b,EAAK7P,OAChCqX,EAAWvH,EAAMhc,EAAI+b,EAAK/b,EAG9B,KAFqBojB,GAAUC,GAAWC,GAASC,GAGjD,OAAO,EAGT,GAAID,IAAUF,IAAWC,EACvB,OAAO5yB,KAAKkS,IAAIoZ,EAAK/b,EAAI+b,EAAK7P,OAAS8P,EAAMhc,EAAG,GAGlD,GAAIujB,IAAaH,IAAWC,EAC1B,OAAO5yB,KAAKkS,IAAIqZ,EAAMhc,EAAI+b,EAAK/b,EAAG,GAGpC,GAAIojB,IAAWE,IAAUC,EACvB,OAAO9yB,KAAKkS,IAAIoZ,EAAK1O,EAAI2O,EAAM3O,EAAG,GAGpC,GAAIgW,IAAYC,IAAUC,EACxB,OAAO9yB,KAAKkS,IAAIoZ,EAAK1O,EAAI0O,EAAKpe,MAAQqe,EAAM3O,EAAG,GAGjD,IAAIkP,EAAK9rB,KAAKE,IAAIF,KAAKqF,IAAIimB,EAAK1O,EAAI2O,EAAM3O,GAAI5c,KAAKqF,IAAIimB,EAAK1O,EAAI0O,EAAKpe,MAAQqe,EAAM3O,IAC/EmP,EAAK/rB,KAAKE,IAAIF,KAAKqF,IAAIimB,EAAK/b,EAAIgc,EAAMhc,GAAIvP,KAAKqF,IAAIimB,EAAK/b,EAAI+b,EAAK7P,OAAS8P,EAAMhc,IACpF,OAAOuc,EAAKA,EAAKC,EAAKA,GASb,EAAoB,SAA2BmE,EAAM3E,GAC9D,IAAI6E,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAKL,EAAK,GACVtT,EAAI2O,EAAM3O,EACVrN,EAAIgc,EAAMhc,EACVlU,EAAI,CAACi1B,EAAKF,EAAIG,EAAKF,GAEvB,GAAI,IAAK0C,YAAY13B,EAAG,CAAC,EAAG,IAC1B,OAAO23B,IAGT,IAAI5gB,EAAI,EAAE/W,EAAE,GAAIA,EAAE,IAElB,IAAK43B,UAAU7gB,EAAGA,GAClB,IAAIhT,EAAI,CAACwd,EAAIwT,EAAI7gB,EAAI8gB,GAErB,OAAOrwB,KAAKqF,IAAI,IAAK6tB,IAAI9zB,EAAGgT,KCn2B1B+gB,EAAe,oBAKfC,EAAY,qBAQZlb,EAVa,qBAUbA,GANiB,qBAMjBA,GANiB,qBAyCN,IACbvF,QAAS,QACTwF,uBAAwB,iBACxBG,uBAAwB,iBACxBC,uBAAwB,iBACxBC,wBAAyB,kBACzBC,2BAA4B,qBAC5BC,oBAAqB,MACrBC,UAAW,CACTC,MAAO,CACLC,KAAM,OACN9L,SAAU,GACV+L,UAAW,SACXC,aAAc,UAEhBC,OAAQ,GAGVC,YAAa,CACXnb,KAAM,SACN8a,MAAO,CACLM,UAAW,EACXC,OAvDQga,EAwDRta,KAnEa,sBAqEfhO,KAAM,GACN9G,MA3DUovB,EA4DV7Z,WAAY,CACVzO,KAAM,EACNqO,UAAW,EACXL,KAAMX,EACNiB,OA9DUga,IAkEd1Z,gBAAiB,CACfC,OAAQ,CACNb,KAAMX,EACNiB,OArEUga,EAsEVja,UAAW,EACXS,YAzEQwZ,EA0ERvZ,WAAY,IAEdC,SAAU,CACRhB,KA3FU,qBA4FVM,OAxEYga,EAyEZja,UAAW,EACXS,YA1EYwZ,EA2EZvZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTnB,KA1Fc,qBA2FdM,OA5FgB,UA6FhBD,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRtB,KA3GW,qBA4GXM,OArGe,qBAsGfD,UAAW,GAEboB,QAAS,CACPzB,KA7Ga,qBA8GbM,OA7Ge,qBA8GfD,UAAW,IAGfuB,UAAW,CACT7B,MAAO,CACLC,KAxHU,eAyHVC,UAAW,SACXC,aAAc,SACdhM,SAAU,KAGd2N,YAAa,CACX5c,KAAM,OACN+M,KAAM,EACN+N,MAAO,CACLO,OAAQjB,GACR0C,gBAAiB,GAEnB7W,MAAOmU,IAGT2C,gBAAiB,CACfnB,OAAQ,CACNP,OA/Gcga,EAgHdja,UAAW,GAEbW,SAAU,CACRV,OAjHgBga,EAkHhBja,UAAW,EACXS,YAnHgBwZ,EAoHhBvZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAzHiBga,EA0HjBja,UAAW,EACX,aAAc,CACZzM,WAAY,MAGhB0N,SAAU,CACRhB,OAxJmB,qBAyJnBD,UAAW,GAEboB,QAAS,CACPnB,OA3JmB,qBA4JnBD,UAAW,IAGfiC,WAAY,CACVvC,MAAO,CACLC,KAxKU,eA0KVE,aAAc,SACdhM,SAAU,IAEZqO,KAAM,GACNC,KAAM,IAGRC,aAAc,CACZxd,KAAM,SACN8a,MAAO,CACLC,KAlJWua,EAmJXla,UAAW,EACXC,OAAQjB,GACRrc,EAAG,EACHqR,MAAO,GACPuO,OAAQ,IAEV5Q,KAAM,CAAC,GAAI,GACX9G,MAAOmU,GACPwD,QAAS,CAAC,GAAI,GAAI,GAAI,KAGxBC,iBAAkB,CAChBjC,OAAQ,CACNP,OA/Jega,EAgKfja,UAAW,EACXL,KAnMW,sBAqMbgB,SAAU,CACRV,OAhKiBga,EAiKjBja,UAAW,EACXL,KAjKeua,EAkKfzZ,YAnKiBwZ,EAoKjBvZ,WAAY,GACZ,aAAc,CACZnN,WAAY,MAGhBuN,UAAW,CACTb,OAxMgB,UAyMhBD,UAAW,EACXL,KAzKgBua,EA0KhB,aAAc,CACZ3mB,WAAY,MAGhB0N,SAAU,CACRhB,OApNe,qBAqNfN,KApLeua,EAqLfla,UAAW,GAEboB,QAAS,CACPnB,OAxNmB,qBAyNnBN,KA3Na,qBA4NbK,UAAW,IAGfoD,cAAe,CACbzD,KAAM,UACN0D,YAAa,GACbpD,OAAQ,UACRqD,cAAe,GACfC,SAAU,CAAC,EAAG,KC1OH,IACb,IAAK,kBACLrd,EAAG,kBACHi0B,EAAG,kBACH9xB,EAAG,gBACH+xB,EAAG,kBACHl4B,EAAG,kBACHm4B,EAAG,kBACHl4B,EAAG,gBACHm4B,EAAG,iBACH9wB,EAAG,iBACHsoB,EAAG,gBACH5iB,EAAG,mBACHqrB,EAAG,kBACHjkB,EAAG,kBACHkkB,EAAG,kBACHvhB,EAAG,iBACHwhB,EAAG,kBACH54B,EAAG,iBACH64B,EAAG,gBACHtxB,EAAG,mBACHuxB,EAAG,kBACHv1B,EAAG,kBACHw1B,EAAG,kBACH94B,EAAG,mBACH+4B,EAAG,kBACH54B,EAAG,iBACH64B,EAAG,kBACHx3B,EAAG,kBACHy3B,EAAG,kBACHz4B,EAAG,gBACH04B,EAAG,kBACHr3B,EAAG,gBACH6R,EAAG,kBACHggB,EAAG,gBACHyF,EAAG,kBACHt4B,EAAG,kBACHu4B,EAAG,kBACHt3B,EAAG,iBACHu3B,EAAG,kBACHp4B,EAAG,iBACHq4B,EAAG,kBACHliB,EAAG,kBACHmiB,EAAG,kBACHl0B,EAAG,mBACHm0B,EAAG,kBACHC,EAAG,iBACHC,EAAG,iBACH9X,EAAG,kBACH+X,EAAG,gBACHplB,EAAG,kBACHqlB,EAAG,gBACHC,EAAG,gBACHC,EAAG,eACH,EAAK,GACL,EAAK,mBACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,kBACL,EAAK,GACL,EAAK,GACL,IAAK,kBACL,IAAK,kBACL,IAAK,mBACL,IAAK,mBACL,IAAK,mBACL,IAAK,mBACL,IAAK,kBACL,IAAK,kBACL,KAAM,GACN,IAAK,mBACL,IAAK,iBACL,IAAK,iBACL,IAAK,iBACLrlB,EAAG,GACH,IAAK,kBACL,KAAM,kBACN,IAAK,kBACL,IAAK,kBACL,IAAK,GACLslB,EAAG,GACH,IAAK,kBACL,IAAK,iBACL,IAAK,kBACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,iBACL,IAAK,iBACL,IAAK,GACL,IAAK,iBCvFHlvB,GAAK7F,KAAK6F,GACV4M,GAAMzS,KAAKyS,IACXD,GAAMxS,KAAKwS,IAEXwiB,GAAgBviB,GAAI5M,GAAK,GACzBovB,GAAgBziB,GAAI3M,GAAK,GAClB,GAAU,SAAiBiS,EAAS8V,GAC7C,IAAII,EAAOlW,EAAQwX,UACf4F,EAAU,CACZtY,EAAGoR,EAAKE,KACR3e,EAAGye,EAAKG,MAENgH,EAAc,CAChBvY,EAAGoR,EAAKkB,KACR3f,EAAGye,EAAKmB,MAGV,GAAIvB,EAAO,CACT,IAAInB,EAASmB,EAAMG,YAEdtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCyI,EAAU,EAAYA,EAASzI,GAC/B0I,EAAc,EAAYA,EAAa1I,GAGzC,IAAI2I,EAAKF,EAAQtY,EACbyY,EAAKH,EAAQ3lB,EACbgd,EAAK4I,EAAYvY,EACjB4P,EAAK2I,EAAY5lB,EACrB,MAAO,CACLqN,EAAGwY,EACH7lB,EAAG8lB,EACHnH,KAAMkH,EACNjH,KAAMkH,EACNnG,KAAM3C,EACN4C,KAAM3C,EACNtf,MAAOqf,EAAK6I,EACZ3Z,OAAQ+Q,EAAK6I,IAQN,GAAc,SAAqBtd,GAC5C,IAAIhW,EAAOgW,EAAIud,YAAcvd,EAAIwd,WAE7BC,EADYzzB,EAAKnG,IAAI,SACOmyB,YAC3ByH,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjE,IACIxH,EADWjsB,EAAK0zB,cACAnG,UAChBoG,EAAU3d,EAAI2d,SAAW,GAEzB7sB,EAAO6sB,EAAQ7sB,MAA4C,EAApC7I,KAAKC,IAAI+tB,EAAK9gB,MAAO8gB,EAAKvS,QAEjDka,EAAWD,EAAQC,UAAY,GAAOjd,oBAEtC+S,EAAS,CAAC+J,EAAgB,GAAIA,EAAgB,IAC9CI,EAAa,CAAC7d,EAAI6d,WAAWhZ,EAAG7E,EAAI6d,WAAWrmB,GAC/CsmB,EAAW,CAAC9d,EAAI8d,SAASjZ,EAAG7E,EAAI8d,SAAStmB,GACzCumB,EAAS9H,EAAKvS,OAAS,EACvBsa,EAAO/H,EAAKvS,OAAS,EACrBua,EAAgBF,EAASd,GACzBiB,EAAgBH,EAASb,GACzBiB,EAAcH,EAAOf,GACrBmB,EAAcJ,EAAOd,GAEzB,GAAIW,EAAW,KAAOC,EAAS,IAAMD,EAAW,KAAOC,EAAS,GAAI,CAClE,OAAQF,GACN,IAAK,MACHC,EAAa,CAACnK,EAAO,GAAKuK,EAAevK,EAAO,GAAKwK,GACrDJ,EAAW,CAACpK,EAAO,GAAKyK,EAAazK,EAAO,GAAK0K,GACjD,MAEF,IAAK,YACHL,EAAS9H,EAAKvS,OAAS,EACvBsa,EAAO/H,EAAK9gB,MAAQ,EAKpB0oB,EAAa,CAACnK,EAAO,IAJrBuK,EAAgBF,EAASd,IAIgBvJ,EAAO,IAHhDwK,EAAgBH,EAASb,KAIzBY,EAAW,CAACpK,EAAO,IAFnB0K,EAAcJ,EAAOd,IAEgBxJ,EAAO,IAH5CyK,EAAcH,EAAOf,KAIrB,MAEF,IAAK,QACHc,EAAS9H,EAAK9gB,MAAQ,EACtB6oB,EAAO/H,EAAK9gB,MAAQ,EAKpB0oB,EAAa,CAACnK,EAAO,IAHrBwK,EAAgBH,EAASb,IAGgBxJ,EAAO,IAJhDuK,EAAgBF,EAASd,KAKzBa,EAAW,CAACpK,EAAO,IAFnB0K,EAAcJ,EAAOd,IAEgBxJ,EAAO,IAH5CyK,EAAcH,EAAOf,KAIrB,MAEF,IAAK,eACHc,EAAS9H,EAAK9gB,MAAQ,EACtB6oB,EAAO/H,EAAKvS,OAAS,EAKrBma,EAAa,CAACnK,EAAO,IAHrBwK,EAAgBH,EAASb,IAGgBxJ,EAAO,IAJhDuK,EAAgBF,EAASd,KAKzBa,EAAW,CAACpK,EAAO,IAHnByK,EAAcH,EAAOf,IAGgBvJ,EAAO,IAF5C0K,EAAcJ,EAAOd,KAGrB,MAEF,IAAK,SACHa,EAAS9H,EAAKvS,OAAS,EACvBsa,EAAO/H,EAAKvS,OAAS,EAKrBma,EAAa,CAACnK,EAAO,IAJrBuK,EAAgBF,EAASd,IAIgBvJ,EAAO,IAHhDwK,EAAgBH,EAASb,KAIzBY,EAAW,CAACpK,EAAO,IAHnByK,EAAcH,EAAOf,IAGgBvJ,EAAO,IAF5C0K,EAAcJ,EAAOd,KAGrB,MAEF,IAAK,cACHa,EAAS9H,EAAKvS,OAAS,EACvBsa,EAAO/H,EAAK9gB,MAAQ,EAKpB0oB,EAAa,CAACnK,EAAO,IAJrBuK,EAAgBF,EAASd,IAIgBvJ,EAAO,IAHhDwK,EAAgBH,EAASb,KAIzBY,EAAW,CAACpK,EAAO,IAFnB0K,EAAcJ,EAAOd,IAEgBxJ,EAAO,IAH5CyK,EAAcH,EAAOf,KAIrB,MAEF,IAAK,OACHc,EAAS9H,EAAK9gB,MAAQ,EACtB6oB,EAAO/H,EAAK9gB,MAAQ,EAKpB0oB,EAAa,CAACnK,EAAO,IAHrBwK,EAAgBH,EAASb,IAGgBxJ,EAAO,IAJhDuK,EAAgBF,EAASd,KAKzBa,EAAW,CAACpK,EAAO,IAFnB0K,EAAcJ,EAAOd,IAEgBxJ,EAAO,IAH5CyK,EAAcH,EAAOf,KAIrB,MAEF,IAAK,WACHc,EAAS9H,EAAK9gB,MAAQ,EACtB6oB,EAAO/H,EAAKvS,OAAS,EAKrBma,EAAa,CAACnK,EAAO,IAHrBwK,EAAgBH,EAASb,IAGgBxJ,EAAO,IAJhDuK,EAAgBF,EAASd,KAKzBa,EAAW,CAACpK,EAAO,IAHnByK,EAAcH,EAAOf,IAGgBvJ,EAAO,IAF5C0K,EAAcJ,EAAOd,KAGrB,MAEF,QACEa,EAAS9H,EAAK9gB,MAAQ,EACtB6oB,EAAO/H,EAAK9gB,MAAQ,EAKpB0oB,EAAa,CAACnK,EAAO,IAJrBuK,EAAgBF,EAASd,IAIgBvJ,EAAO,IAHhDwK,EAAgBH,EAASb,KAIzBY,EAAW,CAACpK,EAAO,IAHnByK,EAAcH,EAAOf,IAGgBvJ,EAAO,IAF5C0K,EAAcJ,EAAOd,KAMzB,IAA0B,IAAtBS,EAAQU,UAAqB,CAC/B,IAAIC,EAAO,CAACT,EAAW,GAAIA,EAAW,IACtCA,EAAa,CAACC,EAAS,GAAIA,EAAS,IACpCA,EAAW,CAACQ,EAAK,GAAIA,EAAK,KAI9B,IAAIC,EAAW,CAACV,EAAW,GAAKnK,EAAO,GAAImK,EAAW,GAAKnK,EAAO,IAC9D8K,GAAkBT,EAASjtB,GAAQitB,EACnCU,GAAgBT,EAAOltB,GAAQktB,GAET,IAAtBL,EAAQU,YACVG,GAAkBR,EAAOltB,GAAQktB,EACjCS,GAAgBV,EAASjtB,GAAQitB,GAGnC,IAAIW,EAAiB,IAAKC,MAAM,CAAC,EAAG,GAAIJ,EAAUC,GAC9CI,EAAgB,CAAClL,EAAO,GAAKgL,EAAe,GAAIhL,EAAO,GAAKgL,EAAe,IAC3EG,EAAS,CAACf,EAAS,GAAKpK,EAAO,GAAIoK,EAAS,GAAKpK,EAAO,IACxDoL,EAAe,IAAKH,MAAM,CAAC,EAAG,GAAIE,EAAQJ,GAC1CM,EAAgB,CAACrL,EAAO,GAAKoL,EAAa,GAAIpL,EAAO,GAAKoL,EAAa,IAgB3E,OAfA9e,EAAI6d,WAAa,CACfhZ,EAAGgZ,EAAW,GACdrmB,EAAGqmB,EAAW,IAEhB7d,EAAI8d,SAAW,CACbjZ,EAAGiZ,EAAS,GACZtmB,EAAGsmB,EAAS,IAEd9d,EAAIgf,cAAgB,CAAC,CACnBna,EAAG+Z,EAAc,GACjBpnB,EAAGonB,EAAc,IAChB,CACD/Z,EAAGka,EAAc,GACjBvnB,EAAGunB,EAAc,KAEZ/e,GAYE,GAAmB,SAA0Bif,EAAWtZ,EAASrC,EAAMD,EAAM0B,GACtF,IACI6P,EAAS,GACTpB,EAAQyL,EAAUC,SAASvZ,GAE/B,GAAc,OAAV6N,EACF,MAAO,CACL3O,EAAG,EACHrN,EAAG,EACH4c,MAAO,GAKX,GAAIzO,EAba,KAcfiP,EAASqK,EAAUE,kBAAkBC,eAChC,GAAIzZ,EAAU,MACnBiP,EAASqK,EAAUI,oBACd,CAEL,IAAIC,EAAcL,EAAUC,SAASvZ,EAnBtB,MAoBfiP,EAAOlvB,KAAK,CAAC8tB,EAAM3O,EAAG2O,EAAMhc,IAC5Bod,EAAOlvB,KAAK,CAAC45B,EAAYza,EAAGya,EAAY9nB,IAG1C,IAAI+nB,EAAMt3B,KAAKsS,MAAMqa,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAKA,EAAO,GAAG,IAW3E,GATI2K,EAAM,IACRA,GAAY,EAALzxB,IAGLwV,IACFkQ,EAAM3O,GAAKpK,GAAI8kB,GAAOjc,EACtBkQ,EAAMhc,GAAKkD,GAAI6kB,GAAOjc,GAGpBD,EAAM,CAER,IAAImc,EAASD,EAAMzxB,GAAK,EAEpByxB,EAAM,GAAQzxB,IAAMyxB,EAAM,IAAYzxB,KACxC0xB,GAAU1xB,IAGZ0lB,EAAM3O,GAAKpK,GAAI+kB,GAAUnc,EACzBmQ,EAAMhc,GAAKkD,GAAI8kB,GAAUnc,EAG3B,IAAI7d,EAAS,CACXqf,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EACT4c,MAAOmL,GAGT,OAAIxa,GACEwa,EAAM,GAAQzxB,IAAMyxB,EAAM,IAAYzxB,KACxCyxB,GAAOzxB,IAGF,YAAS,CACdiX,OAAQwa,GACP/5B,IAGEA,GAOLi6B,GAAW,SAASA,EAASh4B,EAAMyB,GACrC,IAAiB,IAAbA,EAAGzB,GACL,OAAO,EAGT,GAAIA,GAAQA,EAAKupB,SACf,IAAK,IAAIhuB,EAAIyE,EAAKupB,SAAS9rB,OAAS,EAAGlC,GAAK,EAAGA,IAC7C,IAAKy8B,EAASh4B,EAAKupB,SAAShuB,GAAIkG,GAAK,OAAO,EAIhD,OAAO,GA2BEw2B,GAAe,SAAsBj4B,EAAMyB,GAClC,mBAAPA,GAIXu2B,GAASh4B,EAAMyB,IAONonB,GAAiB,SAAwB7oB,EAAMyB,GACtC,mBAAPA,GAhCI,SAAS+nB,EAAWxpB,EAAMyB,GACzC,GAAIzB,GAAQA,EAAKupB,SACf,IAAK,IAAIhuB,EAAIyE,EAAKupB,SAAS9rB,OAAS,EAAGlC,GAAK,EAAGA,IAC7C,IAAKiuB,EAAWxpB,EAAKupB,SAAShuB,GAAIkG,GAAK,OAI3C,OAAiB,IAAbA,EAAGzB,GA6BPwpB,CAAWxpB,EAAMyB,IASR,GAAiB,SAAwBy2B,EAAQ3qB,GAC1D,OAAOA,GAAY4qB,GAAkBD,IAAW,IASvCE,GAAc,SAAqBtrB,EAAMS,GAClD,IAAIG,EAAQ,EACR2qB,EAAU,IAAIC,OAAO,UASzB,OARAxrB,EAAKnJ,MAAM,IAAIiI,SAAQ,SAAUssB,GAC3BG,EAAQE,KAAKL,GAEfxqB,GAASH,EAETG,GAAS,GAAewqB,EAAQ3qB,MAG7B,CAACG,EAAOH,IASN,GAAqB,SAA4BxJ,EAAOqlB,GACjE,IAAIrrB,EAAS,GACTy6B,EAAW,GACXC,EAAW,GACf10B,EAAM6H,SAAQ,SAAU/P,GACtB48B,EAAS58B,EAAEytB,IAAMztB,KAEnBkI,EAAM6H,SAAQ,SAAU/P,EAAGN,GACzB,IAAIm9B,EAAK,gBAAM78B,GACf68B,EAAGC,SAAW,QACdD,EAAGnP,cAAWniB,EAEVsxB,EAAGE,WAAaF,EAAGpP,IACrB7T,QAAQC,KAAK,0BAA0BvV,OAAOu4B,EAAGpP,GAAI,kDAC9CoP,EAAGE,UACDF,EAAGE,WAAaH,EAASC,EAAGE,YACrCnjB,QAAQC,KAAK,8BAA8BvV,OAAOu4B,EAAGpP,GAAI,4BAClDoP,EAAGE,UAGZ,IAAIC,EAAYL,EAASE,EAAGpP,IAE5B,GAAIuP,EAAJ,CAKE,GAJAH,EAAGnP,SAAWsP,EAAUtP,SACxBiP,EAASE,EAAGpP,IAAMoP,IAClBG,EAAYH,GAEGE,SAEb,YADA76B,EAAOE,KAAK46B,GAId,IAAIC,EAAeN,EAASK,EAAUD,UAEtC,GAAIE,EACEA,EAAavP,SAAUuP,EAAavP,SAAStrB,KAAKy6B,GAASI,EAAavP,SAAW,CAACmP,OACnF,CACL,IAAIK,EAAW,CACbzP,GAAIuP,EAAUD,SACdrP,SAAU,CAACsP,IAEbL,EAASK,EAAUD,UAAYG,EAC/BP,EAASE,EAAGpP,IAAMoP,QAMtB,GAAI,mBAAS78B,EAAE+8B,UAAW,CACxB,IAAII,EAAWR,EAAS38B,EAAE+8B,UAE1B,GAAII,EACEA,EAASzP,SAAUyP,EAASzP,SAAStrB,KAAKy6B,GAASM,EAASzP,SAAW,CAACmP,GAC5EF,EAASE,EAAGpP,IAAMoP,MACb,CACL,IAAIO,EAAK,CACP3P,GAAIztB,EAAE+8B,SACNrP,SAAU,CAACmP,IAEbF,EAASS,EAAG3P,IAAM2P,EAClBT,EAASE,EAAGpP,IAAMoP,QAGpB36B,EAAOE,KAAKy6B,GACZF,EAASE,EAAGpP,IAAMoP,KAItB,IAAI3K,EAAU,IACb3E,GAAS,IAAIxd,SAAQ,SAAUoiB,GAC9BD,EAAQC,EAAK1E,IAAM0E,EACnB,IAAIkL,EAAQV,EAASxK,EAAKmL,SAE1B,GAAID,EAAO,CACT,IAAIE,EAAQ,CACV9P,GAAI0E,EAAK1E,GACT6P,QAASnL,EAAKmL,SAEZD,EAAM3P,SAAU2P,EAAM3P,SAAStrB,KAAKm7B,GAAYF,EAAM3P,SAAW,CAAC6P,GACtEA,EAAMT,SAAW,OACjBH,EAASxK,EAAK1E,IAAM8P,MAIxB,IAAIC,EAAW,EA6Bf,OA5BAt7B,EAAO6N,SAAQ,SAAU0tB,GACvBA,EAAKC,MAAQF,EAAW,GACxBrB,GAASsB,GAAM,SAAUE,GACvB,IAAIrhB,EACAwgB,EAAWH,EAASgB,EAAMlQ,IAAIqP,SAGhCxgB,EADe,SAAbwgB,EACOH,EAASgB,EAAML,SAEfX,EAASgB,EAAMZ,UAICY,EAAMD,MAD7BphB,GACe,SAAbwgB,EAAmCU,EAAW,EAEpCA,EAAW,GAGvBA,EAAWG,EAAMD,QAAOF,EAAWG,EAAMD,OAC7C,IAAIE,EAAe1L,EAAQyL,EAAMlQ,IAMjC,OAJImQ,IACFA,EAAaF,MAAQC,EAAMD,QAGtB,QAGJx7B,GAEE27B,GAAkB,SAAyBC,EAAOC,EAAWC,GACtE,IACIC,EADAC,EAAWJ,EAEXK,EAAiB,CACnBn/B,KAAM,CACJ0uB,SAAUoQ,IAGVM,GAAe,EACfC,EAAc,QACjBP,GAAS,IAAI/tB,SAAQ,SAAU0tB,GAC9B,IAAIW,EAEJ,OAAIX,EAAKhQ,KAAOsQ,GACdE,EAAUR,EAEY,UAAlBA,EAAKX,SACPmB,EAAQlB,SAAWiB,EAEnBC,EAAQX,QAAUU,OAGpBI,GAAe,SAIjBhC,GAAaqB,GAAM,SAAUE,GAO3B,OANAQ,EAAeR,EAAMlQ,IAAM,CACzBC,SAAUiQ,EAAMjQ,UAGlBwQ,EAAWC,EAAeR,EAAMZ,UAAYY,EAAML,SAAW,QAAQ5P,UAEjEiQ,IAAUA,EAAMW,SAAWP,IAAcJ,EAAMlQ,KAAOyQ,IACxDG,EAAcV,EAAMZ,UAAYY,EAAML,SAAW,OACjDW,EAAUN,EAEa,UAAnBA,EAAMb,SACRmB,EAAQlB,SAAWiB,EAEnBC,EAAQX,QAAUU,EAGpBI,GAAe,GACR,SAOb,IAAIj8B,GADJ+7B,EAAWC,EAAeE,GAAa3Q,UAChBwQ,EAASn8B,QAAQk8B,IAAY,EAepD,GAdI97B,GAAS,GAAG+7B,EAAS54B,OAAOnD,EAAO,GAElCi8B,IACHH,EAAU,CACRxQ,GAAIsQ,EACJjB,SAAU,OACVQ,QAASU,GAEXG,EAAeJ,GAAa,CAC1BrQ,cAAUniB,IAKVwyB,EAAW,CACb,IAAIQ,GAAU,EAEd,GAAIP,EAAa,CACf,IAAIQ,EAAmB,GACtBV,GAAS,IAAI/tB,SAAQ,SAAU0tB,GAC1Bc,GAEJnC,GAAaqB,GAAM,SAAUE,GAE3B,OAAIK,IAAgBL,EAAMlQ,KACxB8Q,GAAU,EACNZ,EAAMjQ,SAAUiQ,EAAMjQ,SAAStrB,KAAK67B,GAAcN,EAAMjQ,SAAW,CAACuQ,GACxEO,EAAmBb,EAAMD,MACA,SAArBO,EAAQnB,SAAqBmB,EAAQP,MAAQc,EAAmB,EAAOP,EAAQP,MAAQc,EAAmB,GACvG,cAMFR,GAAgBO,GAAiC,SAArBN,EAAQnB,UAE/CgB,EAAM17B,KAAK67B,GAIb,IAAIQ,EAAiBR,EAAQP,MAC7BtB,GAAa6B,GAAS,SAAUN,GAG9B,MAFuB,SAAnBA,EAAMb,SAAqB2B,GAAkB,EAAOA,GAAkB,EAC1Ed,EAAMD,MAAQe,GACP,KAIX,OAAOX,GAEEY,GAAe,SAAsBhR,EAAUU,GACxD,IAAIuQ,EAAY,CACd9L,KAAMzoB,IACN0oB,KAAM1oB,IACNypB,MAAOzpB,IACP0pB,MAAO1pB,IACPmX,OAAGhW,EACH2I,OAAG3I,EACHsG,WAAOtG,EACP6U,YAAQ7U,EACRkrB,aAASlrB,EACTmrB,aAASnrB,GAGX,OAAKmiB,GAAgC,IAApBA,EAAS9rB,QAI1B8rB,EAAS3d,SAAQ,SAAU4tB,GACzB,IAAIiB,EAAYxQ,EAAMyQ,SAASlB,EAAMlQ,IACrC,GAAKmR,GAAcA,EAAUE,YAA7B,CAEAF,EAAUh4B,IAAI,uBAAmB2E,GACjC,IAAIwzB,EAAYH,EAAUhM,gBACtBmM,EAAUxd,GAAKod,EAAU9L,KAAOkM,EAAUlM,OAAM8L,EAAU9L,KAAOkM,EAAUlM,MAC3EkM,EAAU7qB,GAAKyqB,EAAU7L,KAAOiM,EAAUjM,OAAM6L,EAAU7L,KAAOiM,EAAUjM,MAC3EiM,EAAUxd,GAAKod,EAAU9K,KAAOkL,EAAUlL,OAAM8K,EAAU9K,KAAOkL,EAAUlL,MAC3EkL,EAAU7qB,GAAKyqB,EAAU7K,KAAOiL,EAAUjL,OAAM6K,EAAU7K,KAAOiL,EAAUjL,UAEjF6K,EAAUpd,GAAKod,EAAU9L,KAAO8L,EAAU9K,MAAQ,EAClD8K,EAAUzqB,GAAKyqB,EAAU7L,KAAO6L,EAAU7K,MAAQ,EAClD6K,EAAU9sB,MAAQ8sB,EAAU9K,KAAO8K,EAAU9L,KAC7C8L,EAAUve,OAASue,EAAU7K,KAAO6K,EAAU7L,KAC9C6L,EAAUlI,SAAWkI,EAAU9L,KAAO8L,EAAU9K,MAAQ,EACxD8K,EAAUjI,SAAWiI,EAAU7L,KAAO6L,EAAU7K,MAAQ,EACxD1zB,OAAO8C,KAAKy7B,GAAW5uB,SAAQ,SAAU9O,GACnC09B,EAAU19B,KAASmJ,KAAYu0B,EAAU19B,MAAUmJ,MACrDu0B,EAAU19B,QAAOsK,MAGdozB,GAzBEA,GA2BA,GAAoB,SAA2BjiB,GACxD,IAAIsiB,EAAc,mBAAStiB,EAAI6E,IAAM,mBAAS7E,EAAIxI,IAAMwI,EAAIja,MAAQia,EAAIuiB,cAAgBviB,EAAIlN,KAE5F,OADIkN,EAAIa,QAAOyhB,EAAcA,GAAe,mBAAStiB,EAAIa,MAAM/c,IAAM,mBAASkc,EAAIa,MAAM1L,QAAU,mBAAS6K,EAAIa,MAAM6C,SAAW,mBAAS1D,EAAIa,MAAM2T,KAAO,mBAASxU,EAAIa,MAAM4T,KACtK6N,GAEE,GAAkB,SAAyB77B,GACpD,IAAI+7B,EAAY,GAgBhB,OAfA9+B,OAAO8C,KAAKC,GAAK4M,SAAQ,SAAUovB,GACjC,IAAIC,EAAOj8B,EAAIg8B,GAEf,GAAI,mBAASC,GAAO,CAClB,IAAIC,EAAe,GACnBj/B,OAAO8C,KAAKk8B,GAAMrvB,SAAQ,SAAUuvB,GAClC,IAAIt6B,EAAIo6B,EAAKE,IACA,QAATA,GAAmB,mBAASt6B,MAChCq6B,EAAaC,GAAQ,gBAAMt6B,OAE7Bk6B,EAAUC,GAAQE,OAElBH,EAAUC,GAAQ,gBAAMC,MAGrBF,GChpBE,GAAiB,SAAwB/6B,GAElD,IAAKA,EAEH,OADAyV,QAAQ2lB,MAAM,4CACP,EAIT,IAAIhS,EAAQppB,EAAKopB,MACbC,EAAQrpB,EAAKqpB,MACb9U,EAAKvU,EAAKq7B,OACVA,OAAgB,IAAP9mB,EAAgB,GAAKA,EAElC,IAAK6U,IAAUC,EAAO,CACpB,IAAIiS,GAAc,EAUlB,OARArD,GAAaj4B,GAAM,SAAUu7B,GAC3B,QAAK,mBAASA,EAAMjS,MAClBgS,GAAc,GACP,MAKJA,EAGT,IAAIE,GAAWpS,GAAS,IAAI3pB,MAAK,SAAUuuB,GACzC,OAAQ,mBAASA,EAAK1E,OAGxB,GAAIkS,EAEF,OADA/lB,QAAQC,KAAK,gDAAgDvV,OAAOq7B,EAAQlS,GAAI,uBAAwB,+BAAgC,KACjI,EAIT,IAAImS,GAAWrS,GAAS,IAAI1d,KAAI,SAAUsiB,GACxC,OAAOA,EAAK1E,MAEVoS,EAAWL,EAAO3vB,KAAI,SAAUwtB,GAClC,OAAOA,EAAM5P,MAGXqS,EAAM,YAAc,YAAc,GAAIF,GAAS,GAAOC,GAAU,GAEhEE,GAAYvS,GAAS,IAAI5pB,MAAK,SAAUo8B,GAC1C,OAAQF,EAAI1vB,SAAS4vB,EAAK3S,UAAYyS,EAAI1vB,SAAS4vB,EAAK1S,WAG1D,OAAIyS,IACFnmB,QAAQC,KAAK,iCAAiCvV,OAAOy7B,EAAS1S,OAAQ,uBAAuB/oB,OAAOy7B,EAASzS,OAAQ,uDAAwD,+BAAgC,GAAI,+BAAgC,KAC1O,IC0LI,GArPf,WACE,SAAS2S,EAAe7R,GACtB9uB,KAAK8uB,MAAQA,EACb9uB,KAAK4gC,WAAY,EACjB5gC,KAAK6gC,MAAQ/R,EAAM7tB,IAAI,UAAY,CACjC6/B,QAAS,IAEX9gC,KAAK+gC,cACL/gC,KAAKuB,KAAOutB,EAAM7tB,IAAI,gBAAkB,UACxCjB,KAAKghC,eAAiB,GACtBhhC,KAAKihC,QAAQjhC,KAAKuB,MAwOpB,OArOAo/B,EAAe3+B,UAAU++B,YAAc,WACrC,IAAIF,EAAQ7gC,KAAK6gC,MACjB,eAAKA,GAAO,SAAUt/B,GACpB,eAAKA,GAAM,SAAU6tB,EAAUhvB,GACzB,mBAASgvB,KACX7tB,EAAKnB,GAAK,CACR+C,KAAMisB,WAOhBuR,EAAe3+B,UAAUk/B,aAAe,SAAU3/B,GAChD,IAGI4/B,EAHArS,EAAQ9uB,KAAK8uB,MACbsS,EAAYphC,KAAK6gC,MAAMt/B,GACvB8/B,EAAU,GAEd,eAAKD,GAAa,IAAI,SAAUhS,GAC9B,IAAIkS,EAAmB,EAAS3R,YAAYP,EAASjsB,MAAQisB,GAExDkS,IAILH,EAAS,IAAIG,EAAiBlS,MAG5B+R,EAAOv/B,KAAKktB,GACZuS,EAAQv+B,KAAKq+B,OAGjBnhC,KAAKghC,eAAiBK,GAGxBV,EAAeY,eAAiB,SAAUC,EAAeJ,GAYvD,OAXA,eAAKA,GAAW,SAAUhS,GACpBoS,EAAc/+B,QAAQ2sB,GAAY,IAChC,mBAASA,KACXA,EAAW,CACTjsB,KAAMisB,IAIVoS,EAAc1+B,KAAKssB,OAGhBoS,GAGTb,EAAec,gBAAkB,SAAUD,EAAeJ,GACxD,IAAIx+B,EAAS,GAeb,OAdA4+B,EAAc/wB,SAAQ,SAAU2e,GAC9B,IAAIjsB,EAAO,GAGTA,EADE,mBAASisB,GACJA,EAGAA,EAASjsB,KAGdi+B,EAAU3+B,QAAQU,GAAQ,GAC5BP,EAAOE,KAAKssB,MAGTxsB,GAGT+9B,EAAe3+B,UAAUi/B,QAAU,SAAU1/B,GAC3C,IACIs/B,EADK7gC,KACM6gC,MACX/R,EAFK9uB,KAEM8uB,MAEX4S,EAAUngC,EACEs/B,EAAMa,KAMtB5S,EAAM1S,KAAK,mBAAoB,CAC7B7a,KAAMA,IAER,eAAKvB,KAAKghC,gBAAgB,SAAUG,GAC9BA,EAAOQ,UAAUR,EAAOQ,SAASn7B,SACrC26B,EAAOlS,OAAOH,MAEhB9uB,KAAKkhC,aAAaQ,GAClB5S,EAAM1S,KAAK,kBAAmB,CAC5B7a,KAAMA,IAERvB,KAAKuB,KAAOA,IAGdo/B,EAAe3+B,UAAU4/B,QAAU,WACjC,OAAO5hC,KAAKuB,MAado/B,EAAe3+B,UAAU6/B,oBAAsB,SAAUT,EAAWP,EAAOiB,GACzE,IAEIT,EAFA/R,EAAQtvB,KAUZ,GAHEqhC,EAHG,kBAAQD,GAGDA,EAFA,CAACA,GAKT,kBAAQP,GAYV,OAXA,eAAKA,GAAO,SAAUt/B,GACf+tB,EAAMuR,MAAMt/B,GAKf+tB,EAAMuR,MAAMt/B,GADHugC,EACWnB,EAAeY,eAAejS,EAAMuR,MAAMt/B,IAAS,GAAI8/B,GAEvDV,EAAec,gBAAgBnS,EAAMuR,MAAMt/B,IAAS,GAAI8/B,GANxES,IACFxS,EAAMuR,MAAMt/B,GAAQ8/B,MAQnBrhC,KAGT,IAAI+hC,EAAclB,EAmBlB,OAjBKA,IACHkB,EAAc/hC,KAAKuB,MAGhBvB,KAAK6gC,MAAMkB,IACVD,IACF9hC,KAAK6gC,MAAMkB,GAAeV,GAK5BrhC,KAAK6gC,MAAMkB,GADTD,EACwBnB,EAAeY,eAAevhC,KAAK6gC,MAAMkB,IAAgB,GAAIV,GAE7DV,EAAec,gBAAgBzhC,KAAK6gC,MAAMkB,IAAgB,GAAIV,GAG1FrhC,KAAKihC,QAAQjhC,KAAKuB,MACXvB,MAUT2gC,EAAe3+B,UAAUggC,eAAiB,SAAU5S,EAAU6S,EAAQ1gC,GAChE,mBAAS6tB,KACXA,EAAW,CACTjsB,KAAMisB,IAIV,IAAI8S,EAAc,GAElB,GAAK3gC,GAAQA,IAASvB,KAAKuB,MAAiB,YAATA,EAoB5B,CAGL,KAFA2gC,EAAcliC,KAAK6gC,MAAMt/B,MAEJ2gC,EAAY5/B,OAE/B,OADAgY,QAAQC,KAAK,4EACNva,KAGT,IAAImiC,EAAWD,EAAY5/B,OAE3B,IAASlC,EAAI,EAAGA,EAAI+hC,EAAU/hC,IAAK,CAGjC,IAFI+gC,EAASe,EAAY9hC,IAEd+C,OAASisB,EAASjsB,MAAQg+B,IAAW/R,EAASjsB,KAMvD,OALIg+B,IAAW/R,EAASjsB,OAAMg+B,EAAS,CACrCh+B,KAAMg+B,IAERrgC,OAAO0S,OAAO2tB,EAAQc,GACtBC,EAAY9hC,GAAK+gC,EACVnhC,KAGLI,IAAM+hC,EAAW,GAAG7nB,QAAQC,KAAK,sEA1Cc,CAGrD,KAFA2nB,EAAcliC,KAAKghC,kBAEEkB,EAAY5/B,OAE/B,OADAgY,QAAQC,KAAK,4EACNva,KAKT,IAFA,IAAIoiC,EAAWF,EAAY5/B,OAElBlC,EAAI,EAAGA,EAAIgiC,EAAUhiC,IAAK,CACjC,IAAI+gC,EAEJ,IAFIA,EAASe,EAAY9hC,IAEd+C,OAASisB,EAASjsB,KAE3B,OADAg+B,EAAOzS,UAAUuT,GACVjiC,KAGLI,IAAMgiC,EAAW,GAAG9nB,QAAQC,KAAK,kEA4BzC,OAAOva,MAGT2gC,EAAe3+B,UAAUqgC,QAAU,WACjCriC,KAAK8uB,MAAQ,KACb9uB,KAAK6gC,MAAQ,KACb7gC,KAAKghC,eAAiB,KACtBhhC,KAAK4gC,WAAY,GAGZD,EAlPT,G,SCFI,GAEJ,SAAU2B,GAGR,SAASC,EAAap/B,EAAM6rB,GAC1B,IAAIM,EAAQgT,EAAO/hC,KAAKP,KAAMmD,EAAM6rB,IAAUhvB,KAM9C,OAJAsvB,EAAMloB,KAAO4nB,EAAM5nB,KACnBkoB,EAAMkT,QAAUxT,EAAMwT,QACtBlT,EAAMmT,QAAUzT,EAAMyT,QACtBnT,EAAMoT,OAAS1T,EAAM0T,OACdpT,EAGT,OAZA,YAAUiT,EAAcD,GAYjBC,EAbT,C,KAcE,GCjBSI,GAAW,SAAkBx/B,GACtC,MAAO,GAAG6B,OAAO7B,EAAM,KAAK6B,OAAOK,KAAKu9B,UAAU59B,OAAOiM,KAAKC,QAQrD,GAAgB,SAAuB6P,GAChD,IAAIgV,EAAM,EACNC,EAAO,EACPE,EAAQ,EACRD,EAAS,EAEb,GAAI,mBAASlV,GACXgV,EAAMC,EAAOE,EAAQD,EAASlV,OACzB,GAAI,mBAASA,GAAU,CAE5BgV,EAAMC,EAAOE,EAAQD,EADJ5qB,SAAS0V,EAAS,SAE1B,kBAAQA,KACjBgV,EAAMhV,EAAQ,GACdmV,EAAS,gBAAMnV,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACrCkV,EAAU,gBAAMlV,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACtCiV,EAAQ,gBAAMjV,EAAQ,IAAmBmV,EAAbnV,EAAQ,IAGtC,MAAO,CAACgV,EAAKG,EAAOD,EAAQD,IAOnB,GAAa,SAAoBjuB,GAC1C,IAAIinB,EAAQ,IAAI,GAAajnB,EAAE5E,KAAM4E,GASrC,OARAinB,EAAM6T,QAAU96B,EAAE86B,QAClB7T,EAAM8T,QAAU/6B,EAAE+6B,QAClB9T,EAAM/M,EAAIla,EAAEka,EACZ+M,EAAMpa,EAAI7M,EAAE6M,EACZoa,EAAMhB,OAASjmB,EAAEimB,OACjBgB,EAAM+T,cAAgBh7B,EAAEg7B,cACxB/T,EAAMgU,SAAU,EAChBhU,EAAM5nB,KAAOW,EAAEX,KACR4nB,GAOEiU,GAAoB,SAA2BnR,GAExD,IAAKA,EACH,OAAO,EAMT,IAHA,IACIoR,EAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEpC9iC,EAAI,EAAGA,EAHC,EAGeA,IAC9B,GAAI0xB,EAAO1xB,KAAO8iC,EAAc9iC,GAC9B,OAAO,EAIX,OAAO,GAEE,GAAQ,SAAe+iC,GAChC,OAAO74B,OAAO3E,MAAM2E,OAAO64B,KAOlBC,GAAuB,SAA8BC,GAM9D,IALA,IAAIC,EAAOx4B,IACPy4B,GAAQz4B,IACR04B,EAAO14B,IACP24B,GAAQ34B,IAEH1K,EAAI,EAAGA,EAAIijC,EAAM/gC,OAAQlC,IAAK,CACrC,IACIizB,EADUgQ,EAAMjjC,GACDu0B,UACfpB,EAAOF,EAAKE,KACZC,EAAOH,EAAKG,KACZe,EAAOlB,EAAKkB,KACZC,EAAOnB,EAAKmB,KAEZjB,EAAO+P,IACTA,EAAO/P,GAGLC,EAAOgQ,IACTA,EAAOhQ,GAGLe,EAAOgP,IACTA,EAAOhP,GAGLC,EAAOiP,IACTA,EAAOjP,GAQX,MAAO,CACLvS,EALM5c,KAAKqS,MAAM4rB,GAMjB1uB,EALMvP,KAAKqS,MAAM8rB,GAMjBjxB,MALUlN,KAAKq+B,KAAKH,GAAQl+B,KAAKqS,MAAM4rB,GAMvCxiB,OALWzb,KAAKq+B,KAAKD,GAAQp+B,KAAKqS,MAAM8rB,GAMxCjQ,KAAM+P,EACN9P,KAAMgQ,EACNjP,KAAMgP,EACN/O,KAAMiP,IAaCE,GAAuB,SAA8BzV,EAAO0V,EAAYC,EAAeC,EAAgBC,QAC7F,IAAfH,IACFA,EAAa,SAGO,IAAlBC,IACFA,EAAgB,kBAGK,IAAnBC,IACFA,OAAiB73B,QAGE,IAAjB83B,IACFA,OAAe93B,GAUjB,IAPA,IAAIxI,EAAMyqB,EAAM5rB,OACZ0hC,EAAmB,EAAbJ,EACNK,EAAe,CAAC,MAAO,YAAa,QAAS,eAAgB,SAAU,cAAe,OAAQ,YAC9FC,EAAU,GACVC,EAAO,GACPC,EAAW,GAENhkC,EAAI,EAAGA,EAAIqD,EAAKrD,IAAK,CAC5B,IAAIsgC,EAAOxS,EAAM9tB,GACb2tB,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACdqW,EAAe,GAAGr/B,OAAO+oB,EAAQ,KAAK/oB,OAAOgpB,GACjD,IAAImW,EAAK/jC,GAAT,CAEK8jC,EAAQG,KACXH,EAAQG,GAAgB,IAG1BF,EAAK/jC,IAAK,EACV8jC,EAAQG,GAAcvhC,KAAK49B,GAE3B,IAAK,IAAI/4B,EAAI,EAAGA,EAAIlE,EAAKkE,IACvB,GAAIvH,IAAMuH,EAAV,CACA,IAAI28B,EAAQpW,EAAMvmB,GACd2H,EAAMg1B,EAAMvW,OACZwW,EAAMD,EAAMtW,OAIXmW,EAAKx8B,KACJomB,IAAWwW,GAAOvW,IAAW1e,GAC/B40B,EAAQG,GAAcvhC,KAAKwhC,GAC3BH,EAAKx8B,IAAK,EACVy8B,EAAS,GAAGp/B,OAAOsK,EAAK,KAAKtK,OAAOu/B,EAAK,KAAKv/B,OAAOk/B,EAAQG,GAAc/hC,OAAS,KAAM,GACjFyrB,IAAWze,GAAO0e,IAAWuW,IACtCL,EAAQG,GAAcvhC,KAAKwhC,GAC3BH,EAAKx8B,IAAK,MAMlB,IAAK,IAAIhG,KAAOuiC,EAId,IAHA,IAAIM,EAAWN,EAAQviC,GACnBygC,EAAWoC,EAASliC,OAEfqB,EAAI,EAAGA,EAAIy+B,EAAUz+B,IAAK,CACjC,IAAI+9B,EAAU8C,EAAS7gC,GAEvB,GAAI+9B,EAAQ3T,SAAW2T,EAAQ1T,OAU/B,GAAiB,IAAboU,GAAkB0B,GAAkBpC,EAAQ3T,SAAW2T,EAAQ1T,OACjE0T,EAAQv+B,KAAO2gC,MADjB,CAKApC,EAAQv+B,KAAO0gC,EACf,IAAIvS,GAAQ3tB,EAAI,GAAM,EAAI,GAAK,IAAMygC,EAAS,GAAGp/B,OAAO08B,EAAQ3T,OAAQ,KAAK/oB,OAAO08B,EAAQ1T,OAAQ,KAAKhpB,OAAOrB,KAAO,EAAI,GAGzH+9B,EAAQ+C,YADNrC,EAAW,GAAM,EACG9Q,EAAOjsB,KAAKq+B,KAAK//B,EAAI,GAAKqgC,EAE1B1S,GAAQjsB,KAAKqS,MAAM/T,EAAI,GAAKqgC,EAAMJ,QApBpDG,IAAcrC,EAAQv+B,KAAO4gC,GAEjCrC,EAAQ3G,QAAU,CAChBC,SAAUiJ,EAAatgC,EAAI,GAC3BuK,KAA0B,GAApB7I,KAAKqS,MAAM/T,EAAI,GAAU,IAqBvC,OAAOuqB,GCiCM,GA3Pf,WACE,SAASwW,EAAe5V,GACtB9uB,KAAK4gC,WAAY,EACjB5gC,KAAK8uB,MAAQA,EACb9uB,KAAK4gC,WAAY,EAoPnB,OAhPA8D,EAAe1iC,UAAU2iC,cAAgB,WACvC,IAAI5jB,EAAU/gB,KAAK4kC,mBACf9V,EAAQ9uB,KAAK8uB,MACbvc,EAAQvS,KAAK8uB,MAAM7tB,IAAI,SACvB6f,EAASgO,EAAM7tB,IAAI,UACvB,MAAO,CACLghB,GAAI1P,EAAQwO,EAAQ,GAAKA,EAAQ,IAAM,EAAIA,EAAQ,GACnDnM,GAAIkM,EAASC,EAAQ,GAAKA,EAAQ,IAAM,EAAIA,EAAQ,KAIxD2jB,EAAe1iC,UAAU6iC,UAAY,WACnC,IAAI/V,EAAQ9uB,KAAK8uB,MACbmE,EAAQnE,EAAM7tB,IAAI,SACtBgyB,EAAM6R,cACN,IAAIzR,EAAOJ,EAAMK,gBACjB,GAAmB,IAAfD,EAAK9gB,OAA+B,IAAhB8gB,EAAKvS,OAA7B,CACA,IAAIikB,EAAa/kC,KAAK2kC,gBAClBK,EACC3R,EAAKpR,EAAIoR,EAAK9gB,MAAQ,EADvByyB,EAEC3R,EAAKze,EAAIye,EAAKvS,OAAS,EAE5BgO,EAAMkE,UAAU+R,EAAW9iB,EAAI+iB,EAAeD,EAAWnwB,EAAIowB,KAI/DN,EAAe1iC,UAAUijC,QAAU,WACjC,IAAInW,EAAQ9uB,KAAK8uB,MACb/N,EAAU/gB,KAAK4kC,mBACfryB,EAAQuc,EAAM7tB,IAAI,SAClB6f,EAASgO,EAAM7tB,IAAI,UACnBgyB,EAAQnE,EAAM7tB,IAAI,SACtBgyB,EAAM6R,cACN,IAAIzR,EAAOJ,EAAMK,gBACjB,GAAmB,IAAfD,EAAK9gB,OAA+B,IAAhB8gB,EAAKvS,OAA7B,CACA,IAAIikB,EAAa/kC,KAAK2kC,gBAClBK,EACC3R,EAAKpR,EAAIoR,EAAK9gB,MAAQ,EADvByyB,EAEC3R,EAAKze,EAAIye,EAAKvS,OAAS,EAE5BgO,EAAMkE,UAAU+R,EAAW9iB,EAAI+iB,EAAeD,EAAWnwB,EAAIowB,GAC7D,IAAIlL,GAAKvnB,EAAQwO,EAAQ,GAAKA,EAAQ,IAAMsS,EAAK9gB,MAC7CiF,GAAKsJ,EAASC,EAAQ,GAAKA,EAAQ,IAAMsS,EAAKvS,OAC9C0R,EAAQsH,EAERA,EAAItiB,IACNgb,EAAQhb,GAGVsX,EAAMoW,KAAK1S,EAAOuS,KAGpBL,EAAe1iC,UAAU4iC,iBAAmB,WAC1C,IAAI7jB,EAAU/gB,KAAK8uB,MAAM7tB,IAAI,kBAC7B,OAAO,GAAc8f,IAGvB2jB,EAAe1iC,UAAUmjC,WAAa,SAAUvU,EAAOwU,EAASC,GAC9D,IAAI/V,EAAQtvB,KAER+kC,EAAa/kC,KAAK2kC,gBAClBW,EAActlC,KAAKulC,iBAAiBR,EAAW9iB,EAAG8iB,EAAWnwB,GAC7D4wB,EAAiBxlC,KAAK8uB,MAAM7tB,IAAI,SAASmyB,YAG7C,GAFKoS,IAAgBA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAE3DJ,EAAS,CACX,IAAIK,GAAQH,EAAYrjB,EAAI2O,EAAM3O,GAAKujB,EAAe,GAClDE,GAAQJ,EAAY1wB,EAAIgc,EAAMhc,GAAK4wB,EAAe,GAClDG,EAAU,EACVC,EAAU,EACVC,EAAS,EACTC,EAAS,EAEb9lC,KAAK8uB,MAAM7tB,IAAI,UAAUmkC,SAAQ,SAAU5S,GACzCqT,EAASJ,EAAOjT,EAChBsT,EAASJ,EAAOlT,EAEhBlD,EAAMR,MAAMkE,UAAU6S,EAASF,EAASG,EAASF,GAEjDD,EAAUE,EACVD,EAAUE,IACT,YAAS,GAAIT,SAEhBrlC,KAAK8uB,MAAMkE,WAAWsS,EAAYrjB,EAAI2O,EAAM3O,GAAKujB,EAAe,IAAKF,EAAY1wB,EAAIgc,EAAMhc,GAAK4wB,EAAe,KAUnHd,EAAe1iC,UAAUujC,iBAAmB,SAAU/C,EAASC,GAC7D,IAAI+C,EAAiBxlC,KAAK8uB,MAAM7tB,IAAI,SAASmyB,YAU7C,OARKoS,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhC,EAAa,CACvBvjB,EAAGugB,EACH5tB,EAAG6tB,GACF+C,IAULd,EAAe1iC,UAAU+jC,iBAAmB,SAAUlD,EAASC,GAC7D,IACIkD,EADShmC,KAAK8uB,MAAM7tB,IAAI,UACH8kC,iBAAiBlD,EAASC,GACnD,OAAO9iC,KAAKulC,iBAAiBS,EAAY/jB,EAAG+jB,EAAYpxB,IAS1D8vB,EAAe1iC,UAAUikC,iBAAmB,SAAUhkB,EAAGrN,GACvD,IAAI6N,EAASziB,KAAK8uB,MAAM7tB,IAAI,UACxB+kC,EAAchmC,KAAKkmC,iBAAiBjkB,EAAGrN,GACvCgc,EAAQnO,EAAOwjB,iBAAiBD,EAAY/jB,EAAG+jB,EAAYpxB,GAC/D,MAAO,CACLqN,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,IAUb8vB,EAAe1iC,UAAUkkC,iBAAmB,SAAUjkB,EAAGrN,GACvD,IAAI4wB,EAAiBxlC,KAAK8uB,MAAM7tB,IAAI,SAASmyB,YAM7C,OAJKoS,IACHA,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGrC,EAAY,CACjBvjB,EAAGA,EACHrN,EAAGA,GACF4wB,IAULd,EAAe1iC,UAAUmkC,MAAQ,SAAU/+B,EAAMg+B,EAASC,GAKxD,GAJI,mBAASj+B,KACXA,EAAOpH,KAAK8uB,MAAMyQ,SAASn4B,IAGzBA,EAAM,CACR,IAAI6a,EAAI,EACJrN,EAAI,EAER,GAAIxN,EAAKiF,SAA8B,SAAnBjF,EAAKiF,UAAsB,CAC7C,IAAI+5B,EAAeh/B,EAAKi/B,YAAYplC,IAAI,SAASmyB,YAC7CkT,EAAel/B,EAAKm/B,YAAYtlC,IAAI,SAASmyB,YAE7CgT,GAAgBE,GAClBrkB,GAAKmkB,EAAa,GAAKE,EAAa,IAAM,EAC1C1xB,GAAKwxB,EAAa,GAAKE,EAAa,IAAM,IACjCF,GAAgBE,KACzBrkB,EAAImkB,EAAeA,EAAa,GAAKE,EAAa,GAClD1xB,EAAIwxB,EAAeA,EAAa,GAAKE,EAAa,QAE/C,CACL,IACIxU,EADQ1qB,EAAKnG,IAAI,SACFmyB,YACdtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C7P,EAAI6P,EAAO,GACXld,EAAIkd,EAAO,GAIb9xB,KAAKmlC,WAAW,CACdljB,EAAGA,EACHrN,EAAGA,GACFwwB,EAASC,KAUhBX,EAAe1iC,UAAUwkC,WAAa,SAAUj0B,EAAOuO,GACrD,IAAIgO,EAAQ9uB,KAAK8uB,MAEjB,IAAK,mBAASvc,KAAW,mBAASuO,GAChC,MAAMzJ,MAAM,iFAGdyX,EAAMxnB,IAAI,CACRiL,MAAOA,EACPuO,OAAQA,IAEGgO,EAAM7tB,IAAI,UAChBulC,WAAWj0B,EAAOuO,GAEXgO,EAAM7tB,IAAI,WAChBwP,SAAQ,SAAUg2B,GACxB,GAAIA,EAAOxlC,IAAI,iBAAkB,CAC/B,IAAIylC,EAAU5X,EAAM7tB,IAAI,WACxB,aAAUwlC,EAAOxlC,IAAI,aAAc,CACjCsR,MAAO,GAAGvN,OAAOuN,EAAO,MACxBuO,OAAQ,GAAG9b,OAAO8b,EAAQ,QAE5B,aAAU2lB,EAAOxlC,IAAI,iBAAkB,CACrCsR,MAAO,GAAGvN,OAAOuN,EAAQm0B,EAAS,MAClC5lB,OAAQ,GAAG9b,OAAO8b,EAAS4lB,EAAS,MACpC1Q,KAAM,EACND,IAAK,SAMb2O,EAAe1iC,UAAUqgC,QAAU,WACjCriC,KAAK8uB,MAAQ,KACb9uB,KAAK4gC,WAAY,GAGZ8D,EAxPT,GCRA,SAASnY,GAAQ1oB,GAAkC,OAAO0oB,GAAU,mBAAqBprB,QAAU,iBAAmBA,OAAOiU,SAAW,SAAUvR,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB1C,QAAU0C,EAAIiJ,cAAgB3L,QAAU0C,IAAQ1C,OAAOa,UAAY,gBAAkB6B,IAAgBA,GAczU,SAAS8iC,GAAeh1B,GACtB,GAAoB,iBAATA,EACT,OAAOA,EAGT,IAAIi1B,EAAY,SAAmBngC,GACjC,GAAmB,iBAARA,EACT,OAAOA,EAGT,IACE,OAAOogC,KAAKC,MAAMrgC,EAAIsgC,QACtB,MAAOh/B,GACP,OAAOtB,EAAIsgC,SAIXC,EAAeJ,EAAUj1B,GAE7B,GAA4B,iBAAjBq1B,EACT,OAAOA,EA+BT,IA5BA,IAAIC,EAAO,SAAczkC,GACvB,OAAOA,EAAIA,EAAIF,OAAS,IAGtBmE,EAAMkL,EAAKo1B,OACXG,EAAc,GACdC,EAAc,GAEdC,EAAa,WAGf,IAFA,IAAIC,EAAW,GAENhQ,EAAK,EAAGA,EAAKtoB,UAAUzM,OAAQ+0B,IACtCgQ,EAAShQ,GAAMtoB,UAAUsoB,GAG3B,OAAOgQ,EAASn/B,MAAK,SAAUo/B,GAC7B,OAAOL,EAAKE,KAAiBG,MAQ7BxiC,EAAM,KACN1E,EAAI,EACJmnC,EAAO,GAEJnnC,EAAIqG,EAAInE,QAAQ,CACrB,IAAIklC,EAAU/gC,EAAIrG,GACdqnC,EAAaL,EAAW,IAAK,KAEjC,GAAKK,GAAeD,EAAQT,OAA5B,CAKA,IAAIW,EAAiC,OAAfjhC,EAAIrG,EAAI,GAC1BunC,EAAaP,EAAW,KACxBQ,EAAYR,EAAW,KACvBS,EAAiBT,EAAW,KAC5BU,EApBGb,EAAKC,GAsBZ,GAAIO,EACF,GAAIR,EAAKE,KAAiBK,GAAYE,EAOpCH,GAAQC,MAP6C,CACrDL,EAAY7xB,MACZ,IAAIjU,EAAQulC,EAAUW,GACtBO,EAAQhlC,KAAKzB,GACbyD,EAAMzD,EACNkmC,EAAO,QAIJ,GAAIK,GAAyB,MAAZJ,EAClBD,IACFO,EAAQhlC,KAAK8jC,EAAUW,IACvBA,EAAO,SAEJ,GAAII,GAA0B,MAAZH,EACvBL,EAAYrkC,KAAK,KAEbykC,IACFO,EAAQhlC,KAAKykC,GACbA,EAAO,SAEJ,GAAIM,GAA8B,MAAZL,EACvBD,IACFO,EAAQhlC,KAAK8jC,EAAUW,IACvBA,EAAO,IAGTJ,EAAY7xB,WACP,GAAgB,MAAZkyB,IAAoBG,GAAcE,GAAiB,CACxDN,IACFO,EAAQhlC,KAAK8jC,EAAUW,IACvBA,EAAO,IAGLM,GACFV,EAAY7xB,MAKd,IAFA,IAAIzR,EAAM,GAEDpD,EAAI,EAAGA,EAAIqnC,EAAQxlC,OAAQ7B,GAAK,EACvCoD,EAAIikC,EAAQrnC,EAAI,IAAMqnC,EAAQrnC,GAGhCymC,EAAY5xB,MAER4xB,EAAY5kC,QACd2kC,EAAKC,GAAapkC,KAAKe,GAGzBsjC,EAAY7xB,MACZxQ,EAAMjB,MACe,MAAZ2jC,GAAmBI,GACxBL,IACFO,EAAQhlC,KAAK8jC,EAAUW,IACvBA,EAAO,IAGTL,EAAY5xB,MAER4xB,EAAY5kC,QACd2kC,EAAKC,GAAapkC,KAAKglC,GAGzBX,EAAY7xB,MACZxQ,EAAMgjC,GACe,MAAZN,GACTN,EAAYpkC,KAAK,IACjBqkC,EAAYrkC,KAAK,MACI,MAAZ0kC,GACTN,EAAYpkC,KAAK,IACjBqkC,EAAYrkC,KAAK,MACI,MAAZ0kC,EACTL,EAAYrkC,KAAK,KACI,MAAZ0kC,EACTL,EAAYrkC,KAAK,KAEjBykC,GAAQC,EAGVpnC,GAAK,OA3FHA,GAAK,EA8FT,OAAO0E,GAAOyiC,EAqLT,SAASQ,GAAe/Z,EAAQga,GACrC,IAAI5uB,OAEe,IAAf4uB,IACFA,EAAa,CACX/lB,EAAG,EACHrN,EAAG,IAIP,IAAIqzB,EAAc,YAAS,CACzBhmB,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,GACPknB,GAEH,GAA+B,QAA1B5uB,EAAK4U,EAAOI,gBAA6B,IAAPhV,OAAgB,EAASA,EAAG9W,OAAQ,CACzE,IAAI4lC,EAAKla,EAAOhqB,MACZA,OAAe,IAAPkkC,EAAgB,GAAKA,EAC7BC,EAAYnkC,EAAMmkC,UAElB9pB,EAAS,YAAS,GAAI2pB,GAEtBG,IACF9pB,EAAOzJ,GAAKuzB,GAGd,IAAK,IAAItlC,EAAQ,EAAGA,EAAQmrB,EAAOI,SAAS9rB,OAAQO,IAAS,CAC3DmrB,EAAOI,SAASvrB,GAAOmB,MAAMrC,IAAM,GAAGqD,OAAOhB,EAAMrC,KAAO,OAAQ,MAAMqD,OAAOnC,EAAO,KACtF,IAAIgwB,EAAOkV,GAAe/Z,EAAOI,SAASvrB,GAAQwb,GAElD,GAAIwU,EAAKQ,KAAM,CACb,IAAIA,EAAOR,EAAKQ,KAEQ,WAApBR,EAAK7uB,MAAMsQ,KACb+J,EAAO4D,GAAK4Q,EAAKQ,KAAK9gB,MAEtB8L,EAAOzJ,GAAKie,EAAKQ,KAAKvS,OAGpBuS,EAAK9gB,MAAQ8gB,EAAKpR,EAAIgmB,EAAY11B,QACpC01B,EAAY11B,MAAQ8gB,EAAK9gB,MAAQ8gB,EAAKpR,GAGpCoR,EAAKvS,OAASuS,EAAKze,EAAIqzB,EAAYnnB,SACrCmnB,EAAYnnB,OAASuS,EAAKvS,OAASuS,EAAKze,KAQhD,OAFAoZ,EAAOqF,KA3HF,SAAiBR,EAAMxU,EAAQ+pB,GACpC,IAQIC,EAAaC,EARblvB,EAAKyZ,EAAK7uB,MACVA,OAAe,IAAPoV,EAAgB,GAAKA,EAC7Bia,EAAO,CACTpR,EAAG5D,EAAO4D,GAAK,EACfrN,EAAGyJ,EAAOzJ,GAAK,EACfrC,MAAO61B,EAAY71B,OAAS,EAC5BuO,OAAQsnB,EAAYtnB,QAAU,GAIhC,OAAQ+R,EAAK1vB,MACX,IAAK,QACL,IAAK,SACCa,EAAM9C,IACRonC,EAAa,EAAItkC,EAAM9C,EACvBmnC,EAAc,EAAIrkC,EAAM9C,GAG1B,MAEF,IAAK,OACC8C,EAAM2N,OACR22B,EAAarL,GAAYj5B,EAAM2N,KAAM3N,EAAMoO,UAAY,IAAI,GAC3Di2B,EAAc,GACdhV,EAAKze,GAAKyzB,EACVhV,EAAKvS,OAASunB,EACdhV,EAAK9gB,MAAQ+1B,EACbzV,EAAK7uB,MAAQ,YAAS,CACpBoO,SAAU,GACV8L,KAAM,QACLla,IAGL,MAEF,QACMA,EAAMuO,QACR+1B,EAAatkC,EAAMuO,OAGjBvO,EAAM8c,SACRunB,EAAcrkC,EAAM8c,QAqB1B,OAhBIunB,GAAe,IACjBhV,EAAKvS,OAASunB,GAGZC,GAAc,IAChBjV,EAAK9gB,MAAQ+1B,GAGXtkC,EAAMmkC,YACR9U,EAAKze,GAAK5Q,EAAMmkC,WAGdnkC,EAAMukC,aACRlV,EAAKpR,GAAKje,EAAMukC,YAGXlV,EA4DO,CAAQrF,EAAQga,EAAYC,GAC1Cja,EAAOhqB,MAAQ,YAAS,YAAS,GAAIgqB,EAAOhqB,OAAQgqB,EAAOqF,MACpDrF,EA8FF,SAASwa,GAAkBC,GAChC,IAAIC,EAAa,GAEbC,EAAa,SAAoBvrB,GACnC,IACI4Q,EAhUqB,SAAyB4a,GACpD,OAAO,SAAU/jC,GAMf,IALA,IAAIpB,EAAMmlC,EAAItmC,OACVE,EAAM,GACNpC,EAAI,EACJwF,EAAM,GAEHxF,EAAIqD,GACT,GAAe,MAAXmlC,EAAIxoC,IAA6B,MAAfwoC,EAAIxoC,EAAI,GAC5BoC,EAAIM,KAAK8C,GACTA,EAAM,GACNxF,GAAK,OACA,GAAe,MAAXwoC,EAAIxoC,IAA6B,MAAfwoC,EAAIxoC,EAAI,GAAY,CAC/C,GAAIoC,EAAIF,OAAQ,CACd,IAAI8D,EAAO5D,EAAI8S,MACf1P,EAAM,cAAIf,EAAMe,EAAKQ,EAAK4B,SAAS,KAAO,KAAMhD,OAAOY,EAAK,MAASA,GACrEpD,EAAIM,KAAKsD,EAAOR,GAGlBxF,GAAK,EACLwF,EAAM,QAENA,GAAOgjC,EAAIxoC,GACXA,GAAK,EAKT,OADAoC,EAAIM,KAAK8C,GACFpD,EAAI+N,KAAI,SAAUxI,EAAGlF,GAC1B,OAAOL,EAAIK,EAAQ,IAAML,EAAIK,EAAQ,GAAGmF,SAAS,KAAO,KAAMhD,OAAO+C,EAAG,MAASA,KAChFsK,KAAK,KAkSK,CADe,mBAARo2B,EAAqBA,EAAIrrB,GAAOqrB,EACvC,CAAwBrrB,GAEjCyrB,EAAY52B,SAASC,cAAc,OACvC22B,EAAUC,UAAY9a,EACtB,IACIprB,EAASmlC,GA/RV,SAASgB,EAASH,EAAKxrB,GAC5B,IAAIpZ,EAAQ,GACRJ,EAAOglC,EAAII,mBAAqBJ,EAAII,qBAAuB,GAC3D5a,EAAWwa,EAAIxa,UAAY/qB,MAAMuS,KAAKgzB,EAAIxa,UAAU7d,KAAI,SAAUxI,GACpE,OAAOghC,EAAShhC,EAAGqV,MAEjBtY,EAAM,GACNmkC,EAAUL,EAAIK,QAAUL,EAAIK,QAAQv9B,cAAgB,QA6CxD,MA3CgB,SAAZu9B,IACFjlC,EAAM2N,KAAOi3B,EAAIM,WAGnBpkC,EAAI3B,KAAO8lC,EAEK,QAAZA,IACFnkC,EAAI3B,KAAO,SAGbE,MAAMuS,KAAKhS,GAAM6M,SAAQ,SAAU9M,GACjC,IAAIhC,EAAiBgC,EApEZ6E,MAAM,KAAKtD,QAAO,SAAUT,EAAGmC,GACxC,OAAOnC,EAAImC,EAAEgF,OAAO,GAAGO,cAAgBvF,EAAEoF,MAAM,MAoE3CpE,EAAMghC,EAAIO,aAAaxlC,GAE3B,IACE,GAAY,UAARhC,GAA2B,UAARA,EAAiB,CACtC,IAAIsc,EAAQ0oB,GAAe/+B,GAC3B5D,EAAQ,YAAS,YAAS,GAAIA,GAAQia,QAEtCnZ,EAAInD,GAAOglC,GAAe/+B,GAE5B,MAAOG,GACP,GAAY,UAARpG,EACF,MAAMoG,EAGRjD,EAAInD,GAAOiG,MAGf9C,EAAId,MAAQA,EAERoZ,GAAOA,EAAIa,OAASnZ,EAAInE,MAAyC,WAAjC4rB,GAAQnP,EAAIa,MAAMnZ,EAAInE,SACxDmE,EAAId,MAAQ,YAAS,YAAS,GAAIc,EAAId,OAAQoZ,EAAIa,MAAMnZ,EAAInE,QAG1Dyc,GAAOA,EAAIa,OAASnZ,EAAIskC,WAC1BtkC,EAAId,MAAQ,YAAS,YAAS,GAAIc,EAAId,OAAQoZ,EAAIa,QAGhDmQ,EAAS9rB,SACXwC,EAAIspB,SAAWA,GAGVtpB,EA2OuBikC,CADlBF,EAAUza,SAAS,GACahR,IAE1C,OADAyrB,EAAUriC,SACH5D,GAGT,MAAO,CACLymC,KAAM,SAAcjsB,EAAK6V,GACvB,IAAIqW,EAAeX,EAAWvrB,GAC1BgsB,EAAWnW,EAkCf,OAhCmB,SAASsW,EAAavb,GACvC,IAAI5U,EAAK4U,EAAOhqB,MACZA,OAAe,IAAPoV,EAAgB,GAAKA,EAC7Bia,EAAOrF,EAAOqF,KACdlwB,EAAO6qB,EAAO7qB,KACdirB,EAAWJ,EAAOI,SAClBob,EAAO,YAAOxb,EAAQ,CAAC,QAAS,OAAQ,OAAQ,aAEpD,GAAoB,UAAhBA,EAAO7qB,KAAkB,CAC3B,IAAI2Z,EAAQmW,EAAMwW,SAASzb,EAAO7qB,KAAM,YAAS,CAC/Ca,MAAOA,EACP0lC,OAAQ,CACNrW,KAAMA,EACNlwB,KAAMA,EACNirB,SAAUA,IAEXob,IAECxb,EAAOob,WACTA,EAAWtsB,GAIXkR,EAAOI,UACTJ,EAAOI,SAAS3d,SAAQ,SAAU5O,GAChC,OAAO0nC,EAAa1nC,MAK1B0nC,CAAaD,GACbZ,EAAWtrB,EAAI+Q,IAAM,CAACmb,GACfF,GAETO,OAAQ,SAAgBvsB,EAAKyV,GACtB6V,EAAWtrB,EAAI+Q,MAClBua,EAAWtrB,EAAI+Q,IAAM,IAGvB,IAAItR,EAAYgW,EAAK+W,eACjBxb,EAAWvR,EAAU5b,IAAI,YACzB4oC,EAAYlB,EAAWvrB,GAEvB0sB,EApJH,SAASC,EAAiBC,EAAWC,GAC1C,IAAI7wB,EAAI8uB,EAAIgC,EAAIC,EAEZhnC,GAAQ6mC,GAAa,IAAI7mC,KACzBxB,IAAQsoC,aAAmD,EAASA,EAAajmC,QAAU,IAAIrC,IAMnG,GAJIA,GAAOqoC,IACTA,EAAUhmC,MAAMrC,IAAMA,IAGnBqoC,GAAaC,EAChB,MAAO,CACLnhC,OAAQ,SACRlB,IAAKqiC,EACL9mC,KAAMA,EACNxB,IAAKA,GAIT,GAAIqoC,IAAcC,EAChB,MAAO,CACLnhC,OAAQ,MACRlB,IAAKoiC,EACL7mC,KAAMA,GAIV,IAAK6mC,IAAcC,EACjB,MAAO,CACLnhC,OAAQ,OACR3F,KAAMA,GAIV,IAAIirB,EAAW,GAEf,IAAmC,QAA7BhV,EAAK4wB,EAAU5b,gBAA6B,IAAPhV,OAAgB,EAASA,EAAG9W,QAAU,IAAuC,QAAhC4lC,EAAK+B,EAAa7b,gBAA6B,IAAP8Z,OAAgB,EAASA,EAAG5lC,QAAU,EAKpK,IAJA,IAAI8/B,EAAW/8B,KAAKC,IAAkC,QAA7B4kC,EAAKF,EAAU5b,gBAA6B,IAAP8b,OAAgB,EAASA,EAAG5nC,OAAyC,QAAhC6nC,EAAKF,EAAa7b,gBAA6B,IAAP+b,OAAgB,EAASA,EAAG7nC,QACnK8nC,EAAgBH,EAAa7b,UAAY,GACzCic,EAAaL,EAAU5b,UAAY,GAE9BvrB,EAAQ,EAAGA,EAAQu/B,EAAUv/B,GAAS,EAC7CurB,EAAStrB,KAAKinC,EAAiBM,EAAWxnC,GAAQunC,EAAcvnC,KAIpE,IAAIynC,EAAaxpC,OAAO8C,KAAKqmC,EAAajmC,OACtCumC,EAAUzpC,OAAO8C,KAAKomC,EAAUhmC,OAEpC,OAAIimC,EAAa9mC,OAAS6mC,EAAU7mC,KAC3B,CACL2F,OAAQ,cACRkhC,UAAWA,EACXC,aAAcA,EACdtoC,IAAKA,EACLysB,SAAUA,GAIVkc,EAAW5nC,QAAO,SAAUqF,GAC9B,MAAa,aAANA,KACNG,MAAK,SAAUH,GAChB,OAAOiiC,EAAUhmC,MAAM+D,KAAOkiC,EAAajmC,MAAM+D,KAAOwiC,EAAQz5B,SAAS/I,MAElE,CACLe,OAAQ,SACRlB,IAAKoiC,EACL5b,SAAUA,EACVjrB,KAAMA,EACNxB,IAAKA,GAIF,CACLmH,OAAQ,OACRslB,SAAUA,EACVjrB,KAAMA,EACNxB,IAAKA,GAuEcooC,CAAiBF,EADjBnB,EAAWtrB,EAAI+Q,IAAI7Y,OAGhCm0B,EAAW,SAASA,EAAS3sB,GAC/B,IAAI1D,EAEe,UAAf0D,EAAM3Z,MACR0Z,EAAU4sB,SAAS3sB,EAAM3Z,KAAM,CAC7Ba,MAAO8Y,EAAM9Y,SAIa,QAAzBoV,EAAK0D,EAAMsR,gBAA6B,IAAPhV,OAAgB,EAASA,EAAG9W,SAChEwa,EAAMsR,SAAS7d,KAAI,SAAUxI,GAC3B,OAAO0hC,EAAS1hC,OAKlByiC,EAAW,SAASA,EAAS1tB,GAC/B,IAAI1D,EAEAqxB,EAAcrc,EAAS9pB,MAAK,SAAUyD,GACxC,OAAOA,EAAE/D,MAAMrC,MAAQmb,EAAM9Y,MAAMrC,OAGjC8oC,GACF5tB,EAAU6tB,YAAYD,IAGM,QAAzBrxB,EAAK0D,EAAMsR,gBAA6B,IAAPhV,OAAgB,EAASA,EAAG9W,SAChEwa,EAAMsR,SAAS7d,KAAI,SAAUxI,GAC3B,OAAOyiC,EAASziC,QAKH,SAAS4iC,EAAa3c,GACvC,IAAIrsB,EAAMqsB,EAAOrsB,IAEjB,GAAoB,UAAhBqsB,EAAO7qB,KAAkB,CAC3B,IAAIsnC,EAAcrc,EAAS9pB,MAAK,SAAUyD,GACxC,OAAOA,EAAE/D,MAAMrC,MAAQA,KAGzB,OAAQqsB,EAAOllB,QACb,IAAK,SACH,GAAI2hC,EAAa,CACf,IAAIG,EAAa5c,EAAOpmB,IAAIwhC,SAAWvW,EAAKgY,iBAAmB,GAC/DJ,EAAYK,KAAK,YAAS,YAAS,GAAIF,GAAa5c,EAAOpmB,IAAI5D,QAGjE,MAEF,IAAK,MACHylC,EAASzb,EAAOpmB,KAChB,MAEF,IAAK,SACH4iC,EAASxc,EAAOpmB,KAChB,MAEF,IAAK,cACH4iC,EAASxc,EAAOic,cAChBR,EAASzb,EAAOgc,YAQlBhc,EAAOI,UACTJ,EAAOI,SAAS3d,SAAQ,SAAU5O,GAChC,OAAO8oC,EAAa9oC,MAK1B8oC,CAAab,GACbpB,EAAWtrB,EAAI+Q,IAAIrrB,KAAK+mC,IAE1BkB,gBAAiB,WACf,MAAO,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,IAAM,CAAC,GAAK,GAAI,CAAC,GAAK,MC3nBlD,IAAI,GAAQ,GAGZ,SAASC,GAAQvkC,GAKf,OAJK,GAAMA,KACT,GAAMA,GAAO,qBAAWA,IAGnB,GAAMA,GAQR,IAAIwkC,GAAmB,CAK5BC,iBAAkB,cAMlBC,UAAW,KAOXC,SAAU,SAAkBjoC,GAG1B,OAFWnD,KACMmD,IADNnD,UACyBkrC,mBADzBlrC,KACmD,kBAWhEqpC,KAAM,SAAclmC,EAAMia,EAAK6V,GAC7B,IAAInW,EAAQ9c,KAAKorC,SAASjoC,GACtB2B,EAAMgY,EAAMusB,KAAKjsB,EAAK6V,GAM1B,OAJInW,EAAMuuB,WACRvuB,EAAMuuB,UAAUjuB,EAAK6V,EAAOnuB,GAGvBA,GASTwmC,WAAY,SAAoBnoC,EAAMia,EAAKhW,GACzC,IAAI0V,EAAQ9c,KAAKorC,SAASjoC,GAEtB2Z,EAAM6sB,QAER7sB,EAAM6sB,OAAOvsB,EAAKhW,GAGhB0V,EAAMyuB,aACRzuB,EAAMyuB,YAAYnuB,EAAKhW,IAW3BokC,SAAU,SAAkBroC,EAAMxC,EAAMU,EAAO+F,GACjCpH,KAAKorC,SAASjoC,GAEpBqoC,SAAS7qC,EAAMU,EAAO+F,IAQ9BwnB,aAAc,SAAsBzrB,GAElC,QADYnD,KAAKorC,SAASjoC,GACXwmC,QAEjB8B,iBAAkB,SAA0BtoC,EAAMia,GAEhD,OADYpd,KAAKorC,SAASjoC,GACbsoC,iBAAiBruB,IAShC2tB,gBAAiB,SAAyB5nC,EAAMia,GAE9C,OADYpd,KAAKorC,SAASjoC,GACb4nC,gBAAgB3tB,KAO7BsuB,GAAiB,CAEnB36B,QAAS,GAKTs4B,KAAM,SAAcjsB,EAAK6V,GACvB,OAAOjzB,KAAK2rC,UAAUvuB,EAAK6V,IAM7B0Y,UAAW,aAOXN,UAAW,aAIXE,YAAa,aAObC,SAAU,aASVC,iBAAkB,SAA0BruB,GAC1C,OAAOA,EAAIgf,eAQb2O,gBAAiB,SAAyB3tB,GACxC,IAAIwuB,EAAsB5rC,KAAK+Q,QAAQ4uB,aAEvC,OADmBviB,EAAIuiB,cAAgBiM,IAUvC,GAEJ,WACE,SAASC,KAiET,OA/DAA,EAAMC,gBAAkB,SAAUC,EAAa3uB,GAC7C,IAAI+tB,EAAYH,GAAQe,GACpBC,EAAcf,GAEdgB,EAAe,YAAS,YAAS,GAAID,GAAc5uB,GAIvD,OAFAyuB,EAAMV,GAAac,EACnBA,EAAad,UAAYA,EAClBc,GAGTJ,EAAMK,WAAa,SAAUH,GAE3B,OAAOF,EADSb,GAAQe,KAI1BF,EAAMM,aAAe,SAAUC,EAAWC,EAAgBC,GACxD,IACIC,EADAN,EAAeJ,EAAMW,KAGzB,GAA8B,iBAAnBH,GAAyD,mBAAnBA,EAA+B,CAC9E,IAAII,EAAqBjE,GAAkB6D,GAC3CE,EAAW,YAAS,YAAS,GAAIN,EAAab,SAAS,gBAAiBqB,QACnE,GAAIJ,EAAeK,IAAK,CAEzBD,EAAqBjE,GADf6D,EAAeK,KAEzBH,EAAW,YAAS,YAAS,YAAS,GAAIN,EAAab,SAAS,gBAAiBqB,GAAqBJ,OACjG,CACLJ,EAAab,SAASkB,GACtB,IAAIK,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAC7Ea,EAAW,YAAS,YAAS,GAAII,GAAcN,GAMjD,OAHAE,EAASppC,KAAOipC,EAChBG,EAAS/O,SAAW,OACpByO,EAAaG,GAAaG,EACnBA,GAGTV,EAAMe,aAAe,SAAUR,EAAWS,EAAgBP,GACxD,IAAIL,EAAeJ,EAAMiB,KACrBH,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAEzEa,EAAW,YAAS,YAAS,GAAII,GAAcE,GAKnD,OAHAN,EAASppC,KAAOipC,EAChBG,EAAS/O,SAAW,OACpByO,EAAaG,GAAaG,EACnBA,GAGTV,EAAMkB,cAAgB,SAAUX,EAAWY,EAAiBV,GAC1D,IAAIL,EAAeJ,EAAMoB,MACrBN,EAAcL,EAAkBL,EAAab,SAASkB,GAAmBZ,GAEzEa,EAAW,YAAS,YAAS,GAAII,GAAcK,GAKnD,OAHAT,EAASppC,KAAOipC,EAChBG,EAAS/O,SAAW,QACpByO,EAAaG,GAAaG,EACnBA,GAGFV,EAlET,GAqEe,MAEf,GAAMC,gBAAgB,OAAQ,CAC5BZ,iBAAkB,WAGpB,GAAMY,gBAAgB,OAAQ,CAC5BZ,iBAAkB,SAGpB,GAAMY,gBAAgB,QAAS,CAC7BZ,iBAAkB,WCpQpB,IAy0Be,GAn0Bf,WACE,SAASgC,EAAS9vB,GAChBpd,KAAKmtC,KAAO,GACZntC,KAAK4gC,WAAY,EACjB,IAAIwM,EAAa,CAKfjf,QAAIliB,EAMJ9I,KAAM,OAMNiU,MAAO,GAMP6b,WAAOhnB,EAMPm5B,SAAS,EAMT/nB,SAAS,EAMTgwB,QAAQ,EAMRre,OAAO,EAMPse,cAAUrhC,EAMVshC,OAAQ,IAEVvtC,KAAKmtC,KAAOrsC,OAAO0S,OAAO45B,EAAYptC,KAAKwuB,gBAAiBpR,GAC5D,IAAIhG,EAAQpX,KAAKiB,IAAI,SACjBktB,EAAK/W,EAAM+W,GACXqP,EAAWx9B,KAAKiB,IAAI,QAEnBktB,IACHA,EAAKwU,GAASnF,GACdx9B,KAAKiB,IAAI,SAASktB,GAAKA,GAGzBnuB,KAAKsH,IAAI,KAAM6mB,GACf,IAAI8E,EAAQ7V,EAAI6V,MAEZA,IACFA,EAAM3rB,IAAI,OAAQtH,MAClBizB,EAAM3rB,IAAI,KAAM6mB,IAGlBnuB,KAAKuG,OACLvG,KAAKqpC,OACL,IAAI+C,EAAYh1B,EAAM0F,OAAS1F,EAAMjU,OAAsB,SAAbq6B,EAAsB,OAAS,UACzEyO,EAAejsC,KAAKiB,IAAI,gBAE5B,GAAIgrC,GAAgBA,EAAaG,GAAY,CAC3C,IAAIr7B,EAAUk7B,EAAaG,GAAWr7B,QAEtC,GAAIA,GAAWA,EAAQy8B,YAAa,CAClC,IAAIC,EAASztC,KAAKiB,IAAI,WAAamW,EAAMo2B,YACzCC,EAAS,kBAAQ,GAAI18B,EAAQy8B,YAAaC,GAC1CztC,KAAKsH,IAAI,SAAUmmC,KAkuBzB,OAztBAP,EAASlrC,UAAU0rC,cAAgB,WACjC,IAAIJ,EAAWttC,KAAKiB,IAAI,YACpBgyB,EAAQjzB,KAAKiB,IAAI,SAEjBoyB,EAAO,GAAQia,EAAUra,GAO7B,OANAI,EAAKpR,EAAIoR,EAAKE,KACdF,EAAKze,EAAIye,EAAKG,KACdH,EAAK9gB,MAAQ8gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKvS,OAASuS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAClCnB,GAOT6Z,EAASlrC,UAAU2rC,oBAAsB,WACvC,IAAIL,EAAWttC,KAAKiB,IAAI,YACpBgyB,EAAQjzB,KAAKiB,IAAI,SAEjBoyB,EAAO,GAAQia,EAAUra,GAO7B,OANAI,EAAKpR,EAAIoR,EAAKE,KACdF,EAAKze,EAAIye,EAAKG,KACdH,EAAK9gB,MAAQ8gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKvS,OAASuS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAClCnB,GAOT6Z,EAASlrC,UAAU4rC,UAAY,WAC7B,IACI3B,EADOjsC,KACaiB,IAAI,gBACxBgyB,EAFOjzB,KAEMiB,IAAI,SACjBmW,EAHOpX,KAGMiB,IAAI,SACrBgyB,EAAM4a,QACN,IAAIxwB,EAAUjG,EAAMiG,QAGpB,QAFgBpR,IAAZoR,GAA0BA,GANnBrd,KAMiC8tC,iBAAiBzwB,GAExD4uB,EAAL,CARWjsC,KAYN+tC,eAAe32B,GACpB,IAAIgG,EAbOpd,KAaIguC,YAAY52B,GAEvBg1B,EAAYhvB,EAAIja,KAChBmqC,EAAWrB,EAAa5C,KAAK+C,EAAWhvB,EAAK6V,GAE7Cqa,IAlBOttC,KAmBJsH,IAAI,WAAYgmC,GACrBA,EAAShmC,IAAI,cAAc,GAC3BgmC,EAAShmC,IAAI,aAAa,IAG5BtH,KAAKiuC,iBAELjuC,KAAKsH,IAAI,eAAgB8kC,GACzBpsC,KAAKkuC,cAAcjC,EAAcG,KASnCc,EAASlrC,UAAUisC,eAAiB,WAClC,IACI7f,EADQpuB,KAAKiB,IAAI,SACAA,IAAI,YACrBqsC,EAAWttC,KAAK86B,cAChB5gB,EAAOla,KACPmuC,EAAeb,EAASrsC,IAAI,QAEhC,GAAKjB,KAAKiB,IAAI,eA6BP,CAGL,IAAImtC,EAAWpuC,KAAK6qC,iBAEhBsD,IAAiBC,EAASD,KAAeC,EAASD,GAAgB,IAEtE,IAAIE,EAAuBruC,KAAKsuC,wBAEhC,eAAKlgB,GAAU,SAAUiQ,GACvB,IAAI19B,EAAO09B,EAAMp9B,IAAI,QACjBstC,EAAalQ,EAAMyM,OAEvB,GAAInqC,GAAQA,IAASwtC,EAAc,CAEjC,IAAIK,EAAoBH,EAAqB1tC,GACxCytC,EAASztC,KAAOytC,EAASztC,GAAQ,IAElC6tC,EACF1tC,OAAO8C,KAAK2qC,GAAY99B,SAAQ,SAAU9O,GACxC,IAAIN,EAAQktC,EAAW5sC,GACnBN,IAAUmtC,EAAkB7sC,KAAMysC,EAASztC,GAAMgB,GAAON,MAG9D+sC,EAASztC,GAA8B,UAAtB09B,EAAMp9B,IAAI,QAAsB,gBAAMstC,GAAcr0B,EAAKu0B,oBAAoB9tC,OAE3F,CACL,IAAI+tC,EAAerQ,EAAMyM,OAErB6D,EAAwB,YAAS,YAAS,GAAIN,GAAuBA,EAAqBF,IAE9FrtC,OAAO8C,KAAK8qC,GAAcj+B,SAAQ,SAAU9O,GAC1C,IAAIN,EAAQqtC,EAAa/sC,GAGrBgtC,EAAsBhtC,KAASN,IAC7B8sC,EAAcC,EAASD,GAAcxsC,GAAON,EAAW+sC,EAASzsC,GAAON,UAK/E+sC,EAASx9B,aAAaw9B,EAASx9B,KAC/Bw9B,EAAStc,eAAesc,EAAStc,OACjCsc,EAASnsB,UAAUmsB,EAASnsB,EAC5BmsB,EAASx5B,UAAUw5B,EAASx5B,EAC5Bw5B,EAASD,IAAiBC,EAASD,GAAclsB,UAAUmsB,EAASD,GAAclsB,EAClFmsB,EAASD,IAAiBC,EAASD,GAAcv5B,UAAUw5B,EAASD,GAAcv5B,EACtFsF,EAAK5S,IAAI,cAAe8mC,OA5EI,CAE5B,IAAIQ,EAAiB,GACrB,eAAKxgB,GAAU,SAAUiQ,GACvB,IAAI+N,EAAY/N,EAAMp9B,IAAI,QACtBN,EAAO09B,EAAMp9B,IAAI,QAErB,GAAIN,GAAQA,IAASwtC,EACnBS,EAAejuC,GAAsB,UAAdyrC,EAAwB,gBAAM/N,EAAMyM,QAAU5wB,EAAKu0B,oBAAoB9tC,OACzF,CAEL,IAAIkuC,EAAgB30B,EAAKu0B,sBAKzB,GAHII,EAAcj+B,aAAai+B,EAAcj+B,KACzCi+B,EAAc/c,eAAe+c,EAAc/c,OAE1Cqc,EAIH,GAAKxtC,EAIEiuC,EAAeT,GAAgBU,MAJ3B,CACT,IAAIC,EAAYnM,GAAS,SACzBtE,EAAM/2B,IAAI,OAAQwnC,GAClBF,EAAeE,GAA2B,UAAd1C,EAAwB,gBAAM/N,EAAMyM,QAAU5wB,EAAKu0B,oBAAoB9tC,QANrGG,OAAO0S,OAAOo7B,EAAgBC,OAWpC30B,EAAK5S,IAAI,cAAesnC,KA0D5B1B,EAASlrC,UAAUksC,cAAgB,SAAUjC,EAAcG,GACzD,IAAIlyB,EAAOla,KACPutC,EAASrzB,EAAKjZ,IAAI,UACtB,eAAKssC,GAAQ,SAAUwB,GACrB9C,EAAaT,SAASY,EAAW2C,GAAO,EAAM70B,OAIlDgzB,EAASlrC,UAAUuE,KAAO,WACxB,IAAI0lC,EAAe,GAAMC,WAAWlsC,KAAKiB,IAAI,SAC7CjB,KAAKsH,IAAI,eAAgB2kC,IAU3BiB,EAASlrC,UAAUf,IAAM,SAAUU,GACjC,OAAO3B,KAAKmtC,KAAKxrC,IAUnBurC,EAASlrC,UAAUsF,IAAM,SAAU3F,EAAKiG,GAClC,wBAAcjG,GAChB3B,KAAKmtC,KAAO,YAAS,YAAS,GAAIntC,KAAKmtC,MAAOxrC,GAE9C3B,KAAKmtC,KAAKxrC,GAAOiG,GAIrBslC,EAASlrC,UAAUwsB,cAAgB,WACjC,MAAO,IAOT0e,EAASlrC,UAAUgtC,WAAa,WAC9BhvC,KAAKsH,IAnUQ,YAmUQ,MACrBtH,KAAKsH,IAnUe,kBAmUQ,OAO9B4lC,EAASlrC,UAAUitC,WAAa,aAMhC/B,EAASlrC,UAAUqpC,UAAY,aAM/B6B,EAASlrC,UAAUupC,YAAc,aAMjC2B,EAASlrC,UAAUqnC,KAAO,WACxBrpC,KAAKivC,aACLjvC,KAAK4tC,YACL5tC,KAAKqrC,aAGP6B,EAASlrC,UAAUysC,oBAAsB,SAAU9tC,GACjD,IACIuuC,EADAjc,EAAQjzB,KAAKiB,IAAI,SAWrB,GAPEiuC,EADEvuC,EACasyB,EAAM3uB,MAAK,SAAU6Y,GAClC,OAAOA,EAAQlc,IAAI,UAAYN,KAGlBX,KAAK86B,cAGJ,CAChB,IAAIqU,EAAW,GAOf,OANA,eAAKD,EAAapE,QAAQ,SAAUljC,EAAKjG,GAE3B,QAARA,IACFwtC,EAASxtC,GAAOiG,MAGbunC,EAGT,MAAO,IAGTjC,EAASlrC,UAAUgsC,YAAc,SAAU52B,GACzC,IAAIq2B,EAASztC,KAAKiB,IAAI,UAEtB,GAAIwsC,EAAQ,CAEV,IAAI2B,EAAWh4B,EAEf,OADAg4B,EAASnxB,MAAQ,YAAS,YAAS,GAAIwvB,GAASr2B,EAAM6G,OAC/CmxB,EAGT,OAAOh4B,GAQT81B,EAASlrC,UAAUqtC,cAAgB,SAAUN,GAC3C,IAAItB,EAASztC,KAAKiB,IAAI,UAEtB,OADiBwsC,GAAUA,EAAOsB,IAQpC7B,EAASlrC,UAAU6oC,eAAiB,WAClC,OAAO7qC,KAAKiB,IAAI,gBAGlBisC,EAASlrC,UAAUssC,sBAAwB,WACzC,IAAIp0B,EAAOla,KACPytC,EAAS,GACTF,EAASrzB,EAAKo1B,YAElB,OAAK/B,GAAWA,EAAOjrC,QAIvB,eAAK4X,EAAKo1B,aAAa,SAAUP,GAC/BtB,EAAS3sC,OAAO0S,OAAOi6B,EAAQvzB,EAAKm1B,cAAcN,OAE7CtB,GANEztC,KAAK6qC,kBAgBhBqC,EAASlrC,UAAUwpC,SAAW,SAAUuD,EAAO1tC,GAC7C,IAAIksC,EAASvtC,KAAKiB,IAAI,UAClBgrC,EAAejsC,KAAKiB,IAAI,gBACxBsuC,EAAYR,EACZS,EAAkBT,EAElB,mBAAS1tC,KACXkuC,EAAY,GAAGvqC,OAAO+pC,EAAO,KAAK/pC,OAAO3D,GACzCmuC,EAAkB,GAAGxqC,OAAO+pC,EAAO,MAGrC,IAAIU,EAAYlC,EAEhB,GAAI,oBAAUlsC,GAAQ,CACpB,IAAIwB,EAAQ0qC,EAAO9qC,QAAQ+sC,GAE3B,GAAInuC,EAAO,CACT,GAAIwB,GAAS,EACX,OAGF0qC,EAAOzqC,KAAKysC,QACH1sC,GAAS,GAClB0qC,EAAOvnC,OAAOnD,EAAO,QAElB,GAAI,mBAASxB,GAAQ,CAE1B,IAAIquC,EAAenC,EAAO7qC,QAAO,SAAU/B,GACzC,OAAOA,EAAKmQ,SAAS0+B,MAGnBE,EAAaptC,OAAS,GACxBtC,KAAK2vC,YAAYD,IAGnBD,EAAYA,EAAU/sC,QAAO,SAAU/B,GACrC,OAAQA,EAAKmQ,SAAS0+B,OAEd1sC,KAAKysC,GACfvvC,KAAKsH,IAAI,SAAUmoC,GAGrB,GAAIxD,EAAc,CAChB,IACI9oC,EADQnD,KAAKiB,IAAI,SACJkC,KAEjB8oC,EAAaT,SAASroC,EAAM4rC,EAAO1tC,EAAOrB,QAS9CktC,EAASlrC,UAAU2tC,YAAc,SAAUpC,GACzC,IAAIrzB,EAAOla,KACP4vC,EAAe11B,EAAKo1B,YACpBrD,EAAe/xB,EAAKjZ,IAAI,gBAExB6b,EADQ5C,EAAKjZ,IAAI,SACHkC,KAEboqC,IACHA,EAASqC,GAGP,mBAASrC,KACXA,EAAS,CAACA,IAGZ,IAAIkC,EAAYG,EAAaltC,QAAO,SAAUqsC,GAC5C,OAAkC,IAA3BxB,EAAO9qC,QAAQssC,MAExB70B,EAAK5S,IAAI,SAAUmoC,GACnBlC,EAAO98B,SAAQ,SAAUs+B,GACvB9C,EAAaT,SAAS1uB,EAAOiyB,GAAO,EAAO70B,OAS/CgzB,EAASlrC,UAAU4nC,aAAe,WAChC,OAAO5pC,KAAKiB,IAAI,UAQlBisC,EAASlrC,UAAU84B,YAAc,WAC/B,OAAO96B,KAAKiB,IAAI,aAQlBisC,EAASlrC,UAAU6tC,SAAW,WAC5B,OAAO7vC,KAAKiB,IAAI,UAQlBisC,EAASlrC,UAAUqK,QAAU,WAC3B,OAAOrM,KAAKiB,IAAI,SAOlBisC,EAASlrC,UAAU8tC,MAAQ,WACzB,OAAO9vC,KAAKiB,IAAI,OAOlBisC,EAASlrC,UAAU+tC,OAAS,WAC1B,OAAO,GAQT7C,EAASlrC,UAAUstC,UAAY,WAC7B,OAAOtvC,KAAKiB,IAAI,WASlBisC,EAASlrC,UAAUguC,SAAW,SAAUjB,GAEtC,OADa/uC,KAAKsvC,YACJ7sC,QAAQssC,IAAU,GAWlC7B,EAASlrC,UAAUiuC,QAAU,WAC3B,IAAI74B,EAAQpX,KAAKiB,IAAI,SAErBjB,KAAK+tC,eAAe32B,GAEpBpX,KAAKkwC,cAELlwC,KAAKurC,cAELvrC,KAAKgvC,cAGP9B,EAASlrC,UAAUmuC,WAAa,SAAU/yB,GACxC,OAAO,GAST8vB,EAASlrC,UAAU2nC,OAAS,SAAUvsB,EAAKgzB,QACxB,IAAbA,IACFA,GAAW,GAGb,IAAIh5B,EAAQpX,KAAKiB,IAAI,SACjBovC,EAAaj5B,EAAMiG,QACnBizB,EAAalzB,EAAIC,QACjBgzB,IAAeC,QAA6BrkC,IAAfqkC,GAA0BtwC,KAAK8tC,iBAAiBwC,GACjF,IAAIC,EACCn5B,EAAM6K,EADPsuB,EAECn5B,EAAMxC,EAEXwI,EAAI6E,EAAItc,MAAMyX,EAAI6E,GAAK7K,EAAM6K,EAAI7E,EAAI6E,EACrC7E,EAAIxI,EAAIjP,MAAMyX,EAAIxI,GAAKwC,EAAMxC,EAAIwI,EAAIxI,EACrC,IAAI64B,EAASztC,KAAKiB,IAAI,UAEtB,GAAImc,EAAIowB,YAAa,CAEnB,IAAIA,EAAcpwB,EAAIowB,YACtB,cAAIC,EAAQD,UACLpwB,EAAIowB,YAIb1sC,OAAO0S,OAAO4D,EAAOgG,GAIjBgzB,EACFpwC,KAAK+tC,eAAe3wB,IAGhBmzB,IAAqBnzB,EAAI6E,GAAKsuB,IAAqBnzB,EAAIxI,GACzD5U,KAAK+tC,eAAe3wB,GAGtBpd,KAAKkwC,eAGPlwC,KAAKurC,cACLvrC,KAAKgvC,cAOP9B,EAASlrC,UAAUkuC,YAAc,WAC/B,IAAIjE,EAAejsC,KAAKiB,IAAI,gBACxBmW,EAAQpX,KAAKiB,IAAI,SACjB6b,EAAQ1F,EAAMjU,KAIlB,GAAI8oC,EAAard,aAAa9R,IAAUA,IAAU9c,KAAKiB,IAAI,gBAAiB,CAC1E,IAAIytB,EAAY1uB,KAAKguC,YAAY52B,GACjC60B,EAAaX,WAAWxuB,EAAO4R,EAAW1uB,MAE1CA,KAAKiuC,sBAGLjuC,KAAKqpC,OAIPrpC,KAAKkuC,cAAcjC,EAAcnvB,IAQnCowB,EAASlrC,UAAU+rC,eAAiB,SAAU3wB,GAC5C,IAAIhG,EAAQpX,KAAKiB,IAAI,SACjBghB,EAAI,gBAAM7E,EAAI6E,GAAK7K,EAAM6K,EAAI7E,EAAI6E,EACjCrN,EAAI,gBAAMwI,EAAIxI,GAAKwC,EAAMxC,EAAIwI,EAAIxI,EACjCqe,EAAQjzB,KAAKiB,IAAI,SAErB,GAAI,gBAAMghB,IAAM,gBAAMrN,GACpB,OAAO,EAGTwC,EAAM6K,EAAIA,EACV7K,EAAMxC,EAAIA,EACV,IAAIkd,EAASmB,EAAMG,YACnB,QAAItB,GAAUA,EAAO,KAAO7P,GAAK6P,EAAO,KAAOld,KAC/Cqe,EAAM6R,cAEN9R,EAAUC,EAAO,CACfhR,EAAGA,EACHrN,EAAGA,IAEL5U,KAAKgvC,cAEE,IAQT9B,EAASlrC,UAAU2yB,QAAU,WAE3B,IAAItB,EAAOrzB,KAAKiB,IAltBH,aAytBb,OALKoyB,IACHA,EAAOrzB,KAAK0tC,gBACZ1tC,KAAKsH,IAttBM,YAstBU+rB,IAGhBA,GAQT6Z,EAASlrC,UAAUsxB,cAAgB,WAEjC,IAAID,EAAOrzB,KAAKiB,IAluBI,mBAyuBpB,OALKoyB,IACHA,EAAOrzB,KAAK2tC,sBACZ3tC,KAAKsH,IAtuBa,kBAsuBU+rB,IAGvBA,GAOT6Z,EAASlrC,UAAUwuC,QAAU,WACfxwC,KAAKiB,IAAI,SACfuvC,WAORtD,EAASlrC,UAAUyuC,OAAS,WACdzwC,KAAKiB,IAAI,SACfwvC,UAORvD,EAASlrC,UAAU0uC,KAAO,WACxB1wC,KAAK8tC,kBAAiB,IAOxBZ,EAASlrC,UAAU2uC,KAAO,WACxB3wC,KAAK8tC,kBAAiB,IAQxBZ,EAASlrC,UAAU8rC,iBAAmB,SAAUzwB,GAC9C,IAAI4V,EAAQjzB,KAAKiB,IAAI,SAEjBoc,EACF4V,EAAMyd,OAENzd,EAAM0d,OAGR3wC,KAAKsH,IAAI,UAAW+V,IAQtB6vB,EAASlrC,UAAUw9B,UAAY,WAC7B,OAAOx/B,KAAKiB,IAAI,YAQlBisC,EAASlrC,UAAU4uC,cAAgB,SAAUC,GAC3C,IAAI5d,EAAQjzB,KAAKiB,IAAI,SAEjBgyB,GACFA,EAAM3rB,IAAI,UAAWupC,IAIzB3D,EAASlrC,UAAUqgC,QAAU,WAC3B,IAAKriC,KAAK4gC,UAAW,CACnB,IAAIwE,EAAUplC,KAAKiB,IAAI,WACnBgyB,EAAQjzB,KAAKiB,IAAI,SAEjBmkC,GACFnS,EAAM6d,cAGR9wC,KAAKgvC,aACL/b,EAAMzsB,SACNxG,KAAKmtC,KAAO,KACZntC,KAAK4gC,WAAY,IAIdsM,EAh0BT,GCTI6D,GAAU,CACZhjB,OAAQ,QACRC,OAAQ,OAwRK,GA9Qf,SAAUsU,GAGR,SAASwK,IACP,OAAkB,OAAXxK,GAAmBA,EAAO76B,MAAMzH,KAAM+O,YAAc/O,KAuQ7D,OA1QA,YAAU8sC,EAAMxK,GAMhBwK,EAAK9qC,UAAUwsB,cAAgB,WAC7B,MAAO,CACLrrB,KAAM,OACNw3B,WAAY,KACZC,WAAY,KACZK,WAAY,KACZC,SAAU,KACV8V,YAAY,IAIhBlE,EAAK9qC,UAAUivC,OAAS,SAAUtwC,EAAMU,GACtC,IAAI6vC,EAAYH,GAAQpwC,GAzBJ,QA0BhBwwC,EAAWxwC,EA5BI,OA6BfywC,EAAUpxC,KAAKiB,IAAIkwC,GAEnBC,IAAYA,EAAQxQ,WAEtBwQ,EAAQC,WAAWrxC,MAGjB,wBAAcqB,IAEhBrB,KAAKsH,IAAI4pC,EAAW7vC,GACpBrB,KAAKsH,IAAI6pC,EAAU,QAEnB9vC,EAAMiwC,QAAQtxC,MACdA,KAAKsH,IAAI6pC,EAAU9vC,GACnBrB,KAAKsH,IAAI4pC,EAAW,QAWxBpE,EAAK9qC,UAAUuvC,aAAe,SAAU5wC,EAAMyW,EAAOglB,GACnD,IAAI8U,EAAYH,GAAQpwC,GArDJ,QAsDhBwwC,EAAWxwC,EAxDI,OAyDfiwB,EAAQ5wB,KAAKiB,IAAIiwC,GAErB,IAAKtgB,EAAO,CACV,IAAIxpB,EAAOpH,KAAKiB,IAAIkwC,GAChBK,EAAa7wC,EAzDE,SA0Df8wC,EAAWzxC,KAAK0xC,YAAY/wC,EAAMy7B,GAClCuV,EAAcv6B,EAAMo6B,GAEnB,gBAAMG,KAET/gB,EAAQxpB,EAAKwqC,qBAAqBD,IAIpC/gB,EAAQA,GAASxpB,EAAKmqC,aAAaE,GAE9B,gBAAM7gB,EAAM/tB,QACf7C,KAAKsH,IAAI,GAAGtC,OAAOrE,EAAM,eAAgBiwB,EAAM/tB,OAInD,OAAO+tB,GASTkc,EAAK9qC,UAAU0vC,YAAc,SAAU/wC,EAAMy7B,GAC3C,GAAIA,GAAiBA,EAAc95B,OAEjC,OAAO85B,EADc,WAATz7B,EAAoB,EAAIy7B,EAAc95B,OAAS,GAI7D,IAAIuvC,EAAwB,WAATlxC,EAAoB,SAAW,SAElD,OAAOX,KAAK8xC,YAAYD,IAQ1B/E,EAAK9qC,UAAU8vC,YAAc,SAAUnxC,GACrC,IAAIwwC,EAAWxwC,EAxGI,OAyGfuwC,EAAYH,GAAQpwC,GAvGJ,QAwGhByG,EAAOpH,KAAKiB,IAAIkwC,GAEpB,OAAI/pC,EACKA,EAAKnG,IAAI,SAIXjB,KAAKiB,IAAIiwC,IAQlBpE,EAAK9qC,UAAU+vC,yBAA2B,SAAU36B,GAClD,IAAI46B,EAAchyC,KAAK8xC,YAAY,UAC/BG,EAAcjyC,KAAK8xC,YAAY,UAC/B7F,EAAejsC,KAAKiB,IAAI,gBACxBkC,EAAOiU,EAAMjU,KACjB,OAAO8oC,EAAaR,iBAAiBtoC,EAAM,CACzC83B,WAAY+W,EACZ9W,SAAU+W,KAIdnF,EAAK9qC,UAAUkwC,aAAe,SAAUvxC,GACtC,IAAIwwC,EAAWxwC,EArII,OAsIfuwC,EAAYH,GAAQpwC,GApIJ,QAqIhByG,EAAOpH,KAAKiB,IAAIkwC,GAEpB,GAAI/pC,EAAM,CACR,IAAIisB,EAAOjsB,EAAKutB,UAChB,MAAO,CACL1S,EAAGoR,EAAK8D,QACRviB,EAAGye,EAAK+D,SAKZ,OAAOp3B,KAAKiB,IAAIiwC,IAGlBpE,EAAK9qC,UAAUuE,KAAO,WACpB+7B,EAAOtgC,UAAUuE,KAAKhG,KAAKP,MAG3BA,KAAKmyC,UAAUnyC,KAAKiB,IAAI,WACxBjB,KAAKoyC,UAAUpyC,KAAKiB,IAAI,YAG1B6rC,EAAK9qC,UAAUgsC,YAAc,SAAU52B,GACrC,IACI45B,EADOhxC,KACWiB,IAAI,cAEtBmc,EAAMklB,EAAOtgC,UAAUgsC,YAAYztC,KAAKP,KAAMoX,GAElD,GAAI45B,EACF5zB,EAAI6d,WANKj7B,KAMakyC,aAAa,UACnC90B,EAAI8d,SAPKl7B,KAOWkyC,aAAa,cAC5B,CACL,IAAI9V,EAAgBhf,EAAIgf,eATfp8B,KASqC+xC,yBAAyB30B,GACvEA,EAAI6d,WAVKj7B,KAUauxC,aAAa,SAAUn6B,EAAOglB,GACpDhf,EAAI8d,SAXKl7B,KAWWuxC,aAAa,SAAUn6B,EAAOglB,GAKpD,OAFAhf,EAAIud,WAdO36B,KAcWiB,IAAI,cAC1Bmc,EAAIwd,WAfO56B,KAeWiB,IAAI,cACnBmc,GAOT0vB,EAAK9qC,UAAU6tC,SAAW,WACxB,IAAIwC,EAAMryC,KAAKiB,IAAI,SACfqxC,EAAatyC,KAAKiB,IAAI,SAAS+D,OAvLhB,SAwLfutC,EAAavyC,KAAKiB,IAAI,SAAS+D,OAxLhB,SA8MnB,OApBIstC,SACKD,EAAI,SAASrtC,OA3LH,SA6LjBqtC,EAAItkB,OAAS/tB,KAAKiB,IAAI,QAAQ+D,OA3LZ,UA8LhButC,SACKF,EAAI,SAASrtC,OAjMH,SAmMjBqtC,EAAIrkB,OAAShuB,KAAKiB,IAAI,MAAM+D,OAjMV,UAoMf,mBAASqtC,EAAItkB,SAAY,wBAAcskB,EAAItkB,UAC9CskB,EAAItkB,OAASskB,EAAItkB,OAAO+hB,SAGrB,mBAASuC,EAAIrkB,SAAY,wBAAcqkB,EAAIrkB,UAC9CqkB,EAAIrkB,OAASqkB,EAAIrkB,OAAO8hB,SAGnBuC,GAGTvF,EAAK9qC,UAAUmwC,UAAY,SAAUpkB,GACnC/tB,KAAKixC,OAAO,SAAUljB,GACtB/tB,KAAKsH,IAAI,SAAUymB,IAGrB+e,EAAK9qC,UAAUowC,UAAY,SAAUpkB,GACnChuB,KAAKixC,OAAO,SAAUjjB,GACtBhuB,KAAKsH,IAAI,SAAU0mB,IAGrB8e,EAAK9qC,UAAUqkC,UAAY,WACzB,OAAOrmC,KAAKiB,IAAI,WAGlB6rC,EAAK9qC,UAAUukC,UAAY,WACzB,OAAOvmC,KAAKiB,IAAI,WAGlB6rC,EAAK9qC,UAAU+rC,eAAiB,WAC9B,OAAO,GAQTjB,EAAK9qC,UAAU2nC,OAAS,SAAUvsB,EAAKgzB,QACpB,IAAbA,IACFA,GAAW,GAGb,IAAIh5B,EAAQpX,KAAKiB,IAAI,SACjBovC,EAAaj5B,EAAMiG,QACnBizB,EAAalzB,EAAIC,QACjBgzB,IAAeC,QAA6BrkC,IAAfqkC,GAA0BtwC,KAAK8tC,iBAAiBwC,GACjF,IAAI7C,EAASztC,KAAKiB,IAAI,UAEtB,GAAImc,EAAIowB,YAAa,CAEnB,IAAIA,EAAcpwB,EAAIowB,YACtB,cAAIC,EAAQD,UACLpwB,EAAIowB,YAGb1sC,OAAO0S,OAAO4D,EAAOgG,GACrBpd,KAAKkwC,cACLlwC,KAAKurC,cACLvrC,KAAKgvC,cAGPlC,EAAK9qC,UAAUqgC,QAAU,WACvB,IAAIiQ,EAAatyC,KAAKiB,IAAI,SAAS+D,OArQhB,SAsQfutC,EAAavyC,KAAKiB,IAAI,SAAS+D,OAtQhB,SAwQfstC,IAAeA,EAAW1R,WAC5B0R,EAAWjB,WAAWrxC,MAGpBuyC,IAAeA,EAAW3R,WAC5B2R,EAAWlB,WAAWrxC,MAGxBsiC,EAAOtgC,UAAUqgC,QAAQ9hC,KAAKP,OAGzB8sC,EA3QT,CA4QE,ICUa,GA5Rf,SAAUxK,GAGR,SAASkK,IACP,OAAkB,OAAXlK,GAAmBA,EAAO76B,MAAMzH,KAAM+O,YAAc/O,KAqR7D,OAxRA,YAAUwsC,EAAMlK,GAMhBkK,EAAKxqC,UAAUwwC,gBAAkB,SAAU3hB,EAAQ4hB,GAKjD,IAJA,IAAI5vC,EAAQ,EACR6vC,EAAe7hB,EAAO,GACtBmG,EAAc,EAASnG,EAAO,GAAI4hB,GAE7BryC,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,IAAIwwB,EAAQC,EAAOzwB,GACfuyC,EAAM,EAAS/hB,EAAO6hB,GAEtBE,EAAM3b,IACR0b,EAAe9hB,EACfoG,EAAc2b,EACd9vC,EAAQzC,GAKZ,OADAsyC,EAAaf,YAAc9uC,EACpB6vC,GAGTlG,EAAKxqC,UAAUwsB,cAAgB,WAC7B,MAAO,CACLrrB,KAAM,OACN+qB,MAAO,KAQXse,EAAKxqC,UAAU4wC,SAAW,WACxB,OAAO5yC,KAAKiB,IAAI,UAOlBurC,EAAKxqC,UAAU6wC,WAAa,WAC1B,IAAI34B,EAAOla,KACX,OAAOA,KAAKiB,IAAI,SAASyB,QAAO,SAAUg+B,GACxC,OAAOA,EAAKz/B,IAAI,YAAciZ,MAQlCsyB,EAAKxqC,UAAU8wC,YAAc,WAC3B,IAAI54B,EAAOla,KACX,OAAOA,KAAKiB,IAAI,SAASyB,QAAO,SAAUg+B,GACxC,OAAOA,EAAKz/B,IAAI,YAAciZ,MAWlCsyB,EAAKxqC,UAAU+wC,aAAe,SAAU5vC,GACtC,IAAImsB,EAAQtvB,KAERkuB,EAAQluB,KAAKiB,IAAI,SAErB,GAAa,WAATkC,EAAmB,CAMrB,OAAO+qB,EAAMxrB,QAJe,SAA+Bg+B,GACzD,OAAOA,EAAK2F,cAAgB/W,KAGa/e,KAAI,SAAUmwB,GACvD,OAAOA,EAAK6F,eAIhB,GAAa,WAATpjC,EAAmB,CAMrB,OAAO+qB,EAAMxrB,QAJe,SAA+Bg+B,GACzD,OAAOA,EAAK6F,cAAgBjX,KAGa/e,KAAI,SAAUmwB,GACvD,OAAOA,EAAK2F,eAShB,OAAOnY,EAAM3d,KAJa,SAA6BmwB,GACrD,OAAOA,EAAK2F,cAAgB/W,EAAQoR,EAAK6F,YAAc7F,EAAK2F,gBAWhEmG,EAAKxqC,UAAU4vC,qBAAuB,SAAU/uC,GAE9C,OADmB7C,KAAK+qC,kBACJloC,IAQtB2pC,EAAKxqC,UAAUuvC,aAAe,SAAU3gB,GACtC,IAGIuG,EACAC,EAHAj0B,EADWnD,KAAKiB,IAAI,YACJA,IAAI,QACpBu8B,EAAWx9B,KAAKiB,IAAI,QAGpBoyB,EAAOrzB,KAAK20B,UAEC,UAAb6I,GACFrG,EAAU9D,EAAK8D,UAAY9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpD6D,EAAU/D,EAAK+D,UAAY/D,EAAKmB,KAAOnB,EAAKG,MAAQ,IAEpD2D,EAAU9D,EAAK8D,QACfC,EAAU/D,EAAK+D,SAGjB,IACI4b,EADArT,EAAe3/B,KAAK+qC,kBAGxB,OAAQ5nC,GACN,IAAK,SACH6vC,EAAiBjiB,EAA0B,CACzC9O,EAAGkV,EACHviB,EAAGwiB,EACHl2B,EAAGmyB,EAAK9gB,MAAQ,GACfqe,GACH,MAEF,IAAK,UACHoiB,EAAiBthB,EAA2B,CAC1CzP,EAAGkV,EACHviB,EAAGwiB,EACHxF,GAAIyB,EAAK9gB,MAAQ,EACjBsf,GAAIwB,EAAKvS,OAAS,GACjB8P,GACH,MAEF,QACEoiB,EAAiBtiB,EAAwB2C,EAAMzC,GAGnD,IAAIqiB,EAAYD,EAmBhB,OAjBIrT,EAAar9B,SACV2wC,IAEHA,EAAYriB,GAGdqiB,EAAYjzC,KAAKwyC,gBAAgB7S,EAAcsT,IAG5CA,IAEHA,EAAY,CACVhxB,EAAGkV,EACHviB,EAAGwiB,IAIA6b,GAQTzG,EAAKxqC,UAAU+oC,gBAAkB,WAC/B,IAAIpL,EAAe3/B,KAAKiB,IAnMF,qBAqMtB,IAAK0+B,EAAc,CACjBA,EAAe,GACf,IAAIsM,EAAejsC,KAAKiB,IAAI,gBACxBiyC,EAASlzC,KAAK20B,UACdvd,EAAQpX,KAAKiB,IAAI,SACjBkyC,EAAWnzC,KAAKguC,YAAY52B,GAC5BjU,EAAOiU,EAAMjU,KACb0tB,EAASob,EAAalB,gBAAgB5nC,EAAMgwC,IAAa,GAC7D,eAAKtiB,GAAQ,SAAUuiB,EAAUvwC,GAC/B,IAAI+tB,EAAQ,CACV3O,EAAGixB,EAAO3f,KAAO6f,EAAS,GAAKF,EAAO3gC,MACtCqC,EAAGs+B,EAAO1f,KAAO4f,EAAS,GAAKF,EAAOpyB,OACtC6wB,YAAa9uC,GAEf88B,EAAa78B,KAAK8tB,MAEpB5wB,KAAKsH,IArNe,oBAqNUq4B,GAGhC,OAAOA,GAQT6M,EAAKxqC,UAAUsvC,QAAU,SAAU5Q,GACjC1gC,KAAKiB,IAAI,SAAS6B,KAAK49B,IAOzB8L,EAAKxqC,UAAUqxC,KAAO,WACpBrzC,KAAKsH,IAAI,UAAU,IAOrBklC,EAAKxqC,UAAUsxC,OAAS,WACtBtzC,KAAKsH,IAAI,UAAU,IAGrBklC,EAAKxqC,UAAUuxC,UAAY,WACzB,OAAOvzC,KAAKiB,IAAI,WAQlBurC,EAAKxqC,UAAUqvC,WAAa,SAAU3Q,GACpC,IAAIxS,EAAQluB,KAAK4yC,WACb/vC,EAAQqrB,EAAMzrB,QAAQi+B,GAEtB79B,GAAS,GACXqrB,EAAMloB,OAAOnD,EAAO,IAIxB2pC,EAAKxqC,UAAUgtC,WAAa,WAC1BhvC,KAAKsH,IAtQQ,YAsQQ,MAErBtH,KAAKsH,IAzQiB,oBAyQQ,OAQhCklC,EAAKxqC,UAAUmuC,WAAa,SAAU/yB,GACpC,IAAKA,EACH,OAAO,EAGT,IAAIo2B,GAAU,gBAAMp2B,EAAI6E,GACpBwxB,GAAU,gBAAMr2B,EAAIxI,GACpBhR,EAAO9C,OAAO8C,KAAKwZ,GAGvB,OAAuB,IAAhBxZ,EAAKtB,SAAiBkxC,GAAUC,IAA2B,IAAhB7vC,EAAKtB,QAAgBkxC,GAAUC,GAG5EjH,EAzRT,CA0RE,ICKa,GA5Rf,SAAUlK,GAGR,SAAS2K,IACP,OAAkB,OAAX3K,GAAmBA,EAAO76B,MAAMzH,KAAM+O,YAAc/O,KAqR7D,OAxRA,YAAUitC,EAAO3K,GAMjB2K,EAAMjrC,UAAUwsB,cAAgB,WAC9B,MAAO,CACLrrB,KAAM,QACN8qB,MAAO,GACPC,MAAO,GACPgS,OAAQ,KAIZ+M,EAAMjrC,UAAUgsC,YAAc,SAAU52B,GACtC,IAAIq2B,EAASztC,KAAKiB,IAAI,UAClBoyB,EAAOrzB,KAAKiB,IAAI,QAEpB,GAAIwsC,GAAUpa,EAAM,CAElB,IAAI+b,EAAWh4B,EACXlH,EAAO,CACThP,EAAGmE,KAAKquC,MAAMrgB,EAAKvS,OAAQuS,EAAK9gB,OAAS,GAAK,GAAOoO,aAAazQ,KAAK,GAAK,EAC5EqC,MAAO8gB,EAAK9gB,OAAS,GAAOoO,aAAazQ,KAAK,GAC9C4Q,OAAQuS,EAAKvS,QAAU,GAAOH,aAAazQ,KAAK,IAElDk/B,EAASnxB,MAAQ,YAAS,YAAS,YAAS,GAAIwvB,GAASr2B,EAAM6G,OAAQ/N,GACvE,IAAI6Q,EAAU3J,EAAM2J,SAAW,GAAOJ,aAAaI,QAanD,OAXI,mBAASA,IACX7Q,EAAKhP,GAAK6f,EACV7Q,EAAKqC,OAAmB,EAAVwO,EACd7Q,EAAK4Q,QAAoB,EAAVC,IAEf7Q,EAAKhP,GAAK6f,EAAQ,GAClB7Q,EAAKqC,OAASwO,EAAQ,GAAKA,EAAQ,IAAmB,EAAbA,EAAQ,GACjD7Q,EAAK4Q,QAAUC,EAAQ,GAAKA,EAAQ,IAAmB,EAAbA,EAAQ,IAGpD/gB,KAAKsH,IA9CM,YA8CU4I,GACdk/B,EAGT,OAAOh4B,GAOT61B,EAAMjrC,UAAU2rC,oBAAsB,WACpC,IAAI3tC,KAAK4gC,UAAT,CACA,IAAI0M,EAAWttC,KAAKiB,IAAI,YACpBgyB,EAAQjzB,KAAKiB,IAAI,SAEjBoyB,EAAO,GAAQia,EAAUra,GAC7BI,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EACzC,IAAImf,EAAY3zC,KAAKiB,IAjER,aAkET2yC,EAAY5zC,KAAKiB,IApER,cAoE2B,GACpC4yC,EAAOD,EAAU3xB,EACjB6xB,EAAOF,EAAU3xB,EAErB,GAAI0xB,EACFA,EAAUphC,MAAQlN,KAAKC,IAAIquC,EAAUphC,MAAO8gB,EAAK9gB,OACjDohC,EAAU7yB,OAASzb,KAAKC,IAAIquC,EAAU7yB,OAAQuS,EAAKvS,QAGtC,WAFFwsB,EAASrsC,IAAI,SAGtBoyB,EAAK9gB,MAAsB,EAAdohC,EAAUzyC,EACvBmyB,EAAKvS,OAAuB,EAAd6yB,EAAUzyC,IAExBmyB,EAAK9gB,MAAQohC,EAAUphC,MACvB8gB,EAAKvS,OAAS6yB,EAAU7yB,QAG1BuS,EAAKE,KAAOF,EAAK8D,QAAU9D,EAAK9gB,MAAQ,EACxC8gB,EAAKG,KAAOH,EAAK+D,QAAU/D,EAAKvS,OAAS,EACzCuS,EAAKkB,KAAOlB,EAAK8D,QAAU9D,EAAK9gB,MAAQ,EACxC8gB,EAAKmB,KAAOnB,EAAK+D,QAAU/D,EAAKvS,OAAS,OAEzCuS,EAAK9gB,MAAQ8gB,EAAKkB,KAAOlB,EAAKE,KAC9BF,EAAKvS,OAASuS,EAAKmB,KAAOnB,EAAKG,KAC/BH,EAAK8D,SAAW9D,EAAKE,KAAOF,EAAKkB,MAAQ,EACzClB,EAAK+D,SAAW/D,EAAKG,KAAOH,EAAKmB,MAAQ,EAM3C,OAHAnB,EAAKpR,EAAIoR,EAAKE,KACdF,EAAKze,EAAIye,EAAKG,KACVH,EAAKpR,IAAM4xB,GAAQxgB,EAAKze,IAAMk/B,GAAM9zC,KAAKsH,IA/FvB,oBA+FgD,MAC/D+rB,IAOT4Z,EAAMjrC,UAAU+xC,YAAc,WAE5B,MAAO,CACL9lB,MAFSjuB,KAEGg0C,WACZ9T,OAHSlgC,KAGIi0C,cAQjBhH,EAAMjrC,UAAUgyC,SAAW,WAEzB,OADWh0C,KACCiB,IAAI,UAOlBgsC,EAAMjrC,UAAUiyC,UAAY,WAE1B,OADWj0C,KACCiB,IAAI,WASlBgsC,EAAMjrC,UAAUkyC,SAAW,SAAU9sC,GAInC,OAFeA,EAAKiF,WAGlB,IAAK,OAJIrM,KAKFm0C,QAAQ/sC,GACb,MAEF,IAAK,QARIpH,KASFo0C,SAAShtC,GACd,MAEF,QAEE,OADAkT,QAAQC,KAAK,kEACN,EAGX,OAAO,GAST0yB,EAAMjrC,UAAUoyC,SAAW,SAAUrW,GAGnC,OAFW/9B,KACNiB,IAAI,UAAU6B,KAAKi7B,IACjB,GASTkP,EAAMjrC,UAAUmyC,QAAU,SAAUthB,GAGlC,OAFW7yB,KACNiB,IAAI,SAAS6B,KAAK+vB,IAChB,GASToa,EAAMjrC,UAAU0oC,YAAc,SAAUtjC,GAItC,OAFeA,EAAKiF,WAGlB,IAAK,OAJIrM,KAKFq0C,WAAWjtC,GAChB,MAEF,IAAK,QARIpH,KASFs0C,YAAYltC,GACjB,MAEF,QAEE,OADAkT,QAAQC,KAAK,kEACN,EAGX,OAAO,GAST0yB,EAAMjrC,UAAUsyC,YAAc,SAAUvW,GACtC,GAAKA,EAAL,CACA,IAAImC,EAASlgC,KAAKi0C,YACdpxC,EAAQq9B,EAAOz9B,QAAQs7B,GAE3B,OAAIl7B,GAAS,IACXq9B,EAAOl6B,OAAOnD,EAAO,IACd,KAYXoqC,EAAMjrC,UAAUqyC,WAAa,SAAUxhB,GACrC,GAAKA,EAAL,CACA,IAAI5E,EAAQjuB,KAAKg0C,WACbnxC,EAAQorB,EAAMxrB,QAAQowB,GAE1B,OAAIhwB,GAAS,IACXorB,EAAMjoB,OAAOnD,EAAO,IACb,KAMXoqC,EAAMjrC,UAAUmuC,WAAa,SAAU/yB,GACrC,OAAO,GAQT6vB,EAAMjrC,UAAU2yB,QAAU,WAGxB,OAFA30B,KAAKsH,IAjQe,kBAiQQ,MACjBtH,KAAK2tC,uBAIlBV,EAAMjrC,UAAUgtC,WAAa,WAC3BhvC,KAAKsH,IAxQQ,YAwQQ,MAErBtH,KAAKsH,IAzQe,kBAyQQ,MAC5BtH,KAAKsH,IAxQiB,oBAwQQ,OAGhC2lC,EAAMjrC,UAAUqgC,QAAU,WACxB,IAAKriC,KAAK4gC,UAAW,CACnB,IAAIwE,EAAUplC,KAAKiB,IAAI,WACnBgyB,EAAQjzB,KAAKiB,IAAI,SAEjBmkC,GACFnS,EAAM6d,cAGR9wC,KAAKgvC,aACLhvC,KAAKsH,IAtRM,YAsRU,MACrBtH,KAAKsH,IAAI,OAAQ,MACjB2rB,EAAMzsB,SACNxG,KAAKmtC,KAAO,KACZntC,KAAK4gC,WAAY,IAIdqM,EAzRT,CA0RE,IC2ca,GAjuBf,WACE,SAASsH,EAAezlB,GACtB9uB,KAAK8uB,MAAQA,EACb9uB,KAAK4gC,WAAY,EA2tBnB,OA/sBA2T,EAAevyC,UAAUwyC,QAAU,SAAUrxC,EAAMiU,GACjD,IAAI0X,EAAQ9uB,KAAK8uB,MACb2lB,EAzBI,UAyBItxC,EA1BL,OA0B6BA,EAChC6Z,EAAS8R,EAAM7tB,IAAI,GAAG+D,OAAOyvC,EAAO,WAAa3lB,EAAM7tB,IAAI,SAC3DyzC,EAAY,qBAAWD,GACvBrtC,EAAO,KAEPqmC,EAAS3e,EAAM7tB,IAAIwzC,EAAQ,qBA1BhB,iBA0B6C,GACxDE,EAAe7lB,EAAM7tB,IA7BZ,UA6B6ByzC,GAEtCt9B,EAAkB,cAEpBq2B,EAASr2B,EAAkB,aAGzBu9B,GAEF,eAAKA,GAAc,SAAU/sC,EAAKwV,GAC5B,mBAASxV,KAAS,kBAAQA,GAC5BwP,EAAMgG,GAAO,kBAAQ,GAAIxV,EAAKwP,EAAMgG,IAC3B,kBAAQxV,GACjBwP,EAAMgG,GAAOhG,EAAMgG,IAAQ,gBAAMu3B,EAAav3B,IAE9ChG,EAAMgG,GAAOhG,EAAMgG,IAAQu3B,EAAav3B,MAK9C,IAAIw3B,EAAS9lB,EAAM7tB,IAAIwzC,EAhDP,UAkDhB,GAAIG,EAAQ,CACV,IAAIC,EAAgBD,EAAOx9B,GAEvBy9B,EAA0B,cAE5BpH,EAASoH,EAA0B,mBAC5BA,EAA0B,aAInC,eAAKA,GAAe,SAAUjtC,EAAKwV,GAC7B,mBAASxV,KAAS,kBAAQA,GAC5BwP,EAAMgG,GAAO,kBAAQ,GAAIhG,EAAMgG,GAAMxV,GAErCwP,EAAMgG,GAAOy3B,EAAcz3B,IAAQhG,EAAMgG,MAU/C,GALA0R,EAAM1S,KAAK,gBAAiB,CAC1BjZ,KAAMA,EACNiU,MAAOA,IA3EF,SA8EHjU,GA7EI,UA6EaA,EAAgB,CACnC,IAAI4qB,OAAS,EACTC,OAAS,EAab,GAZAD,EAAS3W,EAAM2W,OAEfC,EAAS5W,EAAM4W,OAEXD,GAAU,mBAASA,KACrBA,EAASe,EAAMyQ,SAASxR,IAGtBC,GAAU,mBAASA,KACrBA,EAASc,EAAMyQ,SAASvR,KAGrBD,IAAWC,EAEd,YADA1T,QAAQC,KAAK,qCAAqCvV,OAAOoS,EAAM+W,GAAI,qBAIjEJ,EAAO1hB,SAAgC,UAArB0hB,EAAO1hB,YAC3B+K,EAAM09B,aAAc,GAGlB9mB,EAAO3hB,SAAgC,UAArB2hB,EAAO3hB,YAC3B+K,EAAM09B,aAAc,GAGtB1tC,EAAO,IAAI,GAAK,CACdgQ,MAAOA,EACP2W,OAAQA,EACRC,OAAQA,EACRyf,OAAQA,EACRuD,WAAYliB,EAAM7tB,IAAI,cACtBgyB,MAAOjW,EAAO+3B,kBAEX,GAnHA,SAmHI5xC,EACTiE,EAAO,IAAI,GAAK,CACdgQ,MAAOA,EACPq2B,OAAQA,EACRxa,MAAOjW,EAAO+3B,kBAEX,GAtHC,UAsHG5xC,EAAgB,CACzB,IAAIirB,EAAWhX,EAAMgX,SACjBiR,EAAYD,GAAahR,EAAUU,GAClCnpB,MAAM05B,EAAUpd,GAAmCtc,MAAMyR,EAAM6K,KAAI7K,EAAM6K,EAAoB,IAAhB5c,KAAKu9B,UAA9DxrB,EAAM6K,EAAIod,EAAUpd,EACxCtc,MAAM05B,EAAUzqB,GAAmCjP,MAAMyR,EAAMxC,KAAIwC,EAAMxC,EAAoB,IAAhBvP,KAAKu9B,UAA9DxrB,EAAMxC,EAAIyqB,EAAUzqB,EAC7C,IAAIogC,EAAah4B,EAAO+3B,WACxBC,EAAWC,UAAU79B,EAAMgnB,OAO3B,IAAI8W,GANJ9tC,EAAO,IAAI,GAAM,CACfgQ,MAAOA,EACPq2B,OAAQA,EACRpa,KAAMjc,EAAM+9B,UAAY/V,GAAa,GAAItQ,GAASuQ,EAClDpM,MAAO+hB,KAEenF,YACvBzhB,GAAY,IAAI3d,SAAQ,SAAU4tB,GACjC,IAAIiB,EAAYxQ,EAAMyQ,SAASlB,EAAMlQ,IACrC/mB,EAAK8sC,SAAS5U,GACdjB,EAAMD,MAAQ8W,EAAa9W,MAAQ,KAGjChnB,EAAM+9B,WACRznC,YAAW,WACTohB,EAAMsmB,cAAchuC,KACnB,IAIP,GAAIA,EAQF,OAPA0nB,EAAM7tB,IAAI,GAAG+D,OAAO7B,EAAM,MAAML,KAAKsE,GACrC0nB,EAAM7tB,IAAI,WAAWmG,EAAKnG,IAAI,OAASmG,EACvC0nB,EAAM1S,KAAK,eAAgB,CACzBhV,KAAMA,EACNgQ,MAAOA,IAGFhQ,GAaXmtC,EAAevyC,UAAUqzC,WAAa,SAAUjuC,EAAMgW,GACpD,IAAIhE,EAAI8uB,EAEJpZ,EAAQ9uB,KAAK8uB,MAMjB,GAJI,mBAAS1nB,KACXA,EAAO0nB,EAAMyQ,SAASn4B,IAGnBA,IAAQA,EAAKw5B,UAAlB,CAKA,IAAIz9B,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAIuoC,EAAS9lB,EAAM7tB,IAAIkC,EApLP,UAqLZiU,EAAQhQ,EAAKyoC,WACbM,EAAa/oC,EAAK+oC,WAAW/yB,GAEjC,GAAIw3B,EAAQ,CACV,IACIU,EAAcV,EADL,kBAAQ,GAAIx9B,EAAOgG,IAG5BgyB,EAAW,kBAAQ,GAAIh4B,EAAOk+B,EAAal4B,GAE3Ck4B,EAAwB,cAC1BluC,EAAKE,IAAI,SAAU8nC,EAAqB,oBACjCA,EAAqB,aAG9B,eAAKA,GAAU,SAAUxnC,EAAKjG,GAC5Byb,EAAIzb,GAAOiG,UAIb,eAAKwV,GAAK,SAAUxV,EAAKjG,GACnByV,EAAMzV,IACJ,mBAASiG,KAAS,kBAAQA,KAC5BwV,EAAIzb,GAAO,YAAS,YAAS,GAAIyV,EAAMzV,IAAOyb,EAAIzb,QAY1D,GALAmtB,EAAM1S,KAAK,mBAAoB,CAC7BhV,KAAMA,EACNgW,IAAKA,IAxNA,SA2NHja,EAAe,CAEjB,GAAIia,EAAI2Q,OAAQ,CACd,IAAIA,EAAS3Q,EAAI2Q,OAEb,mBAASA,KACXA,EAASe,EAAMyQ,SAASxR,IAG1B3mB,EAAK+qC,UAAUpkB,GAGjB,GAAI3Q,EAAI4Q,OAAQ,CACd,IAAIA,EAAS5Q,EAAI4Q,OAEb,mBAASA,KACXA,EAASc,EAAMyQ,SAASvR,IAG1B5mB,EAAKgrC,UAAUpkB,GAGjB5mB,EAAKuiC,OAAOvsB,GAId,GAtPO,SAsPHja,GAnPI,UAmPaA,EAAgB,CACnCiE,EAAKuiC,OAAOvsB,EAAK+yB,GACjB,IAAIoF,EAAUnuC,EAAKwrC,WACflT,EAAc,GAAkBtiB,GACpC,GAAIsiB,GA1PC,SA0Pcv8B,EAAe,eAAKoyC,GAAS,SAAU7U,GACxDA,EAAKuP,kBACC,GAAIvQ,GAzPN,UAyPqBv8B,EAAgB,CACzC,IAAI8oC,EAAe7kC,EAAKnG,IAAI,gBACxBmrC,EAAYh1B,EAAMjU,MAAQ,eACO8I,IAAlBmL,EAAMguB,cAAyCn5B,IAAhBmR,EAAIgoB,QAAkH,QAAzF8C,EAAwC,QAAlC9uB,EAAK6yB,EAAaG,UAA+B,IAAPhzB,OAAgB,EAASA,EAAGrI,eAA4B,IAAPm3B,OAAgB,EAASA,EAAG9C,QAAUhuB,EAAMguB,SAAWhoB,EAAIgoB,SAGzO13B,YAAW,WACT,GAAKtG,IAAQA,EAAKw5B,UAAlB,CACA,IAAI0M,EAAWlmC,EAAK0zB,cACfwS,IAAYA,EAAS1M,WAC1B,eAAK2U,GAAS,SAAU7U,GAClBA,IAASA,EAAKE,WAAWF,EAAKuP,gBAEnC,KAEH,eAAKsF,GAAS,SAAU7U,GACtBA,EAAKuP,cAMbnhB,EAAM1S,KAAK,kBAAmB,CAC5BhV,KAAMA,EACNgW,IAAKA,MAYTm3B,EAAevyC,UAAUwzC,YAAc,SAAUzX,EAAO3P,GACtD,IAEIhV,EAAI8uB,EAFJ5Y,EAAQtvB,KAIR8uB,EAAQ9uB,KAAK8uB,MAMjB,GAJI,mBAASiP,KACXA,EAAQjP,EAAMyQ,SAASxB,IAGpBA,IAASA,EAAM6C,UAApB,CAIA,IAAIxpB,EAAQ2mB,EAAM8R,WACdxQ,EAAYD,GAAahoB,EAAM+9B,UAAY,GAAK/mB,EAAUU,GAC9DiP,EAAMz2B,IAAI,OAAQ+3B,GAClBtB,EAAM4L,OAAO,CACX1nB,EAAGod,EAAUpd,EACbrN,EAAGyqB,EAAUzqB,IAEf,IAAIq3B,EAAelO,EAAM98B,IAAI,gBACzBmrC,EAAYh1B,EAAMjU,MAAQ,eACO8I,IAAlBmL,EAAMguB,QAAkH,QAAzF8C,EAAwC,QAAlC9uB,EAAK6yB,EAAaG,UAA+B,IAAPhzB,OAAgB,EAASA,EAAGrI,eAA4B,IAAPm3B,OAAgB,EAASA,EAAG9C,QAAUhuB,EAAMguB,SAG7L13B,YAAW,WACT,GAAKqwB,IAASA,EAAM6C,UAApB,CACA,IAAI0M,EAAWvP,EAAMjD,cAChBwS,IAAYA,EAAS1M,YAC1B7C,EAAMiQ,YAAY52B,GAElBkY,EAAMmmB,iBAAiB1X,OACtB,KAEH/9B,KAAKy1C,iBAAiB1X,KAI1BwW,EAAevyC,UAAUyzC,iBAAmB,SAAU1X,GAGpD,IAFA,IAAI2X,EAAY3X,EAAM6U,YAAc,GAE3BxyC,EAAI,EAAGA,EAAIs1C,EAAUpzC,OAAQlC,IAAK,CACzC,IAAIsgC,EAAOgV,EAAUt1C,GAErB,GAAIsgC,IAASA,EAAKE,UAAW,CAC3B,IAAI+U,EAASjV,EAAKz/B,IAAI,gBAClB20C,EAAUlV,EAAKsN,YAAYtN,EAAKmP,YAChCgG,EAAYnV,EAAKkJ,eACrBiM,EAAUhI,QACV,IAAIP,EAAWqI,EAAOtM,KAAKuM,EAAQzyC,KAAMyyC,EAASC,GAClDnV,EAAKp5B,IAAI,WAAYgmC,GACrBA,EAAShmC,IAAI,cAAc,GAC3BgmC,EAAShmC,IAAI,aAAa,GAC1Bo5B,EAAKuN,oBASXsG,EAAevyC,UAAUozC,cAAgB,SAAUrX,GACjD,IAAIjP,EAAQ9uB,KAAK8uB,MAEb,mBAASiP,KACXA,EAAQjP,EAAMyQ,SAASxB,IAGzB,IAAI3P,EAAW2P,EAAMgW,cACrB3lB,EAASH,MAAMxd,SAAQ,SAAUoiB,GAC/B/D,EAAMgnB,SAASjjB,MAEjBzE,EAAS8R,OAAOzvB,SAAQ,SAAUhQ,GAChCquB,EAAMgnB,SAASr1C,OASnB8zC,EAAevyC,UAAU+zC,YAAc,SAAUhY,GAC/C,IAAIjP,EAAQ9uB,KAAK8uB,MAEb,mBAASiP,KACXA,EAAQjP,EAAMyQ,SAASxB,IAGzB,IAAI3P,EAAW2P,EAAMgW,cACrB3lB,EAASH,MAAMxd,SAAQ,SAAUoiB,GAC/B/D,EAAMknB,SAASnjB,MAEjBzE,EAAS8R,OAAOzvB,SAAQ,SAAUhQ,GAC5BA,EAAEovC,WAAWsF,UACf10C,EAAEiwC,OAEF5hB,EAAMknB,SAASv1C,OAarB8zC,EAAevyC,UAAUi0C,WAAa,SAAU7uC,GAC9C,IAAIkoB,EAAQtvB,KAER8uB,EAAQ9uB,KAAK8uB,MAMjB,GAJI,mBAAS1nB,KACXA,EAAO0nB,EAAMyQ,SAASn4B,IAGnBA,IAAQA,EAAKw5B,UAAlB,CAIA,IAAIsV,EAAY,gBAAM9uC,EAAKyoC,YAC3B/gB,EAAM1S,KAAK,mBAAoB,CAC7BhV,KAAM8uC,IAER,IAAI/yC,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAIg3B,EAAQvU,EAAM7tB,IAAI,GAAG+D,OAAO7B,EAAM,MAClCN,EAAQwgC,EAAM5gC,QAAQ2E,GAG1B,GAFIvE,GAAS,GAAGwgC,EAAMr9B,OAAOnD,EAAO,GAra7B,SAuaHM,EAAe,CACjB,IAAIgzC,EAASrnB,EAAM7tB,IAAI,IAAI+D,OAAO7B,EAAM,MACpCizC,EAASD,EAAO1zC,QAAQ2E,GACxBgvC,GAAU,GAAGD,EAAOnwC,OAAOowC,EAAQ,GAGzC,IAAIC,EAASjvC,EAAKnG,IAAI,aACR6tB,EAAM7tB,IAAI,WACTo1C,GACf,IAAIC,EAAaxnB,EAAM7tB,IAAI,cACvBktB,EAAK/mB,EAAKnG,IAAI,MAElB,GApbO,SAobHkC,EAAe,CACjB,IAAI66B,EAAU52B,EAAKyoC,WAAW7R,QAE9B,GAAIsY,GAActY,EAAS,CACzB,IAAIuY,EAAaD,EACbrX,GAAU,EAGdqX,EAAW7lC,SAAQ,SAAU+lC,GACvBvX,GACJnC,GAAa0Z,GAAO,SAAUzY,GAC5B,GAAIA,EAAM5P,KAAOA,GAAMooB,EAAY,CACjC,IAAIE,EAAOF,EAAW9zC,QAAQs7B,GAG9B,OAFAwY,EAAWvwC,OAAOywC,EAAM,GACxBxX,GAAU,GACH,EAIT,OADAsX,EAAaxY,EAAM3P,UACZ,QAQb,IAFA,IAEShuB,GAFL8tB,EAAQ9mB,EAAKwrC,YAEEtwC,OAAS,EAAGlC,GAAK,EAAGA,IACrC0uB,EAAMmnB,WAAW/nB,EAAM9tB,IAAI,GAGzB49B,GAASlP,EAAM0mB,YAAYxX,QAC1B,GAjdC,UAidG76B,EAAgB,CACzB,IACIuzC,EADAjZ,EAAWr2B,EAAKyoC,WAAWpS,SAG3BkZ,GAAU,GAEbL,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/BG,GACJ7Z,GAAa0Z,GAAO,SAAUzY,GAC5B,OAAIA,EAAM5P,KAAOA,IACfuoB,EAAgB3Y,EAChB4Y,GAAU,GACH,SAMbD,EAAc1X,SAAU,EAEpB0X,GAAiBA,EAActoB,UACjCsoB,EAActoB,SAAS3d,SAAQ,SAAU4tB,GACvC/O,EAAM2mB,WAAW5X,EAAMlQ,OAK3B,IAAID,EAEJ,IAAS9tB,GAFL8tB,EAAQ9mB,EAAKwrC,YAEEtwC,OAAQlC,GAAK,EAAGA,IACjC0uB,EAAMmnB,WAAW/nB,EAAM9tB,IAAI,GAGzBq9B,GAAU3O,EAAM0mB,YAAY/X,GAGlCr2B,EAAKi7B,UACLvT,EAAM1S,KAAK,kBAAmB,CAC5BhV,KAAM8uC,MAcV3B,EAAevyC,UAAU40C,aAAe,SAAUxvC,EAAM2nC,EAAO1tC,GAC7D,IAAIytB,EAAQ9uB,KAAK8uB,MACbygB,EAAYR,EAEZ,mBAAS1tC,KACXkuC,EAAY,GAAGvqC,OAAO+pC,EAAO,KAAK/pC,OAAO3D,IAIvC+F,EAAK4oC,SAAST,KAAeluC,GAASA,GAC1C,mBAASA,IAAU+F,EAAK4oC,SAAST,KAKjCzgB,EAAM1S,KAAK,wBAAyB,CAClChV,KAAMA,EACN2nC,MAAOQ,EACPsH,QAASx1C,IAEX+F,EAAKokC,SAASuD,EAAO1tC,GACrBytB,EAAMgoB,YACNhoB,EAAM1S,KAAK,uBAAwB,CACjChV,KAAMA,EACN2nC,MAAOQ,EACPsH,QAASx1C,MAUbkzC,EAAevyC,UAAU+0C,cAAgB,SAAU3vC,EAAM2nC,GACvD,IAAIjgB,EAAQ9uB,KAAK8uB,MACbkoB,EAAc5vC,EAEd,mBAASA,KACX4vC,EAAcloB,EAAMyQ,SAASn4B,IAI/BpH,KAAK42C,aAAaI,EAAajI,GAAO,GAEtC/uC,KAAK42C,aAAaI,EAAajI,GAAO,IAWxCwF,EAAevyC,UAAUi1C,gBAAkB,SAAU7vC,EAAMmmC,GACzD,IAAIze,EAAQ9uB,KAAK8uB,MAEb,mBAAS1nB,KACXA,EAAO0nB,EAAMyQ,SAASn4B,IAGxB0nB,EAAM1S,KAAK,wBAAyB,CAClChV,KAAMA,EACNmmC,OAAQA,IAEVnmC,EAAKuoC,YAAYpC,GACjBze,EAAM1S,KAAK,uBAAwB,CACjChV,KAAMA,EACNmmC,OAAQA,KAWZgH,EAAevyC,UAAUk1C,YAAc,SAAU9vC,GAC/C,IAAI0nB,EAAQ9uB,KAAK8uB,MAEb,mBAAS1nB,KACXA,EAAO0nB,EAAMyQ,SAASn4B,IAGxB0nB,EAAM1S,KAAK,oBAAqB,CAC9BhV,KAAMA,IAGRA,EAAK6oC,UACLnhB,EAAM1S,KAAK,mBAAoB,CAC7BhV,KAAMA,KAYVmtC,EAAevyC,UAAUm1C,UAAY,SAAUb,EAAYc,GACzD,IAAI9nB,EAAQtvB,KAER8uB,EAAQ9uB,KAAK8uB,OAChBwnB,GAAc,IAAI7lC,SAAQ,SAAU+lC,GACnC9oB,GAAe8oB,GAAO,SAAUnY,GAC9B,IAAIgZ,EAaJ,OAZAD,EAAY3mC,SAAQ,SAAU2G,GACxBA,EAAM+W,KAAOkQ,EAAMlQ,KACrB/W,EAAMgX,SAAWiQ,EAAMjQ,SACvBhX,EAAMgnB,MAAQC,EAAMD,MACpBiZ,EAAajgC,MAIbigC,GACF/nB,EAAMklB,QAAQ,QAAS6C,IAGlB,QAGX,IAAIrC,EAAalmB,EAAM7tB,IAAI,cACvB+zC,GAAYA,EAAWhuC,QAW7ButC,EAAevyC,UAAUs1C,qBAAuB,SAAUlwC,EAAMiW,GAC9D,IAAIiS,EAAQtvB,KAER8uB,EAAQ9uB,KAAK8uB,MAMjB,GAJI,mBAAS1nB,KACXA,EAAO0nB,EAAMyQ,SAASn4B,IAGnBA,EAAL,CAWA,GANA0nB,EAAM1S,KAAK,6BAA8B,CACvChV,KAAMA,EACNiW,QAASA,IAEXjW,EAAK0mC,iBAAiBzwB,GAElBjW,EAAKiF,SAzqBF,SAyqBajF,EAAKiF,UAAoB,CAC3C,IAAI6hB,EAAQ9mB,EAAKwrC,WACjB,eAAK1kB,GAAO,SAAUwS,KAGhBrjB,GAAaqjB,EAAKz/B,IAAI,UAAUu+B,aAAekB,EAAKz/B,IAAI,UAAUu+B,cAItElQ,EAAMgoB,qBAAqB5W,EAAMrjB,WAE9B,GAAIjW,EAAKiF,SAjrBR,UAirBmBjF,EAAKiF,UAAqB,CACnD,IAAIiqC,EAAaxnB,EAAM7tB,IAAI,cACvBs2C,EAAOnwC,EAAKnG,IAAI,MAChBu2C,EAAa,GACbC,GAAU,GAEbnB,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/BiB,GACCjB,EAAMpoB,UAAsC,IAA1BooB,EAAMpoB,SAAS9rB,QACtCw6B,GAAa0Z,GAAO,SAAUzY,GAC5B,OAAIA,EAAM5P,KAAOopB,IACfC,EAAazZ,EAAM3P,SACnBqpB,GAAU,GACH,SAOTD,KAAgBn6B,GAAWA,IAAYjW,EAAKyoC,WAAWsF,YACzDqC,EAAW/mC,SAAQ,SAAU4tB,GAC3B,IAAIiB,EAAYxQ,EAAMyQ,SAASlB,EAAMlQ,IAErCmB,EAAMgoB,qBAAqBhY,EAAWjiB,MAItC6Q,EAAQ9mB,EAAKwrC,WACjB,eAAK1kB,GAAO,SAAUwS,KAGhBrjB,GAAaqjB,EAAKz/B,IAAI,UAAUu+B,aAAekB,EAAKz/B,IAAI,UAAUu+B,cAItElQ,EAAMgoB,qBAAqB5W,EAAMrjB,MAQrC,OAJAyR,EAAM1S,KAAK,4BAA6B,CACtChV,KAAMA,EACNiW,QAASA,IAEJjW,EAjELkT,QAAQC,KAAK,mDAoEjBg6B,EAAevyC,UAAUqgC,QAAU,WACjCriC,KAAK8uB,MAAQ,KACb9uB,KAAK4gC,WAAY,GAGZ2T,EA9tBT,GCfImD,GAAQ,KA6LG,GAzLf,WACE,SAASC,EAAgB7oB,GACvB9uB,KAAK8uB,MAAQA,EAUb9uB,KAAK43C,aAAe,CAClBf,QAAS,GACTgB,SAAU,IAEZ73C,KAAK4gC,WAAY,EAsKnB,OAxJA+W,EAAgBG,WAAa,SAAU1wC,EAAM2nC,EAAO7nC,GAClD,GAAKA,EAAM6nC,GAAX,CAIA,IAAIlsC,EAAQqE,EAAM6nC,GAAOtsC,QAAQ2E,GAE7BvE,GAAS,GACXqE,EAAM6nC,GAAO/oC,OAAOnD,EAAO,KAc/B80C,EAAgBI,WAAa,SAAU3wC,EAAM2nC,EAAOxB,GAC7CA,EAAOwB,KACVxB,EAAOwB,GAAS,IAGlBxB,EAAOwB,GAAOjsC,KAAKsE,IAYrBuwC,EAAgB31C,UAAUg2C,YAAc,SAAU5wC,EAAM2nC,EAAO8H,GAC7D,IAAIvnB,EAAQtvB,KAER83C,EAAaH,EAAgBG,WAC7BC,EAAaJ,EAAgBI,WAEjC,IAAI3wC,EAAKw5B,UAAT,CAIA,IAAIgX,EAAe53C,KAAK43C,aACpBK,EAAgBL,EAAaf,QAC7BqB,EAAiBN,EAAaC,SAE9BhB,GACFiB,EAAW1wC,EAAM2nC,EAAOmJ,GACxBH,EAAW3wC,EAAM2nC,EAAOkJ,KAExBH,EAAW1wC,EAAM2nC,EAAOkJ,GACxBF,EAAW3wC,EAAM2nC,EAAOmJ,IAGtBR,IACF1pC,aAAa0pC,IAGfA,GAAQhqC,YAAW,WACjBgqC,GAAQ,KAERpoB,EAAM6oB,sBACL,MAYLR,EAAgB31C,UAAUo2C,aAAe,SAAUhxC,EAAMmmC,EAAQsJ,GAC/D,IAAIvnB,EAAQtvB,KAER,mBAASutC,GACXvtC,KAAKg4C,YAAY5wC,EAAMmmC,EAAQsJ,GAE/BtJ,EAAO98B,SAAQ,SAAUs+B,GACvBzf,EAAM0oB,YAAY5wC,EAAM2nC,EAAO8H,OAWrCc,EAAgB31C,UAAUm2C,kBAAoB,WAC5C,IAAI5K,EAASvtC,KAAK8uB,MAAM7tB,IAAI,UACxB22C,EAAe53C,KAAK43C,aACxB,eAAKA,EAAaC,UAAU,SAAUjwC,EAAKjG,GACrC4rC,EAAO5rC,KACT4rC,EAAO5rC,GAAO4rC,EAAO5rC,GAAKe,QAAO,SAAU0E,GACzC,OAAOQ,EAAInF,QAAQ2E,GAAQ,IAAMQ,EAAIg5B,iBAI3C,eAAKgX,EAAaf,SAAS,SAAUjvC,EAAKjG,GACxC,GAAK4rC,EAAO5rC,GAEL,CACL,IAAI02C,EAAQ,GACZ9K,EAAO5rC,GAAK8O,SAAQ,SAAUrJ,GACvBA,EAAKw5B,YACRyX,EAAMjxC,EAAKnG,IAAI,QAAS,MAG5B2G,EAAI6I,SAAQ,SAAUrJ,GACpB,IAAKA,EAAKw5B,UAAW,CACnB,IAAIzS,EAAK/mB,EAAKnG,IAAI,MAEbo3C,EAAMlqB,KACTkqB,EAAMlqB,IAAM,EACZof,EAAO5rC,GAAKmB,KAAKsE,aAdvBmmC,EAAO5rC,GAAOiG,KAoBlB5H,KAAK8uB,MAAM1S,KAAK,mBAAoB,CAClCmxB,OAAQA,IAEVvtC,KAAK43C,aAAe,CAClBf,QAAS,GACTgB,SAAU,KAIdF,EAAgB31C,UAAUqgC,QAAU,WAClCriC,KAAK8uB,MAAQ,KACb9uB,KAAK43C,aAAe,KAEhBF,IACF1pC,aAAa0pC,IAGfA,GAAQ,KACR13C,KAAK4gC,WAAY,GAGZ+W,EAtLT,G,SCGI7rC,GAAa,SAAoBrF,EAAK5F,GACxC,OAAK4F,GAAQ5F,EAIN4F,EAAI8B,QAAQ,oBAAoB,SAAUwD,EAAOpL,GACtD,GAAwB,OAApBoL,EAAMH,OAAO,GACf,OAAOG,EAAMC,MAAM,GAGrB,IAAIssC,EAAMz3C,EAAEF,GAEZ,OADY,IAAR23C,IAAWA,EAAM,KACdA,GAAO,MAVP7xC,GAmBA,GAAY,SAAmBoqB,GACxC,IAAIhsB,EAAO,GAEX,GAAIgsB,EAAOvuB,OAAS,EAClB,MAAM,IAAI+U,MAAM,4CAA4CrS,OAAO6rB,EAAOvuB,SAG5E,IAAK,IAAI+0B,EAAK,EAAGC,EAAWzG,EAAQwG,EAAKC,EAASh1B,OAAQ+0B,IAAM,CAC9D,IAAIzG,EAAQ0G,EAASD,GACjBpV,EAAI2O,EAAM3O,EACVrN,EAAIgc,EAAMhc,EACd/P,EAAK/B,KAAKmf,GACVpd,EAAK/B,KAAK8R,GAGZ,IAAI2jC,EAAY,aAAkB1zC,GAElC,OADA0zC,EAAUtrB,QAAQ,CAAC,IAAK4D,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IACxC2jC,GAWE,GAAkB,SAAyBtd,EAAYC,EAAUnY,EAAS1E,QACnE,IAAZ0E,IACFA,EAAU,QAGG,IAAX1E,IACFA,EAAS,GAGX,IAAIuS,EAAQ,CACV3O,GAAI,EAAIc,GAAWkY,EAAWhZ,EAAIc,EAAUmY,EAASjZ,EACrDrN,GAAI,EAAImO,GAAWkY,EAAWrmB,EAAImO,EAAUmY,EAAStmB,GAEnD4jC,EAAU,CAAC,EAAG,GAClB,IAAKlgB,UAAUkgB,EAAS,CAACtd,EAASjZ,EAAIgZ,EAAWhZ,EAAGiZ,EAAStmB,EAAIqmB,EAAWrmB,IAEvE4jC,IAAYA,EAAQ,IAAOA,EAAQ,MACtCA,EAAU,CAAC,EAAG,IAGhB,IAAIC,EAAgB,EAAED,EAAQ,GAAKn6B,EAAQm6B,EAAQ,GAAKn6B,GAIxD,OAFAuS,EAAM3O,GAAKw2B,EAAc,GACzB7nB,EAAMhc,GAAK6jC,EAAc,GAClB7nB,GASE8nB,GAAkB,SAAyB7nB,EAAQqJ,GAC5D,IAAI53B,EAASuuB,EAAOvuB,OAEpB,IAAKA,EACH,MAAO,GAMT,IAHA,IAAIsO,EAAO,GAGFxQ,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAIgH,EAAOypB,EAAOzwB,GAQlBwQ,GAAQ9E,GANE,IAAN1L,EACI,WAEA,WAGgBgH,GAO1B,OAJI8yB,IACFtpB,GAAQ,KAGHA,GAEE+nC,GAAe,SAAsB/nC,GAC9C,IAAIigB,EAAS,GAab,OAZAjgB,EAAKH,SAAQ,SAAUmoC,GAGrB,GAAgB,MAFFA,EAAI,GAGhB,IAAK,IAAIx4C,EAAI,EAAGA,EAAIw4C,EAAIt2C,OAAQlC,GAAQ,EACtCywB,EAAO/tB,KAAK,CAAC81C,EAAIx4C,GAAIw4C,EAAIx4C,EAAI,SAE1B,CACL,IAAIgiC,EAAWwW,EAAIt2C,OACnBuuB,EAAO/tB,KAAK,CAAC81C,EAAIxW,EAAW,GAAIwW,EAAIxW,EAAW,SAG5CvR,GAOEgoB,GAAkB,SAAyBhoB,GACpD,GAAIA,EAAOvuB,OAAS,EAClB,MAAM,IAAI+U,MAAM,4CAA4CrS,OAAO6rB,EAAOvuB,SAG5E,IAAI0yB,EAAQnE,EAAO,GACfioB,EAASjoB,EAAO,GAChBzqB,EAAOyqB,EAAOA,EAAOvuB,OAAS,GAC9By2C,EAAaloB,EAAOA,EAAOvuB,OAAS,GACxCuuB,EAAO5D,QAAQ7mB,GACfyqB,EAAO5D,QAAQ8rB,GACfloB,EAAO/tB,KAAKkyB,GACZnE,EAAO/tB,KAAKg2C,GAGZ,IAFA,IAAIE,EAAa,GAER54C,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAS,EAAGlC,GAAK,EAAG,CAC7C,IAAI64C,EAAKpoB,EAAOzwB,EAAI,GAAG6hB,EACnBi3B,EAAKroB,EAAOzwB,EAAI,GAAGwU,EACnB6gB,EAAK5E,EAAOzwB,GAAG6hB,EACfyT,EAAK7E,EAAOzwB,GAAGwU,EACf+gB,EAAK9E,EAAOzwB,EAAI,GAAG6hB,EACnB2T,EAAK/E,EAAOzwB,EAAI,GAAGwU,EAGnBukC,EAAO1jB,GAAME,EAAKsjB,GAAM,EACxBG,EAAO1jB,GAAME,EAAKsjB,GAAM,EACxBG,EAAO1jB,IAJFv1B,IAAMywB,EAAOvuB,OAAS,EAAIuuB,EAAOzwB,EAAI,GAAG6hB,EAAI0T,GAI/BF,GAAM,EACxB6jB,EAAO1jB,IAJFx1B,IAAMywB,EAAOvuB,OAAS,EAAIuuB,EAAOzwB,EAAI,GAAGwU,EAAIghB,GAI/BF,GAAM,EAC5BsjB,EAAWl2C,KAAK,CAAC,IAAKq2C,EAAMC,EAAMC,EAAMC,EAAM3jB,EAAIC,IAIpD,OADAojB,EAAW/rB,QAAQ,CAAC,IAAK7mB,EAAK6b,EAAG7b,EAAKwO,IAC/BokC,GAGL,GAAa,SAAoBtzC,EAAGpD,GAEtC,OAAO,IAAKy5B,MAAM,CAAC,EAAG,GAAI,IAAKzD,UAAU,CAAC,EAAG,GAAI5yB,GAAIpD,IAGnDi3C,GAAa,SAAoBtpB,EAAIC,GAEvC,IAAIruB,EAAI,CAACouB,EAAG,GAAKC,EAAG,GAAIA,EAAG,GAAKD,EAAG,IAC/BupB,EAAUn0C,KAAKuS,KAAK/V,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAE/C,GAAgB,IAAZ23C,EACF,MAAM,IAAIniC,MAAM,gCAGlB,MAAO,CAACxV,EAAE,GAAK23C,EAAS33C,EAAE,GAAK23C,IAG7BC,GAAU,SAAiBxpB,EAAIC,GAEjC,MAAO,CAACA,EAAG,GAAKD,EAAG,GAAIC,EAAG,GAAKD,EAAG,KAS7B,SAASypB,GAAYC,EAAY54B,GAoBtC,IAAK44B,GAAcA,EAAWr3C,OAAS,EAAG,MAAO,GACjD,GAA0B,IAAtBq3C,EAAWr3C,OAAc,OAnBV,SAAsBuuB,GACvC,IAAIX,EAAK,CAACW,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK9P,GACnCoP,EAAK,CAACU,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK9P,GACvC,MAAO,KAAK/b,OAAOkrB,EAAI,OAAOlrB,OAAO+b,EAAS,KAAK/b,OAAO+b,EAAS,WAAW/b,OAAOmrB,EAAI,OAAOnrB,OAAO+b,EAAS,KAAK/b,OAAO+b,EAAS,WAAW/b,OAAOkrB,GAgBrH0pB,CAAaD,GACjD,GAA0B,IAAtBA,EAAWr3C,OAAc,OAbV,SAAsBuuB,GACvC,IAAIgpB,EAAe,IAAK9d,MAAM,CAAC,EAAG,GAAIwd,GAAW1oB,EAAO,GAAIA,EAAO,IAAK9P,GACpE+4B,EAAkB,IAAK/d,MAAM,CAAC,EAAG,GAAI8d,GAAe,GACpD5pB,EAAK,IAAK8pB,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAIgpB,GACjC3pB,EAAK,IAAK6pB,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAIgpB,GACjC1pB,EAAK,IAAK4pB,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAIipB,GACjC1pB,EAAK,IAAK2pB,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAIipB,GACrC,MAAO,KAAK90C,OAAOirB,EAAI,OAAOjrB,OAAOkrB,EAAI,OAAOlrB,OAAO,CAAC+b,EAASA,EAAS,QAASoP,GAAI9d,KAAK,KAAM,OAAOrN,OAAOorB,EAAI,OAAOprB,OAAO,CAAC+b,EAASA,EAAS,QAASkP,GAAI5d,KAAK,MAMrI2nC,CAAaL,GAGjD,IAFA,IAAIM,EAAW,IAAI52C,MAAMs2C,EAAWr3C,QAE3B43C,EAAe,EAAGA,EAAeD,EAAS33C,SAAU43C,EAAc,CACzE,IAAIjqB,EAAsB,IAAjBiqB,EAAqBP,EAAWA,EAAWr3C,OAAS,GAAKq3C,EAAWO,EAAe,GACxFhqB,EAAKypB,EAAWO,GAEhB77B,EAAS,IAAK0d,MAAM,CAAC,EAAG,GAAIwd,GAAWtpB,EAAIC,GAAKnP,GACpDk5B,EAASC,GAAgB,CAAC,IAAKH,IAAI,CAAC,EAAG,GAAI9pB,EAAI5R,GAAS,IAAK07B,IAAI,CAAC,EAAG,GAAI7pB,EAAI7R,IAG/E,IAAI87B,EAAU,KAAKn1C,OAAO,CAAC+b,EAASA,EAAS,UAAU1O,KAAK,MAW5D,OAVA4nC,EAAWA,EAAS1pC,KAAI,SAAU6pC,EAASv3C,GACzC,IAAIw3C,EAAe,GAOnB,OALc,IAAVx3C,IACFw3C,EAAe,KAAKr1C,OAAOi1C,EAASA,EAAS33C,OAAS,GAAG,GAAI,MAG/D+3C,GAAgB,GAAGr1C,OAAOm1C,EAAUC,EAAQ,GAAI,OAAOp1C,OAAOo1C,EAAQ,QAGxD/nC,KAAK,KAQhB,SAASioC,GAAWX,EAAY54B,GACrC,IAEuC8P,EAEjCX,EACAC,EALFoqB,EAAaZ,EAAWr3C,OA+B5B,IAAKq3C,GAAcY,EAAa,EAAG,MAAO,GAC1C,GAAmB,IAAfA,EAAkB,OA5BhBrqB,EAAK,EAF4BW,EA8BE8oB,GA5BtB,GAAG,GAAI9oB,EAAO,GAAG,GAAK9P,GACnCoP,EAAK,CAACU,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAK9P,GAChC,KAAK/b,OAAOkrB,EAAI,OAAOlrB,OAAO,CAAC+b,EAASA,EAAS,QAASoP,GAAI9d,KAAK,KAAM,OAAOrN,OAAO,CAAC+b,EAASA,EAAS,QAASmP,GAAI7d,KAAK,MA2BrI,GAAmB,IAAfkoC,EAAkB,OAvBJ,SAAqB1pB,GACrC,IAAInrB,EAAI+zC,GAAQ5oB,EAAO,GAAIA,EAAO,IAC9B2pB,EAAe,GAAW90C,EAAGqb,GAC7B05B,EAAa,IAAKV,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAI,IAAKkL,MAAM,CAAC,EAAG,GAAIye,GAAe,IAC3EE,EAAa,IAAKX,IAAI,CAAC,EAAG,GAAIlpB,EAAO,GAAI2pB,GACzCG,EAAoB,IAAM55B,EAC1B65B,EAAe,GAAW,IAAKtiB,UAAU,CAAC,EAAG,GAAI5yB,GAAIi1C,GACrDE,EAAkB,IAAK9e,MAAM,CAAC,EAAG,GAAI6e,GAAe,GACpDE,EAAW,IAAKf,IAAI,CAAC,EAAG,GAAIU,EAAYI,GACxCE,EAAW,IAAKhB,IAAI,CAAC,EAAG,GAAIW,EAAYG,GACxCG,EAAW,IAAKjB,IAAI,CAAC,EAAG,GAAIU,EAAYG,GAO5C,MAAO,KAAK51C,OAAOy1C,EAAY,OAAOz1C,OAAO,CAAC81C,EAAUC,EAAUL,GAAYroC,KAAK,KAAM,OAAOrN,OAAO,CAACg2C,EAAUP,GAAYpoC,KAAK,KAAM,MAM9G4oC,CAAYtB,GASzC,IARA,IAAIuB,EAAavB,EAAWppC,KAAI,SAAUqgB,EAAO/tB,GAC/C,IAAIs4C,EAAQxB,GAAY92C,EAAQ,GAAK03C,GACrC,MAAO,CACLr4C,EAAG0uB,EACHlrB,EAAG,IAAK4yB,UAAU,CAAC,EAAG,GAAImhB,GAAQ7oB,EAAOuqB,QAIpC/6C,EAAI,EAAGA,EAAI86C,EAAW54C,SAAUlC,EAAG,CAC1C,IAAIg7C,EAAah7C,EAAI,EAAIA,EAAI,EAAIm6C,EAAa,EAC1CC,EAAe,IAAKliB,UAAU,CAAC,EAAG,GAAI,IAAKyhB,IAAI,CAAC,EAAG,GAAImB,EAAWE,GAAY11C,EAAG,IAAKq2B,MAAM,CAAC,EAAG,GAAImf,EAAW96C,GAAGsF,GAAI,KAC1Hw1C,EAAW96C,GAAG8B,EAAI,IAAK63C,IAAI,CAAC,EAAG,GAAImB,EAAW96C,GAAG8B,EAAG,IAAK65B,MAAM,CAAC,EAAG,GAAIye,EAAcz5B,IAGvF,OAAOm6B,EAAW3qC,KAAI,SAAU1M,GAC9B,IAAI+sB,EAAQ/sB,EAAI3B,EAChB,MAAO,CACL+f,EAAG2O,EAAM,GACThc,EAAGgc,EAAM,OC9SR,IAAIyqB,GAAQ,SAAe52C,EAAGmC,EAAG/F,GACtC,OAAQ4D,EAAEmQ,EAAI/T,EAAE+T,IAAMhO,EAAEqb,EAAIphB,EAAEohB,IAAMxd,EAAEwd,EAAIphB,EAAEohB,IAAMrb,EAAEgO,EAAI/T,EAAE+T,IAQjD0mC,GAAgB,SAAuBjY,GAChD,IAAIxS,EAASwS,EAAM9yB,KAAI,SAAUnJ,GAC/B,MAAO,CACL6a,EAAG7a,EAAKyoC,WAAW5tB,EACnBrN,EAAGxN,EAAKyoC,WAAWj7B,MAOvB,GAJAic,EAAO7pB,MAAK,SAAUvC,EAAGmC,GACvB,OAAOnC,EAAEwd,IAAMrb,EAAEqb,EAAIxd,EAAEmQ,EAAIhO,EAAEgO,EAAInQ,EAAEwd,EAAIrb,EAAEqb,KAGrB,IAAlB4O,EAAOvuB,OACT,OAAOuuB,EAMT,IAFA,IAAI0qB,EAAQ,GAEHn7C,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,KAAOm7C,EAAMj5C,QAAU,GAAK+4C,GAAME,EAAMA,EAAMj5C,OAAS,GAAIi5C,EAAMA,EAAMj5C,OAAS,GAAIuuB,EAAOzwB,KAAO,GAChGm7C,EAAMjmC,MAGRimC,EAAMz4C,KAAK+tB,EAAOzwB,IAIpB,IAAIo7C,EAAQ,GAEZ,IAASp7C,EAAIywB,EAAOvuB,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC3C,KAAOo7C,EAAMl5C,QAAU,GAAK+4C,GAAMG,EAAMA,EAAMl5C,OAAS,GAAIk5C,EAAMA,EAAMl5C,OAAS,GAAIuuB,EAAOzwB,KAAO,GAChGo7C,EAAMlmC,MAGRkmC,EAAM14C,KAAK+tB,EAAOzwB,IAMpB,OAHAo7C,EAAMlmC,MACNimC,EAAMjmC,MACWimC,EAAMv2C,OAAOw2C,ICpD5BC,GAAa,CACfC,qBAAsB,IACtBC,sBAAuB,IACvBC,eAAgB,EAChBC,OAAQ,GACRC,OAAQ,GACRC,OAAQ,EACRC,OAAQ,GACRC,YAAa,EACbC,UAAW,KACXC,KAAM,GACNC,oBAAqB,EACrBC,oBAAqB,EACrBC,6BAA8B,IAShC,SAASC,GAAgBC,EAASC,EAAeP,GAC/C,IAAIQ,GAAU,EAEVC,EAAS,SAAgB16B,EAAGrN,GAC9B,OAAO6nC,EAAcG,MAAM36B,EAAIrN,EAAI6nC,EAAclqC,QAG/CsqC,EAAW,SAAkB56B,EAAGrN,GAClC,IAAIkoC,EAAY,EAkBhB,OAhBIH,EAAO16B,EAAI,EAAGrN,EAAI,IAAMsnC,IAC1BY,GAAa,GAGXH,EAAO16B,EAAGrN,EAAI,GAAKsnC,IACrBY,GAAa,GAGXH,EAAO16B,EAAI,EAAGrN,GAAKsnC,IACrBY,GAAa,GAGXH,EAAO16B,EAAGrN,GAAKsnC,IACjBY,GAAa,GAGRA,GAGLC,EAAU,SAAiBC,EAAMC,GAMnC,IALA,IAEIC,EACAC,EAHAl7B,EAAI+6B,EACJpoC,EAAIqoC,EAIC78C,EAAI,EAAGA,EAAIq8C,EAAclqC,MAAQkqC,EAAc37B,OAAQ1gB,IAAK,CAInE,GAHA88C,EAAQj7B,EACRk7B,EAAQvoC,EAEJ4nC,EAAQ93C,WAAU,SAAU0C,GAC9B,OAAOA,EAAK6a,IAAMA,GAAK7a,EAAKwN,IAAMA,MAC9B,GACJ,GAAI4nC,EAAQ,GAAGv6B,IAAMA,GAAKu6B,EAAQ,GAAG5nC,IAAMA,EAEzC,OAAO,OAGT4nC,EAAQ15C,KAAK,CACXmf,EAAGA,EACHrN,EAAGA,IAIP,IAAIm6B,EAAQ8N,EAAS56B,EAAGrN,GAExB,OAAQm6B,GACN,KAAM,EAEJ,OADAz0B,QAAQC,KAAK,0BACN,EAET,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH0H,IAEA,MAEF,KAAK,GACL,KAAK,GACL,KAAK,EACHA,IAEA,MAEF,KAAK,EAEW,IAAVi7B,KACa,IAAXC,EACFl7B,GAAK,EAELA,GAAK,GAIT,MAEF,KAAK,EACL,KAAK,GACL,KAAK,EACHrN,IAEA,MAEF,KAAK,EAEW,IAAVsoC,IACY,IAAVC,EACFvoC,GAAK,EAELA,GAAK,GAIT,MAEF,KAAK,GACL,KAAK,EACL,KAAK,GACHA,IAEA,MAEF,QAEE,OADA0F,QAAQC,KAAK,mCAAmCvV,OAAO+pC,KAChD,KAKf/uC,KAAKo9C,MAAQ,WACX,IAAK,IAAIn7B,EAAI,EAAGA,EAAIw6B,EAAclqC,QAAUmqC,EAASz6B,GAAK,EACxD,IAAK,IAAIrN,EAAI,EAAGA,EAAI6nC,EAAc37B,SAAW47B,EAAS9nC,GAAK,EACrD+nC,EAAO16B,EAAGrN,GAAKsnC,GAAgC,KAAnBW,EAAS56B,EAAGrN,KAC1C8nC,EAAUK,EAAQ96B,EAAGrN,IAK3B,OAAO8nC,GASX,IAsDI,GAAmB,SAA0BrZ,EAAO9N,GACtD,IAAIyB,EAAc1sB,OAAOosB,kBACrB2mB,EAAc,KASlB,OARAha,EAAM5yB,SAAQ,SAAUrJ,GACtB,IAAI2lB,EAAWgK,EAAe3vB,EAAMmuB,GAEhCxI,GAAY,GAAKA,EAAWiK,IAC9BqmB,EAAcj2C,EACd4vB,EAAcjK,MAGXswB,GAwHT,SAASC,GAASl2C,EAAMm2C,EAAYC,EAAS9B,EAAsBO,GACjE,IAAIwB,EAxKiB,SAA0Br2C,EAAMo2C,EAASD,GAC9D,IAAIG,EAAmB,KACnBC,EAAUrzC,OAAOosB,kBAyBrB,OAxBA8mB,EAAQ/sC,SAAQ,SAAUmtC,GACxB,IAAIC,EAAQ,CACV57B,EAAG7a,EAAKyoC,WAAW5tB,EACnBrN,EAAGxN,EAAKyoC,WAAWj7B,GAEjBkpC,EAAiB,CACnB77B,EAAG27B,EAAc/N,WAAW5tB,EAC5BrN,EAAGgpC,EAAc/N,WAAWj7B,GAE1B1G,EAAOqpB,EAAWsmB,EAAOC,GACzBC,EAAa,IAAIvoB,EAAKqoB,EAAM57B,EAAG47B,EAAMjpC,EAAGkpC,EAAe77B,EAAG67B,EAAelpC,GACzEopC,EAAkBT,EAAWr4C,QAAO,SAAUyU,EAAOskC,GACvD,OAAIlnB,EAAeknB,EAAOF,GAAc,EAC/BpkC,EAAQ,EAGVA,IACN,GAECzL,EAAO7I,KAAKkS,IAAIymC,EAAkB,EAAG,GAAKL,IAC5CD,EAAmBE,EACnBD,EAAUzvC,EAAO7I,KAAKkS,IAAIymC,EAAkB,EAAG,OAG5CN,EA6Ie,CAAiBt2C,EAAMo2C,EAASD,GAEtD,GAAwB,OAApBE,EACF,MAAO,GAiCT,OA7BiB,SAAoBS,GAGnC,IAFA,IAAIC,EAAa,GAEVD,EAAa57C,OAAS,GAAG,CAC9B,IAAI87C,EAAQF,EAAa5oC,MAEzB,GAA4B,IAAxB4oC,EAAa57C,OAAc,CAC7B67C,EAAWr7C,KAAKs7C,GAChB,MAGF,IAAIC,EAAQH,EAAa5oC,MACrBgpC,EAAY,IAAI9oB,EAAK4oB,EAAM3oB,GAAI2oB,EAAM1oB,GAAI2oB,EAAM1oB,GAAI0oB,EAAMzoB,IAC3C,GAAiB2nB,EAAYe,IAK7CH,EAAWr7C,KAAKs7C,GAChBF,EAAap7C,KAAKu7C,IAHlBH,EAAap7C,KAAKw7C,GAOtB,OAAOH,EAKQI,CArJA,SAAsBR,EAAYR,EAAY7B,EAAsBO,GACrF,IAAIiC,EAAe,GACfM,EAAe,GACnBA,EAAa17C,KAAKi7C,GAqClB,IApCA,IAAIU,GAAkB,EAClBC,EAAa,EAEbC,EAAc,SAAqB/tB,EAAOmE,GAC5C,IAAI6pB,GAAO,EAcX,OAbA7pB,EAAMtkB,SAAQ,SAAU8kB,GAClBqpB,IAEA9mB,EAAgBlH,EAAO,CACzB3O,EAAGsT,EAAKE,GACR7gB,EAAG2gB,EAAKG,MACJoC,EAAgBlH,EAAO,CAC3B3O,EAAGsT,EAAKI,GACR/gB,EAAG2gB,EAAKK,QAERgpB,GAAO,MAGJA,GAGLC,EAAsB,SAA6BjuB,EAAOkuB,GAC5D,IAAK,IAAIznB,EAAK,EAAG0nB,EAAgBD,EAAaznB,EAAK0nB,EAAcz8C,OAAQ+0B,IAAM,CAC7E,IACIhE,EADO0rB,EAAc1nB,GACT1C,UACZqqB,EAAc,CAAC,CAAC3rB,EAAKpR,EAAGoR,EAAKze,GAAI,CAACye,EAAKpR,EAAIoR,EAAK9gB,MAAO8gB,EAAKze,GAAI,CAACye,EAAKpR,EAAGoR,EAAKze,EAAIye,EAAKvS,QAAS,CAACuS,EAAKpR,EAAIoR,EAAK9gB,MAAO8gB,EAAKze,EAAIye,EAAKvS,SAExI,GAAIkT,EAAiBgrB,EAAapuB,EAAM3O,EAAG2O,EAAMhc,GAC/C,OAAO,EAIX,OAAO,GAIF6pC,GAAmBC,EAAahD,GAAsB,CAC3D+C,GAAkB,EAuDlB,IArDA,IAAIQ,EAAU,WACZ,IAAI1pB,EAAOipB,EAAalpC,MACpB+nC,EAAc,GAAiBE,EAAYhoB,GAE/C,GAAI8nB,EAAa,CACf,IAAIjkC,EAAKud,EAAoB0mB,EAAa9nB,GACtC2pB,EAAkB9lC,EAAG,GAIzB,GAA2B,IAHFA,EAAG,GAGE,CAC5B,IAAI+lC,EAAc,SAAqBC,GAOrC,IANA,IAAIC,EAAkBpD,EAClBqD,EAAcC,GAAYlC,EAAagC,EAAiBH,EAAiBE,GAEzEI,EAAQb,EAAYW,EAAad,IAAiBG,EAAYW,EAAapB,GAC3EuB,EAAcZ,EAAoBS,EAAa/B,IAE3CiC,GAASC,GAAeJ,GAAmB,GAGjDC,EAAcC,GAAYlC,EAD1BgC,GAAmB,IACqCH,EAAiBE,GACzEI,EAAQb,EAAYW,EAAad,IAAiBG,EAAYW,EAAapB,GAC3EuB,EAAcZ,EAAoBS,EAAa/B,IAI7C+B,GAAgBE,GAAWJ,GAAYK,IAEzCjB,EAAa17C,KAAK,IAAI0yB,EAAKD,EAAKE,GAAIF,EAAKG,GAAI4pB,EAAYr9B,EAAGq9B,EAAY1qC,IACxE4pC,EAAa17C,KAAK,IAAI0yB,EAAK8pB,EAAYr9B,EAAGq9B,EAAY1qC,EAAG2gB,EAAKI,GAAIJ,EAAKK,KACvE6oB,GAAkB,IAItBU,GAAY,GAEPV,GAEHU,GAAY,IAMbV,GACHP,EAAap7C,KAAKyyB,GAGpBmpB,GAAc,IAIRD,GAAmBD,EAAal8C,QACtC28C,IAKJ,KAAOT,EAAal8C,QAClB47C,EAAap7C,KAAK07C,EAAalpC,OAGjC,OAAO4oC,EA0CY,CADF,IAAI1oB,EAAKpuB,EAAKyoC,WAAW5tB,EAAG7a,EAAKyoC,WAAWj7B,EAAG6oC,EAAgB5N,WAAW5tB,EAAGw7B,EAAgB5N,WAAWj7B,GAC7E2oC,EAAY7B,EAAsBO,IAazE,IAAI,GAAe,SAAsByD,EAASnC,EAAYroC,GAEnE,IAAInE,EAAUjQ,OAAO0S,OAAOioC,GAAYvmC,GACpCyqC,EAAWzoB,EAAgBwoB,EAAQnvC,KAAI,SAAUnJ,GACnD,MAAO,CACL6a,EAAG7a,EAAKyoC,WAAW5tB,EACnBrN,EAAGxN,EAAKyoC,WAAWj7B,OAIvB8qC,EAAUA,EAAQ14C,MAAK,SAAUvC,EAAGmC,GAClC,OAAO2wB,EAAW,CAChBtV,EAAGxd,EAAEorC,WAAW5tB,EAChBrN,EAAGnQ,EAAEorC,WAAWj7B,GACf+qC,GAAYpoB,EAAW,CACxBtV,EAAGrb,EAAEipC,WAAW5tB,EAChBrN,EAAGhO,EAAEipC,WAAWj7B,GACf+qC,MAEL,IAAInC,EAAU,GACVoC,EAAe,GACnBF,EAAQjvC,SAAQ,SAAUrJ,GACZk2C,GAASl2C,EAAMm2C,EAAYC,EAASzsC,EAAQ2qC,qBAAsB3qC,EAAQkrC,aAChFxrC,SAAQ,SAAUpQ,GACtBu/C,EAAa98C,KAAKzC,MAEpBm9C,EAAQ16C,KAAKsE,MAYf,IANA,IAzQyCmL,EAAOuO,EAAQ86B,EACpDiE,EACAC,EAuQAC,EAiFN,SAA0BL,EAASxxB,EAAO7P,GACxC,IAAI0hC,EAAe,CACjBxsB,KAAMjpB,OAAOosB,kBACblD,KAAMlpB,OAAOosB,kBACbnC,KAAMjqB,OAAO01C,kBACbxrB,KAAMlqB,OAAO01C,kBACbztC,MAAO,EACPuO,OAAQ,EACRmB,EAAG,EACHrN,EAAG,GAEDqrC,EAAS,GACbP,EAAQjvC,SAAQ,SAAUrJ,GACxB64C,EAAOn9C,KAAKsE,EAAKutB,cAEnBzG,EAAMzd,SAAQ,SAAUpQ,GACtB4/C,EAAOn9C,KAAKzC,EAAEs0B,cAGhB,IAAK,IAAI0C,EAAK,EAAG6oB,EAAWD,EAAQ5oB,EAAK6oB,EAAS59C,OAAQ+0B,IAAM,CAC9D,IAAIhE,EAAO6sB,EAAS7oB,GACpB0oB,EAAaxsB,MAAQF,EAAKE,KAAOwsB,EAAaxsB,KAAOF,EAAKE,KAAOwsB,EAAaxsB,MAAQlV,EACtF0hC,EAAavsB,MAAQH,EAAKG,KAAOusB,EAAavsB,KAAOH,EAAKG,KAAOusB,EAAavsB,MAAQnV,EACtF0hC,EAAaxrB,MAAQlB,EAAKkB,KAAOwrB,EAAaxrB,KAAOlB,EAAKkB,KAAOwrB,EAAaxrB,MAAQlW,EACtF0hC,EAAavrB,MAAQnB,EAAKmB,KAAOurB,EAAavrB,KAAOnB,EAAKmB,KAAOurB,EAAavrB,MAAQnW,EAOxF,OAJA0hC,EAAaxtC,MAAQwtC,EAAaxrB,KAAOwrB,EAAaxsB,KACtDwsB,EAAaj/B,OAASi/B,EAAavrB,KAAOurB,EAAavsB,KACvDusB,EAAa99B,EAAI89B,EAAaxsB,KAC9BwsB,EAAanrC,EAAImrC,EAAavsB,KACvBusB,EAhHYI,CAAiBT,EAASE,EAAc7uC,EAAQgrC,QAC/DU,GA1QqClqC,EA0QPwtC,EAAaxtC,MA1QCuO,EA0QMi/B,EAAaj/B,OA1QX86B,EA0QmB7qC,EAAQ6qC,eAzQ/EiE,EAAax6C,KAAKq+B,KAAKnxB,EAAQqpC,GAC/BkE,EAAcz6C,KAAKq+B,KAAK5iB,EAAS86B,GAE9B,CACLgB,MAFc,IAAIwD,aAAa/6C,KAAKC,IAAI,EAAGu6C,EAAaC,IAAc5hC,KAAK,GAG3E3L,MAAOstC,EACP/+B,OAAQg/B,IAqQNtD,EAAU,GACV6D,EAAO,GAEF3B,EAAa,EAAGA,EAAa3tC,EAAQ4qC,sBAAuB+C,IAInE,GAHA4B,GAAkBZ,EAASnC,EAAYqC,EAAcG,EAActD,EAAe1rC,GAElFsvC,EAAO,GACF,IAAI9D,GAFTC,EAAU,GAEwBC,EAAe1rC,EAAQmrC,WAAWkB,QAApE,CACA,IAAImD,EAAc/D,EAAQjsC,KAAI,SAAUqgB,GACtC,MAAO,CACL3O,EAAG5c,KAAKyE,MAAM8mB,EAAM3O,EAAIlR,EAAQ6qC,eAAiBmE,EAAaxsB,MAC9D3e,EAAGvP,KAAKyE,MAAM8mB,EAAMhc,EAAI7D,EAAQ6qC,eAAiBmE,EAAavsB,UAIlE,GAAI+sB,EAAa,CACf,IAAIrwC,EAAOqwC,EAAYj+C,OAEvB,GAAIyO,EAAQorC,KAAO,EAGjB,IAFAjsC,EAAO7K,KAAKqS,MAAM6oC,EAAYj+C,OAASyO,EAAQorC,MAExCjsC,EAAO,GAAKa,EAAQorC,KAAO,GAChCprC,EAAQorC,MAAQ,EAChBjsC,EAAO7K,KAAKqS,MAAM6oC,EAAYj+C,OAASyO,EAAQorC,MAKnD,IAAK,IAAI/7C,EAAI,EAAGuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EAAGvH,GAAK2Q,EAAQorC,KACpDkE,EAAKv9C,KAAK,CACRmf,EAAGs+B,EAAYngD,GAAG6hB,EAClBrN,EAAG2rC,EAAYngD,GAAGwU,IAqBxB,GAAIyrC,GAhBiB,WACnB,IAAK,IAAIhpB,EAAK,EAAGmpB,EAAYd,EAASroB,EAAKmpB,EAAUl+C,OAAQ+0B,IAAM,CACjE,IAAIjwB,EAAOo5C,EAAUnpB,GACjB6jB,EAAamF,EAAK9vC,KAAI,SAAUqgB,GAClC,MAAO,CAACA,EAAM3O,EAAG2O,EAAMhc,MAEzB,IAAKof,EAAiBknB,EAAY9zC,EAAKutB,UAAUwC,QAAS/vB,EAAKutB,UAAUyC,SAAU,OAAO,EAO5F,OAAO,EAGGqpB,GACV,OAAOJ,EAMT,GAFAtvC,EAAQmrC,WAAa,GAEjBwC,GAA8C,GAAhC3tC,EAAQ4qC,sBACxB5qC,EAAQ2vC,uBAAyB,IACjC3vC,EAAQsrC,qBAAuB,QAC1B,MAAyC,IAArCtrC,EAAQ4vC,0BAAkCpD,EAAWj7C,OAAS,GAIvE,MAFAyO,EAAQ4vC,0BAA4B,IAMxC,OAAON,GA0CT,SAASC,GAAkBZ,EAASnC,EAAYrvB,EAAO6xB,EAActD,EAAe1rC,GAClF,SAAS6vC,EAAW3+B,EAAG5D,GACrB,IAAIwiC,EAASx7C,KAAKqS,OAAOuK,EAAI5D,GAAUtN,EAAQ6qC,gBAC/C,OAAOiF,EAAS,EAAI,EAAIA,EAG1B,SAASC,EAAW7+B,EAAG5D,GACrB,OAAO4D,EAAIlR,EAAQ6qC,eAAiBv9B,EAItC,IAAI0iC,GAAYhwC,EAAQgrC,OAAShrC,EAAQirC,SAAWjrC,EAAQgrC,OAAShrC,EAAQirC,QACzEgF,GAAYjwC,EAAQ8qC,OAAS9qC,EAAQ+qC,SAAW/qC,EAAQ8qC,OAAS9qC,EAAQ+qC,QAEzEmF,EAAoB,SAA2B5tB,EAAM6tB,GAKvD,MAAO,CAJM77C,KAAKE,IAAIq7C,EAAWvtB,EAAKE,KAAM2tB,EAAanB,EAAaxsB,MAAOkpB,EAAclqC,OAC9ElN,KAAKE,IAAIq7C,EAAWvtB,EAAKG,KAAM0tB,EAAanB,EAAavsB,MAAOipB,EAAc37B,QAChFzb,KAAKE,IAAIq7C,EAAWvtB,EAAKkB,MAAO2sB,EAAanB,EAAaxsB,MAAOkpB,EAAclqC,OAC/ElN,KAAKE,IAAIq7C,EAAWvtB,EAAKmB,MAAO0sB,EAAanB,EAAavsB,MAAOipB,EAAc37B,UAIxFqgC,EAAmB,SAA0B/5C,EAAMg6C,GAUrD,IATA,IAAI/tB,EAAOjsB,EAAKutB,UAEZvb,EAAK6nC,EAAkB5tB,EAAMtiB,EAAQirC,QACrCqF,EAASjoC,EAAG,GACZkoC,EAASloC,EAAG,GACZmoC,EAAOnoC,EAAG,GACVooC,EAAOpoC,EAAG,GAGLxE,EAAI0sC,EAAQ1sC,EAAI4sC,EAAM5sC,GAAK,EAClC,IAAK,IAAIqN,EAAIo/B,EAAQp/B,EAAIs/B,EAAMt/B,GAAK,EAClC,KAAIm/B,EAAkB,GAAK3E,EAAcx6B,EAAIrN,EAAI6nC,EAAclqC,QAAU,GAAzE,CAIA,IAAIkvC,EAAQX,EAAW7+B,EAAG89B,EAAaxsB,MACnCmuB,EAAQZ,EAAWlsC,EAAGmrC,EAAavsB,MACnCmuB,EAAa5pB,EAAoB,CACnC9V,EAAGw/B,EACH7sC,EAAG8sC,GACF,CACDz/B,EAAGoR,EAAKE,KACR3e,EAAGye,EAAKG,KACRjhB,MAAO8gB,EAAK9gB,MACZuO,OAAQuS,EAAKvS,SAGf,GAAI6gC,EAAat8C,KAAKkS,IAAIxG,EAAQirC,OAAQ,GAAI,CAC5C,IAAI4F,EAAKv8C,KAAKuS,KAAK+pC,GAAc5wC,EAAQirC,OACzCS,EAAcG,MAAM36B,EAAIrN,EAAI6nC,EAAclqC,QAAU6uC,EAAkBQ,EAAKA,KAqC/E7wC,EAAQqrC,qBACVsD,EAAQjvC,SAAQ,SAAUrJ,GACxB+5C,EAAiB/5C,EAAM2J,EAAQqrC,oBAAsB2E,MAIrDhwC,EAAQsrC,qBACVnuB,EAAMzd,SAAQ,SAAUiwB,IAtCH,SAA0BnL,EAAM6rB,GAUrD,IATA,IAAI/tB,EAAOkC,EAAKZ,UAEZvb,EAAK6nC,EAAkB5tB,EAAMtiB,EAAQ+qC,QACrCuF,EAASjoC,EAAG,GACZkoC,EAASloC,EAAG,GACZmoC,EAAOnoC,EAAG,GACVooC,EAAOpoC,EAAG,GAGLxE,EAAI0sC,EAAQ1sC,EAAI4sC,EAAM5sC,GAAK,EAClC,IAAK,IAAIqN,EAAIo/B,EAAQp/B,EAAIs/B,EAAMt/B,GAAK,EAClC,KAAIm/B,EAAkB,GAAK3E,EAAcG,MAAM36B,EAAIrN,EAAI6nC,EAAclqC,QAAU,GAA/E,CAIA,IAAIkvC,EAAQX,EAAW7+B,EAAG89B,EAAaxsB,MACnCmuB,EAAQZ,EAAWlsC,EAAGmrC,EAAavsB,MACnCquB,EAAgBrqB,EAAoB,CACtCvV,EAAGw/B,EACH7sC,EAAG8sC,GACFnsB,GAEH,GAAIssB,EAAgBx8C,KAAKkS,IAAIxG,EAAQ+qC,OAAQ,GAAI,CAC/C,IAAIgG,EAAMz8C,KAAKuS,KAAKiqC,GAAiB9wC,EAAQ+qC,OAC7CW,EAAcG,MAAM36B,EAAIrN,EAAI6nC,EAAclqC,QAAU6uC,EAAkBU,EAAMA,IAchFC,CAAiBrhB,EAAM3vB,EAAQsrC,oBAAsB2E,MAIrDjwC,EAAQurC,6BACViB,EAAW9sC,SAAQ,SAAUrJ,GAC3B+5C,EAAiB/5C,EAAM2J,EAAQurC,4BAA8ByE,MAKnE,SAASxB,GAAYn4C,EAAM46C,EAAQlrB,EAAemrB,GAChD,IAAI5uB,EAAOjsB,EAAKutB,UACZutB,EAAeprB,EAAc,GAC7BqrB,EAAgBrrB,EAAc,GAC9BsrB,EAAkBtrB,EAAc,GAChCurB,EAAiBvrB,EAAc,GAC/BwrB,EAAY,CACdC,QAAS,CACPtgC,EAAGoR,EAAKE,KAAOyuB,EACfptC,EAAGye,EAAKG,KAAOwuB,GAEjBQ,SAAU,CACRvgC,EAAGoR,EAAKkB,KAAOytB,EACfptC,EAAGye,EAAKG,KAAOwuB,GAEjBS,WAAY,CACVxgC,EAAGoR,EAAKE,KAAOyuB,EACfptC,EAAGye,EAAKmB,KAAOwtB,GAEjBU,YAAa,CACXzgC,EAAGoR,EAAKkB,KAAOytB,EACfptC,EAAGye,EAAKmB,KAAOwtB,IAGfW,EAAYtvB,EAAKvS,OAASuS,EAAK9gB,MAEnC,SAASqwC,EAAaC,EAAYC,GAChC,OAAOzvB,EAAK9gB,OAAmE,IAAzDswC,EAAWjuC,EAAIye,EAAKG,MAAQsvB,EAAWluC,EAAIye,EAAKG,QAIxE,GAAI2uB,EAEF,OAAID,EAAqBD,EAAaK,EAAUC,QAAUD,EAAUI,YAChEN,EAAwBH,EAAaK,EAAUG,WAAaH,EAAUE,SAE5DI,EAAaT,EAAeE,GAEhB,GAAZM,EACRR,EAAcvtC,EAAIytC,EAAeztC,EAAUqtC,EAAaK,EAAUC,QAAUD,EAAUI,YACnFT,EAAaK,EAAUE,SAAWF,EAAUG,WAGjDN,EAAcvtC,EAAIytC,EAAeztC,EAAUqtC,EAAaK,EAAUG,WAAaH,EAAUE,SACtFP,EAAaK,EAAUI,YAAcJ,EAAUC,QAGxD,GAAIF,EAAgB,CAClB,GAAIH,EAAc,OAAOD,EAAaK,EAAUE,SAAWF,EAAUG,WACrE,GAAIL,EAAiB,OAAOH,EAAaK,EAAUI,YAAcJ,EAAUC,QAM7E,OAFeK,EAAaV,EAAcE,GAEf,GAAZO,EACTT,EAAajgC,EAAImgC,EAAgBngC,EAAUggC,EAAaK,EAAUC,QAAUD,EAAUI,YACnFT,EAAaK,EAAUG,WAAaH,EAAUE,SAGnDN,EAAajgC,EAAImgC,EAAgBngC,EAAUggC,EAAaK,EAAUE,SAAWF,EAAUG,WACpFR,EAAaK,EAAUI,YAAcJ,EAAUC,QCxrBxD,IAwRe,GAtRf,WACE,SAASQ,EAAKj0B,EAAO1R,GACnBpd,KAAKod,IAAM,kBAAQpd,KAAKwuB,gBAAiBpR,GACzCpd,KAAK8uB,MAAQA,EACb9uB,KAAKmuB,GAAKnuB,KAAKod,IAAI+Q,GACnBnuB,KAAKizB,MAAQjzB,KAAKod,IAAI6V,MACtBjzB,KAAK0/C,QAAU1/C,KAAKod,IAAIsiC,QAAQnvC,KAAI,SAAUnJ,GAC5C,OAAO,mBAASA,GAAQ0nB,EAAMyQ,SAASn4B,GAAQA,KAEjDpH,KAAKu9C,WAAav9C,KAAKod,IAAImgC,WAAWhtC,KAAI,SAAUnJ,GAClD,OAAO,mBAASA,GAAQ0nB,EAAMyQ,SAASn4B,GAAQA,KAEjDpH,KAAKgjD,aACLhjD,KAAKijD,UACLjjD,KAAK4Q,KAAO5Q,KAAKkjD,SAASljD,KAAK0/C,QAAS1/C,KAAKu9C,YAC7Cv9C,KAAKmjD,SAoQP,OAjQAJ,EAAK/gD,UAAUwsB,cAAgB,WAC7B,MAAO,CACLL,GAAI,UACJhrB,KAAM,eACNu8C,QAAS,GACTnC,WAAY,GACZt/B,MAAO,CACLC,KAAM,YACNM,OAAQ,OACR4kC,QAAS,IAEXriC,QAAS,KAIbgiC,EAAK/gD,UAAUghD,WAAa,WAC1B,IAAIK,EAAWrjD,KAAK0/C,QAAQp9C,QAAUtC,KAAK0/C,QAAQ,GAAG5kB,cAAcxH,gBAAgB/gB,MAAQ,EAC5FvS,KAAK+gB,QAAU/gB,KAAKod,IAAI2D,QAAU,EAAI/gB,KAAKod,IAAI2D,QAAUsiC,EAAW,GAAKA,EACzErjD,KAAKod,IAAIkmC,UAAY,CACnBvH,OAAQ/7C,KAAK+gB,QAAUsiC,EACvBrH,OAAQh8C,KAAK+gB,QAAUsiC,EACvBpH,YAAaj8C,KAAK+gB,QAAUsiC,IAIhCN,EAAK/gD,UAAUihD,QAAU,WACvBjjD,KAAKmD,KAAOnD,KAAKod,IAAIja,KAEjBnD,KAAK0/C,QAAQp9C,OAAS,IACxBtC,KAAKmD,KAAO,gBAGI,iBAAdnD,KAAKmD,MAAyC,kBAAdnD,KAAKmD,MAA0C,WAAdnD,KAAKmD,OACxEmX,QAAQC,KAAK,0GACbva,KAAKmD,KAAO,iBAIhB4/C,EAAK/gD,UAAUkhD,SAAW,SAAUxD,EAASnC,GAC3C,IAAIf,EAAS5rC,EAAMyvC,EAEnB,OAAQrgD,KAAKmD,MACX,IAAK,eAEHk9C,EAAO3G,IADP8C,EAAUlB,GAAcoE,IACGnvC,KAAI,SAAUrO,GACvC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAO,aAAgByvC,GACvB,MAEF,IAAK,gBAGoB,KAFvB7D,EAAUlB,GAAcoE,IAEZp9C,QACV+9C,EAAO3G,GAAY8C,EAAQjsC,KAAI,SAAUrO,GACvC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAO,aAAgByvC,IACd7D,EAAQl6C,OAAS,IAC1B+9C,EAAO/F,GAAWkC,EAAQjsC,KAAI,SAAUrO,GACtC,MAAO,CAACA,EAAE+f,EAAG/f,EAAE0S,MACb5U,KAAK+gB,SACTnQ,EAAOioC,GAAgBwH,IAGzB,MAEF,IAAK,SAEHzvC,GADA4rC,EAAU,GAAakD,EAASnC,EAAYv9C,KAAKod,IAAIkmC,YACtChhD,QAAU,GAAKu2C,GAAgB2D,GAMlD,OAAO5rC,GAGTmyC,EAAK/gD,UAAUmhD,OAAS,WACtBnjD,KAAKizB,MAAMwW,SAAS,OAAQ,CAC1BzlC,MAAO,YAAS,CACd4M,KAAM5Q,KAAK4Q,MACV5Q,KAAKod,IAAIa,OACZkQ,GAAInuB,KAAKmuB,GACTxtB,KAAMX,KAAKod,IAAI+Q,KAEjBnuB,KAAKizB,MAAMwd,UASbsS,EAAK/gD,UAAUuhD,UAAY,SAAUn8C,GACnC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK8uB,MAAMyQ,SAASn4B,IAC/CpH,KAAK0/C,QAAQ58C,KAAKsE,GAClB,IAAIvE,EAAQ7C,KAAKu9C,WAAW96C,QAAQ2E,GAOpC,OALIvE,GAAS,GACX7C,KAAKu9C,WAAWv3C,OAAOnD,EAAO,GAGhC7C,KAAKwjD,WAAWxjD,KAAK0/C,QAAS1/C,KAAKu9C,aAC5B,IASTwF,EAAK/gD,UAAUyhD,aAAe,SAAUr8C,GACtC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK8uB,MAAMyQ,SAASn4B,IAC/CpH,KAAKu9C,WAAWz6C,KAAKsE,GACrB,IAAIvE,EAAQ7C,KAAK0/C,QAAQj9C,QAAQ2E,GAOjC,OALIvE,GAAS,GACX7C,KAAK0/C,QAAQ15C,OAAOnD,EAAO,GAG7B7C,KAAKwjD,WAAWxjD,KAAK0/C,QAAS1/C,KAAKu9C,aAC5B,IASTwF,EAAK/gD,UAAU0hD,aAAe,SAAUt8C,GACtC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK8uB,MAAMyQ,SAASn4B,IAC/C,IAAIvE,EAAQ7C,KAAK0/C,QAAQj9C,QAAQ2E,GAEjC,OAAIvE,GAAS,IACX7C,KAAK0/C,QAAQ15C,OAAOnD,EAAO,GAC3B7C,KAAKwjD,WAAWxjD,KAAK0/C,QAAS1/C,KAAKu9C,aAC5B,KAWXwF,EAAK/gD,UAAU2hD,gBAAkB,SAAUv8C,GACzC,GAAKA,EAAL,CACI,mBAASA,KAAOA,EAAOpH,KAAK8uB,MAAMyQ,SAASn4B,IAC/C,IAAIvE,EAAQ7C,KAAKu9C,WAAW96C,QAAQ2E,GAEpC,OAAIvE,GAAS,IACX7C,KAAKu9C,WAAWv3C,OAAOnD,EAAO,GAC9B7C,KAAKwjD,WAAWxjD,KAAK0/C,QAAS1/C,KAAKu9C,aAC5B,KAMXwF,EAAK/gD,UAAUwhD,WAAa,SAAU9D,EAASnC,GAC7C,IAAIjuB,EAAQtvB,KAEZA,KAAKizB,MAAMsM,SAASv/B,KAAKmuB,IAAI3nB,SACzBk5C,IAAS1/C,KAAK0/C,QAAUA,EAAQnvC,KAAI,SAAUnJ,GAChD,OAAO,mBAASA,GAAQkoB,EAAMR,MAAMyQ,SAASn4B,GAAQA,MAEnDm2C,IAAYv9C,KAAKu9C,WAAaA,EAAWhtC,KAAI,SAAUnJ,GACzD,OAAO,mBAASA,GAAQkoB,EAAMR,MAAMyQ,SAASn4B,GAAQA,MAEvDpH,KAAK4Q,KAAO5Q,KAAKkjD,SAASljD,KAAK0/C,QAAS1/C,KAAKu9C,YAC7Cv9C,KAAKmjD,UAGPJ,EAAK/gD,UAAU4hD,YAAc,SAAUxmC,GAC1Bpd,KAAKizB,MAAMsM,SAASv/B,KAAKmuB,IAC/B2c,KAAK,YAAS,GAAI1tB,KAQzB2lC,EAAK/gD,UAAU0sB,UAAY,SAAUtR,GACnC,IAAIkS,EAAQtvB,KAEZA,KAAKod,IAAM,kBAAQpd,KAAKod,IAAKA,GAC7Bpd,KAAKmuB,GAAKnuB,KAAKod,IAAI+Q,GACnBnuB,KAAKizB,MAAQjzB,KAAKod,IAAI6V,MAElB7V,EAAIsiC,UACN1/C,KAAK0/C,QAAU1/C,KAAKod,IAAIsiC,QAAQnvC,KAAI,SAAUnJ,GAC5C,OAAO,mBAASA,GAAQkoB,EAAMR,MAAMyQ,SAASn4B,GAAQA,MAIrDgW,EAAImgC,aACNv9C,KAAKu9C,WAAav9C,KAAKod,IAAImgC,WAAWhtC,KAAI,SAAUnJ,GAClD,OAAO,mBAASA,GAAQkoB,EAAMR,MAAMyQ,SAASn4B,GAAQA,MAKzDpH,KAAKgjD,aACLhjD,KAAKijD,UACLjjD,KAAK4Q,KAAO5Q,KAAKkjD,SAASljD,KAAK0/C,QAAS1/C,KAAKu9C,YAC7Cv9C,KAAKmjD,UAQPJ,EAAK/gD,UAAU6hD,QAAU,SAAUz8C,GACjC,IAEI08C,EAQAC,EAVAz0B,EAAQtvB,KAWR8c,GANFgnC,EADE,mBAAS18C,GACApH,KAAK8uB,MAAMyQ,SAASn4B,GAEpBA,GAIQ0zB,cAErB,GAA6B,SAAzBgpB,EAAS7iD,IAAI,QACf8iD,EAAcpL,GAAa77B,EAAMguB,KAAK,aACjC,CACL,IAAIkZ,EAAYlnC,EAAMwW,gBACtBywB,EAAc,CAAC,CAACC,EAAUzwB,KAAMywB,EAAUxwB,MAAO,CAACwwB,EAAUzvB,KAAMyvB,EAAUxwB,MAAO,CAACwwB,EAAUzvB,KAAMyvB,EAAUxvB,MAAO,CAACwvB,EAAUzwB,KAAMywB,EAAUxvB,OAQlJ,OALAuvB,EAAcA,EAAYxzC,KAAI,SAAUy1B,GACtC,IAAIpV,EAAQtB,EAAMR,MAAMyW,iBAAiBS,EAAY,GAAIA,EAAY,IAErE,MAAO,CAACpV,EAAM3O,EAAG2O,EAAMhc,MAElB,EAAoBmvC,EAAapL,GAAa34C,KAAK4Q,QAG5DmyC,EAAK/gD,UAAUqgC,QAAU,WACvBriC,KAAKizB,MAAMzsB,SACXxG,KAAKod,IAAM,MAGN2lC,EAnRT,GCJI,GAAY,IAAInzB,UAykGL,GApkGf,SAAU0S,GAGR,SAAS2hB,EAAc7mC,GACrB,IAAIkS,EAAQgT,EAAO/hC,KAAKP,OAASA,KAejC,OAbAsvB,EAAMlS,IAAM,kBAAQkS,EAAMd,gBAAiBpR,GAE3CkS,EAAM/oB,OAEN+oB,EAAM40B,WAAY,EAClB50B,EAAMsR,WAAY,EAEdtR,EAAMlS,IAAI+mC,eAEZ70B,EAAM80B,UAAY,IAAI,QAAM90B,EAAMlS,IAAIinC,SACtC/0B,EAAMg1B,UAAY,IAAI,QAAMh1B,EAAMlS,IAAIinC,UAGjC/0B,EA8iGT,OAhkGA,YAAU20B,EAAe3hB,GAqBzB2hB,EAAcjiD,UAAUuE,KAAO,WAC7BvG,KAAKukD,aAEL,IAAIC,EAAiB,IAAI,GAAexkD,MACpCykD,EAAiB,IAAI,GAAezkD,MACpC0kD,EAAiB,IAAI,GAAe1kD,MACpC2kD,EAAkB,IAAI,GAAgB3kD,MAC1CA,KAAKsH,IAAI,CACPk9C,eAAgBA,EAChBC,eAAgBA,EAChBC,eAAgBA,EAChBC,gBAAiBA,IAGnB3kD,KAAK4kD,uBAEL5kD,KAAK6kD,sBACL7kD,KAAK8kD,aAGL9kD,KAAK+kD,cACL/kD,KAAKglD,UAAY,gCAAsBhlD,KAAKilD,OAAOrjD,KAAK5B,QAI1DikD,EAAcjiD,UAAU8iD,WAAa,WACnC,IAAIriC,EAASziB,KAAKiB,IAAI,UAElBktB,EADKnuB,KAAKiB,IAAI,UAAUA,IAAI,MACpBktB,GACR8E,EAAQxQ,EAAOsyB,SAAS,CAC1B5mB,GAAI,GAAGnpB,OAAOmpB,EAAI,SAClBgd,UAAW,GAAO3tB,yBAGpB,GAAIxd,KAAKiB,IAAI,gBAAiB,CAC5B,IAAI40C,EAAY5iB,EAAM8hB,SAAS,CAC7B5mB,GAAI,GAAGnpB,OAAOmpB,EAAI,SAClBgd,UAAW,GAAOvtB,yBAEhBsnC,EAAYjyB,EAAM8hB,SAAS,CAC7B5mB,GAAI,GAAGnpB,OAAOmpB,EAAI,SAClBgd,UAAW,GAAOxtB,yBAEhBq3B,EAAa/hB,EAAM8hB,SAAS,CAC9B5mB,GAAI,GAAGnpB,OAAOmpB,EAAI,UAClBgd,UAAW,GAAOttB,0BAGpBm3B,EAAWvE,SACXzwC,KAAKsH,IAAI,CACP49C,UAAWA,EACXrP,UAAWA,EACXb,WAAYA,IAIhB,IAAImQ,EAAgBlyB,EAAM8hB,SAAS,CACjC5mB,GAAI,GAAGnpB,OAAOmpB,EAAI,aAClBgd,UAAW,GAAOrtB,6BAEpB9d,KAAKsH,IAAI,CACP69C,cAAeA,IAEjBnlD,KAAKsH,IAAI,QAAS2rB,IAIpBgxB,EAAcjiD,UAAUwsB,cAAgB,WACtC,MAAO,CAIL3R,eAAW5Q,EAMXsG,WAAOtG,EAMP6U,YAAQ7U,EAMRm5C,SAAU,SAKVvkB,MAAO,GAKPwkB,QAAS,GAKTxgD,KAAM,GAKNygD,eAAgB,GAKhB5e,QAAS,GAKT6e,QAAS,GAKTv2B,OAAO,EAKPw2B,cAAc,EAKd7yB,UAAU,EAKVmkB,WAAW,EAKX7oB,MAAO,GAKPC,MAAO,GAKPgS,OAAQ,GAKRulB,OAAQ,GAKRC,QAAS,GAKT1U,YAAY,EAgBZ1yB,YAAa,GAKbyB,YAAa,GAcbjB,gBAAiB,GAKjBoB,gBAAiB,GAKjBqtB,OAAQ,GAKRnI,SAAS,EAKTC,WAAY,CAIVsgB,aAAS15C,EAKT25C,SAAU,IAKVC,OAAQ,cAEVC,cAAU75C,EAEVk4C,cAAc,EAEdE,QAAS,GAET0B,SAAU,KAUd9B,EAAcjiD,UAAUsF,IAAM,SAAU3F,EAAKiG,GAO3C,OANI,wBAAcjG,GAChB3B,KAAKod,IAAM,YAAS,YAAS,GAAIpd,KAAKod,KAAMzb,GAE5C3B,KAAKod,IAAIzb,GAAOiG,EAGX5H,MAQTikD,EAAcjiD,UAAUf,IAAM,SAAUU,GACtC,OAAO3B,KAAKod,IAAIzb,IAQlBsiD,EAAcjiD,UAAUgkD,SAAW,WACjC,OAAOhmD,KAAKiB,IAAI,UAQlBgjD,EAAcjiD,UAAU4nC,aAAe,WACrC,OAAO5pC,KAAKiB,IAAI,cAQlBgjD,EAAcjiD,UAAUikD,WAAa,WACnC,OAAOjmD,KAAKiB,IAAI,YAQlBgjD,EAAcjiD,UAAUkkD,WAAa,SAAU1zB,GAC7C,OAAOxyB,KAAKsH,IAAI,UAAWkrB,IAQ7ByxB,EAAcjiD,UAAUmkD,WAAa,WACnC,OAAOnmD,KAAKiB,IAAI,YAQlBgjD,EAAcjiD,UAAUokD,WAAa,SAAU5zB,GAC7C,OAAOxyB,KAAKsH,IAAI,UAAWkrB,IAQ7ByxB,EAAcjiD,UAAUqkD,SAAW,WACjC,OAAOrmD,KAAKiB,IAAI,UAQlBgjD,EAAcjiD,UAAUskD,UAAY,WAClC,OAAOtmD,KAAKiB,IAAI,WASlBgjD,EAAcjiD,UAAUi1C,gBAAkB,SAAU7vC,EAAMmmC,GACpD,mBAASnmC,KACXA,EAAOpH,KAAKu/B,SAASn4B,IAGvB,IAAIs9C,EAAiB1kD,KAAKiB,IAAI,kBAEzBssC,IACHA,EAASnmC,EAAKnG,IAAI,WAGpByjD,EAAezN,gBAAgB7vC,EAAMmmC,GACfvtC,KAAKiB,IAAI,mBACfm3C,aAAahxC,EAAMmmC,GAAQ,IAoB7C0W,EAAcjiD,UAAU6wB,KAAO,SAAU0zB,GACjB,mBAAXA,GACTvmD,KAAKsH,IAAI,aAAci/C,IAS3BtC,EAAcjiD,UAAU0+B,KAAO,SAAU8lB,GACjB,mBAAXA,GACTxmD,KAAKsH,IAAI,aAAck/C,IAS3BvC,EAAcjiD,UAAU+7B,MAAQ,SAAU0oB,GACjB,mBAAZA,GACTzmD,KAAKsH,IAAI,cAAem/C,IAS5BxC,EAAcjiD,UAAUu9B,SAAW,SAAUpR,GAC3C,OAAOnuB,KAAKiB,IAAI,WAAWktB,IAU7B81B,EAAcjiD,UAAUsC,KAAO,SAAUnB,EAAMmD,GAC7C,IAAI1D,EACAygC,EAAQrjC,KAAKiB,IAAI,GAAG+D,OAAO7B,EAAM,MAQrC,OANA,eAAKkgC,GAAO,SAAUj8B,EAAMhH,GAC1B,GAAIkG,EAAGc,EAAMhH,GAEX,OADAwC,EAASwE,KAINxE,GAUTqhD,EAAcjiD,UAAU0kD,QAAU,SAAUvjD,EAAMmD,GAChD,IAAI1D,EAAS,GAMb,OALA,eAAK5C,KAAKiB,IAAI,GAAG+D,OAAO7B,EAAM,OAAO,SAAUiE,EAAMhH,GAC/CkG,EAAGc,EAAMhH,IACXwC,EAAOE,KAAKsE,MAGTxE,GAUTqhD,EAAcjiD,UAAU2kD,eAAiB,SAAUxjD,EAAM4rC,GACvD,OAAO/uC,KAAK0mD,QAAQvjD,GAAM,SAAUiE,GAClC,OAAOA,EAAK4oC,SAASjB,OAUzBkV,EAAcjiD,UAAUgxB,UAAY,SAAU7B,EAAIC,GAChD,IAAI6B,EAAQjzB,KAAKiB,IAAI,SACjB6wB,EAAS,gBAAMmB,EAAMG,aAEpBtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCA,EAAS,GAAUA,EAAQ,CAAC,CAAC,IAAKX,EAAIC,KACtC6B,EAAMS,UAAU5B,GAChB9xB,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,YACRgpB,OAAQmB,EAAMG,cAEhBpzB,KAAK82C,aASPmN,EAAcjiD,UAAU4kD,OAAS,SAAU3kC,EAAGrN,GAC5C,IAAIqe,EAAQjzB,KAAKiB,IAAI,SACrBkyB,EAAKF,EAAO,CACVhR,EAAGA,EACHrN,EAAGA,IAEL5U,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,OACRgpB,OAAQmB,EAAMG,eASlB6wB,EAAcjiD,UAAUijC,QAAU,SAAUlkB,GACtCA,GACF/gB,KAAKsH,IAAI,iBAAkByZ,GAGR/gB,KAAKiB,IAAI,kBACfgkC,UACfjlC,KAAK82C,aAOPmN,EAAcjiD,UAAU6iC,UAAY,WACb7kC,KAAKiB,IAAI,kBACf4jC,YACf7kC,KAAK82C,aAUPmN,EAAcjiD,UAAU6kD,aAAe,SAAUzlB,EAAWP,GAG1D,OAFqB7gC,KAAKiB,IAAI,kBACf4gC,oBAAoBT,EAAWP,GAAO,GAC9C7gC,MAUTikD,EAAcjiD,UAAU8kD,gBAAkB,SAAU1lB,EAAWP,GAG7D,OAFqB7gC,KAAKiB,IAAI,kBACf4gC,oBAAoBT,EAAWP,GAAO,GAC9C7gC,MAUTikD,EAAcjiD,UAAUggC,eAAiB,SAAU5S,EAAU6S,EAAQ1gC,GAGnE,OAFqBvB,KAAKiB,IAAI,kBACf+gC,eAAe5S,EAAU6S,EAAQ1gC,GACzCvB,MASTikD,EAAcjiD,UAAUkjC,KAAO,SAAU1S,EAAO1B,GAC9C,IAAImC,EAAQjzB,KAAKiB,IAAI,SACjB6wB,EAAS,gBAAMmB,EAAMG,aACrBsT,EAAU1mC,KAAKiB,IAAI,WACnBskD,EAAUvlD,KAAKiB,IAAI,WAElB6wB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAIlCA,EAAS,GAAUA,EADjBhB,EACyB,CAAC,CAAC,KAAMA,EAAO7O,GAAI6O,EAAOlc,GAAI,CAAC,IAAK4d,EAAOA,GAAQ,CAAC,IAAK1B,EAAO7O,EAAG6O,EAAOlc,IAE1E,CAAC,CAAC,IAAK4d,EAAOA,KAGvCkU,GAAW5U,EAAO,GAAK4U,GAAW6e,GAAWzzB,EAAO,GAAKyzB,IAK7DtyB,EAAMS,UAAU5B,GAChB9xB,KAAKoc,KAAK,iBAAkB,CAC1BtT,OAAQ,OACRgpB,OAAQA,IAEV9xB,KAAK82C,cASPmN,EAAcjiD,UAAU+kD,OAAS,SAAUC,EAASl2B,GAClD,IAAI0B,EAAQw0B,EAAUhnD,KAAKinD,UAC3BjnD,KAAKklC,KAAK1S,EAAO1B,IAUnBmzB,EAAcjiD,UAAUklD,UAAY,SAAU9/C,EAAMg+B,EAASC,GAC3D,IAAImf,EAAiBxkD,KAAKiB,IAAI,kBAC1BkmD,GAAY,EACZ/hB,EAAS+hB,GAAY,OAA0Bl7C,IAAZm5B,IAAuB+hB,EAAYnnD,KAAKiB,IAAI,YACnF,IAAImmD,EAAgB,GAChB/hB,EAAY+hB,EAAgB/hB,OAAmCp5B,IAAfo5B,IAA0B+hB,EAAgBpnD,KAAKiB,IAAI,eACvGujD,EAAere,MAAM/+B,EAAM+/C,EAAWC,GACtCpnD,KAAK82C,aAQPmN,EAAcjiD,UAAU80C,UAAY,WAC9B92C,KAAKiB,IAAI,cACXjB,KAAKqnD,SAQTpD,EAAcjiD,UAAUqlD,MAAQ,WAC9BrnD,KAAKoc,KAAK,eACVpc,KAAKiB,IAAI,UAAUooC,OACnBrpC,KAAKoc,KAAK,eAUZ6nC,EAAcjiD,UAAU+jC,iBAAmB,SAAUlD,EAASC,GAE5D,OADqB9iC,KAAKiB,IAAI,kBACR8kC,iBAAiBlD,EAASC,IAUlDmhB,EAAcjiD,UAAUikC,iBAAmB,SAAUhkB,EAAGrN,GAEtD,OADqB5U,KAAKiB,IAAI,kBACRglC,iBAAiBhkB,EAAGrN,IAU5CqvC,EAAcjiD,UAAUujC,iBAAmB,SAAU/C,EAASC,GAE5D,OADqBziC,KAAKiB,IAAI,kBACRskC,iBAAiB/C,EAASC,IAUlDwhB,EAAcjiD,UAAUkkC,iBAAmB,SAAUjkB,EAAGrN,GAEtD,OADqB5U,KAAKiB,IAAI,kBACRilC,iBAAiBjkB,EAAGrN,IAQ5CqvC,EAAcjiD,UAAUslD,oBAAsB,WAC5C,IAAIj0B,EAAOrzB,KAAKiB,IAAI,SAASqyB,gBAC7B,MAAO,CACLrR,GAAIoR,EAAKE,KAAOF,EAAKkB,MAAQ,EAC7B3f,GAAIye,EAAKG,KAAOH,EAAKmB,MAAQ,IASjCyvB,EAAcjiD,UAAUulD,uBAAyB,WAC/C,OAAOvnD,KAAKulC,iBAAiBvlC,KAAKiB,IAAI,SAAW,EAAGjB,KAAKiB,IAAI,UAAY,IAS3EgjD,EAAcjiD,UAAUg0C,SAAW,SAAU5uC,EAAMogD,QACnC,IAAVA,IACFA,GAAQ,GAGV,IACI1lD,EADiB9B,KAAKiB,IAAI,kBACFq2C,qBAAqBlwC,GAAM,GAEvD,GAAIogD,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIktB,EAAKrsB,EAAOguC,QAEZ2X,EAAS,GACTC,EAAQ,GAEZ,OAJW5lD,EAAOuK,WAKhB,IAAK,OACHo7C,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMz5B,MAAQ,CAAC,CACbE,GAAIA,EACJ9Q,SAAS,IAEX,MAEF,IAAK,OACHoqC,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMx5B,MAAQ,CAAC,CACbC,GAAIA,EACJ9Q,SAAS,IAEX,MAEF,IAAK,QACHoqC,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMxnB,OAAS,CAAC,CACd/R,GAAIA,EACJ9Q,SAAS,IAQfrd,KAAK2nD,UAAU,UAAW,CACxBF,OAAQA,EACRC,MAAOA,MAWbzD,EAAcjiD,UAAU8zC,SAAW,SAAU1uC,EAAMogD,QACnC,IAAVA,IACFA,GAAQ,GAGV,IACI1lD,EADiB9B,KAAKiB,IAAI,kBACFq2C,qBAAqBlwC,GAAM,GAEvD,GAAIogD,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIktB,EAAKrsB,EAAOguC,QAEZ2X,EAAS,GACTC,EAAQ,GAEZ,OAJW5lD,EAAOuK,WAKhB,IAAK,OACHo7C,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMz5B,MAAQ,CAAC,CACbE,GAAIA,EACJ9Q,SAAS,IAEX,MAEF,IAAK,OACHoqC,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMx5B,MAAQ,CAAC,CACbC,GAAIA,EACJ9Q,SAAS,IAEX,MAEF,IAAK,QACHoqC,EAAOx5B,MAAQ,CAAC,CACdE,GAAIA,EACJ9Q,SAAS,IAEXqqC,EAAMxnB,OAAS,CAAC,CACd/R,GAAIA,EACJ9Q,SAAS,IAQfrd,KAAK2nD,UAAU,UAAW,CACxBF,OAAQA,EACRC,MAAOA,MAUbzD,EAAcjiD,UAAUk1C,YAAc,SAAU9vC,GACzBpH,KAAKiB,IAAI,kBACfi2C,YAAY9vC,IAQ7B68C,EAAcjiD,UAAU4lD,aAAe,SAAUC,GACpC7nD,KACNsH,IAAI,YAAaugD,GADX7nD,KAEOiB,IAAI,UACfqG,IAAI,WAAYugD,IASzB5D,EAAcjiD,UAAUwE,OAAS,SAAUY,EAAMogD,QACjC,IAAVA,IACFA,GAAQ,GAGVxnD,KAAKi2C,WAAW7uC,EAAMogD,IASxBvD,EAAcjiD,UAAUi0C,WAAa,SAAU7uC,EAAMogD,QACrC,IAAVA,IACFA,GAAQ,GAGV,IAAI1D,EAAW18C,EAGf,GAFI,mBAASA,KAAO08C,EAAW9jD,KAAKu/B,SAASn4B,KAExC08C,GAAY,mBAAS18C,GACxBkT,QAAQC,KAAK,+CACR,GAAIupC,EAAU,CACnB,IAAI3gD,EAAO,GAGX,GAFI2gD,EAASz3C,UAASlJ,EAAO2gD,EAASz3C,WAElCm7C,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAI6mD,EAAe,YAAS,YAAS,GAAIhE,EAASjU,YAAa,CAC7DrS,SAAUr6B,IAGRskD,EAAS,GAEb,OAAQtkD,GACN,IAAK,OAEDskD,EAAOx5B,MAAQ,CAAC65B,GAChBL,EAAOv5B,MAAQ,GAGf,IAFA,IAAIA,EAAQ41B,EAASlR,WAEZxyC,EAAI8tB,EAAM5rB,OAAS,EAAGlC,GAAK,EAAGA,IACrCqnD,EAAOv5B,MAAMprB,KAAK,YAAS,YAAS,GAAIorB,EAAM9tB,GAAGyvC,YAAa,CAC5DrS,SAAU,UAId,MAGJ,IAAK,OACHiqB,EAAOv5B,MAAQ,CAAC45B,GAChB,MAEF,IAAK,QACHL,EAAOvnB,OAAS,CAAC4nB,GAOrB9nD,KAAK2nD,UAAU,SAAU,CACvBF,OAAQA,EACRC,MAAO,KAIX,GAAa,SAATvkD,EACU2gD,EAASjU,WAEX7R,SACRh+B,KAAK+nD,gBAAgBjE,GAOzB,GAHqB9jD,KAAKiB,IAAI,kBACfg1C,WAAW6N,GAEb,UAAT3gD,EAAkB,CACpB,IAAI6kD,EAAgBzpB,GAAgBv+B,KAAKiB,IAAI,eAC7CjB,KAAKsH,IAAI,aAAc0gD,MAc7B/D,EAAcjiD,UAAUwyC,QAAU,SAAUrxC,EAAMiU,EAAOowC,EAAOS,QAChD,IAAVT,IACFA,GAAQ,QAGQ,IAAdS,IACFA,GAAY,GAGd,IAAIC,EAAqBloD,KAAKiB,IAAI,eAClCjB,KAAKsH,IAAI,cAAe4gD,IAAuBD,GAC/C,IAAIvD,EAAiB1kD,KAAKiB,IAAI,kBAE9B,IjBn8B8B,SAA8BkC,EAAM0B,GACpE,GAAa,SAAT1B,GAA4B,UAATA,GAErB,GAAI0B,EAAKspB,KAAO,mBAAStpB,EAAKspB,IAE5B,OADA7T,QAAQC,KAAK,yDAAyDvV,OAAOH,EAAKspB,GAAI,uBAAwB,+BAAgC,KACvI,OAEJ,KAAa,SAAThrB,GAEJ0B,EAAKkpB,QAAWlpB,EAAKmpB,QAExB,OADA1T,QAAQC,KAAK,gEACN,EAIX,OAAO,EiBo7BA,CAAqBpX,EAAMiU,GAC9B,OAAO,EAGT,IAAIA,EAAM+W,KAAMnuB,KAAKu/B,SAASnoB,EAAM+W,IAApC,CAKA,IAAI/mB,EACAkvC,EAAat2C,KAAKiB,IAAI,cAG1B,GAFKq1C,IAAYA,EAAa,IAEjB,UAATnzC,EAAkB,CACpB,IAAIglD,EAAYnoD,KAAKiB,IAAI,WACrBmnD,GAAgB,EA6BpB,GA5BA9R,EAAW7lC,SAAQ,SAAU+lC,GACvB4R,GAEJ16B,GAAe8oB,GAAO,SAAUnY,GAE9B,GAAIjnB,EAAMqmB,WAAaY,EAAMlQ,GAAI,CAC/Bi6B,GAAgB,EAEhB,IAAIC,EAAW,YAAS,CACtBl6B,GAAI/W,EAAM+W,GACViQ,MAAOC,EAAMD,MAAQ,GACpBhnB,GAECinB,EAAMjQ,SAAUiQ,EAAMjQ,SAAStrB,KAAKulD,GAAehqB,EAAMjQ,SAAW,CAACi6B,GACzEjxC,EAAMgnB,MAAQiqB,EAASjqB,MACvBh3B,EAAOs9C,EAAelQ,QAAQrxC,EAAMiU,GAGtC,IAAIkoB,EAAY6oB,EAAU9pB,EAAMlQ,IAMhC,OAJIi6B,GAAiB9oB,GAAaA,EAAUjzB,SAAmC,UAAxBizB,EAAUjzB,WAC/Dq4C,EAAelP,YAAYlW,EAAWjB,EAAMjQ,WAGvC,SAINg6B,EAAe,CAClB,IAAIC,EAAW,YAAS,CACtBl6B,GAAI/W,EAAM+W,GACViQ,MAAO,GACNhnB,GAEHA,EAAMgnB,MAAQiqB,EAASjqB,MACvBkY,EAAWxzC,KAAKulD,GAChBjhD,EAAOs9C,EAAelQ,QAAQrxC,EAAMiU,GAGtCpX,KAAKsH,IAAI,aAAcgvC,QAClB,GAAa,SAATnzC,GAAmB,mBAASiU,EAAM4mB,UAAYsY,EAAY,CACnE,IAAIgS,KAActoD,KAAKu/B,SAASnoB,EAAM4mB,WAEnBsqB,EAAYj8C,SAAqC,UAA1Bi8C,EAAYj8C,WACpDiO,QAAQC,KAAK,IAAIvV,OAAOoS,EAAM4mB,QAAS,iFAGzC52B,EAAOs9C,EAAelQ,QAAQrxC,EAAMiU,GACpC,IAAImxC,EAAYvoD,KAAKiB,IAAI,WACrBunD,GAAgB,EAChBC,GAAc,GACjBnS,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/BiS,GAAeD,GAEnB96B,GAAe8oB,GAAO,SAAUnY,GAC9B,GAAIA,EAAMlQ,KAAO/W,EAAM+W,GAGrB,OADAs6B,GAAc,GACP,EAGT,GAAIrxC,EAAM4mB,UAAYK,EAAMlQ,KAAOs6B,EAAa,CAE9CD,GAAgB,EAChB,IAAIE,EAAY,gBAAMtxC,GACtBsxC,EAAUlrB,SAAW,OACjBa,EAAMjQ,SAAUiQ,EAAMjQ,SAAStrB,KAAK4lD,GAAgBrqB,EAAMjQ,SAAW,CAACs6B,GAC1EA,EAAUtqB,MAAQC,EAAMD,MAAQ,EAQlC,OAJIoqB,GAAiBD,EAAUlqB,EAAMlQ,IAAI9hB,SAA6C,UAAlCk8C,EAAUlqB,EAAMlQ,IAAI9hB,WACtEq4C,EAAelP,YAAY+S,EAAUlqB,EAAMlQ,IAAKkQ,EAAMjQ,WAGjD,aAIXhnB,EAAOs9C,EAAelQ,QAAQrxC,EAAMiU,GAGtC,GAAa,SAATjU,GAAmBiU,EAAM4mB,SAAoB,UAAT76B,GAAoBiU,EAAMqmB,UAE5D6qB,EAActoD,KAAKu/B,SAASnoB,EAAM4mB,SAAW5mB,EAAMqmB,YACpC6qB,EAAYj8C,SAAqC,UAA1Bi8C,EAAYj8C,WAAuBi8C,EAAYpU,SAAS9sC,GAGpG,IAAI84B,EAASlgC,KAAKiB,IAAI,UAQtB,GANIi/B,GAAUA,EAAO59B,OAAS,GAC5BtC,KAAK2oD,aAGP3oD,KAAK82C,YAED0Q,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAI2nD,EAAa,YAAS,YAAS,GAAIxhD,EAAKyoC,YAAa,CACvDrS,SAAUr6B,IAGRukD,EAAQ,GAEZ,OAAQvkD,GACN,IAAK,OACHukD,EAAMz5B,MAAQ,CAAC26B,GACf,MAEF,IAAK,OACHlB,EAAMx5B,MAAQ,CAAC06B,GACf,MAEF,IAAK,QACHlB,EAAMxnB,OAAS,CAAC0oB,GAOpB5oD,KAAK2nD,UAAU,MAAO,CACpBF,OAAQ,GACRC,MAAOA,IAIX,OAAOtgD,EAzILkT,QAAQC,KAAK,8CAA8CvV,OAAOoS,EAAM+W,GAAI,iBAAkB,+BAAgC,KAoJlI81B,EAAcjiD,UAAU+3C,IAAM,SAAU52C,EAAMiU,EAAOowC,EAAOS,GAS1D,YARc,IAAVT,IACFA,GAAQ,QAGQ,IAAdS,IACFA,GAAY,GAGPjoD,KAAKw0C,QAAQrxC,EAAMiU,EAAOowC,EAAOS,IAS1ChE,EAAcjiD,UAAUqzC,WAAa,SAAUjuC,EAAMgW,EAAKoqC,GACxD,IAAIl4B,EAAQtvB,UAEE,IAAVwnD,IACFA,GAAQ,GAGV,IACIxQ,EADA0N,EAAiB1kD,KAAKiB,IAAI,kBAI5B+1C,EADE,mBAAS5vC,GACGpH,KAAKu/B,SAASn4B,GAEdA,EAGhB,IAAIyhD,EAAgB,gBAAM7R,EAAYnH,YAClC1sC,EAAO,GACP6zC,EAAY3qC,UAASlJ,EAAO6zC,EAAY3qC,WAE5C,IAAIkhC,EAAS,YAAc,GAAIyJ,EAAY1H,aAAa,GAgBxD,GAda,UAATnsC,GACF,eAAKoqC,GAAQ,SAAUwB,GACrB,OAAOzf,EAAMsnB,aAAaI,EAAajI,GAAO,MAIlD2V,EAAerP,WAAW2B,EAAa55B,GAE1B,UAATja,GACF,eAAKoqC,GAAQ,SAAUwB,GACrB,OAAOzf,EAAMsnB,aAAaI,EAAajI,GAAO,MAI9CyY,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAIwmD,EAAS,CACXx5B,MAAO,GACPC,MAAO,GACPgS,OAAQ,IAENwnB,EAAQ,CACVz5B,MAAO,GACPC,MAAO,GACPgS,OAAQ,IAGN4oB,EAAa,YAAS,CACxB36B,GAAI06B,EAAc16B,IACjB/Q,GAEH,OAAQja,GACN,IAAK,OACHskD,EAAOx5B,MAAMnrB,KAAK+lD,GAClBnB,EAAMz5B,MAAMnrB,KAAKgmD,GACjB,MAEF,IAAK,OACHrB,EAAOv5B,MAAMprB,KAAK+lD,GAClBnB,EAAMx5B,MAAMprB,KAAKgmD,GACjB,MAEF,IAAK,QACHrB,EAAOvnB,OAAOp9B,KAAK+lD,GACnBnB,EAAMxnB,OAAOp9B,KAAKgmD,GAOT,SAAT3lD,GACFskD,EAAOx5B,MAAMnrB,KAAK+lD,GAGpB7oD,KAAK2nD,UAAU,SAAU,CACvBF,OAAQA,EACRC,MAAOA,MAYbzD,EAAcjiD,UAAU2nC,OAAS,SAAUviC,EAAMgW,EAAKoqC,QACtC,IAAVA,IACFA,GAAQ,GAGVxnD,KAAKq1C,WAAWjuC,EAAMgW,EAAKoqC,IAU7BvD,EAAcjiD,UAAU40C,aAAe,SAAUxvC,EAAM2nC,EAAO1tC,GACxD,mBAAS+F,KACXA,EAAOpH,KAAKu/B,SAASn4B,IAGFpH,KAAKiB,IAAI,kBACf21C,aAAaxvC,EAAM2nC,EAAO1tC,GACzC,IAAIsjD,EAAkB3kD,KAAKiB,IAAI,mBAE3B,mBAASI,GACXsjD,EAAgB3M,YAAY5wC,EAAM,GAAGpC,OAAO+pC,EAAO,KAAK/pC,OAAO3D,IAAQ,GAEvEsjD,EAAgB3M,YAAY5wC,EAAM2nC,EAAO1tC,IAU7C4iD,EAAcjiD,UAAU+0C,cAAgB,SAAU3vC,EAAM2nC,GACjC/uC,KAAKiB,IAAI,kBACf81C,cAAc3vC,EAAM2nC,IAQrCkV,EAAcjiD,UAAU6C,KAAO,SAAUA,GACvC,GAAeA,GACf7E,KAAKsH,IAAI,OAAQzC,IAOnBo/C,EAAcjiD,UAAUmhD,OAAS,WAC/B,IAAIjpC,EAAOla,KACXA,KAAKsH,IAAI,eAAe,GACxB,IAAIzC,EAAO7E,KAAKiB,IAAI,QAOpB,GALIjB,KAAKiB,IAAI,iBAEXjB,KAAK+oD,cAGFlkD,EACH,MAAM,IAAIwS,MAAM,8BAGlB,IAAI+B,EAAKvU,EAAKopB,MACVA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKrjC,EAAKqpB,MACVA,OAAe,IAAPga,EAAgB,GAAKA,EAC7BgC,EAAKrlC,EAAKq7B,OACVA,OAAgB,IAAPgK,EAAgB,GAAKA,EAOlC,GANAlqC,KAAK6tC,OAAM,GACX7tC,KAAKoc,KAAK,gBACV,eAAK6R,GAAO,SAAU4E,GACpB3Y,EAAK6/B,IAAI,OAAQlnB,GAAM,GAAO,MAG5BqN,GAA4B,IAAlBA,EAAO59B,OAAc,CACjC,IAAIg0C,EAAa,GAAmBpW,EAAQjS,GAC5CjuB,KAAKsH,IAAI,aAAcgvC,GAEvBp8B,EAAKi9B,UAAUjX,GAGjB,eAAKhS,GAAO,SAAUwS,GACpBxmB,EAAK6/B,IAAI,OAAQrZ,GAAM,GAAO,MAEhC,IAAI0E,EAAUlrB,EAAKjZ,IAAI,YAEnBiZ,EAAKjZ,IAAI,YAAciZ,EAAKjZ,IAAI,eAClCiZ,EAAK5S,IAAI,WAAW,GAItB,IAAI0hD,EAAmB9uC,EAAKjZ,IAAI,oBAEhC,GAAI+nD,GAIF,GAHAA,EAAiBC,QAkBnB,WAEM/uC,EAAKjZ,IAAI,WACXiZ,EAAK+qB,UACI/qB,EAAKjZ,IAAI,cAClBiZ,EAAK2qB,YAGP3qB,EAAK48B,YACL58B,EAAKkC,KAAK,gBAENlC,EAAKjZ,IAAI,YAAciZ,EAAKjZ,IAAI,eAClCiZ,EAAK5S,IAAI,UAAW89B,MA5BtBplC,KAAKkpD,mBACDlpD,KAAK4gC,UAAW,YAEhB1mB,EAAKjZ,IAAI,YACXiZ,EAAK+qB,UAGH/qB,EAAKjZ,IAAI,cACXiZ,EAAK2qB,YAGP3qB,EAAKkC,KAAK,eACVlC,EAAK5S,IAAI,UAAW89B,GAoBjBplC,KAAKiB,IAAI,kBACRi/B,GAA4B,IAAlBA,EAAO59B,OACnBtC,KAAK2oD,aAGD9jD,EAAKopB,OAASppB,EAAKqpB,OAASrpB,EAAKopB,MAAM3rB,OAASuC,EAAKqpB,MAAM5rB,OAC9CtC,KAAKg0C,WAEXvjC,SAAQ,SAAUoiB,GACzBA,EAAK2d,aAGQxwC,KAAK4yC,WAEXniC,SAAQ,SAAUiwB,GACzBA,EAAK+P,aAMTzwC,KAAKiB,IAAI,iBACXjB,KAAK2nD,UAAU,WASnB1D,EAAcjiD,UAAUmnD,KAAO,SAAUtkD,GACvC7E,KAAK6E,KAAKA,GACV7E,KAAKmjD,UAIPc,EAAcjiD,UAAUonD,UAAY,SAAUjmD,EAAMkgC,EAAOgmB,GACzD,IACIjiD,EADA8S,EAAOla,KAEP0lD,EAAU1lD,KAAKiB,IAAI,WACvB,eAAKooD,GAAQ,SAAUjyC,GAGrB,GAFAhQ,EAAOs+C,EAAQtuC,EAAM+W,IAEX,CACR,GAAIjU,EAAKjZ,IAAI,YA57CV,SA47CwBkC,EAAe,CACxC,IAAI03B,EAAkBzzB,EAAKwiC,eAAexW,YACrCyH,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjEzzB,EAAKE,IAAI,cAAe,CACtB2a,EAAG4Y,EAAgB,GACnBjmB,EAAGimB,EAAgB,KAIvB3gB,EAAKm7B,WAAWjuC,EAAMgQ,GAAO,QAE7BhQ,EAAO8S,EAAKs6B,QAAQrxC,EAAMiU,GAAO,GAG/BhQ,GAAMi8B,EAAM,GAAGr+B,OAAO7B,EAAM,MAAML,KAAKsE,OAW/C68C,EAAcjiD,UAAUsnD,WAAa,SAAUzkD,EAAM2iD,QACrC,IAAVA,IACFA,GAAQ,GAGV,IAAIttC,EAAOla,KAEX,IAAK,GAAe6E,GAClB,OAAO7E,KAGLwnD,GAASxnD,KAAKiB,IAAI,iBACpBjB,KAAK2nD,UAAU,aAAc,CAC3BF,OAAQvtC,EAAKqvC,OACb7B,MAAO7iD,IAIX7E,KAAKsH,IAAI,eAAe,GAExBtH,KAAKwpD,cAELxpD,KAAKg0C,WAAWzjC,KAAI,SAAUsiB,GAC5B,OAAO3Y,EAAK+8B,gBAAgBpkB,MAE9B7yB,KAAK4yC,WAAWriC,KAAI,SAAUmwB,GAC5B,OAAOxmB,EAAK+8B,gBAAgBvW,MAE9B,IAAIje,EAASziB,KAAKiB,IAAI,UAClBwoD,EAAehnC,EAAOxhB,IAAI,gBAC9BwhB,EAAOnb,IAAI,gBAAgB,GAEtB4S,EAAKjZ,IAAI,UACZiZ,EAAKrV,KAAKA,GACVqV,EAAKipC,UAGP,IAAIuC,EAAU1lD,KAAKiB,IAAI,WACnBoiC,EAAQ,CACVpV,MAAO,GACPC,MAAO,IAELw7B,EAAa7kD,EAAKq7B,OAEtB,GAAIwpB,EAAY,CACd,IAAIpT,EAAa,GAAmBoT,EAAY7kD,EAAKopB,OACrDjuB,KAAKsH,IAAI,aAAcgvC,GAGzBt2C,KAAKopD,UAAU,OAAQ/lB,EAAOx+B,EAAKopB,OACnC,eAAKy3B,GAAS,SAAUt+C,EAAM+mB,GAC5Bu3B,EAAQv3B,GAAI0hB,WAAWzR,MAAQ,EAC3Bh3B,EAAKiF,SAA8B,SAAnBjF,EAAKiF,YAErBjF,EAAKiF,SAA8B,UAAnBjF,EAAKiF,kBAChBq5C,EAAQv3B,GACf/mB,EAAKi7B,WACIgB,EAAMpV,MAAMxrB,QAAQ2E,GAAQ,WAC9Bs+C,EAAQv3B,GACfjU,EAAK1T,OAAOY,GAAM,QAOtB,IAHA,IAAIuiD,EAAa3pD,KAAKi0C,YAGb7zC,EAFUupD,EAAWrnD,OAEF,EAAGlC,GAAK,EAAGA,IACjCupD,EAAWvpD,GAAGwgC,WAChB+oB,EAAW3jD,OAAO5F,EAAG,GAKrBspD,IAEFxvC,EAAKi9B,UAAUuS,GAEV1pD,KAAKiB,IAAI,iBACZjB,KAAK2oD,cAIT3oD,KAAKopD,UAAU,OAAQ/lB,EAAOx+B,EAAKqpB,OACnC,eAAKw3B,GAAS,SAAUt+C,EAAM+mB,KACxB/mB,EAAKiF,SAA+B,SAAnBjF,EAAKiF,WAA2C,UAAnBjF,EAAKiF,YAEnDg3B,EAAMnV,MAAMzrB,QAAQ2E,GAAQ,WACvBs+C,EAAQv3B,GACfjU,EAAK1T,OAAOY,GAAM,OAGtBpH,KAAKsH,IAAI,CACP2mB,MAAOoV,EAAMpV,MACbC,MAAOmV,EAAMnV,QAEf,IAAI86B,EAAmBhpD,KAAKiB,IAAI,oBAgBhC,OAdI+nD,IACFA,EAAiBM,aAEbpvC,EAAKjZ,IAAI,aAAe+nD,EAAiBY,gBAE3C1vC,EAAK2vC,mBAEL3vC,EAAK48B,aAITppC,YAAW,WACT+U,EAAOnb,IAAI,eAAgBmiD,KAC1B,IACIzpD,MAQTikD,EAAcjiD,UAAUm1C,UAAY,SAAUjX,GAC5C,IACIoW,EADOt2C,KACWiB,IAAI,cACLjB,KAAKiB,IAAI,kBACfk2C,UAAUb,EAAYpW,IASvC+jB,EAAcjiD,UAAU8nD,YAAc,SAAU/rB,EAAO3P,GACrD,IAAIkB,EAAQtvB,KAEZA,KAAKsH,IAAI,eAAe,GAExB,IACIyiD,EADA/rB,EAAU,GAEd,GAAKD,EAAL,CAEA,GAAI,mBAASA,GACXC,EAAUD,EACVgsB,EAAc,CACZ57B,GAAI4P,OAED,CAGL,KAFAC,EAAUD,EAAM5P,IAId,YADA7T,QAAQC,KAAK,+EAIfwvC,EAAchsB,EAIhB,IAAIS,EAAQpQ,EAAS7d,KAAI,SAAUy5C,GACjC,IAAI5iD,EAAOkoB,EAAMiQ,SAASyqB,GAEtB5yC,EAAQhQ,EAAKyoC,WACb1sC,EAAO,GACPiE,EAAKiF,UAASlJ,EAAOiE,EAAKiF,WAC9B,IAAI49C,EAAQ,CACV97B,GAAI/mB,EAAK0oC,QACTtS,SAAUr6B,GAWZ,MARa,UAATA,GACF8mD,EAAMxsB,SAAWO,EACjB5mB,EAAMqmB,SAAWO,GACC,SAAT76B,IACT8mD,EAAMjsB,QAAUA,EAChB5mB,EAAM4mB,QAAUA,GAGXisB,KAETF,EAAY37B,SAAWoQ,EAEvBx+B,KAAKw0C,QAAQ,QAASuV,GAAa,GACnC/pD,KAAKsH,IAAI,eAAe,GAExB,IAAIgvC,EAAat2C,KAAKiB,IAAI,eACzBq1C,GAAc,IAAI7lC,SAAQ,SAAU+lC,GACnC9oB,GAAe8oB,GAAO,SAAUnY,GAC9B,OAAIA,EAAMlQ,KAAO6P,IACfK,EAAMb,SAAW,QACjBa,EAAMjQ,SAAWoQ,GACV,SAOT8X,GACFt2C,KAAK2oD,eAST1E,EAAcjiD,UAAUkoD,QAAU,SAAUnsB,GAC1C,IAAIzO,EAAQtvB,KAGRmqD,EAAYpsB,EAMhB,GAJI,mBAASA,KACXosB,EAAYnqD,KAAKu/B,SAASxB,KAGvBosB,GAAaA,EAAU99C,SAAmC,UAAxB89C,EAAU99C,UAC/CiO,QAAQC,KAAK,gCADf,CAKA,IAAIkjB,EAAW0sB,EAAUta,WAAWpS,SAChC6Y,EAbOt2C,KAaWiB,IAAI,cACrBq1C,IAAYA,EAAa,IAC9B,IAEI8T,EAFA1E,EAAU1lD,KAAKiB,IAAI,WACnB+8B,EAAUmsB,EAAUlpD,IAAI,MAExB29B,EAAW,GACX+qB,EAAa3pD,KAAKiB,IAAI,UACtBopD,EAAarqD,KAAKu/B,SAAS9B,GA0D/B,GAzDA6Y,EAAW7lC,SAAQ,SAAU+lC,GACvB4T,GAEJ18B,GAAe8oB,GAAO,SAAU7X,GAE9B,GAAIA,EAAQxQ,KAAO6P,EAAS,CAC1BosB,EAAkBzrB,EAENwrB,EAAUvX,WAChBniC,SAAQ,SAAUiwB,GACtBpR,EAAM2mB,WAAWvV,GAAM,MAEzB,IAAI79B,EAAQ8mD,EAAWlnD,QAAQs7B,GAC/B4rB,EAAW3jD,OAAOnD,EAAO,UAClB6iD,EAAQ1nB,GACfmsB,EAAU9nB,UAIZ,OAAI5E,IAAY2sB,GAAmBzrB,EAAQxQ,KAAOsP,IAChD4sB,EAAW/V,YAAY6V,IAMR,KAFXtnD,GAHJ+7B,EAAWD,EAAQvQ,UAGE3rB,QAAQ2nD,KAG3BxrB,EAAS54B,OAAOnD,EAAO,GAIzBunD,EAAgBh8B,SAAS3d,SAAQ,SAAU4tB,GACzC,IAAIj3B,EAAOkoB,EAAMiQ,SAASlB,EAAMlQ,IAE5Bm8B,EAAaljD,EAAKyoC,WAElBzoC,EAAKiF,SAA8B,UAAnBjF,EAAKiF,WACvBgyB,EAAMZ,SAAWA,SACVY,EAAML,QACbssB,EAAW7sB,SAAWA,SAEf6sB,EAAWtsB,SACT52B,EAAKiF,SAA8B,SAAnBjF,EAAKiF,YAC9BgyB,EAAML,QAAUP,EAChB6sB,EAAWtsB,QAAUP,GAGvB4sB,EAAWnW,SAAS9sC,GACpBw3B,EAAS97B,KAAKu7B,OAET,UAORZ,GAAY2sB,EAAiB,CAChC,IAAIvnD,EAAQyzC,EAAW7zC,QAAQ2nD,GAC/B9T,EAAWtwC,OAAOnD,EAAO,GAEzBunD,EAAgBh8B,SAAS3d,SAAQ,SAAU4tB,GACzCA,EAAMZ,cAAWxxB,EAEjB,IAAIq+C,EAAah7B,EAAMiQ,SAASlB,EAAMlQ,IAAI0hB,kBAEnCya,EAAW7sB,gBAEX6sB,EAAWtsB,QAEK,SAAnBK,EAAMb,UAAqB8Y,EAAWxzC,KAAKu7B,SASrD4lB,EAAcjiD,UAAUuoD,aAAe,WACrC,IAAIj7B,EAAQtvB,KAGRs2C,EAAat2C,KAAKiB,IAAI,cACtByjD,EAFO1kD,KAEeiB,IAAI,kBAC1BykD,EAHO1lD,KAGQiB,IAAI,YACtBq1C,GAAc,IAAI7lC,SAAQ,SAAU+lC,GACnC9oB,GAAe8oB,GAAO,SAAUnY,GAC9B,IAAKA,EACH,OAAO,EAGT,IAAIiB,EAAYomB,EAAQrnB,EAAMlQ,IAE9B,GAAImR,GAAaA,EAAUjzB,SAAmC,UAAxBizB,EAAUjzB,UAAuB,CAErE,IAAIkhC,EAAS,YAAc,GAAIjO,EAAUgQ,aAAa,GAEtD,eAAK/B,GAAQ,SAAUwB,GACrB,OAAOzf,EAAMsnB,aAAatX,EAAWyP,GAAO,MAG9C2V,EAAelP,YAAYlW,EAAWjB,EAAMjQ,UAE5C,eAAKmf,GAAQ,SAAUwB,GACrB,OAAOzf,EAAMsnB,aAAatX,EAAWyP,GAAO,MAIhD,OAAO,QA3BA/uC,KA8BN2oD,cAQP1E,EAAcjiD,UAAUwzC,YAAc,SAAUzX,GAC9C,IAIIC,EAJA1O,EAAQtvB,KAGRmqD,EAAYpsB,EAOhB,GAJI,mBAASA,KACXosB,EAAYnqD,KAAKu/B,SAASxB,KAGvBosB,GAAaA,EAAU99C,SAAmC,UAAxB89C,EAAU99C,UAC/CiO,QAAQC,KAAK,8CADf,CAKAyjB,EAAUmsB,EAAUlpD,IAAI,MACxB,IAAIq1C,EAAat2C,KAAKiB,IAAI,cACtByjD,EAfO1kD,KAeeiB,IAAI,kBAC1BykD,EAhBO1lD,KAgBQiB,IAAI,YACtBq1C,GAAc,IAAI7lC,SAAQ,SAAU+lC,GACnC9oB,GAAe8oB,GAAO,SAAUnY,GAC9B,IAAKA,EACH,OAAO,EAGT,IAAIiB,EAAYomB,EAAQrnB,EAAMlQ,IAE9B,GAAI6P,IAAYK,EAAMlQ,IAAMmR,GAAaA,EAAUjzB,SAAmC,UAAxBizB,EAAUjzB,UAAuB,CAE7F,IAAIkhC,EAAS,YAAc,GAAIjO,EAAUgQ,aAAa,GAGtD,eAAK/B,GAAQ,SAAUwB,GACjBzP,EAAU+P,cAAcN,IAC1Bzf,EAAMsnB,aAAatX,EAAWyP,GAAO,MAIzC2V,EAAelP,YAAYlW,EAAWjB,EAAMjQ,UAE5C,eAAKmf,GAAQ,SAAUwB,GACjBzP,EAAU+P,cAAcN,IAC1Bzf,EAAMsnB,aAAatX,EAAWyP,GAAO,MAGrC/Q,IAASA,EAAUK,EAAMZ,UAG/B,OAAO,UAWbwmB,EAAcjiD,UAAU+lD,gBAAkB,SAAU3gD,EAAMq2B,EAAU+pB,QACpD,IAAVA,IACFA,GAAQ,GAGV,IAEIgD,EADJxqD,KAAKsH,IAAI,eAAe,GASxB,IA8FMghD,EA9FFlxC,GALFozC,EADE,mBAASpjD,GAJFpH,KAKIu/B,SAASn4B,GAEdA,GAGQyoC,WACd9Q,EAAc3nB,EAAM4mB,SAAW5mB,EAAMqmB,SACrCt6B,EAAO,GAGX,GAFIqnD,EAAMn+C,UAASlJ,EAAOqnD,EAAMn+C,WAE5BoxB,GAAqB,UAATt6B,EAAkB,CAChC,IAEIsnD,EAFAnU,EAAat2C,KAAKiB,IAAI,cACtBypD,GAAU,EAwBd,IAtBCpU,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/BiU,GACJ3tB,GAAa0Z,GAAO,SAAUmU,GAC5B,IAAIF,EAMJ,OAJIE,EAAQx8B,KAAOq8B,EAAM1a,UACvB2a,EAAgBE,IAGX,QAIX7tB,GAAa2tB,GAAe,SAAUE,GACpC,OAAIA,EAAQx8B,KAAOsP,IACjBitB,GAAU,GACH,OAMNA,EAEH,YADApwC,QAAQC,KAAK,sFAKjB,GAAIitC,GAASxnD,KAAKiB,IAAI,gBAAiB,CACrC,IAAI2pD,EAAa,GACbC,EAAY,GAEH,UAAT1nD,GACFynD,EAAW1qB,OAAS,CAAC,CACnB/R,GAAI/W,EAAM+W,GACVsP,SAAUrmB,EAAMqmB,WAElBotB,EAAU3qB,OAAS,CAAC,CAClB/R,GAAI/W,EAAM+W,GACVsP,SAAUA,KAEM,SAATt6B,IACTynD,EAAW38B,MAAQ,CAAC,CAClBE,GAAI/W,EAAM+W,GACVsP,SAAUrmB,EAAM4mB,UAElB6sB,EAAU58B,MAAQ,CAAC,CACjBE,GAAI/W,EAAM+W,GACVsP,SAAUA,KAIdz9B,KAAK2nD,UAAU,kBAAmB,CAChCF,OAAQmD,EACRlD,MAAOmD,IAKX,GAAIzzC,EAAMqmB,UAAYrmB,EAAM4mB,QAAS,CACnC,IAAID,EAAQ/9B,KAAKu/B,SAASnoB,EAAMqmB,UAAYrmB,EAAM4mB,SAE9CD,GACFA,EAAM2M,YAAY8f,IAIT,UAATrnD,EACFiU,EAAMqmB,SAAWA,EACC,SAATt6B,IACTiU,EAAM4mB,QAAUP,GAIdA,MACE6qB,EAActoD,KAAKu/B,SAAS9B,KAI9B6qB,EAAYpU,SAASsW,IAKrBzrB,KACEupB,EAActoD,KAAKu/B,SAASR,KAI9BupB,EAAY5d,YAAY8f,IAI5B,IAAIxC,EAAgBzpB,GAAgBv+B,KAAKiB,IAAI,cAAemW,EAAM+W,GAAIsP,GACtEz9B,KAAKsH,IAAI,aAAc0gD,GACvBhoD,KAAKuqD,gBAQPtG,EAAcjiD,UAAUunD,KAAO,WAC7B,IAAIt7B,EAAQ,GACRC,EAAQ,GACRgS,EAAS,GAUb,OATA,eAAKlgC,KAAKiB,IAAI,UAAU,SAAU4xB,GAChC5E,EAAMnrB,KAAK+vB,EAAKgd,eAElB,eAAK7vC,KAAKiB,IAAI,UAAU,SAAUy/B,GAChCxS,EAAMprB,KAAK49B,EAAKmP,eAElB,eAAK7vC,KAAKiB,IAAI,WAAW,SAAU88B,GACjCmC,EAAOp9B,KAAKi7B,EAAM8R,eAEb,CACL5hB,MAAOA,EACPC,MAAOA,EACPgS,OAAQA,IAWZ+jB,EAAcjiD,UAAUwkC,WAAa,SAAUj0B,EAAOuO,GAGpD,OAFqB9gB,KAAKiB,IAAI,kBACfulC,WAAWj0B,EAAOuO,GAC1B9gB,MAOTikD,EAAcjiD,UAAUiuC,QAAU,WAIhC,GAHWjwC,KACNoc,KAAK,sBADCpc,KAGFiB,IAAI,WAHFjB,KAIJ6pD,uBACA,CACL,IAAI57B,EANKjuB,KAMQiB,IAAI,SACjBitB,EAPKluB,KAOQiB,IAAI,SACjBwkD,EARKzlD,KAQSiB,IAAI,SACtB,eAAKgtB,GAAO,SAAU4E,GACpBA,EAAKod,aAEP,eAAK/hB,GAAO,SAAUwS,GACpBA,EAAKuP,aAEP,eAAKwV,GAAQ,SAAUqF,GACrBA,EAAM7a,aAhBCjwC,KAoBNoc,KAAK,qBApBCpc,KAqBN82C,aAQPmN,EAAcjiD,UAAUgyC,SAAW,WACjC,OAAOh0C,KAAKiB,IAAI,UAQlBgjD,EAAcjiD,UAAU4wC,SAAW,WACjC,OAAO5yC,KAAKiB,IAAI,UAOlBgjD,EAAcjiD,UAAUiyC,UAAY,WAClC,OAAOj0C,KAAKiB,IAAI,WAQlBgjD,EAAcjiD,UAAU+oD,iBAAmB,SAAUhtB,GAKnD,GAJI,mBAASA,KACXA,EAAQ/9B,KAAKu/B,SAASxB,IAGnBA,KAASA,EAAM1xB,SAA+B,UAApB0xB,EAAM1xB,WAKrC,OAAO0xB,EAAMgW,cAJXz5B,QAAQC,KAAK,8BAWjB0pC,EAAcjiD,UAAU6nD,iBAAmB,WACzC,IAAI3vC,EAAOla,KACXka,EAAKkC,KAAK,iBACV,IAAIipB,EAAanrB,EAAKjZ,IAAI,cACtB0kD,EAAUtgB,EAAWsgB,QACrB13B,EAAQ/T,EAAK85B,WACbgX,EAAU/8B,EAAM1d,KAAI,SAAUsiB,GAChC,IAAIzb,EAAQyb,EAAKgd,WACjB,MAAO,CACL1hB,GAAI/W,EAAM+W,GACVlM,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,MAITsF,EAAK+wC,eACP/wC,EAAK42B,cAGM52B,EAAKjZ,IAAI,UACfmkC,SAAQ,SAAU5S,GACvB,eAAKw4B,GAAS,SAAUnmD,GACtB,IAAIguB,EAAO3Y,EAAKqlB,SAAS16B,EAAKspB,IAE9B,GAAK0E,IAAQA,EAAK+N,UAAlB,CAIA,IAAIsqB,EAAcr4B,EAAK5xB,IAAI,eACvBmW,EAAQyb,EAAK5xB,IAAI,SAErB,IAAKiqD,EAAa,CAChB,IAAIrwB,EAAkBhI,EAAK+W,eAAexW,YACrCyH,IAAiBA,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACjEqwB,EAAc,CACZjpC,EAAG4Y,EAAgB,GACnBjmB,EAAGimB,EAAgB,IAErBhI,EAAKvrB,IAAI,cAAe4jD,GAG1B,GAAIvF,EAAS,CACX,IAAI3hD,EAAQ2hD,EAAQ9yB,EAAML,EAAO3tB,EAAMqmD,GACvCr4B,EAAKvrB,IAAI,QAASxG,OAAO0S,OAAO4D,EAAOpT,SAEvCoT,EAAM6K,EAAIipC,EAAYjpC,GAAKpd,EAAKod,EAAIipC,EAAYjpC,GAAKuQ,EACrDpb,EAAMxC,EAAIs2C,EAAYt2C,GAAK/P,EAAK+P,EAAIs2C,EAAYt2C,GAAK4d,MAGzDtY,EAAKgvC,qBACJ,CACDtD,SAAUvgB,EAAWugB,SACrBC,OAAQxgB,EAAWwgB,OACnBC,SAAU,WACR,eAAK73B,GAAO,SAAU4E,GACpBA,EAAKvrB,IAAI,cAAe,SAGtB+9B,EAAWygB,UACbzgB,EAAWygB,WAGb5rC,EAAKkC,KAAK,gBACVlC,EAAKgqC,WAAY,MASvBD,EAAcjiD,UAAUknD,iBAAmB,WAC9BlpD,KACNoc,KAAK,8BACV,IAIIhF,EAJA6W,EAFOjuB,KAEMiB,IAAI,SACjBitB,EAHOluB,KAGMiB,IAAI,SACjBwkD,EAJOzlD,KAIOiB,IAAI,UAClBi/B,EALOlgC,KAKOiB,IAAI,UAElBkqD,EAAe,GACnB,eAAKl9B,GAAO,SAAU4E,GACpBzb,EAAQyb,EAAKgd,WACb,IAAIqb,EAAcr4B,EAAK5xB,IAAI,eAE3B,IAAIiqD,GAAe9zC,EAAM6K,IAAMipC,EAAYjpC,GAAK7K,EAAMxC,IAAMs2C,EAAYt2C,EAAxE,CAIA,IAAIw2C,EAAUv4B,EAAKkb,eAAe,CAChC9rB,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,IAEXu2C,EAAa/zC,EAAM+W,IAAMi9B,EACrBh0C,EAAM4mB,UAASmtB,EAAa/zC,EAAM4mB,SAAWmtB,EAAa/zC,EAAM4mB,UAAYotB,OAG9ElrB,GAA4B,IAAlBA,EAAO59B,QAxBVtC,KAyBJuqD,eAGP,eAAKr8B,GAAO,SAAUwS,GACpB,IAAI2qB,EAAc3qB,EAAK2F,YAAYwJ,WAC/B7hB,EAAS0S,EAAK6F,YAGlB,IAAK,wBAAcvY,GAAS,CAC1B,IAAIs9B,EAAct9B,EAAO6hB,YAErBsb,EAAaE,EAAYl9B,KAAOg9B,EAAaG,EAAYn9B,KAAOuS,EAAKmP,WAAWiF,cAClFpU,EAAKuP,cAIX,eAAKwV,GAAQ,SAAUqF,GACrBA,EAAM7a,aA1CGjwC,KA4CNoc,KAAK,6BA5CCpc,KA6CN82C,aAGPmN,EAAcjiD,UAAU8uC,YAAc,WACpC9wC,KAAKiB,IAAI,UAAU6vC,eAGrBmT,EAAcjiD,UAAUipD,YAAc,WACpC,OAAOjrD,KAAKkkD,WAQdD,EAAcjiD,UAAUilD,QAAU,WAChC,IAAIn1B,EAAS9xB,KAAKiB,IAAI,SAASmyB,YAC/B,OAAOtB,EAASA,EAAO,GAAK,GAQ9BmyB,EAAcjiD,UAAUupD,eAAiB,WAEvC,OADqBvrD,KAAKiB,IAAI,kBACR2gC,WASxBqiB,EAAcjiD,UAAUi/B,QAAU,SAAU1/B,GAG1C,OAFqBvB,KAAKiB,IAAI,kBACfggC,QAAQ1/B,GAChBvB,MAQTikD,EAAcjiD,UAAU6rC,MAAQ,SAAU2d,GAkBxC,YAjBkB,IAAdA,IACFA,GAAY,GAGDxrD,KAAKiB,IAAI,UACf4sC,QACP7tC,KAAK8kD,aAEL9kD,KAAKsH,IAAI,CACPo+C,QAAS,GACTz3B,MAAO,GACPC,MAAO,GACPvlB,OAAQ,GACRu3B,OAAQ,GACRoW,WAAY,KAETkV,GAAWxrD,KAAKoc,KAAK,eACnBpc,MAUTikD,EAAcjiD,UAAUypD,aAAe,SAAUruC,GAC/C,IAAI4rC,EAAmBhpD,KAAKiB,IAAI,oBAE5B,mBAASmc,KACXA,EAAM,CACJja,KAAMia,IAIV,IAAIsuC,EAAe1rD,KAAKiB,IAAI,UACxB0qD,EAAY,GAChB7qD,OAAO0S,OAAOm4C,EAAWD,EAActuC,GACvCpd,KAAKsH,IAAI,SAAUqkD,GAEf3C,EAAiB4C,iBAAiBD,IAAcA,EAAUE,aAAeH,EAAaG,WAExF7C,EAAiB8C,gBAAgBH,GAGjC3C,EAAiB+C,aAAaJ,IAQlC1H,EAAcjiD,UAAUgqD,cAAgB,WACfhsD,KAAKiB,IAAI,oBACf+qD,iBAOnB/H,EAAcjiD,UAAUinD,OAAS,WAC/B,IAAID,EAAmBhpD,KAAKiB,IAAI,oBAC5B0qD,EAAY3rD,KAAKiB,IAAI,UACpB0qD,GAAc3C,IAEf2C,EAAUM,cAEZjD,EAAiBC,SAIfD,EAAiBkD,aACnBlD,EAAiBmD,UAAS,GAE1BnD,EAAiBC,WASrBhF,EAAcjiD,UAAUozC,cAAgB,SAAUrX,GAChD,IAAIzO,EAAQtvB,KAMZ,GAJI,mBAAS+9B,KACXA,EAAQ/9B,KAAKu/B,SAASxB,IAGnBA,EAAL,CAKA/9B,KAAKoc,KAAK,4BAA6B,CACrCtT,OAAQ,SACR1B,KAAM22B,IAER,IAAIsZ,EAAatZ,EAAM8R,WACF7vC,KAAKiB,IAAI,kBACfm0C,cAAcrX,GAC7BsZ,EAAWlC,WAAY,EAEvB,IAAIjnB,EAAQluB,KAAK4yC,WAAW5tC,OAAOhF,KAAKiB,IAAI,WAExCmrD,EAAS,GACTC,EAAU,GACV/V,EAAat2C,KAAKiB,IAAI,cACtBqrD,GAAQ,GACXhW,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/B8V,GAEJxvB,GAAa0Z,GAAO,SAAUmU,GAE5B,GAAI2B,GAAS3B,EAAQvsB,OAASiZ,EAAWjZ,MAAO,OAAO,EAIvD,GAFIiZ,EAAWlpB,KAAOw8B,EAAQx8B,KAAIm+B,GAAQ,GAEtCA,EAAO,CAET,IAAIllD,EAAOkoB,EAAMiQ,SAASorB,EAAQx8B,IAE9B/mB,GAAQA,EAAKiF,SAA8B,UAAnBjF,EAAKiF,YAC/B+/C,EAASA,EAAOpnD,OAAOoC,EAAK4sC,YAC5BqY,EAAUA,EAAQrnD,OAAOoC,EAAK6sC,cAIlC,OAAO,QAGX,IAAIsY,EAAgB,GAChBC,EAAc,GAClBt+B,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAIA,EAAKlB,aAAgBkB,EAAKmP,WAAW4c,QAAzC,CACA,IAAI1+B,EAAS2S,EAAK2F,YACdrY,EAAS0S,EAAK6F,YAElB,IAAK6lB,EAAOt7C,SAASid,IAAWs+B,EAAQv7C,SAASid,MAAaq+B,EAAOt7C,SAASkd,KAAYq+B,EAAQv7C,SAASkd,IAAWD,EAAO8hB,WAAW1hB,KAAOkpB,EAAWlpB,GAAI,CAG5J,IAFIu+B,EAAYhsB,EAAKmP,YAEP4c,QAGZ,YAFAn9B,EAAM2mB,WAAWvV,GAAM,GAOzB,IAFA,IAAI4qB,EAAct9B,EAAO6hB,YAEjB7hB,EAAOwR,aAAa,CAE1B,KADAxR,EAASsB,EAAMiQ,SAAS+rB,EAAY7tB,UAAY6tB,EAAYttB,YAC5CstB,EAAY7tB,WAAa6tB,EAAYttB,QAAS,OAE9DstB,EAAct9B,EAAO6hB,WAGvB,IAAI8c,EAAWrB,EAAYn9B,GAE3B,GAAIo+B,EAAc,GAAGvnD,OAAOqyC,EAAWlpB,GAAI,KAAKnpB,OAAO2nD,IAErD,YADAJ,EAAc,GAAGvnD,OAAOqyC,EAAWlpB,GAAI,KAAKnpB,OAAO2nD,KAAcD,EAAUx8C,MAAQ,GAKrF,IAAI46C,EAAQx7B,EAAMklB,QAAQ,QAAS,CACjCzmB,OAAQspB,EAAWlpB,GACnBH,OAAQ2+B,EACRF,SAAS,IACR,GAEHF,EAAc,GAAGvnD,OAAOqyC,EAAWlpB,GAAI,KAAKnpB,OAAO2nD,IAAaD,EAAUx8C,MAAQ,EAClFs8C,EAAY1pD,KAAKgoD,QACZ,IAAKsB,EAAOt7C,SAASid,KAAYs+B,EAAQv7C,SAASid,KAAYq+B,EAAOt7C,SAASkd,IAAWq+B,EAAQv7C,SAASkd,KAAYA,EAAO6hB,WAAW1hB,KAAOkpB,EAAWlpB,GAAI,CACnK,IAAIu+B,EAEJ,IAFIA,EAAYhsB,EAAKmP,YAEP4c,QAGZ,YAFAn9B,EAAM2mB,WAAWvV,GAAM,GAOzB,IAFA,IAAI2qB,EAAct9B,EAAO8hB,YAEjB9hB,EAAOyR,aAAa,CAE1B,KADAzR,EAASuB,EAAMiQ,SAAS8rB,EAAY5tB,UAAY4tB,EAAYrtB,YAC5CqtB,EAAY5tB,WAAa4tB,EAAYrtB,QAAS,OAE9DqtB,EAAct9B,EAAO8hB,WAGvB,IAAI+c,EAAWvB,EAAYl9B,GAE3B,GAAIo+B,EAAc,GAAGvnD,OAAO4nD,EAAU,KAAK5nD,OAAOqyC,EAAWlpB,KAE3D,YADAo+B,EAAc,GAAGvnD,OAAO4nD,EAAU,KAAK5nD,OAAOqyC,EAAWlpB,MAAQu+B,EAAUx8C,MAAQ,GAKjF46C,EAAQx7B,EAAMklB,QAAQ,QAAS,CACjCxmB,OAAQqpB,EAAWlpB,GACnBJ,OAAQ6+B,EACRH,SAAS,IACR,GAEHF,EAAc,GAAGvnD,OAAO4nD,EAAU,KAAK5nD,OAAOqyC,EAAWlpB,KAAOu+B,EAAUx8C,MAAQ,EAClFs8C,EAAY1pD,KAAKgoD,QAKrB0B,EAAY/7C,SAAQ,SAAUq6C,GAC5B,IAAI+B,EAAa/B,EAAMjb,WAEvBvgB,EAAM+lB,WAAWyV,EAAO,CACtB56C,KAAMq8C,EAAc,GAAGvnD,OAAO6nD,EAAW9+B,OAAQ,KAAK/oB,OAAO6nD,EAAW7+B,WACvE,MAELhuB,KAAKoc,KAAK,2BAA4B,CACpCtT,OAAQ,WACR1B,KAAM22B,SAjINzjB,QAAQC,KAAK,8CA0IjB0pC,EAAcjiD,UAAU+zC,YAAc,SAAUhY,GAC9C,IAAIzO,EAAQtvB,KAMZ,GAJI,mBAAS+9B,KACXA,EAAQ/9B,KAAKu/B,SAASxB,KAGnBA,GAASA,EAAM1xB,SAA+B,UAApB0xB,EAAM1xB,UACnCiO,QAAQC,KAAK,iDADf,CAKAva,KAAKoc,KAAK,4BAA6B,CACrCtT,OAAQ,SACR1B,KAAM22B,IAER,IAAIsZ,EAAatZ,EAAM8R,WACF7vC,KAAKiB,IAAI,kBACf80C,YAAYhY,GAC3BsZ,EAAWlC,WAAY,EAEvB,IAAIjnB,EAAQluB,KAAK4yC,WAAW5tC,OAAOhF,KAAKiB,IAAI,WAExCmrD,EAAS,GACTC,EAAU,GACV/V,EAAat2C,KAAKiB,IAAI,cACtBqrD,GAAQ,GACXhW,GAAc,IAAI7lC,SAAQ,SAAU+lC,GAC/B8V,GAEJxvB,GAAa0Z,GAAO,SAAUmU,GAE5B,GAAI2B,GAAS3B,EAAQvsB,OAASiZ,EAAWjZ,MAAO,OAAO,EAGvD,GAFIiZ,EAAWlpB,KAAOw8B,EAAQx8B,KAAIm+B,GAAQ,GAEtCA,EAAO,CACT,IAAIllD,EAAOkoB,EAAMiQ,SAASorB,EAAQx8B,IAE9B/mB,GAAQA,EAAKiF,SAA8B,UAAnBjF,EAAKiF,YAC/B+/C,EAASA,EAAOpnD,OAAOoC,EAAK4sC,YAC5BqY,EAAUA,EAAQrnD,OAAOoC,EAAK6sC,cAIlC,OAAO,QAGX,IAAIsY,EAAgB,GAChBC,EAAc,GAClBt+B,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAIA,EAAKlB,aAAgBkB,EAAKmP,WAAW4c,QAAzC,CACA,IAAI1+B,EAAS2S,EAAK2F,YACdrY,EAAS0S,EAAK6F,YACdqmB,EAAW7+B,EAAO9sB,IAAI,MACtB0rD,EAAW3+B,EAAO/sB,IAAI,MAE1B,IAAKmrD,EAAOt7C,SAASid,IAAWs+B,EAAQv7C,SAASid,MAAaq+B,EAAOt7C,SAASkd,KAAYq+B,EAAQv7C,SAASkd,IAAW4+B,IAAavV,EAAWlpB,GAAI,CAGhJ,GAAIuS,EAAKmP,WAAW4c,QAGlB,YAFAn9B,EAAM2mB,WAAWvV,GAAM,GAOzB,IAFA,IAAI4qB,EAAct9B,EAAO6hB,YAEjB7hB,EAAOwR,aAAa,CAG1B,KAFAxR,EAASsB,EAAMiQ,SAAS+rB,EAAYttB,SAAWstB,EAAY7tB,aAE3C6tB,EAAY7tB,WAAa6tB,EAAYttB,QACnD,OAGFstB,EAAct9B,EAAO6hB,WAGvB8c,EAAWrB,EAAYn9B,GAGvB,IAFA,IAAIk9B,EAAct9B,EAAO8hB,YAEjB9hB,EAAOyR,aAAa,CAG1B,KAFAzR,EAASuB,EAAMiQ,SAAS8rB,EAAYrtB,SAAWqtB,EAAY5tB,aAE3C4tB,EAAY5tB,WAAa4tB,EAAYrtB,QACnD,OAGF,GAAIqtB,EAAYrtB,UAAYqZ,EAAWlpB,IAAMk9B,EAAY5tB,WAAa4Z,EAAWlpB,GAC/E,MAGFk9B,EAAct9B,EAAO8hB,WAKvB,GAFA+c,EAAWvB,EAAYl9B,GAEnBw+B,EAAU,CACZ,IAAIG,EAAU,GAAG9nD,OAAO4nD,EAAU,KAAK5nD,OAAO2nD,GAG9C,GAAIJ,EAAcO,GAOhB,OANAP,EAAcO,IAAYpsB,EAAKmP,WAAW3/B,MAAQ,OAElDof,EAAM+lB,WAAWmX,EAAYM,GAAU,CACrC58C,KAAMq8C,EAAcO,KACnB,GAKL,IAAIhC,EAAQx7B,EAAMklB,QAAQ,QAAS,CACjCzmB,OAAQ6+B,EACR5+B,OAAQ2+B,EACRF,SAAS,IACR,GAEHF,EAAcO,GAAWpsB,EAAKmP,WAAW3/B,MAAQ,EACjDs8C,EAAYM,GAAWhC,QAEpB,IAAKsB,EAAOt7C,SAASid,KAAYs+B,EAAQv7C,SAASid,KAAYq+B,EAAOt7C,SAASkd,IAAWq+B,EAAQv7C,SAASkd,KAAY2+B,IAAatV,EAAWlpB,GAAI,CAGvJ,GAAIuS,EAAKmP,WAAW4c,QAGlB,YAFAn9B,EAAM2mB,WAAWvV,GAAM,GAOzB,IAFI2qB,EAAct9B,EAAO8hB,YAEjB9hB,EAAOyR,aAAa,CAG1B,KAFAzR,EAASuB,EAAMiQ,SAAS8rB,EAAYrtB,SAAWqtB,EAAY5tB,aAE3C4tB,EAAY5tB,WAAa4tB,EAAYrtB,QACnD,OAGFqtB,EAAct9B,EAAO8hB,WAGvB+c,EAAWvB,EAAYl9B,GAGvB,IAFIm9B,EAAct9B,EAAO6hB,YAEjB7hB,EAAOwR,aAAa,CAG1B,KAFAxR,EAASsB,EAAMiQ,SAAS+rB,EAAYttB,SAAWstB,EAAY7tB,aAE3C6tB,EAAY7tB,WAAa6tB,EAAYttB,QACnD,OAGF,GAAIstB,EAAYttB,UAAYqZ,EAAWlpB,IAAMm9B,EAAY7tB,WAAa4Z,EAAWlpB,GAC/E,MAGFm9B,EAAct9B,EAAO6hB,WAKvB,GAFA8c,EAAWrB,EAAYn9B,GAEnBy+B,EAAU,CACRE,EAAU,GAAG9nD,OAAO4nD,EAAU,KAAK5nD,OAAO2nD,GAG9C,GAAIJ,EAAcO,GAOhB,OANAP,EAAcO,IAAYpsB,EAAKmP,WAAW3/B,MAAQ,OAElDof,EAAM+lB,WAAWmX,EAAYM,GAAU,CACrC58C,KAAMq8C,EAAcO,KACnB,GAKDhC,EAAQx7B,EAAMklB,QAAQ,QAAS,CACjCxmB,OAAQ2+B,EACR5+B,OAAQ6+B,EACRH,SAAS,IACR,GAEHF,EAAcO,GAAWpsB,EAAKmP,WAAW3/B,MAAQ,EACjDs8C,EAAYM,GAAWhC,QAEfsB,EAAOt7C,SAASid,IAAWs+B,EAAQv7C,SAASid,MAAaq+B,EAAOt7C,SAASkd,IAAWq+B,EAAQv7C,SAASkd,KAE3GD,EAAOyR,aAAexR,EAAOwR,aAC/BkB,EAAKgQ,WAIX1wC,KAAKoc,KAAK,2BAA4B,CACpCtT,OAAQ,SACR1B,KAAM22B,MAIVkmB,EAAcjiD,UAAU+qD,oBAAsB,SAAUhvB,GAKtD,GAJI,mBAASA,KACXA,EAAQ/9B,KAAKu/B,SAASxB,IAGnBA,KAASA,EAAM1xB,SAA+B,UAApB0xB,EAAM1xB,WAArC,CAKA,IAJA,IAAIgrC,EAAatZ,EAAM8R,WAEnBwa,EAAarqD,KAAKu/B,SAAS8X,EAAW5Z,UAEnC4sB,GAAY,CACjB,IAAI2C,EAAc3C,EAAWxa,WAE7B,GAAImd,EAAY7X,UAGd,OAFA76B,QAAQC,KAAK,yEACb8vC,OAAap+C,GAIfo+C,EAAarqD,KAAKu/B,SAASytB,EAAYvvB,UAGzB4Z,EAAWlC,UAGzBn1C,KAAK+1C,YAAYhY,GAEjB/9B,KAAKo1C,cAAcrX,GAGrB/9B,KAAKw1C,YAAYzX,KAQnBkmB,EAAcjiD,UAAU2mD,WAAa,WACnC,IAAIr5B,EAAQtvB,KAGZ,IADkBA,KAAKiB,IAAI,eAC3B,CACAjB,KAAKsH,IAAI,eAAe,GACxB,IAAI2lD,EAAW,GACXC,EAAe,IACFltD,KAAKiB,IAAI,eACX,IAAIwP,SAAQ,SAAU08C,GACnCrwB,GAAaqwB,GAAO,SAAU9uB,GAG5B,OAFI4uB,EAAS5uB,EAAMD,OAAQ6uB,EAAS5uB,EAAMD,OAAOt7B,KAAKu7B,EAAMlQ,IAAS8+B,EAAS5uB,EAAMD,OAAS,CAACC,EAAMlQ,IACpG++B,EAAa7uB,EAAMlQ,IAAMkQ,EAAMD,OACxB,SAGCp+B,KAAK4yC,WAAW5tC,OAAOhF,KAAKiB,IAAI,YAClC,IAAIwP,SAAQ,SAAU28C,GAC9B,IAAI1sB,EAAO0sB,EAASvd,WAChBwd,EAAcH,EAAaxsB,EAAK3S,SAAW,EAC3Cu/B,EAAcJ,EAAaxsB,EAAK1S,SAAW,EAC3CoQ,EAAQ/4B,KAAKC,IAAI+nD,EAAaC,GAC9BL,EAAS7uB,GAAQ6uB,EAAS7uB,GAAOt7B,KAAK49B,EAAKvS,IAAS8+B,EAAS7uB,GAAS,CAACsC,EAAKvS,OAElF8+B,EAASx8C,SAAQ,SAAU7H,GACzB,GAAKA,GAAUA,EAAMtG,OAErB,IAAK,IAAIlC,EAAIwI,EAAMtG,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC1C,IAAIgH,EAAOkoB,EAAMiQ,SAAS32B,EAAMxI,IAE5BgH,GAAMA,EAAKopC,gBAarByT,EAAcjiD,UAAU+wC,aAAe,SAAUlgB,EAAM1vB,GACrD,IAAIiE,EAAOyrB,EAMX,OAJI,mBAASA,KACXzrB,EAAOpH,KAAKu/B,SAAS1M,IAGhBzrB,EAAK2rC,aAAa5vC,IAY3B8gD,EAAcjiD,UAAUurD,cAAgB,SAAU16B,EAAM1vB,EAAM8sC,QAC/C,IAAT9sC,IACFA,OAAO8I,QAGO,IAAZgkC,IACFA,GAAU,GAGZ,IAAI7oC,EAAOyrB,EAEP,mBAASA,KACXzrB,EAAOpH,KAAKu/B,SAAS1M,IAGvB,IAAIgB,EAAU7zB,KAAKiB,IAAI,WAElB4yB,IAAWoc,IACdpc,EAAU,oBAAU7zB,KAAKupD,QACzBvpD,KAAKsH,IAAI,UAAWusB,IAGtB,IAAI25B,EAAc35B,EAAQzsB,EAAK0oC,SAC3BwI,EAAM,EAEV,IAAKkV,EACH,OAAO,EAGT,OAAQrqD,GACN,IAAK,KACHm1C,EAAMkV,EAAYC,SAClB,MAEF,IAAK,MACHnV,EAAMkV,EAAYE,UAClB,MAEF,IAAK,MACHpV,EAAMkV,EACN,MAEF,QACElV,EAAMkV,EAAYhiD,OAItB,OAAO8sC,GAGT2L,EAAcjiD,UAAU2rD,aAAe,WACrC,OAAO3tD,KAAKokD,WAGdH,EAAcjiD,UAAU4rD,aAAe,WACrC,OAAO5tD,KAAKskD,WAOdL,EAAcjiD,UAAU6rD,aAAe,WACrC,OAAK7tD,KAAKiB,IAAI,gBAIP,CACLmjD,UAAWpkD,KAAKokD,UAAU0J,UAC1BxJ,UAAWtkD,KAAKskD,UAAUwJ,WALnB,MAaX7J,EAAcjiD,UAAU+mD,WAAa,WAC/B/oD,KAAKiB,IAAI,kBACXjB,KAAKokD,UAAUvW,QACf7tC,KAAKskD,UAAUzW,UAWnBoW,EAAcjiD,UAAU2lD,UAAY,SAAU7+C,EAAQjE,EAAMkpD,GAS1D,QARe,IAAXjlD,IACFA,EAAS,eAGO,IAAdilD,IACFA,EAAY,QAGT/tD,KAAKiB,IAAI,gBAAd,CAKA,IAAI+sD,EAAYnpD,EAAO,gBAAMA,GAAQ,CACnC4iD,OAAQ,GACRC,MAAO,gBAAM1nD,KAAKupD,SAGF,SAAdwE,EACF/tD,KAAKskD,UAAUxhD,KAAK,CAClBgG,OAAQA,EACRjE,KAAMmpD,IAGRhuD,KAAKokD,UAAUthD,KAAK,CAClBgG,OAAQA,EACRjE,KAAMmpD,IAIVhuD,KAAKoc,KAAK,cAAe,CACvBgoC,UAAWpkD,KAAKokD,UAChBE,UAAWtkD,KAAKskD,iBAvBhBhqC,QAAQC,KAAK,6DAoCjB0pC,EAAcjiD,UAAU4rB,aAAe,SAAU1mB,EAAOyrB,QACxC,IAAVzrB,IACFA,GAAQ,QAGO+E,IAAb0mB,IAAwBA,EAAW3yB,KAAKiB,IAAI,aAChD,IAAIgtD,EAAmBjuD,KAAKiB,IAAI,aAOhC,OALKgtD,GAAqB/mD,IACxB+mD,EAAmB,uBAAkBjuD,KAAKupD,OAAQ52B,GAClD3yB,KAAKsH,IAAI,YAAa2mD,IAGjBA,GAYThK,EAAcjiD,UAAUksD,sBAAwB,SAAUhnD,EAAOyrB,QACjD,IAAVzrB,IACFA,GAAQ,QAGO+E,IAAb0mB,IAAwBA,EAAW3yB,KAAKiB,IAAI,aAChD,IAAIgtD,EAAmBjuD,KAAKiB,IAAI,aAC5BktD,EAA6BnuD,KAAKiB,IAAI,sBAY1C,OAVKgtD,GAAqB/mD,IACxB+mD,EAAmB,uBAAkBjuD,KAAKupD,OAAQ52B,GAClD3yB,KAAKsH,IAAI,YAAa2mD,IAGnBE,GAA+BjnD,IAClCinD,EAA6B,wBAAcnuD,KAAKupD,OAAQ52B,GACxD3yB,KAAKsH,IAAI,qBAAsB6mD,IAG1BA,GAOTlK,EAAcjiD,UAAU8Z,GAAK,SAAUsyC,EAAWtI,EAAU9pC,GAC1D,OAAOsmB,EAAOtgC,UAAU8Z,GAAGvb,KAAKP,KAAMouD,EAAWtI,EAAU9pC,IAO7DioC,EAAcjiD,UAAUqgC,QAAU,WAChCriC,KAAK6tC,QACL,8BAAoB7tC,KAAKglD,WAEzBhlD,KAAK+oD,aACL/oD,KAAKiB,IAAI,kBAAkBohC,UAC3BriC,KAAKiB,IAAI,kBAAkBohC,UAC3BriC,KAAKiB,IAAI,kBAAkBohC,UAC3BriC,KAAKiB,IAAI,mBAAmBohC,UAC5BriC,KAAKiB,IAAI,UAAUohC,UACnBriC,KAAKod,IAAM,KACXpd,KAAK4gC,WAAY,EACjB5gC,KAAKskD,UAAY,KACjBtkD,KAAKokD,UAAY,MAQnBH,EAAcjiD,UAAUqsD,WAAa,SAAUjxC,GAC7C,GAAKA,EAAIsiC,WAAWtiC,EAAIsiC,QAAQp9C,OAAS,GAAzC,CAKA,IAAI0a,EAAShd,KAAKiB,IAAI,aAClBqtD,EAAUtuD,KAAKiB,IAAI,WAevB,GAbKqtD,IACHA,EAAU,GACVtuD,KAAKsH,IAAI,UAAWgnD,IAGjBtxC,IAAUA,EAAO/b,IAAI,gBACxB+b,EAAShd,KAAKiB,IAAI,SAAS8zC,SAAS,CAClC5mB,GAAI,eAECsiB,SACPzwC,KAAKsH,IAAI,YAAa0V,IAGpBsxC,EAAQlxC,EAAI+Q,IAEd,OADA7T,QAAQC,KAAK,oBACN+zC,EAAQlxC,EAAI+Q,IAGrB,IAAI8E,EAAQjW,EAAO+3B,SAAS,CAC1B5mB,GAAI,GAAGnpB,OAAOoY,EAAI+Q,GAAI,gBAEpBkyB,EAAO,IAAI,GAAKrgD,KAAM,YAAS,YAAS,GAAIod,GAAM,CACpD6V,MAAOA,KAIT,OADAq7B,EADajO,EAAKlyB,IACAkyB,EACXA,EAjCL/lC,QAAQC,KAAK,8CAyCjB0pC,EAAcjiD,UAAUusD,SAAW,WACjC,OAAOvuD,KAAKiB,IAAI,YAQlBgjD,EAAcjiD,UAAUwsD,YAAc,SAAUC,GAC9C,OAAOzuD,KAAKiB,IAAI,WAAWwtD,IAG7BxK,EAAcjiD,UAAU0sD,WAAa,SAAUrO,GAC7C,IAAIsO,EAGFA,EADE,mBAAStO,GACIrgD,KAAKwuD,YAAYnO,GAEjBA,SAGHrgD,KAAKiB,IAAI,WACR0tD,EAAaxgC,IAC5BwgC,EAAatsB,WAGf4hB,EAAcjiD,UAAUwnD,YAAc,WACpC,IAAIoF,EAAQ5uD,KAAKuuD,WACZK,GAAU9tD,OAAO8C,KAAKgrD,GAAOtsD,SAClCxB,OAAO8C,KAAKgrD,GAAOn+C,SAAQ,SAAU9O,GACxBitD,EAAMjtD,GACZ0gC,aAEPriC,KAAKsH,IAAI,UAAW,MAGtB28C,EAAcjiD,UAAUijD,OAAS,SAAU4J,GACzC,IAAI7F,EAAmBhpD,KAAKiB,IAAI,oBAE5B+nD,IACFA,EAAiB/D,OAAO4J,GACxB7uD,KAAKglD,UAAY,gCAAsBhlD,KAAKilD,OAAOrjD,KAAK5B,SAIrDikD,EAjkGT,CAkkGE,KCnlGF,SAAS,GAAQpgD,GAAkC,OAAO,GAAU,mBAAqB1C,QAAU,iBAAmBA,OAAOiU,SAAW,SAAUvR,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqB1C,QAAU0C,EAAIiJ,cAAgB3L,QAAU0C,IAAQ1C,OAAOa,UAAY,gBAAkB6B,IAAgBA,GAOzU,IAAI,GAAY,IAAI+rB,UAGhB,GAAS,CAAC,aAAc,YACxBk/B,GAAsB,CACxBvwC,UAAW,EACXC,YAAQvS,EACRiS,UAAMjS,EACNgU,gBAAiB,EACjBmjC,aAASn3C,EACT4V,mBAAe5V,EACf2V,iBAAa3V,EACbgW,EAAG,EACHrN,EAAG,EACH1T,EAAG,GACHqR,MAAO,GACPuO,OAAQ,GACR9B,iBAAa/S,EACbgT,WAAY,EACZ8vC,cAAe,EACfC,cAAe,GAgBbC,GAAuB,CACzBvuB,KAf6B,CAC7BniB,UAAW,EACXC,OAAQ,OACRsD,cAAU7V,EACVijD,YAAY,EACZC,UAAU,EACV/L,aAASn3C,EACT4V,mBAAe5V,EACf2V,iBAAa3V,EACb+S,iBAAa/S,EACbgT,WAAY,EACZ8vC,cAAe,EACfC,cAAe,GAIfn8B,KAAMi8B,GACN/wB,MAAO+wB,IAIEM,GAAY,CAErBr+C,QAAS,GACTysB,SAAU,GAKVr6B,KAAM,GACNksD,gBAAiB,SAAyBjyC,GACxC,MAAO,IAETkyC,WAAY,SAAoBlyC,GAC9B,OAAO,kBAAQ,CAEbmyC,SAAU,CACRtxC,MAAO,CACLpM,WAA8B,oBAAXxE,QAA0BA,OAAOmiD,kBAAmBniD,OAAOmiD,iBAAiBv9C,SAAS0C,KAAM,MAAM86C,iBAAiB,gBAAwC,sBAGjLC,eAAgB,CACdzxC,MAAO,CACLpM,WAA8B,oBAAXxE,QAA0BA,OAAOmiD,kBAAmBniD,OAAOmiD,iBAAiBv9C,SAAS0C,KAAM,MAAM86C,iBAAiB,gBAAwC,uBAGhLzvD,KAAK+Q,QAAS/Q,KAAKqvD,gBAAgBjyC,IAAQ,GAAIA,IAUpDisB,KAAM,SAAcjsB,EAAK6V,GACvB,IAAInW,EAAQ9c,KAAK2rC,UAAUvuB,EAAK6V,IAChCnW,EAAMxV,IAAI,YAAatH,KAAKw9B,SA/ET,UAiFfpgB,EAAIrI,QACM/U,KAAK2vD,UAAUvyC,EAAK6V,GAC1B3rB,IAAI,YAAatH,KAAKw9B,SAlFX,UAqFnB,OAAO1gB,GASTuuB,UAAW,SAAmBjuB,EAAK6V,EAAOqa,KAC1C3B,UAAW,SAAmBvuB,EAAK6V,GACjC,OAAO,MAET08B,UAAW,SAAmBvyC,EAAK6V,GACjC,IAEIs8B,EAFkBvvD,KAAKsvD,WAAWlyC,GAAKmyC,UAET,GAC9BK,EAAa5vD,KAAK6vD,cAAczyC,EAAKmyC,EAAUt8B,GAC/C9Q,EAASytC,EAAWztC,cACjBytC,EAAWztC,OAClB,IAAIpN,EAAQke,EAAMwW,SAAS,OAAQ,CACjCzlC,MAAO4rD,EACPE,WAAW,EACX3kB,UAAW,aACXxqC,KAAM,eAGR,GAAIwhB,EAAQ,CACV,IAAI4tC,EAAYh7C,EAAM4f,UAClBq7B,EAAcj7C,EAAMqe,YAMxB,GAJK48B,IACHA,EAAc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGrCJ,EAAWK,aACb,OAAQL,EAAWK,cACjB,IAAK,SACHD,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMD,EAAUx9C,MAAQ,GAAIw9C,EAAUjvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAK4tC,EAAUx9C,MAAQ,EAAGw9C,EAAUjvC,OAAS,KACvJ,MAEF,IAAK,UACHkvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAW3tC,GAAI2tC,EAAWh7C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAKytC,EAAW3tC,EAAG2tC,EAAWh7C,KACzH,MAEF,IAAK,aACHo7C,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAW3tC,GAAI2tC,EAAWh7C,EAAIm7C,EAAUjvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAKytC,EAAW3tC,EAAG2tC,EAAWh7C,EAAIm7C,EAAUjvC,OAAS,KACvK,MAEF,QACEkvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMD,EAAUx9C,MAAQ,GAAIw9C,EAAUjvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAK4tC,EAAUx9C,MAAQ,EAAGw9C,EAAUjvC,OAAS,UAI3JkvC,EAAc,GAAUA,EAAa,CAAC,CAAC,KAAMJ,EAAW3tC,GAAI2tC,EAAWh7C,EAAIm7C,EAAUjvC,OAAS,GAAI,CAAC,IAAKqB,GAAS,CAAC,IAAKytC,EAAW3tC,EAAG2tC,EAAWh7C,EAAIm7C,EAAUjvC,OAAS,KAGzK/L,EAAM2e,UAAUs8B,GAGlB,GAAIJ,EAAWM,WAAY,CACzB,IAAIv/B,EAAO3wB,KAAKmwD,YAAY/yC,EAAK6V,EAAOle,GACpCq7C,EAAmBpwD,KAAKw9B,SA5GD,YA6G3B7M,EAAKrpB,IAAI,YAAa8oD,GACtBr7C,EAAMy7B,UAGR,OAAOz7B,GAETo7C,YAAa,SAAqB/yC,EAAK6V,EAAOle,GAC5C,IAAIs7C,EAAkBrwD,KAAK+Q,QAAQw+C,SAC/BA,EAAW,cAAI,GAAIc,EAAiBjzC,EAAImyC,UACxCtxC,EAAQje,KAAKswD,0BAA0Bv7C,EAAOqI,EAAKmyC,EAAUt8B,GAKjE,OAJWA,EAAMwW,SAAS,OAAQ,CAChC9oC,KAAM,gBACNqD,MAAOia,KAIXsyC,wBAAyB,SAAiCnzC,EAAKmyC,EAAUt8B,GACvE,MAAO,CACLthB,KAAMyL,EAAIrI,QAGdu7C,0BAA2B,SAAmCv7C,EAAOqI,EAAKmyC,EAAUt8B,GAClF,MAAO,IAST48B,cAAe,SAAuBzyC,EAAKmyC,EAAUt8B,GACnD,IAAIu9B,EAAiBxwD,KAAKuwD,wBAAwBnzC,EAAKmyC,EAAUt8B,GAC7Dw9B,EAAW,GAAGzrD,OAAOhF,KAAKw9B,SAAU,SAEpCkzB,EAAe,GAAOD,GAAY,GAAOA,GAAUxyC,MAAQ,KAI/D,OAFiB,YAAS,YAAS,YAAS,GAAIyyC,GAAeF,GAAiBjB,EAAStxC,QAS3F0yC,cAAe,SAAuBvzC,GACpC,OAAOA,EAAIa,OASb0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3BpH,KAAK4wD,iBAAiBxzC,EAAKhW,GAC3BpH,KAAK6wD,YAAYzzC,EAAKhW,IAExBwpD,iBAAkB,SAA0BxzC,EAAKhW,GAC/C,IAAI6rB,EAAQ7rB,EAAKwiC,eACb9sB,EAAQ1V,EAAK0zB,cACbg2B,EAAa,cAAI,GAAIh0C,EAAMguB,OAAQ1tB,EAAIa,OAEvCghC,EAAU,SAAiBt9C,GAC7B,IAAIyX,EAEA6E,EAAQ6yC,EAAWnvD,GAEvB,GAAI,wBAAcsc,GAAQ,CAExB,IAAI8yC,EAAW99B,EAAM3uB,MAAK,SAAU6Y,GAClC,OAAOA,EAAQlc,IAAI,UAAYU,KAG7BovD,GACFA,EAASjmB,KAAK7sB,QAGhBnB,EAAMguB,OAAM1xB,EAAK,IAAOzX,GAAOsc,EAAO7E,KAI1C,IAAK,IAAIzX,KAAOmvD,EACd7R,EAAQt9C,IAGZkvD,YAAa,SAAqBzzC,EAAKhW,GACrC,IAAI6rB,EAAQ7rB,EAAKwiC,eACbymB,EAAkBrwD,KAAKsvD,WAAW,IAAIC,SACtCyB,EAAiBhxD,KAAKw9B,SA/OP,SAgPfzoB,EAAQke,EAAM3uB,MAAK,SAAU6Y,GAC/B,OAAOA,EAAQlc,IAAI,eAAiB+vD,KAElCZ,EAAmBpwD,KAAKw9B,SA5MC,YA6MzByzB,EAAUh+B,EAAM3uB,MAAK,SAAU6Y,GACjC,OAAOA,EAAQlc,IAAI,eAAiBmvD,KAGtC,GAAIhzC,EAAIrI,OAAuB,KAAdqI,EAAIrI,MAEnB,GAAKA,EAIE,CAGL,IAAIm8C,EAAkB,GAElB9pD,EAAKyoC,WACPqhB,EAAkB9pD,EAAKyoC,WAAW0f,UAIpC,IAAIA,EAAW,kBAAQ,GAAIc,EAAiBa,EAAiB9zC,EAAImyC,UAE7DiB,EAAiBxwD,KAAKuwD,wBAAwBnzC,EAAKmyC,EAAUt8B,GAE7Dk+B,EAAW/zC,EAAImyC,SAAWnyC,EAAImyC,SAAStxC,WAAQhS,EAC/CmlD,EAAa7B,EAAStxC,OAASsxC,EAAStxC,MAAMiyC,WAE9CN,EAAa,YAAS,YAAS,YAAS,GAAI76C,EAAM+1B,QAAS0lB,GAAiBW,GAE5EhvC,EAASytC,EAAWztC,OAGxB,UAFOytC,EAAWztC,OAEdA,EAAQ,CAEV,IAAIkvC,EAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5CA,EAAe,GAAUA,EAAc,CAAC,CAAC,KAAMzB,EAAW3tC,GAAI2tC,EAAWh7C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAKytC,EAAW3tC,EAAG2tC,EAAWh7C,KAC3HG,EAAM+vB,cACN/vB,EAAM+1B,KAAK,YAAS,YAAS,GAAI8kB,GAAa,CAC5C99B,OAAQu/B,UAGVt8C,EAAM+vB,cACN/vB,EAAM+1B,KAAK8kB,GAGb,GAAKqB,EAME,GAAIrB,EAAWM,WAAY,CAChC,IAAIoB,EAAmBtxD,KAAKswD,0BAA0Bv7C,EAAOqI,EAAKmyC,EAAUt8B,GAExEs+B,EAAe,YAAS,YAAS,GAAID,GAAmBF,GAI5D,GAFAH,EAAQnsB,cAEJ3iB,EAAQ,CACV,IAAIqvC,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9CA,EAAiB,GAAUA,EAAgB,CAAC,CAAC,KAAMD,EAAatvC,GAAIsvC,EAAa38C,GAAI,CAAC,IAAKuN,GAAS,CAAC,IAAKovC,EAAatvC,EAAGsvC,EAAa38C,KACvI28C,EAAaz/B,OAAS0/B,EAGxBP,EAAQnmB,KAAKymB,QAEbt+B,EAAMyX,YAAYumB,QApBdrB,EAAWM,cACbe,EAAUjxD,KAAKmwD,YAAY/yC,EAAK6V,EAAOle,IAC/BzN,IAAI,YAAa8oD,GACzBr7C,EAAMy7B,eA3CA,CAEKxwC,KAAK2vD,UAAUvyC,EAAK6V,GAC1B3rB,IAAI,YAAa0pD,KA+DhCzlB,YAAa,SAAqBnuB,EAAKhW,KAUvCokC,SAAU,SAAkB7qC,EAAMU,EAAO+F,GACvC,IAAIgS,EAAI8uB,EAEJprB,EAAQ1V,EAAKnG,IAAI,YACrB,GAAK6b,IAASA,EAAM8jB,UAApB,CACA,IAAIz9B,EAAOiE,EAAKiF,UACZkjC,EAAY,oBAAUluC,GAASV,EAAO,GAAGqE,OAAOrE,EAAM,KAAKqE,OAAO3D,GAClEowD,EAAkBzxD,KAAKqvC,cAAcE,EAAWnoC,GAChDsqD,EAAiBtqD,EAAKioC,cAAcE,GAGxC,GAAKmiB,GAAmBD,EAAxB,CAMA,IAAIhkB,EAAS,cAAI,GAAIikB,GAAkBD,GACnCx+B,EAAQ7rB,EAAKwiC,eAEb+nB,EAAY,CACd1vC,EAAG,EACHrN,EAAG,EACHqc,GAAI,EACJC,GAAI,GASN,GANa,UAAT/tB,IACFwuD,EAAUzwD,EAAI,EACdywD,EAAUp/C,MAAQ,EAClBo/C,EAAU7wC,OAAS,GAGjBzf,EAAO,CACT,IAAIuwD,EAAU,SAAiBjwD,GAC7B,IAAIuoC,EAEAjsB,EAAQwvB,EAAO9rC,GAEnB,GAAI,wBAAcsc,KAAW,GAAOnN,SAASnP,GAAM,CACjD,IAAIovD,EAAW99B,EAAM3uB,MAAK,SAAU6Y,GAClC,OAAOA,EAAQlc,IAAI,UAAYU,KAG7BovD,GACFA,EAASjmB,KAAK7sB,QAIhBnB,EAAMguB,OAAMZ,EAAK,IAAOvoC,GAAOsc,EAAOisB,KAK1C,IAAK,IAAIvoC,KAAO8rC,EACdmkB,EAAQjwD,OAEL,CAEL,IAAIkwD,EAAoB,GAAgBzqD,EAAKknC,yBACzCl3B,EAAQhQ,EAAKyoC,WAEbiiB,EAAgB,cAAI,GAAI16C,EAAM6G,MAAO,GAAgB7W,EAAKyjC,mBAC1DknB,EAAiBj1C,EAAM7b,IAAI,QAG3BytC,EAAe5xB,EAAMguB,OACrBknB,EAAmB,GACvBlxD,OAAO8C,KAAK8qC,GAAcj+B,SAAQ,SAAU9O,GAC1C,GAAY,QAARA,EAAJ,CACA,IAAImpC,EAAO4D,EAAa/sC,GAEpBmpC,GAA0B,WAAlB,GAAQA,GAClBknB,EAAiBrwD,GAAO,gBAAMmpC,GAE9BknB,EAAiBrwD,GAAOmpC,MAI5B,IAAImnB,EAA2B,GAE3BC,EAAU,SAAiBhwD,GAC7B,IAAI+b,EAAQwvB,EAAOvrC,GAEnB,GAAI,wBAAc+b,KAAW,GAAOnN,SAAS5O,GAAI,CAC/C,IAAIiwD,EAAal/B,EAAM3uB,MAAK,SAAU6Y,GACpC,OAAOA,EAAQlc,IAAI,UAAYiB,KAGjC,GAAIiwD,EAAY,CACd,IAAIC,EAAmB,gBAAMD,EAAWrnB,QACxC,eAAK7sB,GAAO,SAAUvY,EAAG/D,GACvB,GAAIO,IAAM6vD,GAAkBC,EAAiBrwD,KAASgwD,EAAUhwD,GAAM,QAC7DqwD,EAAiBrwD,GACxB,IAAI0wD,EAAUP,EAAc5vD,GAAGP,IAAQstD,GAAqB9rD,GAAMxB,GAClEmb,EAAMguB,KAAKnpC,EAAK0wD,QACX,GAAID,EAAiBzwD,IAAkC,IAA1BywD,EAAiBzwD,GAAY,QACxDywD,EAAiBzwD,GACxB,IAAI2wD,EAAUR,EAAc5vD,GAAGP,IAAQstD,GAAqB9rD,GAAMxB,GAClEwwD,EAAWrnB,KAAKnpC,EAAK2wD,OAGzBL,EAAyB/vD,GAAKkwD,QAGhC,GAAIJ,EAAiB9vD,KAAOyvD,EAAUzvD,GAAI,QACjC8vD,EAAiB9vD,GACxB,IAAIqwD,EAAUT,EAAc5vD,KAAO4vD,EAAcC,GAAkBD,EAAcC,GAAgB7vD,QAAK+J,IAAcgjD,GAAqB9rD,GAAMjB,GAC/I4a,EAAMguB,KAAK5oC,EAAGqwD,KAMpB,IAAK,IAAIrwD,KAAKurC,EACZykB,EAAQhwD,GAYV,IAAK,IAAIP,KANJowD,EAGHE,EAAyBF,GAAkBC,EAF3C,cAAIC,EAA0BD,GAKhBH,EACd,IAAIF,EAAUhwD,GAAd,CACA,IAAI6wD,EAAcX,EAAkBlwD,GAE/B,wBAAc6wD,KAAgB,GAAO1hD,SAASnP,KAE5CowD,GAGH,cAAID,EAAcC,KAAkB7pB,EAAK,IAAOvmC,GAAO6wD,EAAatqB,WAC7D4pB,EAAcnwD,IAHrB,cAAImwD,IAAgB14C,EAAK,IAAOzX,GAAO6wD,EAAap5C,WAM/Cy4C,EAAkBlwD,IAI7B,IAAI8wD,EAAe,GACnB,kBAAQA,EAAcX,EAAeG,EAA0BJ,GAC/D,IAAIa,GAAiB,EAEjBC,EAAU,SAAiBC,GAC7B,IAAIzoB,EAAI0oB,EAEJ50C,EAAQw0C,EAAaG,GAEzB,GAAI,wBAAc30C,KAAW,GAAOnN,SAAS8hD,GAAY,CACvD,IAAI7B,EAAW99B,EAAM3uB,MAAK,SAAU6Y,GAClC,OAAOA,EAAQlc,IAAI,UAAY2xD,KAG7B7B,IACE6B,IAAcb,IACH,UAAT5uD,WACK8a,EAAM/c,SACN+c,EAAM1L,aACN0L,EAAM6C,QAGf4xC,GAAiB,GAGnB3B,EAASjmB,KAAK7sB,SAEX,IAAKy0C,EAAgB,CAC1B,IAAII,EAAU70C,GAASgxC,GAAqB9rD,GAAMyvD,GAErC,UAATzvD,EACG4uD,GACHj1C,EAAMguB,OAAMX,EAAK,IAAOyoB,GAAaE,EAAS3oB,IAGhDrtB,EAAMguB,OAAM+nB,EAAK,IAAOD,GAAaE,EAASD,MAKpD,IAAK,IAAID,KAAaH,EACpBE,EAAQC,OAYdvjB,cAAe,SAAuB1uC,EAAMyG,GAC1C,IAAIgQ,EAAQhQ,EAAKyoC,WACb1sC,EAAOiE,EAAKiF,UAEZ+M,EAAKpZ,KAAKsvD,WAAWl4C,GACrBo2B,EAAcp0B,EAAGo0B,YACjBtF,EAAK9uB,EAAG6E,MACRA,OAAe,IAAPiqB,EAAgB,GAAKA,EAE7B6qB,EAAkB37C,EAAMo2B,YAAcp2B,EAAMo2B,YAAY7sC,GAAQ6sC,GAAeA,EAAY7sC,GAE/F,MAAa,UAATwC,EACK,gBAAM4vD,GAGR,cAAI,GAAI90C,EAAO80C,IAQxBtnB,iBAAkB,SAA0BruB,GAC1C,OAAOA,EAAIgf,eAQb2O,gBAAiB,SAAyB3tB,GAExC,OADmBpd,KAAKsvD,WAAWlyC,GAAKuiB,eC/iBxCqzB,GAAa,CACfx1B,SAAU,OAEV4O,UAAW,cAOX6mB,cAAe,SAMf50C,OAAQ,GAAOL,UAAUK,OAQzB60C,QAAS,SAAiB91C,GACxB,IAAIlN,EAAOkN,EAAIlN,MAAQlQ,KAAKsvD,WAAW,IAAIp/C,MAAQ,GAAOoO,YAAYpO,KAWtE,OATI,kBAAQA,IAAyB,IAAhBA,EAAK5N,SACxB4N,EAAO,CAACA,EAAK,GAAIA,EAAK,KAInB,kBAAQA,KACXA,EAAO,CAACA,EAAMA,IAGTA,GAGTqgD,wBAAyB,SAAiCnzC,EAAKmyC,GAC7D,IAAI0D,EAAgB1D,EAASv0B,UAAYh7B,KAAKizD,cAE9C,GAAsB,WAAlBA,EACF,MAAO,CACLhxC,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,OAId,IAAIsJ,EAASkxC,EAASlxC,OAElB,gBAAMA,KAERA,EAASre,KAAKqe,QAGhB,IAGIJ,EAHA/N,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAGlB,OAAQ+iD,GACN,IAAK,MACHh1C,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EAAIkM,EAAS,EAAIzC,EACpBD,aAAc,UAGhB,MAEF,IAAK,SACHH,EAAQ,CACNgE,EAAG,EACHrN,EAAGkM,EAAS,EAAIzC,EAChBD,aAAc,OAEhB,MAEF,IAAK,OACHH,EAAQ,CACNgE,EAAG,EAAI1P,EAAQ,EAAI8L,EACnBzJ,EAAG,EACHuJ,UAAW,SAEb,MAEF,QACEF,EAAQ,CACNgE,EAAG1P,EAAQ,EAAI8L,EACfzJ,EAAG,EACHuJ,UAAW,QAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAETqyC,0BAA2B,SAAmCv7C,EAAOqI,EAAKmyC,EAAUt8B,GAClF,IAAKle,EACH,MAAO,GAGT,IAAIse,EAAOte,EAAM4f,UACbw+B,EAAkB5D,EAAStxC,OAASsxC,EAAStxC,MAAMiyC,WAEvD,IAAKiD,EACH,MAAO,GAGT,IAUIl1C,EAVA8C,EAAU,GAAcoyC,EAAgBpyC,SACxCqyC,EAAkB//B,EAAK9gB,MAAQwO,EAAQ,GAAKA,EAAQ,GACpDsyC,EAAmBhgC,EAAKvS,OAASC,EAAQ,GAAKA,EAAQ,GACtD1C,EAASkxC,EAASlxC,OAgBtB,OAdI,gBAAMA,KAERA,EAASre,KAAKqe,QAIhBJ,EAAQ,CACNgE,EAAGoR,EAAKE,KAAOxS,EAAQ,GACvBnM,EAAGye,EAAKG,KAAOzS,EAAQ,IAEzB9C,EAAQ,YAAS,YAAS,YAAS,GAAIA,GAAQk1C,GAAkB,CAC/D5gD,MAAO6gD,EACPtyC,OAAQuyC,KAIZ1nB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAImZ,EAAYpsC,KAAKosC,UAEjBnuB,EAAQje,KAAK2wD,cAAcvzC,GAM/B,OALY6V,EAAMwW,SAAS2C,EAAW,CACpCpoC,MAAOia,EACP6xC,WAAW,EACXnvD,KAAM,gBAUV2yD,iBAAkB,SAA0Bl2C,EAAK6V,GAC/C,IAaIsgC,EAbAC,EAAoBxzD,KAAKsvD,WAAWlyC,GAAKuB,WACzC80C,EAAWxgC,EAAM3uB,MAAK,SAAU6Y,GAClC,MAAoC,oBAA7BA,EAAQlc,IAAI,gBAEjByyD,EAAYzgC,EAAM3uB,MAAK,SAAU6Y,GACnC,MAAoC,qBAA7BA,EAAQlc,IAAI,gBAEjB0yD,EAAU1gC,EAAM3uB,MAAK,SAAU6Y,GACjC,MAAoC,mBAA7BA,EAAQlc,IAAI,gBAEjB2yD,EAAa3gC,EAAM3uB,MAAK,SAAU6Y,GACpC,MAAoC,sBAA7BA,EAAQlc,IAAI,gBAIjBwyD,IACFF,EAAoBE,EAAS3oB,QAG3B4oB,IAAcH,IAChBA,EAAoBG,EAAU5oB,QAG5B6oB,IAAYJ,IACdA,EAAoBI,EAAQ7oB,QAG1B8oB,IAAeL,IACjBA,EAAoBK,EAAW9oB,QAG5ByoB,IAAmBA,EAAoBC,GAC5C,IAAI70C,EAAa,cAAI,GAAI40C,EAAmBn2C,EAAIuB,YAC5Ck1C,EAAWl1C,EAAWT,KACtB41C,EAAan1C,EAAWH,OACxBu1C,EAAcp1C,EAAWJ,UACzBy1C,EAAWr1C,EAAWzO,KAAO,EAC5B8jD,IAAUA,EAAWr1C,EAAWzd,GAErC,IAAIkY,EAAKgE,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCqX,UAAM/pB,EACNiqB,WAAOjqB,EACP8pB,SAAK9pB,EACLgqB,YAAQhqB,GAEN+pB,EAAO5c,EAAG4c,KACVE,EAAQ9c,EAAG8c,MACXH,EAAM3c,EAAG2c,IACTE,EAAS7c,EAAG6c,OAEZ/lB,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACdu9B,EAAS,CACXvsC,EAAG8yD,EACH91C,KAAM21C,EACNr1C,OAAQs1C,EACRv1C,UAAWw1C,GAGTN,EACGz9B,QAAiB/pB,IAAT+pB,EAGXy9B,EAAS3oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC3CxrB,GAAI1P,EAAQ,EACZqC,EAAG,KAJL6+C,EAASjtD,SAOFwvB,GACT/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,YAAS,YAAS,GAAIypC,GAAS,CACpCxrB,GAAI1P,EAAQ,EACZqC,EAAG,IAELu2B,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIfP,GACGx9B,QAAmBjqB,IAAViqB,GACZw9B,EAAUltD,SAGZktD,EAAU5oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC5CxrB,EAAG1P,EAAQ,EACXqC,EAAG,MAEIshB,GACTjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,YAAS,YAAS,GAAIypC,GAAS,CACpCxrB,EAAG1P,EAAQ,EACXqC,EAAG,IAELu2B,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfN,GACG59B,QAAe9pB,IAAR8pB,GACV49B,EAAQntD,SAGVmtD,EAAQ7oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC1CxrB,EAAG,EACHrN,GAAIkM,EAAS,MAENiV,GACT9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,YAAS,YAAS,GAAIypC,GAAS,CACpCxrB,EAAG,EACHrN,GAAIkM,EAAS,IAEfqqB,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfL,EACG39B,QAAqBhqB,IAAXgqB,EAGb29B,EAAW9oB,KAAK,YAAS,YAAS,GAAI2C,GAAS,CAC7CxrB,EAAG,EACHrN,EAAGkM,EAAS,KAJd8yC,EAAWptD,SAOJyvB,GACThD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,YAAS,YAAS,GAAIypC,GAAS,CACpCxrB,EAAG,EACHrN,EAAGkM,EAAS,IAEdqqB,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAIrB/jB,YAAa,SAAqB9yB,EAAKhW,EAAMynC,EAAeqlB,GAC3C9sD,EAAKnG,IAAI,YACf6pC,KAAK,YAAS,GAAI+D,IAC3B7uC,KAAK6wD,YAAYzzC,EAAKhW,GAElB8sD,GACFl0D,KAAKm0D,WAAW/2C,EAAKhW,IAGzB+sD,WAAY,SAAoB/2C,EAAKhW,GACnC,IAAIkoB,EAAQtvB,KAERizB,EAAQ7rB,EAAKwiC,eACbwqB,EAAOp0D,KAAKsvD,WAAWlyC,GAAKg3C,KAC5B1jB,GAAQtzB,EAAIg3C,KAAOh3C,EAAIg3C,KAAO,CAChC1jB,UAAMzkC,IACLykC,KACC2jB,EAAYphC,EAAM3uB,MAAK,SAAU6Y,GACnC,OAAOA,EAAQlc,IAAI,eAAiB,GAAG+D,OAAOsqB,EAAMnsB,KAAM,YAG5D,GAAIkxD,EAEF,GAAI3jB,QAAiBzkC,IAATykC,EAAoB,CAE9B,IAAI4jB,EAAa,cAAI,GAAID,EAAUvpB,OAAQspB,GACvCt6B,EAAIw6B,EAAW/hD,MACfiF,EAAI88C,EAAWxzC,OACnBuzC,EAAUvpB,KAAK,YAAS,YAAS,GAAIwpB,GAAa,CAChDryC,GAAI6X,EAAI,EACRllB,GAAI4C,EAAI,UAIV68C,EAAU7tD,cAEP,GAAIkqC,EAAM,CAEX5W,EAAIs6B,EAAK7hD,MACTiF,EAAI48C,EAAKtzC,OACbmS,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,YAAS,YAAS,GAAIowD,GAAO,CAClCnyC,GAAI6X,EAAI,EACRllB,GAAI4C,EAAI,IAEV2zB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,WAG7B,IAAIoxD,EAAathC,EAAM3uB,MAAK,SAAU6Y,GACpC,MAAoC,eAA7BA,EAAQlc,IAAI,gBAGjBszD,GACFA,EAAW/jB,aAMfgkB,GAAgB,YAAS,YAAS,GAAIpF,IAAY4D,IAEtD,GAAM7mB,aAAa,cAAeqoB,ICjVlC,IAAIC,GAAa,CACfj3B,SAAU,OAMVy1B,cAAe,SAMfvyC,KAAM,EAMND,KAAM,EAMNi0C,iBAAiB,EAEjB3jD,QAAS,CACPb,KAAM,GAAO6P,YAAY7P,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,GAAOuB,YAAY9B,MAAMO,OACjCyB,gBAAiB,GAAOF,YAAY9B,MAAMgC,iBAE5CsvC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAO4B,UAAU7B,MAAMC,KAC7B9L,SAAU,GAAO0N,UAAU7B,MAAM7L,WAGrCo7B,YAAa,YAAS,GAAI,GAAOttB,kBASnCy0C,QAAS,SAAiB9jC,GACxB,IAAIjgB,EAAO,GAQX,OAPA,eAAKigB,GAAQ,SAAUD,EAAO/tB,GACd,IAAVA,EACF+N,EAAK9N,KAAK,CAAC,IAAK8tB,EAAM3O,EAAG2O,EAAMhc,IAE/BhE,EAAK9N,KAAK,CAAC,IAAK8tB,EAAM3O,EAAG2O,EAAMhc,OAG5BhE,GAET+/C,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAK+Q,QAAQkN,MAC5B22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,EAAax3C,EAAIa,OAC/C/N,EAAOkN,EAAIlN,MAAQ,GAAO6P,YAAY7P,KAEtC+qB,GADJ7d,EAAMpd,KAAK60D,cAAcz3C,IACJ6d,WACjBC,EAAW9d,EAAI8d,SACfkB,EAAgBp8B,KAAKyrC,iBAAiBruB,GACtCyT,EAAS,CAACoK,GAGVmB,IACFvL,EAASA,EAAO7rB,OAAOo3B,IAIzBvL,EAAO/tB,KAAKo4B,GACZ,IAAItqB,EAAO5Q,KAAK20D,QAAQ9jC,GAMxB,OALa,cAAI,GAAI,GAAO9Q,YAAY9B,MAAO,CAC7CO,OAAQ,GAAOuB,YAAY3W,MAC3BmV,UAAWrO,EACXU,KAAMA,GACLqN,IAGL2yC,iBAAkB,SAA0BxzC,EAAKhW,GAC/C,IAAI6rB,EAAQ7rB,EAAKwiC,eACbgrB,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAEV0T,EAAQmW,EAAM3uB,MAAK,SAAU6Y,GAC/B,MAAoC,eAA7BA,EAAQlc,IAAI,iBACfmG,EAAK0zB,cACP5qB,EAAOkN,EAAIlN,KAEX+qB,GADJ7d,EAAMpd,KAAK60D,cAAcz3C,IACJ6d,WACjBC,EAAW9d,EAAI8d,SACfkB,EAAgBp8B,KAAKyrC,iBAAiBruB,GAEtCyT,EAAS,CAACoK,GAGVmB,IACFvL,EAASA,EAAO7rB,OAAOo3B,IAIzBvL,EAAO/tB,KAAKo4B,GACZ,IAAI45B,EAAch4C,EAAMguB,OACpBiqB,EAAgB,cAAI,GAAIH,EAAaE,EAAa13C,EAAIa,OACtD8P,EAAS3Q,EAAIud,WACb3M,EAAS5Q,EAAIwd,WACbo6B,EAAW,CACb1rD,OAAQyrD,EAAczrD,QAGnB8yB,IACH44B,EAAW,CACTjnC,OAAQA,EACRC,OAAQA,EACR3P,OAAQ02C,EAAc12C,OACtB/U,OAAQyrD,EAAczrD,SAItBwrD,EAAY3F,WAAuC,IAA3B4F,EAAc5F,WACxC/xC,EAAIa,MAAMkxC,SAAW,CACnBv+C,KAAM,KAINkkD,EAAY5F,aAA2C,IAA7B6F,EAAc7F,aAC1C9xC,EAAIa,MAAMixC,WAAa,CACrBt+C,KAAM,KAIV,IAAIA,EAAO5Q,KAAK20D,QAAQ9jC,EAAQmkC,GAC5B/2C,EAAQ,cAAI22C,EAAa93C,EAAMguB,OAAQ,CACzCvsB,UAAWrO,EACXU,KAAMA,GACLwM,EAAIa,OAEHnB,GACFA,EAAMguB,KAAK7sB,IAGfsyC,wBAAyB,SAAiCnzC,EAAKmyC,EAAUt8B,GACvE,IAOIgiC,EAPAhC,EAAgB1D,EAASv0B,UAAYh7B,KAAKizD,cAE1Ch1C,EAAQ,GACRoe,EAAYpJ,GAASA,EAAM3uB,MAAK,SAAU6Y,GAC5C,MA3KU,eA2KHA,EAAQlc,IAAI,gBAMnBg0D,EADoB,UAAlBhC,EACa,EACY,QAAlBA,EACM,EAEA,GAIjB,IAUIiC,EAVAC,EAAU5F,EAAS7uC,MAAQ1gB,KAAK0gB,KAChC00C,EAAU7F,EAAS9uC,MAAQzgB,KAAKygB,KAEpC,GAAIrD,EAAI6d,WAAWhZ,IAAM7E,EAAI8d,SAASjZ,GAAK7E,EAAI6d,WAAWrmB,IAAMwI,EAAI8d,SAAStmB,EAI3E,OAHAqJ,EAAMgE,EAAI7E,EAAI6d,WAAWhZ,EAAIkzC,EAC7Bl3C,EAAMrJ,EAAIwI,EAAI6d,WAAWrmB,EAAIwgD,EAC7Bn3C,EAAMtM,KAAOyL,EAAIrI,MACVkJ,EAIuBi3C,EAA5B,gBAAM3F,EAAS2F,YAA0Bl1D,KAAK00D,gBAAkCnF,EAAS2F,WAC7F,IAAIG,EAAc,GAAiBh5B,EAAW44B,EAAcE,EAASC,EAASF,GAM9E,OALAj3C,EAAMgE,EAAIozC,EAAYpzC,EACtBhE,EAAMrJ,EAAIygD,EAAYzgD,EACtBqJ,EAAMkE,OAASkzC,EAAYlzC,OAC3BlE,EAAME,UAAYne,KAAKs1D,cAAcrC,EAAeoC,EAAY7jC,OAChEvT,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAETqyC,0BAA2B,SAAmCv7C,EAAOqI,EAAKmyC,EAAUt8B,GAClF,IAAKle,EACH,MAAO,GAGT,IAAIse,EAAOte,EAAM4f,UACbw+B,EAAkB5D,EAAStxC,OAASsxC,EAAStxC,MAAMiyC,WAEvD,IAAKiD,EACH,MAAO,GAGT,IAaI+B,EAbAn0C,EAAUoyC,EAAgBpyC,QAC1BqyC,EAAkB//B,EAAK9gB,MAAQwO,EAAQ,GAAKA,EAAQ,GACpDsyC,EAAmBhgC,EAAKvS,OAASC,EAAQ,GAAKA,EAAQ,GACtDkyC,EAAgB1D,EAASv0B,UAAYh7B,KAAKizD,cAE1Ch1C,EAAQ,YAAS,YAAS,GAAIk1C,GAAkB,CAClD5gD,MAAO6gD,EACPtyC,OAAQuyC,EACRpxC,EAAGoR,EAAKE,KAAOxS,EAAQ,GACvBnM,EAAGye,EAAKG,KAAOzS,EAAQ,GACvBoB,OAAQ,IAIsB+yC,EAA5B,gBAAM3F,EAAS2F,YAA0Bl1D,KAAK00D,gBAAkCnF,EAAS2F,WAC7F,IAIID,EAJA54B,EAAYpJ,GAASA,EAAM3uB,MAAK,SAAU6Y,GAC5C,MAzOU,eAyOHA,EAAQlc,IAAI,gBAMnBg0D,EADoB,UAAlBhC,EACa,EACY,QAAlBA,EACM,EAEA,GAIjB,IAAIkC,EAAU5F,EAAS7uC,MAAQ1gB,KAAK0gB,KAChC00C,EAAU7F,EAAS9uC,MAAQzgB,KAAKygB,KAEpC,GAAIrD,EAAI6d,WAAWhZ,IAAM7E,EAAI8d,SAASjZ,GAAK7E,EAAI6d,WAAWrmB,IAAMwI,EAAI8d,SAAStmB,EAG3E,OAFAqJ,EAAMgE,EAAI7E,EAAI6d,WAAWhZ,EAAIkzC,EAAU/B,EAAkB,EACzDn1C,EAAMrJ,EAAIwI,EAAI6d,WAAWrmB,EAAIwgD,EAAU/B,EAAmB,EACnDp1C,EAGT,IAAIo3C,EAAc,GAAiBh5B,EAAW44B,EAAcE,EAAU/B,EAAkB,EAAGgC,EAAU/B,EAAmB,EAAG6B,GACvHv4B,EAAM04B,EAAY7jC,MAYtB,OAVImL,EAAM,GAAQt3B,KAAK6F,IAAMyxB,EAAM,IAAYt3B,KAAK6F,KAClDmqD,EAAc,GAAiBh5B,EAAW44B,EAAcE,EAAU/B,EAAkB,EAAGgC,EAAU/B,EAAmB,EAAG6B,IAGrHA,IACFj3C,EAAMgE,EAAIozC,EAAYpzC,EACtBhE,EAAMrJ,EAAIygD,EAAYzgD,GAGxBqJ,EAAMkE,OAASkzC,EAAYlzC,OACpBlE,GAGTq3C,cAAe,SAAuBrC,EAAezhC,GACnD,IAAIrT,EAAY,SAEhB,OAAKqT,GAILA,GAA2B,EAAVnsB,KAAK6F,GAEA,WAAlB+nD,IAEA90C,EADEqT,GAAS,GAAKA,GAASnsB,KAAK6F,GAAK,GAAKsmB,GAAS,IAAQnsB,KAAK6F,IAAMsmB,EAAQ,EAAInsB,KAAK6F,GACzE+nD,EAzRpB,SAAqBA,GACnB,IAAI90C,EAAY80C,EAQhB,MANsB,UAAlBA,EACF90C,EAAY,MACe,QAAlB80C,IACT90C,EAAY,SAGPA,EAkRWo3C,CAAYtC,IAIrB90C,GAbE80C,GAqBXxnB,iBAAkB,SAA0BruB,GAC1C,OAAOA,EAAIgf,eAQby4B,cAAe,SAAuBz3C,GACpC,OAAOA,GAUTuuB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI69B,EAAa9wD,KAAK2wD,cAAcvzC,GAMpC,OALY6V,EAAMwW,SAAS,OAAQ,CACjC0B,UAhUU,aAiUVxqC,KAjUU,aAkUVqD,MAAO8sD,KAIXnB,UAAW,SAAmBvyC,EAAK6V,GACjC,IACIuiC,EADAnF,EAAkBrwD,KAAK+Q,QAAQw+C,SAEkDiG,EAA/D,oBAAXnoD,aAA6D,IAA5BA,OAAOmiD,kBAAsDniD,OAAOmiD,iBAAiBv9C,SAAS0C,KAAM,MAAM86C,iBAAiB,gBAA+D,oBACtO,IAAIF,EAAW,kBAAQ,CACrB19C,WAAY2jD,GACXnF,EAAiBjzC,EAAImyC,UACpBK,EAAa5vD,KAAK6vD,cAAczyC,EAAKmyC,EAAUt8B,GAC/C9Q,EAASytC,EAAWztC,cACjBytC,EAAWztC,OAClB,IAAIpN,EAAQke,EAAMwW,SAAS,OAAQ,CACjCzlC,MAAO4rD,EACPjvD,KAAM,eAOR,GAJIwhB,GACFpN,EAAM0gD,cAActzC,GAGlBytC,EAAWM,WAAY,CACzB,IAAIv/B,EAAO3wB,KAAKmwD,YAAY/yC,EAAK6V,EAAOle,GACpCq7C,EAAmBpwD,KAAKw9B,SFvTD,YEwT3B7M,EAAKrpB,IAAI,YAAa8oD,GACtBr7C,EAAMy7B,UAGR,OAAOz7B,GAETo7C,YAAa,SAAqB/yC,EAAK6V,EAAOle,GAC5C,IAAIs7C,EAAkBrwD,KAAK+Q,QAAQw+C,SAC/BA,EAAW,kBAAQ,GAAIc,EAAiBjzC,EAAImyC,UAE5CptC,EADaniB,KAAK6vD,cAAczyC,EAAKmyC,EAAUt8B,GAC3B9Q,OACpBlE,EAAQje,KAAKswD,0BAA0Bv7C,EAAOqI,EAAKmyC,EAAUt8B,UAC1DhV,EAAMkE,OACb,IAAIwO,EAAOsC,EAAMwW,SAAS,OAAQ,CAChC9oC,KAAM,gBACNqD,MAAOia,IAGT,OADIkE,GAAQwO,EAAK8kC,cAActzC,GACxBwO,IAIP+kC,GAAgB,YAAS,YAAS,GAAItG,IAAYqF,IAEtD,GAAM7nB,aAAa,cAAe8oB,IAElC,GAAM9oB,aAAa,OAAQ,CAEzBnB,iBAAkB,cAGjB,eAEH,GAAMmB,aAAa,SAAU,CAC3B+nB,QAAS,SAAiB9jC,GAExB,OADW,GAAUA,KAGtB,eACH,GAAM+b,aAAa,MAAO,CACxBnI,YAAa,GACbhJ,UAAW,EACXgQ,iBAAkB,SAA0BruB,GAC1C,IAMI0T,EACA6kC,EAPA16B,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,SACf06B,GACE36B,EAAWhZ,EAAIiZ,EAASjZ,GAAK,EAD/B2zC,GAEE36B,EAAWrmB,EAAIsmB,EAAStmB,GAAK,EAKnC,QAA0B3I,IAAtBmR,EAAIgf,eAeN,GAdAu5B,EAAWv4C,EAAIgf,cAAc,GAC7BtL,EAASsB,EAAwB6I,EAAY06B,EAAUz6B,GAEnDD,EAAWhZ,GAAKiZ,EAASjZ,GAAKgZ,EAAWrmB,EAAIsmB,EAAStmB,EACxD5U,KAAKy7B,UAAY3K,EAAO7O,EAAI0zC,EAAS1zC,EAAI,EAAI,EACpCgZ,EAAWhZ,GAAKiZ,EAASjZ,GAAKgZ,EAAWrmB,EAAIsmB,EAAStmB,EAC/D5U,KAAKy7B,UAAY3K,EAAO7O,EAAI0zC,EAAS1zC,EAAI,EAAI,EACpCgZ,EAAWhZ,EAAIiZ,EAASjZ,GAAKgZ,EAAWrmB,GAAKsmB,EAAStmB,EAC/D5U,KAAKy7B,UAAY3K,EAAOlc,EAAI+gD,EAAS/gD,EAAI,EAAI,EAE7C5U,KAAKy7B,UAAY3K,EAAOlc,EAAI+gD,EAAS/gD,EAAI,EAAI,GAI1C+gD,EAAS1zC,EAAIgZ,EAAWhZ,IAAM0zC,EAAS/gD,EAAIqmB,EAAWrmB,KAAQsmB,EAASjZ,EAAIgZ,EAAWhZ,IAAMiZ,EAAStmB,EAAIqmB,EAAWrmB,GACvH,MAAO,OAEJ,MAGmB3I,IAApBmR,EAAIqnB,cACNrnB,EAAIqnB,YAAczkC,KAAKykC,aAGrB,kBAAQrnB,EAAIqnB,eACdrnB,EAAIqnB,YAAcrnB,EAAIqnB,YAAY,IAGhCrnB,EAAIqnB,YAAc,EACpBzkC,KAAKy7B,UAAY,EAEjBz7B,KAAKy7B,UAAY,EAGnB,IAAIvI,EAAM,CACRjR,EAAGiZ,EAASjZ,EAAIgZ,EAAWhZ,EAC3BrN,EAAGsmB,EAAStmB,EAAIqmB,EAAWrmB,GAEzBihD,EAAYxwD,KAAKsS,MAAMub,EAAIte,EAAGse,EAAIjR,GACtC0zC,EAAW,CACT1zC,EAAG7E,EAAIqnB,YAAcp/B,KAAKwS,KAAKxS,KAAK6F,GAAK,EAAI2qD,GAAaD,EAC1DhhD,EAAGwI,EAAIqnB,YAAcp/B,KAAKyS,KAAKzS,KAAK6F,GAAK,EAAI2qD,GAAaD,GAE5D9kC,EAASsB,EAAwB6I,EAAY06B,EAAUz6B,GAGzD,IAAI5xB,EAAS,EAAS2xB,EAAYnK,GAKlC,MAJoB,CAAC,CACnB7O,EAAG3Y,EACHsL,EAAGtL,KAIPqrD,QAAS,SAAiB9jC,GACxB,IAAIjgB,EAAO,GASX,OARAA,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IAEjB,IAAlBic,EAAOvuB,OACTsO,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IAEvChE,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,EAAG,EAAG,EAAG5U,KAAKy7B,UAAW5K,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IAGlFhE,IAER,eACH,GAAMg8B,aAAa,YAAa,CAC9BkpB,cAAe,GACfrxB,aAAc,GACdgH,iBAAkB,SAA0BruB,GAC1C,IAAIgf,EAAgBhf,EAAIgf,cAExB,IAAKA,IAAkBA,EAAc95B,OAAQ,CAC3C,IAAI24B,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,cACKjvB,IAApBmR,EAAIqnB,cAA2BrnB,EAAIqnB,YAAczkC,KAAKykC,kBAChCx4B,IAAtBmR,EAAI04C,gBAA6B14C,EAAI04C,cAAgB91D,KAAK81D,eAC1D,kBAAQ91D,KAAKykC,eAAcrnB,EAAIqnB,YAAcrnB,EAAIqnB,YAAY,IAC7D,kBAAQzkC,KAAK81D,iBAAgB14C,EAAI04C,cAAgB14C,EAAIqnB,YAAY,IAErErI,EAAgB,CADC,GAAgBnB,EAAYC,EAAU9d,EAAI04C,cAAe14C,EAAIqnB,cAIhF,OAAOrI,GAETu4B,QAAS,SAAiB9jC,GACxB,IAAIjgB,EAAO,GAGX,OAFAA,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IACvChE,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,EAAGic,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IAC1DhE,IAER,eACH,GAAMg8B,aAAa,QAAS,CAC1BkpB,cAAe,CAAC,GAAO,IACvBrxB,YAAa,EAAE,GAAI,IACnBgH,iBAAkB,SAA0BruB,GAC1C,IAAIgf,EAAgBhf,EAAIgf,cAOxB,QALwBnwB,IAApBmR,EAAIqnB,cAA2BrnB,EAAIqnB,YAAczkC,KAAKykC,kBAChCx4B,IAAtBmR,EAAI04C,gBAA6B14C,EAAI04C,cAAgB91D,KAAK81D,eAC1D,mBAAS14C,EAAIqnB,eAAcrnB,EAAIqnB,YAAc,CAACrnB,EAAIqnB,aAAcrnB,EAAIqnB,cACpE,mBAASrnB,EAAI04C,iBAAgB14C,EAAI04C,cAAgB,CAAC14C,EAAI04C,cAAe,EAAI14C,EAAI04C,iBAE5E15B,IAAkBA,EAAc95B,QAAU85B,EAAc95B,OAAS,EAAG,CACvE,IAAI24B,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,SAGnBkB,EAAgB,CAFE,GAAgBnB,EAAYC,EAAU9d,EAAI04C,cAAc,GAAI14C,EAAIqnB,YAAY,IAC5E,GAAgBxJ,EAAYC,EAAU9d,EAAI04C,cAAc,GAAI14C,EAAIqnB,YAAY,KAIhG,OAAOrI,GAETu4B,QAAS,SAAiB9jC,GACxB,IAAIjgB,EAAO,GAGX,OAFAA,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IACvChE,EAAK9N,KAAK,CAAC,IAAK+tB,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,EAAGic,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,EAAGic,EAAO,GAAG5O,EAAG4O,EAAO,GAAGjc,IACpFhE,IAER,eAEH,GAAMg8B,aAAa,iBAAkB,CACnCkpB,cAAe,CAAC,GAAO,IACvBC,eAAgB,CAAC,EAAG,GACpBtxB,iBAAax4B,EACbw/B,iBAAkB,SAA0BruB,GAC1C,IAAI6d,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,cACOjvB,IAAtBmR,EAAI04C,gBAA6B14C,EAAI04C,cAAgB91D,KAAK81D,oBACtC7pD,IAApBmR,EAAIqnB,cAA2BrnB,EAAIqnB,YAAczkC,KAAKykC,kBAC/Bx4B,IAAvBmR,EAAI24C,iBAA8B34C,EAAI24C,eAAiB/1D,KAAK+1D,gBAC5D,mBAAS34C,EAAIqnB,eAAcrnB,EAAIqnB,YAAc,CAACrnB,EAAIqnB,aAAcrnB,EAAIqnB,cACpE,mBAASrnB,EAAI24C,kBAAiB34C,EAAI24C,eAAiB,CAAC34C,EAAI24C,gBAAiB34C,EAAI24C,iBAC7E,mBAAS34C,EAAI04C,iBAAgB14C,EAAI04C,cAAgB,CAAC14C,EAAI04C,cAAe,EAAI14C,EAAI04C,gBACjF,IAAIE,EAAQ96B,EAAStmB,EAAIqmB,EAAWrmB,EAChC6vB,EAAc,CAAC,EAAG,GAgBtB,OAdIrnB,EAAIqnB,YACNA,EAAcrnB,EAAIqnB,YACTp/B,KAAKqF,IAAIsrD,GAAS3wD,KAAKqF,IAAI0S,EAAI24C,eAAe,MACvDtxB,EAAcrnB,EAAI24C,gBAWb,CARW,CAChB9zC,EAAGgZ,EAAWhZ,EACdrN,EAAGqmB,EAAWrmB,EAAIohD,EAAQh2D,KAAK81D,cAAc,GAAKrxB,EAAY,IAE9C,CAChBxiB,EAAGiZ,EAASjZ,EACZrN,EAAGsmB,EAAStmB,EAAIohD,EAAQh2D,KAAK81D,cAAc,GAAKrxB,EAAY,OAI/D,SAEH,GAAMmI,aAAa,mBAAoB,CACrCkpB,cAAe,CAAC,GAAO,IACvBC,eAAgB,CAAC,EAAG,GACpBtxB,iBAAax4B,EACbw/B,iBAAkB,SAA0BruB,GAC1C,IAAI6d,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,cACOjvB,IAAtBmR,EAAI04C,gBAA6B14C,EAAI04C,cAAgB91D,KAAK81D,oBACtC7pD,IAApBmR,EAAIqnB,cAA2BrnB,EAAIqnB,YAAczkC,KAAKykC,kBAC/Bx4B,IAAvBmR,EAAI24C,iBAA8B34C,EAAI24C,eAAiB/1D,KAAK+1D,gBAC5D,mBAAS34C,EAAIqnB,eAAcrnB,EAAIqnB,YAAc,CAACrnB,EAAIqnB,aAAcrnB,EAAIqnB,cACpE,mBAASrnB,EAAI24C,kBAAiB34C,EAAI24C,eAAiB,CAAC34C,EAAI24C,gBAAiB34C,EAAI24C,iBAC7E,mBAAS34C,EAAI04C,iBAAgB14C,EAAI04C,cAAgB,CAAC14C,EAAI04C,cAAe,EAAI14C,EAAI04C,gBACjF,IAAIG,EAAQ/6B,EAASjZ,EAAIgZ,EAAWhZ,EAChCwiB,EAAc,CAAC,EAAG,GAiBtB,OAfIrnB,EAAIqnB,YACNA,EAAcrnB,EAAIqnB,YACTp/B,KAAKqF,IAAIurD,GAAS5wD,KAAKqF,IAAI0S,EAAI24C,eAAe,MACvDtxB,EAAcrnB,EAAI24C,gBAWA,CARF,CAChB9zC,EAAGgZ,EAAWhZ,EAAIg0C,EAAQj2D,KAAK81D,cAAc,GAAKrxB,EAAY,GAC9D7vB,EAAGqmB,EAAWrmB,GAEE,CAChBqN,EAAGiZ,EAASjZ,EAAIg0C,EAAQj2D,KAAK81D,cAAc,GAAKrxB,EAAY,GAC5D7vB,EAAGsmB,EAAStmB,MAKf,SACH,GAAMg4B,aAAa,OAAQ,CACzBioB,cAAe,SAAuBz3C,GACpC,OAAO,GAAYA,IAErBquB,iBAAkB,SAA0BruB,GAC1C,OAAOA,EAAIgf,eAEbiP,UAAW,SAAmBjuB,GAC5BA,EAAIgf,mBAAgBnwB,GAEtBs/B,YAAa,SAAqBnuB,GAChCA,EAAIgf,mBAAgBnwB,IAErB,SClmBH,IAAIiqD,GAAc,CAChB14B,SAAU,QAEV4O,UAAW,eAOX6mB,cAAe,MAMfvyC,KAAM,GAAOF,WAAWE,KACxBD,KAAM,GAAOD,WAAWC,KACxB1P,QAAS,CACPkN,MAAO,CACLO,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAEvCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,WAGtCo7B,YAAa,YAAS,GAAI,GAAOxsB,mBASnCkyC,QAAS,SAAiB91C,GACxB,IAAIlN,EAAO,gBAAMkN,EAAIlN,MAAQlQ,KAAK+Q,QAAQb,MAAQ,GAAOyQ,aAAazQ,MAWtE,OATI,kBAAQA,IAAyB,IAAhBA,EAAK5N,SACxB4N,EAAO,CAACA,EAAK,GAAIA,EAAK,KAInB,kBAAQA,KACXA,EAAO,CAACA,EAAMA,IAGTA,GAGTqgD,wBAAyB,SAAiCnzC,EAAKmyC,GAC7D,IAAI0D,EAAgB1D,EAASv0B,UAAYh7B,KAAKizD,cAC1C9B,EAAW/zC,EAAIa,MACf8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IAAIL,EAAO6uC,EAAS7uC,KAChBD,EAAO8uC,EAAS9uC,KAEhB,gBAAMC,KACRA,EAAO1gB,KAAK0gB,MAGV,gBAAMD,KACRA,EAAOzgB,KAAKygB,MAGd,IAGIxC,EAHA/N,EAAOlQ,KAAKkzD,QAAQ91C,GAEpBu1B,GADIttC,KAAKC,IAAI6rD,EAASjwD,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,GACzC6Q,EAGd,OAAQkyC,GACN,IAAK,MACHh1C,EAAQ,CACNgE,EAAG,EACHrN,GAAI+9B,EAAMlyB,EACVrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG+9B,EAAMlyB,EACTrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,OACHF,EAAQ,CACNgE,GAAI0wB,EAAMjyB,EACV9L,EAAG,EACHuJ,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,MACVoJ,UAAW,UAEb,MAEF,QACEF,EAAQ,CACNgE,EAAG0wB,EAAMjyB,EACT9L,EAAG,EACHuJ,UAAW,SAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAET0tB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAImZ,EAAYpsC,KAAKosC,UAEjBnuB,EAAQje,KAAK2wD,cAAcvzC,GAM/B,OALY6V,EAAMwW,SAAS2C,EAAW,CACpCpoC,MAAOia,EACP6xC,WAAW,EACXnvD,KAAM,iBAIVuvC,YAAa,SAAqB9yB,EAAKhW,EAAMynC,GAC3C,IAAIvB,EAAWlmC,EAAKnG,IAAI,kBACMgL,IAAhBmR,EAAIgoB,QAAwBplC,KAAK+Q,QAAQq0B,QAAUhoB,EAAIgoB,UAEtDkI,EAASlI,QACtBkI,EAASlI,QAAQyJ,EAAe,CAC9B+W,SAAU,IACVC,OAAQ,eAGVvY,EAASxC,KAAK,YAAS,GAAI+D,IAG7B7uC,KAAK6wD,YAAYzzC,EAAKhW,KAItB+uD,GAAiB,YAAS,YAAS,GAAI/G,IAAY8G,IAEvD,GAAMnpB,cAAc,eAAgBopB,ICzJpC,GAAMppB,cAAc,SAAU,CAE5Bh8B,QAAS,CACPb,KAAM,CAAC,GAAOyQ,aAAazQ,KAAK,GAAI,GAAOyQ,aAAazQ,KAAK,IAC7D6Q,QAAS,GAAOJ,aAAaI,QAAQ,GACrCqkB,SAAS,EACTnnB,MAAO,CACLO,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAEvCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,UAEpCsO,KAAM,EACND,KAAM,GAER+sB,YAAa,YAAS,GAAI,GAAOxsB,mBAEnCorB,UAAW,SAEX6mB,cAAe,MACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAIhV,EAAQje,KAAK2wD,cAAcvzC,GAS/B,cAROa,EAAM6C,cACN7C,EAAM1L,MACE0gB,EAAMwW,SAAS,SAAU,CACtCzlC,MAAOia,EACPktB,UAAW,eACXxqC,KAAM,eACNmvD,WAAW,KAUfa,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAK+Q,QAAQkN,MAC5B8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IAKI7f,EALA0zD,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,EAAax3C,EAAIa,OAGnD,GAAIb,EAAIg5C,QACNl1D,EAAI,mBAASkc,EAAIg5C,SAAWh5C,EAAIg5C,QAAUh5C,EAAIg5C,QAAQ,OACjD,CACL,IAAIlmD,EAAOlQ,KAAKkzD,QAAQ91C,GACkBlc,GAArC,mBAAS+c,EAAM/c,IAAMyE,MAAMsY,EAAM/c,GAAQgP,EAAK,GAAK,GAAK,GAAOyQ,aAAa1C,MAAM/c,EAAWmE,KAAKC,IAAI2Y,EAAM/c,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,EAGhJ+N,EAAM/c,EAAIA,EAAI6f,EAEd,IAAI0sB,EAAS,YAAS,CACpBxrB,EAAG,EACHrN,EAAG,GACFqJ,GAOH,OALIb,EAAIa,MAAOb,EAAIa,MAAM/c,EAAIA,EAC3Bkc,EAAIa,MAAQ,CACV/c,EAAGA,GAGAusC,GAET9D,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKkzD,QAAQ91C,GACpB2D,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,kBAAQA,KAAUA,EAAUA,EAAQ,IACxC,IACI7f,EADAiwD,EAAW,gBAAM/zC,EAAIa,OAIvB/c,EADEkc,EAAIg5C,QACF,mBAASh5C,EAAIg5C,SAAWh5C,EAAIg5C,QAAUh5C,EAAIg5C,QAAQ,GAElD/wD,KAAKC,IAAI6rD,EAASjwD,EAAGgP,EAAK,GAAK,IAAMA,EAAK,GAAK,EAGrDihD,EAASjwD,EAAIA,EAAI6f,EACjB,IAAIs1C,EAAgBjvD,EAAKnG,IAAI,aAEzBo1D,IACFA,EAAcn1D,EAAIiwD,EAASjwD,GAI7B,IAAI0zD,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGVkkC,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIqvB,EAASxC,OAAQ8pB,EAAazD,GAC9C/zC,EAAIa,MAAOb,EAAIa,MAAM/c,EAAIA,EAC3Bkc,EAAIa,MAAQ,CACV/c,EAAGA,GAGPlB,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,KAEpC,gBC7GH,GAAM8uB,cAAc,OAAQ,CAE1Bh8B,QAAS,CACPb,KAAM,CAAC,GAAI,GACX6Q,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBqkB,SAAS,EACTnnB,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,GAAOmC,aAAa1C,MAAMO,OAClCN,KAAM,GAAOyC,aAAa1C,MAAMC,KAChCK,UAAW,GAAOoC,aAAa1C,MAAMM,WAGvCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAOsC,WAAWvC,MAAMC,KAC9B9L,SAAU,GAAOoO,WAAWvC,MAAM7L,WAItCutB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7B6N,YAAa,YAAS,GAAI,GAAOxsB,mBAEnCorB,UAAW,OACX6mB,cAAe,MACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAIhV,EAAQje,KAAK2wD,cAAcvzC,GAO/B,OANe6V,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,aACXxqC,KAAM,aACNmvD,WAAW,KAKfS,wBAAyB,SAAiCnzC,EAAKmyC,GAC7D,IAAI0D,EAAgB1D,EAASv0B,UAAYh7B,KAAKizD,cAC1C9B,EAAW/zC,EAAIa,MACf8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IAAIL,EAAO6uC,EAAS7uC,KAChBD,EAAO8uC,EAAS9uC,KAEhB,gBAAMC,KACRA,EAAO1gB,KAAK0gB,MAGV,gBAAMD,KACRA,EAAOzgB,KAAKygB,MAGd,IAEIxC,EAFAq4C,EAAUnF,EAAS5+C,MAAQ,EAAIwO,EAAQ,GACvCw1C,EAASpF,EAASrwC,OAAS,EAAIC,EAAQ,GAG3C,OAAQkyC,GACN,IAAK,MACHh1C,EAAQ,CACNgE,EAAG,EAAIq0C,EAAU51C,EACjB9L,EAAG,EAAI2hD,EAAS91C,EAChBrC,aAAc,MACdD,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG2hD,EAAS91C,EACZrC,aAAc,SACdD,UAAW,UAEb,MAEF,IAAK,OACHF,EAAQ,CACNgE,EAAG,EAAIq0C,EAAU71C,EACjB7L,EAAG,EACHuJ,UAAW,QAEb,MAEF,IAAK,SACHF,EAAQ,CACNgE,EAAG,EACHrN,EAAG,EACHjD,KAAMyL,EAAIrI,MACVoJ,UAAW,UAEb,MAEF,QACEF,EAAQ,CACNgE,EAAGq0C,EAAU51C,EACb9L,EAAG,EACHuJ,UAAW,SAMjB,OADAF,EAAMtM,KAAOyL,EAAIrI,MACVkJ,GAQT0yC,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAK+Q,QAAQkN,MAC5B8C,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IAMIxO,EACAuO,EAPA8zC,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,EAAax3C,EAAIa,OAC/C/N,EAAOlQ,KAAKkzD,QAAQ91C,GAGpBg5C,EAAUh5C,EAAI+3B,WAAa/3B,EAAIo5C,gBAAkBp5C,EAAIo5C,gBAAkBp5C,EAAIg5C,QAE3EA,EACE,mBAASA,IACX7jD,EAAQ6jD,EACRt1C,EAASs1C,IAET7jD,EAAQ6jD,EAAQ,GAChBt1C,EAASs1C,EAAQ,KAG+B7jD,GAA7C,mBAAS0L,EAAM1L,QAAU5M,MAAMsY,EAAM1L,OAAgBrC,EAAK,IAAM,GAAOyQ,aAAa1C,MAAM1L,MAAmBlN,KAAKC,IAAI2Y,EAAM1L,MAAOrC,EAAK,KAAOA,EAAK,GACrG4Q,GAA/C,mBAAS7C,EAAM6C,SAAWnb,MAAMsY,EAAM6C,QAAkB5Q,EAAK,IAAM,GAAOyQ,aAAa1C,MAAM6C,OAAqBzb,KAAKC,IAAI2Y,EAAM6C,OAAQ5Q,EAAK,KAAOA,EAAK,IAGjK,IAAI+R,GAAK1P,EAAQ,EAAIwO,EAAQ,GACzBnM,GAAKkM,EAAS,EAAIC,EAAQ,GAC9B9C,EAAM1L,MAAQA,EAAQwO,EAAQ,GAAKA,EAAQ,GAC3C9C,EAAM6C,OAASA,EAASC,EAAQ,GAAKA,EAAQ,GAE7C,IAAI0sB,EAAS,YAAS,CACpBxrB,EAAGA,EACHrN,EAAGA,GACFqJ,GAYH,OAVKb,EAAIa,OAMPb,EAAIa,MAAM1L,MAAQA,EAClB6K,EAAIa,MAAM6C,OAASA,GANnB1D,EAAIa,MAAQ,CACV1L,MAAOA,EACPuO,OAAQA,GAOL2sB,GAET9D,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKkzD,QAAQ91C,GACpB2D,EAAU3D,EAAI2D,SAAW/gB,KAAK+Q,QAAQgQ,QACtC,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IAC7D,IACIxO,EAAOuO,EADPqwC,EAAW,gBAAM/zC,EAAIa,OAErBm4C,EAAUh5C,EAAI+3B,WAAa/3B,EAAIo5C,gBAAkBp5C,EAAIo5C,gBAAkBp5C,EAAIg5C,QAE3EA,EACE,mBAASA,IACX7jD,EAAQ6jD,EACRt1C,EAASs1C,IAET7jD,EAAQ6jD,EAAQ,GAChBt1C,EAASs1C,EAAQ,KAGnB7jD,EAAQlN,KAAKC,IAAI6rD,EAAS5+C,MAAOrC,EAAK,KAAOA,EAAK,GAClD4Q,EAASzb,KAAKC,IAAI6rD,EAASrwC,OAAQ5Q,EAAK,KAAOA,EAAK,IAGtDihD,EAAS5+C,MAAQA,EAAQwO,EAAQ,GAAKA,EAAQ,GAC9CowC,EAASrwC,OAASA,EAASC,EAAQ,GAAKA,EAAQ,GAChD,IAAIs1C,EAAgBjvD,EAAKnG,IAAI,aAEzBo1D,IACFA,EAAc9jD,MAAQ4+C,EAAS5+C,MAC/B8jD,EAAcv1C,OAASqwC,EAASrwC,QAGlCqwC,EAASlvC,GAAK1P,EAAQ,EAAIwO,EAAQ,GAClCowC,EAASv8C,GAAKkM,EAAS,EAAIC,EAAQ,GAEnC,IAAI6zC,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGVkkC,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIqvB,EAASxC,OAAQ8pB,EAAazD,GAE9C/zC,EAAIa,OACNb,EAAIa,MAAM1L,MAAQA,EAClB6K,EAAIa,MAAM6C,OAASA,GAEnB1D,EAAIa,MAAQ,CACV1L,MAAOA,EACPuO,OAAQA,GAIZ9gB,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,IAErCiyB,YAAa,SAAqB9yB,EAAKhW,EAAMynC,GAC3C,IAAIvB,EAAWlmC,EAAKnG,IAAI,kBACMgL,IAAhBmR,EAAIgoB,QAAwBplC,KAAK+Q,QAAQq0B,QAAUhoB,EAAIgoB,UAEtDkI,EAASlI,QACtBkI,EAASlI,QAAQyJ,EAAe,CAC9B+W,SAAU,IACVC,OAAQ,eAGVvY,EAASxC,KAAK,YAAS,GAAI+D,IAG7B7uC,KAAK6wD,YAAYzzC,EAAKhW,KAEvB,gBCjOH,GAAM+kC,aAAa,gBAAiB,CAElCp7B,QAAS,CACPb,KAAM,GAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,GAAOF,YAAYL,MAAMO,OACjCN,KAAM,GAAOI,YAAYL,MAAMC,KAC/BK,UAAW,GAAOD,YAAYL,MAAMM,WAEtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,GAAO4L,UAAUC,MAAM7L,WAGrCo7B,YAAa,YAAS,GAAI,GAAO1uB,kBAEnCstB,UAAW,gBAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAIhV,EAAQje,KAAK2wD,cAAcvzC,GAM/B,OALe6V,EAAMwW,SAAS,SAAU,CACtCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChC2sD,WAAW,KAUfa,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,kBAAQ,GAAIyyC,EAAckE,GAElC1zD,EADOlB,KAAKkzD,QAAQ91C,GACX,GAAK,EAQlB,OANa,YAAS,CACpB6E,EAAG,EACHrN,EAAG,EACH1T,EAAGA,GACF+c,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI8I,EAAOlQ,KAAKkzD,QAAQ91C,GAEpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZlI,EAAGgP,EAAK,GAAK,GAGXo9B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,kBAAQ,GAAIqvB,EAASxC,OAAQ8pB,EAAax3C,EAAIa,OAC1Dje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,KAEpC,eCpEH,GAAMkuB,aAAa,cAAe,CAEhCp7B,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,GAAOF,YAAYL,MAAMO,OACjCN,KAAM,GAAOI,YAAYL,MAAMC,KAC/BK,UAAW,GAAOD,YAAYL,MAAMM,WAGtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,GAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,GAAO4L,UAAUC,MAAM7L,WAKrCutB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7B6N,YAAa,YAAS,GAAI,GAAO1uB,kBAEnCstB,UAAW,cACX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAIhV,EAAQje,KAAK2wD,cAAcvzC,GAO/B,OANe6V,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,KAUfa,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9B1kD,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,YAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GACfA,EAAKwiC,eAAjB,IAEI8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnC/N,EAAOlQ,KAAKkzD,QAAQ91C,GACpBkwB,EAAWlmC,EAAKnG,IAAI,YAEnBmc,EAAIlN,OACPA,EAAK,GAAKo9B,EAASxC,KAAK,UAAY4lB,EAAan+C,MACjDrC,EAAK,GAAKo9B,EAASxC,KAAK,WAAa4lB,EAAa5vC,QAIpD,IAAI8zC,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZ6Y,GAAI/R,EAAK,GAAK,EACd0E,GAAI1E,EAAK,GAAK,EACdqC,MAAOrC,EAAK,GACZ4Q,OAAQ5Q,EAAK,IAGX+N,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,KAEpC,eCnFH,GAAMkuB,aAAa,QAAS,CAC1Bp7B,QAAS,CACP0lD,IAAK,wFACLvmD,KAAM,IACNwmD,QAAS,CACPhmB,MAAM,EACNvtC,KAAM,SAENjC,EAAG,GAEH0wB,GAAI,GACJC,GAAI,GAEJtf,MAAO,GACPuO,OAAQ,GAER+P,OAAQ,CAAC,CAAC,GAAI,IAAK,CAAC,GAAI,IAAK,CAAC,GAAI,IAAK,CAAC,GAAI,KAE5CjgB,KAAM,CAAC,CAAC,IAAK,GAAI,IAAK,CAAC,IAAK,GAAI,IAAK,CAAC,IAAK,KAAM,KAAM,EAAG,EAAG,EAAG,GAAI,IAAK,CAAC,IAAK,KAAM,KAAM,EAAG,EAAG,EAAG,GAAI,IAAK,CAAC,IAAK,GAAI,IAAK,CAAC,MAE7HqR,EAAG,EACHrN,EAAG,IAOPw3B,UAAW,QACX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAImZ,EAAYpsC,KAAKosC,UAEjBnuB,EAAQje,KAAK2wD,cAAcvzC,UACxBa,EAAMC,KACb,IAAIpB,EAAQmW,EAAMwW,SAAS2C,EAAW,CACpCpoC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAGb,OADA9vD,KAAK22D,SAASv5C,EAAKN,GACZA,GAET65C,SAAU,SAAkBv5C,EAAKN,GAC/B,IAAI85C,EAAO52D,KAAKsvD,WAAWlyC,GAAKs5C,QAEhC,GAAKE,EAAKlmB,KAAV,CAKA,IAAIvtC,EAAOyzD,EAAKzzD,KACZ8e,EAAI20C,EAAK30C,EACTrN,EAAIgiD,EAAKhiD,EACTqJ,EAAQ24C,EAAK34C,MAEjB,GAAa,WAAT9a,EAAmB,CACrB,IAAIjC,EAAI01D,EAAK11D,EACb4b,EAAM+5C,QAAQ,CACZ1zD,KAAM,SACNa,MAAO,YAAS,CACd9C,EAAGA,EACH+gB,EAAGA,EACHrN,EAAGA,GACFqJ,UAEA,GAAa,SAAT9a,EAAiB,CAC1B,IAAIoP,EAAQqkD,EAAKrkD,MACbuO,EAAS81C,EAAK91C,OACdg2C,EAAQ70C,EAAI1P,EAAQ,EACpBwkD,EAAQniD,EAAIkM,EAAS,EACzBhE,EAAM+5C,QAAQ,CACZ1zD,KAAM,OACNa,MAAO,YAAS,CACdie,EAAG60C,EACHliD,EAAGmiD,EACHxkD,MAAOA,EACPuO,OAAQA,GACP7C,UAEA,GAAa,YAAT9a,EAAoB,CAC7B,IAAIyuB,EAAKglC,EAAKhlC,GACVC,EAAK+kC,EAAK/kC,GACd/U,EAAM+5C,QAAQ,CACZ1zD,KAAM,UACNa,MAAO,YAAS,CACdie,EAAGA,EACHrN,EAAGA,EACHgd,GAAIA,EACJC,GAAIA,GACH5T,UAEA,GAAa,YAAT9a,EAAoB,CAC7B,IAAI0tB,EAAS+lC,EAAK/lC,OAClB/T,EAAM+5C,QAAQ,CACZ1zD,KAAM,UACNa,MAAO,YAAS,CACd6sB,OAAQA,GACP5S,UAEA,GAAa,SAAT9a,EAAiB,CAC1B,IAAIyN,EAAOgmD,EAAKhmD,KAChBkM,EAAM+5C,QAAQ,CACZ1zD,KAAM,OACNa,MAAO,YAAS,CACd4M,KAAMA,GACLqN,QAIT0yC,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC/N,EAAOlQ,KAAKkzD,QAAQ91C,GACpBq5C,EAAMz2D,KAAKsvD,WAAWlyC,GAAKq5C,IAC3BlkD,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAelB,OAbIwgD,IACFn+C,EAAQm+C,EAAan+C,OAASrC,EAAK,GACnC4Q,EAAS4vC,EAAa5vC,QAAU5Q,EAAK,IAG3B,YAAS,CACnB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,EACR21C,IAAKA,GACJ/F,IAILE,iBAAkB,SAA0BxzC,EAAKhW,GAC/C,IAAI6rB,EAAQ7rB,EAAKwiC,eACbotB,EAAiB,GAAGhyD,OAAOhF,KAAKw9B,SAAU,UAC1C1gB,EAAQmW,EAAM3uB,MAAK,SAAU6Y,GAC/B,OAAOA,EAAQlc,IAAI,eAAiB+1D,MAChC5vD,EAAK0zB,cACPg2B,EAAa9wD,KAAK2wD,cAAcvzC,GAEhCN,GACFA,EAAMguB,KAAKgmB,KAGd,eCvJY,ICEJmG,GDFI,IACbC,SAAU,SAAkB3kD,EAAOjQ,EAAQ5B,QAC3B,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAIy2D,EAAY,EAAJz2D,EAEZ,MADW,KAAKsE,OAAOmyD,EAAO,SAASnyD,OAAOmyD,EAAQ70D,EAAQ,MAAM0C,OAAOuN,EAAQ,EAAG,OAAOvN,OAAOmyD,EAAQ70D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,OAG7I6kD,IAAK,SAAa7kD,EAAOjQ,EAAQ5B,QACjB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAIy2D,EAAY,EAAJz2D,EAEZ,MADW,KAAKsE,OAAOmyD,EAAO,SAASnyD,OAAOmyD,EAAQ70D,EAAQ,MAAM0C,OAAOuN,EAAQ,EAAG,gBAAgBvN,OAAOmyD,EAAQ,EAAI70D,EAAS,EAAG,SAAS0C,OAAOmyD,EAAQ70D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,OAG9Lye,OAAQ,SAAgB9vB,EAAGR,GAWzB,YAVU,IAANQ,IACFA,EAAI,QAGI,IAANR,IACFA,EAAI,GAIK,KAAKsE,OADA,EAAJtE,EACkB,uBAAuBsE,OAAO9D,EAAG,KAAK8D,OAAO9D,EAAG,WAAW8D,OAAW,EAAJ9D,EAAO,sBAAsB8D,OAAO9D,EAAG,KAAK8D,OAAO9D,EAAG,WAAW8D,OAAY,GAAJ9D,EAAO,OAGlLyvB,KAAM,SAAcpe,EAAOjQ,EAAQ5B,QACnB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAIy2D,EAAY,EAAJz2D,EAEZ,MADW,KAAKsE,OAAOmyD,EAAO,KAAKnyD,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOmyD,EAAQ70D,EAAQ,KAAK0C,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOmyD,EAAQ70D,EAAQ,KAAK0C,OAAOuN,EAAQ,EAAG,iBAAiBvN,OAAOmyD,EAAO,KAAKnyD,OAAOuN,EAAQ,EAAG,OAG7O8kD,QAAS,SAAiB9kD,EAAOjQ,EAAQ5B,QACzB,IAAV6R,IACFA,EAAQ,SAGK,IAAXjQ,IACFA,EAAS,SAGD,IAAN5B,IACFA,EAAI,GAGN,IAAIy2D,EAAY,EAAJz2D,EAEZ,MADW,KAAKsE,OAAOmyD,EAAO,mBAAmBnyD,OAAOmyD,EAAQ70D,EAAS,EAAG,KAAK0C,QAAQuN,EAAQ,EAAG,iBAAiBvN,OAAOmyD,EAAQ70D,EAAQ,mBAAmB0C,OAAOmyD,EAAQ70D,EAAS,EAAG,KAAK0C,OAAOuN,EAAQ,EAAG,OAGnN+kD,aAAc,SAAsBC,EAAQC,EAASC,EAAQC,EAASC,EAAKj3D,QAC1D,IAAX62D,IACFA,EAAS,SAGK,IAAZC,IACFA,EAAU,SAGG,IAAXC,IACFA,EAAS,SAGK,IAAZC,IACFA,EAAU,QAGA,IAARC,IACFA,EAAM,QAGE,IAANj3D,IACFA,EAAI,GAGN,IAAIy2D,EAAY,EAAJz2D,EACRk3D,EAAYT,EAAQK,EAAUG,EAElC,MADW,KAAK3yD,OAAOmyD,EAAO,SAASnyD,OAAOmyD,EAAQK,EAAS,MAAMxyD,OAAOuyD,EAAS,EAAG,OAAOvyD,OAAOmyD,EAAQK,EAAS,KAAKxyD,OAAOuyD,EAAS,EAAG,sBAAsBvyD,OAAO4yD,EAAW,OAAO5yD,OAAOyyD,EAAS,EAAG,oBAAoBzyD,OAAO4yD,EAAYF,EAAS,MAAM1yD,OAAOyyD,EAAS,EAAG,oBAAoBzyD,OAAO4yD,EAAYF,EAAS,KAAK1yD,OAAOyyD,EAAS,EAAG,oBAAoBzyD,OAAO4yD,EAAW,KAAK5yD,OAAOyyD,EAAS,EAAG,qBE7GrZ,IACbI,SAAU,SAAkB51C,EAAGrN,EAAG1T,GAChC,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAI,EAAG0T,KAElIkjD,OAAQ,SAAgB71C,EAAGrN,EAAG1T,GAC5B,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAI,EAAIA,EAAI,EAAG0T,GAAI,CAAC,IAAKqN,EAAI/gB,EAAIA,EAAG0T,EAAI1T,EAAI,GAAI,CAAC,IAAK+gB,EAAGrN,EAAI1T,EAAI,KAE5L62D,WAAY,SAAoB91C,EAAGrN,EAAG1T,GACpC,IAAI82D,EAAK92D,EAAImE,KAAKwS,IAAIxS,KAAK6F,GAAK,GAC5B+sD,EAAK/2D,EAAImE,KAAKyS,IAAIzS,KAAK6F,GAAK,GAChC,MAAO,CAAC,CAAC,IAAK+W,EAAI+1C,EAAIpjD,EAAIqjD,GAAK,CAAC,IAAKh2C,EAAI+1C,EAAIpjD,EAAIqjD,GAAK,CAAC,IAAKh2C,EAAGrN,EAAI1T,GAAI,CAAC,OAE1Eg3D,aAAc,SAAsBj2C,EAAGrN,EAAG1T,GACxC,IAAI82D,EAAK92D,EAAImE,KAAKwS,IAAIxS,KAAK6F,GAAK,GAC5B+sD,EAAK/2D,EAAImE,KAAKyS,IAAIzS,KAAK6F,GAAK,GAChC,MAAO,CAAC,CAAC,IAAK+W,EAAI+1C,EAAIpjD,EAAIqjD,GAAK,CAAC,IAAKh2C,EAAI+1C,EAAIpjD,EAAIqjD,GAAK,CAAC,IAAKh2C,EAAGrN,EAAI1T,GAAI,CAAC,QCP7D,MCRJi3D,GAAuB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WCOlI,GAAY,IAAIvoC,UAOL,GALJ,YAAS,YAAS,YAAS,YAAS,YAAS,YAAS,GAAI,GAAW,GAAc,GAAW,GAAW,GAAY,CAC9HA,UAAW,GACXwoC,KAAM,MC6WO,GAlXf,WACE,SAASC,EAAiBvpC,GACxB9uB,KAAK8uB,MAAQA,EACb9uB,KAAK2rD,UAAY78B,EAAM7tB,IAAI,WAAa,GACxCjB,KAAKs4D,WAAat4D,KAAK4pD,gBACvB5pD,KAAKu4D,cAAgB,GACrBv4D,KAAKw4D,aAyWP,OArWAH,EAAiBr2D,UAAUw2D,WAAa,aAGxCH,EAAiBr2D,UAAU4nD,cAAgB,WACzC,OAAO5pD,KAAKy4D,iBAAiBz4D,KAAK2rD,YAGpC0M,EAAiBr2D,UAAUy2D,iBAAmB,SAAU9M,GACtD,IAAIxoD,EAAOwoD,EAAUxoD,KAErB,GAAIA,EACF,OAAOA,EAGT,IAAIu1D,EAAQ/M,EAAU+M,MAEtB,OAAIr1D,MAAMC,QAAQo1D,GACTA,EAAMnoD,KAAI,SAAUooD,GACzB,OAAQA,aAAmC,EAASA,EAAKx1D,OAAS,MAI/D,MAGTk1D,EAAiBr2D,UAAU4pD,iBAAmB,SAAUxuC,GACtD,IAAIskB,EAAU1hC,KAAKy4D,iBAAiBr7C,GAEpC,OAAI/Z,MAAMC,QAAQtD,KAAKs4D,YACdt4D,KAAKs4D,WAAWrwD,OAAM,SAAU9E,EAAMN,GAC3C,OAAOM,IAASu+B,EAAQ7+B,OAIpBua,aAAiC,EAASA,EAAIja,QAAUnD,KAAKs4D,YAIvED,EAAiBr2D,UAAU42D,cAAgB,WACzC,IAAI9pC,EAAQ9uB,KAAK8uB,MACZA,IAEDA,EAAM7tB,IAAI,WACZ6tB,EAAM+6B,mBAEN/6B,EAAMo6B,qBAKVmP,EAAiBr2D,UAAU+pD,aAAe,SAAU3uC,GAClDpd,KAAK2rD,UAAYvuC,EACjBpd,KAAK64D,uBACL74D,KAAKipD,UAIPoP,EAAiBr2D,UAAUsnD,WAAa,WACtCtpD,KAAK64D,uBACL74D,KAAKipD,UAGPoP,EAAiBr2D,UAAU62D,qBAAuB,WAChD,IAAIN,EAAgBv4D,KAAKu4D,cACzBA,SAA8DA,EAAc9nD,SAAQ,SAAUy7C,GAC5FA,EAAa7pB,aAEfriC,KAAKu4D,cAAgB,IAIvBF,EAAiBr2D,UAAUgqD,cAAgB,WACzC,IAAIl9B,EAAQ9uB,KAAK8uB,MACjB9uB,KAAK64D,uBACL/pC,EAAMxnB,IAAI,cAAU2E,GACpBjM,KAAK2rD,eAAY1/C,EACjBjM,KAAKs4D,gBAAarsD,EAClBjM,KAAKu4D,mBAAgBtsD,GAIvBosD,EAAiBr2D,UAAU82D,iBAAmB,WAa5C,IAZA,IAAI7qC,EAAQ,GACR8qC,EAAc,GACd7qC,EAAQ,GACR8qC,EAAc,GACdC,EAAa,GACb/4B,EAAS,GAETg5B,EAAYl5D,KAAK8uB,MAAMklB,WACvBmlB,EAAYn5D,KAAK8uB,MAAM8jB,WACvB+W,EAAa3pD,KAAK8uB,MAAMmlB,YACxBmlB,EAAaF,EAAU52D,OAElBlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAI0jD,EAAWoV,EAAU94D,GACzB,GAAK0jD,IAAYA,EAASljB,UAA1B,CACA,IAAIxpB,EAAQ0sC,EAASjU,WAEhBiU,EAAStkB,YAKdvR,EAAMnrB,KAAKsU,GAJT2hD,EAAYj2D,KAAKsU,IAOrB,IAAIiiD,EAAaF,EAAU72D,OAE3B,IAASlC,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAIgtD,EAAW+L,EAAU/4D,GACzB,GAAKgtD,IAAYA,EAASxsB,UAA1B,CACIxpB,EAAQg2C,EAASvd,WAEhBud,EAAS5tB,YAKTpoB,EAAM09B,YAAoCmkB,EAAWn2D,KAAKsU,GAAvC8W,EAAMprB,KAAKsU,GAJjC4hD,EAAYl2D,KAAKsU,IAOrB,IAAIkiD,EAAc3P,EAAWrnD,OAE7B,IAASlC,EAAI,EAAGA,EAAIk5D,EAAal5D,IAAK,CACpC,IAAI+pD,EAAYR,EAAWvpD,GAC3B,IAAI+pD,EAAUvpB,UAAd,CACIxpB,EAAQ+yC,EAAUta,WAEjBsa,EAAU3qB,YAKfU,EAAOp9B,KAAKsU,GAJV4hD,EAAYl2D,KAAKsU,IAOrB,MAAO,CACL6W,MAAOA,EACP8qC,YAAaA,EACb7qC,MAAOA,EACP8qC,YAAaA,EACb94B,OAAQA,EACRq5B,aAvDiB,GAwDjBN,WAAYA,IAIhBZ,EAAiBr2D,UAAUw3D,eAAiB,SAAUtN,EAAcP,GAClE,IAAIr8B,EAAQtvB,KAEZ,OAAO,IAAIiU,SAAQ,SAAUwlD,EAAStlD,GACpC,IAAI2a,EAAQQ,EAAMR,MACdwpC,EAAa3M,aAA6C,EAASA,EAAUxoD,KAEjFwoD,EAAU+N,YAAc,WACtB5qC,EAAM1S,KAAK,iBAAkB,CAC3BjZ,KAAMm1D,IAERmB,KAGFvN,EAAa3lD,KAAK+oB,EAAMzqB,MAEL,UAAfyzD,IACFpM,EAAayN,SAAU,EACvBzN,EAAa0N,gBAAgBC,QAG/B/qC,EAAM1S,KAAK,kBAAmB,CAC5BjZ,KAAMm1D,IAERpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,kBAKxErB,EAAiBr2D,UAAUmqD,SAAW,SAAU6N,GAC9C,IAAI1qC,EAAQtvB,KAGR8uB,EADK9uB,KACM8uB,MACXypC,EAFKv4D,KAEcu4D,cACnB5M,EAHK3rD,KAGU2rD,UAEnB,GAAIqO,EAAY,CACdh6D,KAAK6E,KAAO7E,KAAK84D,mBACjB,IAAI7qC,EAAQjuB,KAAK6E,KAAKopB,MAEtB,IAAKA,EACH,OAAO,EAGTjuB,KAAKi6D,cAActO,EAAU76B,OAAQ7C,GAGvCa,EAAM1S,KAAK,gBACX,IAAI89C,EAAQjmD,QAAQC,UACpBqkD,SAA8DA,EAAc9nD,SAAQ,SAAUy7C,EAAcrpD,GAC1G,IAAIs3D,EAAaxO,EAAU9oD,GAC3Bq3D,EAAQA,EAAMzlD,MAAK,WACjB,OAAO6a,EAAMkqC,eAAetN,EAAciO,SAG9CD,EAAMzlD,MAAK,WACLk3C,EAAUyO,gBAAgBzO,EAAUyO,oBACvCC,OAAM,SAAUp6B,GACjB3lB,QAAQC,KAAK,kBAAmB0lB,OAKpCo4B,EAAiBr2D,UAAUs4D,iBAAmB,SAAUz1D,EAAMuY,GAC5D,IAQIm9C,EACAC,EATAvsC,EAAQppB,EAAKopB,MACbC,EAAQrpB,EAAKqpB,MACbsb,EAAO,YAAO3kC,EAAM,CAAC,QAAS,UAElC,IAAKopB,EACH,OAAOppB,EAcT,GAPE01D,EADE,qBAAWn9C,aAAiC,EAASA,EAAIm9C,aAC7Cn9C,EAAIm9C,YAEJ,WACZ,OAAO,GAIP,qBAAWn9C,aAAiC,EAASA,EAAIq9C,aAC3DD,EAAcp9C,EAAIq9C,gBACb,CACL,IAAIC,EAAazsC,EAAM/oB,QAAO,SAAUy1D,EAAKC,GAE3C,OADAD,EAAIC,EAAIzsC,KAAM,EACPwsC,IACN,IAEHH,EAAc,SAAqB95B,GACjC,OAAOg6B,EAAWh6B,EAAK3S,SAAW2sC,EAAWh6B,EAAK1S,SAItD,OAAO,YAAS,CACdC,MAAOA,EAAMvrB,OAAO63D,GACpBrsC,MAAOA,EAAMxrB,OAAO83D,IACnBhxB,IAGL6uB,EAAiBr2D,UAAU64D,cAAgB,SAAU5sC,GACnD,IAAIa,EAAQ9uB,KAAK8uB,MACbgsC,EAAkB,kBAAQhsC,EAAMklB,YAAY,SAAUnyC,GACxD,OAAOA,EAAEguC,WAAWkrB,eAElBC,EAAcl6D,OAAOkC,OAAO83D,GAAiBvqD,KAAI,SAAUlP,GAC7D,IAAIgyB,EAAO+P,GAAqB/hC,GAEhC,OADAgyB,EAAKnjB,KAAO,CAACmjB,EAAK9gB,MAAO8gB,EAAKvS,QACvBuS,KAGT,MAAO,CACL4nC,WAFen6D,OAAOkC,OAAO,kBAAQirB,EAAO,gBAG5C+sC,YAAaA,IAMjB3C,EAAiBr2D,UAAUk5D,cAAgB,aAG3C7C,EAAiBr2D,UAAUm5D,WAAa,WACtC,IAEIltC,EAFQjuB,KAAK8uB,MACA7tB,IAAI,QACJgtB,MAEjB,QAAmBhiB,IAAfgiB,EAAM,GAAGhM,GAAkC,OAAfgM,EAAM,GAAGhM,IAAc,GAAMgM,EAAM,GAAGhM,GAAtE,CAOA,IAHA,IAAIm5C,EAAa,CAAC,EAAG,GACjBhC,EAAanrC,EAAM3rB,OAEdlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAIyyB,EAAO5E,EAAM7tB,GACjBg7D,EAAW,IAAMvoC,EAAK5Q,EACtBm5C,EAAW,IAAMvoC,EAAKje,EAGxBwmD,EAAW,IAAMntC,EAAM3rB,OACvB84D,EAAW,IAAMntC,EAAM3rB,OAEvB,IAASlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,EAC/ByyB,EAAO5E,EAAM7tB,IACZ6hB,GAAKm5C,EAAW,GACrBvoC,EAAKje,GAAKwmD,EAAW,MAKzB/C,EAAiBr2D,UAAUi4D,cAAgB,SAAUnpC,EAAQ7C,GAC3D,IAAIa,EAAQ9uB,KAAK8uB,MAEjB,IAAKb,EACH,OAAO,EAGT,IAAImrC,EAAanrC,EAAQA,EAAM3rB,OAAS,EACxC,GAAK82D,EAAL,CACA,IAAI7mD,EAA6B,IAArBuc,EAAM7tB,IAAI,SAClB6f,EAA+B,IAAtBgO,EAAM7tB,IAAI,UACnBo6D,EAAUh2D,KAAKq+B,KAAKr+B,KAAKuS,KAAKwhD,IAAe7mD,EAAQuO,IAErDw6C,EAAU/oD,GAAS8oD,EAAU,GAC7BE,EAAWz6C,GAFAzb,KAAKq+B,KAAK01B,EAAaiC,GAEF,GAC/Bh5D,SAASi5D,IAAaA,IAASA,EAAU,GACzCj5D,SAASk5D,IAAcD,IAASC,EAAW,GAKhD,IAJA,IAAIC,EAAS1qC,EAAO,GAAKve,EAAQ,EAC7BkpD,EAAS3qC,EAAO,GAAKhQ,EAAS,EAC9B46C,GAAa,EAERt7D,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAIyyB,EAAO5E,EAAM7tB,GAEb,GAAMyyB,EAAK5Q,KACby5C,GAAa,EACb7oC,EAAK5Q,EAAI7hB,EAAIi7D,EAAUC,EAAUE,GAG/B,GAAM3oC,EAAKje,KACb8mD,GAAa,EACb7oC,EAAKje,EAAIvP,KAAKqS,MAAMtX,EAAIi7D,GAAWE,EAAWE,GAIlD,OAAOC,IAGTrD,EAAiBr2D,UAAUqgC,QAAU,WACnCriC,KAAK8uB,MAAQ,KACb9uB,KAAK64D,uBACL74D,KAAK4gC,WAAY,GAGnBy3B,EAAiBr2D,UAAUijD,OAAS,SAAU4J,GAC5C,IAAIz1C,EAE0B,QAA7BA,EAAKpZ,KAAKu4D,qBAAkC,IAAPn/C,GAAyBA,EAAG3I,SAAQ,SAAUy7C,GAClF,IAAI9yC,EAEuF,QAA1FA,EAAK8yC,aAAmD,EAASA,EAAajH,cAA2B,IAAP7rC,GAAyBA,EAAG7Y,KAAK2rD,EAAc2C,OAI/IwJ,EA/WT,GCMe,GATb,SAAyBvpC,GACvB9uB,KAAK8uB,MAAQA,EACb9uB,KAAK4gC,WAAY,EACjB5gC,KAAK27D,eNFT,SAAW1E,GAETA,EAAe,MAAI,QACnBA,EAAkB,SAAI,WACtBA,EAAa,IAAI,MACjBA,EAAgB,OAAI,SACpBA,EAAmB,UAAI,YACvBA,EAAiB,QAAI,UACrBA,EAAc,KAAI,OAClBA,EAAmB,UAAI,YACvBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAAiB,QAAI,UACrBA,EAAe,MAAI,OACnBA,EAAoB,WAAI,aACxBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAAiB,QAAI,UACrBA,EAAgB,OAAI,SACpBA,EAAe,MAAI,QACnBA,EAAoB,WAAI,YAExBA,EAAoB,WAAI,aACxBA,EAAmB,UAAI,YACvBA,EAAkB,SAAI,WACtBA,EAA2B,kBAAI,oBAC/BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAE3BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAuB,cAAI,gBAC3BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAmB,UAAI,YACvBA,EAAsB,aAAI,eAC1BA,EAAkB,SAAI,WACtBA,EAAqB,YAAI,cACzBA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aAExBA,EAAqB,YAAI,cACzBA,EAAwB,eAAI,iBAC5BA,EAAoB,WAAI,aACxBA,EAAwB,eAAI,iBAC5BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAyB,gBAAI,kBAC7BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAsB,aAAI,eAC1BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cAEzBA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAuB,cAAI,gBAC3BA,EAAwB,eAAI,iBAC5BA,EAAwB,eAAI,iBAC5BA,EAAkB,SAAI,WACtBA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aAExBA,EAAsB,aAAI,eAC1BA,EAAyB,gBAAI,kBAC7BA,EAAqB,YAAI,cACzBA,EAA0B,iBAAI,mBAC9BA,EAA0B,iBAAI,mBAC9BA,EAA0B,iBAAI,mBAC9BA,EAAqB,YAAI,cACzBA,EAAwB,eAAI,iBAC5BA,EAAoB,WAAI,aACxBA,EAAuB,cAAI,gBAC3BA,EAAyB,gBAAI,kBAC7BA,EAAwB,eAAI,iBAC5BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAE1BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAoC,2BAAI,6BACxCA,EAAmC,0BAAI,4BACvCA,EAA+B,sBAAI,wBACnCA,EAA8B,qBAAI,uBAClCA,EAA2B,kBAAI,oBAC/BA,EAA0B,iBAAI,mBAC9BA,EAA+B,sBAAI,wBACnCA,EAA8B,qBAAI,uBAClCA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAA0B,iBAAI,mBAC9BA,EAAyB,gBAAI,kBAC7BA,EAAoC,2BAAI,6BACxCA,EAAmC,0BAAI,4BACvCA,EAA4B,mBAAI,qBAChCA,EAA2B,kBAAI,oBAC/BA,EAAuB,cAAI,gBAC3BA,EAAsB,aAAI,eAC1BA,EAAqB,YAAI,cACzBA,EAAoB,WAAI,aACxBA,EAAmC,0BAAI,4BACvCA,EAAkC,yBAAI,2BACtCA,EAA0B,iBAAI,mBAC9BA,EAAgC,uBAAI,yBACpCA,EAA0B,iBAAI,mBAC9BA,EAAuB,cAAI,gBAC3BA,EAAmB,UAAI,YACvBA,EAAwB,eAAI,iBAC5BA,EAAqB,YAAI,cACzBA,EAAqB,YAAI,cAtI3B,CAuIGA,KAAYA,GAAU,KO/HzB,IAAI9qB,GAAe,GAAMA,aACrBS,GAAe,GAAMA,aACrBG,GAAgB,GAAMA,cACtB5d,GAAmB,EAASA,iBAC5BysC,GAAa,GAaD,GAAMzvB,aACN,GAAMS,aACL,GAAMG,cACH,EAAS5d,kB,mLC9BvB0sC,EAAY,iCACZC,EAAW,aAkCFC,MAhCf,SAAmB75D,GACjB,IAAI0O,EAAO1O,GAAK,GAChB,OAAIoB,kBAAQsN,GACHA,EAGL9J,mBAAS8J,IACXA,EAAOA,EAAK7E,MAAM8vD,GAClBt4D,eAAKqN,GAAM,SAACxJ,EAAMvE,GAGhB,IADAuE,EAAOA,EAAK2E,MAAM+vD,IACT,GAAGx5D,OAAS,EAAG,CACtB,IAAMyvB,EAAM3qB,EAAK,GAAGwE,OAAO,GAE3BxE,EAAKpB,OAAO,EAAG,EAAGoB,EAAK,GAAG2C,OAAO,IAEjC3C,EAAK,GAAK2qB,EAGZxuB,eAAK6D,GAAM,SAAU40D,EAAK57D,GACnBuF,MAAMq2D,KAET50D,EAAKhH,IAAM47D,MAIfprD,EAAK/N,GAASuE,KAETwJ,QAtBT,G,OCmIaqrD,MAxCf,SACEC,EACAhiC,EACAiiC,QADA,QAAAjiC,WACA,QAAAiiC,GACE,CAAE,EAAG,GACL,CAAE,EAAG,KAKP,IAFA,IAAMC,IAAWliC,EACXmiC,EAAmB,GAChBj8D,EAAI,EAAGC,EAAI67D,EAAI55D,OAAQlC,EAAIC,EAAGD,GAAK,EAC1Ci8D,EAAUv5D,KAAK,CAAEo5D,EAAI97D,GAAI87D,EAAI97D,EAAI,KAGnC,IAIIk8D,EACAC,EACAr6D,EANEs6D,EA/GR,SAAsB3rC,EAAe4rC,EAAgBL,EAAiBD,GACpE,IAGIO,EACAC,EACAp3D,EACAD,EACAs3D,EACAN,EACAO,EATEC,EAAc,GACdC,IAAkBZ,EAUxB,GAAIY,EAAe,CACfx3D,EAAa42D,EAAU,GAAlB72D,EAAQ62D,EAAU,GACzB,IAAK,IAAI/7D,EAAI,EAAGC,EAAIwwB,EAAOvuB,OAAQlC,EAAIC,EAAGD,GAAK,EAAG,CAChD,IAAMwwB,EAAQC,EAAOzwB,GACrBmF,EAAMy3D,IAAKz3D,IAAI,CAAE,EAAG,GAAKA,EAAKqrB,GAC9BtrB,EAAM03D,IAAK13D,IAAI,CAAE,EAAG,GAAKA,EAAKsrB,IAIzBxwB,EAAI,EAAb,IAAK,IAAWqD,EAAMotB,EAAOvuB,OAAQlC,EAAIqD,EAAKrD,GAAK,EAAG,CAC9CwwB,EAAQC,EAAOzwB,GACrB,GAAU,IAANA,GAAYg8D,EAET,GAAIh8D,IAAMqD,EAAM,GAAM24D,EAItB,CAELM,EAAY7rC,EADI,CAAEzwB,EAAIA,EAAI,EAAIqD,EAAM,EAAGrD,EAAI,GAAIg8D,EAAS,EAAI,IAE5DO,EAAY9rC,EAAOurC,GAAUh8D,EAAI,GAAKqD,EAAMrD,EAAI,GAEhD,IAAIsF,EAAU,CAAE,EAAG,GACnBA,EAAIs3D,IAAKhB,IAAIt2D,EAAGi3D,EAAWD,GAC3Bh3D,EAAIs3D,IAAKjhC,MAAMr2B,EAAGA,EAAG+2D,GAErB,IAAIQ,EAAKD,IAAKjwC,SAAS6D,EAAO8rC,GAC1BQ,EAAKF,IAAKjwC,SAAS6D,EAAO+rC,GAExBQ,EAAMF,EAAKC,EACL,IAARC,IACFF,GAAME,EACND,GAAMC,GAGR,IAAIC,EAAKJ,IAAKjhC,MAAM,CAAE,EAAG,GAAKr2B,GAAIu3D,GAC9BI,EAAKL,IAAKjhC,MAAM,CAAE,EAAG,GAAKr2B,EAAGw3D,GAEjCZ,EAAMU,IAAKjjB,IAAI,CAAE,EAAG,GAAKnpB,EAAOwsC,GAChCR,EAAUI,IAAKjjB,IAAI,CAAE,EAAG,GAAKnpB,EAAOysC,GAGpCT,EAAUI,IAAKz3D,IAAI,CAAE,EAAG,GAAKq3D,EAASI,IAAK13D,IAAI,CAAE,EAAG,GAAKq3D,EAAW/rC,IACpEgsC,EAAUI,IAAK13D,IAAI,CAAE,EAAG,GAAKs3D,EAASI,IAAKz3D,IAAI,CAAE,EAAG,GAAKo3D,EAAW/rC,IAGpEwsC,EAAKJ,IAAKhB,IAAI,CAAE,EAAG,GAAKY,EAAShsC,GACjCwsC,EAAKJ,IAAKjhC,MAAM,CAAE,EAAG,GAAKqhC,GAAKH,EAAKC,GACpCZ,EAAMU,IAAKjjB,IAAI,CAAE,EAAG,GAAKnpB,EAAOwsC,GAGhCd,EAAMU,IAAKz3D,IAAI,CAAE,EAAG,GAAK+2D,EAAKU,IAAK13D,IAAI,CAAE,EAAG,GAAKo3D,EAAW9rC,IAC5D0rC,EAAMU,IAAK13D,IAAI,CAAE,EAAG,GAAKg3D,EAAKU,IAAKz3D,IAAI,CAAE,EAAG,GAAKm3D,EAAW9rC,IAG5DysC,EAAKL,IAAKhB,IAAI,CAAE,EAAG,GAAKprC,EAAO0rC,GAC/Be,EAAKL,IAAKjhC,MAAM,CAAE,EAAG,GAAKshC,EAAIH,EAAKD,GACnCL,EAAUI,IAAKjjB,IAAI,CAAE,EAAG,GAAKnpB,EAAOysC,GAEhCN,IACFT,EAAMU,IAAK13D,IAAI,CAAE,EAAG,GAAKg3D,EAAK/2D,GAC9B+2D,EAAMU,IAAKz3D,IAAI,CAAE,EAAG,GAAK+2D,EAAKh3D,GAC9Bs3D,EAAUI,IAAK13D,IAAI,CAAE,EAAG,GAAKs3D,EAASr3D,GACtCq3D,EAAUI,IAAKz3D,IAAI,CAAE,EAAG,GAAKq3D,EAASt3D,IAGxCw3D,EAAIh6D,KAAK+5D,GACTC,EAAIh6D,KAAKw5D,GACTO,EAAMD,OAtDNN,EAAM1rC,EACNksC,EAAIh6D,KAAK+5D,GACTC,EAAIh6D,KAAKw5D,QAJTO,EAAMjsC,EAgEV,OAJIwrC,GACFU,EAAIh6D,KAAKg6D,EAAIQ,SAGRR,EAuBkBS,CAAalB,EAAW,GAAKD,EAAQD,GACxD14D,EAAM44D,EAAU/5D,OAChB46D,EAAoB,GAM1B,IAAS98D,EAAI,EAAGA,EAAIqD,EAAM,EAAGrD,GAAK,EAChCk8D,EAAME,EAAqB,EAAJp8D,GACvBm8D,EAAMC,EAAqB,EAAJp8D,EAAQ,GAC/B8B,EAAIm6D,EAAUj8D,EAAI,GAElB88D,EAAGp6D,KAAK,CAAE,IAAKw5D,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIr6D,EAAE,GAAIA,EAAE,KAUzD,OAPIk6D,IACFE,EAAME,EAAiB/4D,GACvB84D,EAAMC,EAAiB/4D,EAAM,GAC3BvB,EAAMm6D,EAAS,GAEjBa,EAAGp6D,KAAK,CAAE,IAAKw5D,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIr6D,EAAE,GAAIA,EAAE,MAElDg7D,GCzIT,IAAMM,EAAS,2CACTC,EAAe,IAAItgC,OAAO,WAAaqgC,EAAS,wCAA0CA,EAAS,QAAUA,EAAS,QAAS,MAC/HE,EAAc,IAAIvgC,OAAO,qCAAuCqgC,EAAS,QAAUA,EAAS,KAAM,MAG1F,SAAUG,EAAgBC,GACtC,IAAKA,EACH,OAAO,KAGT,GAAIt6D,kBAAQs6D,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBp5D,EAAG,EACHhE,EAAG,EACHI,EAAG,EACH2W,EAAG,EACHnX,EAAG,EACHG,EAAG,EACHU,EAAG,EACH6yB,EAAG,EACH5xB,EAAG,EACHb,EAAG,EACHoE,EAAG,EACH+R,EAAG,EACHyiB,EAAG,GAECr1B,EAAO,GA6Bb,OA3BAwO,OAAOuqD,GAAYr1D,QAAQk1D,GAAc,SAAUh5D,EAAGmC,EAAGnG,GACvD,IAAMq9D,EAAS,GACXn9D,EAAOiG,EAAE8E,cAYb,GAXAjL,EAAE8H,QAAQm1D,GAAa,SAAUj5D,EAAGmC,GAClCA,GAAKk3D,EAAOh7D,MAAM8D,MAEP,MAATjG,GAAgBm9D,EAAOx7D,OAAS,IAClCuC,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAO84D,EAAO93D,OAAO,EAAG,KACxCrF,EAAO,IACPiG,EAAU,MAANA,EAAY,IAAM,KAEX,MAATjG,GAAkC,IAAlBm9D,EAAOx7D,QACzBuC,EAAK/B,KAAK,CAAE8D,EAAGk3D,EAAO,KAEX,MAATn9D,EACFkE,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAO84D,SAEvB,KAAOA,EAAOx7D,QAAUu7D,EAAYl9D,KAClCkE,EAAK/B,KAAK,CAAE8D,GAAI5B,OAAO84D,EAAO93D,OAAO,EAAG63D,EAAYl9D,MAC/Ck9D,EAAYl9D,MAKrB,MAAO,MAGFkE,EC1DT,IAAMk5D,EAAW,QAEjB,SAASC,EAAW97D,EAAGzB,GACrB,MAAO,CACLA,EAAE,IAAMA,EAAE,GAAKyB,EAAE,IACjBzB,EAAE,IAAMA,EAAE,GAAKyB,EAAE,KAIP,SAAU+7D,EAAeL,GACrC,IAAMM,EAAYP,EAAgBC,GAElC,IAAKM,IAAcA,EAAU57D,OAC3B,MAAO,CACL,CAAE,IAAK,EAAG,IAId,IADA,IAAI67D,GAAc,EACT/9D,EAAI,EAAGA,EAAI89D,EAAU57D,OAAQlC,IAAK,CACzC,IAAMg+D,EAAMF,EAAU99D,GAAG,GAEzB,GAAI29D,EAAS3gC,KAAKghC,IAAQ,CAAE,IAAK,IAAK,IAAK,KAAM37D,QAAQ27D,IAAQ,EAAG,CAClED,GAAc,EACd,OAKJ,IAAKA,EACH,OAAOD,EAGT,IAAM5lB,EAAM,GACRr2B,EAAI,EACJrN,EAAI,EACJypD,EAAK,EACLC,EAAK,EACLpE,EAAQ,EAGNllC,EAAQkpC,EAAU,GACP,MAAblpC,EAAM,IAA2B,MAAbA,EAAM,KAG5BqpC,EAFAp8C,GAAK+S,EAAM,GAGXspC,EAFA1pD,GAAKogB,EAAM,GAGXklC,IACA5hB,EAAI,GAAK,CAAE,IAAKr2B,EAAGrN,IAGZxU,EAAI85D,EAAb,IAAK,IAAergD,EAAKqkD,EAAU57D,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CACtD,IAAM09B,EAAKogC,EAAU99D,GACfm+D,EAAYjmB,EAAIl4C,EAAI,GACtBc,EAAI,GAEFs9D,GADAJ,EAAMtgC,EAAG,IACG3xB,cAClB,GAAIiyD,IAAQI,EAEV,OADAt9D,EAAE,GAAKs9D,EACCA,GACN,IAAK,IACHt9D,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,IAAM48B,EAAG,GAAK7b,EAChB/gB,EAAE,IAAM48B,EAAG,GAAKlpB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM48B,EAAG,GAAKlpB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM48B,EAAG,GAAK7b,EAChB,MACF,IAAK,IACHo8C,GAAMvgC,EAAG,GAAK7b,EACdq8C,GAAMxgC,EAAG,GAAKlpB,EACd1T,EAAE,GAAKm9D,EACPn9D,EAAE,GAAKo9D,EACP,MACF,QACE,IAAK,IAAI32D,EAAI,EAAG82D,EAAK3gC,EAAGx7B,OAAQqF,EAAI82D,EAAI92D,IACtCzG,EAAEyG,IAAMm2B,EAAGn2B,IAAOA,EAAI,EAAKsa,EAAIrN,QAIrC1T,EAAIg9D,EAAU99D,GAGhB,OAAQo+D,GACN,IAAK,IACHv8C,GAAKo8C,EACLzpD,GAAK0pD,EACL,MACF,IAAK,IAEHp9D,EAAI,CAAE,IADN+gB,EAAI/gB,EAAE,GACQ0T,GACd,MACF,IAAK,IAEH1T,EAAI,CAAE,IAAK+gB,EADXrN,EAAI1T,EAAE,IAEN,MACF,IAAK,IACH+gB,EAAI/gB,EAAE,GACN0T,EAAI1T,EAAE,GAGN,IAAMw9D,EAAYV,EAAW,CAAEO,EAAU,GAAIA,EAAU,IAAM,CAAEA,EAAU,GAAIA,EAAU,KACvFr9D,EAAI,CAAE,IAAKw9D,EAAU,GAAIA,EAAU,GAAIz8C,EAAGrN,GAC1C,MACF,IAAK,IACHqN,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,GAGjB,IAAM8/B,EAASm8B,EAAUj8D,OACnBq8D,EAAYX,EAChB,CAAEO,EAAUn8B,EAAS,GAAIm8B,EAAUn8B,EAAS,IAC5C,CAAEm8B,EAAUn8B,EAAS,GAAIm8B,EAAUn8B,EAAS,KAC9ClhC,EAAI,CAAE,IAAKy9D,EAAU,GAAIA,EAAU,GAAIz9D,EAAE,GAAIA,EAAE,GAAI+gB,EAAGrN,GACtD,MACF,IAAK,IACHypD,EAAKn9D,EAAEA,EAAEoB,OAAS,GAClBg8D,EAAKp9D,EAAEA,EAAEoB,OAAS,GAClB,MACF,QACE2f,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,GAErBg2C,EAAIx1C,KAAK5B,GAGX,OAAOo3C,ECrIGjzC,KAAK6F,GCGjB,SAAS0zD,EAAKl5D,GACZ,OAAOL,KAAKuS,KAAKlS,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAI1C,SAASm5D,EAAOpnD,EAAG/R,GAEjB,OAAOk5D,EAAKnnD,GAAKmnD,EAAKl5D,IAAM+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,KAAOk5D,EAAKnnD,GAAKmnD,EAAKl5D,IAAM,EAIjF,SAASo5D,EAAOrnD,EAAG/R,GACjB,OAAQ+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,IAAM,EAAI,GAAKL,KAAK05D,KAAKF,EAAOpnD,EAAG/R,IAQ9D,SAAUs5D,EAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,GAI3C,SAAUC,EAAalkC,EAAY6iC,GAC/C,IAAIlsC,EAAKksC,EAAO,GACZjsC,EAAKisC,EAAO,GACVsB,EAAYp0D,cAAIO,mBAASuyD,EAAO,IAAe,EAAVz4D,KAAK6F,IAC1Cm0D,EAAUvB,EAAO,GACjBwB,EAAYxB,EAAO,GAEnBroC,EAAKwF,EAAW,GAChBvF,EAAKuF,EAAW,GAEhBtF,EAAKmoC,EAAO,GACZloC,EAAKkoC,EAAO,GACZyB,EAAMl6D,KAAKwS,IAAIunD,IAAc3pC,EAAKE,GAAO,EAAOtwB,KAAKyS,IAAIsnD,IAAc1pC,EAAKE,GAAO,EACnF4pC,GAAO,EAAIn6D,KAAKyS,IAAIsnD,IAAc3pC,EAAKE,GAAO,EAAOtwB,KAAKwS,IAAIunD,IAAc1pC,EAAKE,GAAO,EACxF6pC,EAAUF,EAAKA,GAAO3tC,EAAKA,GAAO4tC,EAAKA,GAAO3tC,EAAKA,GAErD4tC,EAAS,IACX7tC,GAAMvsB,KAAKuS,KAAK6nD,GAChB5tC,GAAMxsB,KAAKuS,KAAK6nD,IAElB,IAAMC,EAAO9tC,EAAKA,GAAM4tC,EAAKA,GAAM3tC,EAAKA,GAAM0tC,EAAKA,GAE/C9xD,EAAIiyD,EAAOr6D,KAAKuS,MAAMga,EAAKA,GAAMC,EAAKA,GAAM6tC,GAAQA,GAAQ,EAE5DL,IAAYC,IACd7xD,IAAM,GAEJ9H,MAAM8H,KACRA,EAAI,GAIN,IAAMkyD,EAAM9tC,EAAMpkB,EAAImkB,EAAK4tC,EAAM3tC,EAAK,EAChC+tC,EAAMhuC,EAAMnkB,GAAKokB,EAAK0tC,EAAM3tC,EAAK,EAGjCX,GAAMwE,EAAKE,GAAM,EAAMtwB,KAAKwS,IAAIunD,GAAaO,EAAMt6D,KAAKyS,IAAIsnD,GAAaQ,EACzE1uC,GAAMwE,EAAKE,GAAM,EAAMvwB,KAAKyS,IAAIsnD,GAAaO,EAAMt6D,KAAKwS,IAAIunD,GAAaQ,EAGzEnoD,EAAI,EAAG8nD,EAAKI,GAAO/tC,GAAK4tC,EAAKI,GAAO/tC,GAEpCnsB,EAAI,GAAI,EAAI65D,EAAKI,GAAO/tC,IAAM,EAAI4tC,EAAKI,GAAO/tC,GAE9CguC,EAAQf,EAAO,CAAE,EAAG,GAAKrnD,GAG3BqoD,EAAShB,EAAOrnD,EAAG/R,GAcvB,OAZIm5D,EAAOpnD,EAAG/R,KAAO,IACnBo6D,EAASz6D,KAAK6F,IAEZ2zD,EAAOpnD,EAAG/R,IAAM,IAClBo6D,EAAS,GAEO,IAAdR,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAIz6D,KAAK6F,IAEX,IAAdo0D,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAIz6D,KAAK6F,IAEtB,CACL+lB,GAAE,EACFC,GAAE,EAEFU,GAAIotC,EAAY/jC,EAAY,CAAEtF,EAAIC,IAAQ,EAAIhE,EAC9CC,GAAImtC,EAAY/jC,EAAY,CAAEtF,EAAIC,IAAQ,EAAI/D,EAC9CkuC,WAAYF,EACZG,SAAUH,EAAQC,EAClBV,UAAS,EACTC,QAAO,EACPC,UAAS,GC9Fb,SAAStB,EAAWptC,EAAOE,GACzB,MAAO,CAAEA,EAAO,IAAMA,EAAO,GAAKF,EAAM,IAAKE,EAAO,IAAMA,EAAO,GAAKF,EAAM,KAGhE,SAAUqvC,EAAYrvD,GAQlC,IANA,IAAMqpC,EAAW,GACbimB,EAAe,KACfC,EAAa,KACbC,EAAiB,KACjBC,EAA0B,EACxB1mD,GANN/I,EAAOmrD,EAAUnrD,IAMEtO,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IAAM09D,EAASltD,EAAKxQ,GACpB+/D,EAAavvD,EAAKxQ,EAAI,GACtB,IAAMkgE,EAAUxC,EAAO,GAEjB1jB,EAAU,CACdkmB,QAAO,EACP7uB,SAAUyuB,EACVpC,OAAM,EACNyC,aAAc,KACdC,WAAY,MAEd,OAAQF,GACN,IAAK,IACHF,EAAiB,CAAEtC,EAAO,GAAIA,EAAO,IACrCuC,EAA0BjgE,EAC1B,MACF,IAAK,IACH,IAAMqgE,EAAYtB,EAAae,EAAcpC,GAC7C1jB,EAAO,UAAgBqmB,EAK3B,GAAgB,MAAZH,EAEFJ,EAAeE,EAEfD,EAAavvD,EAAKyvD,EAA0B,OACvC,CACL,IAAM58D,EAAMq6D,EAAOx7D,OACnB49D,EAAe,CAAEpC,EAAOr6D,EAAM,GAAIq6D,EAAOr6D,EAAM,IAE7C08D,GAAgC,MAAlBA,EAAW,KAE3BA,EAAavvD,EAAKyvD,GACdpmB,EAASomB,KAEXpmB,EAASomB,GAAyB5uB,SAAWyuB,IAGjD9lB,EAAO,aAAmB8lB,EAGxBjmB,EAASomB,IACTrB,EAAYkB,EAAcjmB,EAASomB,GAAyBH,gBAE5DjmB,EAASomB,GAAyB5uB,SAAW2I,EAAQ3I,UAEvD,IAAMkrB,EAAYwD,EAAa,CAAEA,EAAWA,EAAW79D,OAAS,GAAI69D,EAAWA,EAAW79D,OAAS,IAAO,KAC1G83C,EAAO,UAAgBuiB,EAEf,MAAaviB,EAAO,SAC5B,GAAI,CAAE,IAAK,IAAK,KAAMtpC,SAASwvD,GAC7BlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKyuB,EAAa,GAAIzuB,EAAS,GAAKyuB,EAAa,IACnF9lB,EAAQomB,WAAa,CAAEN,EAAa,GAAKzuB,EAAS,GAAIyuB,EAAa,GAAKzuB,EAAS,SAC5E,GAAgB,MAAZ6uB,EAAiB,CAE1B,IAAMI,EAAK,CAAE5C,EAAO,GAAIA,EAAO,IAE/B1jB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKivB,EAAG,GAAIjvB,EAAS,GAAKivB,EAAG,IAC/DtmB,EAAQomB,WAAa,CAAEN,EAAa,GAAKQ,EAAG,GAAIR,EAAa,GAAKQ,EAAG,SAChE,GAAgB,MAAZJ,EAAiB,CAEpBI,EAAK1C,GADL2C,EAAa1mB,EAAS75C,EAAI,IACC8/D,aAAczuB,GACpB,MAAvBkvB,EAAWL,SACblmB,EAAQkmB,QAAU,IAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKivB,EAAG,GAAIjvB,EAAS,GAAKivB,EAAG,IAC/DtmB,EAAQomB,WAAa,CAAEN,EAAa,GAAKQ,EAAG,GAAIR,EAAa,GAAKQ,EAAG,MAErEtmB,EAAQkmB,QAAU,KAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAKyuB,EAAa,GAAIzuB,EAAS,GAAKyuB,EAAa,IACnF9lB,EAAQomB,WAAa,CAAEN,EAAa,GAAKzuB,EAAS,GAAIyuB,EAAa,GAAKzuB,EAAS,UAE9E,GAAgB,MAAZ6uB,EAAiB,CAE1B,IAAMhE,EAAM,CAAEwB,EAAO,GAAIA,EAAO,IAC1BvB,EAAM,CAAEuB,EAAO,GAAIA,EAAO,IAChC1jB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK6qB,EAAI,GAAI7qB,EAAS,GAAK6qB,EAAI,IACjEliB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,IAGvC,IAA5BniB,EAAQmmB,aAAa,IAAwC,IAA5BnmB,EAAQmmB,aAAa,KACxDnmB,EAAQmmB,aAAe,CAACjE,EAAI,GAAKC,EAAI,GAAID,EAAI,GAAKC,EAAI,KAE1B,IAA1BniB,EAAQomB,WAAW,IAAsC,IAA1BpmB,EAAQomB,WAAW,KACpDpmB,EAAQomB,WAAa,CAACjE,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,UAEjD,GAAgB,MAAZgE,EAAiB,CAC1B,IAAMK,EACArE,EAAM0B,GADN2C,EAAa1mB,EAAS75C,EAAI,IACE8/D,aAAczuB,GAC1C8qB,EAAM,CAAEuB,EAAO,GAAIA,EAAO,IACL,MAAvB6C,EAAWL,SACblmB,EAAQkmB,QAAU,IAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK6qB,EAAI,GAAI7qB,EAAS,GAAK6qB,EAAI,IACjEliB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,MAEvEniB,EAAQkmB,QAAU,KAClBlmB,EAAQmmB,aAAe,CAAE9uB,EAAS,GAAK8qB,EAAI,GAAI9qB,EAAS,GAAK8qB,EAAI,IACjEniB,EAAQomB,WAAa,CAAEN,EAAa,GAAK3D,EAAI,GAAI2D,EAAa,GAAK3D,EAAI,UAEpE,GAAgB,MAAZ+D,EAAiB,CAC1B,IAAI5/D,EAAI,KACF,EAQF05C,EAAO,WAAiB,GAP1BlS,OAAAjX,OAAE,MAAG,EAACiX,EACNgC,OAAAhZ,OAAE,MAAG,EAACgZ,EACNC,OAAAvY,OAAE,MAAG,EAACuY,EACN0oB,OAAAhhC,OAAE,MAAG,EAACghC,EACN+N,cAAAtB,OAAS,MAAG,EAACsB,EACbC,eAAAd,OAAU,MAAG,EAACc,EACdC,aAAAd,OAAQ,MAAG,EAACc,EAEI,IAAdxB,IACF5+D,IAAM,GAER,IAAMqgE,EAAMnvC,EAAKvsB,KAAKwS,IAAIkoD,EAAar/D,GAAKuwB,EACtC+vC,EAAMnvC,EAAKxsB,KAAKyS,IAAIioD,EAAar/D,GAAKwwB,EAC5CkpB,EAAQmmB,aAAe,CAAEQ,EAAMX,EAAe,GAAIY,EAAMZ,EAAe,IACvE,IAAMa,EAAMrvC,EAAKvsB,KAAKwS,IAAIkoD,EAAaC,EAAWt/D,GAAKuwB,EACjDiwC,EAAMrvC,EAAKxsB,KAAKyS,IAAIioD,EAAaC,EAAWt/D,GAAKwwB,EACvDkpB,EAAQomB,WAAa,CAAE/uB,EAAS,GAAKwvB,EAAKxvB,EAAS,GAAKyvB,GAE1DjnB,EAASn3C,KAAKs3C,GAEhB,OAAOH,I,gCC7IT,2NAKA,yBAAe,SAAU,iB,izCCLzB,IAqCevnB,EArCC,SAAmByuC,EAAWxuC,GAC5C,IAAI1E,EAAQkzC,EAAUlzC,MAClBC,EAAQizC,EAAUjzC,MAClB4D,EAAS,GAETc,EAAU,GAEd,IAAK3E,EACH,MAAM,IAAI5W,MAAM,uBA0BlB,OAvBI4W,GACFA,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5BwyB,EAAQC,EAAK1E,IAAM/tB,EAEnB0xB,EAAOhvB,KADG,OAKVorB,GACFA,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAI3S,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACd8E,EAASF,EAAQ7E,GACjBgF,EAASH,EAAQ5E,IAChB8E,GAAqB,IAAXA,IAAiBC,GAAqB,IAAXA,IAC1CjB,EAAOgB,GAAQC,GAAU,EAEpBJ,IACHb,EAAOiB,GAAQD,GAAU,OAKxBhB,GClCLsvC,EAAoB,SAA2B38D,EAAGmC,GACpD,OAAInC,IAAMmC,GAWRy6D,EAEJ,WACE,SAASA,EAAehgE,EAAOiT,QAChB,IAATA,IACFA,EAAO,MAGTtU,KAAKqB,MAAQA,EACbrB,KAAKsU,KAAOA,EAOd,OAJA+sD,EAAer/D,UAAUiB,SAAW,SAAU6iD,GAC5C,OAAOA,EAAWA,EAAS9lD,KAAKqB,OAAS,GAAG2D,OAAOhF,KAAKqB,QAGnDggE,EAdT,GAiQeC,EA5Of,WACE,SAASA,EAAWC,QACC,IAAfA,IACFA,EAAaH,GAGfphE,KAAK6H,KAAO,KACZ7H,KAAKinC,KAAO,KACZjnC,KAAK6vB,QAAU0xC,EAiOjB,OAzNAD,EAAWt/D,UAAUw/D,QAAU,SAAUngE,GAEvC,IAAIogE,EAAU,IAAIJ,EAAehgE,EAAOrB,KAAK6H,MAO7C,OANA7H,KAAK6H,KAAO45D,EAEPzhE,KAAKinC,OACRjnC,KAAKinC,KAAOw6B,GAGPzhE,MAQTshE,EAAWt/D,UAAU0/D,OAAS,SAAUrgE,GACtC,IAAIogE,EAAU,IAAIJ,EAAehgE,GAEjC,OAAKrB,KAAK6H,MAOV7H,KAAKinC,KAAK3yB,KAAOmtD,EACjBzhE,KAAKinC,KAAOw6B,EACLzhE,OARLA,KAAK6H,KAAO45D,EACZzhE,KAAKinC,KAAOw6B,EACLzhE,OAcXshE,EAAWt/D,UAAU2/D,OAAS,SAAUtgE,GACtC,IAAKrB,KAAK6H,KACR,OAAO,KAKT,IAFA,IAAI+5D,EAAa,KAEV5hE,KAAK6H,MAAQ7H,KAAK6vB,QAAQ7vB,KAAK6H,KAAKxG,MAAOA,IAChDugE,EAAa5hE,KAAK6H,KAClB7H,KAAK6H,KAAO7H,KAAK6H,KAAKyM,KAGxB,IAAIutD,EAAc7hE,KAAK6H,KAEvB,GAAoB,OAAhBg6D,EAEF,KAAOA,EAAYvtD,MACbtU,KAAK6vB,QAAQgyC,EAAYvtD,KAAKjT,MAAOA,IACvCugE,EAAaC,EAAYvtD,KACzButD,EAAYvtD,KAAOutD,EAAYvtD,KAAKA,MAEpCutD,EAAcA,EAAYvtD,KAUhC,OAJItU,KAAK6vB,QAAQ7vB,KAAKinC,KAAK5lC,MAAOA,KAChCrB,KAAKinC,KAAO46B,GAGPD,GAQTN,EAAWt/D,UAAUsC,KAAO,SAAU8U,GACpC,IAAI8uB,EAAK9uB,EAAG/X,MACRA,OAAe,IAAP6mC,OAAgBj8B,EAAYi8B,EACpCgC,EAAK9wB,EAAG0sC,SACRA,OAAkB,IAAP5b,OAAgBj+B,EAAYi+B,EAE3C,IAAKlqC,KAAK6H,KACR,OAAO,KAKT,IAFA,IAAIg6D,EAAc7hE,KAAK6H,KAEhBg6D,GAAa,CAElB,GAAI/b,GAAYA,EAAS+b,EAAYxgE,OACnC,OAAOwgE,EAIT,QAAc51D,IAAV5K,GAAuBrB,KAAK6vB,QAAQgyC,EAAYxgE,MAAOA,GACzD,OAAOwgE,EAGTA,EAAcA,EAAYvtD,KAG5B,OAAO,MAOTgtD,EAAWt/D,UAAU8/D,WAAa,WAChC,IAAIC,EAAc/hE,KAAKinC,KAEvB,GAAIjnC,KAAK6H,OAAS7H,KAAKinC,KAIrB,OAFAjnC,KAAK6H,KAAO,KACZ7H,KAAKinC,KAAO,KACL86B,EAKT,IAFA,IAAIF,EAAc7hE,KAAK6H,KAEhBg6D,EAAYvtD,MACZutD,EAAYvtD,KAAKA,KAGpButD,EAAcA,EAAYvtD,KAF1ButD,EAAYvtD,KAAO,KAOvB,OADAtU,KAAKinC,KAAO46B,EACLE,GAOTT,EAAWt/D,UAAUggE,WAAa,WAChC,IAAKhiE,KAAK6H,KACR,OAAO,KAGT,IAAIo6D,EAAcjiE,KAAK6H,KASvB,OAPI7H,KAAK6H,KAAKyM,KACZtU,KAAK6H,KAAO7H,KAAK6H,KAAKyM,MAEtBtU,KAAK6H,KAAO,KACZ7H,KAAKinC,KAAO,MAGPg7B,GAQTX,EAAWt/D,UAAUkgE,UAAY,SAAUl/D,GACzC,IAAIssB,EAAQtvB,KAKZ,OAHAgD,EAAOyN,SAAQ,SAAUpP,GACvB,OAAOiuB,EAAMoyC,OAAOrgE,MAEfrB,MAOTshE,EAAWt/D,UAAU8rD,QAAU,WAI7B,IAHA,IAAI7/B,EAAQ,GACR4zC,EAAc7hE,KAAK6H,KAEhBg6D,GACL5zC,EAAMnrB,KAAK++D,GACXA,EAAcA,EAAYvtD,KAG5B,OAAO2Z,GAOTqzC,EAAWt/D,UAAUw6B,QAAU,WAK7B,IAJA,IAAIqlC,EAAc7hE,KAAK6H,KACnBs6D,EAAW,KACXC,EAAW,KAERP,GAELO,EAAWP,EAAYvtD,KAEvButD,EAAYvtD,KAAO6tD,EAEnBA,EAAWN,EACXA,EAAcO,EAGhBpiE,KAAKinC,KAAOjnC,KAAK6H,KACjB7H,KAAK6H,KAAOs6D,GAGdb,EAAWt/D,UAAUiB,SAAW,SAAU6iD,GAKxC,YAJiB,IAAbA,IACFA,OAAW75C,GAGNjM,KAAK8tD,UAAUv9C,KAAI,SAAUsiB,GAClC,OAAOA,EAAK5vB,SAAS6iD,MACpB7iD,YAGEq+D,EAzOT,GCmBee,EAlDf,WACE,SAASA,IACPriE,KAAKsiE,WAAa,IAAIhB,EA6CxB,OAtCAe,EAAMrgE,UAAUiO,QAAU,WACxB,OAAQjQ,KAAKsiE,WAAWz6D,MAO1Bw6D,EAAMrgE,UAAUugE,KAAO,WACrB,OAAKviE,KAAKsiE,WAAWz6D,KAId7H,KAAKsiE,WAAWz6D,KAAKxG,MAHnB,MAWXghE,EAAMrgE,UAAUwgE,QAAU,SAAUnhE,GAClCrB,KAAKsiE,WAAWZ,OAAOrgE,IAOzBghE,EAAMrgE,UAAUygE,QAAU,WACxB,IAAIC,EAAa1iE,KAAKsiE,WAAWN,aACjC,OAAOU,EAAaA,EAAWrhE,MAAQ,MAGzCghE,EAAMrgE,UAAUiB,SAAW,SAAU6iD,GACnC,OAAO9lD,KAAKsiE,WAAWr/D,SAAS6iD,IAG3Buc,EA/CT,GCEWtvB,EAAe,SAAsB4vB,EAAQz0C,EAAO/qB,QAC/C,IAAV+qB,IACFA,EAAQ,IAGV,IAAI00C,EAAe10C,EAAMxrB,QAAO,SAAUg+B,GACxC,OAAOA,EAAK3S,SAAW40C,GAAUjiC,EAAK1S,SAAW20C,KAGnD,GAAa,WAATx/D,EAAmB,CAMrB,OAAOy/D,EAAalgE,QAJQ,SAA+Bg+B,GACzD,OAAOA,EAAK3S,SAAW40C,KAGyBpyD,KAAI,SAAUmwB,GAC9D,OAAOA,EAAK1S,UAIhB,GAAa,WAAT7qB,EAAmB,CAMrB,OAAOy/D,EAAalgE,QAJQ,SAA+Bg+B,GACzD,OAAOA,EAAK1S,SAAW20C,KAGyBpyD,KAAI,SAAUmwB,GAC9D,OAAOA,EAAK3S,UAShB,OAAO60C,EAAaryD,KAJM,SAA6BmwB,GACrD,OAAOA,EAAK3S,SAAW40C,EAASjiC,EAAK1S,OAAS0S,EAAK3S,WAsB5C80C,EAAmB,SAA0BF,EAAQz0C,GAC9D,OAAOA,EAAMxrB,QAAO,SAAUg+B,GAC5B,OAAOA,EAAK3S,SAAW40C,GAAUjiC,EAAK1S,SAAW20C,MAQ1ChgC,EAAW,SAAkB9/B,QACxB,IAAVA,IACFA,EAAQ,GAGV,IAAIigE,EAAU,GAAG99D,OAAOK,KAAKu9B,UAAUp6B,MAAM,KAAK,GAAGuB,OAAO,EAAG,GAC3Dg5D,EAAU,GAAG/9D,OAAOK,KAAKu9B,UAAUp6B,MAAM,KAAK,GAAGuB,OAAO,EAAG,GAC/D,MAAO,GAAG/E,OAAOnC,EAAO,KAAKmC,OAAO89D,GAAS99D,OAAO+9D,IC/BtD,IA2CeC,EA3CU,SAA4B7B,EAAW8B,EAAaC,EAAmBvwC,QAC7E,IAAbA,IACFA,GAAW,GAGb,IAAIwwC,EA1CN,SAAuBA,QACH,IAAdA,IACFA,EAAY,IAGd,IAKMC,EALFC,EAAoBF,EAEpBG,EAAe,aAEfC,GACEH,EAAO,GACJ,SAAUhqD,GACf,IACI+U,EADO/U,EAAG9E,KAGd,OAAK8uD,EAAKj1C,KACRi1C,EAAKj1C,IAAM,GACJ,KAUb,OAHAk1C,EAAkBG,eAAiBL,EAAUK,gBAAkBD,EAC/DF,EAAkBI,MAAQN,EAAUM,OAASH,EAC7CD,EAAkBK,MAAQP,EAAUO,OAASJ,EACtCD,EAeSM,CAAcT,GAC1BU,EAAY,IAAIvB,EAChBjpD,EAAK+nD,EAAUjzC,MACfA,OAAe,IAAP9U,EAAgB,GAAKA,EAEjCwqD,EAAUpB,QAAQS,GA4BlB,IA3BA,IAAIY,EAAe,GAEf5kB,EAAU,WACZ,IAAI4iB,EAAc+B,EAAUnB,UAC5BU,EAAUM,MAAM,CACd/hC,QAASmgC,EACTx7D,SAAUw9D,IAGZ9wB,EAAa8uB,EAAa3zC,EAAOyE,EAAW,cAAW1mB,GAAWwE,SAAQ,SAAU2xD,GAC9Ee,EAAUK,eAAe,CAC3Bn9D,SAAUw9D,EACVniC,QAASmgC,EACTvtD,KAAM8tD,KAENwB,EAAUpB,QAAQJ,MAGtBe,EAAUO,MAAM,CACdhiC,QAASmgC,EACTx7D,SAAUw9D,IAGZA,EAAehC,IAIT+B,EAAU3zD,WAChBgvC,KCpBO6kB,EAAgC,SAAuC3C,GAoEhF,IAnEA,IAAI/nD,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7B67B,EAAY,GACZC,EAAU,GAEVC,EAAU,GACVC,EAAU,GACVC,EAAgB,GAChBthE,EAAQ,EAERuhE,EAAe,SAASA,EAAavxC,GAEvCoxC,EAAQpxC,EAAK1E,IAAMtrB,EACnBqhE,EAAQrxC,EAAK1E,IAAMtrB,EACnBA,GAAS,EACTkhE,EAAUjhE,KAAK+vB,GACfmxC,EAAQnxC,EAAK1E,KAAM,EA4BnB,IA1BA,IAAIk2C,EAAYtxB,EAAalgB,EAAK1E,GAAID,EAAO,UAAUxrB,QAAO,SAAUb,GACtE,OAAOosB,EAAM1d,KAAI,SAAUsiB,GACzB,OAAOA,EAAK1E,MACX1rB,QAAQZ,IAAM,KAGf+vD,EAAU,SAAiBxxD,GAC7B,IAAIkkE,EAAeD,EAAUjkE,GAE7B,GAAK6jE,EAAQK,IAA2C,IAA1BL,EAAQK,GAW3BN,EAAQM,KAEjBJ,EAAQrxC,EAAK1E,IAAM9oB,KAAKE,IAAI2+D,EAAQrxC,EAAK1E,IAAK81C,EAAQK,SAbG,CACzD,IAAI1pC,EAAa3M,EAAMvrB,QAAO,SAAUmwB,GACtC,OAAOA,EAAK1E,KAAOm2C,KAGjB1pC,EAAWt4B,OAAS,GACtB8hE,EAAaxpC,EAAW,IAI1BspC,EAAQrxC,EAAK1E,IAAM9oB,KAAKE,IAAI2+D,EAAQrxC,EAAK1E,IAAK+1C,EAAQI,MAOjDlkE,EAAI,EAAGA,EAAIikE,EAAU/hE,OAAQlC,IACpCwxD,EAAQxxD,GAIV,GAAI8jE,EAAQrxC,EAAK1E,MAAQ81C,EAAQpxC,EAAK1E,IAAK,CAGzC,IAFA,IAAIo2C,EAAY,GAETR,EAAUzhE,OAAS,GAAG,CAC3B,IAAIkiE,EAAUT,EAAUzuD,MAGxB,GAFA0uD,EAAQQ,EAAQr2C,KAAM,EACtBo2C,EAAUzhE,KAAK0hE,GACXA,IAAY3xC,EAAM,MAGpB0xC,EAAUjiE,OAAS,GACrB6hE,EAAcrhE,KAAKyhE,KAKhBltC,EAAK,EAAGotC,EAAUx2C,EAAOoJ,EAAKotC,EAAQniE,OAAQ+0B,IAAM,CAC3D,IAAIxE,EAAO4xC,EAAQptC,GAEd4sC,EAAQpxC,EAAK1E,KAA4B,IAArB81C,EAAQpxC,EAAK1E,KACpCi2C,EAAavxC,GAIjB,OAAOsxC,GAEM,SAASO,EAAuBvD,EAAWxuC,GACxD,OAAIA,EAAiBmxC,EAA8B3C,GA3Id,SAAmCA,GAiCxE,IAhCA,IAAI/nD,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7Bi8B,EAAgB,GAChB3mB,EAAU,GACVumB,EAAY,GAEZK,EAAe,SAASA,EAAavxC,GACvCkxC,EAAUjhE,KAAK+vB,GACf2qB,EAAQ3qB,EAAK1E,KAAM,EAiBnB,IAhBA,IAAIk2C,EAAYtxB,EAAalgB,EAAK1E,GAAID,GAElC+wB,EAAU,SAAiB7+C,GAC7B,IAAIukE,EAAWN,EAAUjkE,GAEzB,IAAKo9C,EAAQmnB,GAAW,CACtB,IAAI/pC,EAAa3M,EAAMvrB,QAAO,SAAUmwB,GACtC,OAAOA,EAAK1E,KAAOw2C,KAGjB/pC,EAAWt4B,OAAS,GACtB8hE,EAAaxpC,EAAW,MAKrBx6B,EAAI,EAAGA,EAAIikE,EAAU/hE,SAAUlC,EACtC6+C,EAAQ7+C,IAIHA,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACrC,IAAIyyB,EAAO5E,EAAM7tB,GAEjB,IAAKo9C,EAAQ3qB,EAAK1E,IAAK,CAErBi2C,EAAavxC,GAGb,IAFA,IAAI0xC,EAAY,GAETR,EAAUzhE,OAAS,GACxBiiE,EAAUzhE,KAAKihE,EAAUzuD,OAG3B6uD,EAAcrhE,KAAKyhE,IAIvB,OAAOJ,EA2FAS,CAA0BzD,GClJnC,IAAI31D,EAAS,SAAgB21D,GAC3B,IAAIttC,EAAU,GACVza,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAcjC,OAbAja,EAAMxd,SAAQ,SAAUoiB,GACtBgB,EAAQhB,EAAK1E,IAAM,CACjB3iB,OAAQ,EACRiiD,SAAU,EACVC,UAAW,MAGfx/B,EAAMzd,SAAQ,SAAUiwB,GACtB7M,EAAQ6M,EAAK3S,QAAQviB,SACrBqoB,EAAQ6M,EAAK3S,QAAQ2/B,YACrB75B,EAAQ6M,EAAK1S,QAAQxiB,SACrBqoB,EAAQ6M,EAAK1S,QAAQy/B,cAEhB55B,GAGMroB,IAOJq5D,EAAc,SAAqB1D,EAAWwB,GAGvD,OAFiBn3D,EAAO21D,GAETwB,GACNn3D,EAAO21D,GAAWwB,GAAQlV,SAG5B,GAQEqX,EAAe,SAAsB3D,EAAWwB,GAGzD,OAFiBn3D,EAAO21D,GAETwB,GACNn3D,EAAO21D,GAAWwB,GAAQjV,UAG5B,GCgBM,SAASqX,EAAiB5D,EAAW8B,EAAaE,IA7BjE,SAAS6B,EAA0B7D,EAAWU,EAAagC,EAAcV,GACvEA,EAAUM,MAAM,CACd/hC,QAASmgC,EACTx7D,SAAUw9D,IAEZ,IAAIzqD,EAAK+nD,EAAUjzC,MAEnB6kB,EAAa8uB,OADM,IAAPzoD,EAAgB,GAAKA,EACA,UAAU3I,SAAQ,SAAU2xD,GACvDe,EAAUK,eAAe,CAC3Bn9D,SAAUw9D,EACVniC,QAASmgC,EACTvtD,KAAM8tD,KAEN4C,EAA0B7D,EAAWiB,EAAUP,EAAasB,MAGhEA,EAAUO,MAAM,CACdhiC,QAASmgC,EACTx7D,SAAUw9D,IAYZmB,CAA0B7D,EAAW8B,EAAa,GAlEpD,SAAuBE,QACH,IAAdA,IACFA,EAAY,IAGd,IAKMC,EALFC,EAAoBF,EAEpBG,EAAe,aAEfC,GACEH,EAAO,GACJ,SAAUhqD,GACf,IAAI9E,EAAO8E,EAAG9E,KAEd,OAAK8uD,EAAK9uD,KACR8uD,EAAK9uD,IAAQ,GACN,KAUb,OAHA+uD,EAAkBG,eAAiBL,EAAUK,gBAAkBD,EAC/DF,EAAkBI,MAAQN,EAAUM,OAASH,EAC7CD,EAAkBK,MAAQP,EAAUO,OAASJ,EACtCD,EAwC+CM,CAAcR,IChEtE,IA8EW8B,EAA2B,SAAkC9D,EAAW7gC,EAAS4kC,GAC1F,IAAI9rD,EAAI8uB,OAEQ,IAAZg9B,IACFA,GAAU,GAMZ,IAHA,IAAIC,EAAY,GAGP9tC,EAAK,EAAG+tC,EAFAV,EAAuBvD,GAAW,GAEP9pC,EAAK+tC,EAAa9iE,OAAQ+0B,IAAM,CAC1E,IAAIktC,EAAYa,EAAa/tC,GAC7B,GAAKktC,EAAUjiE,OAOf,IANA,IAAI5C,EAAO6kE,EAAU,GACjBc,EAAS3lE,EAAKyuB,GACdq5B,EAAQ,CAAC9nD,GACTk+B,IAAYxkB,EAAK,IAAOisD,GAAU3lE,EAAM0Z,GACxCksD,IAAQp9B,EAAK,IAAOm9B,GAAU,IAAIE,IAAOr9B,GAEtCsf,EAAMllD,OAAS,GAuEpB,IAtEA,IAAIkjE,EAAUhe,EAAMlyC,MAChBmwD,EAAYD,EAAQr3C,GACpBk2C,EAAYtxB,EAAa0yB,EAAWtE,EAAUjzC,OAE9C+wB,EAAU,SAAiB7+C,GAC7B,IAAI8pC,EAEAw7B,EAAarB,EAAUjkE,GACvBukE,EAAWxD,EAAUlzC,MAAM3pB,MAAK,SAAUuuB,GAC5C,OAAOA,EAAK1E,KAAOu3C,KAGrB,GAAIA,IAAeD,EAEjBN,EAAUriE,OAAMonC,EAAK,IAAOw7B,GAAcF,EAASt7B,SAC9C,GAAMw7B,KAAcJ,GAKpB,IAAKA,EAAKG,GAAWp+D,IAAIs9D,GAAW,CAMzC,IAJA,IAAIgB,GAAa,EACbC,EAAY,CAACjB,EAAUa,GACvBtjE,EAAI07B,EAAS6nC,GAEVH,EAAKI,GAAYx1D,OAASo1D,EAAKI,GAAYr+D,IAAInF,KACpD0jE,EAAU9iE,KAAKZ,GACXA,IAAM07B,EAAS17B,EAAEisB,MAAgBjsB,EAAI07B,EAAS17B,EAAEisB,IAwBtD,GArBAy3C,EAAU9iE,KAAKZ,GAEXo+B,GAAW4kC,GAEbS,GAAa,EAETC,EAAUlhE,WAAU,SAAUmuB,GAChC,OAAOyN,EAAQ79B,QAAQowB,EAAK1E,KAAO,MAC/B,IACJw3C,GAAa,IAENrlC,IAAY4kC,GAEjBU,EAAUlhE,WAAU,SAAUmuB,GAChC,OAAOyN,EAAQ79B,QAAQowB,EAAK1E,KAAO,MAC/B,IACJw3C,GAAa,GAKbA,EAAY,CAGd,IAFA,IAAIE,EAAQ,GAEHhjE,EAAQ,EAAGA,EAAQ+iE,EAAUtjE,OAAQO,GAAS,EACrDgjE,EAAMD,EAAU/iE,EAAQ,GAAGsrB,IAAMy3C,EAAU/iE,GAGzC+iE,EAAUtjE,SACZujE,EAAMD,EAAUA,EAAUtjE,OAAS,GAAG6rB,IAAMy3C,EAAU,IAGxDT,EAAUriE,KAAK+iE,GAGjBP,EAAKI,GAAY3rB,IAAIyrB,SAjDrB5nC,EAAS8nC,GAAcF,EACvBhe,EAAM1kD,KAAK6hE,GACXW,EAAKI,GAAc,IAAIH,IAAI,CAACC,KAmDvBplE,EAAI,EAAGA,EAAIikE,EAAU/hE,OAAQlC,GAAK,EACzC6+C,EAAQ7+C,GAKd,OAAO+kE,GAYEW,EAAyB,SAAgC3E,EAAW7gC,EAAS4kC,QACtE,IAAZA,IACFA,GAAU,GA8EZ,IA3EA,IAAIt0D,EAAO,GAEPm1D,EAAU,IAAIR,IACd5sC,EAAI,GAEJwsC,EAAY,GACZa,EAAW,GACXC,EAAW,GAkBXC,EAAU,SAASA,EAAQrzC,EAAMqnC,EAAOiM,GAC1C,IAAIC,GAAS,EAEb,GAAI9lC,IAAuB,IAAZ4kC,GAAqB5kC,EAAQ79B,QAAQowB,EAAK1E,KAAO,EAAG,OAAOi4C,EAC1Ex1D,EAAK9N,KAAK+vB,GACVkzC,EAAQhsB,IAAIlnB,GAGZ,IAFA,IAAIwxC,EAAY8B,EAAQtzC,EAAK1E,IAEpB/tB,EAAI,EAAGA,EAAIikE,EAAU/hE,OAAQlC,GAAK,EAAG,CAG5C,IAFIukE,EAAWqB,EAAS3B,EAAUjkE,OAEjB85D,EAAO,CAGtB,IAFA,IAAI2L,EAAQ,GAEHhjE,EAAQ,EAAGA,EAAQ+N,EAAKtO,OAAQO,GAAS,EAChDgjE,EAAMj1D,EAAK/N,EAAQ,GAAGsrB,IAAMvd,EAAK/N,GAG/B+N,EAAKtO,SACPujE,EAAMj1D,EAAKA,EAAKtO,OAAS,GAAG6rB,IAAMvd,EAAK,IAGzCu0D,EAAUriE,KAAK+iE,GACfO,GAAS,OACCL,EAAQ1+D,IAAIs9D,IAClBuB,EAAQvB,EAAUzK,EAAOiM,KAC3BC,GAAS,GAKf,GAAIA,GA/CQ,SAAiBC,GAG7B,IAFA,IAAI7e,EAAQ,CAAC6e,GAEN7e,EAAMllD,OAAS,GAAG,CACvB,IAAIuwB,EAAO20B,EAAMlyC,MAEbywD,EAAQ1+D,IAAIwrB,KACdkzC,EAAQpE,OAAO9uC,GACf8F,EAAE9F,EAAK1E,IAAI1d,SAAQ,SAAU5O,GAC3B2lD,EAAM1kD,KAAKjB,MAEb82B,EAAE9F,EAAK1E,IAAI0f,UAqCby4B,CAAQzzC,QAER,IAASzyB,EAAI,EAAGA,EAAIikE,EAAU/hE,OAAQlC,GAAK,EAAG,CAC5C,IAAIukE,EAAWqB,EAAS3B,EAAUjkE,IAE7Bu4B,EAAEgsC,EAASx2C,IAAI9mB,IAAIwrB,IACtB8F,EAAEgsC,EAASx2C,IAAI4rB,IAAIlnB,GAMzB,OADAjiB,EAAK0E,MACE8wD,GAGLhtD,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAExBhZ,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,GAAK,EAAG,CACxC,IAAIyyB,EAAO5E,EAAM7tB,GACbuiE,EAAS9vC,EAAK1E,GAClB83C,EAAStD,GAAUviE,EACnB4lE,EAAS5lE,GAAKyyB,EAIhB,GAAIyN,GAAW4kC,EACb,KAAItT,EAAU,SAAiBxxD,GAC7B,IAAIuiE,EAASriC,EAAQlgC,GACrB6lE,EAASh4C,EAAM7tB,GAAG+tB,IAAM83C,EAAStD,GACjCsD,EAAStD,GAAU,EACnBqD,EAAS,GAAK/3C,EAAM3pB,MAAK,SAAUuuB,GACjC,OAAOA,EAAK1E,KAAOw0C,KAErBqD,EAASC,EAASh4C,EAAM7tB,GAAG+tB,KAAOF,EAAM7tB,IAG1C,IAASA,EAAI,EAAGA,EAAIkgC,EAAQh+B,OAAQlC,IAClCwxD,EAAQxxD,GAuDZ,IAlDA,IAAImmE,EAAqB,SAA4BC,GAMnD,IALA,IAAIptD,EAEAqtD,EACAC,EAAS57D,IAEJ1K,EAAI,EAAGA,EAAIomE,EAAWlkE,OAAQlC,GAAK,EAG1C,IAFA,IAAIumE,EAAOH,EAAWpmE,GAEbuH,EAAI,EAAGA,EAAIg/D,EAAKrkE,OAAQqF,IAAK,CACpC,IAAIi/D,EAAYX,EAASU,EAAKh/D,GAAGwmB,IAE7By4C,EAAYF,IACdA,EAASE,EACTH,EAAarmE,GAKnB,IAAImkE,EAAYiC,EAAWC,GACvBN,EAAU,GAEd,IAAS/lE,EAAI,EAAGA,EAAImkE,EAAUjiE,OAAQlC,GAAK,EAAG,CAC5C,IAAIyyB,EAAO0xC,EAAUnkE,GACrB+lE,EAAQtzC,EAAK1E,IAAM,GAEnB,IAAK,IAAIkJ,EAAK,EAAG6Q,EAAK6K,EAAalgB,EAAK1E,GAAIgzC,EAAUjzC,MAAO,UAAUxrB,QAAO,SAAUb,GACtF,OAAO0iE,EAAUh0D,KAAI,SAAU9P,GAC7B,OAAOA,EAAE0tB,MACR1rB,QAAQZ,IAAM,KACfw1B,EAAK6Q,EAAG5lC,OAAQ+0B,IAAM,CACxB,IAAIstC,EAAWz8B,EAAG7Q,GAEdstC,IAAa9xC,EAAK1E,KAAoB,IAAZ+2C,GAAqB5kC,EAAQ79B,QAAQowB,EAAK1E,KAAO,EAG7Eg4C,EAAQtzC,EAAK1E,IAAIrrB,KAAKmjE,EAAStB,IAF/BQ,EAAUriE,OAAMsW,EAAK,IAAOyZ,EAAK1E,IAAM0E,EAAMzZ,KAOnD,MAAO,CACLmrD,UAAWA,EACX4B,QAASA,EACTO,OAAQA,IAIRG,EAAU,EAEPA,EAAU54C,EAAM3rB,QAAQ,CAC7B,IAAIwkE,EAAgB74C,EAAMvrB,QAAO,SAAUb,GACzC,OAAOokE,EAASpkE,EAAEssB,KAAO04C,KAEvBE,EAAOjD,EAA8B,CACvC71C,MAAO64C,EACP54C,MAAOizC,EAAUjzC,QAChBxrB,QAAO,SAAU6hE,GAClB,OAAOA,EAAUjiE,OAAS,KAE5B,GAAoB,IAAhBykE,EAAKzkE,OAAc,MACvB,IAAI0kE,EAAMT,EAAmBQ,GACzBL,EAASM,EAAIN,OACbP,EAAUa,EAAIb,QACd5B,EAAYyC,EAAIzC,UAEpB,KAAIA,EAAUjiE,OAAS,GAUrB,MATAiiE,EAAU9zD,SAAQ,SAAUoiB,GAC1B8F,EAAE9F,EAAK1E,IAAM,IAAIo3C,OAEnB,IAAI0B,EAAYjB,EAASU,GAEzB,GAAIpmC,GAAW4kC,IAA8C,IAAnC5kC,EAAQ79B,QAAQwkE,EAAU94C,IAAY,OAAOg3C,EACvEe,EAAQe,EAAWA,EAAWd,GAC9BU,EAAUH,EAAS,EAMvB,OAAOvB,GAWE+B,EAAkB,SAAyB/F,EAAWxuC,EAAU2N,EAAS4kC,GAKlF,YAJgB,IAAZA,IACFA,GAAU,GAGRvyC,EAAiBmzC,EAAuB3E,EAAW7gC,EAAS4kC,GACzDD,EAAyB9D,EAAW7gC,EAAS4kC,IAEvCiC,EAtYW,SAA6BhG,GACrD,IAAI0E,EAAQ,KACRzsD,EAAK+nD,EAAUlzC,MAEfm5C,EAAe,GAEfC,EAAe,GAEfC,EAAc,GAEdC,EAAa,SAPE,IAAPnuD,EAAgB,GAAKA,GAS3B3I,SAAQ,SAAUoiB,GACtBw0C,EAAax0C,EAAK1E,IAAM0E,KA+C1B,IA7CA,IAAIswC,EAAY,CACdM,MAAO,SAAerqD,GACpB,IAAIyoD,EAAczoD,EAAGsoB,QACjBmiC,EAAezqD,EAAG/S,SAEtB,GAAIihE,EAAYzF,GAAc,CAE5BgE,EAAQ,GAIR,IAHA,IAAI2B,EAAmB3F,EACnB4F,EAAoB5D,EAEjB4D,IAAsB5F,GAC3BgE,EAAM2B,GAAoBC,EAC1BD,EAAmBC,EACnBA,EAAoBL,EAAaK,GAGnC5B,EAAM2B,GAAoBC,OAG1BH,EAAYzF,GAAeA,SACpBwF,EAAaxF,GAEpBuF,EAAavF,GAAegC,GAGhCH,MAAO,SAAetqD,GACpB,IAAIyoD,EAAczoD,EAAGsoB,QAGrB6lC,EAAW1F,GAAeA,SACnByF,EAAYzF,IAErB2B,eAAgB,SAAwBpqD,GACtC,IAAIgpD,EAAWhpD,EAAG9E,KAElB,OAAIuxD,IAKI0B,EAAWnF,KAIhBthE,OAAO8C,KAAKyjE,GAAc/kE,QAAQ,CAGvColE,EAAIvG,EADqBrgE,OAAO8C,KAAKyjE,GAAc,GAChBlE,GAGrC,OAAO0C,G,cCqBM8B,EAtEA,SAAkBxG,EAAWpzC,EAAQ4E,EAAUi1C,GAC5D,IAAIxuD,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7B5H,EAAU,GACVunC,EAAQ,GACRhvC,EAAI,GACJivC,EAAQ,GAEZ75C,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5B,IAAI+tB,EAAK0E,EAAK1E,GACdmS,EAAQx9B,KAAKqrB,GACb0K,EAAE1K,GAAMrjB,IACJqjB,IAAOJ,IAAQ8K,EAAE1K,GAAM,MA4B7B,IA1BA,IAAI45C,EAAU95C,EAAM3rB,OAEhB28C,EAAU,SAAiB7+C,GAE7B,IAAI4nE,EArCQ,SAAmBnvC,EAAG5K,EAAO45C,GAK3C,IAHA,IACIG,EADAC,EAASn9D,IAGJ1K,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACrC,IAAIuiE,EAAS10C,EAAM7tB,GAAG+tB,IAEjB05C,EAAMlF,IAAW9pC,EAAE8pC,IAAWsF,IACjCA,EAASpvC,EAAE8pC,GACXqF,EAAU/5C,EAAM7tB,IAIpB,OAAO4nE,EAuBSE,CAAUrvC,EAAG5K,EAAO45C,GAC9BM,EAAYH,EAAQ75C,GAExB,GADA05C,EAAMM,IAAa,EACftvC,EAAEsvC,KAAer9D,IAAU,MAAO,YAGlC6nB,ENGuB,SAA2BgwC,EAAQz0C,GAChE,OAAOA,EAAMxrB,QAAO,SAAUg+B,GAC5B,OAAOA,EAAK3S,SAAW40C,KMLMyF,CAAkBD,EAAWj6C,GAA2B20C,EAAiBsF,EAAWj6C,IACpGzd,SAAQ,SAAUiwB,GAC7B,IAAI2nC,EAAa3nC,EAAK1S,OAClBs6C,EAAa5nC,EAAK3S,OAClB+L,EAAIuuC,IAAeF,EAAYG,EAAaD,EAC5CE,EAASX,GAAsBlnC,EAAKknC,GAAsBlnC,EAAKknC,GAAsB,EAErF/uC,EAAEiB,GAAKjB,EAAEmvC,EAAQ75C,IAAMo6C,GACzB1vC,EAAEiB,GAAKjB,EAAEmvC,EAAQ75C,IAAMo6C,EACvBT,EAAMhuC,GAAK,CAACkuC,EAAQ75C,KACX0K,EAAEiB,KAAOjB,EAAEmvC,EAAQ75C,IAAMo6C,GAClCT,EAAMhuC,GAAGh3B,KAAKklE,EAAQ75C,QAKnB/tB,EAAI,EAAGA,EAAI2nE,EAAS3nE,IAC3B6+C,IAGF6oB,EAAM/5C,GAAU,CAACA,GAEjB,IAAIy6C,EAAQ,GAEZ,IAAK,IAAIx6C,KAAU6K,EACbA,EAAE7K,KAAYljB,KAChB29D,EAAa16C,EAAQC,EAAQ85C,EAAOU,GAKxC,IAAI53D,EAAO,GAEX,IAAK,IAAIod,KAAUw6C,EACjB53D,EAAKod,GAAUw6C,EAAMx6C,GAAQ,GAG/B,MAAO,CACL1rB,OAAQu2B,EACRjoB,KAAMA,EACN83D,QAASF,IAMb,SAASC,EAAa16C,EAAQC,EAAQ85C,EAAOa,GAC3C,GAAI56C,IAAWC,EACb,MAAO,CAACD,GAGV,GAAI46C,EAAW36C,GACb,OAAO26C,EAAW36C,GAKpB,IAFA,IAAIw6C,EAAQ,GAEHnxC,EAAK,EAAGje,EAAK0uD,EAAM95C,GAASqJ,EAAKje,EAAG9W,OAAQ+0B,IAAM,CACzD,IACIuxC,EAAYH,EAAa16C,EADlB3U,EAAGie,GAC6BywC,EAAOa,GAClD,IAAKC,EAAW,OAEhB,IAAK,IAAI1gC,EAAK,EAAG2gC,EAAcD,EAAW1gC,EAAK2gC,EAAYvmE,OAAQ4lC,IAAM,CACvE,IAAI4gC,EAAUD,EAAY3gC,GACtB5kC,kBAAQwlE,GAAUN,EAAM1lE,KAAK4S,YAAcA,YAAc,GAAIozD,GAAS,GAAO,CAAC96C,IAAS,IAAaw6C,EAAM1lE,KAAK,CAACgmE,EAAS96C,KAKjI,OADA26C,EAAW36C,GAAUw6C,EACdG,EAAW36C,GClHb,ICFI+6C,EDEAC,EAAmB,SAA0B7H,EAAWjH,EAAO+O,EAAKt2C,EAAUi1C,GACvF,IAAIxuD,EAAKuuD,EAASxG,EAAWjH,EAAOvnC,EAAUi1C,GAC1CtlE,EAAS8W,EAAG9W,OACZsO,EAAOwI,EAAGxI,KACV83D,EAAUtvD,EAAGsvD,QAEjB,MAAO,CACLpmE,OAAQA,EAAO2mE,GACfr4D,KAAMA,EAAKq4D,GACXP,QAASA,EAAQO,KAGVC,EAAc,SAAqB/H,EAAWjH,EAAO+O,EAAKt2C,GACnE,IAAIvZ,EAEJ,GAAI8gD,IAAU+O,EAAK,MAAO,CAAC,CAAC/O,IAC5B,IAAIhyB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7BsV,EAAU,CAAC0c,GACXiP,IAAa/vD,EAAK,IAAO8gD,IAAS,EAAM9gD,GACxCouC,EAAQ,GAERkhB,EAAU,GACVrE,EAAY1xC,EAAWogB,EAAamnB,EAAOhsC,EAAO,UAAY6kB,EAAamnB,EAAOhsC,GAGtF,IAFAs5B,EAAM1kD,KAAKuhE,GAEJ7mB,EAAQl7C,OAAS,GAAKklD,EAAMllD,OAAS,GAAG,CAC7C,IAAI8rB,EAAWo5B,EAAMA,EAAMllD,OAAS,GAEpC,GAAI8rB,EAAS9rB,OAAb,CACE,IAAI+7B,EAAQjQ,EAASkvC,QAiBvB,GAfMj/B,IACFmf,EAAQ16C,KAAKu7B,GACb8qC,EAAU9qC,IAAS,EACnBgmC,EAAY1xC,EAAWogB,EAAa1U,EAAOnQ,EAAO,UAAY6kB,EAAa1U,EAAOnQ,GAClFs5B,EAAM1kD,KAAKuhE,EAAU3hE,QAAO,SAAUiiE,GACpC,OAAQwE,EAAUxE,QAUpBnnB,EAAQA,EAAQl7C,OAAS,KAAO2mE,EAAK,CACvC,IAAIr4D,EAAO4sC,EAAQjtC,KAAI,SAAUsiB,GAC/B,OAAOA,KAET61C,EAAQ5lE,KAAK8N,GACTiiB,EAAO2qB,EAAQloC,MACnB6zD,EAAUt2C,IAAQ,EAClB20B,EAAMlyC,WAzBR,CAYE,IAAIud,EAAO2qB,EAAQloC,MACnB6zD,EAAUt2C,IAAQ,EAClB20B,EAAMlyC,OAeV,OAAOozD,GEzBM76C,EAjCK,SAAuBszC,EAAWxuC,GAKpD,IAJA,IAAIy2C,EAAiBx7C,EAAauzC,EAAWxuC,GACzCzkB,EAAO,GACPgC,EAAOk5D,EAAe9mE,OAEjBlC,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAAG,CAChC8N,EAAK9N,GAAK,GAEV,IAAK,IAAIuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBvH,IAAMuH,EACRuG,EAAK9N,GAAGuH,GAAK,EACqB,IAAzByhE,EAAehpE,GAAGuH,IAAayhE,EAAehpE,GAAGuH,GAG1DuG,EAAK9N,GAAGuH,GAAKyhE,EAAehpE,GAAGuH,GAF/BuG,EAAK9N,GAAGuH,GAAKmD,IAQnB,IAAK,IAAInH,EAAI,EAAGA,EAAIuM,EAAMvM,GAAK,EAC7B,IAASvD,EAAI,EAAGA,EAAI8P,EAAM9P,GAAK,EAC7B,IAASuH,EAAI,EAAGA,EAAIuI,EAAMvI,GAAK,EACzBuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,KACpCuG,EAAK9N,GAAGuH,GAAKuG,EAAK9N,GAAGuD,GAAKuK,EAAKvK,GAAGgE,IAM1C,OAAOuG,GCkIMm7D,EAxJQ,SAA0BlI,EAAWxuC,EAAUi1C,EAAoB0B,QACvE,IAAb32C,IACFA,GAAW,QAGc,IAAvBi1C,IACFA,EAAqB,eAGF,IAAjB0B,IACFA,EAAe,KAIjB,IAAIlwD,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7BqhC,EAAW,GACX32C,EAAU,GAEd3E,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5B,IAAIopE,EAAM7mC,IACV9P,EAAK42C,UAAYD,EACjBD,EAASC,GAAO,CACdr7C,GAAIq7C,EACJv7C,MAAO,CAAC4E,IAEVD,EAAQC,EAAK1E,IAAM,CACjB0E,KAAMA,EACNhiB,IAAKzQ,MAIT,IAAIsyB,EAAY9E,EAAauzC,EAAWxuC,GAEpC+2C,EAAK,GASLrF,EAAY,GAChB3xC,EAAUjiB,SAAQ,SAAUhI,EAAKrI,GAC/B,IAAIuD,EAAI,EACJgmE,EAAM17C,EAAM7tB,GAAG+tB,GACnBk2C,EAAUsF,GAAO,GACjBlhE,EAAIgI,SAAQ,SAAUm5D,EAAOjiE,GAC3B,GAAKiiE,EAAL,CACAjmE,GAAKimE,EACL,IAAIC,EAAM57C,EAAMtmB,GAAGwmB,GACnBk2C,EAAUsF,GAAKE,GAAOD,MAExBF,EAAG5mE,KAAKa,MA+CV,IA7CA,IAAImmE,EAAO,EAEP7qB,EAAU,WACZ,IAAImM,GAAU,EAsCd,GArCAn9B,EAAMxd,SAAQ,SAAUoiB,GACtB,IAAIk3C,EAAmB,GACvBjpE,OAAO8C,KAAKygE,EAAUxxC,EAAK1E,KAAK1d,SAAQ,SAAUi1D,GAChD,IAAIsE,EAAiB3F,EAAUxxC,EAAK1E,IAAIu3C,GAEpCuE,EADer3C,EAAQ8yC,GAAY7yC,KACF42C,UAChCM,EAAiBE,KAAoBF,EAAiBE,GAAqB,GAChFF,EAAiBE,IAAsBD,KAGzC,IAAIE,GAAap/D,IACbq/D,EAAiB,GASrB,GARArpE,OAAO8C,KAAKmmE,GAAkBt5D,SAAQ,SAAUg5D,GAC1CS,EAAYH,EAAiBN,IAC/BS,EAAYH,EAAiBN,GAC7BU,EAAiB,CAACV,IACTS,IAAcH,EAAiBN,IACxCU,EAAernE,KAAK2mE,MAGM,IAA1BU,EAAe7nE,QAAgB6nE,EAAe,KAAOt3C,EAAK42C,UAA9D,CACA,IAAIW,EAAiBD,EAAe1nE,QAAQowB,EAAK42C,WAGjD,GAFIW,GAAkB,GAAGD,EAAenkE,OAAOokE,EAAgB,GAE3DD,GAAkBA,EAAe7nE,OAAQ,CAC3C8oD,GAAU,EAEV,IAAIif,EAAcd,EAAS12C,EAAK42C,WAC5Ba,EAAuBD,EAAYp8C,MAAMxrB,QAAQowB,GACrDw3C,EAAYp8C,MAAMjoB,OAAOskE,EAAsB,GAE/C,IAAIC,EAAYllE,KAAKqS,MAAMrS,KAAKu9B,SAAWunC,EAAe7nE,QACtDkoE,EAAcjB,EAASY,EAAeI,IAC1CC,EAAYv8C,MAAMnrB,KAAK+vB,GACvBA,EAAK42C,UAAYe,EAAYr8C,SAG5Bi9B,EAAS,MAAO,QACrB0e,KAGKA,EAAOR,GAAc,CAG1B,GAAgB,UAFFrqB,IAEW,MAI3Bn+C,OAAO8C,KAAK2lE,GAAU94D,SAAQ,SAAUg5D,GACtC,IAAIgB,EAAUlB,EAASE,GAElBgB,EAAQx8C,OAAUw8C,EAAQx8C,MAAM3rB,eAC5BinE,EAASE,MAIpB,IAAIiB,EAAe,GACfC,EAAiB,GACrBz8C,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAI3S,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACdu6C,EAAS7nC,EAAKknC,IAAuB,EACrCgD,EAAkBh4C,EAAQ7E,GAAQ8E,KAAK42C,UACvCoB,EAAkBj4C,EAAQ5E,GAAQ6E,KAAK42C,UACvCqB,EAAY,GAAG9lE,OAAO4lE,EAAiB,OAAO5lE,OAAO6lE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWvC,QAAUA,EACpCoC,EAAeG,GAAWnxD,YACrB,CACL,IAAIoxD,EAAU,CACZh9C,OAAQ68C,EACR58C,OAAQ68C,EACRtC,OAAQA,EACR5uD,MAAO,GAETgxD,EAAeG,GAAaC,EAC5BL,EAAa5nE,KAAKioE,OAGtB,IAAIC,EAAgB,GAIpB,OAHAlqE,OAAO8C,KAAK2lE,GAAU94D,SAAQ,SAAUg5D,GACtCuB,EAAcloE,KAAKymE,EAASE,OAEvB,CACLF,SAAUyB,EACVN,aAAcA,ICmDHO,EA1Mf,WACE,SAASA,EAAOzoE,GACdxC,KAAKwC,IAAMA,EAqMb,OAlMAyoE,EAAOjpE,UAAUkpE,OAAS,WACxB,OAAOlrE,KAAKwC,KAAO,IAGrByoE,EAAOjpE,UAAU+3C,IAAM,SAAUoxB,GAC/B,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,IAAI2oE,EAAOG,GAGpB,KAAMA,aAA2C,EAASA,EAAS9oE,QACjE,OAAO,IAAI2oE,EAAOjrE,KAAKwC,KAGzB,GAAIxC,KAAKwC,IAAIF,SAAW8oE,EAAS9oE,OAAQ,CACvC,IAAIg2C,EAAM,GAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,EAAIz1C,GAAS7C,KAAKwC,IAAIK,GAASuoE,EAASvoE,GAG1C,OAAO,IAAIooE,EAAO3yB,KAItB2yB,EAAOjpE,UAAUqpE,SAAW,SAAUF,GACpC,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,IAAI2oE,EAAOG,GAGpB,KAAMA,aAA2C,EAASA,EAAS9oE,QACjE,OAAO,IAAI2oE,EAAOjrE,KAAKwC,KAGzB,GAAIxC,KAAKwC,IAAIF,SAAW8oE,EAAS9oE,OAAQ,CACvC,IAAIg2C,EAAM,GAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,EAAIz1C,GAAS7C,KAAKwC,IAAIK,GAASuoE,EAASvoE,GAG1C,OAAO,IAAIooE,EAAO3yB,KAItB2yB,EAAOjpE,UAAUspE,IAAM,SAAUhpE,GAC/B,IAAIg2C,EAAM,GAEV,GAAe,IAAXh2C,EACF,IAAK,IAAIO,KAAS7C,KAAKwC,IACrB81C,EAAIz1C,GAAS7C,KAAKwC,IAAIK,GAASP,EAInC,OAAO,IAAI2oE,EAAO3yB,IAGpB2yB,EAAOjpE,UAAUupE,OAAS,WACxB,IAAIjzB,EAAM,GAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,EAAIz1C,IAAU7C,KAAKwC,IAAIK,GAGzB,OAAO,IAAIooE,EAAO3yB,IAIpB2yB,EAAOjpE,UAAUwpE,wBAA0B,SAAUL,GACnD,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAa8oE,aAA2C,EAASA,EAAS9oE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAW8oE,EAAS9oE,OAAQ,CACvC,IAAIg2C,EAAM,EAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,GAAOjzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAASsoE,EAAY3oE,IAAIK,GAAQ,GAG5D,OAAOy1C,IAKX2yB,EAAOjpE,UAAUypE,kBAAoB,SAAUN,GAC7C,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAa8oE,aAA2C,EAASA,EAAS9oE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAW8oE,EAAS9oE,OAAQ,CACvC,IAAIg2C,EAAM,EAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,GAAOjzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAASsoE,EAAY3oE,IAAIK,GAAQ,GAG5D,OAAOwC,KAAKuS,KAAK0gC,GAEjBh+B,QAAQ2lB,MAAM,2CAKlBgrC,EAAOjpE,UAAUs2B,UAAY,WAC3B,IAAIggB,EAAM,GACNozB,EAAWj9D,gBAAMzO,KAAKwC,KAC1BkpE,EAAS1kE,MAAK,SAAUvC,EAAGmC,GACzB,OAAOnC,EAAImC,KAEb,IAAItB,EAAMomE,EAASA,EAASppE,OAAS,GACjCiD,EAAMmmE,EAAS,GAEnB,IAAK,IAAI7oE,KAAS7C,KAAKwC,IACrB81C,EAAIz1C,IAAU7C,KAAKwC,IAAIK,GAAS0C,IAAQD,EAAMC,GAGhD,OAAO,IAAI0lE,EAAO3yB,IAIpB2yB,EAAOjpE,UAAU2pE,MAAQ,WACvB,IAAIvyD,EAEJ,KAA0B,QAAnBA,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,QAC5D,OAAO,EAGT,IAAIg2C,EAAM,EAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,GAAOjzC,KAAKkS,IAAIvX,KAAKwC,IAAIK,GAAQ,GAGnC,OAAOwC,KAAKuS,KAAK0gC,IAInB2yB,EAAOjpE,UAAUu2B,IAAM,SAAU4yC,GAC/B,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,KAA0B,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAa8oE,aAA2C,EAASA,EAAS9oE,QACtI,OAAO,EAGT,GAAItC,KAAKwC,IAAIF,SAAW8oE,EAAS9oE,OAAQ,CACvC,IAAIg2C,EAAM,EAEV,IAAK,IAAIz1C,KAAS7C,KAAKwC,IACrB81C,GAAOt4C,KAAKwC,IAAIK,GAASsoE,EAAY3oE,IAAIK,GAG3C,OAAOy1C,EAEPh+B,QAAQ2lB,MAAM,2CAKlBgrC,EAAOjpE,UAAU4pE,MAAQ,SAAUT,GACjC,IAAI/xD,EAEAgyD,EAAWD,EAAY3oE,IAE3B,IAAyB,QAAnB4W,EAAKpZ,KAAKwC,WAAwB,IAAP4W,OAAgB,EAASA,EAAG9W,WAAa8oE,aAA2C,EAASA,EAAS9oE,QACrI,OAAO,EAGT,IAAK,IAAIO,KAAS7C,KAAKwC,IACrB,GAAIxC,KAAKwC,IAAIK,KAAWuoE,EAASvoE,GAC/B,OAAO,EAIX,OAAO,GAGFooE,EAvMT,GCiEWY,EAAmB,SAA0B59C,EAAOtsB,QACjD,IAARA,IACFA,OAAMsK,GAGR,IAAI6/D,EAAgB,GAUpB,OATA79C,EAAMxd,SAAQ,SAAUoiB,QACV5mB,IAARtK,GACFmqE,EAAchpE,KAAK+vB,QAGH5mB,IAAd4mB,EAAKlxB,IACPmqE,EAAchpE,KAAK+vB,EAAKlxB,OAGrBmqE,IJrFT,SAAW/C,GACTA,EAAY,kBAAwB,oBADtC,CAEGA,IAAiBA,EAAe,KKM5B,IAAIgD,EAAoB,SAA2BC,EAAUC,EAAcC,GAChF,IAAItoE,EAAO,IAEPqoE,aAAmD,EAASA,EAAa3pE,QAC3EsB,EAAOqoE,GAGPD,EAASv7D,SAAQ,SAAU5L,GACzBjB,EAAOA,EAAKoB,OAAOlE,OAAO8C,KAAKiB,OAEjCjB,EAAOqD,eAAKrD,IAId,IAAIuoE,EAAiB,GAarB,OAZAvoE,EAAK6M,SAAQ,SAAU9O,GACrB,IAAIN,EAAQ,GACZ2qE,EAASv7D,SAAQ,SAAU5L,QACPoH,IAAdpH,EAAKlD,IAAoC,KAAdkD,EAAKlD,IAClCN,EAAMyB,KAAK+B,EAAKlD,OAIhBN,EAAMiB,UAAY4pE,aAAuD,EAASA,EAAep7D,SAASnP,MAC5GwqE,EAAexqE,GAAOsF,eAAK5F,OAGxB8qE,GASEC,EAAS,SAAgBJ,EAAUC,EAAcC,GAE1D,IAAIC,EAAiBJ,EAAkBC,EAAUC,EAAcC,GAC3DG,EAAa,GAEjB,OAAKvrE,OAAO8C,KAAKuoE,GAAgB7pE,QAKjC0pE,EAASv7D,SAAQ,SAAU5L,EAAMhC,GAC/B,IAAIypE,EAAO,GAEX,GAA2C,IAAvCxrE,OAAO8C,KAAKuoE,GAAgB7pE,OAAc,CAE5C,IAAIX,EAAMb,OAAO8C,KAAKuoE,GAAgB,GACvBA,EAAexqE,GAEjBsG,OAAM,SAAU5G,GAC3B,OAAQsE,MAAM2E,OAAOjJ,SAErBirE,EAAO,CAACznE,EAAKlD,UAGfb,OAAO8C,KAAKuoE,GAAgB17D,SAAQ,SAAU9O,GAQ5C,IAPA,IAAI4qE,EAAW1nE,EAAKlD,GAChB6qE,EAAcL,EAAexqE,GAC7B8qE,EAAaD,EAAY9nE,WAAU,SAAUrD,GAC/C,OAAOkrE,IAAalrE,KAElBqrE,EAAU,GAELtsE,EAAI,EAAGA,EAAIosE,EAAYlqE,OAAQlC,IAClCA,IAAMqsE,EACRC,EAAQ5pE,KAAK,GAEb4pE,EAAQ5pE,KAAK,GAIjBwpE,EAAOA,EAAKtnE,OAAO0nE,MAIvBL,EAAWxpE,GAASypE,KAEfD,GAxCEA,GAkDAM,EAAc,SAAqBvlE,EAAMwlE,EAAWC,EAAc1L,QACtD,IAAjB0L,IACFA,EAAe9D,EAAa+D,mBAG9B,IAAI//C,EAAW,EAEf,OAAQ8/C,GACN,KAAK9D,EAAa+D,kBAChB//C,EAAW,IAAIk+C,EAAO7jE,GAAMqkE,kBAAkB,IAAIR,EAAO2B,IAO7D,OAAO7/C,GChHLggD,EAAgB,SAAuB9+C,EAAOyE,EAAWg3C,EAAIlpE,GAK/D,IAJA,IAAI8B,EAASowB,EAAUpwB,OACnB89B,EAAQ,EAAI5/B,EACZwsE,EAAa,EAER5sE,EAAI,EAAGA,EAAIkC,EAAQlC,IAG1B,IAFA,IAAI6sE,EAAWh/C,EAAM7tB,GAAGqpE,UAEf9hE,EAAI,EAAGA,EAAIrF,EAAQqF,IAAK,CAE/B,GAAIslE,IADWh/C,EAAMtmB,GAAG8hE,UAKxBuD,IAHYt6C,EAAUtyB,GAAGuH,IAAM,IACtB+hE,EAAGtpE,IAAM,IACTspE,EAAG/hE,IAAM,GACcy4B,EAKpC,OADA4sC,GAAc,EAAI5sC,GAKhB8sC,EAAwB,SAA+Bj/C,EAAOk/C,QAClD,IAAVl/C,IACFA,EAAQ,IAMV,IAHA,IAAI3rB,EAAS2rB,EAAM3rB,OACf8qE,EAAkB,IAAInC,EAAO,IAExB7qE,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1BgtE,EAAkBA,EAAgBrzB,IAAI,IAAIkxB,EAAOkC,EAAoB/sE,KAIvE,IAAIitE,EAAgBD,EAAgB9B,IAAIhpE,GACxC+qE,EAAc/0C,YAEd,IAAIg1C,EAAW,EAEf,IAASltE,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAG/BktE,IAFIC,EAAc,IAAItC,EAAOkC,EAAoB/sE,KACPorE,wBAAwB6B,GAKpE,IAAIG,EAA8B,GAClCv/C,EAAMxd,SAAQ,WACZ+8D,EAA4B1qE,KAAK,OAGnC,IAAS1C,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAImtE,EAAc,IAAItC,EAAOkC,EAAoB/sE,IACjD6tB,EAAM7tB,GAAN,gBAA8B,EAE9B,IAAK,IAAIuH,EAAI,EAAGA,EAAIrF,EAAQqF,IAC1B,GAAIvH,IAAMuH,EAAV,CAKA,IAAI8lE,EAAc,IAAIxC,EAAOkC,EAAoBxlE,IACjD6lE,EAA4BptE,GAAGuH,GAAK4lE,EAAY/B,wBAAwBiC,GACxEx/C,EAAM7tB,GAAN,iBAA+BotE,EAA4BptE,GAAGuH,QAN5D6lE,EAA4BptE,GAAGuH,GAAK,EAW1C,IAAI+lE,EAAqB,EACrBttC,EAAQ,EAAI99B,EAASgrE,EAEzB,IAASltE,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1B,KAAI6sE,EAAWh/C,EAAM7tB,GAAGqpE,UAExB,IAAS9hE,EAAI,EAAGA,EAAIrF,EAAQqF,IAAK,CAC/B,IAAIgmE,EAAW1/C,EAAMtmB,GAAG8hE,UACxB,GAAIrpE,IAAMuH,GAAKslE,IAAaU,EAE5BD,GADez/C,EAAM7tB,GAAGwtE,gBAAkB3/C,EAAMtmB,GAAGimE,gBAAkBvoE,KAAKkS,IAAI6oB,EAAO,GAAKotC,EAA4BptE,GAAGuH,GAAKy4B,GAKlI,OAAO91B,OAAOojE,EAAmBzjE,QAAQ,KAmW5B4jE,EAnVD,SAAiB1M,EAAWxuC,EAAUi1C,EAAoB1rB,EAAWwxB,EAAoBI,EAAa7B,EAAcC,EAAgB6B,QAC/H,IAAbp7C,IACFA,GAAW,QAGc,IAAvBi1C,IACFA,EAAqB,eAGL,IAAd1rB,IACFA,EAAY,WAGa,IAAvBwxB,IACFA,GAAqB,QAGH,IAAhBI,IACFA,OAAc7hE,QAGK,IAAjBggE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGG,IAAnB6B,IACFA,EAAiB,GAInB,IAAI30D,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7BilC,EAAsB,GAE1B,GAAIO,EAAoB,CACtBz/C,EAAMxd,SAAQ,SAAUoiB,EAAMhwB,GAC5BgwB,EAAKm7C,WAAan7C,EAAKm7C,YAAc,GACrCn7C,EAAKo7C,YAAcprE,KAErB,IAAIqrE,EAAiB,GAEjBjgD,EAAMhmB,OAAM,SAAU4qB,GACxB,OAAOA,EAAK5wB,eAAe,iBAE3BisE,EAAiB7qE,MAAMuS,KAAK,IAAI2vD,IAAIt3C,EAAM1d,KAAI,SAAUsiB,GACtD,OAAOA,EAAKs7C,cAEdlgD,EAAMxd,SAAQ,SAAUoiB,GACtBA,EAAKm7C,WAAWG,SAAWD,EAAexpE,WAAU,SAAUypE,GAC5D,OAAOA,IAAat7C,EAAKs7C,gBAM/B,IAAIH,EAAanC,EAAiB59C,EAAO6/C,GAEzCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,GAGzD,IAAIvpC,EAAW,EACX4mC,EAAW,GACX32C,EAAU,GAEd3E,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5B,IAAIopE,EAAMn2D,OAAOsvB,KACjB9P,EAAK42C,UAAYD,EACjBD,EAASC,GAAO,CACdr7C,GAAIq7C,EACJv7C,MAAO,CAAC4E,IAEVD,EAAQC,EAAK1E,IAAM,CACjB0E,KAAMA,EACNhiB,IAAKzQ,MAIT,IAAIsyB,EAAY9E,EAAauzC,EAAWxuC,GAEpC+2C,EAAK,GASLrF,EAAY,GAEZ7jE,EAAI,EACRkyB,EAAUjiB,SAAQ,SAAUhI,EAAKrI,GAC/B,IAAIuD,EAAI,EACJgmE,EAAM17C,EAAM7tB,GAAG+tB,GACnBk2C,EAAUsF,GAAO,GACjBlhE,EAAIgI,SAAQ,SAAUm5D,EAAOjiE,GAC3B,GAAKiiE,EAAL,CACAjmE,GAAKimE,EACL,IAAIC,EAAM57C,EAAMtmB,GAAGwmB,GACnBk2C,EAAUsF,GAAKE,GAAOD,EACtBppE,GAAKopE,MAEPF,EAAG5mE,KAAKa,MAEVnD,GAAK,EAOL,IANA,IAAI4tE,EAAkBtjE,IAClBujE,EAAqBvjE,IACrBg/D,EAAO,EACPwE,EAAa,GACbC,EAAgB,KAEP,CAITH,EAHEV,GAAsBz/C,EAAMhmB,OAAM,SAAU4qB,GAC9C,OAAOA,EAAK5wB,eAAe,iBAET8qE,EAAc9+C,EAAOyE,EAAWg3C,EAAIlpE,GAAK0sE,EAAsBj/C,EAAOk/C,GAAuBY,EAE7FhB,EAAc9+C,EAAOyE,EAAWg3C,EAAIlpE,GAI3C,IAATspE,IACFuE,EAAqBD,EACrBE,EAAargD,EACbsgD,EAAgBhF,GAGlB,IAAIiF,EAA0BJ,EAAkB,GAAKA,EAAkBC,GAAsBD,EAAkBC,EAAqBnyB,EAcpI,GAZIkyB,EAAkBC,IACpBC,EAAargD,EAAM1d,KAAI,SAAUsiB,GAC/B,MAAO,CACLA,KAAMA,EACN42C,UAAW52C,EAAK42C,cAGpB8E,EAAgB9/D,gBAAM86D,GACtB8E,EAAqBD,GAInBI,GAA2B1E,EAAO,IACpC,MAIFA,IAEAhpE,OAAO8C,KAAK2lE,GAAU94D,SAAQ,SAAUg5D,GAEtC,IAAIgF,EAAS,EACbvgD,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAI3S,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACd48C,EAAkBh4C,EAAQ7E,GAAQ8E,KAAK42C,UACvCoB,EAAkBj4C,EAAQ5E,GAAQ6E,KAAK42C,WAEvCmB,IAAoBnB,GAAaoB,IAAoBpB,GAAaoB,IAAoBpB,GAAamB,IAAoBnB,KACzHgF,GAAmB/tC,EAAKknC,IAAuB,MAGnD2B,EAASE,GAAWgF,OAASA,KAG/BxgD,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5B,IAEIoqE,EAFAH,EAAcd,EAAS12C,EAAK42C,WAC5BiF,EAAe,EAEfC,EAAcjF,EAAGtpE,IAAM,EAAII,GAE3BouE,EAAO,EACPC,EAAmBxE,EAAYp8C,MACnC4gD,EAAiBp+D,SAAQ,SAAUq+D,GACjC,IAAIC,EAAYn8C,EAAQk8C,EAAO3gD,IAAItd,IACnC+9D,GAAQl8C,EAAUtyB,GAAG2uE,IAAc,KAGrC,IAAIC,EAAmBJ,EAAOvE,EAAYoE,OAASE,EAE/CM,EAA8BJ,EAAiBnsE,QAAO,SAAUosE,GAClE,OAAOA,EAAO3gD,KAAO0E,EAAK1E,MAExB+gD,EAAyB,GAC7BD,EAA4Bx+D,SAAQ,SAAU0+D,EAAYtsE,GACxDqsE,EAAuBrsE,GAASsqE,EAAoBgC,EAAWlB,gBAGjE,IAAImB,EAA2BlC,EAAsB+B,EAA6B9B,GAAuBY,EAErGsB,EAAkBhL,EAAUxxC,EAAK1E,IAwCrC,GAvCArtB,OAAO8C,KAAKyrE,GAAiB5+D,SAAQ,SAAU6+D,GAC7C,IACIrF,EADer3C,EAAQ08C,GAAgBz8C,KACN42C,UAErC,GAAIQ,IAAsBp3C,EAAK42C,UAA/B,CACA,IAAI8F,EAAkBhG,EAASU,GAC3BuF,EAAeD,EAAgBthD,MAEnC,GAAKuhD,GAAiBA,EAAaltE,OAAnC,CAEA,IAAImtE,EAAsB,EAC1BD,EAAa/+D,SAAQ,SAAUi/D,GAC7B,IAAIC,EAAW/8C,EAAQ88C,EAAMvhD,IAAItd,IACjC4+D,GAAuB/8C,EAAUtyB,GAAGuvE,IAAa,KAGnD,IAAIC,EAAgBH,EAAsBF,EAAgBd,OAASE,EAE/DkB,EAAuBL,EAAaxqE,OAAO,CAAC6tB,IAC5Ci9C,EAAsB,GAC1BD,EAAqBp/D,SAAQ,SAAUs/D,EAASltE,GAC9CitE,EAAoBjtE,GAASsqE,EAAoB4C,EAAQ9B,gBAG3D,IAAI+B,EAAwB9C,EAAsB2C,EAAsB1C,GAAuBY,EAE3FkC,EAAWL,EAAgBZ,EAE3BtB,IACFuC,EAAWL,EAAgBI,GAAyBhB,EAAmBI,IAIrEa,EAAWvB,IACbA,EAAeuB,EACfzF,EAAc+E,QAIdb,EAAe,EAAG,CACpBlE,EAAYv8C,MAAMnrB,KAAK+vB,GACvB,IAAIq9C,EAAsBr9C,EAAK42C,UAC/B52C,EAAK42C,UAAYe,EAAYr8C,GAE7B,IAAIm8C,EAAuBD,EAAYp8C,MAAMxrB,QAAQowB,GAErDw3C,EAAYp8C,MAAMjoB,OAAOskE,EAAsB,GAG/C,IAAI6F,EAA0B,EAC1BC,EAAsB,EAC1BliD,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAI3S,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACd48C,EAAkBh4C,EAAQ7E,GAAQ8E,KAAK42C,UACvCoB,EAAkBj4C,EAAQ5E,GAAQ6E,KAAK42C,WAEvCmB,IAAoBJ,EAAYr8C,IAAM08C,IAAoBL,EAAYr8C,IAAM08C,IAAoBL,EAAYr8C,IAAMy8C,IAAoBJ,EAAYr8C,MACpJgiD,GAAqDzvC,EAAKknC,IAAuB,IAG/EgD,IAAoBsF,GAAuBrF,IAAoBqF,GAAuBrF,IAAoBqF,GAAuBtF,IAAoBsF,KACvJE,GAA6C1vC,EAAKknC,IAAuB,MAI7E4C,EAAYiE,OAAS0B,EACrB9F,EAAYoE,OAAS2B,MAM3B,IAAIC,EAAkB,GAClBC,EAAa,EACjBxvE,OAAO8C,KAAK2qE,GAAe99D,SAAQ,SAAUg5D,GAC3C,IAAIgB,EAAU8D,EAAc9E,GAE5B,GAAKgB,EAAQx8C,OAAUw8C,EAAQx8C,MAAM3rB,OAArC,CAKA,IAAIiuE,EAAQl9D,OAAOi9D,EAAa,GAE5BC,IAAU9G,IAIdgB,EAAQt8C,GAAKoiD,EACb9F,EAAQx8C,MAAQw8C,EAAQx8C,MAAM1d,KAAI,SAAUnJ,GAC1C,MAAO,CACL+mB,GAAI/mB,EAAK+mB,GACTs7C,UAAW8G,MAGfhC,EAAcgC,GAAS9F,EACvB4F,EAAgB5G,GAAa8G,SACtBhC,EAAc9E,GACrB6G,iBApBS/B,EAAc9E,MAuBzB6E,EAAW79D,SAAQ,SAAU+/D,GAC3B,IAAI39C,EAAO29C,EAAS39C,KAChB42C,EAAY+G,EAAS/G,UACzB52C,EAAK42C,UAAYA,EACb52C,EAAK42C,WAAa4G,EAAgBx9C,EAAK42C,aAAY52C,EAAK42C,UAAY4G,EAAgBx9C,EAAK42C,eAG/F,IAAIiB,EAAe,GACfC,EAAiB,GACrBz8C,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAI3S,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACdu6C,EAAS7nC,EAAKknC,IAAuB,EACrCgD,EAAkBh4C,EAAQ7E,GAAQ8E,KAAK42C,UACvCoB,EAAkBj4C,EAAQ5E,GAAQ6E,KAAK42C,UACvCqB,EAAY,GAAG9lE,OAAO4lE,EAAiB,OAAO5lE,OAAO6lE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWvC,QAAUA,EACpCoC,EAAeG,GAAWnxD,YACrB,CACL,IAAIoxD,EAAU,CACZh9C,OAAQ68C,EACR58C,OAAQ68C,EACRtC,OAAQA,EACR5uD,MAAO,GAETgxD,EAAeG,GAAaC,EAC5BL,EAAa5nE,KAAKioE,OAGtB,IAAIC,EAAgB,GAIpB,OAHAlqE,OAAO8C,KAAK2qE,GAAe99D,SAAQ,SAAUg5D,GAC3CuB,EAAcloE,KAAKyrE,EAAc9E,OAE5B,CACLF,SAAUyB,EACVN,aAAcA,IC5YH+F,EAhCA,SAAkBtP,EAAWxuC,EAAUi1C,EAAoB1rB,EAAW4xB,EAAa7B,EAAcC,EAAgB6B,GA6B9H,YA5BiB,IAAbp7C,IACFA,GAAW,QAGc,IAAvBi1C,IACFA,EAAqB,eAGL,IAAd1rB,IACFA,EAAY,WAGM,IAAhB4xB,IACFA,OAAc7hE,QAGK,IAAjBggE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGG,IAAnB6B,IACFA,EAAiB,GAGZF,EAAQ1M,EAAWxuC,EAAUi1C,EAAoB1rB,GAAW,EAAM4xB,EAAa7B,EAAcC,EAAgB6B,ICqBvG2C,EAvDH,SAAevP,EAAWx9D,GACpC,IAAIyV,OAEM,IAANzV,IACFA,EAAI,GAuCN,IApCA,IAAIkB,EAAO4J,gBAAM0yD,GACbj5B,EAAKrjC,EAAKopB,MACVA,OAAe,IAAPia,EAAgB,GAAKA,EAC7BgC,EAAKrlC,EAAKqpB,MACVA,OAAe,IAAPgc,EAAgB,GAAKA,EAE7B+U,EAAU,WAEZ,IAAIprB,EAAUroB,EAAO,CACnByiB,MAAOA,EACPC,MAAOA,IAELoS,EAAUx/B,OAAO8C,KAAKiwB,GAE1ByM,EAAQt5B,MAAK,SAAUvC,EAAGmC,GACxB,IAAIwS,EAAI8uB,EAER,OAA8B,QAArB9uB,EAAKya,EAAQpvB,UAAuB,IAAP2U,OAAgB,EAASA,EAAG5N,SAAiC,QAArB08B,EAAKrU,EAAQjtB,UAAuB,IAAPshC,OAAgB,EAASA,EAAG18B,WAEzI,IAAImlE,EAAarwC,EAAQ,GAEzB,IAAKrS,EAAM3rB,SAA0C,QAA9B8W,EAAKya,EAAQ88C,UAAgC,IAAPv3D,OAAgB,EAASA,EAAG5N,SAAW7H,EAClG,MAAO,QAGT,IAAIsqE,EAAchgD,EAAMvpB,WAAU,SAAUmuB,GAC1C,OAAOA,EAAK1E,KAAOwiD,KAGrB1iD,EAAMjoB,OAAOioE,EAAa,GAE1B//C,EAAQA,EAAMxrB,QAAO,SAAUg+B,GAC7B,QAASA,EAAK3S,SAAW4iD,GAAcjwC,EAAK1S,SAAW2iD,SAI9C,CAGX,GAAgB,UAFF1xB,IAEW,MAG3B,MAAO,CACLhxB,MAAOA,EACPC,MAAOA,ICrDP0iD,EAAc,SAAqB/D,EAAcM,EAAqBtqE,GACxE,IAAI88C,EAAW,GAEf,OAAQktB,GACN,KAAK9D,EAAa+D,kBAChBntB,EAAWwtB,EAAoBtqE,GAC/B,MAEF,QACE88C,EAAW,GAIf,OAAOA,GA8PMkxB,EAjPF,SAAgBhsE,EAAMlB,EAAGmqE,EAAa7B,EAAcC,EAAgBW,QACrE,IAANlpE,IACFA,EAAI,QAGc,IAAhBmqE,IACFA,OAAc7hE,QAGK,IAAjBggE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,CAAC,YAGC,IAAjBW,IACFA,EAAe9D,EAAa+D,mBAG9B,IAAI1zD,EAAKvU,EAAKopB,MACVA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKrjC,EAAKqpB,MACVA,OAAe,IAAPga,EAAgB,GAAKA,EAC7B4oC,EAAqB,CACvBvH,SAAU,CAAC,CACTp7C,GAAI,IACJF,MAAOA,IAETy8C,aAAc,IAGhB,GAAImC,IAAiB9D,EAAa+D,oBAAsB7+C,EAAMhmB,OAAM,SAAU4qB,GAC5E,OAAOA,EAAK5wB,eAAe6rE,MAE3B,OAAOgD,EAIT,IAAI9C,EAAa,GAEbb,EAAsB,GAO1B,GALIN,IAAiB9D,EAAa+D,oBAChCkB,EAAanC,EAAiB59C,EAAO6/C,GACrCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,KAGpDiB,EAAoB7qE,OACvB,OAAOwuE,EAST,IANA,IAAIC,EAA0B9pE,eAAKkmE,EAAoB58D,KAAI,SAAUnJ,GACnE,OAAOA,EAAKiL,KAAK,QAGf2+D,EAAS3rE,KAAKE,IAAI5B,EAAGsqB,EAAM3rB,OAAQyuE,EAAwBzuE,QAEtDlC,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAChC6tB,EAAM7tB,GAAG6tE,YAAc7tE,EAIzB,IAAI6wE,EAAY,GACZC,EAAoB,GACpB3H,EAAW,GAEf,IAASnpE,EAAI,EAAGA,EAAI4wE,EAAQ5wE,IAC1B,GAAU,IAANA,EAAS,CAEX,IAAI+wE,EAAc9rE,KAAKqS,MAAMrS,KAAKu9B,SAAW3U,EAAM3rB,QAEnD,OAAQuqE,GACN,KAAK9D,EAAa+D,kBAChBmE,EAAU7wE,GAAK+sE,EAAoBgE,GACnC,MAEF,QACEF,EAAU7wE,GAAK,GAInB8wE,EAAkBpuE,KAAKquE,GACvB5H,EAASnpE,GAAK,CAAC6tB,EAAMkjD,IACrBljD,EAAMkjD,GAAa1H,UAAYp2D,OAAOjT,OACjC,CAqCL,IApCA,IAAIgxE,GAAetmE,IACfumE,EAAuB,EAEvBpyB,EAAU,SAAiBz+C,GAC7B,IAAK0wE,EAAkBpgE,SAAStQ,GAAI,CAGlC,IAFA,IAAI8wE,EAAgB,EAEX3pE,EAAI,EAAGA,EAAIspE,EAAU3uE,OAAQqF,IAAK,CAEzC,IAAIolB,EAAW,EAEf,OAAQ8/C,GACN,KAAK9D,EAAa+D,kBAChB//C,EAAW4/C,EAAYQ,EAAoBl/C,EAAMztB,GAAGytE,aAAcgD,EAAUtpE,GAAIklE,GAOpFyE,GAAiBvkD,EAInB,IAAIwkD,EAAcD,EAAgBL,EAAU3uE,OAExCivE,EAAcH,IAAgBH,EAAU3sE,MAAK,SAAUq7C,GACzD,OAAOxvC,kBAAQwvC,EAAUixB,EAAY/D,EAAcM,EAAqBl/C,EAAMztB,GAAGytE,mBAEjFmD,EAAcG,EACdF,EAAuB7wE,KAMpBA,EAAI,EAAGA,EAAIytB,EAAM3rB,OAAQ9B,IAChCy+C,EAAQz+C,GAGVywE,EAAU7wE,GAAKwwE,EAAY/D,EAAcM,EAAqBkE,GAC9DH,EAAkBpuE,KAAKuuE,GACvB9H,EAASnpE,GAAK,CAAC6tB,EAAMojD,IACrBpjD,EAAMojD,GAAsB5H,UAAYp2D,OAAOjT,GAMnD,IAFA,IAAIs+C,EAAa,IAEJ,CACX,IAASt+C,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACrC,IAAIoxE,EAAmB,EACnBx6C,EAAclsB,IAElB,GAAqB,IAAf4zC,IAAoBwyB,EAAkBpgE,SAAS1Q,GAAK,CACxD,IAAK,IAAIuH,EAAI,EAAGA,EAAIspE,EAAU3uE,OAAQqF,IAAK,CAEzC,IAAIolB,EAAW,EAEf,OAAQ8/C,GACN,KAAK9D,EAAa+D,kBAChB//C,EAAW4/C,EAAYQ,EAAoB/sE,GAAI6wE,EAAUtpE,GAAIklE,GAQ7D9/C,EAAWiK,IACbA,EAAcjK,EACdykD,EAAmB7pE,GAKvB,QAA2BsE,IAAvBgiB,EAAM7tB,GAAGqpE,UACX,IAAK,IAAI5nE,EAAI0nE,EAASj/D,OAAO2jB,EAAM7tB,GAAGqpE,YAAYnnE,OAAS,EAAGT,GAAK,EAAGA,IAChE0nE,EAASj/D,OAAO2jB,EAAM7tB,GAAGqpE,YAAY5nE,GAAGssB,KAAOF,EAAM7tB,GAAG+tB,IAC1Do7C,EAASj/D,OAAO2jB,EAAM7tB,GAAGqpE,YAAYzjE,OAAOnE,EAAG,GAMrDosB,EAAM7tB,GAAGqpE,UAAYp2D,OAAOm+D,GAC5BjI,EAASiI,GAAkB1uE,KAAKmrB,EAAM7tB,KAK1C,IAAIqxE,GAAoB,EAExB,IAASrxE,EAAI,EAAGA,EAAImpE,EAASjnE,OAAQlC,IAAK,CACxC,IAAIovE,EAAejG,EAASnpE,GACxBsxE,EAAc,IAAIzG,EAAO,IAE7B,IAAStjE,EAAI,EAAGA,EAAI6nE,EAAaltE,OAAQqF,IACvC+pE,EAAcA,EAAY33B,IAAI,IAAIkxB,EAAOkC,EAAoBqC,EAAa7nE,GAAGsmE,eAI/E,IAAI0D,EAAYD,EAAYpG,IAAIkE,EAAaltE,QAExCqvE,EAAU/F,MAAM,IAAIX,EAAOgG,EAAU7wE,OACxCqxE,GAAoB,EAEpBR,EAAU7wE,GAAKuxE,EAAUzG,UAM7B,GAFAxsB,IAEIzwB,EAAMhmB,OAAM,SAAU4qB,GACxB,YAA0B5mB,IAAnB4mB,EAAK42C,cACRgI,GAAqB/yB,GAAc,IACvC,MAKJ,IAAIgsB,EAAe,GACfC,EAAiB,GA0BrB,OAzBAz8C,EAAMzd,SAAQ,SAAUiwB,GACtB,IAAItnB,EAAI8uB,EAEJna,EAAS2S,EAAK3S,OACdC,EAAS0S,EAAK1S,OACd48C,EAEI,QAFexxD,EAAK6U,EAAM3pB,MAAK,SAAUuuB,GAC/C,OAAOA,EAAK1E,KAAOJ,YACE,IAAP3U,OAAgB,EAASA,EAAGqwD,UACxCoB,EAEI,QAFe3iC,EAAKja,EAAM3pB,MAAK,SAAUuuB,GAC/C,OAAOA,EAAK1E,KAAOH,YACE,IAAPka,OAAgB,EAASA,EAAGuhC,UACxCqB,EAAY,GAAG9lE,OAAO4lE,EAAiB,OAAO5lE,OAAO6lE,GAEzD,GAAIF,EAAeG,GACjBH,EAAeG,GAAWnxD,YACrB,CACL,IAAIoxD,EAAU,CACZh9C,OAAQ68C,EACR58C,OAAQ68C,EACRlxD,MAAO,GAETgxD,EAAeG,GAAaC,EAC5BL,EAAa5nE,KAAKioE,OAGf,CACLxB,SAAUA,EACVmB,aAAcA,ICrPHkH,EAjBQ,SAA0BxqE,EAAMmrC,GAErD,IAAIs/B,EAAmB,IAAI5G,EAAO14B,GAE9Bu/B,EAAkBD,EAAiBlG,QAEnCoG,EAAa,IAAI9G,EAAO7jE,GAExB4qE,EAAYD,EAAWpG,QAEvBpzC,EAAMs5C,EAAiBt5C,IAAIw5C,GAC3BE,EAAeH,EAAkBE,EAEjCJ,EAAmBK,EAAe15C,EAAM05C,EAAe,EAC3D,OAAOL,GC0CMM,EAlDa,SAA+BjkD,EAAOkkD,EAAUrE,EAAa7B,EAAcC,QACvF,IAAVj+C,IACFA,EAAQ,SAGU,IAAhB6/C,IACFA,OAAc7hE,QAGK,IAAjBggE,IACFA,EAAe,SAGM,IAAnBC,IACFA,EAAiB,IAGnB,IAAIkG,EAAe3jE,gBAAMwf,EAAMvrB,QAAO,SAAUmwB,GAC9C,OAAOA,EAAK1E,KAAOgkD,EAAShkD,OAE1BkkD,EAAgBpkD,EAAMvpB,WAAU,SAAUmuB,GAC5C,OAAOA,EAAK1E,KAAOgkD,EAAShkD,MAG1B6/C,EAAanC,EAAiB59C,EAAO6/C,GAErCX,EAAsBf,EAAO4B,EAAY/B,EAAcC,GAEvDoG,EAAqBnF,EAAoBkF,GACzCE,EAAsB,GAe1B,OAdAH,EAAa3hE,SAAQ,SAAUoiB,EAAMhwB,GACnC,GAAIgwB,EAAK1E,KAAOgkD,EAAShkD,GAAI,CAE3B,IAAIqkD,EAAiBrF,EAAoBtqE,GAErC4vE,EAAwBb,EAAiBY,EAAgBF,GAC7DC,EAAoBzvE,KAAK2vE,GACzB5/C,EAAK++C,iBAAmBa,MAI5BL,EAAaprE,MAAK,SAAUvC,EAAGmC,GAC7B,OAAOA,EAAEgrE,iBAAmBntE,EAAEmtE,oBAEzB,CACLW,oBAAqBA,EACrBH,aAAcA,ICZHM,EA1Cf,WACE,SAASA,EAAUrvC,GACjBrjC,KAAK2Z,MAAQ0pB,EAAM/gC,OACnBtC,KAAKgd,OAAS,GAEd,IAAK,IAAIqa,EAAK,EAAGs7C,EAAUtvC,EAAOhM,EAAKs7C,EAAQrwE,OAAQ+0B,IAAM,CAC3D,IAAIj3B,EAAIuyE,EAAQt7C,GAChBr3B,KAAKgd,OAAO5c,GAAKA,GAgCrB,OA3BAsyE,EAAU1wE,UAAUsC,KAAO,SAAU8C,GACnC,KAAOpH,KAAKgd,OAAO5V,KAAUA,GAC3BA,EAAOpH,KAAKgd,OAAO5V,GAGrB,OAAOA,GAGTsrE,EAAU1wE,UAAUuF,MAAQ,SAAU9C,EAAGmC,GACvC,IAAIgsE,EAAQ5yE,KAAKsE,KAAKG,GAClBouE,EAAQ7yE,KAAKsE,KAAKsC,GAClBgsE,IAAUC,IAEVD,EAAQC,GACN7yE,KAAKgd,OAAOpW,KAAOA,GAAG5G,KAAKuH,MAAMvH,KAAKgd,OAAOpW,GAAInC,GACrDzE,KAAKgd,OAAOpW,GAAK5G,KAAKgd,OAAOvY,KAEzBzE,KAAKgd,OAAOvY,KAAOA,GAAGzE,KAAKuH,MAAMvH,KAAKgd,OAAOvY,GAAImC,GACrD5G,KAAKgd,OAAOvY,GAAKzE,KAAKgd,OAAOpW,MAKjC8rE,EAAU1wE,UAAU8wE,UAAY,SAAUruE,EAAGmC,GAC3C,OAAO5G,KAAKsE,KAAKG,KAAOzE,KAAKsE,KAAKsC,IAG7B8rE,EAvCT,GCLIK,EAAiB,SAAwBtuE,EAAGmC,GAC9C,OAAOnC,EAAImC,GAmGEosE,EA9Ff,WACE,SAASA,EAAcC,QACH,IAAdA,IACFA,EAAYF,GAGd/yE,KAAKizE,UAAYA,EACjBjzE,KAAKkzE,KAAO,GAoFd,OAjFAF,EAAchxE,UAAUmxE,QAAU,SAAUtwE,GAC1C,OAAO,EAAIA,EAAQ,GAGrBmwE,EAAchxE,UAAUoxE,SAAW,SAAUvwE,GAC3C,OAAO,EAAIA,EAAQ,GAGrBmwE,EAAchxE,UAAUib,UAAY,SAAUpa,GAC5C,OAAc,IAAVA,EACK,KAGFwC,KAAKqS,OAAO7U,EAAQ,GAAK,IAGlCmwE,EAAchxE,UAAUiO,QAAU,WAChC,OAAOjQ,KAAKkzE,KAAK5wE,QAAU,GAG7B0wE,EAAchxE,UAAU+zB,IAAM,WAC5B,OAAO/1B,KAAKiQ,eAAYhE,EAAYjM,KAAKkzE,KAAK,IAGhDF,EAAchxE,UAAUqxE,OAAS,WAC/B,IAAIt9C,EAAM/1B,KAAK+1B,MACXE,EAASj2B,KAAKkzE,KAAK59D,MAOvB,OALItV,KAAKkzE,KAAK5wE,OAAS,IACrBtC,KAAKkzE,KAAK,GAAKj9C,EACfj2B,KAAKszE,SAAS,IAGTv9C,GAGTi9C,EAAchxE,UAAUuxE,OAAS,SAAUlyE,GACzC,GAAc,OAAVA,EAAgB,CAClBrB,KAAKkzE,KAAKpwE,KAAKzB,GACf,IAAIwB,EAAQ7C,KAAKkzE,KAAK5wE,OAAS,EAE/B,OADAtC,KAAKwzE,OAAO3wE,IACL,EAGT,OAAO,GAGTmwE,EAAchxE,UAAUwxE,OAAS,SAAU3wE,GAGzC,IAFA,IAAIma,EAAShd,KAAKid,UAAUpa,GAErBA,GAASA,EAAQ,GAAK7C,KAAKizE,UAAUjzE,KAAKkzE,KAAKl2D,GAAShd,KAAKkzE,KAAKrwE,IAAU,GAAG,CAEpF,IAAI+C,EAAM5F,KAAKkzE,KAAKl2D,GACpBhd,KAAKkzE,KAAKl2D,GAAUhd,KAAKkzE,KAAKrwE,GAC9B7C,KAAKkzE,KAAKrwE,GAAS+C,EAEnB/C,EAAQma,EACRA,EAAShd,KAAKid,UAAUpa,KAI5BmwE,EAAchxE,UAAUsxE,SAAW,SAAUzwE,GAC3C,IAAIuW,EAEA+D,EAAUta,EACVmzB,EAAOh2B,KAAKmzE,QAAQtwE,GACpBqzB,EAAQl2B,KAAKozE,SAASvwE,GACtBqN,EAAOlQ,KAAKkzE,KAAK5wE,OAER,OAAT0zB,GAAiBA,EAAO9lB,GAAQlQ,KAAKizE,UAAUjzE,KAAKkzE,KAAK/1D,GAAUnd,KAAKkzE,KAAKl9C,IAAS,EACxF7Y,EAAU6Y,EACS,OAAVE,GAAkBA,EAAQhmB,GAAQlQ,KAAKizE,UAAUjzE,KAAKkzE,KAAK/1D,GAAUnd,KAAKkzE,KAAKh9C,IAAU,IAClG/Y,EAAU+Y,GAGRrzB,IAAUsa,IACZ/D,EAAK,CAACpZ,KAAKkzE,KAAK/1D,GAAUnd,KAAKkzE,KAAKrwE,IAAS7C,KAAKkzE,KAAKrwE,GAASuW,EAAG,GAAIpZ,KAAKkzE,KAAK/1D,GAAW/D,EAAG,GAC/FpZ,KAAKszE,SAASn2D,KAIX61D,EA3FT,GCIIS,EAAU,SAAiBtS,EAAWoH,GACxC,IAAImL,EAAgB,GAChBt6D,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAEjC,GAAqB,IAAjBja,EAAM3rB,OACR,OAAOoxE,EAIT,IAAIC,EAAW1lD,EAAM,GACjBuvB,EAAU,IAAI+nB,IAClB/nB,EAAQzD,IAAI45B,GAEZ,IAQIC,EAAY,IAAIZ,GARA,SAAuBvuE,EAAGmC,GAC5C,OAAI2hE,EACK9jE,EAAE8jE,OAAS3hE,EAAE2hE,OAGf,KAQT,IAJA1F,EAAiB8Q,EAASxlD,GAAID,GAAOzd,SAAQ,SAAUiwB,GACrDkzC,EAAUL,OAAO7yC,OAGXkzC,EAAU3jE,WAAW,CAE3B,IAAI4jE,EAAWD,EAAUP,SACrBtlD,EAAS8lD,EAAS9lD,OAClBC,EAAS6lD,EAAS7lD,OAClBwvB,EAAQn2C,IAAI0mB,IAAWyvB,EAAQn2C,IAAI2mB,KACvC0lD,EAAc5wE,KAAK+wE,GAEdr2B,EAAQn2C,IAAI0mB,KACfyvB,EAAQzD,IAAIhsB,GACZ80C,EAAiB90C,EAAQG,GAAOzd,SAAQ,SAAUiwB,GAChDkzC,EAAUL,OAAO7yC,OAIhB8c,EAAQn2C,IAAI2mB,KACfwvB,EAAQzD,IAAI/rB,GACZ60C,EAAiB70C,EAAQE,GAAOzd,SAAQ,SAAUiwB,GAChDkzC,EAAUL,OAAO7yC,QAKvB,OAAOgzC,GAWLI,EAAa,SAAoB3S,EAAWoH,GAC9C,IAAImL,EAAgB,GAChBt6D,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAEjC,GAAqB,IAAjBja,EAAM3rB,OACR,OAAOoxE,EAIT,IAAIK,EAAc7lD,EAAM3d,KAAI,SAAUmwB,GACpC,OAAOA,KAGL6nC,GACFwL,EAAY/sE,MAAK,SAAUvC,EAAGmC,GAC5B,OAAOnC,EAAE8jE,OAAS3hE,EAAE2hE,UASxB,IALA,IAAIyL,EAAc,IAAItB,EAAUzkD,EAAM1d,KAAI,SAAU1O,GAClD,OAAOA,EAAEssB,OAIJ4lD,EAAYzxE,OAAS,GAAG,CAC7B,IAAI2xE,EAAUF,EAAYzW,QACtBvvC,EAASkmD,EAAQlmD,OACjBC,EAASimD,EAAQjmD,OAEhBgmD,EAAYlB,UAAU/kD,EAAQC,KACjC0lD,EAAc5wE,KAAKmxE,GACnBD,EAAYzsE,MAAMwmB,EAAQC,IAI9B,OAAO0lD,GAqBMQ,EATW,SAA6B/S,EAAWoH,EAAQ4L,GAKxE,OAAKA,EAJO,CACVC,KAAMX,EACNY,QAASP,GAGEK,GAAMhT,EAAWoH,GADZuL,EAAW3S,EAAWoH,ICrD3B+L,EAjEA,SAAkBnT,EAAWoT,EAASC,GAC5B,iBAAZD,IAAsBA,EAAU,MACnB,iBAAbC,IAAuBA,EAAW,KAa7C,IAZA,IAQIC,EARA1nD,EAAW,EACX2nD,EAAa,EACbC,EAAgB,IAChBv7D,EAAK+nD,EAAUlzC,MACfA,OAAe,IAAP7U,EAAgB,GAAKA,EAC7B8uB,EAAKi5B,EAAUjzC,MACfA,OAAe,IAAPga,EAAgB,GAAKA,EAC7B0sC,EAAa3mD,EAAM3rB,OAEnBuyE,EAAW,GACXC,EAAY,GAEPntE,EAAI,EAAGA,EAAIitE,IAAcjtE,EAAG,CAGnCktE,EADIlS,GADA9vC,EAAO5E,EAAMtmB,IACCwmB,IACC,EAAIymD,EACvBE,EAAUnS,GAAU,EAAIiS,EAK1B,IAFA,IAAIG,EAAavpE,EAAO21D,GAEjBwT,EAAgB,GAAK5nD,EAAWwnD,GAAS,CAC9CG,EAAa,EAEb,IAAS/sE,EAAI,EAAGA,EAAIitE,IAAcjtE,EAAG,CACnC,IACIg7D,GADA9vC,EAAO5E,EAAMtmB,IACCwmB,GAGlB,GAFAsmD,EAAc,EAEuB,IAAjCM,EAAWliD,EAAK1E,IAAIs/B,SACtBonB,EAASlS,GAAU,MACd,CAGL,IAFA,IAAI0B,EAAYtxB,EAAa4vB,EAAQz0C,EAAO,UAEnC9tB,EAAI,EAAGA,EAAIikE,EAAU/hE,SAAUlC,EAAG,CACzC,IAAIukE,EAAWN,EAAUjkE,GACrBstD,EAAYqnB,EAAWpQ,GAAUjX,UACjCA,EAAY,IAAG+mB,GAAeK,EAAUnQ,GAAYjX,GAG1DmnB,EAASlS,GAAU6R,EAAWC,EAC9BC,GAAcG,EAASlS,IAI3B+R,GAAc,EAAIA,GAAcE,EAChC7nD,EAAW,EAEX,IAASplB,EAAI,EAAGA,EAAIitE,IAAcjtE,EAAG,CACnC,IAAIkrB,EAEJ4hD,EAAcI,EADVlS,GADA9vC,EAAO5E,EAAMtmB,IACCwmB,IACeumD,EACjC3nD,GAAY1nB,KAAKqF,IAAI+pE,EAAcK,EAAUnS,IAC7CmS,EAAUnS,GAAU8R,EAGtBE,GAAiB,EAGnB,OAAOG,GCjELhoC,EAGF,SAAc3e,EAAIvY,EAAMD,EAAIZ,QACf,IAAPoZ,IACFA,GAZsB,QAeX,IAATvY,IACFA,GAfsB,QAkBb,IAAPD,IACFA,GAnBsB,QAsBV,IAAVZ,IACFA,EAtByB,MAyB3B/U,KAAKmuB,GAAKA,EACVnuB,KAAK4V,KAAOA,EACZ5V,KAAK2V,GAAKA,EACV3V,KAAK+U,MAAQA,GAQby3B,GAEJ,WACE,SAASA,EAAKre,EAAIpZ,QACL,IAAPoZ,IACFA,GA1CsB,QA6CV,IAAVpZ,IACFA,EA5CyB,MA+C3B/U,KAAKmuB,GAAKA,EACVnuB,KAAK+U,MAAQA,EACb/U,KAAKkuB,MAAQ,GACbluB,KAAKkkC,QAAU,GAQjB,OALAsI,EAAKxqC,UAAUsvC,QAAU,SAAU5Q,GACjC1gC,KAAKkuB,MAAMprB,KAAK49B,GAChB1gC,KAAKkkC,QAAQxD,EAAKvS,IAAMuS,GAGnB8L,EArBT,GA0BIwoC,GAEJ,WACE,SAASA,EAAM7mD,EAAI8mD,EAAoBtiD,QAC1B,IAAPxE,IACFA,GAtEsB,QAyEG,IAAvB8mD,IACFA,GAAqB,QAGN,IAAbtiD,IACFA,GAAW,GAGb3yB,KAAKmuB,GAAKA,EACVnuB,KAAKi1E,mBAAqBA,EAC1Bj1E,KAAKkuB,MAAQ,GACbluB,KAAKiuB,MAAQ,GACbjuB,KAAK4yB,QAAU,GACf5yB,KAAKkkC,QAAU,GACflkC,KAAKk1E,aAAe,GACpBl1E,KAAKm1E,aAAe,GACpBn1E,KAAKo1E,QAAU,EACfp1E,KAAK2yB,SAAWA,EAiClB,OA9BAqiD,EAAMhzE,UAAUqzE,WAAa,WAC3B,OAAOr1E,KAAKiuB,MAAM3rB,QAGpB0yE,EAAMhzE,UAAUmyC,QAAU,SAAUhmB,EAAIpZ,GACtC,IAAI/U,KAAK4yB,QAAQzE,GAAjB,CACA,IAAI0E,EAAO,IAAI2Z,GAAKre,EAAIpZ,GACxB/U,KAAKiuB,MAAMnrB,KAAK+vB,GAChB7yB,KAAK4yB,QAAQzE,GAAM0E,EACd7yB,KAAKk1E,aAAangE,KAAQ/U,KAAKk1E,aAAangE,GAAS,IAC1D/U,KAAKk1E,aAAangE,GAAOjS,KAAKqrB,KAGhC6mD,EAAMhzE,UAAUsvC,QAAU,SAAUnjB,EAAIvY,EAAMD,EAAIZ,GAEhD,IADI/U,KAAKi1E,yBAA6BhpE,IAAPkiB,KAAkBA,EAAKnuB,KAAKo1E,aACvDp1E,KAAK4yB,QAAQhd,IAAS5V,KAAK4yB,QAAQjd,IAAO3V,KAAK4yB,QAAQjd,GAAIuuB,QAAQ/V,IAAvE,CACA,IAAIuS,EAAO,IAAIoM,EAAK3e,EAAIvY,EAAMD,EAAIZ,GAOlC,GANA/U,KAAKkuB,MAAMprB,KAAK49B,GAChB1gC,KAAKkkC,QAAQ/V,GAAMuS,EACnB1gC,KAAK4yB,QAAQhd,GAAM07B,QAAQ5Q,GACtB1gC,KAAKm1E,aAAapgE,KAAQ/U,KAAKm1E,aAAapgE,GAAS,IAC1D/U,KAAKm1E,aAAapgE,GAAOjS,KAAK49B,IAEzB1gC,KAAK2yB,SAAU,CAClB,IAAI2iD,EAAQ,IAAIxoC,EAAK3e,EAAIxY,EAAIC,EAAMb,GACnC/U,KAAK4yB,QAAQjd,GAAI27B,QAAQgkC,GACzBt1E,KAAKm1E,aAAapgE,GAAOjS,KAAKwyE,MAI3BN,EAxDT,GCjEIO,GAEJ,WACE,SAASA,EAAQC,EAAUC,EAAQC,EAAe51D,EAAW61D,GAC3D31E,KAAKw1E,SAAWA,EAChBx1E,KAAKy1E,OAASA,EACdz1E,KAAK41E,kBAAoB,CACvBC,WAAYH,GDPa,KCQzB51D,UAAWA,GDTc,KCUzBg2D,WAAYH,GDTa,MCqB7B,OARAJ,EAAQvzE,UAAU+zE,QAAU,SAAU3lE,GACpC,OAAOpQ,KAAKw1E,WAAaplE,EAAM4lE,UAAYh2E,KAAKy1E,SAAWrlE,EAAMqlE,QAAUz1E,KAAK41E,oBAAsBxlE,EAAMwlE,mBAG9GL,EAAQvzE,UAAUi0E,WAAa,SAAU7lE,GACvC,OAAQpQ,KAAK+1E,QAAQ3lE,IAGhBmlE,EAnBT,GAuBIW,GAEJ,WACE,SAASA,IACPl2E,KAAKm2E,OAAS,GACdn2E,KAAKo2E,YAAc,GAiFrB,OA9EAF,EAAQl0E,UAAU+zE,QAAU,SAAU3lE,GACpC,IAAIimE,EAAUr2E,KAAKo2E,YAAY9zE,OAE/B,GAAI+zE,IADUjmE,EAAM9N,OACK,OAAO,EAEhC,IAAK,IAAIlC,EAAI,EAAGA,EAAIi2E,EAASj2E,IAC3B,GAAIJ,KAAKo2E,YAAYh2E,KAAOgQ,EAAMhQ,GAAI,OAAO,EAG/C,OAAO,GAGT81E,EAAQl0E,UAAUi0E,WAAa,SAAU7lE,GACvC,OAAQpQ,KAAK+1E,QAAQ3lE,IAKvB8lE,EAAQl0E,UAAUs0E,SAAW,SAAUd,EAAUC,EAAQC,EAAe51D,EAAW61D,GAEjF,OADA31E,KAAKo2E,YAAYtzE,KAAK,IAAIyyE,GAAQC,EAAUC,EAAQC,EAAe51D,EAAW61D,IACvE31E,KAAKo2E,aAKdF,EAAQl0E,UAAUu0E,QAAU,SAAUC,EAAS7jD,QAC7B,IAAZ6jD,IACFA,GD3DuB,QC8DR,IAAb7jD,IACFA,GAAW,GAGb,IAAI7D,EAAQ,IAAIkmD,GAAMwB,GAAS,EAAM7jD,GAYrC,OAXA3yB,KAAKo2E,YAAY3lE,SAAQ,SAAUgmE,GACjC,IAAIC,EAAaD,EAAQjB,SACrBmB,EAAWF,EAAQhB,OACnBr8D,EAAKq9D,EAAQb,kBACbC,EAAaz8D,EAAGy8D,WAChB/1D,EAAY1G,EAAG0G,UACfg2D,EAAa18D,EAAG08D,WD1EK,OC2ErBD,GAAkC/mD,EAAMqlB,QAAQuiC,EAAYb,GD3EvC,OC4ErBC,GAAkChnD,EAAMqlB,QAAQwiC,EAAUb,GD5ErC,OC6ErBD,GAAoCC,IAAeD,GAAY/mD,EAAMwiB,aAAQrlC,EAAWyqE,EAAYC,EAAU72D,MAE7GgP,GAITonD,EAAQl0E,UAAU40E,YAAc,WAC9B52E,KAAKm2E,OAAS,GAId,IAHA,IAAIU,OAAU5qE,EAGL7L,EAFQJ,KAAKo2E,YAAY9zE,OAER,EAAGlC,GAAK,EAAGA,IAAK,CACxC,IAAIq2E,EAAUz2E,KAAKo2E,YAAYh2E,GAC3B02E,EAAcL,EAAQjB,SACtBuB,EAAYN,EAAQhB,OAEpBqB,EAAcC,SAA0B9qE,IAAZ4qE,GAAyBE,IAAcF,KACrE72E,KAAKm2E,OAAOrzE,KAAK1C,GACjBy2E,EAAUC,GAId,OAAO92E,KAAKm2E,QAGdD,EAAQl0E,UAAUqzE,WAAa,WAC7B,IAAIziD,EAAU,GAKd,OAJA5yB,KAAKo2E,YAAY3lE,SAAQ,SAAUgmE,GAC5B7jD,EAAQ6jD,EAAQjB,YAAW5iD,EAAQ6jD,EAAQjB,WAAY,GACvD5iD,EAAQ6jD,EAAQhB,UAAS7iD,EAAQ6jD,EAAQhB,SAAU,MAEnD30E,OAAO8C,KAAKgvB,GAAStwB,QAGvB4zE,EApFT,GAuFIc,GAEJ,WACE,SAASA,EAAQC,GAKf,GAJAj3E,KAAKk3E,IAAM,GACXl3E,KAAKm3E,UAAY,GACjBn3E,KAAKo3E,UAAY,GACjBp3E,KAAKkuB,MAAQ,GACR+oD,EAAL,CAEA,KAAOA,GAAM,CACX,IAAIlvE,EAAIkvE,EAAKv2C,KACb1gC,KAAKkuB,MAAMprB,KAAKiF,GAChB/H,KAAKm3E,UAAUpvE,EAAE6N,MAAQ,EACzB5V,KAAKm3E,UAAUpvE,EAAE4N,IAAM,EACvB3V,KAAKo3E,UAAUrvE,EAAEomB,IAAM,EACvB8oD,EAAOA,EAAKI,QAIdr3E,KAAKkuB,MAAQluB,KAAKkuB,MAAMsO,WAW1B,OARAw6C,EAAQh1E,UAAUs1E,QAAU,SAAUzkD,GACpC,OAAmC,IAA5B7yB,KAAKm3E,UAAUtkD,EAAK1E,KAG7B6oD,EAAQh1E,UAAUu1E,QAAU,SAAU72C,GACpC,OAAmC,IAA5B1gC,KAAKo3E,UAAU12C,EAAKvS,KAGtB6oD,EA7BT,GAgCIQ,GAEJ,WACE,SAASA,EAAMp+D,GACb,IAAIq+D,EAASr+D,EAAGq+D,OACZvvC,EAAK9uB,EAAGs+D,WACRA,OAAoB,IAAPxvC,EAAgB,EAAIA,EACjCgC,EAAK9wB,EAAGu+D,WACRA,OAAoB,IAAPztC,EAAgB,EAAIA,EACjCC,EAAK/wB,EAAGw+D,WACRA,OAAoB,IAAPztC,EAAgB,EAAIA,EACjC0oB,EAAKz5C,EAAG2c,IACRA,OAAa,IAAP88B,EAAgB,GAAKA,EAC3B+N,EAAKxnD,EAAGuZ,SACRA,OAAkB,IAAPiuC,GAAwBA,EACnCC,EAAKznD,EAAGy+D,QACRA,OAAiB,IAAPhX,GAAwBA,EAEtC7gE,KAAKy3E,OAASA,EACdz3E,KAAK83E,QAAU,IAAI5B,GACnBl2E,KAAK+3E,QAAU,EACf/3E,KAAKg4E,uBAAyB,GAC9Bh4E,KAAKi4E,kBAAoB,GACzBj4E,KAAK03E,WAAaA,EAClB13E,KAAK+1B,IAAMA,EACX/1B,KAAK2yB,SAAWA,EAChB3yB,KAAKo1E,QAAU,EAEfp1E,KAAK43E,WAAaA,EAClB53E,KAAK23E,WAAaA,EAClB33E,KAAK63E,QAAUA,EACX73E,KAAK43E,WAAa53E,KAAK23E,aAAY33E,KAAK43E,WAAa53E,KAAK23E,YAC9D33E,KAAKk4E,SAAW,GAihBlB,OA7gBAV,EAAMx1E,UAAUm2E,qBAAuB,SAAUrpD,EAAO0mD,GACtD,IAAIlmD,EAAQtvB,KAER4C,EAAS,GACTgwB,EAAU9D,EAAM8D,QAIpB,OAHA4iD,EAAStnD,MAAMzd,SAAQ,SAAUiwB,IAC3BpR,EAAMqD,UAAY6iD,EAASzgE,OAAS6d,EAAQ8N,EAAK/qB,IAAIZ,QAAOnS,EAAOE,KAAK49B,MAEvE99B,GAGT40E,EAAMx1E,UAAUo2E,iBAAmB,SAAUtpD,EAAOupD,EAAOC,EAAOC,GAChE,IAAKv4E,KAAK2yB,UAAY0lD,IAAUC,EAAO,OAAO,KAM9C,IALA,IAAI1lD,EAAU9D,EAAM8D,QAEhB4lD,EADU5lD,EAAQ0lD,EAAM3iE,IACDuY,MACvBmrC,EAAamf,EAAal2E,OAErBlC,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAIsgC,EAAO83C,EAAap4E,GACxB,IAAIm4E,EAAQhB,QAAQ72C,IAASA,EAAK/qB,KAAO0iE,EAAMziE,KAE/C,GAAK5V,KAAK2yB,UAKR,GAAIC,EAAQylD,EAAMziE,MAAMb,MAAQ6d,EAAQ0lD,EAAM3iE,IAAIZ,OAAS6d,EAAQylD,EAAMziE,MAAMb,QAAU6d,EAAQ0lD,EAAM3iE,IAAIZ,OAASsjE,EAAMtjE,OAAS2rB,EAAK3rB,MACtI,OAAO2rB,OALT,GAAI23C,EAAMtjE,MAAQ2rB,EAAK3rB,OAASsjE,EAAMtjE,QAAU2rB,EAAK3rB,OAAS6d,EAAQylD,EAAM1iE,IAAIZ,OAAS6d,EAAQ0lD,EAAM3iE,IAAIZ,MACzG,OAAO2rB,EASb,OAAO,MAGT82C,EAAMx1E,UAAUy2E,qBAAuB,SAAU3pD,EAAO4pD,EAAeC,EAAcJ,GAMnF,IALA,IAAI31E,EAAS,GACTg2E,EAAoBF,EAAc/iE,GAClCuY,EAAQY,EAAM8D,QAAQgmD,GAAmB1qD,MACzCmrC,EAAanrC,EAAM5rB,OAEdlC,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAIsgC,EAAOxS,EAAM9tB,GACbq1E,EAAS3mD,EAAM8D,QAAQ8N,EAAK/qB,IAE5BgjE,GAAgBlD,EAAO1gE,QAAUwjE,EAAQjB,QAAQ7B,IACnD7yE,EAAOE,KAAK49B,GAIhB,OAAO99B,GAGT40E,EAAMx1E,UAAU62E,uBAAyB,SAAU/pD,EAAO4pD,EAAeC,EAAcJ,GAQrF,IAPA,IAAI31E,EAAS,GACTgwB,EAAU9D,EAAM8D,QAChB+iD,EAAc/iD,EAAQ8lD,EAAc/iE,IAAIZ,MAExCmZ,EADW0E,EAAQ8lD,EAAc9iE,MAChBsY,MACjBmrC,EAAanrC,EAAM5rB,OAEdlC,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAIsgC,EAAOxS,EAAM9tB,GACb04E,EAAiBlmD,EAAQ8N,EAAK/qB,IAAIZ,MAElC2jE,EAAc/iE,KAAO+qB,EAAK/qB,IAAMgjE,EAAeG,GAAkBP,EAAQjB,QAAQ1kD,EAAQ8N,EAAK/qB,OAI9F+iE,EAAc3jE,MAAQ2rB,EAAK3rB,OAAS2jE,EAAc3jE,QAAU2rB,EAAK3rB,OAAS4gE,GAAemD,IAC3Fl2E,EAAOE,KAAK49B,GAIhB,OAAO99B,GAGT40E,EAAMx1E,UAAU+2E,WAAa,SAAUC,GACrC,IAAIC,EAAW,GAIf,OAHAD,EAAUvoE,SAAQ,SAAUyoE,GACrBD,EAASC,EAAI1C,WAAUyC,EAASC,EAAI1C,UAAW,MAE/C11E,OAAO8C,KAAKq1E,GAAU32E,QAG/Bk1E,EAAMx1E,UAAUm3E,aAAe,SAAUt1E,GACvC,IAAIu1E,OAAWntE,EAwBf,OAvBAnL,OAAO8C,KAAKC,GAAK4M,SAAQ,SAAUmlE,GACjC,IAAIx8D,EAAKvV,EAAI+xE,GACTC,EAAaz8D,EAAGy8D,WAChB/1D,EAAY1G,EAAG0G,UACfg2D,EAAa18D,EAAG08D,WAEfsD,GASDvD,EAAauD,EAASvD,YAAcA,IAAeuD,EAASvD,YAAc/1D,EAAYs5D,EAASt5D,WAAa+1D,IAAeuD,EAASvD,YAAc/1D,IAAcs5D,EAASt5D,WAAag2D,EAAasD,EAAStD,cAC9MsD,EAAW,CACTvD,WAAYA,EACZ/1D,UAAWA,EACXg2D,WAAYA,IAZdsD,EAAW,CACTvD,WAAYA,EACZ/1D,UAAWA,EACXg2D,WAAYA,MAaXsD,GAGT5B,EAAMx1E,UAAUq3E,MAAQ,WACtB,IAAI/pD,EAAQtvB,KAER83E,EAAU93E,KAAK83E,QAEnB,GADI93E,KAAK63E,SAASv9D,QAAQg/D,IAAI,iBAAkBxB,GACb,IAA/BA,EAAQ1B,YAAY9zE,OAAc,OAAO,EAC7C,IAAIqwB,EAAW3yB,KAAK2yB,SAChB7D,EAAQgpD,EAAQvB,SDhTK,ECgToB5jD,GACzCC,EAAU9D,EAAM8D,QAChB2mD,EAAa,IAAIrD,GACjBx2E,EAAO,GACXovB,EAAMb,MAAMxd,SAAQ,SAAUoiB,GACTvD,EAAM6oD,qBAAqBrpD,EAAO+D,GAExCpiB,SAAQ,SAAUiwB,GAC7B,IAAI84C,EAAY5mD,EAAQ8N,EAAK/qB,IACzBigE,EAAoB,GAAG5wE,OAAO6tB,EAAK9d,MAAO,KAAK/P,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAOw0E,EAAUzkE,OACvFrV,EAAKk2E,KAAoBl2E,EAAKk2E,GAAqB,CACtDoD,UAAW,GACXnD,WAAYhjD,EAAK9d,MACjB+K,UAAW4gB,EAAK3rB,MAChB+gE,WAAY0D,EAAUzkE,QAExB,IAAIkiE,EAAO,CACTT,QAAS1nD,EAAMX,GACfuS,KAAMA,EACN22C,QAAS,MAEX33E,EAAKk2E,GAAmBoD,UAAUl2E,KAAKm0E,SAI3C,IAAImC,EAAWp5E,KAAKm5E,aAAaz5E,GAEjC,GAAK05E,EAAL,CACAG,EAAWnD,YAAYtzE,KAAK,IAAIyyE,GAAQ,EAAG,EAAG6D,EAASvD,WAAYuD,EAASt5D,UAAWs5D,EAAStD,aAEhG,IA8HIn0E,EAAM,GAAGqD,OAAOo0E,EAASvD,WAAY,KAAK7wE,OAAOo0E,EAASt5D,UAAW,KAAK9a,OAAOo0E,EAAStD,YAC9F,OA/HmB,SAAS2D,EAAaT,GAuCvC,IArCA,IAAI7C,EAASoD,EAAW3C,cACpB+B,EAAeY,EAAWnD,YAAY,GAAGR,kBAAkBC,WAC3D6D,EAASH,EAAWnD,YAAYD,EAAO,IAAIV,OAE3CkE,EAAe,GACf/6B,GAAO,EACPg7B,EAAQ,EACR3Q,EAAMt2C,GAAY,EAAI,EAEtBssB,EAAU,SAAiB7+C,GAC7B,GAAIw+C,EAAM,MAAO,QAEjBo6B,EAAUvoE,SAAQ,SAAUvO,GAC1B,IAAIq2E,EAAU,IAAIvB,GAAQ90E,GAEtB23E,EAAevqD,EAAM8oD,iBAAiBtpD,EAAOypD,EAAQrqD,MAAMioD,EAAO/1E,IAAKm4E,EAAQrqD,MAAMioD,EAAO,IAAKoC,GAEjGsB,IAEGF,EAAaE,EAAa9kE,SAC7B4kE,EAAaE,EAAa9kE,OAAS,CACjCikE,UAAW,GACXl5D,UAAW+5D,EAAa9kE,QAI5B4kE,EAAaE,EAAa9kE,OAAOikE,UAAUl2E,KAAK,CAC9C0zE,QAAS1nD,EAAMX,GACfuS,KAAMi5C,EACNtC,QAASn1E,IAEX03E,EAAQL,EAAWnD,YAAYD,EAAO/1E,IAAIo1E,SAC1C52B,GAAO,OAKJx+C,EAAI+1E,EAAO7zE,OAAS,EAAGlC,EAAI6oE,EAAK7oE,IAAK,CAG5C,GAAgB,UAFF6+C,EAAQ7+C,GAEG,MAG3B,GAAIw+C,EAAM,CACR,IAAIk7B,EAAuBxqD,EAAM6pD,aAAaQ,GAE9CJ,EAAWnD,YAAYtzE,KAAK,IAAIyyE,GAAQmE,EAAQE,ED/XzB,KC+XmDE,EAAqBh6D,UD/XxE,OCgYvB,IAAIi6D,EAAQR,EAAWnD,YAAY9zE,OAAS,EAC5C,OAAIgtB,EAAMwoD,QAAQ1B,YAAY2D,KAAWR,EAAWnD,YAAY2D,IACzDN,EAAaE,EAAaG,EAAqBh6D,WAAWk5D,WAGnE,IAAIgB,EAAc,GAClBp7B,GAAO,EACP,IAAIq7B,EAAU,EACdjB,EAAUvoE,SAAQ,SAAUvO,GAC1B,IAAIq2E,EAAU,IAAIvB,GAAQ90E,GAEtBg4E,EAAmB5qD,EAAMmpD,qBAAqB3pD,EAAOypD,EAAQrqD,MAAMioD,EAAO,IAAKwC,EAAcJ,GAE7F2B,EAAiB53E,OAAS,IAC5Bs8C,GAAO,EACPq7B,EAAUP,EACVQ,EAAiBzpE,SAAQ,SAAUiwB,GACjC,IAAI/+B,EAAM,GAAGqD,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAO4tB,EAAQ8N,EAAK/qB,IAAIZ,OACxDilE,EAAYr4E,KAAMq4E,EAAYr4E,GAAO,CACxCq3E,UAAW,GACXl5D,UAAW4gB,EAAK3rB,MAChB+gE,WAAYljD,EAAQ8N,EAAK/qB,IAAIZ,QAE/BilE,EAAYr4E,GAAKq3E,UAAUl2E,KAAK,CAC9B0zE,QAAS1nD,EAAMX,GACfuS,KAAMA,EACN22C,QAASn1E,WAKjB,IAAIi4E,EAAahE,EAAO7zE,OAEpBsvD,EAAU,SAAiBxxD,GAC7B,GAAIw+C,EAAM,MAAO,QACjB,IAAIv9C,EAAQ80E,EAAO/1E,GACnB44E,EAAUvoE,SAAQ,SAAUvO,GAC1B,IAAIq2E,EAAU,IAAIvB,GAAQ90E,GAEtBk4E,EAAqB9qD,EAAMupD,uBAAuB/pD,EAAOypD,EAAQrqD,MAAM7sB,GAAQs3E,EAAcJ,GAE7F6B,EAAmB93E,OAAS,IAC9Bs8C,GAAO,EACPq7B,EAAUV,EAAWnD,YAAY/0E,GAAOm0E,SACxC4E,EAAmB3pE,SAAQ,SAAUiwB,GACnC,IAAI/+B,EAAM,GAAGqD,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAO4tB,EAAQ8N,EAAK/qB,IAAIZ,OACxDilE,EAAYr4E,KAAMq4E,EAAYr4E,GAAO,CACxCq3E,UAAW,GACXl5D,UAAW4gB,EAAK3rB,MAChB+gE,WAAYljD,EAAQ8N,EAAK/qB,IAAIZ,QAE/BilE,EAAYr4E,GAAKq3E,UAAUl2E,KAAK,CAC9B0zE,QAAS1nD,EAAMX,GACfuS,KAAMA,EACN22C,QAASn1E,YAOnB,IAAS9B,EAAI,EAAGA,EAAI+5E,EAAY/5E,IAAK,CAGnC,GAAgB,UAFFwxD,EAAQxxD,GAEG,MAG3B,IAAKw+C,EAAM,OAAO,EAElB,IAAIy7B,EAA0B/qD,EAAM6pD,aAAaa,GAEjDT,EAAWnD,YAAYtzE,KAAK,IAAIyyE,GAAQ0E,EAASP,EAAS,EDvcjC,KCucuDW,EAAwBv6D,UAAWu6D,EAAwBvE,aAC3I,IAAIjlE,EAAM0oE,EAAWnD,YAAY9zE,OAAS,EAC1C,OAAIw1E,EAAQ1B,YAAYvlE,KAAS0oE,EAAWnD,YAAYvlE,IACjD4oE,EAAaO,EAAY,GAAGh1E,OAAOq1E,EAAwBv6D,UAAW,KAAK9a,OAAOq1E,EAAwBvE,aAAakD,WAIzHS,CAAa/5E,EAAKiC,GAAKq3E,aAGhCxB,EAAMx1E,UAAUs4E,OAAS,WACvB,KAAIt6E,KAAK83E,QAAQzC,aAAer1E,KAAK23E,YAArC,CACA33E,KAAKo1E,UACL,IAAItmD,EAAQ9uB,KAAK83E,QAAQvB,QAAQv2E,KAAKo1E,QAASp1E,KAAK2yB,UACpD3yB,KAAKi4E,kBAAkBn1E,KAAK2L,gBAAMqgB,MAGpC0oD,EAAMx1E,UAAUu4E,eAAiB,SAAUvB,GACzC,IAAI1pD,EAAQtvB,KAGZ,KADcA,KAAK+4E,WAAWC,GAChBh5E,KAAK03E,aACd13E,KAAKq5E,QAAV,CACAr5E,KAAKs6E,SACL,IAAIvS,EAAU/nE,KAAK83E,QAAQzC,aACvBc,EAASn2E,KAAK83E,QAAQlB,cACtB8C,EAAS15E,KAAK83E,QAAQ1B,YAAYD,EAAO,IAAIV,OAC7CkD,EAAe34E,KAAK83E,QAAQ1B,YAAY,GAAGR,kBAAkBC,WAC7DmE,EAAc,GACdL,EAAe,GACnBX,EAAUvoE,SAAQ,SAAUvO,GAK1B,IAJA,IAAI4sB,EAAQQ,EAAMmoD,OAAOv1E,EAAEs0E,SACvB5jD,EAAU9D,EAAM8D,QAChB2lD,EAAU,IAAIvB,GAAQ90E,GAEjB9B,EAAI+1E,EAAO7zE,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC3C,IAAIy5E,EAAevqD,EAAM8oD,iBAAiBtpD,EAAOypD,EAAQrqD,MAAMioD,EAAO/1E,IAAKm4E,EAAQrqD,MAAMioD,EAAO,IAAKoC,GAErG,GAAIsB,EAAc,CAChB,IAAIl4E,EAAM,GAAGqD,OAAOsqB,EAAMwoD,QAAQ1B,YAAYD,EAAO/1E,IAAIo1E,SAAU,KAAKxwE,OAAO60E,EAAa9kE,OACvF4kE,EAAah4E,KAAMg4E,EAAah4E,GAAO,CAC1Cq3E,UAAW,GACXrC,SAAUrnD,EAAMwoD,QAAQ1B,YAAYD,EAAO/1E,IAAIo1E,SAC/C11D,UAAW+5D,EAAa9kE,QAE1B4kE,EAAah4E,GAAKq3E,UAAUl2E,KAAK,CAC/B0zE,QAASt0E,EAAEs0E,QACX91C,KAAMm5C,EACNxC,QAASn1E,KAMf,KAAI6lE,GAAWz4C,EAAMsoD,YAArB,CAEuBtoD,EAAMmpD,qBAAqB3pD,EAAOypD,EAAQrqD,MAAMioD,EAAO,IAAKwC,EAAcJ,GAEhF9nE,SAAQ,SAAUiwB,GACjC,IAAI/+B,EAAM,GAAGqD,OAAO00E,EAAQ,KAAK10E,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAO4tB,EAAQ8N,EAAK/qB,IAAIZ,OAC5EilE,EAAYr4E,KAAMq4E,EAAYr4E,GAAO,CACxCq3E,UAAW,GACXtC,WAAYgD,EACZ55D,UAAW4gB,EAAK3rB,MAChB+gE,WAAYljD,EAAQ8N,EAAK/qB,IAAIZ,QAE/BilE,EAAYr4E,GAAKq3E,UAAUl2E,KAAK,CAC9B0zE,QAASt0E,EAAEs0E,QACX91C,KAAMA,EACN22C,QAASn1E,OAIb,IAAIgwD,EAAU,SAAiB9xD,GACJkvB,EAAMupD,uBAAuB/pD,EAAOypD,EAAQrqD,MAAMioD,EAAO/1E,IAAKu4E,EAAcJ,GAElF9nE,SAAQ,SAAUiwB,GACnC,IAAI/+B,EAAM,GAAGqD,OAAOsqB,EAAMwoD,QAAQ1B,YAAYD,EAAO/1E,IAAIo1E,SAAU,KAAKxwE,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAO4tB,EAAQ8N,EAAK/qB,IAAIZ,OACnHilE,EAAYr4E,KAAMq4E,EAAYr4E,GAAO,CACxCq3E,UAAW,GACXtC,WAAYpnD,EAAMwoD,QAAQ1B,YAAYD,EAAO/1E,IAAIo1E,SACjD11D,UAAW4gB,EAAK3rB,MAChB+gE,WAAYljD,EAAQ8N,EAAK/qB,IAAIZ,QAE/BilE,EAAYr4E,GAAKq3E,UAAUl2E,KAAK,CAC9B0zE,QAASt0E,EAAEs0E,QACX91C,KAAMA,EACN22C,QAASn1E,QAMf,IAAS9B,EAAI,EAAGA,EAAI+1E,EAAO7zE,OAAQlC,IACjC8xD,EAAQ9xD,OAIZU,OAAO8C,KAAK+1E,GAAclpE,SAAQ,SAAU9O,GAC1C,IAAIyX,EAAKugE,EAAah4E,GAClBg1E,EAAWv9D,EAAGu9D,SACd72D,EAAY1G,EAAG0G,UAEnBwP,EAAMwoD,QAAQ1B,YAAYtzE,KAAK,IAAIyyE,GAAQmE,EAAQ/C,EAAU,KAAM72D,EAAW,OAE9EwP,EAAMirD,eAAeZ,EAAah4E,GAAKq3E,WAEvC1pD,EAAMwoD,QAAQ1B,YAAY9gE,SAG5BxU,OAAO8C,KAAKo2E,GAAavpE,SAAQ,SAAU9O,GACzC,IAAIyX,EAAK4gE,EAAYr4E,GACjB+0E,EAAat9D,EAAGs9D,WAChB52D,EAAY1G,EAAG0G,UACfg2D,EAAa18D,EAAG08D,WAEpBxmD,EAAMwoD,QAAQ1B,YAAYtzE,KAAK,IAAIyyE,GAAQmB,EAAYgD,EAAS,ED3jBvC,KC2jB6D55D,EAAWg2D,IAEjGxmD,EAAMirD,eAAeP,EAAYr4E,GAAKq3E,WAEtC1pD,EAAMwoD,QAAQ1B,YAAY9gE,WAI9BkiE,EAAMx1E,UAAUw4E,+BAAiC,WAC/C,IAAI/C,EAASz3E,KAAKy3E,OACd9kD,EAAW3yB,KAAK2yB,SAChB+kD,EAAa13E,KAAK03E,WAClBM,EAAyBh4E,KAAKg4E,uBAC9ByC,EAAmB,GACnBC,EAAsB,GAEtBC,EAAmB,GAEnBC,EAA2B,GAiE/B,OAhEA95E,OAAO8C,KAAK6zE,GAAQhnE,SAAQ,SAAU9O,GAEpC,IAAImtB,EAAQ2oD,EAAO91E,GACfixB,EAAU9D,EAAM8D,QAEpB9D,EAAMb,MAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAElC,IAAI4d,EAAY6U,EAAK9d,MACjB8lE,EAAe,GAAG71E,OAAOrD,EAAK,KAAKqD,OAAOgZ,GAE9C,IAAK28D,EAAiBE,GAAe,CACnC,IAAIzF,EAAUqF,EAAiBz8D,IAAc,EAC7Co3D,IACAqF,EAAiBz8D,GAAao3D,EAGhCuF,EAAiBE,GAAgB,CAC/BC,SAAUn5E,EACVoT,MAAOiJ,GAGT6U,EAAK3E,MAAMzd,SAAQ,SAAUiwB,GAC3B,IAAIm1C,EAAa73D,EACb83D,EAAaljD,EAAQ8N,EAAK/qB,IAAIZ,MAElC,IAAK4d,GAAYkjD,EAAaC,EAAY,CACxC,IAAIlwE,EAAMkwE,EACVA,EAAaD,EACbA,EAAajwE,EAGf,IAAIka,EAAY4gB,EAAK3rB,MACjBgmE,EAAuB,GAAG/1E,OAAOrD,EAAK,KAAKqD,OAAO6wE,EAAY,KAAK7wE,OAAO8a,EAAW,KAAK9a,OAAO8wE,GACjGkF,EAAkB,GAAGh2E,OAAO6wE,EAAY,KAAK7wE,OAAO8a,EAAW,KAAK9a,OAAO8wE,GAE/E,IAAK4E,EAAoBM,GAAkB,CACzC,IAAI5F,EAAUsF,EAAoBM,IAAoB,EACtD5F,IACAsF,EAAoBM,GAAmB5F,EAGzCwF,EAAyBG,GAAwB,CAC/CvE,QAAS70E,EACTk0E,WAAYA,EACZ/1D,UAAWA,EACXg2D,WAAYA,YAMpBh1E,OAAO8C,KAAK62E,GAAkBhqE,SAAQ,SAAUsE,GAE9C,KADY0lE,EAAiB1lE,GACjB2iE,GAAZ,CACA,IAAI7iE,EAAI,CACNoZ,MAAO,GACPC,MAAO,IAETrZ,EAAEoZ,MAAMnrB,KAAK,CACXqrB,GAAI,IACJpZ,MAAOA,IAETijE,EAAuBl1E,KAAK+R,OAEvBmjE,GAGTR,EAAMx1E,UAAUoZ,IAAM,WACpB,IAAIkU,EAAQtvB,KAIZ,GADAA,KAAKg4E,uBAAyBh4E,KAAKw6E,mCAC/Bx6E,KAAK43E,WAAa,GAAtB,CACA,IAAIH,EAASz3E,KAAKy3E,OAGd/3E,GAFWM,KAAK2yB,SAET,IACX7xB,OAAO8C,KAAK6zE,GAAQhnE,SAAQ,SAAU+lE,GACpC,IAAI1nD,EAAQ2oD,EAAOjB,GACf5jD,EAAU9D,EAAM8D,QAEpB9D,EAAMb,MAAMxd,SAAQ,SAAUoiB,GACLvD,EAAM6oD,qBAAqBrpD,EAAO+D,GAGxCpiB,SAAQ,SAAUiwB,GACjC,IAAI+0C,EAAS7iD,EAAQ8N,EAAK/qB,IACtBigE,EAAoB,GAAG5wE,OAAO6tB,EAAK9d,MAAO,KAAK/P,OAAO07B,EAAK3rB,MAAO,KAAK/P,OAAOywE,EAAO1gE,OACpFrV,EAAKk2E,KAAoBl2E,EAAKk2E,GAAqB,CACtDoD,UAAW,GACXnD,WAAYhjD,EAAK9d,MACjB+K,UAAW4gB,EAAK3rB,MAChB+gE,WAAYL,EAAO1gE,QAErB,IAAIkiE,EAAO,CACTT,QAASA,EACT91C,KAAMA,EACN22C,QAAS,MAEX33E,EAAKk2E,GAAmBoD,UAAUl2E,KAAKm0E,YAK7Cn2E,OAAO8C,KAAKlE,GAAM+Q,SAAQ,SAAUmlE,GAClC,IAAIx8D,EAAK1Z,EAAKk2E,GACVoD,EAAY5/D,EAAG4/D,UACfnD,EAAaz8D,EAAGy8D,WAChB/1D,EAAY1G,EAAG0G,UACfg2D,EAAa18D,EAAG08D,WAEpBxmD,EAAMwoD,QAAQ1B,YAAYtzE,KAAK,IAAIyyE,GAAQ,EAAG,EAAGM,EAAY/1D,EAAWg2D,IAExExmD,EAAMirD,eAAevB,GAErB1pD,EAAMwoD,QAAQ1B,YAAY9gE,WAIvBkiE,EA/iBT,GAsoBeyD,GA/BH,SAAend,GAEzB,IAAI2Z,EAAS3Z,EAAO2Z,OAChBr+D,EAAK0kD,EAAOnrC,SACZA,OAAkB,IAAPvZ,GAAwBA,EACnC8uB,EAAK41B,EAAOod,cACZA,OAAuB,IAAPhzC,EAZG,UAYkCA,EACrDgC,EAAK4zB,EAAOqd,cACZA,OAAuB,IAAPjxC,EAdG,UAckCA,EACrDkxC,EA9Da,SAAsB3D,EAAQ9kD,EAAUuoD,EAAeC,GACxE,IAAIv4E,EAAS,GAgBb,OAfA9B,OAAO8C,KAAK6zE,GAAQhnE,SAAQ,SAAU9O,EAAKvB,GACzC,IAAI0uB,EAAQ2oD,EAAO91E,GACf05E,EAAS,IAAIrG,GAAM50E,GAAG,EAAMuyB,GAC5BiB,EAAa,GACjB9E,EAAMb,MAAMxd,SAAQ,SAAUoiB,EAAMlrB,GAClC0zE,EAAOlnC,QAAQxsC,EAAGkrB,EAAKqoD,IACvBtnD,EAAWf,EAAK1E,IAAMxmB,KAExBmnB,EAAMZ,MAAMzd,SAAQ,SAAUiwB,EAAM/8B,GAClC,IAAI23E,EAAY1nD,EAAW8M,EAAK3S,QAC5BwtD,EAAY3nD,EAAW8M,EAAK1S,QAChCqtD,EAAO/pC,SAAS,EAAGgqC,EAAWC,EAAW76C,EAAKy6C,OAE5CE,GAAUA,EAAOhG,eAAczyE,EAAOy4E,EAAOltD,IAAMktD,MAElDz4E,EA6Ce44E,CAAa/D,EAAQ9kD,EAAUuoD,EAAeC,GAChEzD,EAAa5Z,EAAO4Z,WACpBE,EAAa9Z,EAAO8Z,WACpBD,EAAa7Z,EAAO6Z,WACpBE,EAAU/Z,EAAO+Z,QACjB9hD,EAAM+nC,EAAO/nC,IAWb0lD,EAAa,IAAIjE,GATJ,CACfC,OAAQ2D,EACR1D,WAAYA,EACZE,WAAYA,EACZD,WAAYA,EACZ5hD,IAAKA,EACL8hD,QAASA,EACTllD,SAAUA,IAKZ,OAFA8oD,EAAWrgE,MA3DM,SAAsBq8D,EAAQyD,EAAeC,GAC9D,IAAIv4E,EAAS,GAuBb,OAtBA60E,EAAOhnE,SAAQ,SAAUqe,GACvB,IAAIqyC,EAAY,CACdlzC,MAAO,GACPC,MAAO,IAETY,EAAMb,MAAMxd,SAAQ,SAAUoiB,GAC5B,IAAIzZ,EAEJ+nD,EAAUlzC,MAAMnrB,OAAMsW,EAAK,CACzB+U,GAAI,GAAGnpB,OAAO6tB,EAAK1E,MACf+sD,GAAiBroD,EAAK9d,MAAOqE,OAErC0V,EAAMZ,MAAMzd,SAAQ,SAAUiwB,GAC5B,IAAItnB,EAEJ+nD,EAAUjzC,MAAMprB,OAAMsW,EAAK,CACzB2U,OAAQ,GAAG/oB,OAAO07B,EAAK9qB,MACvBoY,OAAQ,GAAGhpB,OAAO07B,EAAK/qB,MACnBwlE,GAAiBz6C,EAAK3rB,MAAOqE,OAErCxW,EAAOE,KAAKq+D,MAEPv+D,EAoCM84E,CAAaD,EAAWxD,kBAAmBiD,EAAeC,IC9wBrEQ,GAAqB,SAA4Bxa,EAAWya,EAAKV,EAAev3E,QAC5D,IAAlBu3E,IACFA,EAAgB,gBAGR,IAANv3E,IACFA,EAAI,GAGN,IAAIk4E,EAAQ,GACR5tD,EAAQkzC,EAAUlzC,MAItB,OAHA2tD,EAAInrE,SAAQ,SAAUhI,EAAKrI,GACzBy7E,EAAM/4E,KAAKg5E,GAAkB7tD,EAAOxlB,EAAKrI,EAAG86E,EAAev3E,OAEtDk4E,GAGLC,GAAoB,SAA2B7tD,EAAOxlB,EAAKrI,EAAG86E,EAAev3E,GAC/E,IAAIo4E,EAAe,CAAC37E,GAChBikE,EAAY,GACZ2X,EAAgB,GAqBpB,OApBAvzE,EAAIgI,SAAQ,SAAU/K,EAAGiC,GACvB,GAAIjC,GAAK/B,GAAKvD,IAAMuH,EAAG,CACrBo0E,EAAaj5E,KAAK6E,GAClB08D,EAAUvhE,KAAKmrB,EAAMtmB,IACrB,IAAIoN,EAAQkZ,EAAMtmB,GAAGuzE,GAChBc,EAAcjnE,IAIjBinE,EAAcjnE,GAAO4E,QACrBqiE,EAAcjnE,GAAOknE,MAAMn5E,KAAK4C,IALPs2E,EAAcjnE,GAAS,CAChD4E,MAAO,EACPsiE,MAAO,CAACv2E,QAQd5E,OAAO8C,KAAKo4E,GAAevrE,SAAQ,SAAUsE,GAC3CinE,EAAcjnE,GAAOknE,MAAQD,EAAcjnE,GAAOknE,MAAMj1E,MAAK,SAAUvC,EAAGmC,GACxE,OAAOnC,EAAImC,QAGR,CACLigE,QAASzmE,EACTuiE,OAAQ10C,EAAM7tB,GAAG+tB,GACjB+tD,SAAUH,EACV1X,UAAWA,EACX8X,YAAaJ,EAAaz5E,OAAS,EACnC85E,kBAAmBJ,IAwEnBK,GAAmC,SAA0CC,EAAaC,EAAepb,EAAWqb,GACtH,IAAIvuD,EAAQkzC,EAAUlzC,MAqCtB,OApCKuuD,IAAuBA,EAAwB,IACpD17E,OAAO8C,KAAK04E,GAAa7rE,SAAQ,SAAU9O,GACzC,IAAIyX,EAAI8uB,EAER,IAAIs0C,IAAyBA,EAAsB76E,GAAnD,CACA66E,EAAsB76E,GAAO,CAC3BssB,MAAO,GACPC,MAAO,IAET,IAAIuuD,EAAOH,EAAY36E,GACnB+6E,EAAwD,QAApCtjE,EAAKmjE,EAAcE,EAAKviB,cAA2B,IAAP9gD,OAAgB,EAASA,EAAG8iE,SAC5FS,EAAoD,QAAlCz0C,EAAKq0C,EAAcE,EAAKxT,YAAyB,IAAP/gC,OAAgB,EAASA,EAAGg0C,SAC5F,GAAKQ,GAAqBC,EAA1B,CAEA,IAAIC,EAAS,IAAIrX,IAAIoX,GACjBE,EAAYH,EAAiBh6E,QAAO,SAAUuf,GAChD,OAAO26D,EAAOv1E,IAAI4a,MAGpB,GAAK46D,GAAcA,EAAUv6E,OAA7B,CAKA,IAHA,IAAIw6E,EAAiB,GACjBC,EAAkBF,EAAUv6E,OAEvBlC,EAAI,EAAGA,EAAI28E,EAAiB38E,IAAK,CACxC,IAAIyyB,EAAO5E,EAAM4uD,EAAUz8E,IAC3Bo8E,EAAsB76E,GAAKssB,MAAMnrB,KAAK+vB,GAEtCiqD,EAAejqD,EAAK1E,KAAM,EAI5BgzC,EAAUjzC,MAAMzd,SAAQ,SAAUiwB,GAC5Bo8C,EAAep8C,EAAK3S,SAAW+uD,EAAep8C,EAAK1S,SAASwuD,EAAsB76E,GAAKusB,MAAMprB,KAAK49B,YAGnG87C,GAWLQ,GAAkB,SAAyBluD,EAAOmuD,EAAW/B,EAAeC,GAC9E,IAAI/hE,EAAI8uB,EAEJtV,EAAU,GACd9D,EAAMb,MAAMxd,SAAQ,SAAUoiB,GAC5BD,EAAQC,EAAK1E,IAAM0E,KAErB,IAAIlZ,EAAQ,EACZ,QAAuF,QAAhFP,EAAK6jE,aAA6C,EAASA,EAAU/uD,aAA0B,IAAP9U,OAAgB,EAASA,EAAG9W,UAA6F,QAAhF4lC,EAAK+0C,aAA6C,EAASA,EAAUhvD,aAA0B,IAAPia,OAAgB,EAASA,EAAG5lC,QAAU,EAAU,GAChRwsB,EAAMZ,MAAMzd,SAAQ,SAAU1I,GAC5B,IAAIm1E,EAActqD,EAAQ7qB,EAAEgmB,QAAQmtD,GAChCiC,EAAcvqD,EAAQ7qB,EAAEimB,QAAQktD,GAChCkC,EAAgBH,aAA6C,EAASA,EAAUhvD,MAAM,GAAGitD,GACzFmC,EAAgBJ,aAA6C,EAASA,EAAUhvD,MAAM,GAAGitD,GACzFoC,EAAeL,aAA6C,EAASA,EAAU/uD,MAAM,GAAGitD,GACxFpzE,EAAEozE,KAAmBmC,IAErBJ,IAAgBE,GAAiBD,IAAgBE,GAAiBH,IAAgBG,GAAiBF,IAAgBC,IACrHzjE,OAGGA,IAuFL4jE,GAAc,SAAqBtvD,EAAOitD,GAC5C,IAAItoD,EAAU,GACVsiD,EAAe,GAanB,OAZAjnD,EAAMxd,SAAQ,SAAUoiB,EAAMzyB,GAC5BwyB,EAAQC,EAAK1E,IAAM,CACjBtd,IAAKzQ,EACLyyB,KAAMA,EACNrnB,OAAQ,EACRiiD,SAAU,EACVC,UAAW,GAEb,IAAI34C,EAAQ8d,EAAKqoD,GACZhG,EAAangE,KAAQmgE,EAAangE,GAAS,IAChDmgE,EAAangE,GAAOjS,KAAK+vB,MAEpB,CACLD,QAASA,EACTsiD,aAAcA,IAIdsI,GAAc,SAAqBtvD,EAAOitD,EAAevoD,GAC3D,IAAIsR,EAAU,GACVixC,EAAe,GAuBnB,OAtBAjnD,EAAMzd,SAAQ,SAAUiwB,EAAMtgC,GAC5B8jC,EAAQ,GAAGl/B,OAAO29B,IAAa,CAC7B9xB,IAAKzQ,EACLsgC,KAAMA,GAER,IAAI3rB,EAAQ2rB,EAAKy6C,GACZhG,EAAapgE,KAAQogE,EAAapgE,GAAS,IAChDogE,EAAapgE,GAAOjS,KAAK49B,GACzB,IAAI/F,EAAa/H,EAAQ8N,EAAK3S,QAE1B4M,IACFA,EAAWnvB,SACXmvB,EAAW+yB,aAGb,IAAI9yB,EAAahI,EAAQ8N,EAAK1S,QAE1B4M,IACFA,EAAWpvB,SACXovB,EAAW6yB,eAGR,CACLvpB,QAASA,EACTixC,aAAcA,IAWdsI,GAAY,SAAmBxvD,EAAO2tD,EAAKjpD,GAC7C,IAAIrwB,EAASs5E,EAAIt5E,OACbiO,EAAM,GAaV,OAZAqrE,EAAInrE,SAAQ,SAAUhI,EAAKrI,GAIzB,IAHA,IAAI85D,EAAQvnC,EAAW,EAAIvyB,EAAI,EAC3Bs9E,EAAMzvD,EAAM7tB,GAAG+tB,GAEVxmB,EAAIuyD,EAAOvyD,EAAIrF,EAAQqF,IAC9B,GAAIvH,IAAMuH,EAAV,CACA,IAAIg2E,EAAM1vD,EAAMtmB,GAAGwmB,GACfjgB,EAAOzF,EAAId,GACf4I,EAAI,GAAGvL,OAAO04E,EAAK,KAAK14E,OAAO24E,IAAQzvE,EAClCykB,IAAUpiB,EAAI,GAAGvL,OAAO24E,EAAK,KAAK34E,OAAO04E,IAAQxvE,OAGnDqC,GAULqtE,GAAa,SAAoB9uD,EAAO+uD,EAAOC,EAAOlrD,EAASmrD,EAAQC,EAAgBf,EAAW/B,EAAeC,EAAe8C,EAAcC,GAChJ,IAAI9kE,EAEAzX,EAAM,GAAGqD,OAAO64E,EAAM1vD,GAAI,KAAKnpB,OAAO84E,EAAM3vD,IAChD,GAAI8vD,GAAgBA,EAAat8E,GAAM,OAAOs8E,EAAat8E,GAC3D,IAAIw8E,EAAoBD,EAA0BA,EAAwBv8E,QAAOsK,EAEjF,IAAKkyE,EAAmB,CACtB,IAAIC,IAAWhlE,EAAK,IAAOzX,GAAO,CAChCu4D,MAAOtnC,EAAQirD,EAAM1vD,IAAItd,IACzBo4D,IAAKr2C,EAAQkrD,EAAM3vD,IAAItd,IACvBkc,SAAUgxD,GACT3kE,GAEH+kE,GADAD,EAA0B7B,GAAiC+B,EAASJ,EAAgBlvD,EAAOovD,IAC/Cv8E,GAG9C,OAAOq7E,GAAgBmB,EAAmBlB,EAAW/B,EAAeC,IAOlEkD,GAAiC,SAAwCC,EAA8BC,EAAeC,EAAgBC,GACxI,IAAIrlE,EAAI8uB,EAAIgC,EAERw0C,EAAmF,QAAtDtlE,EAAKklE,EAA6BC,UAAmC,IAAPnlE,OAAgB,EAASA,EAAG5N,OACvHmzE,EAAqF,QAAtDz2C,EAAKo2C,EAA6BC,UAAmC,IAAPr2C,OAAgB,EAASA,EAAGulB,SACzHmxB,EAAsF,QAAtD10C,EAAKo0C,EAA6BC,UAAmC,IAAPr0C,OAAgB,EAASA,EAAGwjB,UAqB9H,YAnBoDzhD,IAAhDqyE,EAA6BC,KAC/BG,EAA4B5zE,IAC5B6zE,EAA8B7zE,IAC9B8zE,EAA+B9zE,IAC/B2zE,EAAoBF,GAAe9tE,SAAQ,SAAUouE,GACnD,IAAIC,EAAoBN,EAAeK,EAAqB1wD,IAAI3iB,OAC5DkzE,EAA4BI,IAAmBJ,EAA4BI,GAC/E,IAAIC,EAAsBP,EAAeK,EAAqB1wD,IAAIs/B,SAC9DkxB,EAA8BI,IAAqBJ,EAA8BI,GACrF,IAAIC,EAAuBR,EAAeK,EAAqB1wD,IAAIu/B,UAC/DkxB,EAA+BI,IAAsBJ,EAA+BI,MAE1FV,EAA6BC,GAAiB,CAC5C/yE,OAAQkzE,EACRjxB,SAAUkxB,EACVjxB,UAAWkxB,IAIR,CACLF,0BAA2BA,EAC3BC,4BAA6BA,EAC7BC,6BAA8BA,IAqtBnBK,GAtsBH,SAAe9d,EAAWjkC,EAASvK,EAAUhvB,EAAGrB,EAAQ44E,EAAeC,GACjF,IAAI/hE,EAcJ,QAZiB,IAAbuZ,IACFA,GAAW,QAGS,IAAlBuoD,IACFA,EAAgB,gBAGI,IAAlBC,IACFA,EAAgB,WAGbha,GAAcA,EAAUlzC,MAA7B,CAOA,IAAI85C,EAAU5G,EAAUlzC,MAAM3rB,OAC9B,GAAKylE,EAAL,CAEA,IAAI6T,EAAM/tD,EAAcszC,EAAWxuC,GAI/BusD,EAAarxD,EAAcqP,EAASvK,GAIpCwsD,EAAS1B,GAAUtc,EAAUlzC,MAAO2tD,EAAKjpD,GAIzCysD,EAAgB3B,GAAUvgD,EAAQjP,MAAOixD,EAAYvsD,GAGrDuV,EAAKq1C,GAAYpc,EAAUlzC,MAAOitD,GAClCtoD,EAAUsV,EAAGtV,QACbsiD,EAAehtC,EAAGgtC,aAElBhrC,EAAKqzC,GAAYrgD,EAAQjP,MAAOitD,GAChCsD,EAAiBt0C,EAAGtX,QACpB6rD,EAAsBv0C,EAAGgrC,aAG7BsI,GAAYrc,EAAUjzC,MAAOitD,EAAevoD,GAC5C,IAAIysD,EAAsB7B,GAAYtgD,EAAQhP,MAAOitD,EAAeqD,GAAgBrJ,aAEhFmK,EAAmB,GACvBJ,SAAwDA,EAAWzuE,SAAQ,SAAUhI,GACnF62E,EAAmBA,EAAiBt6E,OAAOyD,MAExCnG,IAAQA,EAAS+C,KAAKC,IAAImC,MAAMpC,KAAMqQ,YAAcA,YAAc,GAAI4pE,GAAkB,GAAQ,CAAC,IAAI,KACrG37E,IAAGA,EAAIrB,GAIZ,IAAI07E,EAAiBrC,GAAmBxa,EAAWya,EAAKV,EAAev3E,GACnE47E,EAAwB5D,GAAmBz+C,EAASgiD,EAAYhE,EAAev3E,GAS/E67E,EAxbsB,SAA+B77E,EAAGokE,EAAS0X,EAAgBzB,EAAgBpC,GAErG,IAAI8D,EAAsBr6E,KAAKq+B,KAAK+7C,EAAiB1X,GACjDuU,EAAc,GACdqD,EAAqB,EA4CzB,OA1CA3B,EAAevtE,SAAQ,SAAUmvE,EAAMx/E,GAQrC,IANA,IAAIy/E,EAAoB,EACpBC,EAAiB,EACjBzb,EAAYub,EAAK1D,SAEjBC,EAAcyD,EAAKzD,YAAc,EAE9B0D,EAAoBH,GAAqB,CAK9C,IAHA,IAAIK,EAAO1b,EAAU,EAAIh/D,KAAKqS,MAAMrS,KAAKu9B,SAAWu5C,IAChD6D,EAAiB,GAEd1D,EAAY,GAAGt3E,OAAO5E,EAAG,KAAK4E,OAAO+6E,KAAUzD,EAAY,GAAGt3E,OAAO+6E,EAAM,KAAK/6E,OAAO5E,OAC5F2/E,EAAO16E,KAAKqS,MAAMrS,KAAKu9B,SAAWmlC,OAClCiY,EACqB,EAAIjY,MAG3B,GAAIiY,EAAiB,EAAIjY,IAEvBuU,EAAY,GAAGt3E,OAAO5E,EAAG,KAAK4E,OAAO+6E,IAAS,CAC5C7lB,MAAO95D,EACP6oE,IAAK8W,EACLhzD,SAAU6uD,EAAIx7E,GAAG2/E,IAEnBF,MACAF,GAE0BF,GAAgB,OAAOnD,EAInD,KADAwD,EACqB,EAAI/X,EAAS,MAIhC8X,EAAoBH,IAEtBA,GAAuBA,GADbA,EAAsBG,KACqB9X,EAAU3nE,EAAI,OAGhEk8E,EAwYY2D,CAAsBt8E,EAAGokE,EADvB1iE,KAAKE,IAAI,IAAKwiE,GAAWA,EAAU,GAAK,GACQiW,EAAgBpC,GAKjFsE,EAAU7D,GAAiCmD,EAAcxB,EAAgB7c,GAoBzEgf,EAAgBlF,GAdP,CACXxD,OAAQyI,EACRhF,cAAeA,EACfC,cAAeA,EACfzD,WAPe,EAQfC,WAPe,EAQfC,WAPe,EAQfjlD,SAAUA,IAOsB3mB,MAAM,EAlB9B,IAoBNo0E,EAAeD,EAAc79E,OAE7B+9E,EAAkB,GACtBF,EAAc1vE,SAAQ,SAAUwsE,EAAW78E,GACzCigF,EAAgBjgF,GAAK,GACrBU,OAAO8C,KAAKs8E,GAASzvE,SAAQ,SAAU9O,GACrC,IAAImtB,EAAQoxD,EAAQv+E,GAChB2+E,EAAoBtD,GAAgBluD,EAAOmuD,EAAW/B,EAAeC,GACzEkF,EAAgBjgF,GAAGuB,GAAO2+E,QAQ9B,IAAIn2C,EAvVuB,SAAgCk2C,EAAiBD,EAAc13C,GAmE1F,IAlEA,IAAI63C,EAAYz1E,IACZ01E,EAAuB,EAEvBvhC,EAAU,SAAiB7+C,GAE7B,IAAIqgF,EAAYJ,EAAgBjgF,GAE5BsgF,EAAkB5/E,OAAO8C,KAAK68E,GAAWz5E,MAAK,SAAUvC,EAAGmC,GAC7D,OAAO65E,EAAUh8E,GAAKg8E,EAAU75E,MAI9B2iE,EAAW,GAEfmX,EAAgBjwE,SAAQ,SAAU9O,EAAKgG,GAChC4hE,EAAS5hE,EAJD,MAIgB4hE,EAAS5hE,EAJzB,IAIyC,CACpD8vE,OAAQ,GACRkJ,WAAY,EACZC,SAAU,IAEZrX,EAAS5hE,EATI,IASU8vE,OAAO30E,KAAKnB,GACnC4nE,EAAS5hE,EAVI,IAUUg5E,YAAcF,EAAU9+E,MAGjD,IAAIk/E,EAAe,EAEfC,EAAY,GAEhBvX,EAAS94D,SAAQ,SAAUswE,GAEzB,IAAIH,EAAWG,EAAgBJ,WAAaI,EAAgBtJ,OAAOn1E,OACnEy+E,EAAgBH,SAAWA,EAC3BE,EAAUh+E,KAAK89E,GAEf,IAAII,EAAqB,EACrBC,EAAYF,EAAgBz+E,OAChCy+E,EAAgBtJ,OAAOhnE,SAAQ,SAAUywE,EAAWv5E,GAClD,IAAIw5E,EAAcV,EAAUS,GAC5BH,EAAgBtJ,OAAOhnE,SAAQ,SAAU2wE,EAAWz9E,GAC9CgE,IAAMhE,IACVq9E,GAAsB37E,KAAKqF,IAAIy2E,EAAcV,EAAUW,WAI3DP,GADAG,GAAsBC,GAAaA,EAAY,GAAK,KAGtDJ,GAAgBtX,EAASjnE,OAEzB,IAAI++E,EAAe,EAEnBP,EAAUrwE,SAAQ,SAAU6wE,EAAW35E,GACrCm5E,EAAUrwE,SAAQ,SAAU8wE,EAAW59E,GACjCgE,IAAMhE,IACV09E,GAAgBh8E,KAAKqF,IAAI42E,EAAYC,OAEvCF,GAAgBP,EAAUx+E,QAAUw+E,EAAUx+E,OAAS,GAAK,KAG9D,IAAI+b,EAASgjE,EAAeR,EAExBN,EAAYliE,IACdkiE,EAAYliE,EACZmiE,EAAuBpgF,IAIlBA,EAAI,EAAGA,EAAIggF,EAAchgF,IAChC6+C,EAAQ7+C,GAGV,MAAO,CACL68E,UAAWv0C,EAAW83C,GACtBgB,kBAAmBnB,EAAgBG,IA8Q5BiB,CAAuBpB,EAAiBD,EAAcD,GAC3DuB,EAAMv3C,EAAG8yC,UACT0E,EAAUx3C,EAAGq3C,kBAIbI,EAAa1kD,EAAQjP,MAAM,GAC3B4zD,EAAa,GACb9sE,EAAoC,QAA3BqE,EAAK8jB,EAAQjP,MAAM,UAAuB,IAAP7U,OAAgB,EAASA,EAAG8hE,GACxE4G,GAA2Bh3E,IAC/BoyB,EAAQjP,MAAMxd,SAAQ,SAAUoiB,GAC9B,IAAIkvD,EAASlvD,EAAKqoD,GACd8G,EAAqB9M,EAAa6M,IAEjCC,aAA+D,EAASA,EAAmB1/E,QAAUw/E,IACxGA,EAA0BE,EAAmB1/E,OAC7Cu/E,EAAaG,EACbjtE,EAAQgtE,EACRH,EAAa/uD,MAKjB,IAAIyrD,EAA+B,GAE/B2D,EAAqB,GACrBC,EAAiB,GAErBC,EAAoB,GAGhBC,EAAgB,GAChBC,EAAoB,GACxBvhF,OAAO8C,KAAK66E,GAAqBhuE,SAAQ,SAAU6xE,EAAQ36E,GACzDy6E,EAAcE,GAAU,GAEpB3vD,IACF0vD,EAAkBC,GAAU,IAG9B,IAAIC,GAAWz3E,IACX03E,EAAyB/D,EAAoB6D,GAC7CG,EAAqB,GACzBD,EAAuB/xE,SAAQ,SAAUiyE,GACvC,IAAIx0E,EAAOkxE,EAAc,GAAGp6E,OAAO48E,EAAWzzD,GAAI,KAAKnpB,OAAO09E,EAAev0D,KAS7E,GARAjgB,GAAQk0E,EAAcE,GAAQx/E,KAAKoL,GAC/Bq0E,EAAUr0E,IAAMq0E,EAAUr0E,GAC9Bu0E,EAAmB,GAAGz9E,OAAO48E,EAAWzzD,GAAI,KAAKnpB,OAAO09E,EAAev0D,KAAO,CAC5E+rC,MAAO,EACP+O,IAAKuV,EAAekE,EAAev0D,IAAItd,IACvCkc,SAAU7e,GAGRykB,EAAU,CACZ,IAAIgwD,EAAWvD,EAAc,GAAGp6E,OAAO09E,EAAev0D,GAAI,KAAKnpB,OAAO48E,EAAWzzD,KACjFw0D,GAAYN,EAAkBC,GAAQx/E,KAAK6/E,OAI/CP,EAAcE,GAAUF,EAAcE,GAAQt7E,MAAK,SAAUvC,EAAGmC,GAC9D,OAAOnC,EAAImC,KAET+rB,IAAU0vD,EAAkBC,GAAUD,EAAkBC,GAAQt7E,MAAK,SAAUvC,EAAGmC,GACpF,OAAOnC,EAAImC,MAKbq7E,EAAqB5F,GAAiCoG,EAAoBlD,EAAuBriD,EAAS+kD,GAE1G,IAAIW,EAA6B,GAgBjC,GAfA9hF,OAAO8C,KAAK6+E,GAAoBhyE,SAAQ,SAAU9O,GAChD,GAAIugF,EAAevgF,GACjBihF,EAA2B9/E,KAAKo/E,EAAevgF,QADjD,CAKA,IAAIkhF,EAAkBZ,EAAmBtgF,GACzCugF,EAAevgF,GAAOq7E,GAAgB6F,EAAiBnB,EAAKxG,EAAeC,GAC3EyH,EAA2B9/E,KAAKo/E,EAAevgF,QAGjDihF,EAA6BA,EAA2B57E,MAAK,SAAUvC,EAAGmC,GACxE,OAAOA,EAAInC,KAEb09E,EAAkB,GAAGn9E,OAAO48E,EAAWzzD,GAAI,KAAKnpB,OAAOs9E,IAAWM,EAC9DN,IAAWvtE,EA6Ef,IA5EA,IAEI49C,EAAU,SAAiBnyD,GAC7B,IAAIkvE,EAAQmS,EAAWrhF,GAEnBsiF,EAAoB9E,EAAeprD,EAAQ88C,EAAMvhD,IAAItd,KACrDkyE,EAA4BD,EAAkB1G,kBAAkBkG,GAChEU,EAAmBvE,EAAoB6D,GAAQhgF,OAEnD,IAAKygF,GAA6BA,EAA0BppE,MAAQqpE,EAElE,OADAnB,EAAW77E,OAAOxF,EAAG,GACd,WAOT,IAFA,IAAIyiF,GAAgB,EAEXphF,EAAI,EAAGA,EAAImhF,EAAkBnhF,IACpC,GAAIkhF,EAA0B9G,MAAMp6E,GAAKugF,EAAcE,GAAQzgF,GAAI,CACjEohF,GAAgB,EAChB,MAIJ,GAAIA,EAEF,OADApB,EAAW77E,OAAOxF,EAAG,GACd,WAOT,IAAI0iF,EAAe,GACnBJ,EAAkBze,UAAU5zD,SAAQ,SAAU0yE,GAC5C,IAAIj1E,EAAOixE,EAAO,GAAGn6E,OAAO0qE,EAAMvhD,GAAI,KAAKnpB,OAAOm+E,EAAah1D,KAC/D+0D,EAAa,GAAGl+E,OAAO0qE,EAAMvhD,GAAI,KAAKnpB,OAAOm+E,EAAah1D,KAAO,CAC/D+rC,MAAOtnC,EAAQ88C,EAAMvhD,IAAItd,IACzBo4D,IAAKr2C,EAAQuwD,EAAah1D,IAAItd,IAC9Bkc,SAAU7e,MAIdgyE,EAAU7D,GAAiC6G,EAAclF,EAAgB7c,EAAW+e,GAEpF,IAAIkD,EAAsB,GAC1BtiF,OAAO8C,KAAKs/E,GAAczyE,SAAQ,SAAU9O,GAC1C,GAAIggF,EAAQhgF,GACVyhF,EAAoBtgF,KAAK6+E,EAAQhgF,QADnC,CAKA,IAAI0hF,EAAWnD,EAAQv+E,GACvBggF,EAAQhgF,GAAOq7E,GAAgBqG,EAAU3B,EAAKxG,EAAeC,GAC7DiI,EAAoBtgF,KAAK6+E,EAAQhgF,QAGnCyhF,EAAsBA,EAAoBp8E,MAAK,SAAUvC,EAAGmC,GAC1D,OAAOA,EAAInC,KAEb,IAAI6+E,GAAgB,EAEpB,IAASzhF,EAAI,EAAGA,EAAImhF,EAAkBnhF,IACpC,GAAIuhF,EAAoBvhF,GAAK+gF,EAA2B/gF,GAAI,CAC1DyhF,GAAgB,EAChB,MAIJ,OAAIA,GACFzB,EAAW77E,OAAOxF,EAAG,GACd,iBAFT,GAMOA,IA5EYqhF,aAA+C,EAASA,EAAWv/E,SAAW,GA4EtE,EAAG9B,GAAK,EAAGA,IACtCmyD,EAAQnyD,MAGZ,IAAI+iF,EAAkB,GAMtB1B,SAAwDA,EAAWpxE,SAAQ,SAAU+yE,GAQnF,IAPA,IAAI3c,EAAUj0C,EAAQ4wD,EAAUr1D,IAAItd,IAEhC4yE,EADqB3H,GAAkB3a,EAAUlzC,MAAO2tD,EAAI/U,GAAUA,EAASqU,EAAe54E,GAC3D+hE,UAGnCqf,GAAY,EAEPtjF,EAHSqjF,EAAcnhF,OAGL,EAAGlC,GAAK,EAAGA,IAAK,CAEzC,GAAIqjF,EAAcnhF,OAAS,EAAI46B,EAAQjP,MAAM3rB,OAE3C,YADAohF,GAAY,GAId,IAAIP,EAAeM,EAAcrjF,GAC7Bm+E,EAAgB4E,EAAajI,GAEjC,GAAKuD,EAAoBF,IAAmBE,EAAoBF,GAAej8E,OAO/E,GAAK8/E,EAAc7D,IAAmB6D,EAAc7D,GAAej8E,OAAnE,CAKA,IAAIX,EAAM,GAAGqD,OAAOw+E,EAAUr1D,GAAI,KAAKnpB,OAAOm+E,EAAah1D,IAEvDw1D,EAAkBxE,EAAOx9E,GACzBkP,EAAMuxE,EAAc7D,GAAej8E,OAAS,EAGhD,GAAIqhF,EAF4BvB,EAAc7D,GAAe1tE,GAG3D4yE,EAAcz9E,OAAO5F,EAAG,OAD1B,CAKA,GAAIuyB,EAAU,CACZ,IAAIixD,EAAU,GAAG5+E,OAAOm+E,EAAah1D,GAAI,KAAKnpB,OAAOw+E,EAAUr1D,IAC3D01D,EAAoB1E,EAAOyE,GAI/B,GAHA/yE,EAAMwxE,EAAkB9D,GAAej8E,OAAS,EAG5CuhF,EAFgCxB,EAAkB9D,GAAe1tE,GAEd,CACrD4yE,EAAcz9E,OAAO5F,EAAG,GACxB,UAKJ,IAAI0jF,EAAiBnC,EAAQhgF,GAAOggF,EAAQhgF,GAAOi8E,GAAWzc,EAAWqiB,EAAWL,EAAcvwD,EAAS+wD,EAAiB3F,EAAgB0D,EAAKxG,EAAeC,EAAewG,EAASzB,GACpL6D,EAAa,GAAG/+E,OAAO48E,EAAWzzD,GAAI,KAAKnpB,OAAOu5E,GAGtD,GAAIuF,EAF2B3B,EAAkB4B,GAAY5B,EAAkB4B,GAAYzhF,OAAS,GAGlGmhF,EAAcz9E,OAAO5F,EAAG,OAD1B,CAMA,IAAIgZ,EAAKilE,GAA+BC,EAA8BC,EAAeC,EAAgBC,GACjGC,EAA4BtlE,EAAGslE,0BACDtlE,EAAGulE,4BACFvlE,EAAGwlE,6BAElChsD,EAAQuwD,EAAah1D,IAAI3iB,OAASkzE,GACpC+E,EAAcz9E,OAAO5F,EAAG,UA5CxBqjF,EAAcz9E,OAAO5F,EAAG,QAPxBqjF,EAAcz9E,OAAO5F,EAAG,GAyDvBsjF,GACHH,EAAgBzgF,KAAK,CACnBmrB,MAAO,CAACu1D,GAAWx+E,OAAOy+E,QAOhC,IAAIO,EAAgCrc,EAASzqC,EAAS0kD,EAAWzzD,IAAI,GAAO7rB,OACxE2hF,EAAwC,GAExCtxD,GACF7xB,OAAO8C,KAAKogF,GAA+BvzE,SAAQ,SAAUkyD,GAC3D,IAAI3kD,EAAYwgE,EAAe7b,GAAQ9vC,KAAKqoD,GACvC+I,EAAsCjmE,GAA4GimE,EAAsCjmE,GAAWlb,KAAKkhF,EAA8BrhB,IAApLshB,EAAsCjmE,GAAa,CAACgmE,EAA8BrhB,OAE3I7hE,OAAO8C,KAAKqgF,GAAuCxzE,SAAQ,SAAUsxE,GACnEkC,EAAsClC,GAAQ/6E,MAAK,SAAUvC,EAAGmC,GAC9D,OAAOnC,EAAImC,SAIfq9E,EAAwC7B,EAyQ1C,IArQA,IAEIxwB,EAAU,SAAiBxxD,GAC7B,IAAI8jF,EAAiBX,EAAgBnjF,GACjCojF,EAAYU,EAAej2D,MAAM,GACjCk2D,EAA6B,GAC7BC,EAAmB,GACvBF,EAAej2D,MAAMxd,SAAQ,SAAUoiB,EAAMkB,GAC3CqwD,EAAiBvxD,EAAK1E,IAAM,CAC1Btd,IAAKkjB,EACLlB,KAAMA,EACNrnB,OAAQ,EACRiiD,SAAU,EACVC,UAAW,GAEb,IAAI22B,EAAaxxD,EAAKqoD,GACjBiJ,EAA2BE,GAA6DF,EAA2BE,KAA3EF,EAA2BE,GAAc,KAIxF,IAAIC,EAAiB,GACjBC,EAAoB,GACxBpjB,EAAUjzC,MAAMzd,SAAQ,SAAUiwB,GAC5B0jD,EAAiB1jD,EAAK3S,SAAWq2D,EAAiB1jD,EAAK1S,UACzDs2D,EAAexhF,KAAK49B,GACf6jD,EAAkB7jD,EAAKy6C,IAAiEoJ,EAAkB7jD,EAAKy6C,MAAvEoJ,EAAkB7jD,EAAKy6C,IAAkB,EACtFiJ,EAAiB1jD,EAAK3S,QAAQviB,SAC9B44E,EAAiB1jD,EAAK1S,QAAQxiB,SAC9B44E,EAAiB1jD,EAAK3S,QAAQ2/B,YAC9B02B,EAAiB1jD,EAAK1S,QAAQy/B,eAOlC,IAHA,IAAI+2B,EAAsB1jF,OAAO8C,KAAKy7E,GAAqB/8E,OACvDmiF,GAAoB,EAEf18E,EAAI,EAAGA,EAAIy8E,EAAqBz8E,IAAK,CAC5C,IAAI28E,EAAU5jF,OAAO8C,KAAKy7E,GAAqBt3E,GAE/C,IAAKw8E,EAAkBG,IAAYH,EAAkBG,GAAWrF,EAAoBqF,GAASpiF,OAAQ,CACnGmiF,GAAoB,EACpB,OAIJ,GAAIA,EAEF,OADAlB,EAAgBv9E,OAAO5F,EAAG,GACnB,WAIT,IAAIukF,EAAmBL,EAAehiF,OAEtC,GAAIqiF,EAAmBznD,EAAQhP,MAAM5rB,OAEnC,OADAihF,EAAgBv9E,OAAO5F,EAAG,GACnB,QAGT,IAAIwkF,GAAwB,EAExBC,EAAU,SAAiB98E,GAC7B,IAAI24B,EAAO4jD,EAAev8E,GACtB+X,EAAY4gB,EAAKy6C,GACjB2J,EAAwBzF,EAAoBv/D,GAEhD,IAAKglE,IAA0BA,EAAsBxiF,OAGnD,OAFAiiF,EAAkBzkE,KAEdglE,GAAyBP,EAAkBzkE,GAAaglE,EAAsBxiF,QAChFsiF,GAAwB,EACjB,UAGTN,EAAet+E,OAAO+B,EAAG,GACzBq8E,EAAiB1jD,EAAK3S,QAAQviB,SAC9B44E,EAAiB1jD,EAAK1S,QAAQxiB,SAC9B44E,EAAiB1jD,EAAK3S,QAAQ2/B,YAC9B02B,EAAiB1jD,EAAK1S,QAAQy/B,WACvB,YAIT,IAAIyvB,EAAckH,EAAiB1jD,EAAK3S,QAAQ8E,KAAKqoD,GACjDiC,EAAciH,EAAiB1jD,EAAK1S,QAAQ6E,KAAKqoD,GACjD6J,GAAc,EAQlB,OAPAD,EAAsBr0E,SAAQ,SAAUu0E,GACtC,IAAIC,EAAgBzG,EAAewG,EAAYj3D,QAAQ8E,KACnDqyD,EAAgB1G,EAAewG,EAAYh3D,QAAQ6E,KACnDoyD,EAAc/J,KAAmBgC,GAAegI,EAAchK,KAAmBiC,IAAa4H,GAAc,GAC3GpyD,GAAYsyD,EAAc/J,KAAmBiC,GAAe+H,EAAchK,KAAmBgC,IAAa6H,GAAc,MAG1HA,OAAL,GACER,EAAkBzkE,KAEdglE,GAAyBP,EAAkBzkE,GAAaglE,EAAsBxiF,QAChFsiF,GAAwB,EACjB,UAGTN,EAAet+E,OAAO+B,EAAG,GACzBq8E,EAAiB1jD,EAAK3S,QAAQviB,SAC9B44E,EAAiB1jD,EAAK1S,QAAQxiB,SAC9B44E,EAAiB1jD,EAAK3S,QAAQ2/B,YAC9B02B,EAAiB1jD,EAAK1S,QAAQy/B,WACvB,cAIX,IAAS1lD,EAAI48E,EAAmB,EAAG58E,GAAK,EAAGA,IAAK,CAG9C,GAAgB,UAFF88E,EAAQ98E,GAEG,MAI3B,GAAI68E,EAEF,OADArB,EAAgBv9E,OAAO5F,EAAG,GACnB,WAGT8jF,EAAeh2D,MAAQo2D,EACvB,IAAIa,EAAqBxd,EAASuc,EAAgBA,EAAej2D,MAAM,GAAGE,IAAI,GAAO7rB,OAqCrF,GApCAxB,OAAO8C,KAAKuhF,GAAoB3oD,UAAU/rB,SAAQ,SAAUk8C,GAC1D,GAAIA,IAAau3B,EAAej2D,MAAM,GAAGE,KAAMy2D,EAA/C,CAEA,GAAIO,EAAmBx4B,KAAc7hD,IAAU,CAC7C,IAAIs6E,EAAkBhB,EAAiBz3B,GAAU95B,KAAKqoD,GAGtD,GAFAiJ,EAA2BiB,KAEvBjB,EAA2BiB,GAAmB3G,EAAoB2G,GAAiB9iF,OAErF,YADAsiF,GAAwB,GAI1B,IAAI/zE,EAAMqzE,EAAej2D,MAAMxrB,QAAQ2hF,EAAiBz3B,GAAU95B,MAGlE,OAFAqxD,EAAej2D,MAAMjoB,OAAO6K,EAAK,QACjCuzE,EAAiBz3B,QAAY1gD,GAK/B,IAAIo5E,EAASzyD,EAAQ+5B,GAAU95B,KAAKqoD,GAEpC,IAAK+I,EAAsCoB,KAAYpB,EAAsCoB,GAAQ/iF,QAAU6iF,EAAmBx4B,GAAYs3B,EAAsCoB,GAAQpB,EAAsCoB,GAAQ/iF,OAAS,GAAI,CACjP8iF,EAAkBhB,EAAiBz3B,GAAU95B,KAAKqoD,GAGtD,GAFAiJ,EAA2BiB,KAEvBjB,EAA2BiB,GAAmB3G,EAAoB2G,GAAiB9iF,OAErF,YADAsiF,GAAwB,GAItB/zE,EAAMqzE,EAAej2D,MAAMxrB,QAAQ2hF,EAAiBz3B,GAAU95B,MAClEqxD,EAAej2D,MAAMjoB,OAAO6K,EAAK,GACjCuzE,EAAiBz3B,QAAY1gD,OAI7B24E,EAEF,OADArB,EAAgBv9E,OAAO5F,EAAG,GACnB,WAMT,IAHA,IAAIklF,GAAgB,EAChBC,EAAY,EAETD,IAAkBV,GAAuB,CAK9C,GAJAU,GAAgB,EAEA3yD,EAAWyxD,EAAiBZ,EAAUr1D,IAAI3iB,OAASgzE,EAAeoD,EAAWzzD,IAAI3iB,QAAU44E,EAAiBZ,EAAUr1D,IAAIs/B,SAAW+wB,EAAeoD,EAAWzzD,IAAIs/B,UAAY22B,EAAiBZ,EAAUr1D,IAAIu/B,UAAY8wB,EAAeoD,EAAWzzD,IAAIu/B,UAAY02B,EAAiBZ,EAAUr1D,IAAI3iB,OAASgzE,EAAeoD,EAAWzzD,IAAI3iB,OAE3U,CACbo5E,GAAwB,EACxB,MAIF,GAAIT,EAA2BX,EAAUtI,IAAkBuD,EAAoB+E,EAAUtI,IAAgB54E,OAAQ,CAC/GsiF,GAAwB,EACxB,MAMF,IAFA,IAES/jF,EAFqBqjF,EAAej2D,MAAM3rB,OAEZ,EAAGzB,GAAK,EAAGA,IAAK,CACrD,IAAI2kF,EAAStB,EAAej2D,MAAMptB,GAC9Bk0E,EAAaqP,EAAiBoB,EAAOr3D,IAAI3iB,OACzCi6E,EAAerB,EAAiBoB,EAAOr3D,IAAIs/B,SAC3Ci4B,EAAgBtB,EAAiBoB,EAAOr3D,IAAIu/B,UAC5C22B,EAAamB,EAAOtK,GAEpBroB,EAAKwrB,GAA+BC,EAA8B+F,EAAY7F,EAAgBC,GAC9FC,EAA4B7rB,EAAG6rB,0BAC/BC,EAA8B9rB,EAAG8rB,4BACjCC,EAA+B/rB,EAAG+rB,6BAItC,GAFsBjsD,EAAWoiD,EAAa2J,GAA6B+G,EAAe9G,GAA+B+G,EAAgB9G,EAA+B7J,EAAa2J,EAEhK,CAGnB,GAFAyF,EAA2BqB,EAAOtK,MAE9BiJ,EAA2BqB,EAAOtK,IAAkBuD,EAAoB+G,EAAOtK,IAAgB54E,OAAQ,CACzGsiF,GAAwB,EACxB,MAGFV,EAAej2D,MAAMjoB,OAAOnF,EAAG,GAC/BujF,EAAiBoB,EAAOr3D,SAAMliB,EAC9Bq5E,GAAgB,GAIpB,GAAIV,IAA0BU,GAA+B,IAAdC,EAAiB,MAIhE,IAAK,IAAI3wE,GAFT+vE,EAAmBL,EAAehiF,QAEF,EAAGsS,GAAK,EAAGA,IAAK,CAC9C,IAAI+wE,EAAQrB,EAAe1vE,GAE3B,IAAKwvE,EAAiBuB,EAAM53D,UAAYq2D,EAAiBuB,EAAM33D,QAAS,CACtEs2D,EAAet+E,OAAO4O,EAAG,GACzB,IAAIkL,EAAY6lE,EAAMxK,GActB,GAbAoJ,EAAkBzkE,KAEdskE,EAAiBuB,EAAM53D,UACzBq2D,EAAiBuB,EAAM53D,QAAQviB,SAC/B44E,EAAiBuB,EAAM53D,QAAQ2/B,aAG7B02B,EAAiBuB,EAAM33D,UACzBo2D,EAAiBuB,EAAM33D,QAAQxiB,SAC/B44E,EAAiBuB,EAAM33D,QAAQy/B,YAI7B4xB,EAAoBv/D,IAAcykE,EAAkBzkE,GAAau/D,EAAoBv/D,GAAWxd,OAAQ,CAC1GsiF,GAAwB,EACxB,MAGFU,GAAgB,GAIpBC,IAGF,OAAIX,GAMAA,GAAyBV,EAAej2D,MAAM3rB,OAAS46B,EAAQjP,MAAM3rB,QAAUgiF,EAAehiF,OAAS46B,EAAQhP,MAAM5rB,QALvHihF,EAAgBv9E,OAAO5F,EAAG,GACnB,iBAIT,GAMOA,EArQemjF,EAAgBjhF,OAqQP,EAAGlC,GAAK,EAAGA,IAAK,CAG/C,GAAgB,UAFFwxD,EAAQxxD,GAEG,MAQ3B,IAAIwlF,EAAgBrC,EAAgBjhF,OAEhC4vD,EAAU,SAAiB9xD,GAC7B,IAAIylF,EAAMtC,EAAgBnjF,GACtB0lF,EAAa,GAEjBD,EAAI33D,MAAMzd,SAAQ,SAAUiwB,GAC1B,IAAI/+B,EAAM,GAAGqD,OAAO07B,EAAK3S,OAAQ,KAAK/oB,OAAO07B,EAAK1S,OAAQ,KAAKhpB,OAAO07B,EAAK3rB,OACtE+wE,EAAWnkF,GAA+BmkF,EAAWnkF,KAApCmkF,EAAWnkF,GAAO,KA0B1C,IAvBA,IAAIokF,EAAU,SAAiBp+E,GAC7B,IAAIq+E,EAAMzC,EAAgB57E,GACtBs+E,EAAa,GAEjBD,EAAI93D,MAAMzd,SAAQ,SAAUiwB,GAC1B,IAAI/+B,EAAM,GAAGqD,OAAO07B,EAAK3S,OAAQ,KAAK/oB,OAAO07B,EAAK1S,OAAQ,KAAKhpB,OAAO07B,EAAK3rB,OACtEkxE,EAAWtkF,GAA+BskF,EAAWtkF,KAApCskF,EAAWtkF,GAAO,KAE1C,IAAIukF,GAAO,EAEPplF,OAAO8C,KAAKqiF,GAAY3jF,SAAWxB,OAAO8C,KAAKkiF,GAAYxjF,OAC7D4jF,GAAO,EAEPplF,OAAO8C,KAAKkiF,GAAYr1E,SAAQ,SAAU9O,GACpCskF,EAAWtkF,KAASmkF,EAAWnkF,KAAMukF,GAAO,MAIhDA,GACF3C,EAAgBv9E,OAAO2B,EAAG,IAIrBA,EAAIi+E,EAAgB,EAAGj+E,EAAIvH,EAAGuH,IACrCo+E,EAAQp+E,GAGVi+E,EAAgBrC,EAAgBjhF,QAGlC,IAASlC,EAAI,EAAGA,GAAKwlF,EAAgB,EAAGxlF,IACtC8xD,EAAQ9xD,GAGV,OAAOmjF,KC9iCM4C,GA1Ef,WACE,SAASA,EAAM9hC,QACG,IAAZA,IACFA,EAAU,IAGZrkD,KAAKsiE,WAAa,IAAIhB,EACtBthE,KAAKqkD,QAAUA,EAgEjB,OA7DAvjD,OAAOC,eAAeolF,EAAMnkF,UAAW,SAAU,CAC/Cf,IAAK,WACH,OAAOjB,KAAKsiE,WAAWxU,UAAUxrD,QAEnCtB,YAAY,EACZolF,cAAc,IAMhBD,EAAMnkF,UAAUiO,QAAU,WACxB,OAAQjQ,KAAKsiE,WAAWz6D,MAO1Bs+E,EAAMnkF,UAAUqkF,WAAa,WAC3B,OAAOrmF,KAAK8tD,UAAUxrD,QAAUtC,KAAKqkD,SAOvC8hC,EAAMnkF,UAAUugE,KAAO,WACrB,OAAIviE,KAAKiQ,UACA,KAIFjQ,KAAKsiE,WAAWz6D,KAAKxG,OAG9B8kF,EAAMnkF,UAAUc,KAAO,SAAUzB,GAC/BrB,KAAKsiE,WAAWd,QAAQngE,GAEpBrB,KAAKsC,OAAStC,KAAKqkD,SACrBrkD,KAAKsiE,WAAWR,cAIpBqkB,EAAMnkF,UAAUsT,IAAM,WACpB,IAAIotD,EAAa1iE,KAAKsiE,WAAWN,aACjC,OAAOU,EAAaA,EAAWrhE,MAAQ,MAGzC8kF,EAAMnkF,UAAU8rD,QAAU,WACxB,OAAO9tD,KAAKsiE,WAAWxU,UAAUv9C,KAAI,SAAUsiB,GAC7C,OAAOA,EAAKxxB,UAIhB8kF,EAAMnkF,UAAU6rC,MAAQ,WACtB,MAAQ7tC,KAAKiQ,WACXjQ,KAAKsV,OAIF6wE,EAvET,GCkBIhf,GAAsBmf,EAEX,WACb14D,aAAcA,EACdo1C,mBAAoBA,EACpBujB,mBAAoBA,EACpBz4D,UAAWA,EACX+2C,YAAaA,EACbC,aAAcA,EACdwhB,YAAaA,EACbnf,oBAAqBA,GACrBD,gBAAiBA,EACjBpB,uBAAwBA,EACxBb,yBAA0BA,EAC1BF,iBAAkBA,EAClB4C,SAAUA,EACVuB,YAAaA,EACbF,iBAAkBA,EAClBn7C,cAAeA,EACfw7C,iBAAkBA,EAClBwE,QAASA,EACT4C,SAAUA,EACVC,MAAOA,EACPG,OAAQA,EACRe,iBAAkBA,EAClBM,sBAAuBA,EACvBgC,oBAAqBA,EACrBI,SAAUA,EACVvhC,aAAcA,EACdozC,MAAOA,GACPlH,MAAOA,K,gfC7CH,SAAUuH,EAAcn0C,EAAK5tC,EAAGiB,GACpC,IAAM+gF,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAruB,IAAKsuB,gBAAgBD,EAAU/gF,GACxB0yD,IAAKuuB,SAASt0C,EAAKo0C,EAAUhiF,GAGhC,SAAUmiF,EAAWv0C,EAAK5tC,EAAGk4B,GACjC,IAAMkqD,EAAsB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEtD,OADAzuB,IAAK0uB,aAAaD,EAAWlqD,GACtBy7B,IAAKuuB,SAASt0C,EAAKw0C,EAAWpiF,GAGjC,SAAUsiF,EAAU10C,EAAK5tC,EAAGiB,GAChC,IAAMshF,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADA5uB,IAAK6uB,YAAYD,EAAUthF,GACpB0yD,IAAKuuB,SAASt0C,EAAK20C,EAAUviF,GAWhC,SAAUmrB,EAAUpvB,EAAa0mF,GAGrC,IAFA,IAToB70C,EAAK5tC,EAAG0iF,EAStBr1D,EAAStxB,EAAI,GAAGwE,OAAOxE,GAAK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnDJ,EAAI,EAAGqD,EAAMyjF,EAAQ5kF,OAAQlC,EAAIqD,EAAKrD,IAAK,CAClD,IAAM0I,EAASo+E,EAAQ9mF,GACvB,OAAQ0I,EAAO,IACb,IAAK,IACH09E,EAAc10D,EAAQA,EAAQ,CAAEhpB,EAAO,GAAIA,EAAO,KAClD,MACF,IAAK,IACHi+E,EAAUj1D,EAAQA,EAAQ,CAAEhpB,EAAO,GAAIA,EAAO,KAC9C,MACF,IAAK,IACH89E,EAAW90D,EAAQA,EAAQhpB,EAAO,IAClC,MACF,IAAK,IAvBWupC,EAwBDvgB,EAxBMrtB,EAwBEqtB,EAxBCq1D,EAwBOr+E,EAAO,GAvBnCsvD,IAAKuuB,SAASt0C,EAAK80C,EAAI1iF,IA8B9B,OAAOqtB,EASH,SAAUgE,EAAUsnC,EAAcC,GACtC,OAAOD,EAAG,GAAKC,EAAG,GAAKA,EAAG,GAAKD,EAAG,GAS9B,SAAUgqB,EAAQhqB,EAAsBC,EAAsBgqB,GAClE,IAAMC,EAAMtqB,IAAKxrC,MAAM4rC,EAAIC,GACrBkqB,EAAmBzxD,EAAUsnC,EAAIC,IAAO,EAC9C,OAAIgqB,EACEE,EACe,EAAVliF,KAAK6F,GAASo8E,EAEhBA,EAGLC,EACKD,EAEQ,EAAVjiF,KAAK6F,GAASo8E,EASjB,SAAUE,EAASn1C,EAAe3sC,EAAak5C,GASnD,OARIA,GACFvM,EAAI,GAAK3sC,EAAE,GACX2sC,EAAI,IAAM,EAAI3sC,EAAE,KAEhB2sC,EAAI,IAAM,EAAI3sC,EAAE,GAChB2sC,EAAI,GAAK3sC,EAAE,IAGN2sC,I,mBC1GwLn4B,KAAhIra,EAAOD,QAAiJ,WAAW,aAAa,IAAI0B,EAAE,CAACZ,EAAE,SAASqH,EAAElG,GAAG,IAAI,IAAIX,KAAKW,EAAEP,EAAET,EAAEgB,EAAEX,KAAKI,EAAET,EAAEkH,EAAE7G,IAAIJ,OAAOC,eAAegH,EAAE7G,EAAE,CAACF,YAAW,EAAGC,IAAIY,EAAEX,MAAML,EAAE,SAASS,EAAEyG,GAAG,OAAOjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI7G,EAAE,SAASI,GAAG,oBAAoBH,QAAQA,OAAOC,aAAaN,OAAOC,eAAeO,EAAEH,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAeO,EAAE,aAAa,CAACD,OAAM,MAAO0G,EAAE,GAAG,SAASlG,EAAEP,EAAEyG,GAAG,YAAO,IAASzG,EAAEyG,EAAEzG,EAAEA,EAAEJ,EAAE6G,GAAGzG,EAAEZ,EAAEqH,EAAE,CAAC+4B,QAAQ,WAAW,OAAO2mD,MAAM,IAAIvmF,EAAId,EAAEiF,KAAKyE,MAAM2N,EAAEpS,KAAKqF,IAAIjK,EAAEwQ,KAAKC,IAAIzM,EAAE,UAAUtC,EAAE,OAAOsL,EAAE,eAAepN,EAAE,OAAO6B,EAAE,QAAQ0S,EAAE,QAAQ4C,GAAGtW,EAAE,GAAG,CAAC,OAAO,eAAe,QAAQ,QAAQ,cAAc,QAAQuP,SAAQ,SAAUnP,GAAG,OAAOJ,EAAEI,IAAG,KAAMJ,GAAGwE,EAAE,QAAQkB,EAAE,CAAC,IAAI,KAAKlG,EAAE,CAAC,UAAU,WAAWF,EAAE,GAAyRqU,EAApR,mBAAmB/T,OAAO0S,OAAO,SAASlS,GAAG,GAAG,MAAMA,EAAE,MAAM,IAAI6N,UAAU,8CAA8C,IAAI,IAAIpH,EAAEjH,OAAOQ,GAAGO,EAAE,EAAEA,EAAEkN,UAAUzM,OAAOT,IAAI,CAAC,IAAIX,EAAE6N,UAAUlN,GAAG,GAAG,MAAMX,EAAE,IAAI,IAAIL,KAAKK,EAAEA,EAAEe,eAAepB,KAAKkH,EAAElH,GAAGK,EAAEL,IAAI,OAAOkH,GAAGjH,OAAO0S,OAAe+lB,EAAE,EAAE,SAASO,EAAEx4B,EAAEyG,EAAElG,GAAG,IAAIX,EAAE,GAAGI,EAAE,GAAGA,EAAEmP,QAAQnP,EAAEmP,QAAQ1I,EAAElG,QAAQ,QAAG,IAASP,EAAEgB,OAAO,IAAIpB,EAAE,EAAEA,EAAEI,EAAEgB,QAAQyF,EAAExH,KAAKsB,EAAEP,EAAEJ,GAAGA,EAAEI,GAAGJ,SAAS,IAAIA,KAAKI,EAAEA,EAAEW,eAAef,IAAI6G,EAAExH,KAAKsB,EAAEP,EAAEJ,GAAGA,EAAEI,GAAG,SAASq4B,EAAEr4B,EAAEyG,EAAElG,GAAG,QAAQwB,MAAMC,QAAQhC,KAAKw4B,EAAEx4B,EAAEO,EAAEkG,GAAGlG,IAAG,GAAI,SAAS8F,EAAErG,EAAEyG,EAAElG,GAAG,GAAGP,EAAEmB,UAAUZ,EAAE,OAAOP,EAAEmB,QAAQsF,GAAG,IAAI,IAAI7G,EAAE,EAAEA,EAAEI,EAAEgB,QAAQ,CAAC,GAAGT,GAAGP,EAAEJ,GAAGW,IAAIkG,IAAIlG,GAAGP,EAAEJ,KAAK6G,EAAE,OAAO7G,EAAEA,IAAI,OAAO,EAAE,SAAS6S,EAAEzS,GAAG,OAAOyS,EAAE,mBAAmB5S,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAASwT,EAAExT,EAAEyG,GAAG,MAAM,aAAagM,EAAEzS,GAAGA,EAAEmG,MAAMM,GAAGA,EAAE,SAAI,EAAOA,GAAGzG,EAAE,SAAS+uB,EAAE/uB,EAAEyG,GAAG,IAAIlG,EAAEkG,EAAE2/E,QAAQ,OAAO7lF,EAAEA,EAAEZ,IAAIK,GAAGA,EAAE,SAASm4B,EAAEn4B,GAAG,OAAO,GAAGA,EAAE,SAAS,EAAEA,EAAE,MAAM,EAAEA,EAAE,OAAO,EAAEA,EAAE,QAAQ,GAAyK,IAAIqC,EAAE,WAAW,SAASrC,EAAEyG,IAAI,SAASzG,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAK+Q,QAAQ8D,EAAE,GAAG7U,KAAK2nF,SAAS5/E,GAAG,IAAI/H,KAAKmuB,GAAGoL,IAAIv5B,KAAK0nF,QAAQ,KAAK1nF,KAAK+Q,QAAQ8/B,OAAOhvC,EAAE7B,KAAK+Q,QAAQ8/B,QAAO,GAAI7wC,KAAK+uC,MAAM,EAAE/uC,KAAK4nF,aAAa,GAAG5nF,KAAK6nF,YAAY,GAAG,IAAI9/E,EAAE7G,EAAE,OAAO6G,EAAEzG,GAAGJ,EAAE,CAAC,CAACS,IAAI,MAAMN,MAAM,SAASC,GAAG,OAAOuT,EAAE7U,KAAK+Q,QAAQzP,GAAGtB,KAAK0nF,SAAS1nF,KAAK0nF,QAAQI,YAAYn+C,SAAS3pC,OAAO,CAAC2B,IAAI,gBAAgBN,MAAM,SAASC,GAAG,GAAGq4B,EAAEr4B,EAAE,gBAAgBtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAK4nF,aAAa,OAAO7/E,GAAGzG,EAAE+uB,EAAE/uB,EAAEtB,OAAOmuB,MAAMpmB,EAAEzG,EAAE6sB,IAAI7sB,EAAEA,EAAEymF,cAAc/nF,OAAOA,OAAO,CAAC2B,IAAI,oBAAoBN,MAAM,SAASC,GAAG,OAAOq4B,EAAEr4B,EAAE,oBAAoBtB,QAAQsB,EAAE+uB,EAAE/uB,EAAEtB,aAAaA,KAAK4nF,aAAatmF,EAAE6sB,KAAKnuB,OAAO,CAAC2B,IAAI,iBAAiBN,MAAM,SAASC,GAAG,GAAGq4B,EAAEr4B,EAAE,iBAAiBtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAK6nF,YAAY,OAAO,IAAIlgF,EAAEI,EAAEzG,EAAE+uB,EAAE/uB,EAAEtB,SAAS+H,EAAEjF,KAAKxB,GAAGA,EAAE0mF,eAAehoF,OAAOA,OAAO,CAAC2B,IAAI,qBAAqBN,MAAM,SAASC,GAAG,GAAGq4B,EAAEr4B,EAAE,qBAAqBtB,MAAM,OAAOA,KAAKsB,EAAE+uB,EAAE/uB,EAAEtB,MAAM,IAAI+H,EAAEJ,EAAE3H,KAAK6nF,YAAYvmF,GAAG,OAAOyG,GAAG,GAAG/H,KAAK6nF,YAAY7hF,OAAO+B,EAAE,GAAG/H,OAAO,CAAC2B,IAAI,qBAAqBN,MAAM,WAAW,OAAOrB,KAAK6nF,YAAYvlF,OAAO,IAAI,CAACX,IAAI,mBAAmBN,MAAM,SAASC,GAAG,QAAQtB,KAAK4nF,aAAatmF,EAAE6sB,MAAM,CAACxsB,IAAI,OAAON,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAK+uC,MAAM,SAAS7tC,EAAEW,GAAGkG,EAAE2/E,QAAQtrE,KAAKva,EAAEP,GAAGO,EAAE,GAAGX,EAAE6G,EAAEgJ,QAAQie,MAAMyK,EAAE53B,IAAIX,EAAE6G,EAAEgJ,QAAQie,OAAO1tB,EAAE2mF,iBAAiB/mF,EAAEI,EAAE2mF,iBAAiBpmF,GAAG,GAAGX,EAAE6G,EAAEgJ,QAAQie,MAAMyK,EAAE53B,MAAM,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,GAAGtB,KAAKkoF,UAAU,OAAOloF,KAAKoc,KAAK9a,GAAGtB,KAAK+uC,MAAMvuC,IAAI,CAACmB,IAAI,UAAUN,MAAM,WAAW,IAAI,IAAIC,EAAE,EAAEA,EAAEtB,KAAK6nF,YAAYvlF,QAAQ,CAAC,KAAK,GAAGtC,KAAK6nF,YAAYvmF,GAAGytC,OAAO,OAAM,EAAGztC,IAAI,OAAM,IAAK,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,IAAIyG,EAAE8M,EAAE,GAAGvT,GAAG,IAAIwT,EAAE9U,KAAK+Q,QAAQ8/B,OAAO,CAAC7wC,KAAK+H,IAAI,OAAO/H,KAAKmoF,aAAanoF,KAAK+uC,MAAMvuC,GAAG,GAAGR,KAAK+uC,QAAQ/uC,KAAK+uC,MAAM,GAAG/uC,KAAK+uC,MAAM/uC,KAAKmY,QAAQpQ,GAAG,GAAG/H,KAAK+uC,OAAO/uC,KAAKooF,QAAQrgF,KAAK,CAACpG,IAAI,UAAUN,MAAM,SAASC,MAAM,CAACK,IAAI,iBAAiBN,MAAM,cAAc,CAACM,IAAI,QAAQN,MAAM,iBAAvmE,SAAWC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAs9Dw4B,CAAE3xB,EAAE/F,UAAUd,GAAGJ,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK/mF,EAAhhE,GAAqhE,SAAS2gB,EAAE3gB,GAAG,OAAO2gB,EAAE,mBAAmB9gB,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAASu3B,EAAEv3B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAAS8pB,EAAE33B,EAAEyG,GAAG,OAAOkxB,EAAEn4B,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAAS6wB,EAAEt3B,EAAEyG,GAAG,GAAGA,IAAI,WAAWka,EAAEla,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAAS44B,EAAE54B,GAAG,OAAO44B,EAAEp5B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGqC,EAAE3B,UAAU2lF,SAAS,GAAG,IAAIruD,EAAE,SAASh4B,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGkxB,EAAE33B,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEmyB,EAAEh5B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEq4B,EAAEl6B,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAO6pB,EAAE54B,KAAKsB,KAAK,SAASmW,IAAI,OAAOohB,EAAE74B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,WAAWN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK+Q,QAAQ83E,SAAS,OAAO,IAAI9gF,GAAGzG,EAAEunF,SAASvmF,SAASyF,IAAI,CAACpG,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK+uC,MAAMltC,EAAEP,EAAEwnF,UAAU5nF,EAAE,EAAE6G,EAAElH,EAAEb,KAAK+oF,SAASznF,GAAG,OAAOJ,IAAI,EAAEW,IAAIhB,GAAG,GAAGkH,EAAE7G,GAAGL,EAAE,EAAEgB,EAAE,EAAEkG,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAEvH,OAAxsD,SAAWc,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA6iDw3B,CAAE3wB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAvkC,CAA0kC9T,GAAG,SAASq2B,EAAE14B,GAAG,OAAO04B,EAAE,mBAAmB74B,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAAS24B,EAAE34B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAASwpB,IAAI,OAAOA,EAAE,oBAAoB4vD,SAASA,QAAQtnF,IAAIsnF,QAAQtnF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEm4B,EAAE/3B,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAUoG,MAAMzH,KAAK+O,WAAW,SAASsqB,EAAE/3B,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAEy4B,EAAEz4B,MAAM,OAAOA,EAAE,SAASyyB,EAAEzyB,EAAEyG,GAAG,OAAOgsB,EAAEjzB,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAASqxB,EAAE93B,EAAEyG,GAAG,GAAGA,IAAI,WAAWiyB,EAAEjyB,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASy4B,EAAEz4B,GAAG,OAAOy4B,EAAEj5B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGg4B,EAAEt3B,UAAU2lF,SAAS,CAACkB,SAAS,GAAG,IAAIjvD,EAAE,SAASt4B,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGgsB,EAAEzyB,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEgyB,EAAE74B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEk4B,EAAE/5B,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOqqB,EAAEp5B,KAAKsB,KAAK,SAASmW,IAAI,OAAOwiB,EAAEj6B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAAChB,KAAK,CAACsB,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAOq3B,EAAEoB,EAAEtiB,EAAEzV,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,KAAK+D,KAAKqF,IAAIpJ,EAAE0nF,UAAUhpF,KAAK+Q,QAAQmrC,WAAW,EAAEl8C,KAAK+uC,YAA7+D,SAAWztC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAu1D43B,CAAE/wB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAhiC,CAAmiC6hB,GAAG,SAASO,EAAEv4B,GAAG,OAAOu4B,EAAE,mBAAmB14B,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAKA,GAAG,SAAS03B,EAAE13B,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA2M,SAASgrB,IAAI,OAAOA,EAAE,oBAAoBouD,SAASA,QAAQtnF,IAAIsnF,QAAQtnF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEk5B,EAAE94B,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAUoG,MAAMzH,KAAK+O,WAAW,SAASqrB,EAAE94B,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAEk4B,EAAEl4B,MAAM,OAAOA,EAAE,SAAS43B,EAAE53B,EAAEyG,GAAG,OAAOmxB,EAAEp4B,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAKA,EAAEyG,GAAG,SAASoxB,EAAE73B,EAAEyG,GAAG,GAAGA,IAAI,WAAW8xB,EAAE9xB,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASk4B,EAAEl4B,GAAG,OAAOk4B,EAAE14B,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAMA,GAAGs4B,EAAE53B,UAAU2lF,SAAS,CAAC34D,MAAM,SAASktB,UAAU,EAAE2sC,SAAS,GAAG,IAAII,EAAG,SAAS3nF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGmxB,EAAE53B,EAAEyG,GAAlR,CAAsR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEyxB,EAAEt4B,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE23B,EAAEx5B,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOoqB,EAAEn5B,KAAKsB,KAAK,SAASmW,IAAI,OAAOuhB,EAAEh5B,KAAKyX,GAAGrX,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAAChB,KAAK,CAACsB,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAO64B,EAAEX,EAAE/hB,EAAEzV,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,KAAK+D,KAAKqF,IAAIpJ,EAAEy6B,MAAM,GAAG/7B,KAAK+Q,QAAQmrC,WAAW,EAAEl8C,KAAK+uC,SAAS,CAACptC,IAAI,OAAON,MAAM,SAASC,GAAG,GAAG,IAAIA,EAAEy6B,MAAM,CAAC,IAAIh0B,EAAEzG,EAAEy6B,MAAM,EAAE,KAAK,MAAMz6B,EAAE2mF,gBAAgBjoF,KAAK+Q,QAAQie,MAAMjnB,EAAEoyB,EAAEX,EAAE/hB,EAAEzV,WAAW,OAAOhC,MAAMO,KAAKP,KAAKsB,QAAzqE,SAAWA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA+gE63B,CAAEhxB,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAA5rC,CAA+rC6hB,GAAG,SAAS4vD,EAAG5nF,GAAG,OAAO,KAAKA,EAAE,OAAO,IAAIA,EAAE,KAAK,IAAIA,EAAE,OAAO,IAAIA,EAAE,QAAQ,GAAG,SAAS6nF,EAAG7nF,GAAG,OAAO6nF,EAAG,mBAAmBhoF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS8nF,EAAG9nF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASk6E,IAAK,OAAOA,EAAG,oBAAoBd,SAASA,QAAQtnF,IAAIsnF,QAAQtnF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEooF,GAAGhoF,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAWoG,MAAMzH,KAAK+O,WAAW,SAASu6E,GAAGhoF,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAEioF,GAAGjoF,MAAM,OAAOA,EAAE,SAASkoF,GAAGloF,EAAEyG,GAAG,OAAOyhF,GAAG1oF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAAS0hF,GAAGnoF,EAAEyG,GAAG,GAAGA,IAAI,WAAWohF,EAAGphF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASioF,GAAGjoF,GAAG,OAAOioF,GAAGzoF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAG2nF,EAAGjnF,UAAU2lF,SAAS,CAAC34D,MAAM,QAAQktB,UAAU,EAAE2sC,SAAS,GAAG,IAAIa,GAAG,SAASpoF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGyhF,GAAGloF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEwhF,GAAGroF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE0nF,GAAGvpF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAO06E,GAAGzpF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO8nF,EAAGppF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY46E,GAAG,KAAKroF,EAAEsoF,GAAG,KAAKtoF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,IAAIC,EAAEtB,KAAK+Q,QAAQ+kB,UAAU/tB,EAAE,GAAG,OAAO,EAAEzG,GAAGyG,EAAEjF,KAAK8R,GAAG,GAAGtT,GAAGyG,EAAEjF,KAAKZ,GAAG6F,IAAI,CAACpG,IAAI,gBAAgBN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK+Q,QAAQlP,GAAE,EAAGX,EAAEI,EAAEyrB,SAASlsB,EAAES,EAAEw0B,UAAU11B,EAAEkB,EAAEuoF,OAAOpyE,EAAEnW,EAAEwoF,OAAO,OAAOjpF,EAAEkH,EAAE+tB,YAAY,EAAE/tB,EAAE+tB,WAAWj1B,EAAE,IAAIT,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAEyB,EAAEzB,IAAIJ,KAAK2pF,GAAGzoF,EAAEmE,KAAKqF,IAAIpJ,EAAEuoF,UAAUhpF,EAAE,IAAI4W,EAAE,EAAEA,EAAE,EAAE,EAAE,GAAG5V,EAAE4V,IAAIzX,KAAK4pF,GAAG1oF,EAAEmE,KAAKqF,IAAIpJ,EAAEwoF,UAAUxoF,EAAEw0B,UAAUj1B,EAAEgB,GAAGX,EAAE6G,EAAEm0C,WAAWr7C,EAAEkH,EAAE+tB,YAAY,CAACn0B,IAAI,WAAWN,MAAM,SAASC,GAAG,OAAOg4B,EAAEt3B,UAAU+mF,SAASxoF,KAAKP,KAAKsB,KAAK,EAAEtB,KAAK+uC,SAAS,EAAE/uC,KAAK+uC,QAAQ/uC,KAAK+pF,cAAczoF,MAAM,CAACK,IAAI,OAAON,MAAM,SAASC,GAAGtB,KAAK2pF,GAAGroF,EAAEuoF,OAAO7pF,KAAK4pF,GAAGtoF,EAAEwoF,OAAO,IAAI/hF,EAAEmhF,EAAG5nF,EAAEw0B,WAAW/tB,IAAIzG,EAAE2mF,gBAAgBjoF,KAAK+Q,QAAQie,MAAMjnB,GAAGshF,EAAGE,GAAG9xE,EAAEzV,WAAW,OAAOhC,MAAMO,KAAKP,KAAKsB,QAAnlF,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAw7E8oF,CAAGjiF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAxlD,CAA2lD6hB,GAAG,SAAS2wD,GAAG3oF,GAAG,OAAO2oF,GAAG,mBAAmB9oF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS4oF,GAAG5oF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASg7E,KAAK,OAAOA,GAAG,oBAAoB5B,SAASA,QAAQtnF,IAAIsnF,QAAQtnF,IAAI,SAASK,EAAEyG,EAAElG,GAAG,IAAIX,EAAEkpF,GAAG9oF,EAAEyG,GAAG,GAAG7G,EAAE,CAAC,IAAIL,EAAEC,OAAOwrB,yBAAyBprB,EAAE6G,GAAG,OAAOlH,EAAEI,IAAIJ,EAAEI,IAAIV,KAAKwO,UAAUzM,OAAO,EAAEhB,EAAEO,GAAGhB,EAAEQ,SAAWoG,MAAMzH,KAAK+O,WAAW,SAASq7E,GAAG9oF,EAAEyG,GAAG,MAAMjH,OAAOkB,UAAUC,eAAe1B,KAAKe,EAAEyG,IAAI,QAAQzG,EAAE+oF,GAAG/oF,MAAM,OAAOA,EAAE,SAASgpF,GAAGhpF,EAAEyG,GAAG,OAAOuiF,GAAGxpF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASwiF,GAAGjpF,EAAEyG,GAAG,GAAGA,IAAI,WAAWkiF,GAAGliF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAAS+oF,GAAG/oF,GAAG,OAAO+oF,GAAGvpF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGooF,GAAG1nF,UAAU2lF,SAAS,CAAC34D,MAAM,MAAMktB,UAAU,GAAG2sC,SAAS,EAAE/yD,UAAU,IAAI,IAAI00D,GAAG,SAASlpF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGuiF,GAAGhpF,EAAEyG,GAAnR,CAAuRtH,EAAEa,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAET,EAAEI,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEsiF,GAAGnpF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAEwoF,GAAGrqF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOw7E,GAAGvqF,KAAKsB,KAAK,SAASb,IAAI,OAAOypF,GAAGlqF,KAAKS,GAAGL,EAAEqH,MAAMzH,KAAK+O,WAAW,OAAOhH,EAAEtH,GAAGoB,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,OAAOqoF,GAAG1nF,UAAUyoF,eAAelqF,KAAKP,QAAQ,CAAC2B,IAAI,WAAWN,MAAM,SAASC,GAAG,IAAIyG,EAAElG,EAAE7B,KAAK+Q,QAAQ+kB,UAAU,OAAO,GAAGj0B,EAAEkG,EAAEzG,EAAEopF,gBAAgB,EAAE7oF,EAAEkG,EAAEzG,EAAEqpF,iBAAiB,GAAG9oF,IAAIkG,EAAEzG,EAAEspF,kBAAkBT,GAAGE,GAAG5pF,EAAEuB,WAAW,WAAWhC,MAAMO,KAAKP,KAAKsB,IAAIO,EAAEP,EAAEupF,iBAAiBvpF,EAAEyrB,SAAS/sB,KAAK+Q,QAAQmrC,WAAW56C,EAAEwpF,cAAc9qF,KAAK+Q,QAAQ83E,UAAUpxE,EAAE1P,GAAG/H,KAAK+Q,QAAQg6E,UAAU,EAAEzpF,EAAEwnF,YAAY,CAACnnF,IAAI,OAAON,MAAM,SAASC,GAAG,IAAIyG,EAAEmhF,EAAG5nF,EAAEupF,iBAAiB9iF,GAAG/H,KAAK0nF,QAAQtrE,KAAKpc,KAAK+Q,QAAQie,MAAMjnB,EAAEzG,GAAGtB,KAAK0nF,QAAQtrE,KAAKpc,KAAK+Q,QAAQie,MAAM1tB,QAA/5E,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAowE8pF,CAAGjjF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5nF,EAAx5C,CAA25C64B,GAAG,SAAS2xD,GAAG3pF,EAAEyG,GAAG,OAAO,WAAW,OAAOzG,EAAEmG,MAAMM,EAAEgH,YAAY,SAASm8E,GAAG5pF,EAAEyG,EAAElG,GAAG,OAAO6L,WAAWu9E,GAAG3pF,EAAEO,GAAGkG,GAAG,SAASojF,GAAG7pF,EAAEyG,EAAElG,GAAGA,IAAIA,EAAE+E,GAAG,IAAI1F,EAAE6G,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAIhB,EAAEkH,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAI,OAAOwD,KAAKuS,KAAK1W,EAAEA,EAAEL,EAAEA,GAAG,SAASuqF,GAAG9pF,GAAG,OAAO8pF,GAAG,mBAAmBjqF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS+pF,GAAG/pF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASm8E,GAAGhqF,EAAEyG,GAAG,OAAOujF,GAAGxqF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASwjF,GAAGjqF,EAAEyG,GAAG,GAAGA,IAAI,WAAWqjF,GAAGrjF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASkqF,GAAGlqF,GAAG,OAAOkqF,GAAG1qF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGkpF,GAAGxoF,UAAU2lF,SAAS,CAAC34D,MAAM,QAAQktB,UAAU,GAAG6uC,SAAS,GAAGj1D,UAAU,GAAG+yD,SAAS,GAAG,IAAI4C,GAAG,SAASnqF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGujF,GAAGhqF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEyjF,GAAGtqF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE2pF,GAAGxrF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOw8E,GAAGvrF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO+pF,GAAGrrF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY28E,OAAM,EAAGpqF,EAAEqqF,SAAQ,EAAGrqF,EAAEsqF,OAAO,KAAKtqF,EAAEuqF,OAAO,KAAKvqF,EAAEqY,MAAM,EAAErY,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAACoM,KAAK,CAAC9L,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAK+Q,QAAQ7P,EAAEI,EAAEunF,SAASvmF,SAAST,EAAEgnF,SAAShoF,EAAES,EAAEyrB,SAASlrB,EAAEq6C,UAAU97C,EAAEkB,EAAEwqF,UAAUjqF,EAAEkqF,KAAK,GAAG/rF,KAAKmoF,QAAQ,EAAE7mF,EAAEwnF,WAAW,IAAI9oF,KAAK2Z,MAAM,OAAO3Z,KAAKgsF,cAAc,GAAGnrF,GAAGT,GAAGc,EAAE,CAAC,GAAG,IAAII,EAAEwnF,UAAU,OAAO9oF,KAAKgsF,cAAc,IAAIv0E,GAAGzX,KAAK0rF,OAAOpqF,EAAE2qF,UAAUjsF,KAAK0rF,MAAM7pF,EAAEqqF,SAASzrF,GAAGT,KAAK2rF,SAASR,GAAGnrF,KAAK2rF,QAAQrqF,EAAEwvB,QAAQjvB,EAAEsqF,aAAa,GAAGnsF,KAAK0rF,MAAMpqF,EAAE2qF,UAAUjsF,KAAK2rF,QAAQrqF,EAAEwvB,OAAOrwB,GAAGgX,EAAEzX,KAAK2Z,OAAO,EAAE3Z,KAAK2Z,MAAM,EAAE3Z,KAAK6rF,OAAOvqF,EAAE,GAAGtB,KAAK2Z,MAAM9X,EAAEuqF,KAAK,OAAOpsF,KAAKqsF,sBAAsBrsF,KAAK4rF,OAAOV,IAAG,WAAYnjF,EAAEgnC,MAAM,EAAEhnC,EAAEqgF,YAAYvmF,EAAEqqF,SAASlsF,MAAM,GAAG,EAAE,OAAOQ,IAAI,CAACmB,IAAI,cAAcN,MAAM,WAAW,IAAIC,EAAEtB,KAAK,OAAOA,KAAK4rF,OAAOV,IAAG,WAAY5pF,EAAEytC,MAAMvuC,IAAIR,KAAK+Q,QAAQm7E,SAASlsF,MAAMQ,IAAI,CAACmB,IAAI,QAAQN,MAAM,WAAW2M,aAAahO,KAAK4rF,QAAQ5rF,KAAK4rF,OAAO,OAAO,CAACjqF,IAAI,OAAON,MAAM,WAAW,IAAIrB,KAAK+uC,QAAQ/uC,KAAK6rF,OAAOS,SAAStsF,KAAK2Z,MAAM3Z,KAAK0nF,QAAQtrE,KAAKpc,KAAK+Q,QAAQie,MAAMhvB,KAAK6rF,cAAvkF,SAAYvqF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAk7EqrF,CAAGxkF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAr4D,CAAw4D9T,GAAG,SAAS6oF,GAAGlrF,GAAG,OAAOkrF,GAAG,mBAAmBrrF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAASmrF,GAAGnrF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASu9E,GAAGprF,EAAEyG,GAAG,OAAO2kF,GAAG5rF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAAS4kF,GAAGrrF,EAAEyG,GAAG,GAAGA,IAAI,WAAWykF,GAAGzkF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASsrF,GAAGtrF,GAAG,OAAOsrF,GAAG9rF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGmqF,GAAGzpF,UAAU2lF,SAAS,CAAC34D,MAAM,MAAM65D,SAAS,EAAEuD,KAAK,EAAEF,SAAS,IAAIH,KAAK,IAAI7vC,UAAU,EAAEiwC,aAAa,IAAI,IAAIU,GAAG,SAASvrF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAG2kF,GAAGprF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAE6kF,GAAG1rF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE+qF,GAAG5sF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAO49E,GAAG3sF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAOmrF,GAAGzsF,KAAKyX,IAAInW,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY68E,OAAO,KAAKtqF,EAAEuqF,OAAO,KAAKvqF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,iBAAiBN,MAAM,WAAW,MAAM,CAACc,KAAK,CAACR,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK6B,EAAE7B,KAAK+Q,QAAQ7P,EAAEI,EAAEunF,SAASvmF,SAAST,EAAEgnF,SAAShoF,EAAES,EAAEyrB,SAASlrB,EAAEq6C,UAAU97C,EAAEkB,EAAEwqF,UAAUjqF,EAAEkqF,KAAK,GAAG/rF,KAAK6rF,OAAOvqF,GAAGT,IAAIK,GAAG,GAAGI,EAAEwnF,YAAY1oF,EAAEJ,KAAKmoF,aAAa,GAAG,EAAE7mF,EAAEwnF,UAAU9oF,KAAKmoF,QAAQnoF,KAAK4rF,OAAOV,IAAG,WAAYnjF,EAAEgnC,MAAM,EAAEhnC,EAAEqgF,YAAYvmF,EAAEkqF,KAAK/rF,WAAW,GAAG,EAAEsB,EAAEwnF,UAAU,OAAO,EAAE,OAAOtoF,IAAI,CAACmB,IAAI,QAAQN,MAAM,WAAW2M,aAAahO,KAAK4rF,QAAQ5rF,KAAK4rF,OAAO,OAAO,CAACjqF,IAAI,OAAON,MAAM,SAASC,GAAG,IAAItB,KAAK+uC,QAAQztC,GAAG,EAAEA,EAAEwnF,UAAU9oF,KAAK0nF,QAAQtrE,KAAK,GAAGpX,OAAOhF,KAAK+Q,QAAQie,MAAM,MAAM1tB,IAAItB,KAAK6rF,OAAOI,UAAUxrF,IAAIT,KAAK0nF,QAAQtrE,KAAKpc,KAAK+Q,QAAQie,MAAMhvB,KAAK6rF,eAA3uE,SAAYvqF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAulE4rF,CAAG/kF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAzhD,CAA4hD9T,GAAG,SAASopF,GAAGzrF,EAAEyG,GAAG,OAAOzG,EAAEmB,QAAQsF,IAAI,EAAyK8kF,GAAG7qF,UAAU2lF,SAAS,CAAC34D,MAAM,QAAQ65D,SAAS,EAAEkD,KAAK,IAAI7vC,UAAU,GAAG,IAAI8wC,GAAG,WAAW,SAAS1rF,EAAEyG,EAAElG,IAAI,SAASP,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAK0nF,QAAQ3/E,EAAE/H,KAAKsH,IAAIzF,GAAG,IAAIkG,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAGA,IAAImD,IAAInD,EAAEtB,KAAKitF,WAAWjtF,KAAKknF,QAAQ5lF,EAAEoK,cAAcq7B,SAAS,CAACplC,IAAI,SAASN,MAAM,WAAWrB,KAAKsH,IAAItH,KAAK0nF,QAAQ32E,QAAQ+2E,eAAe,CAACnmF,IAAI,UAAUN,MAAM,WAAW,IAAIC,EAAE,GAAG,OAAOw4B,EAAE95B,KAAK0nF,QAAQwF,aAAY,SAAUnlF,GAAG+M,EAAE/M,EAAEgJ,QAAQ8/B,OAAO,CAAC9oC,MAAMzG,EAAEA,EAAE0D,OAAO+C,EAAE0iF,sBAAsB,SAASnpF,GAAG,GAAGyrF,GAAGzrF,EAAEjB,GAAG,OAAOA,EAAE,IAAI0H,EAAEglF,GAAGzrF,EAAEY,GAAGL,EAAEkrF,GAAGzrF,EAAEsT,GAAG,OAAO7M,GAAGlG,EAAExB,EAAE0H,GAAGlG,EAAEkG,EAAE7F,EAAE0S,EAAEm4E,GAAGzrF,EAAEmM,GAAGA,EAAEtL,EAA3F,CAA8Fb,EAAE+Q,KAAK,QAAQ,CAAC1Q,IAAI,kBAAkBN,MAAM,SAASC,GAAG,IAAIyG,EAAEzG,EAAE6rF,SAAStrF,EAAEP,EAAEupF,gBAAgB,GAAG7qF,KAAK0nF,QAAQ0F,QAAQC,UAAUtlF,EAAEulF,qBAAqB,CAAC,IAAIpsF,EAAElB,KAAKknF,QAAQrmF,EAAEksF,GAAG7rF,EAAEb,KAAKmX,EAAE+1E,KAAKntF,EAAE2sF,GAAG7rF,EAAE0T,KAAK4C,EAAE,SAASC,EAAEs1E,GAAG7rF,EAAEgB,KAAKsV,EAAE,SAAS,GAAG3W,EAAE,CAAC,IAAIJ,EAAE,IAAIa,EAAEunF,SAASvmF,OAAOmC,EAAEnD,EAAEyrB,SAAS,EAAE5qB,EAAEb,EAAEwqF,UAAU,IAAI,GAAGrrF,GAAGgE,GAAGtC,EAAE,OAAO,IAAIsV,IAAIrX,EAAE,OAAOS,GAAGT,GAAG,EAAEyB,GAAG4V,GAAG,GAAG5V,EAAE7B,KAAKwtF,WAAWzlF,QAAG,KAAU,CAACpG,IAAI,aAAaN,MAAM,SAASC,GAAGtB,KAAK0nF,QAAQ0F,QAAQC,WAAU,EAAG/rF,EAAEgsF,sBAA5wC,SAAYhsF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA+nCusF,CAAG1lF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK/mF,EAAnnC,GAAwnC,SAASosF,GAAGpsF,GAAG,IAAIyG,EAAEzG,EAAEgB,OAAO,GAAG,IAAIyF,EAAE,MAAM,CAACka,EAAE7hB,EAAEkB,EAAE,GAAGuhC,SAASjuB,EAAExU,EAAEkB,EAAE,GAAGwhC,UAAU,IAAI,IAAIjhC,EAAE,EAAEX,EAAE,EAAEL,EAAE,EAAEA,EAAEkH,GAAGlG,GAAGP,EAAET,GAAGgiC,QAAQ3hC,GAAGI,EAAET,GAAGiiC,QAAQjiC,IAAI,MAAM,CAACohB,EAAE7hB,EAAEyB,EAAEkG,GAAG6M,EAAExU,EAAEc,EAAE6G,IAAI,SAAS4lF,GAAGrsF,GAAG,IAAI,IAAIyG,EAAE,GAAGlG,EAAE,EAAEA,EAAEP,EAAEunF,SAASvmF,QAAQyF,EAAElG,GAAG,CAACghC,QAAQziC,EAAEkB,EAAEunF,SAAShnF,GAAGghC,SAASC,QAAQ1iC,EAAEkB,EAAEunF,SAAShnF,GAAGihC,UAAUjhC,IAAI,MAAM,CAACoqF,UAAUxrF,IAAIooF,SAAS9gF,EAAE+oB,OAAO48D,GAAG3lF,GAAG8hF,OAAOvoF,EAAEuoF,OAAOC,OAAOxoF,EAAEwoF,QAAQ,SAAS8D,GAAGtsF,EAAEyG,EAAElG,GAAGA,IAAIA,EAAE+E,GAAG,IAAI1F,EAAE6G,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAIhB,EAAEkH,EAAElG,EAAE,IAAIP,EAAEO,EAAE,IAAI,OAAO,IAAIwD,KAAKsS,MAAM9W,EAAEK,GAAGmE,KAAK6F,GAAG,SAAS2iF,GAAGvsF,EAAEyG,GAAG,OAAOzG,IAAIyG,EAAE,EAAE0P,EAAEnW,IAAImW,EAAE1P,GAAGzG,EAAE,EAAE,EAAE,EAAEyG,EAAE,EAAE,EAAE,GAAG,SAAS+lF,GAAGxsF,EAAEyG,EAAElG,GAAG,MAAM,CAACogB,EAAEla,EAAEzG,GAAG,EAAEsT,EAAE/S,EAAEP,GAAG,GAAG,SAASysF,GAAGzsF,EAAEyG,EAAElG,GAAG,IAAIX,EAAEW,EAAEgnF,SAASvmF,OAAOzB,EAAEgB,EAAEmsF,gBAAgB1rF,OAAOlC,EAAE,EAAE2H,GAAG7G,EAAEL,GAAG,EAAE4D,EAAE,GAAGsD,GAAG7G,EAAEL,GAAG,EAAEgB,EAAEu9C,UAAUh/C,EAAEyB,EAAEosF,UAAUxpF,EAAErE,IAAIkB,EAAE8rF,QAAQ,IAAIvrF,EAAEinF,UAAU/gF,EAAE,SAASzG,EAAEyG,GAAG,IAAIlG,EAAEP,EAAE8rF,QAAQlsF,EAAE6G,EAAE8gF,SAAShoF,EAAEK,EAAEoB,OAAOT,EAAEqsF,aAAarsF,EAAEqsF,WAAWP,GAAG5lF,IAAIlH,EAAE,IAAIgB,EAAEssF,cAActsF,EAAEssF,cAAcR,GAAG5lF,GAAG,IAAIlH,IAAIgB,EAAEssF,eAAc,GAAI,IAAI/tF,EAAEyB,EAAEqsF,WAAWzpF,EAAE5C,EAAEssF,cAAchsF,EAAEsC,EAAEA,EAAEqsB,OAAO1wB,EAAE0wB,OAAOrjB,EAAE1F,EAAE+oB,OAAO48D,GAAGxsF,GAAG6G,EAAEkkF,UAAUxrF,IAAIsH,EAAE+jF,UAAU/jF,EAAEkkF,UAAU7rF,EAAE6rF,UAAUlkF,EAAEypB,MAAMo8D,GAAGzrF,EAAEsL,GAAG1F,EAAEglB,SAASo+D,GAAGhpF,EAAEsL,GAAG,SAASnM,EAAEyG,GAAG,IAAIlG,EAAEkG,EAAE+oB,OAAO5vB,EAAEI,EAAE8sF,aAAa,GAAGvtF,EAAES,EAAE+sF,WAAW,GAAGjuF,EAAEkB,EAAEgtF,WAAW,GAAG,IAAIvmF,EAAE+gF,WAAW,IAAI1oF,EAAE0oF,YAAYjoF,EAAES,EAAE+sF,UAAU,CAACpsE,EAAE7hB,EAAEypF,QAAQ,EAAEj1E,EAAExU,EAAE0pF,QAAQ,GAAG5oF,EAAEI,EAAE8sF,YAAY,CAACnsE,EAAEpgB,EAAEogB,EAAErN,EAAE/S,EAAE+S,IAAI7M,EAAE8hF,OAAOhpF,EAAEohB,GAAGpgB,EAAEogB,EAAE/gB,EAAE+gB,GAAGla,EAAE+hF,OAAOjpF,EAAE+T,GAAG/S,EAAE+S,EAAE1T,EAAE0T,GAA9O,CAAkP/S,EAAEkG,GAAGA,EAAE8iF,gBAAgBgD,GAAG9lF,EAAE8hF,OAAO9hF,EAAE+hF,QAAQ,IAAIzpF,EAAE6B,EAAE0S,EAAEk5E,GAAG/lF,EAAE+jF,UAAU/jF,EAAE8hF,OAAO9hF,EAAE+hF,QAAQ/hF,EAAE4iF,iBAAiB/1E,EAAEqN,EAAEla,EAAE6iF,iBAAiBh2E,EAAEA,EAAE7M,EAAE2iF,gBAAgBjzE,EAAE7C,EAAEqN,GAAGxK,EAAE7C,EAAEA,GAAGA,EAAEqN,EAAErN,EAAEA,EAAE7M,EAAEg0B,MAAMt3B,GAAGpE,EAAEoE,EAAEokF,SAASsC,IAAIjpF,EAAEhB,GAAG,GAAGgB,EAAE,GAAGxB,GAAGyqF,GAAG9qF,EAAE,GAAGA,EAAE,GAAGK,IAAI,EAAEqH,EAAEihF,SAASvkF,EAAE,SAASnD,EAAEyG,GAAG,OAAO6lF,GAAG7lF,EAAE,GAAGA,EAAE,GAAGrH,GAAGktF,GAAGtsF,EAAE,GAAGA,EAAE,GAAGZ,GAAlD,CAAsD+D,EAAEokF,SAAS3nF,GAAG,EAAE6G,EAAE+iF,YAAYjpF,EAAEysF,UAAUvmF,EAAE8gF,SAASvmF,OAAOT,EAAEysF,UAAUxD,YAAY/iF,EAAE8gF,SAASvmF,OAAOT,EAAEysF,UAAUxD,YAAY/iF,EAAE8gF,SAASvmF,OAAO,SAAShB,EAAEyG,GAAG,IAAIlG,EAAEX,EAAEL,EAAET,EAAEK,EAAEa,EAAEitF,cAAcxmF,EAAEtD,EAAEsD,EAAEkkF,UAAUxrF,EAAEwrF,UAAU,GAAG,IAAIlkF,EAAE+gF,YAAYrkF,EAAE,SAAI,IAAShE,EAAEsqF,UAAU,CAAC,IAAI5oF,EAAE4F,EAAE8hF,OAAOppF,EAAEopF,OAAOp8E,EAAE1F,EAAE+hF,OAAOrpF,EAAEqpF,OAAOzpF,EAAEytF,GAAGrpF,EAAEtC,EAAEsL,GAAGvM,EAAEb,EAAE4hB,EAAEphB,EAAER,EAAEuU,EAAE/S,EAAE4V,EAAEpX,EAAE4hB,GAAGxK,EAAEpX,EAAEuU,GAAGvU,EAAE4hB,EAAE5hB,EAAEuU,EAAExU,EAAEytF,GAAG1rF,EAAEsL,GAAGnM,EAAEitF,aAAaxmF,OAAOlG,EAAEpB,EAAEsqF,SAAS7pF,EAAET,EAAE+tF,UAAU3tF,EAAEJ,EAAEguF,UAAUruF,EAAEK,EAAEq1B,UAAU/tB,EAAEgjF,SAASlpF,EAAEkG,EAAEymF,UAAUttF,EAAE6G,EAAE0mF,UAAU5tF,EAAEkH,EAAE+tB,UAAU11B,EAAjW,CAAoWyB,EAAEkG,GAA71C,CAAi2CzG,EAAEO,GAAGP,EAAE8a,KAAK,eAAeva,GAAGP,EAAEotF,UAAU7sF,GAAGP,EAAE8rF,QAAQkB,UAAUzsF,EAAE,SAAS8sF,GAAGrtF,GAAG,OAAOA,EAAEylC,OAAOv+B,MAAM,QAAQ,SAASomF,GAAGttF,EAAEyG,EAAElG,GAAGi4B,EAAE60D,GAAG5mF,IAAG,SAAUA,GAAGzG,EAAEutF,iBAAiB9mF,EAAElG,GAAE,MAA8K,IAAIitF,GAAG,WAAW,SAASxtF,EAAEyG,EAAElG,IAAI,SAASP,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAG,IAAIJ,EAAElB,KAAKA,KAAK0nF,QAAQ3/E,EAAE/H,KAAK8lD,SAASjkD,EAAE7B,KAAK+uF,aAAa,SAASztF,GAAGwT,EAAE/M,EAAEgJ,QAAQ8/B,OAAO,CAAC9oC,KAAK7G,EAAE0M,QAAQtM,IAAItB,KAAKuG,OAAO,IAAIwB,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,cAAc,CAACM,IAAI,OAAON,MAAM,WAAW,IAAIC,EAAEyG,EAAElG,EAAEP,EAAEtB,KAAK0nF,QAAQ3/E,EAAE/H,KAAK+uB,QAAQ,GAAGltB,EAAE7B,KAAK+uF,aAAaj1D,EAAE60D,GAAG5mF,IAAG,SAAUA,GAAGzG,EAAEwa,GAAG,gBAAgB9W,OAAO+C,GAAGlG,QAAQ,CAACF,IAAI,UAAUN,MAAM,WAAW2tF,uBAAuBhvF,KAAK0nF,QAAQ1nF,KAAK+uB,QAAQ,GAAG/uB,KAAK+uF,mBAArtB,SAAYztF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAqkB+tF,CAAGlnF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK/mF,EAA/nB,GAAooB,SAAS4tF,GAAG5tF,GAAG,OAAO+B,MAAMrB,UAAUgK,MAAMzL,KAAKe,EAAE,GAAG,SAAS6tF,GAAG7tF,EAAEyG,EAAElG,GAAG,IAAI,IAAIX,EAAE,GAAGL,EAAE,GAAGT,EAAE,EAAEA,EAAEkB,EAAEgB,QAAQ,CAAC,IAAImV,EAAE1P,EAAEzG,EAAElB,GAAG2H,GAAGzG,EAAElB,GAAGuH,EAAE9G,EAAE4W,GAAG,GAAGvW,EAAE4B,KAAKxB,EAAElB,IAAIS,EAAET,GAAGqX,EAAErX,IAAI,OAAOyB,IAAIX,EAAE6G,EAAE7G,EAAE8F,MAAK,SAAU1F,EAAEO,GAAG,OAAOP,EAAEyG,GAAGlG,EAAEkG,MAAM7G,EAAE8F,QAAQ9F,EAAE,SAASkuF,GAAG9tF,GAAG,OAAO8tF,GAAG,mBAAmBjuF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAAS+tF,GAAG/tF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASmgF,GAAGhuF,EAAEyG,GAAG,OAAOunF,GAAGxuF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASwnF,GAAGjuF,EAAEyG,GAAG,GAAGA,IAAI,WAAWqnF,GAAGrnF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASkuF,GAAGluF,GAAG,OAAOkuF,GAAG1uF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAG,IAAImuF,GAAG,CAACC,WAAW,EAAEC,UAAU,EAAEC,SAAS,EAAEC,YAAY,GAAGC,GAAG,4CAA4CC,GAAG,SAASzuF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGunF,GAAGhuF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAEynF,GAAGtuF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE2tF,GAAGxvF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOwgF,GAAGvvF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAO+tF,GAAGrvF,KAAKyX,GAAGA,EAAEzV,UAAUguF,SAASF,GAAGr4E,EAAEzV,UAAUiuF,UAAU,GAAGx4E,EAAEzV,UAAU+sB,OAAO+gE,IAAIxuF,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAYihF,SAASF,GAAGxuF,EAAE2uF,UAAU,GAAG3uF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE0nF,GAAGnuF,EAAE6B,MAAMtB,EAAEquF,GAAG3vF,KAAKP,KAAKsB,EAAEyG,GAAGlG,GAAG7B,KAAK8lD,SAAS9lD,KAAK0nF,QAAQ3/E,EAAE,CAAC8gF,SAAShnF,EAAE,GAAGmsF,gBAAgBnsF,EAAE,GAAGsuF,YAAYzqF,EAAEynF,SAAS7rF,SAAv0D,SAAYA,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA6qDkvF,CAAGroF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAjnC,CAAonCq3E,IAAI,SAASoB,GAAG5uF,EAAEyG,GAAG,IAAIlG,EAAEX,EAAEL,EAAEquF,GAAG5tF,EAAE+uF,SAASjwF,EAAEJ,KAAKiwF,UAAU,GAAG,EAAEloF,GAAG,IAAIlH,EAAEyB,OAAO,OAAOlC,EAAES,EAAE,GAAGyvF,aAAY,EAAG,CAACzvF,EAAEA,GAAG,IAAI4W,EAAEy3E,GAAG5tF,EAAEivF,gBAAgB9vF,EAAE,GAAG,GAAGT,KAAKguB,OAAO9sB,EAAEL,EAAE,IAAIkH,EAAE,IAAIlG,EAAE,EAAEA,EAAEX,EAAEoB,QAAQlC,EAAEc,EAAEW,GAAGyuF,aAAY,EAAGzuF,IAAI,IAAIA,EAAE,EAAEA,EAAE4V,EAAEnV,QAAQlC,EAAEqX,EAAE5V,GAAGyuF,aAAa7vF,EAAEqC,KAAK2U,EAAE5V,IAAI,GAAGkG,UAAU3H,EAAEqX,EAAE5V,GAAGyuF,YAAYzuF,IAAI,OAAOpB,EAAE6B,OAAO,CAAC6sF,GAAGjuF,EAAE8D,OAAOvE,GAAG,cAAa,GAAIA,QAAG,EAA8K,IAAI+vF,GAAG,WAAW,SAASlvF,EAAEyG,GAAG,IAAIlG,EAAEX,EAAElB,MAAM,SAASsB,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,GAAGtB,KAAK+Q,QAAQ8D,EAAE,GAAG47E,GAAG9I,SAAS5/E,GAAG,IAAI/H,KAAK0wF,SAAS,GAAG1wF,KAAK2wF,QAAQ,GAAG3wF,KAAKotF,QAAQ,GAAGptF,KAAKktF,YAAY,GAAGltF,KAAKmjC,OAAOthC,EAAEkuF,GAAG/vF,KAAK+Q,QAAQ6/E,aAAa/uF,EAAE+uF,YAAY,IAAI/uF,EAAE7B,KAAK+tF,KAAK/tF,KAAK8nF,YAAY,IAAIkF,GAAGhtF,KAAKA,KAAK+Q,QAAQ+2E,aAAahuD,EAAE95B,KAAK+Q,QAAQm8E,aAAY,SAAU5rF,GAAG,IAAIyG,EAAE7G,EAAE64C,IAAI,IAAIz4C,EAAE,GAAGA,EAAE,KAAKA,EAAE,IAAIyG,EAAEggF,cAAczmF,EAAE,IAAIA,EAAE,IAAIyG,EAAEigF,eAAe1mF,EAAE,MAAMtB,MAAM,IAAI+H,EAAElG,EAAE,OAAOkG,EAAEzG,GAAGO,EAAE,CAAC,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAG,OAAOuT,EAAE7U,KAAK+Q,QAAQzP,GAAGA,EAAEwmF,aAAa9nF,KAAK8nF,YAAYn+C,SAAS3pC,OAAO,CAAC2B,IAAI,OAAON,MAAM,SAASC,GAAGtB,KAAKotF,QAAQyD,QAAQvvF,EAAE,EAAE,IAAI,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,GAAG,mBAAmBA,EAAE,MAAM,IAAI+V,MAAM,6BAA6BrX,KAAK2wF,QAAQ7tF,KAAKxB,KAAK,CAACK,IAAI,YAAYN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAKotF,QAAQ,IAAIrlF,EAAE8oF,QAAQ,CAAC,IAAIhvF,EAAE7B,KAAK8nF,YAAYgJ,gBAAgBxvF,GAAG,IAAIJ,EAAElB,KAAKktF,YAAYrsF,EAAEkH,EAAEgpF,gBAAgBlwF,GAAGA,GAAG,EAAEA,EAAEkuC,SAASluC,EAAEkH,EAAEgpF,cAAc,MAAM,IAAI,IAAI3wF,EAAE,EAAEA,EAAEc,EAAEoB,QAAQT,EAAEX,EAAEd,GAAG,IAAI2H,EAAE8oF,SAAShwF,GAAGgB,IAAIhB,IAAIgB,EAAEmvF,iBAAiBnwF,GAAGgB,EAAEsmF,QAAQtmF,EAAE6sF,UAAUptF,IAAIT,GAAG,GAAGgB,EAAEktC,QAAQluC,EAAEkH,EAAEgpF,cAAclvF,GAAGzB,OAAO,CAACuB,IAAI,MAAMN,MAAM,SAASC,GAAG,GAAGA,aAAaqC,EAAE,OAAOrC,EAAE,IAAI,IAAIyG,EAAE/H,KAAKktF,YAAYrrF,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,GAAGkG,EAAElG,GAAGkP,QAAQie,QAAQ1tB,EAAE,OAAOyG,EAAElG,GAAG,OAAO,OAAO,CAACF,IAAI,MAAMN,MAAM,SAASC,GAAG,GAAGq4B,EAAEr4B,EAAE,MAAMtB,MAAM,OAAOA,KAAK,IAAI+H,EAAE/H,KAAKiB,IAAIK,EAAEyP,QAAQie,OAAO,OAAOjnB,GAAG/H,KAAKwG,OAAOuB,GAAG/H,KAAKktF,YAAYpqF,KAAKxB,GAAGA,EAAEomF,QAAQ1nF,KAAKA,KAAK8nF,YAAYn+C,SAASroC,IAAI,CAACK,IAAI,SAASN,MAAM,SAASC,GAAG,GAAGq4B,EAAEr4B,EAAE,SAAStB,MAAM,OAAOA,KAAK,GAAGsB,EAAEtB,KAAKiB,IAAIK,GAAG,CAAC,IAAIyG,EAAE/H,KAAKktF,YAAYrrF,EAAE8F,EAAEI,EAAEzG,IAAI,IAAIO,IAAIkG,EAAE/B,OAAOnE,EAAE,GAAG7B,KAAK8nF,YAAYn+C,UAAU,OAAO3pC,OAAO,CAAC2B,IAAI,KAAKN,MAAM,SAASC,EAAEyG,GAAG,QAAG,IAASzG,QAAG,IAASyG,EAAE,CAAC,IAAIlG,EAAE7B,KAAK0wF,SAAS,OAAO52D,EAAE60D,GAAGrtF,IAAG,SAAUA,GAAGO,EAAEP,GAAGO,EAAEP,IAAI,GAAGO,EAAEP,GAAGwB,KAAKiF,MAAM/H,QAAQ,CAAC2B,IAAI,MAAMN,MAAM,SAASC,EAAEyG,GAAG,QAAG,IAASzG,EAAE,CAAC,IAAIO,EAAE7B,KAAK0wF,SAAS,OAAO52D,EAAE60D,GAAGrtF,IAAG,SAAUA,GAAGyG,EAAElG,EAAEP,IAAIO,EAAEP,GAAG0E,OAAO2B,EAAE9F,EAAEP,GAAGyG,GAAG,UAAUlG,EAAEP,MAAMtB,QAAQ,CAAC2B,IAAI,OAAON,MAAM,SAASC,EAAEyG,GAAG,IAAIlG,EAAE7B,KAAK0wF,SAASpvF,IAAItB,KAAK0wF,SAASpvF,GAAG0K,QAAQ,GAAGhM,KAAK2wF,QAAQ9uF,GAAGA,EAAES,OAAO,CAAChB,EAAEwG,WAAW,kBAAkBC,EAAE5E,KAAK7B,EAAEyG,EAAEulF,eAAe,WAAWvlF,EAAEolF,SAASG,gBAAgBvlF,EAAEolF,SAASG,mBAAmB,IAAI,IAAIpsF,EAAE,EAAEA,EAAEW,EAAES,QAAQT,EAAEX,GAAG6G,GAAG7G,OAAO,CAACS,IAAI,UAAUN,MAAM,WAAWrB,KAAK0wF,SAAS,GAAG1wF,KAAK2wF,QAAQ,GAAG3wF,KAAKotF,QAAQ,GAAGptF,KAAKmjC,MAAMd,eAAt9E,SAAY/gC,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAk0E+vF,CAAGlpF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK/mF,EAA53E,GAAi4E,SAAS4vF,GAAG5vF,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAAmH,IAAIuvF,GAAnH,SAAYnvF,EAAEyG,EAAElG,GAAG,OAAOkG,GAAGmpF,GAAG5vF,EAAEU,UAAU+F,GAAGlG,GAAGqvF,GAAG5vF,EAAEO,GAAGf,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAK/mF,EAAS6vF,EAAG,SAAU7vF,EAAEyG,GAAG,OAAO,SAASzG,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAAvD,CAA6FnP,KAAKsB,IAAIyG,EAAEA,GAAG,IAAImlF,YAAYrrF,EAAEkG,EAAEmlF,YAAY5rF,EAAEqmF,SAASyJ,QAAQ,IAAIZ,GAAGzoF,MAAM,SAASspF,GAAG/vF,GAAG,OAAO+vF,GAAG,mBAAmBlwF,QAAQ,iBAAiBA,OAAOiU,SAAS,SAAS9T,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,gBAAgBV,IAAMA,GAAG,SAASgwF,GAAGhwF,EAAEyG,GAAG,KAAKzG,aAAayG,GAAG,MAAM,IAAIoH,UAAU,qCAA4M,SAASoiF,GAAGjwF,EAAEyG,GAAG,OAAOwpF,GAAGzwF,OAAOoS,gBAAgB,SAAS5R,EAAEyG,GAAG,OAAOzG,EAAE6R,UAAUpL,EAAEzG,IAAMA,EAAEyG,GAAG,SAASypF,GAAGlwF,EAAEyG,GAAG,GAAGA,IAAI,WAAWspF,GAAGtpF,IAAI,mBAAmBA,GAAG,OAAOA,EAAE,QAAG,IAASA,EAAE,MAAM,IAAIoH,UAAU,4DAA4D,OAAO,SAAS7N,GAAG,QAAG,IAASA,EAAE,MAAM,IAAIgnF,eAAe,6DAA6D,OAAOhnF,EAAvH,CAA0HA,GAAG,SAASmwF,GAAGnwF,GAAG,OAAOmwF,GAAG3wF,OAAOoS,eAAepS,OAAOsD,eAAe,SAAS9C,GAAG,OAAOA,EAAE6R,WAAWrS,OAAOsD,eAAe9C,KAAOA,GAAGmvF,GAAG9I,SAAS,CAAC+J,WAAU,EAAG5J,YAAYrjF,EAAEosC,QAAO,EAAG+/C,WAAW,KAAKQ,OAAO,CAAC,CAACx3D,EAAE,CAACiX,QAAO,IAAK,CAACo4C,EAAG,CAACp4C,QAAO,GAAI,CAAC,WAAW,CAAC25C,GAAG,CAAC10D,UAAU,IAAI,CAAC4zD,GAAG,CAAC5zD,UAAU,GAAG,CAAC,UAAU,CAAC21D,IAAI,CAACA,GAAG,CAACz8D,MAAM,YAAYo9D,KAAK,GAAG,CAAC,QAAQ,CAACS,MAAM,IAAI8E,GAAG,CAACC,YAAY,EAAEC,YAAY,EAAEC,UAAU,EAAEC,cAAc,EAAEC,WAAW,GAAGC,GAAG,CAACC,EAAExsF,EAAEysF,EAAE,MAAMC,EAAE,QAAQC,EAAE,UAAUC,GAAG,cAAcC,GAAG,sCAAsCC,GAAG,SAASlxF,IAAI,SAASA,EAAEyG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIoH,UAAU,sDAAsD7N,EAAEU,UAAUlB,OAAOY,OAAOqG,GAAGA,EAAE/F,UAAU,CAAC8K,YAAY,CAACzL,MAAMC,EAAE+mF,UAAS,EAAGjC,cAAa,KAAMtlF,OAAOC,eAAeO,EAAE,YAAY,CAAC+mF,UAAS,IAAKtgF,GAAGwpF,GAAGjwF,EAAEyG,GAAnR,CAAuR0P,EAAEnW,GAAG,IAAIyG,EAAElG,EAAEX,EAAEL,EAAET,GAAGc,EAAEuW,EAAE5W,EAAE,WAAW,GAAG,oBAAoB0nF,UAAUA,QAAQC,UAAU,OAAM,EAAG,GAAGD,QAAQC,UAAUC,KAAK,OAAM,EAAG,GAAG,mBAAmBC,MAAM,OAAM,EAAG,IAAI,OAAOC,QAAQ3mF,UAAU4mF,QAAQroF,KAAKgoF,QAAQC,UAAUG,QAAQ,IAAG,iBAAiB,EAAG,MAAMrnF,GAAG,OAAM,GAAzP,GAAgQ,WAAW,IAAIA,EAAEyG,EAAE0pF,GAAGvwF,GAAG,GAAGL,EAAE,CAAC,IAAIgB,EAAE4vF,GAAGzxF,MAAM8M,YAAYxL,EAAEinF,QAAQC,UAAUzgF,EAAEgH,UAAUlN,QAAQP,EAAEyG,EAAEN,MAAMzH,KAAK+O,WAAW,OAAOyiF,GAAGxxF,KAAKsB,KAAK,SAASmW,IAAI,IAAInW,EAAE,OAAOgwF,GAAGtxF,KAAKyX,GAAGA,EAAEzV,UAAU+sB,OAAO,GAAG/pB,OAAOstF,GAAG,KAAKttF,OAAOutF,KAAKjxF,EAAElB,EAAEqH,MAAMzH,KAAK+O,YAAY0jF,KAAKH,GAAGhxF,EAAEoxF,MAAMH,GAAGjxF,EAAEqxF,MAAMrxF,EAAEomF,QAAQ0F,QAAQwF,cAAc,GAAGtxF,EAAE,OAAOyG,EAAE0P,GAAG5V,EAAE,CAAC,CAACF,IAAI,UAAUN,MAAM,SAASC,GAAG,IAAIyG,EAAE/H,KAAK2yF,MAAM9wF,GAAE,EAAGX,EAAEI,EAAE6B,KAAKuI,cAAcnD,QAAQ,KAAK,IAAI1H,EAAE8wF,GAAGzwF,GAAGd,EAAE6xF,GAAG3wF,EAAE6uF,cAAc7uF,EAAE6uF,YAAY14E,EAAErX,IAAIsF,EAAEjF,EAAEkH,EAAEI,EAAEzG,EAAEuxF,UAAU,aAAa,EAAEhyF,IAAI,IAAIS,EAAEwxF,QAAQr7E,GAAGhX,EAAE,IAAIsH,EAAEjF,KAAKxB,GAAGb,EAAEsH,EAAEzF,OAAO,GAAG,GAAGzB,IAAIgB,GAAE,GAAIpB,EAAE,IAAIsH,EAAEtH,GAAGa,EAAEtB,KAAK8lD,SAAS9lD,KAAK0nF,QAAQ7mF,EAAE,CAACgoF,SAAS9gF,EAAEimF,gBAAgB,CAAC1sF,GAAG6uF,YAAY/vF,EAAE+sF,SAAS7rF,IAAIO,GAAGkG,EAAE/B,OAAOvF,EAAE,SAAtzE,SAAYa,EAAEyG,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEkG,EAAEzF,OAAOT,IAAI,CAAC,IAAIX,EAAE6G,EAAElG,GAAGX,EAAEF,WAAWE,EAAEF,aAAY,EAAGE,EAAEklF,cAAa,EAAG,UAAUllF,IAAIA,EAAEmnF,UAAS,GAAIvnF,OAAOC,eAAeO,EAAEJ,EAAES,IAAIT,IAA4pE6xF,CAAGhrF,EAAE/F,UAAUH,GAAGf,OAAOC,eAAegH,EAAE,YAAY,CAACsgF,UAAS,IAAK5wE,EAAl0C,CAAq0Cq3E,IAAI,SAASkE,GAAG1xF,EAAEyG,EAAElG,GAAGi4B,EAAE60D,GAAG5mF,IAAG,SAAUA,GAAGzG,EAAE2xF,oBAAoBlrF,EAAElG,GAAE,MAAO,SAASgxD,GAAGvxD,EAAEyG,EAAElG,GAAG,IAAIX,EAAE,sBAAsB8D,OAAO+C,EAAE,MAAM/C,OAAOnD,EAAE,UAAU,OAAO,WAAW,IAAIkG,EAAE,IAAIsP,MAAM,mBAAmBxV,EAAEkG,GAAGA,EAAEy/C,MAAMz/C,EAAEy/C,MAAMj/C,QAAQ,kBAAkB,IAAIA,QAAQ,cAAc,IAAIA,QAAQ,6BAA6B,kBAAkB,sBAAsB1H,EAAEyZ,QAAQC,KAAK,OAAO1Z,GAAGA,EAAEK,EAAEW,GAAGP,EAAEmG,MAAMzH,KAAK+O,YAAY,IAA0JmkF,GAAnJrgC,IAAG,SAAUvxD,EAAEyG,EAAElG,GAAG,IAAI,IAAIX,EAAEJ,OAAO8C,KAAKmE,GAAGlH,EAAE,EAAEA,EAAEK,EAAEoB,UAAUT,GAAGA,QAAG,IAASP,EAAEJ,EAAEL,OAAOS,EAAEJ,EAAEL,IAAIkH,EAAE7G,EAAEL,KAAKA,IAAI,OAAOS,IAAI,SAAS,iBAAuB6xF,GAAGtgC,IAAG,SAAUvxD,EAAEyG,GAAG,OAAOmrF,GAAG5xF,EAAEyG,GAAE,KAAM,QAAQ,iBAAiB0/E,GAAG5yE,EAAE47E,GAAG,CAAC2C,YAAY,EAAEC,WAAW,EAAEC,UAAU,EAAEC,aAAa,EAAEC,eAAe,EAAEC,YAAY,EAAEC,cAAc,EAAEC,YAAY,EAAEC,iBAAiB,EAAEC,gBAAgB,GAAGC,aAAatzF,EAAEuzF,eAAe,EAAEC,eAAe,EAAEC,gBAAgB,EAAEC,aAAa,EAAEC,eAAe,GAAGC,qBAAqB,EAAEC,mBAAmB,GAAGC,cAAc,GAAGC,QAAQ/D,GAAGgE,MAAM1F,GAAG2F,YAAYzH,GAAG0H,WAAW3E,GAAG4E,kBAAkBnC,GAAGoC,WAAWjxF,EAAEkxF,eAAev7D,EAAEw7D,IAAIrJ,GAAGsJ,IAAIrL,GAAGsL,MAAMxK,GAAGyK,MAAMhM,EAAGiM,OAAOt7D,EAAEu7D,MAAMtI,GAAG/wE,GAAG8yE,GAAG3yE,IAAI+2E,GAAGzvF,KAAKu2B,EAAEs7D,MAAMjC,GAAGzjF,OAAOwjF,GAAG1/E,OAAOqB,EAAEwgF,QAAQ,SAAS/zF,EAAEyG,EAAElG,GAAG,IAAIX,EAAEL,EAAEkH,EAAE/F,WAAWd,EAAEI,EAAEU,UAAUlB,OAAOY,OAAOb,IAAIiM,YAAYxL,EAAEJ,EAAEohC,OAAOzhC,EAAEgB,GAAGgT,EAAE3T,EAAEW,IAAIyzF,OAAOrK,GAAGn9B,QAAQohC,GAAGqG,QAAQ5tF,EAAE6tF,YAAYrG,GAAGsG,SAAS9G,GAAG+G,SAAS5gF,EAAE6gF,UAAU,SAASr0F,EAAEyG,GAAG,KAAKzG,GAAG,CAAC,GAAGA,IAAIyG,EAAE,OAAM,EAAGzG,EAAEA,EAAEs0F,WAAW,OAAM,GAAIC,kBAAkBjH,GAAGkH,qBAAqB9C,KAAK,OAAOjrF,EAAjmqC,I,ycCGjN+0B,EAAiB,IAAI,aAQhBi5D,EAAiB,SAC5B10F,EACA20F,GAcA,OAXK30F,EAIM,mBAASA,GACX,SAACX,GACN,OAAOW,GAGFA,EARA,SAACX,GACN,OAAOs1F,GAAY,IAkBZC,EAAmB,SAC9BhoE,EACAC,GAKA,IAAMgoE,EAAY,GACZC,EAAW,GACXC,EAAW,GACbh2F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIosB,EAAM7tB,GAChBg2F,EAASv0F,EAAEssB,IAAM/tB,EACjB81F,EAAUpzF,KAAKjB,EAAEogB,GACjBi0E,EAAUpzF,KAAKjB,EAAE+S,GACjBshF,EAAUpzF,KAAK,GACfozF,EAAUpzF,KAAK,GACfqzF,EAASrzF,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAImmB,EAAM9tB,GAChB+1F,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAKszF,EAASruF,EAAEimB,SAC7CmoE,EAASC,EAASruF,EAAEimB,SAASlrB,KAAKszF,EAASruF,EAAEgmB,SAG/C,IAAIsoE,EAAkB,EACtB,IAAKj2F,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS63E,EAAU5zF,OACnBg0F,EAAQH,EAAS/1F,GACjBqD,EAAM6yF,EAAMh0F,OAClB4zF,EAAc,EAAJ91F,EAAQ,GAAKie,EACvB63E,EAAc,EAAJ91F,EAAQ,GAAKk2F,EAAMh0F,OAC7B+zF,EAAkBhxF,KAAKC,IAAI+wF,EAAiBC,EAAMh0F,QAClD,IAAK,IAAIqF,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM4uF,EAAOD,EAAM3uF,GACnBuuF,EAAUpzF,MAAMyzF,IAIpB,KAAOL,EAAU5zF,OAAS,GAAM,GAC9B4zF,EAAUpzF,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAIw3C,aAAa81C,GACxBG,gBAAe,IAWNG,EAAkC,SAC7CvoE,EACAC,EACAlqB,GAKA,IAAMkyF,EAAY,GACZC,EAAW,GACXC,EAAW,GACbh2F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIosB,EAAM7tB,GAChBg2F,EAASv0F,EAAEssB,IAAM/tB,EACjB81F,EAAUpzF,KAAKjB,EAAEogB,GACjBi0E,EAAUpzF,KAAKjB,EAAE+S,GACjBshF,EAAUpzF,KAAK,GACfozF,EAAUpzF,KAAK,GACfqzF,EAASrzF,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAImmB,EAAM9tB,GAChB+1F,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAKszF,EAASruF,EAAEimB,SAC7CmoE,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAKkB,EAAM+D,IACxCouF,EAASC,EAASruF,EAAEimB,SAASlrB,KAAKszF,EAASruF,EAAEgmB,SAC7CooE,EAASC,EAASruF,EAAEimB,SAASlrB,KAAKkB,EAAM+D,IAG1C,IAAIsuF,EAAkB,EACtB,IAAKj2F,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS63E,EAAU5zF,OACnBg0F,EAAQH,EAAS/1F,GACjBqD,EAAM6yF,EAAMh0F,OAClB4zF,EAAc,EAAJ91F,EAAQ,GAAKie,EACvB63E,EAAc,EAAJ91F,EAAQ,GAAKqD,EAAM,EAC7B4yF,EAAkBhxF,KAAKC,IAAI+wF,EAAiB5yF,EAAM,GAClD,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM4uF,EAAOD,EAAM3uF,GACnBuuF,EAAUpzF,MAAMyzF,IAKpB,KAAOL,EAAU5zF,OAAS,GAAM,GAC9B4zF,EAAUpzF,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAIw3C,aAAa81C,GACxBG,gBAAe,IAWNI,EAAkC,SAC7CxoE,EACAC,EACAwoE,EACAC,GAKA,IAAMT,EAAY,GACZC,EAAW,GACXC,EAAW,GACbh2F,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMyB,EAAIosB,EAAM7tB,GAChBg2F,EAASv0F,EAAEssB,IAAM/tB,EACjB81F,EAAUpzF,KAAKjB,EAAEogB,GACjBi0E,EAAUpzF,KAAKjB,EAAE+S,GACjBshF,EAAUpzF,KAAK,GACfozF,EAAUpzF,KAAK,GACfqzF,EAASrzF,KAAK,IAEhB,IAAK1C,EAAI,EAAGA,EAAI8tB,EAAM5rB,OAAQlC,IAAK,CACjC,IAAM2H,EAAImmB,EAAM9tB,GAChB+1F,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAKszF,EAASruF,EAAEimB,SAC7CmoE,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAK4zF,EAAO3uF,IACzCouF,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAK6zF,EAAO5uF,IACzCouF,EAASC,EAASruF,EAAEgmB,SAASjrB,KAAK,GAClCqzF,EAASC,EAASruF,EAAEimB,SAASlrB,KAAKszF,EAASruF,EAAEgmB,SAC7CooE,EAASC,EAASruF,EAAEimB,SAASlrB,KAAK4zF,EAAO3uF,IACzCouF,EAASC,EAASruF,EAAEimB,SAASlrB,KAAK6zF,EAAO5uF,IACzCouF,EAASC,EAASruF,EAAEimB,SAASlrB,KAAK,GAGpC,IAAIuzF,EAAkB,EACtB,IAAKj2F,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACjC,IAAMie,EAAS63E,EAAU5zF,OACnBg0F,EAAQH,EAAS/1F,GACjBqD,EAAM6yF,EAAMh0F,OAIlB4zF,EAAc,EAAJ91F,EAAQ,GAAKie,EAAU,QAAU5a,EAAO,EAClDyyF,EAAc,EAAJ91F,EAAQ,GAAK,EACvBi2F,EAAkBhxF,KAAKC,IAAI+wF,EAAiB5yF,EAAM,GAClD,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,IAAOkE,EAAG,CAC5B,IAAM4uF,EAAOD,EAAM3uF,GACnBuuF,EAAUpzF,MAAMyzF,IAKpB,KAAOL,EAAU5zF,OAAS,GAAM,GAC9B4zF,EAAUpzF,KAAK,GAEjB,MAAO,CACL8F,MAAO,IAAIw3C,aAAa81C,GACxBG,gBAAe,IASNO,EAA0B,SACrCC,EACAxzD,GAEA,IAAM6yD,EAAY,GACZY,EAAeD,EAAev0F,OAC9By0F,EAAsB,GAe5B,OAdA1zD,EAAM5yB,SAAQ,SAACrJ,GACbyvF,EAAepmF,SAAQ,SAAC9P,EAAMP,GAM5B,QALwC6L,IAApC8qF,EAAoB3vF,EAAKzG,MAC3Bo2F,EAAoB3vF,EAAKzG,IAASG,OAAO8C,KAAKmzF,GAAqBz0F,QAErE4zF,EAAUpzF,KAAKi0F,EAAoB3vF,EAAKzG,KAEpCP,IAAM02F,EAAe,EACvB,KAAOZ,EAAU5zF,OAAS,GAAM,GAC9B4zF,EAAUpzF,KAAK,SAKhB,CACL8F,MAAO,IAAIw3C,aAAa81C,GACxBv8E,MAAO7Y,OAAO8C,KAAKmzF,GAAqBz0F,SAS/B00F,EAAqB,SAACC,GAIjC,IAHA,IAAMf,EAAY,GACZY,EAAeG,EAAY30F,OAC3B40F,EAAUD,EAAY,GAAG30F,O,WACtBqF,GACPsvF,EAAYxmF,SAAQ,SAAC0mF,EAAY/2F,GAG/B,GAFA81F,EAAUpzF,KAAKq0F,EAAWxvF,IAEtBvH,IAAM02F,EAAe,EACvB,KAAOZ,EAAU5zF,OAAS,GAAM,GAC9B4zF,EAAUpzF,KAAK,OANd6E,EAAI,EAAGA,EAAIuvF,EAASvvF,I,EAApBA,GAYT,OAAO,IAAIy4C,aAAa81C,IAcbkB,EAAe,SAC1BvyF,EACAokD,GAGA,IACM1jD,EAAc,CAClB0c,EAAGnX,IACH8J,EAAG9J,KAGCxF,EAAc,CAClB2c,GAAInX,IACJ8J,GAAI9J,KAGFusF,EAAoB,IACpBC,EAAsB,IACtBruC,GAb+B,CAAC,IAAK,KAAM,MAahBxmD,QAAQwmD,IAAW,IAEhDquC,EAAW,IACXD,EAAS,KAEX,IAAI19E,EAAQ,EACZmjB,EAAaj4B,GAAM,SAACguB,GAclB,OAbAlZ,IACIkZ,EAAK5Q,EAAI3c,EAAI2c,IACf3c,EAAI2c,EAAI4Q,EAAK5Q,GAEX4Q,EAAK5Q,EAAI1c,EAAI0c,IACf1c,EAAI0c,EAAI4Q,EAAK5Q,GAEX4Q,EAAKje,EAAItP,EAAIsP,IACftP,EAAIsP,EAAIie,EAAKje,GAEXie,EAAKje,EAAIrP,EAAIqP,IACfrP,EAAIqP,EAAIie,EAAKje,IAER,KAET,IAAM2iF,EAAoB,EAAVlyF,KAAK6F,GAAUyO,EACzB69E,EAAUlyF,EAAIgyF,GAAY/xF,EAAI+xF,GACpC,OAAgB,IAAZE,GAIJ16D,EAAaj4B,GAAM,SAACguB,GAClB,IAAM4kE,GAAW5kE,EAAKykE,GAAY/xF,EAAI+xF,IAAaE,GAAsB,EAAVnyF,KAAK6F,GAASqsF,GAAUA,EACjFr2F,EAAImE,KAAKqF,IAAe,MAAX2sF,EAAiBxkE,EAAK5Q,EAAIpd,EAAKod,EAAI4Q,EAAKje,EAAI/P,EAAK+P,GAGpE,OAFAie,EAAK5Q,EAAI/gB,EAAImE,KAAKwS,IAAI4/E,GACtB5kE,EAAKje,EAAI1T,EAAImE,KAAKyS,IAAI2/E,IACf,KARA5yF,GC/TL6yF,EAAM,uCAAa,KAAS,GAAc,GAEjC,O,iCCuBR,IAAInkF,EAAW,WAQlB,OAPAA,EAAWzS,OAAO0S,QAAU,SAAkBlS,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIkN,UAAUzM,OAAQlC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAI4M,UAAU3O,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEKmG,MAAMzH,KAAM+O,YAGzB,SAAS0E,EAAOtR,EAAG4F,GACtB,IAAIzG,EAAI,GACR,IAAK,IAAIY,KAAKC,EAAOrB,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,IAAM6F,EAAEtF,QAAQP,GAAK,IAC9EZ,EAAEY,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCrB,OAAO4S,sBACtB,KAAItT,EAAI,EAAb,IAAgB8B,EAAIpB,OAAO4S,sBAAsBvR,GAAI/B,EAAI8B,EAAEI,OAAQlC,IAC3D2H,EAAEtF,QAAQP,EAAE9B,IAAM,GAAKU,OAAOkB,UAAU2R,qBAAqBpT,KAAK4B,EAAGD,EAAE9B,MACvEkB,EAAEY,EAAE9B,IAAM+B,EAAED,EAAE9B,KAE1B,OAAOkB,E,kBC7CX,YAAa,SAAU,CAErByP,QAAS,CACPb,KAAM,IAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAEV0sB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,SAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKg3C,KAC1BujC,OAAqB,IAAPv+E,EAAgB,GAAKA,EACnC6E,EAAQje,KAAK2wD,cAAcvzC,GAC3Bg3C,EAAO,kBAAQ,GAAIujC,EAAav6E,EAAIg3C,MACpC9mB,EAAWra,EAAMwW,SAAS,SAAU,CACtCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChC2sD,WAAW,IAETv9C,EAAQ6hD,EAAK7hD,MACbuO,EAASszC,EAAKtzC,OACd4vB,EAAO0jB,EAAK1jB,KACZ/+B,EAAOyiD,EAAKziD,KAgChB,OA9BI++B,IACE/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZszC,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,KAKjB9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAG1Ezd,EADOlB,KAAKkzD,QAAQ91C,GACX,GAAK,EAEd4Y,GAEF/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,GAAI/gB,EACJ0T,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIf/9B,GAEFjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG/gB,EACH0T,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfl+B,GAEF9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,GAAI1T,EACJA,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfh+B,GAEFhD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,EAAG1T,EACHA,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAUrBtD,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,kBAAQ,GAAIyyC,EAAckE,GAElC1zD,EADOlB,KAAKkzD,QAAQ91C,GACX,GAAK,EAQlB,OANa,EAAS,CACpB6E,EAAG,EACHrN,EAAG,EACH1T,EAAGA,GACF+c,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eACb15B,EAAOlQ,KAAKkzD,QAAQ91C,GAEpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZlI,EAAGgP,EAAK,GAAK,GAGXo9B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,kBAAQ,GAAIqvB,EAASxC,OAAQ8pB,EAAax3C,EAAIa,OAC1Dje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,KAE5B,eC9MH,YAAa,OAAQ,CAEnBliB,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAIV6e,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,KAC7B6N,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,OACX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAIhV,EAAQje,KAAK2wD,cAAcvzC,GAC3BkwB,EAAWra,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAGb,OADA9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd8lB,GAEF/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIf/9B,GAEFjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfl+B,GAEF9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfh+B,GAEFhD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAUrBtD,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9B1kD,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,EAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eAEb8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnC/N,EAAOlQ,KAAKkzD,QAAQ91C,GACpBkwB,EAAWlmC,EAAKnG,IAAI,YAEnBmc,EAAIlN,OACPA,EAAK,GAAKo9B,EAASxC,KAAK,UAAY4lB,EAAan+C,MACjDrC,EAAK,GAAKo9B,EAASxC,KAAK,WAAa4lB,EAAa5vC,QAIpD,IAAI8zC,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZ6Y,GAAI/R,EAAK,GAAK,EACd0E,GAAI1E,EAAK,GAAK,EACdqC,MAAOrC,EAAK,GACZ4Q,OAAQ5Q,EAAK,IAGX+N,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,KAE5B,eCtLH,YAAa,UAAW,CAEtBliB,QAAS,CACPb,KAAM,CAAC,GAAI,IACX+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAEV0sB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,UAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKg3C,KAC1BA,OAAc,IAAPh7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAK2wD,cAAcvzC,GAC3BkwB,EAAWra,EAAMwW,SAAS,UAAW,CACvCzlC,MAAOia,EACPktB,UAAW,mBACXxqC,KAAM,mBACNmvD,WAAW,IAETv9C,EAAQ6hD,EAAK7hD,MACbuO,EAASszC,EAAKtzC,OACd4vB,EAAO0jB,EAAK1jB,KACZ/+B,EAAOyiD,EAAKziD,KAgChB,OA9BI++B,IACE/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZszC,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,KAKjB9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKkzD,QAAQ91C,GACpBwU,EAAK1hB,EAAK,GAAK,EACf2hB,EAAK3hB,EAAK,GAAK,EAEf8lB,GAEF/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,GAAI2P,EACJhd,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIf/9B,GAEFjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG2P,EACHhd,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfl+B,GAEF9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,GAAIid,EACJ3wB,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfh+B,GAEFhD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,EAAGid,EACH3wB,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAUrBtD,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9B1kD,EAAOlQ,KAAKkzD,QAAQ91C,GACpBwU,EAAK1hB,EAAK,GAAK,EACf2hB,EAAK3hB,EAAK,GAAK,EASnB,OAPa,EAAS,CACpB+R,EAAG,EACHrN,EAAG,EACHgd,GAAIA,EACJC,GAAIA,GACH5T,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eAEb8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnC/N,EAAOlQ,KAAKkzD,QAAQ91C,GACpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZwoB,GAAI1hB,EAAK,GAAK,EACd2hB,GAAI3hB,EAAK,GAAK,GAGZo9B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,KAE5B,eCvNH,YAAa,UAAW,CAEtBliB,QAAS,CACPb,KAAM,CAAC,GAAI,IACX+N,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAGtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAEV0sB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,UAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKg3C,KAC1BA,OAAc,IAAPh7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAK2wD,cAAcvzC,GAC3BkwB,EAAWra,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAETh2B,EAAIs6B,EAAK7hD,MACTiF,EAAI48C,EAAKtzC,OACT4vB,EAAO0jB,EAAK1jB,KACZ/+B,EAAOyiD,EAAKziD,KAgChB,OA9BI++B,IACE/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,GAAI6X,EAAI,EACRllB,GAAI4C,EAAI,GACP48C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,KAKjB9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd8lB,GAEF/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIf/9B,GAEFjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfl+B,GAEF9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfh+B,GAEFhD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAIrBU,QAAS,SAAiBv3C,GACxB,IAAIlN,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAGlB,MAFW,CAAC,CAAC,IAAK,GAAI4Q,EAAS,GAAI,CAAC,IAAKvO,EAAQ,EAAG,GAAI,CAAC,IAAK,EAAGuO,EAAS,GAAI,CAAC,KAAMvO,EAAQ,EAAG,GAAI,CAAC,OAUvGo+C,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9BhkD,EAAO5Q,KAAK20D,QAAQv3C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eAEb8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnCrN,EAAO5Q,KAAK20D,QAAQv3C,GAEpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ08B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,KAE5B,eCrNH,YAAa,WAAY,CAEvBliB,QAAS,CACPb,KAAM,GACN4lB,UAAW,KACX7X,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,UAEnCiM,OAAQ,IAGVM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,GACRzC,OAAQ,GAEVmvB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,WAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GACrB8qB,EAAK9uB,EAAGg7C,KACRA,OAAc,IAAPlsB,EAAgB,GAAKA,EAC5B6vD,EAAmB3+E,EAAG0c,UAEtB7X,EAAQje,KAAK2wD,cAAcvzC,GAC3B0Y,EAAY1Y,EAAI0Y,WAAaiiE,EAC7BzqD,EAAWra,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAETh2B,EAAIs6B,EAAK7hD,MACTiF,EAAI48C,EAAKtzC,OACT4vB,EAAO0jB,EAAK1jB,KACZryB,EAAS+1C,EAAK/1C,OACd1M,EAAOyiD,EAAKziD,KAEhB,GAAI++B,EACF,GAAI/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,QAER,CACL,IAAIkoC,GAASl+D,EAAI,EACbm+D,GAASzgF,EAAI,EAEC,OAAdse,GAAoC,SAAdA,IACxBmiE,GAAS55E,GAGO,SAAdyX,GAAsC,UAAdA,IAC1BkiE,GAAS35E,GAGX4U,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,EAAG+1E,EACHpjF,EAAGqjF,GACF7jC,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAMjB,OADA9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GACrB8qB,EAAK9uB,EAAGuF,WACRA,OAAoB,IAAPupB,EAAgB,GAAKA,EAClC6vD,EAAmB3+E,EAAG0c,UAEtBA,EAAY1Y,EAAI0Y,WAAaiiE,EAE7BhiE,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAG1Elb,EADOzD,KAAKkzD,QAAQ91C,GACT,GAEf,GAAI4Y,EAAM,CAER,IAAIkiE,EAAU,KACVC,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd4qB,EACFoiE,EAAU,EAAEh3F,EAAGi3F,GACQ,SAAdriE,EACToiE,EAAU,EAAEh3F,GAAIi3F,GACO,SAAdriE,IACToiE,EAAU,EAAEh3F,EAAGA,EAAIi3F,IAGjBD,GAEFjlE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGi2E,EAAQ,GACXtjF,EAAGsjF,EAAQ,GACXh3F,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,oBAKZ,GAAIu1B,EAAO,CAGT,IAAIkiE,EAAW,KACXD,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd4qB,EACFsiE,EAAW,CAACl3F,EAAGi3F,GACQ,SAAdriE,EACTsiE,EAAW,CAACl3F,GAAIi3F,GACO,UAAdriE,IACTsiE,EAAW,CAACl3F,EAAGA,EAAIi3F,IAGjBC,GACFnlE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGm2E,EAAS,GACZxjF,EAAGwjF,EAAS,GACZl3F,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,qBAKZ,GAAIo1B,EAAK,CAEP,IAAIsiE,EAAS,KACTF,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd4qB,EACFuiE,EAAS,CAACn3F,EAAIi3F,GAAQA,GACC,SAAdriE,EACTuiE,EAAS,CAACn3F,GAAIi3F,GACS,UAAdriE,IACTuiE,EAAS,EAAEn3F,GAAIi3F,IAGbE,GAEFplE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGo2E,EAAO,GACVzjF,EAAGyjF,EAAO,GACVn3F,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,mBAKZ,GAAIs1B,EAAQ,CAEV,IAAIqiE,EAAY,KACZH,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,SAAd4qB,EACFwiE,EAAY,EAAEp3F,EAAIi3F,EAAOA,GACF,SAAdriE,EACTwiE,EAAY,CAACp3F,EAAGi3F,GACO,UAAdriE,IACTwiE,EAAY,EAAEp3F,EAAGi3F,IAGfG,GAEFrlE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGq2E,EAAU,GACb1jF,EAAG0jF,EAAU,GACbp3F,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,wBAKdg0D,QAAS,SAAiBv3C,GACxB,IAAI26E,EAAmB/3F,KAAKsvD,WAAWlyC,GAAK0Y,UACxCA,EAAY1Y,EAAI0Y,WAAaiiE,EAE7Bt0F,EADOzD,KAAKkzD,QAAQ91C,GACT,GACX+6E,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAChC0F,EAAO,CAAC,CAAC,KAAM1P,EAAGi3F,GAAQ,CAAC,IAAK,GAAIA,GAAQ,CAAC,IAAKj3F,EAAGi3F,GAAQ,CAAC,MAclE,MAXkB,SAAdriE,EACFllB,EAAO,CAAC,CAAC,KAAM1P,GAAIi3F,GAAQ,CAAC,IAAKj3F,GAAIi3F,GAAQ,CAAC,IAAK,EAAGA,GAAQ,CAAC,MAExC,SAAdriE,EACTllB,EAAO,CAAC,CAAC,KAAM1P,EAAGA,EAAIi3F,GAAQ,CAAC,IAAKj3F,GAAIA,GAAI,CAAC,IAAKA,EAAGA,GAAI,CAAC,MAEnC,UAAd40B,IACTllB,EAAO,CAAC,CAAC,IAAK1P,EAAGA,EAAIi3F,GAAQ,CAAC,KAAMj3F,EAAGA,GAAI,CAAC,KAAMA,GAAIA,GAAI,CAAC,OAItD0P,GAQT+/C,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9BhkD,EAAO5Q,KAAK20D,QAAQv3C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eAEb8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnCrN,EAAO5Q,KAAK20D,QAAQv3C,GAEpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ08B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,IAQ7BqgC,iBAAkB,SAA0Bl2C,EAAK6V,GAC/C,IAAI7Z,EAAKpZ,KAAKsvD,WAAW,IACrBkE,EAAoBp6C,EAAGuF,WACvBo5E,EAAmB3+E,EAAG0c,UAEtBA,EAAY1Y,EAAI0Y,WAAaiiE,EAC7BtkC,EAAWxgC,EAAM3uB,MAAK,SAAU6Y,GAClC,MAAoC,oBAA7BA,EAAQlc,IAAI,gBAEjByyD,EAAYzgC,EAAM3uB,MAAK,SAAU6Y,GACnC,MAAoC,qBAA7BA,EAAQlc,IAAI,gBAEjB0yD,EAAU1gC,EAAM3uB,MAAK,SAAU6Y,GACjC,MAAoC,mBAA7BA,EAAQlc,IAAI,gBAEjB2yD,EAAa3gC,EAAM3uB,MAAK,SAAU6Y,GACpC,MAAoC,sBAA7BA,EAAQlc,IAAI,gBAEjBsyD,EAAoBC,EACpB+kC,EAAiB9kC,GAAYC,GAAaC,GAAWC,EAErD2kC,IACFhlC,EAAoBglC,EAAeztD,QAGrC,IAAInsB,EAAa,cAAI,GAAI40C,EAAmBn2C,EAAIuB,YAC5Ck1C,EAAWl1C,EAAWT,KACtB41C,EAAan1C,EAAWH,OACxBu1C,EAAcp1C,EAAWJ,UACzBy1C,EAAWr1C,EAAWzO,KAAO,EAC5B8jD,IAAUA,EAAWr1C,EAAWzd,GAErC,IAAIgnC,EAAK9qB,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCqX,UAAM/pB,EACNiqB,WAAOjqB,EACP8pB,SAAK9pB,EACLgqB,YAAQhqB,GAEN+pB,EAAOkS,EAAGlS,KACVE,EAAQgS,EAAGhS,MACXH,EAAMmS,EAAGnS,IACTE,EAASiS,EAAGjS,OAGZxyB,EADOzD,KAAKkzD,QAAQ91C,GACT,GACXqwB,EAAS,CACXvsC,EAAG8yD,EACH91C,KAAM21C,EACNr1C,OAAQs1C,EACRv1C,UAAWw1C,GAETmkC,EAAU,KACVC,EAAQ10F,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IACpChK,EAAIuC,EAAM4B,KAAKyS,IAAI,EAAI,EAAIzS,KAAK6F,IAElB,OAAd4qB,EACFoiE,EAAU,EAAEh3F,EAAGi3F,GACQ,SAAdriE,EACToiE,EAAU,EAAEh3F,GAAIi3F,GACO,SAAdriE,IACToiE,EAAU,EAAEh3F,EAAGA,EAAIi3F,IAGjBD,IACEzkC,EACGz9B,QAAiB/pB,IAAT+pB,EAGXy9B,EAAS3oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC3CxrB,EAAGi2E,EAAQ,GACXtjF,EAAGsjF,EAAQ,MAJbzkC,EAASjtD,SAOFwvB,GACT/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGi2E,EAAQ,GACXtjF,EAAGsjF,EAAQ,KAEb/sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,KAKrB,IAAImkC,EAAW,KAEG,OAAdtiE,EACFsiE,EAAW,CAACl3F,EAAGi3F,GACQ,SAAdriE,EACTsiE,EAAW,CAACl3F,GAAIi3F,GACO,UAAdriE,IACTsiE,EAAW,CAACl3F,EAAGA,EAAIi3F,IAGjBC,IACE1kC,EACGx9B,QAAmBjqB,IAAViqB,EAGZw9B,EAAU5oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC5CxrB,EAAGm2E,EAAS,GACZxjF,EAAGwjF,EAAS,MAJd1kC,EAAUltD,SAOH0vB,GACTjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGm2E,EAAS,GACZxjF,EAAGwjF,EAAS,KAEdjtD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,KAKrB,IAAIokC,EAAS,KAEK,OAAdviE,EACFuiE,EAAS,CAACn3F,EAAIi3F,GAAQA,GACC,SAAdriE,EACTuiE,EAAS,CAACn3F,GAAIi3F,GACS,UAAdriE,IACTuiE,EAAS,EAAEn3F,GAAIi3F,IAGbE,IACE1kC,EACG59B,QAAe9pB,IAAR8pB,EAIV49B,EAAQ7oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC1CxrB,EAAGo2E,EAAO,GACVzjF,EAAGyjF,EAAO,MALZ1kC,EAAQntD,SAQDuvB,GACT9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGo2E,EAAO,GACVzjF,EAAGyjF,EAAO,KAEZltD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,KAKrB,IAAIqkC,EAAY,KAEE,SAAdxiE,EACFwiE,EAAY,EAAEp3F,EAAIi3F,EAAOA,GACF,SAAdriE,EACTwiE,EAAY,CAACp3F,EAAGi3F,GACO,UAAdriE,IACTwiE,EAAY,EAAEp3F,EAAGi3F,IAGfG,IACE1kC,EACG39B,QAAqBhqB,IAAXgqB,EAGb29B,EAAW9oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC7CxrB,EAAGq2E,EAAU,GACb1jF,EAAG0jF,EAAU,MAJf1kC,EAAWptD,SAOJyvB,GACThD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGq2E,EAAU,GACb1jF,EAAG0jF,EAAU,KAEfntD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,OAKtB,eClfH,YAAa,YAAa,CAExBljD,QAAS,CACPb,KAAM,CAAC,IAAK,IACZ+N,MAAO,CACL3U,OAAQ,EACRkV,OAAQ,UACRN,KAAM,UACNK,UAAW,IAAOD,YAAYL,MAAMM,UACpCqD,YAAa,GAGf2tC,SAAU,CACRtxC,MAAO,CACLC,KAAM,UACN9L,SAAU,IAEZiM,OAAQ,IAGVqxC,eAAgB,CACdzxC,MAAO,CACL7L,SAAU,GACV8L,KAAM,WAERs6E,WAAY,GAEdC,QAAS,CACP/nD,MAAM,EACNn+B,MAAO,EACP2L,KAAM,UACN5U,OAAQ,GAGVqV,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,GACNqO,UAAW,EACXL,KAAM,UACNM,OAAQ,WAGVk6E,SAAU,CAERhoD,MAAM,EACNzuB,EAAG,EACHrN,EAAG,EAEH6hD,IAAK,0FACLlkD,MAAO,GACPuO,OAAQ,GAERzC,OAAQ,GAGVs6E,UAAW,CAETjoD,MAAM,EACNzuB,EAAG,EACHrN,EAAG,EAEH6hD,IAAK,0FACLlkD,MAAO,GACPuO,OAAQ,GAERzC,QAAS,GAIXshB,aAAc,CAAC,CAAC,EAAG,IAAM,CAAC,EAAG,MAE/ByM,UAAW,YACXT,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKq7E,QAC1BA,OAAiB,IAAPr/E,EAAgB,GAAKA,EAC/B6E,EAAQje,KAAK2wD,cAAcvzC,GAC3BlN,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACdo9B,EAAWra,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAGT8oC,EAAcH,EAAQ/nD,KACtBmoD,EAAeplF,EAAOglF,EAAS,CAAC,SAkBpC,OAhBIG,GACF3lE,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbA,OAAQA,GACP+3E,GACH1tD,UAAW,WACXxqC,KAAM,WACNmvD,WAAW,IAIf9vD,KAAK84F,aAAa17E,EAAK6V,GACvBjzB,KAAK+4F,cAAc37E,EAAK6V,GACxBjzB,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTwrD,aAAc,SAAsB17E,EAAK6V,GACvC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKs7E,SAC1BA,OAAkB,IAAPt/E,EAAgB,GAAKA,EAEhC7G,EADOvS,KAAKkzD,QAAQ91C,GACP,GAEjB,GAAIs7E,EAAShoD,KAAM,CACjB,IAAI5W,EAAI4+D,EAASnmF,MACbiF,EAAIkhF,EAAS53E,OACbmB,EAAIy2E,EAASz2E,EACbrN,EAAI8jF,EAAS9jF,EACbyJ,EAASq6E,EAASr6E,OAClB1M,EAAO+mF,EAAS/mF,KAChBqnF,EAAgBvlF,EAAOilF,EAAU,CAAC,QAAS,SAAU,IAAK,IAAK,SAAU,SAEzE/mF,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACV66E,GACH7tD,UAAW,iBACXxqC,KAAM,iBACNmvD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,EAAS,GAAIg1F,GAAgB,CAC3C/2E,EAAGA,IAAM1P,EAAQ,EAAIunB,EAAIzb,EACzBzJ,EAAGA,IAAM4C,EAAI,EACbjF,MAAOunB,EACPhZ,OAAQtJ,IAEV2zB,UAAW,iBACXxqC,KAAM,iBACNmvD,WAAW,MAWnBipC,cAAe,SAAuB37E,EAAK6V,GACzC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKu7E,UAC1BA,OAAmB,IAAPv/E,EAAgB,GAAKA,EAEjC7G,EADOvS,KAAKkzD,QAAQ91C,GACP,GAEjB,GAAIu7E,EAAUjoD,KAAM,CAClB,IAAI5W,EAAI6+D,EAAUpmF,MACdiF,EAAImhF,EAAU73E,OACdmB,EAAI02E,EAAU12E,EACdrN,EAAI+jF,EAAU/jF,EACdyJ,EAASs6E,EAAUt6E,OACnB1M,EAAOgnF,EAAUhnF,KACjBsnF,EAAYxlF,EAAOklF,EAAW,CAAC,QAAS,SAAU,IAAK,IAAK,SAAU,SAEtEhnF,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACV86E,GACH9tD,UAAW,kBACXxqC,KAAM,kBACNmvD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,EAAS,GAAIi1F,GAAY,CACvCh3E,EAAGA,GAAK1P,EAAQ,EAAIunB,EAAIzb,EACxBzJ,EAAGA,IAAM4C,EAAI,EACbjF,MAAOunB,EACPhZ,OAAQtJ,IAEV2zB,UAAW,kBACXxqC,KAAM,kBACNmvD,WAAW,MAWnB8nC,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnBD,EAAStX,EAAWsX,OACpB+9B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,SAAU,OAAQ,MAE1EzO,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GAEd8lB,GAEF/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,GAAI1P,EAAQ,EACZqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAIf/9B,GAEFjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG1P,EAAQ,EACXqC,EAAG,EACH1T,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAIfl+B,GAEF9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,GAAIkM,EAAS,EACb5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAIfh+B,GAEFhD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAG,EACHrN,EAAGkM,EAAS,EACZ5f,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,oBACXxqC,KAAM,oBACNszD,eAAe,KAIrBtE,UAAW,SAAmBvyC,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GACrB8qB,EAAK9uB,EAAGm2C,SACRA,OAAkB,IAAPrnB,EAAgB,GAAKA,EAChCgC,EAAK9wB,EAAGs/E,SACRA,OAAkB,IAAPxuD,EAAgB,GAAKA,EAChCC,EAAK/wB,EAAGs2C,eACRA,OAAwB,IAAPvlB,EAAgB,GAAKA,EAGtC53B,EADOvS,KAAKkzD,QAAQ91C,GACP,GACbrI,EAAQ,KACR27B,EAAOgoD,EAAShoD,KAChB5W,EAAI4+D,EAASnmF,MACb4iD,GAAW5iD,EAAQ,EAAIg9C,EAASlxC,OAEhCqyB,IACFykB,GAAW5iD,EAAQ,EAAIunB,EAAIy1B,EAASlxC,QAGtC,IAAItM,EAAYw9C,EAAStxC,MACrBi7E,EAAmBxpC,EAAezxC,MAClCk7E,EAAwBzpC,EAAe8oC,WAoC3C,OAlCI,mBAASp7E,EAAIg8E,cACfrkF,EAAQke,EAAMwW,SAAS,OAAQ,CAC7BzlC,MAAO,EAAS,EAAS,GAAI+N,GAAY,CACvCkQ,EAAGkzC,EACHvgD,GAAI,EACJjD,KAAMyL,EAAIrI,QAEZo2B,UAAW,aACXxqC,KAAM,aACNmvD,WAAW,IAEb78B,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,EAAS,GAAIk1F,GAAmB,CAC9Cj3E,EAAGkzC,EACHvgD,EAAG,IAAMukF,GAAyB,GAClCxnF,KAAMyL,EAAIg8E,cAEZjuD,UAAW,mBACXxqC,KAAM,mBACNmvD,WAAW,KAGb/6C,EAAQke,EAAMwW,SAAS,OAAQ,CAC7BzlC,MAAO,EAAS,EAAS,GAAI+N,GAAY,CACvCkQ,EAAGkzC,EACHvgD,EAAG,EACHjD,KAAMyL,EAAIrI,QAEZo2B,UAAW,aACXxqC,KAAM,aACNmvD,WAAW,IAIR/6C,GAQT47C,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9B1kD,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQ0L,EAAM1L,OAASrC,EAAK,GAC5B4Q,EAAS7C,EAAM6C,QAAU5Q,EAAK,GASlC,OAPa,EAAS,CACpB+R,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,GACP7C,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAIgS,EAAKpZ,KAAKsvD,WAAWlyC,GACrB8qB,EAAK9uB,EAAG6E,MACRA,OAAe,IAAPiqB,EAAgB,GAAKA,EAC7BgC,EAAK9wB,EAAGm2C,SACRA,OAAkB,IAAPrlB,EAAgB,GAAKA,EAChCC,EAAK/wB,EAAGs2C,eACRA,OAAwB,IAAPvlB,EAAgB,GAAKA,EAEtCj6B,EAAOlQ,KAAKkzD,QAAQ91C,GACpB7K,EAAQrC,EAAK,GACb4Q,EAAS5Q,EAAK,GACH9I,EAAKnG,IAAI,YACf6pC,KAAK,EAAS,EAAS,GAAI7sB,GAAQ,CAC1CgE,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbvO,MAAOA,EACPuO,OAAQA,KAEV,IAAImS,EAAQ7rB,EAAKwiC,eACbyvD,EAAgBpmE,EAAM3uB,MAAK,SAAU6Y,GACvC,MAAoC,mBAA7BA,EAAQlc,IAAI,gBAEjBq4F,EAAsBD,EAAgBA,EAAcvuD,OAAS,GAC7D4tD,EAAW,cAAI,GAAIY,EAAqBl8E,EAAIs7E,UAC5C5+D,EAAI4+D,EAASnmF,WAEPtG,IAAN6tB,IACFA,EAAI95B,KAAK+Q,QAAQ2nF,SAASnmF,OAG5B,IAAIm+B,EAAOtzB,EAAIs7E,SAAWt7E,EAAIs7E,SAAShoD,UAAOzkC,EAC1CoS,EAASkxC,EAASlxC,OAClB82C,GAAW5iD,EAAQ,EAAIunB,EAAIzb,EAE1BqyB,QAAiBzkC,IAATykC,IACXykB,GAAW5iD,EAAQ,EAAI8L,GAGzB,IAAItJ,EAAQke,EAAM3uB,MAAK,SAAU6Y,GAC/B,MAAoC,eAA7BA,EAAQlc,IAAI,gBAEjBm4F,EAAcnmE,EAAM3uB,MAAK,SAAU6Y,GACrC,MAAoC,qBAA7BA,EAAQlc,IAAI,gBAGrB,GAAImc,EAAIrI,MACN,GAAKA,EAWE,CACL,IAAIo8C,EAAW/zC,EAAImyC,SAAWnyC,EAAImyC,SAAStxC,MAAQ,GAC/C2xC,EAAa,cAAI,GAAI76C,EAAM+1B,OAAQqmB,GACnC/zC,EAAIrI,QAAO66C,EAAWj+C,KAAOyL,EAAIrI,OACrC66C,EAAW3tC,EAAIkzC,EACX,mBAAS/3C,EAAIg8E,eAAcxpC,EAAWh7C,GAAK,GAE3CwkF,IACFA,EAAYt0D,cACZs0D,EAAYtuD,KAAK,CACf7oB,EAAGkzC,KAIPpgD,EAAM+vB,cACN/vB,EAAM+1B,KAAK8kB,QAzBX38B,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,EAAS,GAAIurD,EAAStxC,OAAQ,CAC5CgE,EAAGkzC,EACHvgD,EAAGwI,EAAIg8E,aAAe,EAAI,EAC1BznF,KAAMyL,EAAIrI,QAEZo2B,UAAW,aACXxqC,KAAM,aACNmvD,WAAW,IAqBjB,GAAI,mBAAS1yC,EAAIg8E,aAAc,CAC7B,IAAIZ,EAAa9oC,EAAe8oC,WAEhC,GAAKY,EAWE,CACDjoC,EAAW/zC,EAAIsyC,eAAiBtyC,EAAIsyC,eAAezxC,MAAQ,GAA/D,IACIi7E,EAAmB,cAAI,GAAIE,EAAYtuD,OAAQqmB,GAC/C,mBAAS/zC,EAAIg8E,eAAcF,EAAiBvnF,KAAOyL,EAAIg8E,aAC3DF,EAAiBj3E,EAAIkzC,EACrBikC,EAAYt0D,cACZs0D,EAAYtuD,KAAK,EAAS,EAAS,GAAIouD,GAAmB,CACxDtkF,EAAG,IAAM4jF,GAAc,WAjBzBvlE,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,EAAS,GAAI0rD,EAAezxC,OAAQ,CAClDgE,EAAGkzC,EACHvgD,EAAG,IAAM4jF,GAAc,GACvB7mF,KAAMyL,EAAIg8E,cAEZjuD,UAAW,mBACXxqC,KAAM,mBACNmvD,WAAW,IAcjB,IAAIypC,EAAetmE,EAAM3uB,MAAK,SAAU6Y,GACtC,MAAoC,aAA7BA,EAAQlc,IAAI,gBAGrB,GAAIs4F,EAAc,CAChB,IAAId,EAAU,cAAI,GAAIc,EAAazuD,OAAQ1tB,EAAIq7E,SAC/Cc,EAAazuD,KAAK,EAAS,EAAS,GAAI2tD,GAAU,CAChDx2E,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,EACbA,OAAQA,KAIZ,GAAIu4E,EACF,GAAK3oD,QAAiBzkC,IAATykC,EAEN,CACL,IAAI8oD,EAAQd,EAASnmF,MACjBiF,EAAIkhF,EAAS53E,OACbmB,EAAIy2E,EAASz2E,EACbrN,EAAI8jF,EAAS9jF,EACb6kF,EAAaf,EAASr6E,OACtB26E,EAAgBvlF,EAAOilF,EAAU,CAAC,QAAS,SAAU,IAAK,IAAK,WAEnEW,EAAcvuD,KAAK,EAAS,EAAS,GAAIkuD,GAAgB,CACvD/2E,EAAGA,IAAM1P,EAAQ,EAAIinF,EAAQC,EAC7B7kF,EAAGA,IAAM4C,EAAI,EACbjF,MAAOinF,EACP14E,OAAQtJ,UAbV6hF,EAAc7yF,cAgBPkqC,GACT1wC,KAAK84F,aAAa17E,EAAK6V,GAGzB,IAAIymE,EAAiBzmE,EAAM3uB,MAAK,SAAU6Y,GACxC,MAAoC,oBAA7BA,EAAQlc,IAAI,gBAEjB04F,EAAuBD,EAAiBA,EAAe5uD,OAAS,GAChE6tD,EAAY,cAAI,GAAIgB,EAAsBv8E,EAAIu7E,WAElD,GAAIe,EAAgB,CACbf,EAAUjoD,WAA2BzkC,IAAnB0sF,EAAUjoD,MAC/BgpD,EAAelzF,SAGjB,IAAIozF,EAASjB,EAAUpmF,MAInBsnF,GAHAriF,EAAImhF,EAAU73E,OACdmB,EAAI02E,EAAU12E,EACdrN,EAAI+jF,EAAU/jF,EACA+jF,EAAUt6E,QACxBy7E,EAAiBrmF,EAAOklF,EAAW,CAAC,QAAS,SAAU,IAAK,IAAK,WAErEe,EAAe5uD,KAAK,EAAS,EAAS,GAAIgvD,GAAiB,CACzD73E,EAAGA,GAAK1P,EAAQ,EAAIqnF,EAASC,EAC7BjlF,EAAGA,IAAM4C,EAAI,EACbjF,MAAOqnF,EACP94E,OAAQtJ,UAEDmhF,EAAUjoD,MACnB1wC,KAAK+4F,cAAc37E,EAAK6V,GAG1BjzB,KAAKszD,iBAAiBl2C,EAAK6V,KAE5B,eChiBH,YAAa,OAAQ,CAEnBliB,QAAS,CACPb,KAAM,GACN+N,MAAO,CACLO,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAEV0sB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,OAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKg3C,KAC1BA,OAAc,IAAPh7C,EAAgB,GAAKA,EAC5B6E,EAAQje,KAAK2wD,cAAcvzC,GAC3BkwB,EAAWra,EAAMwW,SAAS,OAAQ,CACpCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,aAC3B2sD,WAAW,IAETh2B,EAAIs6B,EAAK7hD,MACTiF,EAAI48C,EAAKtzC,OACT4vB,EAAO0jB,EAAK1jB,KACZ/+B,EAAOyiD,EAAKziD,KAgChB,OA9BI++B,IACE/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,GAAI6X,EAAI,EACRllB,GAAI4C,EAAI,GACP48C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,KAKjB9vD,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAQTsqD,eAAgB,SAAwBx6E,EAAK6V,GAC3C,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKuB,WAC1BA,OAAoB,IAAPvF,EAAgB,GAAKA,EAElC2c,EAAMpX,EAAWoX,IACjBC,EAAOrX,EAAWqX,KAClBE,EAAQvX,EAAWuX,MACnB6jE,EAAap7E,EAAWo7E,WACxBv/D,EAAc7b,EAAW6b,YACzBw5B,EAAWr1C,EAAWzO,KACtB2nF,EAAQl5E,EAAWzd,EACnB42F,EAAYrkF,EAAOkL,EAAY,CAAC,MAAO,OAAQ,QAAS,aAAc,cAAe,OAAQ,MAG7Fq7E,EADOh6F,KAAKkzD,QAAQ91C,GACN,GAElB,GAAI8Y,EAAO,CAGT,IAAIT,EAAKpwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EACnD/mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGwT,EACH7gB,GAAI8gB,EACJx0B,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,mBACXxqC,KAAM,qBAIV,GAAIo1B,EAAK,CAEHN,EAAKpwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EAEnD/mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGwT,EACH7gB,GAAI8gB,EACJx0B,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,iBACXxqC,KAAM,mBAIV,GAAIq1B,EAAM,CAEJP,EAAKpwB,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EAEnD/mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGwT,EACH7gB,GAAI8gB,EACJx0B,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,kBACXxqC,KAAM,oBAIV,GAAIo5F,EAAY,CAEVtkE,EAAKpwB,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM8uF,EAEnD/mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGwT,EACH7gB,GAAI8gB,EACJx0B,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,yBACXxqC,KAAM,2BAIV,GAAI65B,EAAa,CAEX/E,EAAKpwB,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM8uF,EAEnD/mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAI8zF,GAAY,CACvC71E,EAAGwT,EACH7gB,GAAI8gB,EACJx0B,EAAG8yD,EAAW,GAAK6jC,GAAS,IAE9B1sD,UAAW,0BACXxqC,KAAM,8BAIZg0D,QAAS,SAAiBv3C,GAOxB,IANA,IACI48E,EADOh6F,KAAKkzD,QAAQ91C,GACN,GACd68E,EAAyB,EAATD,EAAa,EAC7BE,EAAS98E,EAAI88E,QAAUD,EACvBrpF,EAAO,GAEFxQ,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIq1B,EAAKpwB,KAAKwS,KAAK,GAAK,GAAKzX,GAAK,IAAMiF,KAAK6F,IAAM8uF,EAC/CtkE,EAAKrwB,KAAKyS,KAAK,GAAK,GAAK1X,GAAK,IAAMiF,KAAK6F,IAAM8uF,EAC/CrkE,EAAKtwB,KAAKwS,KAAK,GAAK,GAAKzX,GAAK,IAAMiF,KAAK6F,IAAMgvF,EAC/CtkE,EAAKvwB,KAAKyS,KAAK,GAAK,GAAK1X,GAAK,IAAMiF,KAAK6F,IAAMgvF,EAEzC,IAAN95F,EACFwQ,EAAK9N,KAAK,CAAC,IAAK2yB,GAAKC,IAErB9kB,EAAK9N,KAAK,CAAC,IAAK2yB,GAAKC,IAGvB9kB,EAAK9N,KAAK,CAAC,IAAK6yB,GAAKC,IAIvB,OADAhlB,EAAK9N,KAAK,CAAC,MACJ8N,GAQT+/C,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAKsvD,WAAWlyC,GAAKa,MACpC22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAGV6U,EAAQ,cAAI,GAAIyyC,EAAckE,GAC9BhkD,EAAO5Q,KAAK20D,QAAQv3C,GAMxB,OAJa,EAAS,CACpBxM,KAAMA,GACLqN,IAIL0rB,OAAQ,SAAgBvsB,EAAKhW,GAC3B,IAAI6rB,EAAQ7rB,EAAKwiC,eAEb8mB,EAAe1wD,KAAKsvD,WAAW,IAAIrxC,MACnCrN,EAAO5Q,KAAK20D,QAAQv3C,GAEpBw3C,EAAc,CAChBp2C,OAAQpB,EAAIhU,MACZwH,KAAMA,GAGJ08B,EAAWlmC,EAAKnG,IAAI,YACpBgd,EAAQ,cAAI,GAAIyyC,EAAcpjB,EAASxC,OAAQ8pB,GACnD32C,EAAQ,cAAIA,EAAOb,EAAIa,OACvBje,KAAKkwC,YAAY9yB,EAAKhW,EAAM6W,GAAO,GACnCje,KAAKszD,iBAAiBl2C,EAAK6V,IAQ7BqgC,iBAAkB,SAA0Bl2C,EAAK6V,GAC/C,IAAIugC,EAAoBxzD,KAAKsvD,WAAW,IAAI3wC,WACxC80C,EAAWxgC,EAAM3uB,MAAK,SAAU6Y,GAClC,MAAoC,oBAA7BA,EAAQlc,IAAI,gBAEjByyD,EAAYzgC,EAAM3uB,MAAK,SAAU6Y,GACnC,MAAoC,qBAA7BA,EAAQlc,IAAI,gBAEjB0yD,EAAU1gC,EAAM3uB,MAAK,SAAU6Y,GACjC,MAAoC,mBAA7BA,EAAQlc,IAAI,gBAEjBk5F,EAAiBlnE,EAAM3uB,MAAK,SAAU6Y,GACxC,MAAoC,2BAA7BA,EAAQlc,IAAI,gBAEjBm5F,EAAkBnnE,EAAM3uB,MAAK,SAAU6Y,GACzC,MAAoC,4BAA7BA,EAAQlc,IAAI,gBAEjBsyD,EAAoBC,EACpB+kC,EAAiB9kC,GAAYC,GAAaC,GAAWwmC,GAAkBC,EAEvE7B,IACFhlC,EAAoBglC,EAAeztD,QAGrC,IAAInsB,EAAa,cAAI,GAAI40C,EAAmBn2C,EAAIuB,YAC5Ck1C,EAAWl1C,EAAWT,KACtB41C,EAAan1C,EAAWH,OACxBu1C,EAAcp1C,EAAWJ,UACzBy1C,EAAWr1C,EAAWzO,KAAO,EAC5B8jD,IAAUA,EAAWr1C,EAAWzd,GAErC,IAAIkY,EAAKgE,EAAIuB,WAAavB,EAAIuB,WAAa,CACzCqX,UAAM/pB,EACNiqB,WAAOjqB,EACP8pB,SAAK9pB,EACL8tF,gBAAY9tF,EACZuuB,iBAAavuB,GAEX+pB,EAAO5c,EAAG4c,KACVE,EAAQ9c,EAAG8c,MACXH,EAAM3c,EAAG2c,IACTgkE,EAAa3gF,EAAG2gF,WAChBv/D,EAAcphB,EAAGohB,YAGjBw/D,EADOh6F,KAAKkzD,QAAQ91C,GACN,GACdqwB,EAAS,CACXvsC,EAAG8yD,EACH91C,KAAM21C,EACNr1C,OAAQs1C,EACRv1C,UAAWw1C,GAET9xC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC9CplF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EAE9CtmC,EACGx9B,QAAmBjqB,IAAViqB,EAGZw9B,EAAU5oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC5CxrB,EAAGA,EACHrN,GAAIA,KAJN8+C,EAAUltD,SAOH0vB,GACTjD,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGA,EACHrN,GAAIA,IAENu2B,UAAW,mBACXxqC,KAAM,mBACNszD,eAAe,IAInBhyC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC9CplF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EAE1CrmC,EACG59B,QAAe9pB,IAAR8pB,EAGV49B,EAAQ7oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC1CxrB,EAAGA,EACHrN,GAAIA,KAJN++C,EAAQntD,SAODuvB,GACT9C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGA,EACHrN,GAAIA,IAENu2B,UAAW,iBACXxqC,KAAM,iBACNszD,eAAe,IAInBhyC,EAAI5c,KAAKwS,IAAI,GAAsBxS,KAAK6F,IAAM8uF,EAC9CplF,EAAIvP,KAAKyS,IAAI,GAAsBzS,KAAK6F,IAAM8uF,EAE1CvmC,EACGz9B,QAAiB/pB,IAAT+pB,EAGXy9B,EAAS3oB,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAC3CxrB,EAAGA,EACHrN,GAAIA,KAJN6+C,EAASjtD,SAOFwvB,GACT/C,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGA,EACHrN,GAAIA,IAENu2B,UAAW,kBACXxqC,KAAM,kBACNszD,eAAe,IAInBhyC,EAAI5c,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM8uF,EAC9CplF,EAAIvP,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM8uF,EAE1CG,EACGJ,QAA6B9tF,IAAf8tF,EAGjBI,EAAervD,KAAK,EAAS,EAAS,GAAI2C,GAAS,CACjDxrB,EAAGA,EACHrN,GAAIA,KAJNulF,EAAe3zF,SAORuzF,GACT9mE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGA,EACHrN,GAAIA,IAENu2B,UAAW,yBACXxqC,KAAM,yBACNszD,eAAe,IAInBhyC,EAAI5c,KAAKwS,IAAI,IAAsBxS,KAAK6F,IAAM8uF,EAC9CplF,EAAIvP,KAAKyS,IAAI,IAAsBzS,KAAK6F,IAAM8uF,EAE1CI,EACG5/D,QAA+BvuB,IAAhBuuB,EAGlB4/D,EAAgBtvD,KAAK,EAAS,EAAS,GAAI2C,GAAS,CAClDxrB,EAAGA,EACHrN,GAAIA,KAJNulF,EAAe3zF,SAORg0B,GACTvH,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,EAAS,EAAS,GAAIypC,GAAS,CACpCxrB,EAAGA,EACHrN,GAAIA,IAENu2B,UAAW,0BACXxqC,KAAM,0BACNszD,eAAe,MAIpB,eChbH,IAAIkE,EAAuB,IAAKA,qBAEhC,YAAa,QAAS,CAEpBpnD,QAAS,CACPb,KAAM,IAAOoO,YAAYpO,KACzB+N,MAAO,CACLgE,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOF,YAAYL,MAAMO,OACjCN,KAAM,IAAOI,YAAYL,MAAMC,KAC/BK,UAAW,IAAOD,YAAYL,MAAMM,WAEtCgxC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAOF,UAAUC,MAAMC,KAC7B9L,SAAU,IAAO4L,UAAUC,MAAM7L,WAIrCuM,WAAY,CACVoX,KAAK,EACLG,OAAO,EACPD,QAAQ,EACRD,MAAM,EAEN9lB,KAAM,IAAOoO,YAAYK,WAAWzO,KACpCqO,UAAW,IAAOD,YAAYK,WAAWJ,UACzCL,KAAM,IAAOI,YAAYK,WAAWT,KACpCM,OAAQ,IAAOF,YAAYK,WAAWH,QAGxC41C,KAAM,CAEJ1jB,MAAM,EAEN+lB,IAAK,qFACLlkD,MAAO,GACPuO,OAAQ,IAEV0sB,YAAa,EAAS,GAAI,IAAO1uB,kBAEnCstB,UAAW,SAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI7Z,EAAKpZ,KAAKsvD,WAAWlyC,GAAKg3C,KAC1BujC,OAAqB,IAAPv+E,EAAgB,GAAKA,EACnC6E,EAAQje,KAAK2wD,cAAcvzC,GAC3Bg3C,EAAO,kBAAQ,GAAIujC,EAAav6E,EAAIg3C,MACpC9mB,EAAWra,EAAMwW,SAAS,SAAU,CACtCzlC,MAAOia,EACPktB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,aAChC2sD,WAAW,EACXnvD,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,eAEzBoP,EAAQ6hD,EAAK7hD,MACbuO,EAASszC,EAAKtzC,OACd4vB,EAAO0jB,EAAK1jB,KACZ/+B,EAAOyiD,EAAKziD,KAEZ++B,IACE/+B,EACFshB,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,EAAS,CACdie,EAAG,EACHrN,EAAG,EACHxC,SAAU,GACV8L,KAAM,OACNM,OAAQ,OACRJ,aAAc,SACdD,UAAW,UACVi2C,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,IAGb78B,EAAMwW,SAAS,QAAS,CACtBzlC,MAAO,EAAS,CACdie,GAAI1P,EAAQ,EACZqC,GAAIkM,EAAS,GACZszC,GACHjpB,UAAW,GAAGnmC,OAAOhF,KAAKmD,KAAM,SAChCxC,KAAM,GAAGqE,OAAOhF,KAAKmD,KAAM,SAC3B2sD,WAAW,KAKjB,IAAIuqC,EAAS/sD,EAASxC,KAAK,KACvBovD,EAAS,GAAMG,EAEfC,GAAQD,EAASH,GAAU,EAE3BhyD,EAAK9qB,EACL8sB,EAAKhC,EAAGqyD,WACRA,OAAoB,IAAPrwD,EAAgB,GAAKA,EAClCC,EAAKjC,EAAGsyD,cACRA,OAAuB,IAAPrwD,EAAgB,GAAKA,EACrCswD,EAAU35F,OAAO8C,KAAK22F,GAAYj4F,OAEtC,GAAIi4F,GAAcE,EAAU,EAAG,CAC7B,IAAIC,EAAU,GACVC,EAAe,EAYnB,GAXA75F,OAAO8C,KAAK22F,GAAY9pF,SAAQ,SAAU9P,GACxC,IAAIU,EAAQk5F,EAAW55F,IAAS,EAC3B,mBAASU,KACdq5F,EAAQ53F,KAAK,CACXnB,IAAKhB,EACLU,MAAOA,EACP+H,MAAOoxF,EAAc75F,KAEvBg6F,GAAgBt5F,MAGds5F,EAAc,CAChB,IAAIC,EAAcP,EAASH,EAE3B,GAAgB,IAAZO,EAWF,YAVAxnE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,CACL9C,EAAGo5F,EACHr4E,EAAG,EACHrN,EAAG,EACH4J,OAAQk8E,EAAQ,GAAGtxF,OAAS+uD,EAAqB,GACjD55C,UAAWq8E,GAEbj6F,KAAM,gBAKV,IAAIk6F,EAAa,CAACP,EAAM,GACpBQ,EAAe,EACnBJ,EAAQjqF,SAAQ,SAAUq6B,EAAM1qC,GAC9B,IAAI2iB,EAAU+nB,EAAKzpC,MAAQs5F,EAC3B,KAAI53E,EAAU,MAGd,GAFIA,EAAU,OAAOA,EAAU,GAEf,IAAZA,EAAJ,CAcA+nB,EAAK/nB,QAAUA,EACf+nB,EAAKtZ,MAAQzO,EAAU1d,KAAK6F,GAAK,EACjC4/B,EAAKiwD,WAAaD,EAClBA,GAAgBhwD,EAAKtZ,MACrBsZ,EAAKk1B,SAAW86B,EAChBhwD,EAAKkwD,SAAWH,EAChB/vD,EAAKmwD,OAAS,CAACX,EAAOj1F,KAAKwS,IAAIizB,EAAKk1B,WAAYs6B,EAAOj1F,KAAKyS,IAAIgzB,EAAKk1B,WACrE,IAAIk7B,EAAQpwD,EAAKtZ,MAAQnsB,KAAK6F,GAAK,EAAI,EACnC0F,EAAO,CAAC,CAAC,IAAKk6B,EAAKkwD,SAAS,GAAIlwD,EAAKkwD,SAAS,IAAK,CAAC,IAAKV,EAAMA,EAAM,EAAGY,EAAO,EAAGpwD,EAAKmwD,OAAO,GAAInwD,EAAKmwD,OAAO,IAAK,CAAC,IAAKnwD,EAAKmwD,OAAO,GAAInwD,EAAKmwD,OAAO,KACzJhoE,EAAMwW,SAAS,OAAQ,CACrBzlC,MAAO,CACL4M,KAAMA,EACN2N,UAAWq8E,EACXp8E,OAAQssB,EAAK1hC,OAAS+uD,EAAqB/3D,EAAI+3D,EAAqB71D,SAEtE3B,KAAM,aAAaqE,OAAO5E,KAE5By6F,EAAa/vD,EAAKmwD,YA9BhBhoE,EAAMwW,SAAS,SAAU,CACvBzlC,MAAO,CACL9C,EAAGo5F,EACHr4E,EAAG,EACHrN,EAAG,EACH4J,OAAQssB,EAAK1hC,OAAS+uD,EAAqB/3D,EAAI+3D,EAAqB71D,QACpEic,UAAWq8E,GAEbj6F,KAAM,aAAaqE,OAAO5E,SA4BpC,OADAJ,KAAK43F,eAAex6E,EAAK6V,GAClBqa,GAET3D,YAAQ19B,GACP,UCvLI,IAAIkvF,EAAmB,SAA0BvqE,GACtD,IAAI3O,EAAI2O,EAAM3O,EACVrN,EAAIgc,EAAMhc,EACd,MAAO,CACLqN,EAAGA,EACHrN,EAAGA,EACHuiB,QAASlV,EACTmV,QAASxiB,EACT2e,KAAMtR,EACNuR,KAAM5e,EACN2f,KAAMtS,EACNuS,KAAM5f,EACNkM,OAAQ,EACRvO,MAAO,IAgCA6oF,EAAsB,SAA6BvqE,GAM5D,IAJA,IAAIjuB,EAAS,GACTy4F,EAAY,GAGPj7F,EAFUywB,EAAOvuB,OAEE,EAAGlC,GAAK,EAAGA,IAAK,CAC1C,IAAI8B,EAAI2uB,EAAOzwB,GACf8B,EAAEisB,GAAK,GAAGnpB,OAAO9C,EAAE+f,EAAG,OAAOjd,OAAO9C,EAAE0S,GACtCymF,EAAUn5F,EAAEisB,IAAMjsB,EAClBU,EAAOE,KAAKZ,GAGd,OAAOU,GAEE04F,EAAmB,SAA0BzqE,GACtD,OAAOuqE,EAAoBvqE,IAQlB0qE,EAAkB,SAAyBloE,EAAMhV,GAC1D,OAAIgV,EAAK9gB,OAAS8gB,EAAKvS,OACd,CACLqW,QAAS9D,EAAK8D,QACdC,QAAS/D,EAAK+D,QACd7D,KAAMF,EAAKE,KAAOlV,EAClBmV,KAAMH,EAAKG,KAAOnV,EAClBkW,KAAMlB,EAAKkB,KAAOlW,EAClBmW,KAAMnB,EAAKmB,KAAOnW,EAClByC,OAAQuS,EAAKvS,OAAS,EAAIzC,EAC1B9L,MAAO8gB,EAAK9gB,MAAQ,EAAI8L,GAKrBgV,GAQEmoE,EAAuB,SAA8BnoE,EAChEzC,EACA6qE,GACE,IAAIC,EATwB,SAA0BC,EAAMtoE,GAC5D,IAAIlC,EAAK9rB,KAAKqF,IAAIixF,EAAK15E,EAAIoR,EAAK8D,SAC5B/F,EAAK/rB,KAAKqF,IAAIixF,EAAK/mF,EAAIye,EAAK+D,SAChC,OAAW,IAAPjG,GAAmB,IAAPC,EAAiB,EAC1BD,EAAKkC,EAAK9gB,MAAQ6e,EAAKiC,EAAKvS,OAKhB86E,CAAiBhrE,EAAOyC,GAE3C,GAAqB,IAAjBqoE,EAAoB,CAEtB,IAAIz5E,EAAIoR,EAAK8D,QACTviB,EAAIye,EAAK+D,QAgBb,OAdIqkE,EAAa7mF,EAAIgc,EAAMhc,EAEzBA,EAAIye,EAAKG,KACAioE,EAAax5E,EAAI2O,EAAM3O,EAEhCA,EAAIoR,EAAKkB,KACAknE,EAAax5E,EAAI2O,EAAM3O,EAEhCA,EAAIoR,EAAKE,KACAkoE,EAAax5E,IAAM2O,EAAM3O,IAElCrN,EAAIye,EAAKmB,MAGJ,CACLvS,EAAGA,EACHrN,EAAGA,GAIP,OAAI8mF,EACK,CACLz5E,EAAG2O,EAAM3O,EAAIoR,EAAK8D,QAAU9D,EAAKkB,KAAOlB,EAAKE,KAC7C3e,EAAGgc,EAAMhc,GAIN,CACLqN,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EAAIye,EAAK+D,QAAU/D,EAAKmB,KAAOnB,EAAKG,OAStCqoE,EAAY,SAAmBC,EAAIC,GAC5C,IAAIxoE,EAAOluB,KAAKE,IAAIu2F,EAAGvoE,KAAMwoE,EAAGxoE,MAC5BC,EAAOnuB,KAAKE,IAAIu2F,EAAGtoE,KAAMuoE,EAAGvoE,MAC5Be,EAAOlvB,KAAKC,IAAIw2F,EAAGvnE,KAAMwnE,EAAGxnE,MAC5BC,EAAOnvB,KAAKC,IAAIw2F,EAAGtnE,KAAMunE,EAAGvnE,MAChC,MAAO,CACL2C,SAAU5D,EAAOgB,GAAQ,EACzB6C,SAAU5D,EAAOgB,GAAQ,EACzBjB,KAAMA,EACNC,KAAMA,EACNe,KAAMA,EACNC,KAAMA,EACN1T,OAAQ0T,EAAOhB,EACfjhB,MAAOgiB,EAAOhB,IAGPyoE,EAAoB,SAA2B3oE,GAGxD,MAAO,CAAC,CACNpR,EAAGoR,EAAKE,KACR3e,EAAGye,EAAKG,MACP,CACDvR,EAAGoR,EAAKkB,KACR3f,EAAGye,EAAKG,MACP,CACDvR,EAAGoR,EAAKkB,KACR3f,EAAGye,EAAKmB,MACP,CACDvS,EAAGoR,EAAKE,KACR3e,EAAGye,EAAKmB,QAGDynE,EAAqB,SAA4BrrE,EAAOyC,GACjE,IAAIpR,EAAI2O,EAAM3O,EACVrN,EAAIgc,EAAMhc,EACd,OAAOqN,EAAIoR,EAAKE,MAAQtR,EAAIoR,EAAKkB,MAAQ3f,EAAIye,EAAKG,MAAQ5e,EAAIye,EAAKmB,MAmC1DzH,EAAW,SAAkBmD,EAAIC,GAC1C,OAAO9qB,KAAKqF,IAAIwlB,EAAGjO,EAAIkO,EAAGlO,GAAK5c,KAAKqF,IAAIwlB,EAAGtb,EAAIub,EAAGvb,IA4BzCsnF,EAAwB,SAA+Bh6F,EAAGi6F,EAAIjS,EAAIn8D,EAAQC,GACnF,OAAOjB,EAAS7qB,EAAGi6F,GAAMpvE,EAAS7qB,EAAGgoF,GArBZ,SAAuBhoF,EAAG2uB,GACnD,IACIjuB,EAAS,EAYb,OAXAiuB,EAAOpgB,SAAQ,SAAUmgB,GACnBA,IACE1uB,EAAE+f,IAAM2O,EAAM3O,IAChBrf,IALO,GAQLV,EAAE0S,IAAMgc,EAAMhc,IAChBhS,IATO,OAaNA,EAOoCw5F,CAAcl6F,EAAG,CAACi6F,EAAIjS,EAAIn8D,EAAQC,KAEpEquE,EAAkB,SAASA,EAAgBC,EAAYC,EAAWC,EAAUC,EAAWrnF,QAC/E,IAAbA,IACFA,EAAW,GAGbknF,EAAWrvE,QAAQsvE,EAAUE,IAEzBD,EAASC,IAAcD,EAASC,KAAeA,GAAarnF,GAAY,KAC1EinF,EAAgBC,EAAYC,EAAWC,EAAUA,EAASC,GAAYrnF,EAAW,IAc1EsnF,EAAwB,SAA+BzsE,EAAIC,EAAIC,EAAIC,GAC5E,IAAIusE,EAAMxsE,EAAGlO,EAAIgO,EAAGhO,EAChB26E,EAAMzsE,EAAGvb,EAAIqb,EAAGrb,EAChBioF,EAAMzsE,EAAGnO,EAAIgO,EAAGhO,EAChB66E,EAAM1sE,EAAGxb,EAAIqb,EAAGrb,EAChBmoF,EAAM5sE,EAAGlO,EAAIiO,EAAGjO,EAChB+6E,EAAM7sE,EAAGvb,EAAIsb,EAAGtb,EAChBqoF,EAAM7sE,EAAGnO,EAAIiO,EAAGjO,EAChBi7E,EAAM9sE,EAAGxb,EAAIsb,EAAGtb,EAKpB,OAJU+nF,EAAMG,EAAMF,EAAMC,IAClBE,EAAMG,EAAMF,EAAMC,IAGR,IAFVN,EAAMK,EAAMJ,EAAMG,IAClBF,EAAMK,EAAMJ,EAAMG,IACU,GAE7BE,EAAwB,SAA+BjtE,EAAIC,EAAIkD,GACxE,GAAIA,EAAK9gB,OAAS8gB,EAAKvS,OAAQ,CAC7B,IAAI1H,EAAK4iF,EAAkB3oE,GACvByK,EAAK1kB,EAAG,GACRgkF,EAAKhkF,EAAG,GACRikF,EAAKjkF,EAAG,GACRkkF,EAAKlkF,EAAG,GAEZ,OAAOsjF,EAAsBxsE,EAAIC,EAAI2N,EAAIs/D,IAAOV,EAAsBxsE,EAAIC,EAAI2N,EAAIw/D,IAAOZ,EAAsBxsE,EAAIC,EAAIitE,EAAIC,IAAOX,EAAsBxsE,EAAIC,EAAIktE,EAAIC,GAGtK,OAAO,GAMEC,EAAoB,SAA2B1sE,EAAQD,EAAOqE,EAAOC,GAC9E,IAAImvC,EAAY,GAShB,OARAxzC,EAAOpgB,SAAQ,SAAUvO,GACvB,GAAIA,IAAM0uB,IAEN1uB,EAAE+f,IAAM2O,EAAM3O,GAAK/f,EAAE0S,IAAMgc,EAAMhc,GAAG,CACtC,GAAIuoF,EAAsBj7F,EAAG0uB,EAAOqE,IAAUkoE,EAAsBj7F,EAAG0uB,EAAOsE,GAAQ,OACtFmvC,EAAUvhE,KAAKZ,OAGZk5F,EAAoB/2B,IAwFlBm5B,EAAoC,SAA2C3sE,EAAQ4sE,GAChG,IAAIC,EAAe,GACfziE,EAAapK,EAAO,GAsBxB,OArBA6sE,EAAa56F,KAAK,IAAIkC,OAAOi2B,EAAWhZ,EAAG,KAAKjd,OAAOi2B,EAAWrmB,IAClEic,EAAOpgB,SAAQ,SAAUvO,EAAG9B,GAC1B,IAAI8vB,EAAKW,EAAOzwB,EAAI,GAChB+vB,EAAKU,EAAOzwB,EAAI,GAEpB,GAAI8vB,GAAMC,EACR,GAlCiB,SAAmBF,EAAIC,EAAIC,GAChD,QAASF,EAAGhO,IAAMiO,EAAGjO,GAAKiO,EAAGjO,IAAMkO,EAAGlO,GAAKgO,EAAGrb,IAAMsb,EAAGtb,GAAKsb,EAAGtb,IAAMub,EAAGvb,GAiChE+oF,CAAUz7F,EAAGguB,EAAIC,GAAK,CACxB,IAAI/W,EAhCuB,SAA+B6W,EAAIC,EAAIC,EAAIjvB,GAC5E,IAAI+7D,EAAKlwC,EAASkD,EAAIC,GAClBgtC,EAAKnwC,EAASoD,EAAID,GAkBtB,OAhBI+sC,EAAK/7D,IACPA,EAAI+7D,GAGFC,EAAKh8D,IACPA,EAAIg8D,GAWC,CARE,CACPj7C,EAAGiO,EAAGjO,EAAI/gB,EAAI+7D,GAAM/sC,EAAGjO,EAAIgO,EAAGhO,GAC9BrN,EAAGsb,EAAGtb,EAAI1T,EAAI+7D,GAAM/sC,EAAGtb,EAAIqb,EAAGrb,IAEvB,CACPqN,EAAGiO,EAAGjO,EAAI/gB,EAAIg8D,GAAMhtC,EAAGjO,EAAIkO,EAAGlO,GAC9BrN,EAAGsb,EAAGtb,EAAI1T,EAAIg8D,GAAMhtC,EAAGtb,EAAIub,EAAGvb,KAcjBgpF,CAAsB17F,EAAGguB,EAAIC,EAAIstE,GACtCtB,EAAK/iF,EAAG,GACR8wE,EAAK9wE,EAAG,GAEZskF,EAAa56F,KAAK,IAAIkC,OAAOm3F,EAAGl6E,EAAG,KAAKjd,OAAOm3F,EAAGvnF,IAClD8oF,EAAa56F,KAAK,IAAIkC,OAAOkrB,EAAGjO,EAAG,KAAKjd,OAAOkrB,EAAGtb,EAAG,KAAK5P,OAAOklF,EAAGjoE,EAAG,KAAKjd,OAAOklF,EAAGt1E,IACtF8oF,EAAa56F,KAAK,IAAIkC,OAAOklF,EAAGjoE,EAAG,KAAKjd,OAAOklF,EAAGt1E,SAElD8oF,EAAa56F,KAAK,IAAIkC,OAAOkrB,EAAGjO,EAAG,KAAKjd,OAAOkrB,EAAGtb,SAE3Csb,GACTwtE,EAAa56F,KAAK,IAAIkC,OAAOkrB,EAAGjO,EAAG,KAAKjd,OAAOkrB,EAAGtb,OAG/C8oF,EAAarrF,KAAK,KAEhBwrF,EAAoB,SAA2B3jC,EAAO+O,EAAK60B,EAAOC,EAAO1/E,GAClF,IAAI2/E,EAAOC,EAEX,GAAKH,GAAUA,EAAMzxF,UAEd,GAAwB,UAApByxF,EAAMzxF,UAAuB,EAEtC2xF,EADoBF,EAAMhjE,cACJxH,iBAAmB6nE,EAAiBjhC,IACpD/iC,SAAW6mE,EAAMzqE,KAAOyqE,EAAMzpE,MAAQ,EAC5CypE,EAAM5mE,SAAW4mE,EAAMxqE,KAAOwqE,EAAMxpE,MAAQ,OAE5CwpE,EAAQF,EAAMnpE,eAPdqpE,EAAQ7C,EAAiBjhC,GAU3B,GAAK6jC,GAAUA,EAAM1xF,UAEd,GAAwB,UAApB0xF,EAAM1xF,UAAuB,CACtC,IAAI6xF,EAAgBH,EAAMjjE,cAAcnG,UAExC,GAAIupE,EAAe,CACjB,IAAI9kF,EAAK2kF,EAAMluD,WACXsuD,EAAK/kF,EAAG6I,EACRm8E,EAAKhlF,EAAGxE,GAEZqpF,EAAQ,CACNh8E,EAAGk8E,EACHvpF,EAAGwpF,EACH7rF,MAAO2rF,EAAc3rF,MACrBuO,OAAQo9E,EAAcp9E,OACtByS,KAAM2qE,EAAc3qE,KAAO4qE,EAC3B5pE,KAAM2pE,EAAc3pE,KAAO4pE,EAC3B3qE,KAAM0qE,EAAc1qE,KAAO4qE,EAC3B5pE,KAAM0pE,EAAc1pE,KAAO4pE,IAEvBjnE,SAAW8mE,EAAM1qE,KAAO0qE,EAAM1pE,MAAQ,EAC5C0pE,EAAM7mE,SAAW6mE,EAAMzqE,KAAOyqE,EAAMzpE,MAAQ,OAE5CypE,EAAQ9C,EAAiBlyB,QAG3Bg1B,EAAQF,GAASA,EAAMppE,eAzBvBspE,EAAQ9C,EAAiBlyB,GAgC3B,IAAIo1B,EAAS9C,EAAgByC,EAAO3/E,GAChCigF,EAAS/C,EAAgB0C,EAAO5/E,GAKhCkgF,EAAS/C,EAAqB6C,EAAQnkC,EAAO+O,GAC7Cu1B,EAAShD,EAAqB8C,EAAQr1B,EAAK/O,GAC3CukC,EA5cyB,SAA2B5tE,QACzC,IAAXA,IACFA,EAAS,IAGX,IAAI6tE,EAAK,GACLC,EAAK,GACT9tE,EAAOpgB,SAAQ,SAAUvO,GACvBw8F,EAAG57F,KAAKZ,EAAE+f,GACV08E,EAAG77F,KAAKZ,EAAE0S,MAEZ,IAAI2e,EAAOluB,KAAKE,IAAIkC,MAAMpC,KAAMq5F,GAC5BnqE,EAAOlvB,KAAKC,IAAImC,MAAMpC,KAAMq5F,GAC5BlrE,EAAOnuB,KAAKE,IAAIkC,MAAMpC,KAAMs5F,GAC5BnqE,EAAOnvB,KAAKC,IAAImC,MAAMpC,KAAMs5F,GAChC,MAAO,CACLxnE,SAAU5D,EAAOgB,GAAQ,EACzB6C,SAAU5D,EAAOgB,GAAQ,EACzBD,KAAMA,EACNC,KAAMA,EACNjB,KAAMA,EACNC,KAAMA,EACN1S,OAAQ0T,EAAOhB,EACfjhB,MAAOgiB,EAAOhB,GAqbDqrE,CAAkB,CAACL,EAAQC,IACtCK,EAAWhD,EAAUwC,EAAQI,GAC7BK,EAAWjD,EAAUyC,EAAQG,GAC7BM,EAAgB,GACpBA,EAAgBA,EAAc/5F,OAAOg3F,EAAkB6C,IAAW75F,OAAOg3F,EAAkB8C,IAC3F,IAAIE,EAAc,CAChB/8E,GAAIi4C,EAAMj4C,EAAIgnD,EAAIhnD,GAAK,EACvBrN,GAAIslD,EAAMtlD,EAAIq0D,EAAIr0D,GAAK,GAEzB,CAAC6pF,EAAUI,EAAUC,GAAUruF,SAAQ,SAAU4iB,GAC/C0rE,EAAgBA,EAAc/5F,OA1RK,SAAmCquB,EAAMzC,GAC9E,OA3B+B,SAA6ByC,EAAMpR,GAClE,OAAIA,EAAIoR,EAAKE,MAAQtR,EAAIoR,EAAKkB,KACrB,GAGF,CAAC,CACNtS,EAAGA,EACHrN,EAAGye,EAAKG,MACP,CACDvR,EAAGA,EACHrN,EAAGye,EAAKmB,OAiBHyqE,CAAoB5rE,EAAMzC,EAAM3O,GAAGjd,OAdX,SAA6BquB,EAAMze,GAClE,OAAIA,EAAIye,EAAKG,MAAQ5e,EAAIye,EAAKmB,KACrB,GAGF,CAAC,CACNvS,EAAGoR,EAAKE,KACR3e,EAAGA,GACF,CACDqN,EAAGoR,EAAKkB,KACR3f,EAAGA,IAI4CsqF,CAAoB7rE,EAAMzC,EAAMhc,IAyR1CuqF,CAA0B9rE,EAAM2rE,GAAat8F,QAAO,SAAUR,GACjG,OAAO+5F,EAAmB/5F,EAAGm8F,IAAWpC,EAAmB/5F,EAAGo8F,UAGlE,CAAC,CACCr8E,EAAGs8E,EAAOt8E,EACVrN,EAAG4pF,EAAO5pF,GACT,CACDqN,EAAGu8E,EAAOv8E,EACVrN,EAAG2pF,EAAO3pF,IACTnE,SAAQ,SAAUvO,GAEf+5F,EAAmB/5F,EAAGm8F,IAAWpC,EAAmB/5F,EAAGo8F,IAGzDS,EAAcj8F,KAAKZ,MAGvB68F,EAAc9xE,QAAQsxE,GACtBQ,EAAcj8F,KAAK07F,GAInB,IAAIlC,EAxMkB,SAAoBzrE,EAAQqpC,EAAOklC,EAAMpB,EAAOC,EAAOhmF,EAAI+xE,GAEjF,IAAIqV,EAAY,GACZC,EAAU,CAACplC,GACXsiC,EAAW,GACX+C,EAAS,GAETC,EAAS,GAEbD,EAAOrlC,EAAM/rC,IAAM,EACnBqxE,EAAOtlC,EAAM/rC,IAAM+tE,EAAsBhiC,EAAOklC,EAAMllC,GACtD,IAIIx4B,EAAS+9D,EAlE6Bj9F,EAAK4E,EAC3CvE,EA6DA05F,EAAY,GAMhB,IALA1rE,EAAOpgB,SAAQ,SAAUvO,GACvBq6F,EAAUr6F,EAAEisB,IAAMjsB,KAIbo9F,EAAQh9F,QAAQ,CAWrB,GAVAo/B,OAAUz1B,EACVwzF,EAAe30F,IAEfw0F,EAAQ7uF,SAAQ,SAAUvO,GACpBs9F,EAAOt9F,EAAEisB,KAAOsxE,IAClBA,EAAeD,EAAOt9F,EAAEisB,IACxBuT,EAAUx/B,MAIVw/B,IAAY09D,EAAM,CAEpB,IAAI9C,EAAa,GAEjB,OADAD,EAAgBC,EAAYC,EAAWC,EAAU4C,EAAKjxE,IAC/CmuE,EAnFoCl1F,EAsFzBs6B,EArFlB7+B,aADsCL,EAsF7B88F,GArFG78F,QAAQ2E,KAEX,GACX5E,EAAIwD,OAAOnD,EAAO,GAmFlBw8F,EAAUv8F,KAAK4+B,GACf67D,EAAkB1sE,EAAQ6Q,EAASs8D,EAAOC,GAAOxtF,SAAQ,SAAUk0D,GACjE,IAAqC,IAAjC06B,EAAU58F,QAAQkiE,GAAtB,EAImC,IAA/B26B,EAAQ78F,QAAQkiE,IAClB26B,EAAQx8F,KAAK6hE,GAGf,IAAI+6B,EAAkBF,EAAO99D,EAAQvT,IAAMpB,EAAS2U,EAASijC,GAEzD46B,EAAO56B,EAASx2C,KAAOuxE,GAAmBH,EAAO56B,EAASx2C,MAI9DquE,EAAS73B,EAASx2C,IAAMuT,EAAQvT,GAChCoxE,EAAO56B,EAASx2C,IAAMuxE,EACtBF,EAAO76B,EAASx2C,IAAMoxE,EAAO56B,EAASx2C,IAAM+tE,EAAsBv3B,EAAUy6B,EAAMllC,EAAOjiD,EAAI+xE,QAKjG,MAAO,CAAC9vB,EAAOklC,GA6IE,CAFjBL,EAAgB3D,EAAoB2D,GAEOR,EAAQC,EAAQR,EAAOC,EAAO/jC,EAAO+O,GAGhF,OAFAqzB,EAAWrvE,QAAQitC,GACnBoiC,EAAWx5F,KAAKmmE,GACTqyB,EAAiBgB,ICpetBlvD,EAAa,CACf/uB,OAAQ,GACRshF,0BAA2Bt6F,KAAK6F,GAAK,EACrC00F,aAAc,IACdC,SAAU,GACVjpE,WAAY,CAAC,CACXkpE,MAAO,EACPC,MAAO,GACN,CACDD,OAAQ,EACRC,MAAO,GACN,CACDD,MAAO,EACPC,MAAO,GACN,CACDD,MAAO,EACPC,OAAQ,IAIV,gBACE,MAAO,CACLC,EAAG,EACHC,GAAIjgG,KAAK6/F,SAAW,EACpBK,GAAIlgG,KAAK6/F,SAAW,IAIxBM,SA9CkB,SAAuBjwE,EAAIC,GAC7C,OAAO9qB,KAAKqF,IAAIwlB,EAAGjO,EAAIkO,EAAGlO,GAAK5c,KAAKqF,IAAIwlB,EAAGtb,EAAIub,EAAGvb,IA8ClDwrF,cAlCmB,SAAwBlmC,EAAO+O,EAAKhC,EAAWo5B,EAASjjF,GAC3E,OAAOk+E,EAAiBuC,EAAkB3jC,EAAO+O,EAAKhC,EAAWo5B,EAASjjF,EAAIiB,WAmE5EuiC,GA/ByBv7C,KAAK6F,GA+BjB,SAAoBo1F,EAAKT,GACxC,IAAIh/C,EAASx7C,KAAKyE,MAAMzE,KAAKqF,IAAI41F,EAAMT,IAEvC,OAAOh/C,EAAS,EAAI,GADTy/C,EAAM,GAAK,EAAI,GACKz/C,IAyB7B0/C,EAAoB,SAA2BrwE,EAAIC,GACrD,IAAI05D,EAAS15D,EAAGlO,EAAIiO,EAAGjO,EACnB6nE,EAAS35D,EAAGvb,EAAIsb,EAAGtb,EAEvB,OAAIi1E,GAAUC,EACLzkF,KAAKsS,MAAMmyE,EAAQD,GAGrB,GASL2W,EAAe,SAAsBC,EAAQC,GAC/C,IAAIC,EAAkBt7F,KAAKqF,IAAI+1F,EAASC,GACxC,OAAOC,EAAkBt7F,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKy1F,EAAkBA,GAIjEC,EAAe,SAAsBhrF,EAAMirF,EAAWV,GAGxD,IAFA,IAAI56F,EAAMuF,IAED1K,EAAI,EAAGqD,EAAMo9F,EAAUv+F,OAAQlC,EAAIqD,EAAKrD,IAAK,CACpD,IAAI0gG,EAAOX,EAASvqF,EAAMirF,EAAUzgG,IAEhC0gG,EAAOv7F,IACTA,EAAMu7F,GAIV,OAAOv7F,GAIL,EAAe,SAAsBqrB,EACzCmwE,EACAluE,EACA4oE,EACAr+E,GACE,IAAIyT,EAAS,GAEb,IAAKgC,EACH,MAAO,CAACjC,GAGV,IAAIgG,EAAaxZ,EAAIwZ,WACjBvY,EAASjB,EAAIiB,OACbgV,EAAOR,EAAK8B,UACZqsE,EAAWD,EAAS9+E,EAAIoR,EAAKE,MAAQwtE,EAAS9+E,EAAIoR,EAAKkB,MAAQwsE,EAASnsF,EAAIye,EAAKG,MAAQutE,EAASnsF,EAAIye,EAAKmB,KAC3GysE,EAAa1F,EAAgBloE,EAAMhV,GAEvC,IAAK,IAAIje,KAAK6gG,EACZA,EAAW7gG,GAAKwgD,EAAWqgD,EAAW7gG,GAAIgd,EAAIyiF,UAGhD,GAAImB,EAAU,CAEZ,IAAK,IAAI3pE,EAAK,EAAG6pE,EAAetqE,EAAYS,EAAK6pE,EAAa5+F,OAAQ+0B,IACpE,KAAI1a,EAAMukF,EAAa7pE,GACnB8pE,EAAS,CAAC,CAAC,CACbl/E,EAAGg/E,EAAW1tE,KACd3e,EAAGqsF,EAAWztE,MACb,CACDvR,EAAGg/E,EAAW1sE,KACd3f,EAAGqsF,EAAWztE,OACZ,CAAC,CACHvR,EAAGg/E,EAAW1tE,KACd3e,EAAGqsF,EAAWztE,MACb,CACDvR,EAAGg/E,EAAW1tE,KACd3e,EAAGqsF,EAAWzsE,OACZ,CAAC,CACHvS,EAAGg/E,EAAW1sE,KACd3f,EAAGqsF,EAAWztE,MACb,CACDvR,EAAGg/E,EAAW1sE,KACd3f,EAAGqsF,EAAWzsE,OACZ,CAAC,CACHvS,EAAGg/E,EAAW1tE,KACd3e,EAAGqsF,EAAWzsE,MACb,CACDvS,EAAGg/E,EAAW1sE,KACd3f,EAAGqsF,EAAWzsE,QAGhB,IAASp0B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIghG,EAAYD,EAAO/gG,GACnBihG,EAAc,IAAKrxE,iBAAiBY,EAAO,CAC7C3O,EAAG2O,EAAM3O,EAAItF,EAAImjF,MAAQmB,EAAW1uF,MACpCqC,EAAGgc,EAAMhc,EAAI+H,EAAIojF,MAAQkB,EAAWngF,QACnCsgF,EAAU,GAAIA,EAAU,IAEvBC,IAAgBlE,EAAsBvsE,EAAOywE,EAAahuE,KAC5DguE,EAAYlzE,GAAK,GAAGnpB,OAAOq8F,EAAYp/E,EAAG,OAAOjd,OAAOq8F,EAAYzsF,GACpEic,EAAO/tB,KAAKu+F,KAKlB,OAAOxwE,EAIT,IAAIywE,EAAY9F,EAAqByF,EAAYrwE,EAAO6qE,GAExD,OADA6F,EAAUnzE,GAAK,GAAGnpB,OAAOs8F,EAAUr/E,EAAG,OAAOjd,OAAOs8F,EAAU1sF,GACvD,CAAC0sF,IAGNC,EAAqB,SAA4B7/D,EAASijC,EAAU63B,EAAUgF,GAChF,IAAIC,EAAiBlB,EAAkB7+D,EAASijC,GAEhD,IAAK63B,EAAS96D,EAAQvT,IAAK,CACzB,IAAI4xC,EAAawgC,EAAkBiB,EAAiB9/D,GACpD,OAAO8+D,EAAazgC,EAAY0hC,GAGlC,IAAIC,EAAqBnB,EAAkB,CACzCt+E,EAAGu6E,EAAS96D,EAAQvT,IAAIlM,EACxBrN,EAAG4nF,EAAS96D,EAAQvT,IAAIvZ,GACvB8sB,GACH,OAAO8+D,EAAakB,EAAoBD,IAGtCh2D,EAAmB,SAA0B/J,EAAS86D,EAAUgF,EAAiBtmE,EAAUD,EAAY0mE,EAAe9B,GACxH,IAAIzjE,EAAgB,CAAClB,GACjBuhE,EAAY/6D,EAAQvT,GACpByzE,EAAWlgE,EAAQzf,EACnB4/E,EAAWngE,EAAQ9sB,EACnBktF,EAAY,CACd7/E,EAAG2/E,EACHhtF,EAAGitF,EACH1zE,GAAIsuE,GAoBN,IAjBI8E,EAAmBO,EAAWH,EAAenF,EAAUgF,IAWzDplE,EAAcnP,QAAQ,CACpBhL,EAAG0/E,EAAc1/E,IAAMiZ,EAASjZ,EAAIiZ,EAASjZ,EAAI6/E,EAAU7/E,EAAI49E,EAC/DjrF,EAAG+sF,EAAc/sF,IAAMsmB,EAAStmB,EAAIsmB,EAAStmB,EAAIktF,EAAUltF,EAAIirF,IAI5DrD,EAASC,IAAcD,EAASC,GAAWtuE,KAAOsuE,GAAW,CAClE,IAAI7rE,EAAQ,CACV3O,EAAG2/E,EACHhtF,EAAGitF,EACH1zE,GAAIsuE,GAEFsF,EAAQvF,EAASC,GAAWtuE,GAC5B6zE,EAAOxF,EAASC,GAAWx6E,EAC3BggF,EAAOzF,EAASC,GAAW7nF,EAC3B68B,EAAW,CACbxvB,EAAG+/E,EACHptF,EAAGqtF,EACH9zE,GAAI4zE,GAEgBR,EAAmB9vD,EAAU7gB,EAAO4rE,EAAUgF,IAalEplE,EAAcnP,QAAQ,CACpBhL,EAAGwvB,EAASxvB,IAAM2O,EAAM3O,EAAIma,EAAc,GAAGna,EAAIwvB,EAASxvB,EAAI49E,EAC9DjrF,EAAG68B,EAAS78B,IAAMgc,EAAMhc,EAAIwnB,EAAc,GAAGxnB,EAAI68B,EAAS78B,EAAIirF,IAIlEpD,EAAYsF,EACZH,EAAWI,EACXH,EAAWI,EAIb,IAAIC,EACCN,EADDM,EAECL,EAUL,OAHAzlE,EAAc,GAAGna,EAAIigF,IAAiBV,EAAgBv/E,EAAIgZ,EAAWhZ,EAAIma,EAAc,GAAGna,EAC1Fma,EAAc,GAAGxnB,EAAIstF,IAAiBV,EAAgB5sF,EAAIqmB,EAAWrmB,EAAIwnB,EAAc,GAAGxnB,EAC1FwnB,EAAcnP,QAAQgO,GACfmB,GAGE,EAAa,SAAoBnB,EAAYC,EAAU+rC,EAAWo5B,EAAS8B,GACpF,GAAIx8F,MAAMs1B,EAAWhZ,IAAMtc,MAAMu1B,EAASjZ,GAAI,MAAO,GACrD,IAAI7E,EAAM,kBAAQgwB,EAAY+0D,GAC9B/kF,EAAIglF,UAAYhlF,EAAIglF,WAAa,GACjC,IAAIvC,EAAWziF,EAAIyiF,SACftvF,EA5Oe,SAAwB8yB,EAAOw8D,EAAUxhF,GAC5D,IAAI9N,EAAM,GAYV,OAXA8yB,EAAM5yB,SAAQ,SAAUrJ,GAEtB,GAAKA,EAGL,IAFA,IAAIisB,EAAOkoE,EAAgBn0F,EAAKutB,UAAWtW,GAElC4D,EAAI2+B,EAAWvtB,EAAKE,KAAMssE,GAAW59E,GAAK2+B,EAAWvtB,EAAKkB,KAAMsrE,GAAW59E,GAAK,EACvF,IAAK,IAAIrN,EAAIgsC,EAAWvtB,EAAKG,KAAMqsE,GAAWjrF,GAAKgsC,EAAWvtB,EAAKmB,KAAMqrE,GAAWjrF,GAAK,EACvFrE,EAAI,GAAGvL,OAAOid,EAAG,OAAOjd,OAAO4P,KAAM,KAIpCrE,EA+NG,CAAe6M,EAAIglF,UAAUp9F,OAAO,CAACiiE,EAAWo5B,IAAWR,EAAUziF,EAAIiB,QAC/EmjF,EAAkB,CACpBv/E,EAAG2+B,EAAW3lB,EAAWhZ,EAAG49E,GAC5BjrF,EAAGgsC,EAAW3lB,EAAWrmB,EAAGirF,IAE1B8B,EAAgB,CAClB1/E,EAAG2+B,EAAW1lB,EAASjZ,EAAG49E,GAC1BjrF,EAAGgsC,EAAW1lB,EAAStmB,EAAGirF,IAE5B5kE,EAAW9M,GAAK,GAAGnpB,OAAOw8F,EAAgBv/E,EAAG,OAAOjd,OAAOw8F,EAAgB5sF,GAC3EsmB,EAAS/M,GAAK,GAAGnpB,OAAO28F,EAAc1/E,EAAG,OAAOjd,OAAO28F,EAAc/sF,GACrE,IAAIytF,EAAc,EAAab,EAAiBvmE,EAAYgsC,EAAW06B,EAAevkF,GAClFyjF,EAAY,EAAac,EAAezmE,EAAUmlE,EAASmB,EAAiBpkF,GAChFilF,EAAY5xF,SAAQ,SAAUmgB,UACrBrgB,EAAIqgB,EAAMzC,OAEnB0yE,EAAUpwF,SAAQ,SAAUmgB,UACnBrgB,EAAIqgB,EAAMzC,OAUnB,IARA,IAAImxE,EAAU,GACVD,EAAY,GACZ7C,EAAW,GAEX+C,EAAS,GAETC,EAAS,GAEJp/F,EAAI,EAAGA,EAAIiiG,EAAY//F,OAAQlC,IAAK,CAC3C,IAAIkiG,EAAYD,EAAYjiG,GAC5Bk/F,EAAQgD,EAAUn0E,IAAMm0E,EAExB/C,EAAO+C,EAAUn0E,IAAM,EACvBqxE,EAAO8C,EAAUn0E,IAAMyyE,EAAa0B,EAAWzB,EAAWzjF,EAAI+iF,UAOhE,IAJA,IAEIz+D,EAAS6gE,EAASzsE,EAAW6uC,EAAU69B,EAAcC,EAAe9B,EAFpE+B,EAActlF,EAAIwiF,aAClB+C,EAAYvlF,EAAIulF,UAGb7hG,OAAO8C,KAAK07F,GAASh9F,OAAS,GAAKogG,EAAc,IACtDhhE,OAAUz1B,EACVs2F,EAAUz3F,IAEVhK,OAAO8C,KAAK07F,GAAS7uF,SAAQ,SAAU9O,GACrC,IAAIwsB,EAAKmxE,EAAQ39F,GAAKwsB,GAElBqxE,EAAOrxE,IAAOo0E,IAChBA,EAAU/C,EAAOrxE,GACjBuT,EAAU49D,EAAQnxE,OAGjBuT,IAZoD,CAczD,GAAIm/D,EAAUn8F,WAAU,SAAUksB,GAChC,OAAOA,EAAM3O,IAAMyf,EAAQzf,GAAK2O,EAAMhc,IAAM8sB,EAAQ9sB,MAChD,EACJ,OAAO62B,EAAiB/J,EAAS86D,EAAUgF,EAAiBtmE,EAAUD,EAAY0mE,EAAe9B,UAG5FP,EAAQ59D,EAAQvT,IACvBkxE,EAAU39D,EAAQvT,KAAM,EAGxB,IAAS/tB,EAAI,EAAGA,EAAIgd,EAAIwZ,WAAWt0B,OAAQlC,IACzC01B,EAAY1Y,EAAIwZ,WAAWx2B,GAMvBi/F,GALJ16B,EAAW,CACT1iD,EAAGyf,EAAQzf,EAAI6T,EAAUgqE,MACzBlrF,EAAG8sB,EAAQ9sB,EAAIkhB,EAAUiqE,MACzB5xE,GAAI,GAAGnpB,OAAOK,KAAKyE,MAAM43B,EAAQzf,GAAK6T,EAAUgqE,MAAO,OAAO96F,OAAOK,KAAKyE,MAAM43B,EAAQ9sB,GAAKkhB,EAAUiqE,SAElF5xE,MACvBwyE,EAAkBY,EAAmB7/D,EAASijC,EAAU63B,EAAUgF,IAC5CpkF,EAAIuiF,2BACtBpvF,EAAIo0D,EAASx2C,MAGZmxE,EAAQ36B,EAASx2C,MACpBmxE,EAAQ36B,EAASx2C,IAAMw2C,GAGzB69B,EAAeplF,EAAI+iF,SAASz+D,EAASijC,IAAah/D,MAAMg9F,EAAUhC,IAAoBd,EAAW8C,EAAUhC,IAC3G8B,EAAgBlD,EAAO79D,EAAQvT,IAAMq0E,EAEjCjD,EAAO56B,EAASx2C,KAAOs0E,GAAiBlD,EAAO56B,EAASx2C,MAI5DquE,EAAS73B,EAASx2C,IAAMuT,EACxB69D,EAAO56B,EAASx2C,IAAMs0E,EACtBjD,EAAO76B,EAASx2C,IAAMs0E,EAAgB7B,EAAaj8B,EAAUk8B,EAAWzjF,EAAI+iF,YAG9EuC,GAAe,EAGjB,OAAOtlF,EAAIgjF,cAAcnlE,EAAYC,EAAU+rC,EAAWo5B,EAASjjF,ICtarE,YAAa,WAAY,CACvBrM,QAAS,CACP3H,MAAO,IAAO2W,YAAY3W,MAC1B8G,KAAM,IAAO6P,YAAY7P,KACzB+N,MAAO,CACL3U,OAAQ,EACR+U,OAAQ,GACR4D,EAAG,EACHrN,EAAG,EACH4J,OAAQ,IAAOuB,YAAY9B,MAAMO,OACjCyB,gBAAiB,IAAOF,YAAY9B,MAAMgC,iBAG5CsvC,SAAU,CACRtxC,MAAO,CACLC,KAAM,IAAO4B,UAAU7B,MAAMC,KAC7B9L,SAAU,IAAO0N,UAAU7B,MAAM7L,WAGrC4iD,SAAU,CACRotC,UAAW,GACXzC,0BAA2Bt6F,KAAK6F,GAChC00F,aAAc,IACdC,SAAU,IAGZryD,YAAa,EAAS,GAAI,IAAOttB,kBAEnCksB,UAAW,WAEX6mB,cAAe,SACftnB,UAAW,SAAmBvuB,EAAK6V,GACjC,IAAI69B,EAAa9wD,KAAK2wD,cAAcvzC,GAOpC,OAN0B,IAAtB0zC,EAAWxnD,eAAqBwnD,EAAWxnD,OAChC2pB,EAAMwW,SAAS,OAAQ,CACpC0B,UAAW,aACXxqC,KAAM,aACNqD,MAAO8sD,KAIXH,cAAe,SAAuBvzC,GACpC,IAAIszC,EAAe1wD,KAAK+Q,QAAQkN,MAC5B22C,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAEV6U,EAAQ,cAAI,GAAIyyC,EAAckE,EAAax3C,EAAIa,OACnDb,EAAMpd,KAAK60D,cAAcz3C,GACzBpd,KAAKsJ,OAAS2U,EAAM3U,OACpBtJ,KAAKqe,OAASJ,EAAMI,OACpB,IAAI4c,EAAa7d,EAAI6d,WACjBC,EAAW9d,EAAI8d,SACfkB,EAAgBp8B,KAAKyrC,iBAAiBruB,GACtCyT,EAAS,CAACoK,GAGVmB,IACFvL,EAASA,EAAO7rB,OAAOo3B,IAIzBvL,EAAO/tB,KAAKo4B,GACZ,IAAInN,EAAS3Q,EAAIud,WACb3M,EAAS5Q,EAAIwd,WACbtxB,EAAS2U,EAAM3U,OACfs5F,EAAkB5iG,KAAK+Q,QAAQikD,SAC/BA,EAAW,cAAI,GAAI4tC,EAAiBxlF,EAAI43C,UAC5CA,EAAS32C,OAASJ,EAAMI,OACxB,IAAIzN,EAAO5Q,KAAK20D,QAAQ9jC,EAAQ9C,EAAQC,EAAQ1kB,EAAQ0rD,GAcxD,OAZI,kBAAQpkD,IAASA,EAAKtO,QAAU,GAAK,mBAASsO,KAAgC,IAAvBA,EAAKnO,QAAQ,QACtEmO,EAAO,eAGLjL,MAAMs1B,EAAWhZ,IAAMtc,MAAMs1B,EAAWrmB,IAAMjP,MAAMu1B,EAASjZ,IAAMtc,MAAMu1B,EAAStmB,MACpFhE,EAAO,cAGG,cAAI,GAAI,IAAOmP,YAAY9B,MAAOA,EAAO,CACnDM,UAAWnB,EAAIlN,KACfU,KAAMA,KAIVggD,iBAAkB,SAA0BxzC,EAAKhW,GAC/C,IAAI6rB,EAAQ7rB,EAAKwiC,eACjB,GAAKxiC,EAAKo4B,YAAV,CACA,IAAIo1B,EAAc,CAChBp2C,OAAQpB,EAAIhU,OAEV0T,EAAQmW,EAAM3uB,MAAK,SAAU6Y,GAC/B,MAAoC,eAA7BA,EAAQlc,IAAI,iBACfmG,EAAK0zB,cACP5qB,EAAOkN,EAAIlN,KAEX+qB,GADJ7d,EAAMpd,KAAK60D,cAAcz3C,IACJ6d,WACjBC,EAAW9d,EAAI8d,SACfkB,EAAgBp8B,KAAKyrC,iBAAiBruB,GAEtCyT,EAAS,CAACoK,GAGVmB,IACFvL,EAASA,EAAO7rB,OAAOo3B,IAIzBvL,EAAO/tB,KAAKo4B,GACZ,IAAI45B,EAAch4C,EAAMguB,OACpBiqB,EAAgB,cAAI,GAAIH,EAAaE,EAAa13C,EAAIa,OACtD8P,EAAS3Q,EAAIud,WACb3M,EAAS5Q,EAAIwd,WACbtxB,EAASyrD,EAAczrD,OACvBs5F,EAAkB5iG,KAAK+Q,QAAQikD,SAC/BA,EAAW,cAAI,GAAI4tC,EAAiBxlF,EAAI43C,UAC5CA,EAAS32C,OAAS02C,EAAc12C,OAChC,IAAIzN,EAAO5Q,KAAK20D,QAAQ9jC,EAAQ9C,EAAQC,EAAQ1kB,EAAQ0rD,IAEpD,kBAAQpkD,IAASA,EAAKtO,QAAU,GAAK,mBAASsO,KAAgC,IAAvBA,EAAKnO,QAAQ,QACtEmO,EAAO,eAGLjL,MAAMs1B,EAAWhZ,IAAMtc,MAAMs1B,EAAWrmB,IAAMjP,MAAMu1B,EAASjZ,IAAMtc,MAAMu1B,EAAStmB,MACpFhE,EAAO,cAGLkkD,EAAY3F,WAAuC,IAA3B4F,EAAc5F,WACxC/xC,EAAIa,MAAMkxC,SAAW,CACnBv+C,KAAM,KAINkkD,EAAY5F,aAA2C,IAA7B6F,EAAc7F,aAC1C9xC,EAAIa,MAAMixC,WAAa,CACrBt+C,KAAM,KAIV,IAAIqN,EAAQ,cAAI22C,EAAa93C,EAAMguB,OAAQ,CACzCvsB,UAAWrO,EACXU,KAAMA,GACLwM,EAAIa,OAEHnB,GACFA,EAAMguB,KAAK7sB,KAGf02C,QAAS,SAAiB9jC,EAAQ9C,EAAQC,EAAQ1kB,EAAQ0rD,GACxD,IAAI32C,EAAS22C,EAAS32C,OAClBwkF,EAAS7tC,EAAS6tC,OAEtB,IAAKxkF,GAAUwS,EAAOvuB,OAAS,EAAG,CAChC,GAAIgH,EACF,OAAOk0F,EAAkC3sE,EAAQvnB,GAGnD,IAAIw5F,EAAc,GAQlB,OAPA,eAAKjyE,GAAQ,SAAUD,EAAO/tB,GACd,IAAVA,EACFigG,EAAYhgG,KAAK,CAAC,IAAK8tB,EAAM3O,EAAG2O,EAAMhc,IAEtCkuF,EAAYhgG,KAAK,CAAC,IAAK8tB,EAAM3O,EAAG2O,EAAMhc,OAGnCkuF,EAIT,IAAIC,EAAiBF,EAAShF,EAAkBhtE,EAAOA,EAAOvuB,OAAS,GAAIuuB,EAAO,GAAI7C,EAAQD,EAAQ1P,GAAU,EAAWwS,EAAO,GAAIA,EAAOA,EAAOvuB,OAAS,GAAIyrB,EAAQC,EAAQgnC,GACjL,OAAK+tC,GAAmBA,EAAezgG,OAEnCgH,EACUk0F,EAAkCuF,EAAgBz5F,GAItD,IAAKovC,gBAAgBqqD,GAPuB,eAUvD,gB,kECrLKC,EAAsB,IAAI,WAAd,EAAU,IAAI,MAE1Bt4F,EAAQrF,KAAI,IAGL,GACbmpB,cAAA,WACE,MAAO,CACLsH,UAAW,OACXmtE,gBAAgB,EAKhBC,cAAe,EACfC,iBAAiB,IAGrB10E,UAAA,WACE,MAAO,CACL20E,UAAW,cACXC,KAAM,aACNC,QAAS,cAGbC,eAAA,SAAex7F,GACL,IAAA2hC,EAAW1pC,KAAI,OACjB6iC,GAAW96B,EAAE86B,QACbC,GAAW/6B,EAAE+6B,QAEnB,IAAI,EAAMD,KAAY,EAAMC,GAA5B,CAGA,IAAI3R,EAAK0R,EAAU6G,EAAOznB,EACtBmP,EAAK0R,EAAU4G,EAAO90B,EAEI,MAA1B5U,KAAKiB,IAAI,aACXmwB,EAAK,EAC8B,MAA1BpxB,KAAKiB,IAAI,eAClBkwB,EAAK,GAEPnxB,KAAK0pC,OAAS,CACZznB,EAAG4gB,EACHjuB,EAAGkuB,GAEL,IAAMvwB,EAAQvS,KAAK8uB,MAAM7tB,IAAI,SACvB6f,EAAS9gB,KAAK8uB,MAAM7tB,IAAI,UACxBuiG,EAAkBxjG,KAAK8uB,MAAM7tB,IAAI,UAAUqyB,iBAG9CkwE,EAAgBjwE,MAAQhhB,EAAQvS,KAAKkjG,eACpCM,EAAgBjwE,KAAOpC,EAAK5e,EAAQvS,KAAKkjG,eAC1CM,EAAgBjvE,KAAOv0B,KAAKkjG,eAAiB,GAC5CM,EAAgBjvE,KAAOv0B,KAAKkjG,cAAgB/xE,EAAK,KAEnDA,EAAK,IAGJqyE,EAAgBhwE,MAAQ1S,EAAS9gB,KAAKkjG,eACrCM,EAAgBhwE,KAAOpC,EAAKtQ,EAAS9gB,KAAKkjG,eAC3CM,EAAgBhvE,KAAOx0B,KAAKkjG,eAAiB,GAC5CM,EAAgBhvE,KAAOx0B,KAAKkjG,cAAgB9xE,EAAK,KAEnDA,EAAK,GAEPpxB,KAAK8uB,MAAMkE,UAAU7B,EAAIC,KAE3BqyE,YAAA,SAAY17F,GAEIA,EAAE27F,cAChB,GAAK1jG,KAAK2uB,YAAYpuB,KAAKP,KAAM+H,GAAjC,CAIA,IAAMimB,EAASjmB,EAAEimB,OACX21E,EAAiB31E,GAAUA,EAAOjR,UAAYiR,EAAOjR,WAC3D,IAAK/c,KAAKmjG,iBAAoBQ,KARjB3jG,KAUR0pC,OAAS,CAAEznB,EAAGla,EAAE86B,QAASjuB,EAAG7M,EAAE+6B,SAVtB9iC,KAWR4jG,UAAW,EAEZ5jG,KAAKijG,gBAAgB,CAIvB,IAFA,IAAMn0E,EAAgB9uB,KAAK8uB,MACrBZ,EAAQY,EAAM8jB,WACXxyC,EAAI,EAAGqD,EAAMyqB,EAAM5rB,OAAQlC,EAAIqD,EAAKrD,IAAK,CAChD,IAAMyjG,EAAS31E,EAAM9tB,GAAGa,IAAI,SAASA,IAAI,YACpC4iG,GACLA,EAAOpzF,SAAQ,SAACqM,GACdA,EAAMxV,IAAI,iBAAkBwV,EAAM7b,IAAI,mBAAqB6b,EAAM7b,IAAI,YACrE6b,EAAM6zB,UAIV,IADA,IAAM1iB,EAAQa,EAAMklB,WACXrsC,EAAI,EAAGm8F,EAAU71E,EAAM3rB,OAAQqF,EAAIm8F,EAASn8F,IAGnD,IAFA,IAEoB,MAFFsmB,EAAMtmB,GAAGiiC,eACA3oC,IAAI,YACX,eAAU,CAAzB,IAAMo9B,EAAK,KACKA,EAAMp9B,IAAI,gBAE3Bo9B,EAAM/2B,IAAI,iBAAkB+2B,EAAMp9B,IAAI,mBAAqBo9B,EAAMp9B,IAAI,YACrEo9B,EAAMsS,YAOhBozD,WAAA,SAAWh8F,GACS/H,KAAI,MAAd,IACFguB,EAASjmB,EAAEimB,OACX21E,EAAiB31E,GAAUA,EAAOjR,UAAYiR,EAAOjR,WAC3D,IAAK/c,KAAKmjG,iBAAoBQ,KAE9B57F,EAAIi7F,EAAWj7F,GACV/H,KAAK0pC,QAAV,CAIA,IAAK1pC,KAAK4jG,SAAU,CAClB,GAAIl5F,EAAI1K,KAAK0pC,OAAOznB,EAAIla,EAAE86B,SAAWn4B,EAAI1K,KAAK0pC,OAAO90B,EAAI7M,EAAE+6B,SArH7C,GAsHZ,OAEE9iC,KAAK2uB,YAAYpuB,KAAKP,KAAM+H,KAC9BA,EAAE5E,KAAO,YACTnD,KAAK4jG,UAAW,GAGhB5jG,KAAK4uB,aAAaruB,KAAKP,KAAM+H,IAC/B/H,KAAKujG,eAAex7F,KAGxBi8F,UAAA,SAAUj8F,GACA,IAAA+mB,EAAU9uB,KAAI,MAEtB,GAAIA,KAAKijG,eAAgB,CAGvB,IADA,IAAM/0E,EAAQY,EAAM8jB,WACXxyC,EAAI,EAAGqD,EAAMyqB,EAAM5rB,OAAQlC,EAAIqD,EAAKrD,IAAK,CAChD,IAAMyjG,EAAS31E,EAAM9tB,GAAGa,IAAI,SAASA,IAAI,YACpC4iG,GACLA,EAAOpzF,SAAQ,SAACqM,GACCA,EAAM7b,IAAI,mBACb6b,EAAM4zB,UAItB,IADA,IAAMziB,EAAQa,EAAMklB,WACXrsC,EAAI,EAAGm8F,EAAU71E,EAAM3rB,OAAQqF,EAAIm8F,EAASn8F,IAGnD,IAFA,IAEoB,MAFFsmB,EAAMtmB,GAAGiiC,eACA3oC,IAAI,YACX,eAAU,CAAzB,IAAMo9B,EAAK,KAEd,IADmBA,EAAMp9B,IAAI,cAEZo9B,EAAMp9B,IAAI,mBACbo9B,EAAMqS,QAMrB1wC,KAAK4jG,UAKV77F,EAAIi7F,EAAWj7F,GAEX/H,KAAK6uB,UAAUtuB,KAAKP,KAAM+H,IAC5B/H,KAAKujG,eAAex7F,GAEtBA,EAAE5E,KAAO,UAETnD,KAAKikG,WAXHjkG,KAAK0pC,OAAS,MAalBu6D,QAAO,WACLjkG,KAAK0pC,OAAS,KACd1pC,KAAK4jG,UAAW,EAChB5jG,KAAKkkG,WAAY,I,QCxKN,GACb11E,cAAA,WACE,MAAO,CACL21E,YAAY,EACZxiF,cAAe,GAEfyiF,gBAAgB,EAEhBC,qBAAqB,EAErBC,iBAAkB,GAClBC,cAAe,aAGnB91E,UAAA,WACE,MAAO,CACL,iBAAkB,cAClB,YAAa,SACb,eAAgB,YAChB,kBAAmB,cACnB,kBAAmB,cACnB,aAAc,cACd,YAAa,aACb,cAAe,iBAGnB+1E,gBAAA,SAAgBp9F,GACd,SAAKpH,KAAK0pC,SAAWtiC,GAAQA,EAAKw5B,YAKrB,UADAx5B,EAAKiF,WAUpBo3F,YAAA,SAAYgB,GAAZ,WACE,GAAKzkG,KAAK2uB,YAAYpuB,KAAKP,KAAMykG,GAAjC,CAIA,IAAMr9F,EAAcq9F,EAAIr9F,KACxB,GAAKA,IAAQA,EAAKw5B,YAAax5B,EAAKmsC,YAApC,CAKQ,IAAAvlB,EAAWy2E,EAAG,OACtB,GAAIz2E,EAEF,GADsBA,EAAO/sB,IAAI,iBAE/B,OAII,IAAA6tB,EAAU9uB,KAAI,MAEtBA,KAAK0kG,QAAU,GAGf1kG,KAAK2kG,YAAc,KAGnB,IAAM12E,EAAQa,EAAM63B,eAAe,OAAQ3mD,KAAKukG,eAE1CK,EAAgBx9F,EAAKnG,IAAI,MASN,IANPgtB,EAAMvrB,QAAO,SAACmwB,GAC9B,IAAM8vC,EAAS9vC,EAAK5xB,IAAI,MACxB,OAAO2jG,IAAkBjiC,KAIbrgE,OACZtC,KAAK0kG,QAAQ5hG,KAAKsE,GACT6mB,EAAM3rB,OAAS,EAExB2rB,EAAMxd,SAAQ,SAACoiB,GACEA,EAAK0gB,aAElB,EAAKmxD,QAAQ5hG,KAAK+vB,MAItB7yB,KAAK0kG,QAAQ5hG,KAAKsE,GAEpB,IAAMy9F,EAAkB,GACxB7kG,KAAK0kG,QAAQj0F,SAAQ,SAACnP,GACpBujG,EAAgB/hG,KAAK,gBAAMxB,EAAEuuC,gBAE/B7vC,KAAKsH,IAAI,kBAAmBu9F,GAE5B7kG,KAAK0pC,OAAS,CACZznB,EAAGwiF,EAAIxiF,EACPrN,EAAG6vF,EAAI7vF,GAGT5U,KAAK4wB,MAAQ,GACb5wB,KAAK8kG,YAAc,MAOrBC,OAAA,SAAON,GAAP,WACOzkG,KAAK0pC,QAIL1pC,KAAK4uB,aAAa5uB,KAAMykG,KAIzBzkG,KAAKiB,IAAI,kBACXjB,KAAKglG,eAAeP,GAEpBzkG,KAAK0kG,QAAQn0F,KAAI,SAACyd,GAChB,EAAK2b,OAAO3b,EAAQy2E,QAQ1BT,UAAA,SAAUS,GACR,GAAKzkG,KAAK0pC,QAAW1pC,KAAK6uB,UAAUtuB,KAAKP,KAAMykG,GAA/C,CAKA,IAAMr9F,EAAOq9F,EAAIr9F,KACjB,GAAIA,EACYA,EAAKwiC,eACbtiC,IAAI,WAAW,GAGnBtH,KAAKilG,eACPjlG,KAAKilG,aAAaz+F,SAClBxG,KAAKilG,aAAe,MAGtBjlG,KAAKklG,gBAAgBT,GAErB,IAAM31E,EAAgB9uB,KAAK8uB,MAG3B,GAAIA,EAAM7tB,IAAI,gBAAiB,CAC7B,IAAM,EAAY,CAChBwmD,OAAQ,CAAEx5B,MAAOjuB,KAAKiB,IAAI,mBAAoBitB,MAAO,GAAIgS,OAAQ,IACjEwnB,MAAO,CAAEz5B,MAAO,GAAIC,MAAO,GAAIgS,OAAQ,KAGzClgC,KAAK0kG,QAAQj0F,SAAQ,SAACud,GACpB,EAAU05B,MAAMz5B,MAAMnrB,KAAKkrB,EAAO6hB,eAEpC/gB,EAAM64B,UAAU,SAAU,gBAAM,IAIlC74B,EAAM1S,KAAK,cAAe,CACxBinB,MAAOrjC,KAAK0kG,QACZnyD,WAAY,OAGdvyC,KAAK4wB,MAAQ,GACb5wB,KAAK0pC,OAAS,KACd1pC,KAAK8kG,YAAc,GACnB9kG,KAAK0kG,QAAQpiG,OAAS,EACtBtC,KAAK2kG,YAAc,OAMrBQ,YAAA,SAAYV,GACV,IAAMr9F,EAAOq9F,EAAIr9F,KACjB,GAAKpH,KAAKwkG,gBAAgBp9F,GAA1B,CAEApH,KAAKklG,gBAAgBT,GAErB,IAAM31E,EAAgB9uB,KAAK8uB,MAS3B,GAPI9uB,KAAKskG,kBACPx1E,EAAM8nB,aAAaxvC,EAAMpH,KAAKskG,kBAAkB,GAGlDtkG,KAAK2kG,YAAcv9F,EAGfpH,KAAKqkG,oBAEPv1E,EAAMy7B,mBACD,CACL,IAAM,EAAmBnjD,EAAKyoC,WAC9B7vC,KAAK0kG,QAAQn0F,KAAI,SAACsiB,GACEA,EAAKgd,WACT7R,UAAY,EAAiB7P,IACzCW,EAAMi5B,gBAAgBl1B,EAAM,EAAiB1E,OAGjDW,EAAM0mB,YAAYpuC,GAIpB0nB,EAAM1S,KAAK,cAAe,CACxBinB,MAAOrjC,KAAK0kG,QACZnyD,WAAYvyC,KAAK2kG,gBAIrBS,aAAA,SAAaX,GACX,IAAM31E,EAAgB9uB,KAAK8uB,MACtB9uB,KAAK0kG,SAAmC,IAAxB1kG,KAAK0kG,QAAQpiG,SAClCtC,KAAKklG,gBAAgBT,GACjBzkG,KAAKqkG,oBAEPv1E,EAAMy7B,eAENvqD,KAAK0kG,QAAQn0F,KAAI,SAACsiB,GAEFA,EAAKgd,WACT7R,SACRlP,EAAMi5B,gBAAgBl1B,QAU9BwyE,WAAA,SAAWZ,GAET,GADazkG,KACH0kG,SAAmC,IADhC1kG,KACa0kG,QAAQpiG,OAAlC,CACA,IAAM8E,EAAOq9F,EAAIr9F,KAFJpH,KAGRklG,gBAAgBT,GACrB,IAAM31E,EAJO9uB,KAIc8uB,MAErBkP,EAAU52B,EAAKyoC,WAAW7R,QAEhC,GAAIA,EAAS,CACX,IAAMD,EAAQjP,EAAMyQ,SAASvB,GATlBh+B,KAUFskG,kBACPx1E,EAAM8nB,aAAa7Y,EAXV/9B,KAWsBskG,kBAAkB,GAXxCtkG,KAaN0kG,QAAQn0F,KAAI,SAACsiB,GAChB,IAAMyyE,EAAYzyE,EAAKgd,WACnB7R,IAAYsnE,EAAUtnE,SACxBlP,EAAMi5B,gBAAgBl1B,EAAMmL,MAGhClP,EAAM0mB,YAAYzX,QAnBP/9B,KAqBN0kG,QAAQn0F,KAAI,SAACsiB,GACFA,EAAKgd,WACT7R,SACRlP,EAAMi5B,gBAAgBl1B,MAM5B/D,EAAM1S,KAAK,cAAe,CACxBinB,MA/BWrjC,KA+BC0kG,QACZnyD,WAAYnrC,MAOhBm+F,YAAA,SAAYd,GACV,IAAMr9F,EAAOq9F,EAAIr9F,KACjB,GAAKpH,KAAKwkG,gBAAgBp9F,GAA1B,CAEA,IAAM0nB,EAAgB9uB,KAAK8uB,MACvB9uB,KAAKskG,kBACPx1E,EAAM8nB,aAAaxvC,EAAMpH,KAAKskG,kBAAkB,KAOpDkB,YAAA,SAAYf,GACV,IAAMr9F,EAAOq9F,EAAIr9F,KACjB,GAAKpH,KAAKwkG,gBAAgBp9F,GAA1B,CAEA,IAAM0nB,EAAgB9uB,KAAK8uB,MACvB9uB,KAAKskG,kBACPx1E,EAAM8nB,aAAaxvC,EAAMpH,KAAKskG,kBAAkB,KAIpDY,gBAAA,SAAgBT,GAAhB,WACOzkG,KAAK0kG,SAAmC,IAAxB1kG,KAAK0kG,QAAQpiG,QAE9BtC,KAAKiB,IAAI,mBACXjB,KAAK0kG,QAAQn0F,KAAI,SAACsiB,GAAS,SAAK8W,OAAO9W,EAAM4xE,OAQjD96D,OAAA,SAAOviC,EAAYq9F,GACT,IAAA/6D,EAAW1pC,KAAI,OACjBoX,EAAoBhQ,EAAKnG,IAAI,SAC7B0hE,EAAiBv7D,EAAKnG,IAAI,MAC3BjB,KAAK4wB,MAAM+xC,KACd3iE,KAAK4wB,MAAM+xC,GAAU,CACnB1gD,EAAG7K,EAAM6K,GAAK,EACdrN,EAAGwC,EAAMxC,GAAK,IAIlB,IAGM0rF,EAAa,CAAEr+E,EAHHwiF,EAAIxiF,EAAIynB,EAAOznB,EAAIjiB,KAAK4wB,MAAM+xC,GAAQ1gD,EAGhCrN,EAFN6vF,EAAI7vF,EAAI80B,EAAO90B,EAAI5U,KAAK4wB,MAAM+xC,GAAQ/tD,GAIpD5U,KAAKiB,IAAI,cACXjB,KAAK8uB,MAAMumB,WAAWjuC,EAAMk5F,GAAK,GAEjCl5F,EAAK2mC,eAAeuyD,IASxB0E,eAAc,SAACj9F,GACK/H,KAAI,MACtB,GAAKA,KAAKilG,aAmBH,CACL,IAAMpiE,EAAU96B,EAAEka,EAAIjiB,KAAK0pC,OAAOznB,EAAIjiB,KAAK8kG,YAAYvxE,KACjDuP,EAAU/6B,EAAE6M,EAAI5U,KAAK0pC,OAAO90B,EAAI5U,KAAK8kG,YAAYtxE,KACvDxzB,KAAKilG,aAAan6D,KAAK,CACrB7oB,EAAG4gB,EACHjuB,EAAGkuB,QAxBiB,CAEtB,IAAM9lB,EAAShd,KAAK8uB,MAAM7tB,IAAI,SACxB+C,EAAQ,kBAAQ,GAAI,IAAO2d,cAAe3hB,KAAK2hB,eAE/C,EAA8C3hB,KAAKylG,yBAAyB19F,GAAvEkpB,EAAE,IAAKC,EAAE,IAAE3e,EAAK,QAAEuO,EAAM,SAAEyS,EAAI,OAAEC,EAAI,OAC/CxzB,KAAK8kG,YAAc,CAAE7iF,EAAGgP,EAAIrc,EAAGsc,EAAI3e,MAAK,EAAEuO,OAAM,EAAEyS,KAAI,EAAEC,KAAI,GAE5DxzB,KAAKilG,aAAejoF,EAAOysB,SAAS,OAAQ,CAC1CzlC,MAAO,aACLuO,MAAK,EACLuO,OAAM,EACNmB,EAAGgP,EACHrc,EAAGsc,GACAltB,GAELrD,KAAM,0BAiBZ8kG,yBAAA,SAAyBhB,GACf,IAEFx2E,EAFYjuB,KAAI,MAEF2mD,eAAe,OAAQ3mD,KAAKukG,eAC3B,IAAjBt2E,EAAM3rB,QACR2rB,EAAMnrB,KAAK2hG,EAAIr9F,MASjB,IANA,IAAIk8B,EAAOx4B,IACPy4B,GAAQz4B,IACR04B,EAAO14B,IACP24B,GAAQ34B,IAGH1K,EAAI,EAAGA,EAAI6tB,EAAM3rB,OAAQlC,IAAK,CACrC,IACMizB,EADUpF,EAAM7tB,GACDu0B,UACbpB,EAA2BF,EAAI,KAAzBG,EAAqBH,EAAI,KAAnBkB,EAAelB,EAAI,KAAbmB,EAASnB,EAAI,KACnCE,EAAO+P,IACTA,EAAO/P,GAGLC,EAAOgQ,IACTA,EAAOhQ,GAGLe,EAAOgP,IACTA,EAAOhP,GAGLC,EAAOiP,IACTA,EAAOjP,GASX,MAAO,CACLvS,EANQ5c,KAAKqS,MAAM4rB,GAOnB1uB,EANQvP,KAAKqS,MAAM8rB,GAOnBjxB,MANYlN,KAAKq+B,KAAKH,GAAQl+B,KAAKqS,MAAM4rB,GAOzCxiB,OANazb,KAAKq+B,KAAKD,GAAQp+B,KAAKqS,MAAM8rB,GAO1CjQ,KAAM+P,EACN9P,KAAMgQ,KClbG,GACbhV,cAAA,WACE,MAAO,CACLk3E,UAAU,EACVnB,cAAe,aAGnB91E,UAAA,WAGE,MAAO,CACL,WAAY,UACZ,YAAa,UACb,aAAc,kBAGlBk3E,QAAA,SAAQlB,GACN,IAAMvqF,EAAOla,KACLoH,EAASq9F,EAAG,KACpB,GAAKr9F,IAAQA,EAAKw5B,UAAlB,CAIA,IAAMz9B,EAAOiE,EAAKiF,UACVyiB,EAA+C5U,EAAI,MAA5CwrF,EAAwCxrF,EAAI,SAAlC0U,EAA8B1U,EAAI,aAC3D,GADuDA,EAAI,YAC1C3Z,KAAK2Z,EAAMuqF,GAA5B,CAKA,IAAKiB,EAAU,CACb,IAAMxmF,EAAW4P,EAAM63B,eAAexjD,EAAM+W,EAAKqqF,eACjD,eAAKrlF,GAAU,SAAC6e,GACVA,IAAU32B,GACZ0nB,EAAM8nB,aAAa7Y,EAAO7jB,EAAKqqF,eAAe,MAKpD,GAAIn9F,EAAK4oC,SAAS91B,EAAKqqF,eAAgB,CACjC31E,EAAaruB,KAAK2Z,EAAMuqF,IAC1B31E,EAAM8nB,aAAaxvC,EAAM8S,EAAKqqF,eAAe,GAE/C,IAAMqB,EAAgB92E,EAAM63B,eAAe,OAAQzsC,EAAKqqF,eAClDsB,EAAiB/2E,EAAM63B,eAAe,QAASzsC,EAAKqqF,eAC1Dz1E,EAAM1S,KAAK,mBAAoB,CAC7B4R,OAAQ5mB,EACR0+F,cAAe,CACb73E,MAAO23E,EACP1lE,OAAQ2lE,GAEVE,QAAQ,QAEL,CACDn3E,EAAaruB,KAAK2Z,EAAMuqF,IAC1B31E,EAAM8nB,aAAaxvC,EAAM8S,EAAKqqF,eAAe,GAEzCqB,EAAgB92E,EAAM63B,eAAe,OAAQzsC,EAAKqqF,eAClDsB,EAAiB/2E,EAAM63B,eAAe,QAASzsC,EAAKqqF,eAC1Dz1E,EAAM1S,KAAK,mBAAoB,CAC7B4R,OAAQ5mB,EACR0+F,cAAe,CACb73E,MAAO23E,EACP1lE,OAAQ2lE,GAEVE,QAAQ,QAIdC,cAAa,WAAb,WACUl3E,EAAU9uB,KAAI,MAChBkf,EAAW4P,EAAM63B,eAAe,OAAQ3mD,KAAKukG,eACnD,eAAKrlF,GAAU,SAAC2T,GACd/D,EAAM8nB,aAAa/jB,EAAM,EAAK0xE,eAAe,MAG/C,IAAMsB,EAAiB/2E,EAAM63B,eAAe,QAAS3mD,KAAKukG,eAC1D,eAAKsB,GAAgB,SAAC9nE,GACpBjP,EAAM8nB,aAAa7Y,EAAO,EAAKwmE,eAAe,MAEhDz1E,EAAM1S,KAAK,mBAAoB,CAC7B0pF,cAAe,CAAE73E,MAAO,GAAIC,MAAO,GAAIgS,OAAQ,IAC/C6lE,QAAQ,MCnFC,GACbE,WAAY,KACZz3E,cAAA,WACE,MAAO,CACL03E,YAAa,EACbC,YAAa,EACbz/D,aAASz6B,EACTs5C,aAASt5C,EACTg3F,gBAAgB,EAChBmD,aAAc,GACdC,iBAAkB,CAChBC,QAAQ,EACRC,cAAc,EACdC,UAAU,EACVC,SAAU,cAIhBh4E,UAAA,WACU,IAAA43E,EAAqBrmG,KAAI,iBAQjC,OANKqmG,EAAiBI,WAAUJ,EAAiBI,SAAW,YACxDJ,EAAiBC,SACnBD,EAAiBE,cAAe,EAChCF,EAAiBG,UAAW,GAGvB,CACLE,WAAY,UACZC,UAAW,YAGfC,QAAO,SAACnC,GACFA,EAAInX,gBAAgBmX,EAAInX,iBACxBmX,EAAIf,cAAcpW,gBAAgBmX,EAAIf,cAAcpW,iBAExD,IAAMzE,EAAW4b,EAAIf,cAAc7a,SACnC,KAAIA,EAASvmF,OAAS,GAAtB,CAEiB,eAAbmiG,EAAIthG,OACNnD,KAAKimG,WAAajmG,KAAK8uB,MAAMm4B,WAG/B,IAAMlrB,EAAQ0oE,EAAIf,cAAc3nE,OAAS0oE,EAAIf,cAAcvW,SAAS0Z,MAAM9qE,MAGpEmJ,EAAOllC,KAAKimG,WAAalqE,EAG/B/7B,KAAK8mG,aAAe5hE,EAEpB,IAAMwB,EAAU1mC,KAAKiB,IAAI,YAAcjB,KAAK8uB,MAAM7tB,IAAI,WAGtD,KAAIikC,GAFYllC,KAAKiB,IAAI,YAAcjB,KAAK8uB,MAAM7tB,IAAI,aAEhCikC,EAAOwB,GAA7B,CAGA,IAAMjkB,EAASziB,KAAK8uB,MAAM7tB,IAAI,UAExB8lG,EAAYle,EAAS,GAAGhmD,QAAxBkkE,EAAoCle,EAAS,GAAG/lD,QAChDkkE,EAAYne,EAAS,GAAGhmD,QAAxBmkE,EAAoCne,EAAS,GAAG/lD,QAEhDlS,EAAQnO,EAAOsjB,kBAAkBghE,EAASC,GAAU,GAAID,EAASC,GAAU,GACjFhnG,KAAK8uB,MAAMi4B,OAAO7hB,EAAM,CAAEjjB,EAAG2O,EAAM3O,EAAGrN,EAAGgc,EAAMhc,QC9D7CqyF,EAAe,CAAC,MAAO,UACd,GACbz4E,cAAA,WACE,MAAO,CAIL04E,QARkB,MASlBC,SAAQ,eAGZ14E,UAAA,W,MACMy4E,EASJ,OAPID,EAAan2F,SAAS9Q,KAAKknG,SAC1BA,EAAYlnG,KAAI,SAEnBknG,EAlBkB,MAoBlB5sF,QAAQC,KAAK,uEAER,EAAP,IACG,QAAQ2sF,GAAY,YAErB,EAAAxX,WAAY,Y,GAGhB0X,UAAA,SAAUr/F,GACA,IAAAX,EAASW,EAAC,KAGZs/F,EAAarnG,KAAK8uB,MAAMw4E,aAAalgG,EAAKnG,IAAI,OACpD,GAAKomG,EAAL,CAIQ,IAAAj5E,EAAai5E,EAAU,SAE/B,GAAKj5E,GAAgC,IAApBA,EAAS9rB,OAA1B,CAGA,IAAM6yC,GAAakyD,EAAWlyD,UAC9B,GAAKn1C,KAAK2uB,YAAY5mB,EAAGotC,KAGzBkyD,EAAWlyD,UAAYA,EACvB/tC,EAAKyoC,WAAWsF,UAAYA,EAC5Bn1C,KAAK8uB,MAAM1S,KAAK,gBAAiB,CAAEhV,KAAMW,EAAEX,KAAM+tC,UAAS,IACrDn1C,KAAK4uB,aAAa7mB,EAAGotC,IAA1B,CAGA,IACEn1C,KAAKmnG,SAAS//F,EAAM+tC,GACpB,MAAOoyD,GAEPjtF,QAAQC,KAAKgtF,GAEfvnG,KAAK8uB,MAAMm6B,cChDP7lB,EAAyB,IAAI,qBAO/BokE,EAAgB,SAAC3iG,EAAMyB,GAC3B,IAAiB,IAAbA,EAAGzB,IAIHA,EAAM,CACR,IAAMq7B,EAASr7B,EAAK5D,IAAI,UACxB,GAAsB,IAAlBi/B,EAAO59B,OACT,OAAO,EAET,eAAK49B,GAAQ,SAAC7B,GACZmpE,EAAcnpE,EAAO/3B,QCtBrB,EAAe,CAAC,QAAS,YCJzB,EAAe,CAAC,MAAO,QAEvBmhG,EAAa,CAAC,QAAS,OAAQ,UAAW,MAAO,YAAQx7F,GCHhD,GAKbrK,KAAA,SAAKktB,GACe,gBAAd9uB,KAAKmD,MACP2rB,EAAM7tB,IAAI,UAAUqG,IAAI,aAAa,GAE/B,IAAAynB,EAAW/uB,KAAI,OACvBA,KAAK8uB,MAAQA,EACb,eAAKC,GAAQ,SAACnhB,EAAqBohB,GACjCF,EAAMhT,GAAGkT,EAAOphB,OAIpBqhB,OAAA,SAAOH,GACG,IAAAC,EAAW/uB,KAAI,OACL,gBAAdA,KAAKmD,MACP2rB,EAAM7tB,IAAI,UAAUqG,IAAI,aAAa,GAEvCtH,KAAK8uB,MAAQ,KACb,eAAKC,GAAQ,SAACnhB,EAAqBohB,GACjCF,EAAM7S,IAAI+S,EAAOphB,QCbjBwzB,EAAY,CAChB,cAAe,EACf,cAAe,EACf,YAAa,EACb,qBCfa,CACb5S,cAAA,WACE,MAAO,CACLk5E,YAAa,SACbC,cAAe,WACfC,eAAe,EACfh5E,aAAY,WACV,OAAO,KAIbH,UAAA,WACE,MAAO,CACL,WAAY,mBACZ,aAAc,uBAGlBo5E,iBAAA,SAAiB9/F,GACf,IACMX,EAAcW,EAAEX,KAChB0nB,EAFO9uB,KAEM8uB,MAEnB,GAJa9uB,KAGRoH,KAAOA,EAHCpH,KAIH4uB,aAAa7mB,EAAEX,KAAM,CAAE4nB,MAAOjnB,EAAGe,OAAQ,aAAnD,CASA,IANA,IAAM4+F,EAPO1nG,KAOY0nG,YACnBC,EARO3nG,KAQc2nG,cACrB15E,EAAQa,EAAMklB,WACd9lB,EAAQY,EAAM8jB,WACdwmB,EAAanrC,EAAM3rB,OACnB+2D,EAAanrC,EAAM5rB,OAChBlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAMyyB,EAAO5E,EAAM7tB,GACb0nG,EAAcj1E,EAAKmd,SAAS,YAfvBhwC,KAgBF4nG,eACHE,GACFh5E,EAAM8nB,aAAa/jB,EAAM,YAAY,GAGzC/D,EAAM8nB,aAAa/jB,EAAM60E,GAAa,GAClCC,GACF74E,EAAM8nB,aAAa/jB,EAAM80E,GAAe,GAI5C,IAASvnG,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAMsgC,EAAOxS,EAAM9tB,GACnB0uB,EAAM8nB,aAAalW,EAAMgnE,GAAa,GAClCC,GACF74E,EAAM8nB,aAAalW,EAAMinE,GAAe,GAIxCA,GACF74E,EAAM8nB,aAAaxvC,EAAMugG,GAAe,GAE1C74E,EAAM8nB,aAAaxvC,EAAMsgG,GAAa,GAEtC,IAAMK,EAAS3gG,EAAKwrC,WACdo1D,EAAcD,EAAOzlG,OAC3B,IAASlC,EAAI,EAAGA,EAAI4nG,EAAa5nG,IAAK,CACpC,IACI6nG,OAAQ,EAEVA,GAHIvnE,EAAOqnE,EAAO3nG,IAEXimC,cAAgBj/B,EACZs5B,EAAK6F,YAEL7F,EAAK2F,YAEdshE,GACF74E,EAAM8nB,aAAaqxD,EAAUN,GAAe,GAE9C74E,EAAM8nB,aAAaqxD,EAAUP,GAAa,GAC1C54E,EAAM8nB,aAAalW,EAAMinE,GAAe,GACxC74E,EAAM8nB,aAAalW,EAAMgnE,GAAa,GACtChnE,EAAK8P,UAEP1hB,EAAM1S,KAAK,yBAA0B,CAAEhV,KAAMW,EAAEX,KAAM0B,OAAQ,eAE/Do/F,iBAAA,SAAiBngG,GACf,IACM+mB,EADO9uB,KACMiB,IAAI,SACvB,GAFajB,KAEH4uB,aAAa7mB,EAAEX,KAAM,CAAE4nB,MAAOjnB,EAAGe,OAAQ,eAAnD,CAIA,IAAM4+F,EAAc1nG,KAAK0nG,YACnBC,EAAgB3nG,KAAK2nG,cAErB7wD,EAAYhoB,EAAM7tB,IAAI,aAC5B6tB,EAAM84B,cAAa,GAMnB,IALA,IAAM35B,EAAQa,EAAMklB,WACd9lB,EAAQY,EAAM8jB,WACdwmB,EAAanrC,EAAM3rB,OACnB+2D,EAAanrC,EAAM5rB,OAEhBlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAMyyB,EAAO5E,EAAM7tB,GACnB0uB,EAAMmoB,gBAAgBpkB,EAAM,CAAC60E,EAAaC,IAE5C,IAASvnG,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAMsgC,EAAOxS,EAAM9tB,GACnB0uB,EAAMmoB,gBAAgBvW,EAAM,CAACgnE,EAAaC,EAAe,eAE3D74E,EAAMu4B,QACNv4B,EAAM84B,aAAa9Q,GACnBhoB,EAAM1S,KAAK,yBAA0B,CACnChV,KAAMW,EAAEX,MA3BGpH,KA2BUiB,IAAI,QACzB6H,OAAQ,iBAGZq/F,mBAAA,SAAmBpgG,GACjB,IACM+mB,EADO9uB,KACM8uB,MACnB,GAFa9uB,KAEH4uB,aAAa7mB,EAAEX,KAAM,CAAE4nB,MAAOjnB,EAAGe,OAAQ,eAAnD,CAYA,IARA,IAAM4+F,EAAc1nG,KAAK0nG,YACnBC,EAAgB3nG,KAAK2nG,cAErB15E,EAAQa,EAAMklB,WACd9lB,EAAQY,EAAM8jB,WACdwmB,EAAanrC,EAAM3rB,OACnB+2D,EAAanrC,EAAM5rB,OAEhBlC,EAAI,EAAGA,EAAIg5D,EAAYh5D,IAAK,CACnC,IAAMyyB,EAAO5E,EAAM7tB,GACnB0uB,EAAMmoB,gBAAgBpkB,EAAM,CAAC60E,EAAaC,IAE5C,IAASvnG,EAAI,EAAGA,EAAIi5D,EAAYj5D,IAAK,CACnC,IAAMsgC,EAAOxS,EAAM9tB,GACnB0uB,EAAMmoB,gBAAgBvW,EAAM,CAACgnE,EAAaC,EAAe,eAG3D74E,EAAM1S,KAAK,yBAA0B,CACnChV,KAAMW,EAAEX,MAxBGpH,KAwBUiB,IAAI,QACzB6H,OAAQ,kBDxHZ,eAAgB,EAChB,kBAAmB,EACnB,aJea,CACb0lB,cAAa,WACX,MAAO,CACL41E,gBAAgB,EAChBziF,cAAe,GAEf0iF,qBAAqB,EAErBqD,YAAa,GACbnD,cAAe,aAGnB91E,UAAA,WACE,MAAO,CACL,kBAAmB,cACnB,aAAc,SACd,gBAAiB,YACjB,aAAc,SACd,YAAa,aACb,kBAAmB,cACnB,kBAAmB,gBAGvB+1E,gBAAA,SAAgBC,GACN,IAAAr9F,EAASq9F,EAAG,KACpB,SAAKr9F,GAAQA,EAAKw5B,eAIb5gC,KAAK4uB,aAAa5uB,KAAMykG,IAMhB,UAFAr9F,EAAKiF,YAOpBo3F,YAAA,SAAYgB,GAAZ,WACQ31E,EAAgB9uB,KAAK8uB,MACnB1nB,EAASq9F,EAAG,KAEpB,GAAKzkG,KAAKwkG,gBAAgBC,GAA1B,CAEAzkG,KAAK0kG,QAAU,GAGf,IAAMxkE,EAASpR,EAAM63B,eAAe,QAAS3mD,KAAKukG,eAE5C6D,EAAehhG,EAAKnG,IAAI,MAOJ,IALPi/B,EAAOx9B,QAAO,SAACq7B,GAChC,IAAMC,EAAUD,EAAM98B,IAAI,MAC1B,OAAOmnG,IAAiBpqE,KAGX17B,OACbtC,KAAK0kG,QAAQ5hG,KAAKsE,GAElBpH,KAAK0kG,QAAUxkE,EAGblgC,KAAK0nG,aACP1nG,KAAK0kG,QAAQn0F,KAAI,SAACwtB,GAChB,IAAM3mB,EAAQ2mB,EAAM8R,WACpB,GAAIz4B,EAAMqmB,SAAU,CAClB,IAAM6qB,EAAcx5B,EAAMyQ,SAASnoB,EAAMqmB,UACrC6qB,GACFx5B,EAAM8nB,aAAa0R,EAAa,EAAKo/C,aAAa,OAM1D1nG,KAAK4wB,MAAQ,GACb5wB,KAAK8kG,YAAc,GAEnB9kG,KAAK0pC,OAAS,CACZznB,EAAGwiF,EAAIxiF,EACPrN,EAAG6vF,EAAI7vF,GAGT5U,KAAKqoG,uBAAyB,GAE9Bb,EAAcpgG,GAAM,SAACg5B,GACnB,GAAIA,EAAMQ,UACR,OAAO,EAET,IAAMxpB,EAAQgpB,EAAMyP,WAEpB,OADA,EAAKw4D,uBAAuBvlG,KAAKsU,EAAM+W,KAChC,OAGX42E,OAAA,SAAON,GAAP,WACE,GAAKzkG,KAAK0pC,QAIL1pC,KAAKwkG,gBAAgBC,GAE1B,GAAIzkG,KAAKokG,eACPpkG,KAAKglG,eAAeP,OACf,CACL,GAAIzkG,KAAK0nG,YAAa,CACpB,IAAM,EAAgB1nG,KAAK8uB,MACrB1nB,EAAaq9F,EAAIr9F,KACjB,EAAQA,EAAKyoC,WAEb3P,EAAS,EAAM+T,YACfq0D,EAAalhG,EAAKutB,UAEhB,EAA4B2zE,EAAU,QAA7B,EAAmBA,EAAU,QAApB,EAAUA,EAAU,MAO3BpoE,EAAOx9B,QAAO,SAACq7B,GAChC,IAAMwqE,EAASxqE,EAAM8R,WAErB,OAAK,EAAMpS,SAGJ8qE,EAAOp6E,KAAO,EAAMA,KAAO,EAAKk6E,uBAAuBv3F,SAASy3F,EAAOp6E,OAGrE5d,KAAI,SAACwtB,GACR,MAAyCA,EAAMpJ,UAApC1D,EAAE,UAAWC,EAAE,UAAS4I,EAAC,QAGpC0uE,EAAO,EAAUv3E,EACjBw3E,EAAO,EAAUv3E,EAEjBnE,EAAW,EAAI1nB,KAAKuS,KAAK4wF,EAAOA,EAAOC,EAAOA,GAEhD,EAAQ3uE,EAAI/M,EAAW,GAAM,EAC/B,EAAM6pB,aAAa7Y,EAAO,EAAK2pE,aAAa,GAE5C,EAAM9wD,aAAa7Y,EAAO,EAAK2pE,aAAa,MAKlD,eAAK1nG,KAAK0kG,SAAS,SAACt9F,GAClB,EAAKouC,YAAYpuC,EAAMq9F,QAK7BS,gBAAA,SAAgBT,GAAhB,WAEMzkG,KAAKokG,gBACP,eAAKpkG,KAAK0kG,SAAS,SAACt9F,GAClB,EAAKouC,YAAYpuC,EAAMq9F,OAK7BiE,OAAA,SAAOjE,GAAP,WAEUr9F,EAASq9F,EAAG,KACpB,GAAKr9F,GAASpH,KAAK0kG,UAAWt9F,EAAKw5B,UAAnC,CAGA5gC,KAAKklG,gBAAgBT,GAErB,IAAM31E,EAAgB9uB,KAAK8uB,MAErBw8B,EAAclkD,EAAKyoC,WAEzB7vC,KAAK0kG,QAAQn0F,KAAI,SAACwtB,GACFA,EAAM8R,WACVpS,WAAa6tB,EAAYn9B,IAC7B,EAAKu5E,aACP54E,EAAM8nB,aAAaxvC,EAAM,EAAKsgG,aAAa,GAGxC,EAAKrD,oBAGRv1E,EAAM0mB,YAAYzX,GAFlBjP,EAAMi5B,gBAAgBhqB,EAAOutB,EAAYn9B,KAK3CW,EAAM0mB,YAAYpuC,MAItBpH,KAAKipE,IAAI7hE,EAAMq9F,GAGfzkG,KAAK2oG,eAAgB,IAEvBC,WAAA,SAAWnE,GAAX,WACE,GAAKzkG,KAAK0kG,SAAmC,IAAxB1kG,KAAK0kG,QAAQpiG,OAAlC,CACAtC,KAAKklG,gBAAgBT,GACrB,IAIIoE,EAJE/5E,EAAgB9uB,KAAK8uB,MAGrBkP,EADOymE,EAAIr9F,KACIyoC,WAAW7R,QAGhC,GAAIA,EAAS,CACX,GAAIh+B,KAAK0nG,YAAa,CACpB,IAAM3pE,EAAQjP,EAAMyQ,SAASvB,GAC7BlP,EAAM8nB,aAAa7Y,EAAO/9B,KAAK0nG,aAAa,GAE9C1nG,KAAK0kG,QAAQn0F,KAAI,SAACwtB,GACX,EAAKsmE,oBAMRv1E,EAAM0mB,YAAYzX,GALdC,IAAYD,EAAM+R,UACpB+4D,EAAe/5E,EAAMyQ,SAASvB,GAC1BA,IAAYD,EAAM8R,WAAWpS,UAAU3O,EAAMi5B,gBAAgBhqB,EAAOC,YAQ9Eh+B,KAAK0kG,QAAQn0F,KAAI,SAACwtB,GACX,EAAKsmE,oBAMRv1E,EAAM0mB,YAAYzX,GALJA,EAAM8R,WACV7R,SACRlP,EAAMi5B,gBAAgBhqB,MAS9B/9B,KAAK2oG,eAAgB,EACrB3oG,KAAKipE,IAAI4/B,EAAcpE,KAEzBc,YAAA,SAAYd,GACV,GAAKzkG,KAAK0pC,QAIL1pC,KAAKwkG,gBAAgBC,GAA1B,CAEQ,IAAAr9F,EAASq9F,EAAG,KACd31E,EAAgB9uB,KAAK8uB,MACvB9uB,KAAK0nG,aACP54E,EAAM8nB,aAAaxvC,EAAMpH,KAAK0nG,aAAa,KAG/ClC,YAAA,SAAYf,GACV,GAAKzkG,KAAK0pC,QAIL1pC,KAAKwkG,gBAAgBC,GAA1B,CAEA,IAAMr9F,EAAOq9F,EAAIr9F,KACX0nB,EAAgB9uB,KAAK8uB,MACvB9uB,KAAK0nG,aACP54E,EAAM8nB,aAAaxvC,EAAMpH,KAAK0nG,aAAa,KAG/C1D,UAAA,SAAUS,GACR,GAAKzkG,KAAK0kG,SAAmC,IAAxB1kG,KAAK0kG,QAAQpiG,OAAlC,CACA,IAAM8E,EAAOq9F,EAAIr9F,KACjBpH,KAAKklG,gBAAgBT,GACrB,IAAMn8C,EAActoD,KAAK8oG,eAAe1hG,EAAKyoC,WAAWpS,UAClD3O,EAAgB9uB,KAAK8uB,MACvBw5B,GAAetoD,KAAK0nG,aACtB54E,EAAM8nB,aAAa0R,EAAatoD,KAAK0nG,aAAa,GAEpD1nG,KAAKipE,SAAIh9D,EAAWw4F,KAGtBx7B,IAAA,SAAI8/B,EAAmCtE,GAAvC,WACE,GAAKzkG,KAAK0pC,OAAV,CACA,IAAM5a,EAAgB9uB,KAAK8uB,MAG3B,GAAI9uB,KAAKgpG,cACel6E,EAAM7tB,IAAI,iBAClB4sC,QACd7tC,KAAKgpG,cAAgB,KAGnBD,GAAiB/oG,KAAK0nG,aACxB54E,EAAM8nB,aAAamyD,EAAe/oG,KAAK0nG,aAAa,GAGjDqB,GACH/oG,KAAK0kG,QAAQn0F,KAAI,SAACwtB,GAEX,EAAKsmE,oBAGRv1E,EAAM0mB,YAAYzX,GAFlBjP,EAAMi5B,gBAAgBhqB,MAO5B/9B,KAAK4wB,MAAQ,GACb5wB,KAAK0pC,OAAS,KACd1pC,KAAK8kG,YAAc,KACnB9kG,KAAK0kG,QAAQpiG,OAAS,IAQxBu6B,SAAA,SAAyBh4B,EAASyB,GAAlC,WACE,IAAiB,IAAbA,EAAGzB,IAIHA,EAAM,CACR,IAAMq7B,EAASr7B,EAAK5D,IAAI,UACxB,eAAKi/B,GAAQ,SAAC7B,GACZ,EAAKxB,SAASwB,EAAO/3B,MAGvB,IAAM2nB,EAAQppB,EAAK5D,IAAI,SACvB,eAAKgtB,GAAO,SAACoQ,GACX,EAAKxB,SAASwB,EAAO/3B,QAK3BkvC,YAAA,SAAYpuC,EAAcq9F,GAA1B,WACEzkG,KAAK68B,SAASz1B,GAAM,SAACg5B,GACnB,OAAIA,EAAMQ,YAGV,EAAKqoE,iBAAiB7oE,EAAOqkE,IACtB,OASXwE,iBAAA,SAAiB7hG,EAAYq9F,GACnB,IAAA/6D,EAAW1pC,KAAI,OACjB8uB,EAAgB9uB,KAAK8uB,MACrB1X,EAAQhQ,EAAKyoC,WACbwG,EAASjvC,EAAKnG,IAAI,MAEnBjB,KAAK4wB,MAAMylB,KACdr2C,KAAK4wB,MAAMylB,GAAU,CACnBp0B,EAAG7K,EAAM6K,EACTrN,EAAGwC,EAAMxC,IAIb,IAAMqN,EAAYwiF,EAAIxiF,EAAIynB,EAAOznB,EAAIjiB,KAAK4wB,MAAMylB,GAAQp0B,EAClDrN,EAAY6vF,EAAI7vF,EAAI80B,EAAO90B,EAAI5U,KAAK4wB,MAAMylB,GAAQzhC,EAExDka,EAAMumB,WAAWjuC,EAAM,CAAE6a,EAAC,EAAErN,EAAC,KAO/Bk0F,eAAA,SAAerrE,GACb,IAAM3O,EAAgB9uB,KAAK8uB,MAC3B,GAAK2O,EAAL,CAIA,IAAM6qB,EAAcx5B,EAAMyQ,SAAS9B,GACnC,GAAK6qB,EAIL,OAAOA,IAGT08C,eAAA,SAAeP,GACb,IAAM31E,EAAgB9uB,KAAK8uB,MAE3B,GAAK9uB,KAAKgpG,cA0BH,CACL,IAAMnmE,EAAU4hE,EAAIxiF,EAAIjiB,KAAK0pC,OAAOznB,EAAIjiB,KAAK8kG,YAAYvxE,KACnDuP,EAAU2hE,EAAI7vF,EAAI5U,KAAK0pC,OAAO90B,EAAI5U,KAAK8kG,YAAYtxE,KAEzDxzB,KAAKgpG,cAAcl+D,KAAK,CACtB7oB,EAAG4gB,EACHjuB,EAAGkuB,QAhCkB,CACvB,IAAMqiB,EAAwBr2B,EAAM7tB,IAAI,iBAEpCoyB,EAAO,KAOHpR,GALNoR,EADErzB,KAAK0kG,QAAQpiG,OAAS,EACjB8gC,EAAqBpjC,KAAK0kG,SAE1B1kG,KAAK0kG,QAAQ,GAAG/vE,WAGuB,EAArC/f,EAAiCye,EAAI,EAAlC9gB,EAA8B8gB,EAAI,MAA3BvS,EAAuBuS,EAAI,OAAnBE,EAAeF,EAAI,KAAbG,EAASH,EAAI,KAEhDrzB,KAAK8kG,YAAc,CAAE7iF,EAAC,EAAErN,EAAC,EAAErC,MAAK,EAAEuO,OAAM,EAAEyS,KAAI,EAAEC,KAAI,GAEpD,IAAMxvB,EAAQ,2BAAK,IAAO2d,eAAkB3hB,KAAK2hB,eAEjD3hB,KAAKgpG,cAAgB7jD,EAAc1b,SAAS,OAAQ,CAClDzlC,MAAO,aACLuO,MAAO8gB,EAAK9gB,MACZuO,OAAQuS,EAAKvS,OACbmB,EAAGoR,EAAKpR,EACRrN,EAAGye,EAAKze,GACL5Q,GAELrD,KAAM,4BIvaZ,wBHZa,CACb6tB,cAAA,WACE,MAAO,CACL04E,QALkB,WAMlB/6C,UAAU,IAGd19B,UAAA,W,MACMy4E,EAWJ,OATI,EAAap2F,SAAS9Q,KAAKknG,SAC7BA,EAAUlnG,KAAKknG,SAEfA,EAfkB,WAiBlB5sF,QAAQC,KACN,6EAGG,EAAP,IACG,SAAS2sF,GAAY,e,GAG1BgC,aAAA,SAAazE,GACH,IAAAr9F,EAASq9F,EAAG,KACZ31E,EAAoB9uB,KAAf,MAAEmsD,EAAansD,KAAL,SAEvB,GAAKoH,IAAQA,EAAKw5B,WAAgC,UAAnBx5B,EAAKiF,UAApC,CACA,IACM2xB,EADQ52B,EAAKyoC,WACG1hB,GACjB6P,IAGLlP,EAAMi+B,oBAAoB/uB,GACtBmuB,GAAYr9B,EAAM7tB,IAAI,UAAW6tB,EAAMm6B,SACtCn6B,EAAMo6B,uBGtBb,cFda,CACb16B,cAAA,WACE,MAAO,CACL04E,QARkB,MASlBvlG,SAPcsK,EAQdk9F,WAAY,KAGhB16E,UAAA,WACE,IAcIM,EAuBJ,OAnCM,EAAatsB,QAFNzC,KAEmBknG,QAAQx7F,gBAAkB,IAF7C1L,KAGNknG,QAjBa,MAmBlB5sF,QAAQC,KAAK,4DALFva,KAOJ2B,MAAuD,IAAhD8lG,EAAWhlG,QAPdzC,KAO2B2B,IAAI+J,iBAP/B1L,KAQNknG,aApBSj7F,EAsBdqO,QAAQC,KACN,oFAIiB,SAfRva,KAeJknG,QACPn4E,EAAS,CACP,iBAAkB,UAClB,kBAAmB,UACnBs0E,KAAM,iBACN,YAAa,UACb,aAAc,UACdC,QAAS,aAEe,UAxBftjG,KAwBGknG,UACdn4E,EAAS,CACP,WAAY,UACZq6E,UAAW,iBACX,WAAY,iBACZ,aAAc,iBACd,YAAa,YA9BJppG,KAiCJ2B,MACPotB,EAAOs6E,QAAU,YACjBt6E,EAAOu6E,MAAQ,WAEVv6E,GAETi1E,UAAA,SAAUuF,GAER,IADavpG,KACJ2B,KADI3B,KACSqpG,QAAtB,CACQ,IAAAjiG,EAASmiG,EAAE,KACdniG,GAAQA,EAAK0oC,UAHL9vC,KAGsB+tB,QAA6B,SAAnB3mB,EAAKiF,WAHrCrM,KAINwpG,eAAe,CAClBpiG,KALSpH,KAKE0gC,KACXze,EAAGsnF,EAAGtnF,EACNrN,EAAG20F,EAAG30F,MAIZ+wF,QAAA,SAAQ4D,GAEN,IADavpG,KACJ2B,KADI3B,KACSqpG,QAAtB,CACA,IAAMx2E,EAAO02E,EAAGniG,KACV0nB,EAHO9uB,KAGc8uB,MACrB1X,EAAQyb,EAAKgd,WAEnB,GANa7vC,KAMJypG,YANIzpG,KAMe0gC,KAAM,CAChC,IAPW1gC,KAOD6uB,UAAUtuB,KAPTP,KAOoBupG,GAAK,OACpC,IAAM76E,EAAwB,CAC5BV,OAAQ5W,EAAM+W,IATLnuB,KAWF+tB,SAAW3W,EAAM+W,KACxBO,EAAUvrB,KAAO,QAGnB2rB,EAAM1S,KAAK,mBAAoB,IAE/B0S,EAAMumB,WAjBKr1C,KAiBW0gC,KAAMhS,GAE5BI,EAAM1S,KAAK,kBAAmB,CAC5BskB,KApBS1gC,KAoBE0gC,OApBF1gC,KAwBN0gC,KAAK5F,cAAcxzB,IAAI,WAAW,GAxB5BtH,KA0BN0gC,KAAO,KA1BD1gC,KA2BNypG,YAAa,MACb,CAEL,IA9BWzpG,KA8BD2uB,YAAYpuB,KA9BXP,KA8BsBupG,GAAK,OA9B3BvpG,KA+BN0gC,KAAO5R,EAAM0lB,QAChB,OAAM,aAEJzmB,OAAQ3W,EAAM+W,GACdH,OAAQ5W,EAAM+W,IAnCPnuB,KAoCCmpG,aAEV,GAtCSnpG,KAwCN+tB,OAAS3W,EAAM+W,GAxCTnuB,KAyCNypG,YAAa,EAzCPzpG,KA2CN0gC,KAAK5F,cAAcxzB,IAAI,WAAW,MAI3CoiG,eAAA,SAAeH,GAEb,IADavpG,KACJ2B,KADI3B,KACSqpG,QAAtB,CACA,IAAMz4E,EAAQ,CAAE3O,EAAGsnF,EAAGtnF,EAAGrN,EAAG20F,EAAG30F,GAFlB5U,KAKH8uB,MAAMyQ,SALHv/B,KAKiB+tB,QALjB/tB,KASJypG,YATIzpG,KASe0gC,MATf1gC,KAWN8uB,MAAMumB,WAXAr1C,KAYJ0gC,KACL,CACE1S,OAAQ4C,IAEV,GAhBS5wB,KAMNypG,YAAa,IAetBD,eAAA,SAAeD,GAEb,IADavpG,KACJ2B,KADI3B,KACSqpG,QAAtB,CACA,IAAMv6E,EAFO9uB,KAEc8uB,MACrB66E,EAAcJ,EAAGniG,KACvB,GAJapH,KAIJypG,YAAcF,EAAGv7E,QAAUu7E,EAAGv7E,OAAOjR,UAAYwsF,EAAGv7E,OAAOjR,WAIlE,OAHA+R,EAAMmnB,WALKj2C,KAKW0gC,MAAM,GALjB1gC,KAMN0gC,KAAO,UAND1gC,KAONypG,YAAa,GAGpB,GAVazpG,KAUJypG,YAVIzpG,KAUe0gC,OAASipE,EAAa,CAChD,IAAIC,GAAa,EAEjB,IAAK96E,EAAM7tB,IAAI,gBAKb,IAHQ,IAAAghB,EAASsnF,EAAE,EAAR30F,EAAM20F,EAAE,EACbt7E,EAAQa,EAAMklB,WACd1xC,EAAS2rB,EAAM3rB,OACZlC,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAC/B,IAAMyyB,EAAO5E,EAAM7tB,GACbgX,EAAQyb,EAAKgd,WACbg6D,EAAWh3E,EAAK8B,UACtB,GACE1S,GAAK4nF,EAASt1E,MACdtS,GAAK4nF,EAASt2E,MACd3e,GAAKi1F,EAASr1E,MACd5f,GAAKi1F,EAASr2E,KACd,CACA,IA5BKxzB,KA6BG6uB,UAAUtuB,KA7BbP,KA6BwB,CACzBiiB,EAAGsnF,EAAGtnF,EACNrN,EAAG20F,EAAG30F,EACN4tB,QAAS+mE,EAAG/mE,QACZC,QAAS8mE,EAAG9mE,QACZI,QAAS0mE,EAAG1mE,QACZC,QAASymE,EAAGzmE,QACZ17B,KAAMyrB,IAGR,OAGF/D,EAAM1S,KAAK,mBAAoB,IAE/B0S,EAAMumB,WA5CDr1C,KA4CiB0gC,KAAM,CAC1B1S,OAAQ5W,EAAM+W,KAEhBW,EAAM1S,KAAK,kBAAmB,CAC5BskB,KAhDG1gC,KAgDQ0gC,OAEbkpE,GAAa,EACb,OAIFA,GAAY96E,EAAMmnB,WAvDXj2C,KAuD2B0gC,MAAM,GAvDjC1gC,KAwDN0gC,KAAO,KAxDD1gC,KAyDNypG,YAAa,KAItBK,UAAA,SAAU/hG,GACR,IACMukE,EAAOvkE,EAAEpG,IACV2qE,IAGDA,EAAK5gE,gBALI1L,KAKmB2B,IAAI+J,cALvB1L,KAMNqpG,SAAU,EANJrpG,KAQNqpG,SAAU,IAGnBU,QAAO,WACQ/pG,KACJypG,YADIzpG,KACe0gC,OADf1gC,KAGN8uB,MAAMmnB,WAHAj2C,KAGgB0gC,MAAM,GAHtB1gC,KAINypG,YAAa,EAJPzpG,KAKN0gC,KAAO,MAEd1gC,KAAKqpG,SAAU,KEnMnB,eAAKjoE,GAAW,SAAChS,EAAUjsB,GACzB,YAAiBA,EAAM,2BAAKisB,GAAa,Q,m8CEdpC,SAAS1tB,IACd,IAAI2wC,EAAM,IAAI23D,IAAoB,GAclC,OAZIA,KAAuB5pD,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAAS43D,EAAS53D,EAAK5tC,GAU5B,OATA4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,IACJ4tC,EASF,SAAS5jC,EAAMhK,GACpB,IAAI4tC,EAAM,IAAI23D,IAAoB,GAUlC,OATA33D,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAUF,SAAS63D,EAAK73D,EAAK5tC,GAUxB,OATA4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAiBF,SAAS83D,EAAWC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACjE,IAAIv4D,EAAM,IAAI23D,IAAoB,GAUlC,OATA33D,EAAI,GAAK+3D,EACT/3D,EAAI,GAAKg4D,EACTh4D,EAAI,GAAKi4D,EACTj4D,EAAI,GAAKk4D,EACTl4D,EAAI,GAAKm4D,EACTn4D,EAAI,GAAKo4D,EACTp4D,EAAI,GAAKq4D,EACTr4D,EAAI,GAAKs4D,EACTt4D,EAAI,GAAKu4D,EACFv4D,EAkBF,SAAS/qC,EAAI+qC,EAAK+3D,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAU/D,OATAv4D,EAAI,GAAK+3D,EACT/3D,EAAI,GAAKg4D,EACTh4D,EAAI,GAAKi4D,EACTj4D,EAAI,GAAKk4D,EACTl4D,EAAI,GAAKm4D,EACTn4D,EAAI,GAAKo4D,EACTp4D,EAAI,GAAKq4D,EACTr4D,EAAI,GAAKs4D,EACTt4D,EAAI,GAAKu4D,EACFv4D,EASF,SAAS7hC,EAAS6hC,GAUvB,OATAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAASw4D,EAAUx4D,EAAK5tC,GAE7B,GAAI4tC,IAAQ5tC,EAAG,CACb,IAAIqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRumG,EAAMvmG,EAAE,GACZ4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAKy4D,EACTz4D,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK04D,EACT14D,EAAI,GAAK24D,OAET34D,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GAGb,OAAO4tC,EAUF,SAASlgB,EAAOkgB,EAAK5tC,GAC1B,IAAIwmG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GACR8mG,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAExBM,EAAMT,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,OAAKC,GAILA,EAAM,EAAMA,EACZr5D,EAAI,GAAKk5D,EAAMG,EACfr5D,EAAI,KAAOi5D,EAAMR,EAAMC,EAAMM,GAAOK,EACpCr5D,EAAI,IAAM24D,EAAMF,EAAMC,EAAMI,GAAOO,EACnCr5D,EAAI,GAAKm5D,EAAME,EACfr5D,EAAI,IAAMi5D,EAAML,EAAMF,EAAMK,GAAOM,EACnCr5D,EAAI,KAAO24D,EAAMC,EAAMF,EAAMG,GAAOQ,EACpCr5D,EAAI,GAAKo5D,EAAMC,EACfr5D,EAAI,KAAOg5D,EAAMJ,EAAMH,EAAMM,GAAOM,EACpCr5D,EAAI,IAAM84D,EAAMF,EAAMH,EAAMI,GAAOQ,EAC5Br5D,GAbE,KAuBJ,SAASs5D,EAAQt5D,EAAK5tC,GAC3B,IAAIwmG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GAUZ,OATA4tC,EAAI,GAAK84D,EAAMG,EAAMN,EAAMK,EAC3Bh5D,EAAI,GAAK04D,EAAMM,EAAMP,EAAMQ,EAC3Bj5D,EAAI,GAAKy4D,EAAME,EAAMD,EAAMI,EAC3B94D,EAAI,GAAK24D,EAAMI,EAAMF,EAAMI,EAC3Bj5D,EAAI,GAAK44D,EAAMK,EAAMP,EAAMK,EAC3B/4D,EAAI,GAAK04D,EAAMG,EAAMD,EAAMD,EAC3B34D,EAAI,GAAK64D,EAAMG,EAAMF,EAAMC,EAC3B/4D,EAAI,GAAKy4D,EAAMM,EAAMH,EAAMI,EAC3Bh5D,EAAI,GAAK44D,EAAME,EAAML,EAAMI,EACpB74D,EASF,SAASu5D,EAAYnnG,GAC1B,IAAIwmG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GACZ,OAAOwmG,GAAOK,EAAMH,EAAMH,EAAMK,GAAOP,IAAQQ,EAAMJ,EAAMF,EAAMI,GAAOL,GAAOM,EAAMH,EAAMC,EAAMC,GAW5F,SAASzkB,EAASt0C,EAAK5tC,EAAGmC,GAC/B,IAAIqkG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GACRonG,EAAMjlG,EAAE,GACR2kG,EAAM3kG,EAAE,GACRklG,EAAMllG,EAAE,GACRmlG,EAAMnlG,EAAE,GACR4kG,EAAM5kG,EAAE,GACRolG,EAAMplG,EAAE,GACRqlG,EAAMrlG,EAAE,GACR6kG,EAAM7kG,EAAE,GACRslG,EAAMtlG,EAAE,GAUZ,OATAyrC,EAAI,GAAKw5D,EAAMZ,EAAMM,EAAML,EAAMY,EAAMV,EACvC/4D,EAAI,GAAKw5D,EAAMf,EAAMS,EAAMJ,EAAMW,EAAMT,EACvCh5D,EAAI,GAAKw5D,EAAMd,EAAMQ,EAAMP,EAAMc,EAAMR,EACvCj5D,EAAI,GAAK05D,EAAMd,EAAMO,EAAMN,EAAMc,EAAMZ,EACvC/4D,EAAI,GAAK05D,EAAMjB,EAAMU,EAAML,EAAMa,EAAMX,EACvCh5D,EAAI,GAAK05D,EAAMhB,EAAMS,EAAMR,EAAMgB,EAAMV,EACvCj5D,EAAI,GAAK45D,EAAMhB,EAAMQ,EAAMP,EAAMgB,EAAMd,EACvC/4D,EAAI,GAAK45D,EAAMnB,EAAMW,EAAMN,EAAMe,EAAMb,EACvCh5D,EAAI,GAAK45D,EAAMlB,EAAMU,EAAMT,EAAMkB,EAAMZ,EAChCj5D,EAWF,SAASrf,EAAUqf,EAAK5tC,EAAGiB,GAChC,IAAIulG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GACRwd,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAUV,OATA2sC,EAAI,GAAK44D,EACT54D,EAAI,GAAKy4D,EACTz4D,EAAI,GAAK04D,EACT14D,EAAI,GAAK64D,EACT74D,EAAI,GAAK84D,EACT94D,EAAI,GAAK24D,EACT34D,EAAI,GAAKpwB,EAAIgpF,EAAMr2F,EAAIs2F,EAAME,EAC7B/4D,EAAI,GAAKpwB,EAAI6oF,EAAMl2F,EAAIu2F,EAAME,EAC7Bh5D,EAAI,GAAKpwB,EAAI8oF,EAAMn2F,EAAIo2F,EAAMM,EACtBj5D,EAWF,SAASlwB,EAAOkwB,EAAK5tC,EAAGk4B,GAC7B,IAAIsuE,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GACRtC,EAAIkD,KAAKyS,IAAI6kB,GACbl8B,EAAI4E,KAAKwS,IAAI8kB,GAUjB,OATA0V,EAAI,GAAK5xC,EAAIwqG,EAAM9oG,EAAI+oG,EACvB74D,EAAI,GAAK5xC,EAAIqqG,EAAM3oG,EAAIgpG,EACvB94D,EAAI,GAAK5xC,EAAIsqG,EAAM5oG,EAAI6oG,EACvB34D,EAAI,GAAK5xC,EAAIyqG,EAAM/oG,EAAI8oG,EACvB54D,EAAI,GAAK5xC,EAAI0qG,EAAMhpG,EAAI2oG,EACvBz4D,EAAI,GAAK5xC,EAAIuqG,EAAM7oG,EAAI4oG,EACvB14D,EAAI,GAAK+4D,EACT/4D,EAAI,GAAKg5D,EACTh5D,EAAI,GAAKi5D,EACFj5D,EAWF,SAAStW,EAAMsW,EAAK5tC,EAAGiB,GAC5B,IAAIuc,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAUV,OATA2sC,EAAI,GAAKpwB,EAAIxd,EAAE,GACf4tC,EAAI,GAAKpwB,EAAIxd,EAAE,GACf4tC,EAAI,GAAKpwB,EAAIxd,EAAE,GACf4tC,EAAI,GAAKz9B,EAAInQ,EAAE,GACf4tC,EAAI,GAAKz9B,EAAInQ,EAAE,GACf4tC,EAAI,GAAKz9B,EAAInQ,EAAE,GACf4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAcF,SAASq0C,EAAgBr0C,EAAK3sC,GAUnC,OATA2sC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK3sC,EAAE,GACX2sC,EAAI,GAAK3sC,EAAE,GACX2sC,EAAI,GAAK,EACFA,EAcF,SAASy0C,EAAaz0C,EAAK1V,GAChC,IAAIx6B,EAAIkD,KAAKyS,IAAI6kB,GACbl8B,EAAI4E,KAAKwS,IAAI8kB,GAUjB,OATA0V,EAAI,GAAK5xC,EACT4xC,EAAI,GAAKlwC,EACTkwC,EAAI,GAAK,EACTA,EAAI,IAAMlwC,EACVkwC,EAAI,GAAK5xC,EACT4xC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAcF,SAAS40C,EAAY50C,EAAK3sC,GAU/B,OATA2sC,EAAI,GAAK3sC,EAAE,GACX2sC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK3sC,EAAE,GACX2sC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAUF,SAAS85D,EAAU95D,EAAK5tC,GAU7B,OATA4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK,EACTA,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK,EACTA,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK,EACFA,EAWF,SAAS+5D,EAAS/5D,EAAKte,GAC5B,IAAI9R,EAAI8R,EAAE,GACNnf,EAAImf,EAAE,GACNmG,EAAInG,EAAE,GACN+F,EAAI/F,EAAE,GACN4B,EAAK1T,EAAIA,EACT2T,EAAKhhB,EAAIA,EACTy3F,EAAKnyE,EAAIA,EACToyE,EAAKrqF,EAAI0T,EACT42E,EAAK33F,EAAI+gB,EACT62E,EAAK53F,EAAIghB,EACT62E,EAAKvyE,EAAIvE,EACT+2E,EAAKxyE,EAAItE,EACT+2E,EAAKzyE,EAAImyE,EACTO,EAAK9yE,EAAInE,EACTk3E,EAAK/yE,EAAIlE,EACTk3E,EAAKhzE,EAAIuyE,EAUb,OATAh6D,EAAI,GAAK,EAAIm6D,EAAKG,EAClBt6D,EAAI,GAAKk6D,EAAKO,EACdz6D,EAAI,GAAKo6D,EAAKI,EACdx6D,EAAI,GAAKk6D,EAAKO,EACdz6D,EAAI,GAAK,EAAIi6D,EAAKK,EAClBt6D,EAAI,GAAKq6D,EAAKE,EACdv6D,EAAI,GAAKo6D,EAAKI,EACdx6D,EAAI,GAAKq6D,EAAKE,EACdv6D,EAAI,GAAK,EAAIi6D,EAAKE,EACXn6D,EAWF,SAAS06D,EAAe16D,EAAK5tC,GAClC,IAAIwmG,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRuoG,EAAMvoG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACRwoG,EAAMxoG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,IACRyoG,EAAMzoG,EAAE,IACR0oG,EAAM1oG,EAAE,IACR2oG,EAAM3oG,EAAE,IACR4oG,EAAM5oG,EAAE,IACR6oG,EAAM7oG,EAAE,IACRonG,EAAMZ,EAAME,EAAML,EAAMI,EACxBK,EAAMN,EAAMD,EAAMD,EAAMG,EACxBY,EAAMb,EAAMgC,EAAMD,EAAM9B,EACxBqC,EAAMzC,EAAME,EAAMD,EAAMI,EACxBqC,EAAM1C,EAAMmC,EAAMD,EAAM7B,EACxBsC,EAAM1C,EAAMkC,EAAMD,EAAMhC,EACxB0C,EAAMtC,EAAMgC,EAAM/B,EAAM8B,EACxBQ,EAAMvC,EAAMiC,EAAM/B,EAAM6B,EACxBS,EAAMxC,EAAMkC,EAAMJ,EAAMC,EACxBU,EAAMxC,EAAMgC,EAAM/B,EAAM8B,EACxBrB,EAAMV,EAAMiC,EAAMJ,EAAME,EACxB5B,EAAMF,EAAMgC,EAAMJ,EAAMG,EAExB3B,EAAMG,EAAML,EAAMD,EAAMQ,EAAMD,EAAM+B,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAKhC,GAILA,EAAM,EAAMA,EACZr5D,EAAI,IAAM84D,EAAMK,EAAMR,EAAMe,EAAMkB,EAAMY,GAAOnC,EAC/Cr5D,EAAI,IAAM24D,EAAM4C,EAAM1C,EAAMM,EAAMyB,EAAMU,GAAOjC,EAC/Cr5D,EAAI,IAAM64D,EAAMa,EAAMZ,EAAMyC,EAAMX,EAAMS,GAAOhC,EAC/Cr5D,EAAI,IAAM04D,EAAMgB,EAAMjB,EAAMU,EAAMwB,EAAMa,GAAOnC,EAC/Cr5D,EAAI,IAAM44D,EAAMO,EAAMT,EAAM6C,EAAMZ,EAAMW,GAAOjC,EAC/Cr5D,EAAI,IAAMy4D,EAAM8C,EAAM3C,EAAMc,EAAMiB,EAAMU,GAAOhC,EAC/Cr5D,EAAI,IAAM+6D,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,GAAO7B,EAC/Cr5D,EAAI,IAAMg7D,EAAMvB,EAAMqB,EAAMM,EAAMH,EAAM/B,GAAOG,EAC/Cr5D,EAAI,IAAM86D,EAAMK,EAAMJ,EAAMtB,EAAMwB,EAAMzB,GAAOH,EACxCr5D,GAbE,KAwBJ,SAASy7D,EAAWz7D,EAAK9/B,EAAOuO,GAUrC,OATAuxB,EAAI,GAAK,EAAI9/B,EACb8/B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIvxB,EACduxB,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAAS5rC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IASnI,SAASspG,EAAKtpG,GACnB,OAAOY,KAAKquC,MAAMjvC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAW/D,SAASs1C,EAAI1H,EAAK5tC,EAAGmC,GAU1B,OATAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAASg5B,EAASh5B,EAAK5tC,EAAGmC,GAU/B,OATAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAAS27D,EAAe37D,EAAK5tC,EAAGmC,GAUrC,OATAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EACTyrC,EAYF,SAAS47D,EAAqB57D,EAAK5tC,EAAGmC,EAAGm1B,GAU9C,OATAsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EAChBsW,EAUF,SAASja,EAAY3zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAUrJ,SAASsnG,EAAOzpG,EAAGmC,GACxB,IAAIunG,EAAK1pG,EAAE,GACP0iF,EAAK1iF,EAAE,GACP2pG,EAAK3pG,EAAE,GACP4pG,EAAK5pG,EAAE,GACP6pG,EAAK7pG,EAAE,GACP8pG,EAAK9pG,EAAE,GACP+pG,EAAK/pG,EAAE,GACPgqG,EAAKhqG,EAAE,GACPiqG,EAAKjqG,EAAE,GACPkqG,EAAK/nG,EAAE,GACPk1F,EAAKl1F,EAAE,GACPm1F,EAAKn1F,EAAE,GACPgoG,EAAKhoG,EAAE,GACPioG,EAAKjoG,EAAE,GACPkoG,EAAKloG,EAAE,GACPmoG,EAAKnoG,EAAE,GACPooG,EAAKpoG,EAAE,GACPqoG,EAAKroG,EAAE,GACX,OAAOvB,KAAKqF,IAAIyjG,EAAKQ,IAAO3E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIyjG,GAAK9oG,KAAKqF,IAAIikG,KAAQtpG,KAAKqF,IAAIy8E,EAAK2U,IAAOkO,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIy8E,GAAK9hF,KAAKqF,IAAIoxF,KAAQz2F,KAAKqF,IAAI0jG,EAAKrS,IAAOiO,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI0jG,GAAK/oG,KAAKqF,IAAIqxF,KAAQ12F,KAAKqF,IAAI2jG,EAAKO,IAAO5E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI2jG,GAAKhpG,KAAKqF,IAAIkkG,KAAQvpG,KAAKqF,IAAI4jG,EAAKO,IAAO7E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI4jG,GAAKjpG,KAAKqF,IAAImkG,KAAQxpG,KAAKqF,IAAI6jG,EAAKO,IAAO9E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI6jG,GAAKlpG,KAAKqF,IAAIokG,KAAQzpG,KAAKqF,IAAI8jG,EAAKO,IAAO/E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI8jG,GAAKnpG,KAAKqF,IAAIqkG,KAAQ1pG,KAAKqF,IAAI+jG,EAAKO,IAAOhF,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI+jG,GAAKppG,KAAKqF,IAAIskG,KAAQ3pG,KAAKqF,IAAIgkG,EAAKO,IAAOjF,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIgkG,GAAKrpG,KAAKqF,IAAIukG,IAOvvB,IAAIC,EAAMvoB,EAMN3qB,EAAMqP,E,iDCzwBjB,swDAYO,SAAS3pE,IACd,IAAI2wC,EAAM,IAAI23D,IAAoB,GAOlC,OALIA,KAAuB5pD,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAAS5jC,EAAMhK,GACpB,IAAI4tC,EAAM,IAAI23D,IAAoB,GAGlC,OAFA33D,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAUF,SAAS83D,EAAWloF,EAAGrN,GAC5B,IAAIy9B,EAAM,IAAI23D,IAAoB,GAGlC,OAFA33D,EAAI,GAAKpwB,EACTowB,EAAI,GAAKz9B,EACFy9B,EAUF,SAAS63D,EAAK73D,EAAK5tC,GAGxB,OAFA4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAWF,SAAS/qC,EAAI+qC,EAAKpwB,EAAGrN,GAG1B,OAFAy9B,EAAI,GAAKpwB,EACTowB,EAAI,GAAKz9B,EACFy9B,EAWF,SAAS0H,EAAI1H,EAAK5tC,EAAGmC,GAG1B,OAFAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAASg5B,EAASh5B,EAAK5tC,EAAGmC,GAG/B,OAFAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAASs0C,EAASt0C,EAAK5tC,EAAGmC,GAG/B,OAFAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAAS88D,EAAO98D,EAAK5tC,EAAGmC,GAG7B,OAFAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAUF,SAAS3O,EAAK2O,EAAK5tC,GAGxB,OAFA4tC,EAAI,GAAKhtC,KAAKq+B,KAAKj/B,EAAE,IACrB4tC,EAAI,GAAKhtC,KAAKq+B,KAAKj/B,EAAE,IACd4tC,EAUF,SAAS36B,EAAM26B,EAAK5tC,GAGzB,OAFA4tC,EAAI,GAAKhtC,KAAKqS,MAAMjT,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKqS,MAAMjT,EAAE,IACf4tC,EAWF,SAAS9sC,EAAI8sC,EAAK5tC,EAAGmC,GAG1B,OAFAyrC,EAAI,GAAKhtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IACnByrC,EAWF,SAAS/sC,EAAI+sC,EAAK5tC,EAAGmC,GAG1B,OAFAyrC,EAAI,GAAKhtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IACnByrC,EAUF,SAASvoC,EAAMuoC,EAAK5tC,GAGzB,OAFA4tC,EAAI,GAAKhtC,KAAKyE,MAAMrF,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKyE,MAAMrF,EAAE,IACf4tC,EAWF,SAAStW,EAAMsW,EAAK5tC,EAAGmC,GAG5B,OAFAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EACTyrC,EAYF,SAAS+8D,EAAY/8D,EAAK5tC,EAAGmC,EAAGm1B,GAGrC,OAFAsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EAChBsW,EAUF,SAAStlB,EAAStoB,EAAGmC,GAC1B,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACjB,OAAOY,KAAKquC,MAAMzxB,EAAGrN,GAUhB,SAASy6F,EAAgB5qG,EAAGmC,GACjC,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACjB,OAAOwd,EAAIA,EAAIrN,EAAIA,EASd,SAAStS,EAAOmC,GACrB,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACV,OAAOY,KAAKquC,MAAMzxB,EAAGrN,GAShB,SAAS06F,EAAc7qG,GAC5B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACV,OAAOwd,EAAIA,EAAIrN,EAAIA,EAUd,SAAS22D,EAAOl5B,EAAK5tC,GAG1B,OAFA4tC,EAAI,IAAM5tC,EAAE,GACZ4tC,EAAI,IAAM5tC,EAAE,GACL4tC,EAUF,SAASk9D,EAAQl9D,EAAK5tC,GAG3B,OAFA4tC,EAAI,GAAK,EAAM5tC,EAAE,GACjB4tC,EAAI,GAAK,EAAM5tC,EAAE,GACV4tC,EAUF,SAAS/Z,EAAU+Z,EAAK5tC,GAC7B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNhB,EAAMwe,EAAIA,EAAIrN,EAAIA,EAStB,OAPInR,EAAM,IAERA,EAAM,EAAI4B,KAAKuS,KAAKnU,IAGtB4uC,EAAI,GAAK5tC,EAAE,GAAKhB,EAChB4uC,EAAI,GAAK5tC,EAAE,GAAKhB,EACT4uC,EAUF,SAAS9Z,EAAI9zB,EAAGmC,GACrB,OAAOnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAYzB,SAASy0C,EAAMhJ,EAAK5tC,EAAGmC,GAC5B,IAAIszB,EAAIz1B,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAG/B,OAFAyrC,EAAI,GAAKA,EAAI,GAAK,EAClBA,EAAI,GAAKnY,EACFmY,EAYF,SAASm9D,EAAKn9D,EAAK5tC,EAAGmC,EAAGtF,GAC9B,IAAImuG,EAAKhrG,EAAE,GACPirG,EAAKjrG,EAAE,GAGX,OAFA4tC,EAAI,GAAKo9D,EAAKnuG,GAAKsF,EAAE,GAAK6oG,GAC1Bp9D,EAAI,GAAKq9D,EAAKpuG,GAAKsF,EAAE,GAAK8oG,GACnBr9D,EAUF,SAASzP,EAAOyP,EAAKtW,GAC1BA,EAAQA,GAAS,EACjB,IAAI76B,EAAwB,EAApB8oG,MAA0B3kG,KAAK6F,GAGvC,OAFAmnC,EAAI,GAAKhtC,KAAKwS,IAAI3W,GAAK66B,EACvBsW,EAAI,GAAKhtC,KAAKyS,IAAI5W,GAAK66B,EAChBsW,EAWF,SAASs9D,EAAct9D,EAAK5tC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFA4tC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAC3By9B,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EACpBy9B,EAWF,SAASu9D,EAAev9D,EAAK5tC,EAAGjE,GACrC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFA4tC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjC6xC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1B6xC,EAYF,SAASpgB,EAAcogB,EAAK5tC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFA4tC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjC6xC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1B6xC,EAaF,SAASw9D,EAAcx9D,EAAK5tC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GAGV,OAFA4tC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IACjC6xC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAC1B6xC,EAWF,SAASlwB,EAAOkwB,EAAK5tC,EAAGmC,EAAG+1B,GAEhC,IAAI1M,EAAKxrB,EAAE,GAAKmC,EAAE,GACdspB,EAAKzrB,EAAE,GAAKmC,EAAE,GACdkpG,EAAOzqG,KAAKyS,IAAI6kB,GAChBozE,EAAO1qG,KAAKwS,IAAI8kB,GAIpB,OAFA0V,EAAI,GAAKpiB,EAAK8/E,EAAO7/E,EAAK4/E,EAAOlpG,EAAE,GACnCyrC,EAAI,GAAKpiB,EAAK6/E,EAAO5/E,EAAK6/E,EAAOnpG,EAAE,GAC5ByrC,EASF,SAAS7gB,EAAM/sB,EAAGmC,GACvB,IAAI6uB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACPkxB,EAAK/uB,EAAE,GACPgvB,EAAKhvB,EAAE,GAEXopG,EAAM3qG,KAAKuS,KAAK6d,EAAKA,EAAKC,EAAKA,GAAMrwB,KAAKuS,KAAK+d,EAAKA,EAAKC,EAAKA,GAE9Dq6E,EAASD,IAAQv6E,EAAKE,EAAKD,EAAKE,GAAMo6E,EAEtC,OAAO3qG,KAAK05D,KAAK15D,KAAKE,IAAIF,KAAKC,IAAI2qG,GAAS,GAAI,IAS3C,SAASC,EAAK79D,GAGnB,OAFAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAAS5rC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAUjC,SAAS2zB,EAAY3zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAU9B,SAASsnG,EAAOzpG,EAAGmC,GACxB,IAAIunG,EAAK1pG,EAAE,GACP0iF,EAAK1iF,EAAE,GACPkqG,EAAK/nG,EAAE,GACPk1F,EAAKl1F,EAAE,GACX,OAAOvB,KAAKqF,IAAIyjG,EAAKQ,IAAO3E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIyjG,GAAK9oG,KAAKqF,IAAIikG,KAAQtpG,KAAKqF,IAAIy8E,EAAK2U,IAAOkO,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIy8E,GAAK9hF,KAAKqF,IAAIoxF,IAOpK,IAmDD5oE,EAnDKzvB,EAAMnB,EAMN05D,EAAMqP,EAMN6jC,EAAMvoB,EAMNwpB,EAAMhB,EAMNjhG,EAAO6e,EAMPqjF,EAAUf,EAMVgB,EAASf,EAcT7+F,GACLyiB,EAAMxxB,IACH,SAAU+C,EAAG6rG,EAAQjyF,EAAQ1E,EAAOrT,EAAIiqG,GAC7C,IAAInwG,EAAGC,EAgBP,IAdKiwG,IACHA,EAAS,GAGNjyF,IACHA,EAAS,GAIThe,EADEsZ,EACEtU,KAAKE,IAAIoU,EAAQ22F,EAASjyF,EAAQ5Z,EAAEnC,QAEpCmC,EAAEnC,OAGHlC,EAAIie,EAAQje,EAAIC,EAAGD,GAAKkwG,EAC3Bp9E,EAAI,GAAKzuB,EAAErE,GACX8yB,EAAI,GAAKzuB,EAAErE,EAAI,GACfkG,EAAG4sB,EAAKA,EAAKq9E,GACb9rG,EAAErE,GAAK8yB,EAAI,GACXzuB,EAAErE,EAAI,GAAK8yB,EAAI,GAGjB,OAAOzuB,K,gCCvmBX,IAAI+rG,EACAC,EACAC,EACAC,EAoBU,SAAUC,EAAUnqG,GAC3B+pG,IAfLA,EAAQv+F,SAASC,cAAc,SAC/Bu+F,EAAWx+F,SAASC,cAAc,MAClCw+F,EAAe,qBACfC,EAAa,CACXE,GAAI5+F,SAASC,cAAc,SAC3B4+F,MAAON,EACPO,MAAOP,EACPQ,MAAOR,EACPS,GAAIR,EACJS,GAAIT,EACJ,IAAKx+F,SAASC,cAAc,SAQ9B,IAAIvR,EAAO+vG,EAAatzE,KAAK32B,IAAQ02B,OAAOg0E,GACvCxwG,GAAUA,KAAQgwG,IACrBhwG,EAAO,KAET,IAAMkc,EAAY8zF,EAAWhwG,GAC7B8F,EAAqB,iBAARA,EAAmBA,EAAI8B,QAAQ,iBAAkB,IAAM9B,EACpEoW,EAAUisB,UAAY,GAAKriC,EAC3B,IAAM2qG,EAAMv0F,EAAUw0F,WAAW,GAIjC,OAHID,GAAOv0F,EAAUta,SAAS6uG,IAC5Bv0F,EAAU6tB,YAAY0mE,GAEjBA,EC5CK,SAAUE,EAAUF,EAAkBG,GAClD,GAAIH,EACF,IAAK,IAAMzvG,KAAO4vG,EACZA,EAAItvG,eAAeN,KACrByvG,EAAInzF,MAAMtc,GAAO4vG,EAAI5vG,IAI3B,OAAOyvG,E,0UCRI,SAAS7kF,EAAQjrB,GAAG,OAAOirB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAAS9T,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBH,QAAQG,EAAEwL,cAAc3L,QAAQG,IAAIH,OAAOa,UAAU,SAA3E,EAA2FV,KAAIA,GAAG,IAAIkwG,EAAYx7F,EAAQ,KAAgBE,EAAQF,EAAQ,KAAiBy7F,EAAO,GAAGzlG,MAAM0lG,EAAc,CAAC,UAAU,OAAO,OAAOC,EAAgB,GAAG7wG,OAAO8C,KAAKsS,GAASzF,SAAS,SAASnP,GAAGqwG,EAAgBF,EAAOlxG,KAAK2V,EAAQ5U,GAAG+U,QAAQrP,OAAOqL,KAAK,KAAK/Q,KAAK,IAAIswG,EAAS,GAAG,SAASC,EAAMvwG,EAAEJ,GAAG,KAAKlB,gBAAgB6xG,GAAO,OAAO,IAAIA,EAAMvwG,EAAEJ,GAAG,GAAGA,GAAGA,KAAKwwG,IAAgBxwG,EAAE,MAAMA,KAAKA,KAAKgV,GAAS,MAAM,IAAImB,MAAM,kBAAkBnW,GAAG,IAAIL,EAAEkH,EAAElG,EAAExB,EAAED,EAAEqE,EAAEtC,EAAEqV,EAAE/W,EAAE,GAAG,MAAMa,EAAEtB,KAAKoX,MAAM,MAAMpX,KAAKoJ,MAAM,CAAC,EAAE,EAAE,GAAGpJ,KAAK8xG,OAAO,OAAO,GAAGxwG,aAAauwG,EAAM7xG,KAAKoX,MAAM9V,EAAE8V,MAAMpX,KAAKoJ,MAAM9H,EAAE8H,MAAM4C,QAAQhM,KAAK8xG,OAAOxwG,EAAEwwG,YAAY,GAAG,iBAAiBxwG,EAAE,CAAC,GAAG,QAAQyG,EAAEypG,EAAYvwG,IAAIK,IAAI,MAAM,IAAI+V,MAAM,sCAAsC/V,GAAGtB,KAAKoX,MAAMrP,EAAEqP,MAAM3W,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASpW,KAAKoJ,MAAMrB,EAAE1G,MAAM2K,MAAM,EAAEvL,GAAGT,KAAK8xG,OAAO,iBAAiB/pG,EAAE1G,MAAMZ,GAAGsH,EAAE1G,MAAMZ,GAAG,OAAO,GAAGa,EAAEgB,OAAOtC,KAAKoX,MAAMlW,GAAG,MAAMT,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASvU,EAAE4vG,EAAOlxG,KAAKe,EAAE,EAAEb,GAAGT,KAAKoJ,MAAM2oG,EAAUlwG,EAAEpB,GAAGT,KAAK8xG,OAAO,iBAAiBxwG,EAAEb,GAAGa,EAAEb,GAAG,OAAO,GAAG,iBAAiBa,EAAEA,GAAG,SAAStB,KAAKoX,MAAM,MAAMpX,KAAKoJ,MAAM,CAAC9H,GAAG,GAAG,IAAIA,GAAG,EAAE,IAAI,IAAIA,GAAGtB,KAAK8xG,OAAO,MAAM,CAAC,GAAG9xG,KAAK8xG,OAAO,EAAEzxG,EAAES,OAAO8C,KAAKtC,GAAG,UAAUA,IAAIjB,EAAE2F,OAAO3F,EAAEoC,QAAQ,SAAS,GAAGzC,KAAK8xG,OAAO,iBAAiBxwG,EAAE0wG,MAAM1wG,EAAE0wG,MAAM,MAAM5xG,EAAEC,EAAE2G,OAAOqL,KAAK,OAAOs/F,GAAiB,MAAM,IAAIt6F,MAAM,sCAAsCwvB,KAAKorE,UAAU3wG,IAAI,IAAItB,KAAKoX,MAAMu6F,EAAgBvxG,GAAGqE,EAAEyR,EAAQlW,KAAKoX,OAAOf,OAAOlU,EAAE,GAAGtB,EAAE,EAAEA,EAAE4D,EAAEnC,OAAOzB,IAAIsB,EAAEW,KAAKxB,EAAEmD,EAAE5D,KAAKb,KAAKoJ,MAAM2oG,EAAU5vG,GAAG,GAAGyvG,EAAS5xG,KAAKoX,OAAO,IAAI3W,EAAEyV,EAAQlW,KAAKoX,OAAOhB,SAASvV,EAAE,EAAEA,EAAEJ,EAAEI,KAAK2W,EAAEo6F,EAAS5xG,KAAKoX,OAAOvW,MAAMb,KAAKoJ,MAAMvI,GAAG2W,EAAExX,KAAKoJ,MAAMvI,KAAKb,KAAK8xG,OAAOzsG,KAAKC,IAAI,EAAED,KAAKE,IAAI,EAAEvF,KAAK8xG,SAAShxG,OAAOoxG,QAAQpxG,OAAOoxG,OAAOlyG,MAAwD,SAASmyG,EAAa7wG,GAAG,OAAO,SAASJ,GAAG,OAA9F,SAAiBI,EAAEJ,GAAG,OAAOoJ,OAAOhJ,EAAE2I,QAAQ/I,IAAuDkxG,CAAQlxG,EAAEI,IAAI,SAAS+wG,EAAO/wG,EAAEJ,EAAEL,GAAG,OAAOS,EAAE+B,MAAMC,QAAQhC,GAAGA,EAAE,CAACA,IAAImP,SAAS,SAASnP,IAAIswG,EAAStwG,KAAKswG,EAAStwG,GAAG,KAAKJ,GAAGL,KAAKS,EAAEA,EAAE,GAAG,SAASyG,GAAG,IAAIlG,EAAE,OAAOkN,UAAUzM,QAAQzB,IAAIkH,EAAElH,EAAEkH,KAAKlG,EAAE7B,KAAKsB,MAAM8H,MAAMlI,GAAG6G,EAAElG,IAAIA,EAAE7B,KAAKsB,KAAK8H,MAAMlI,GAAGL,IAAIgB,EAAEhB,EAAEgB,IAAIA,IAAI,SAASywG,EAAMhxG,GAAG,OAAO,SAASJ,GAAG,OAAOmE,KAAKC,IAAI,EAAED,KAAKE,IAAIjE,EAAEJ,KAAK,SAASqxG,EAAYjxG,GAAG,OAAO+B,MAAMC,QAAQhC,GAAGA,EAAE,CAACA,GAAG,SAASywG,EAAUzwG,EAAEJ,GAAG,IAAIL,EAAE,IAAIA,EAAE,EAAEA,EAAEK,EAAEL,IAAI,iBAAiBS,EAAET,KAAKS,EAAET,GAAG,GAAG,OAAOS,EAAEuwG,EAAM7vG,UAAU,CAACiB,SAAS,WAAW,OAAOjD,KAAKwyG,UAAUC,OAAO,WAAW,OAAOzyG,KAAKA,KAAKoX,UAAUo7F,OAAO,SAASlxG,GAAG,IAAIJ,EAAElB,KAAKoX,SAASo6F,EAAY77F,GAAG3V,KAAKA,KAAKmW,MAAMtV,EAAE,KAAKK,EAAEA,EAAE4I,MAAM,iBAAiBxI,EAAEA,EAAE,IAAIwwG,OAAO5wG,EAAEkI,MAAMlI,EAAEkI,MAAMpE,OAAOhF,KAAK8xG,QAAQ,OAAON,EAAY77F,GAAGzU,EAAEkW,OAAOvW,IAAI6xG,cAAc,SAASpxG,GAAG,IAAIJ,EAAElB,KAAKmW,MAAMrM,MAAM,iBAAiBxI,EAAEA,EAAE,GAAGT,EAAE,IAAIK,EAAE4wG,OAAO5wG,EAAEkI,MAAMlI,EAAEkI,MAAMpE,OAAOhF,KAAK8xG,QAAQ,OAAON,EAAY77F,GAAGQ,IAAI4M,QAAQliB,IAAI+H,MAAM,WAAW,OAAO,IAAI5I,KAAK8xG,OAAO9xG,KAAKoJ,MAAM4C,QAAQhM,KAAKoJ,MAAMpE,OAAOhF,KAAK8xG,SAAShwG,OAAO,WAAW,IAAIR,EAAEJ,EAAE,GAAGL,EAAEqV,EAAQlW,KAAKoX,OAAOhB,SAASrO,EAAEmO,EAAQlW,KAAKoX,OAAOf,OAAO,IAAI/U,EAAE,EAAEA,EAAET,EAAES,IAAIJ,EAAE6G,EAAEzG,IAAItB,KAAKoJ,MAAM9H,GAAG,OAAO,IAAItB,KAAK8xG,SAAS5wG,EAAE8wG,MAAMhyG,KAAK8xG,QAAQ5wG,GAAGyxG,UAAU,WAAW,IAAIrxG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO9H,EAAE,IAAI,IAAIA,EAAE,IAAI,IAAIA,EAAE,IAAI,IAAI,IAAItB,KAAK8xG,QAAQxwG,EAAEwB,KAAK9C,KAAK8xG,QAAQxwG,GAAGsxG,WAAW,WAAW,IAAItxG,EAAEtB,KAAKmW,MAAMrU,SAAS,OAAOR,EAAEJ,GAAG,IAAII,EAAEuT,GAAG,IAAIvT,EAAEsF,GAAG,IAAI,IAAI5G,KAAK8xG,SAASxwG,EAAE0wG,MAAMhyG,KAAK8xG,QAAQxwG,GAAGwI,MAAM,SAASxI,GAAG,OAAOA,EAAE+D,KAAKC,IAAIhE,GAAG,EAAE,GAAG,IAAIuwG,EAAM7xG,KAAKoJ,MAAMmH,IAAI4hG,EAAa7wG,IAAI0D,OAAOhF,KAAK8xG,QAAQ9xG,KAAKoX,QAAQ46F,MAAM,SAAS1wG,GAAG,OAAOyN,UAAUzM,OAAO,IAAIuvG,EAAM7xG,KAAKoJ,MAAMpE,OAAOK,KAAKC,IAAI,EAAED,KAAKE,IAAI,EAAEjE,KAAKtB,KAAKoX,OAAOpX,KAAK8xG,QAAQvnF,IAAI8nF,EAAO,MAAM,EAAEC,EAAM,MAAMjsF,MAAMgsF,EAAO,MAAM,EAAEC,EAAM,MAAM7uF,KAAK4uF,EAAO,MAAM,EAAEC,EAAM,MAAMO,IAAIR,EAAO,CAAC,MAAM,MAAM,MAAM,MAAM,OAAO,GAAG,SAAS/wG,GAAG,OAAOA,EAAE,IAAI,KAAK,OAAOwxG,YAAYT,EAAO,MAAM,EAAEC,EAAM,MAAMS,UAAUV,EAAO,MAAM,EAAEC,EAAM,MAAMU,YAAYX,EAAO,MAAM,EAAEC,EAAM,MAAMjxG,MAAMgxG,EAAO,MAAM,EAAEC,EAAM,MAAMW,OAAOZ,EAAO,MAAM,EAAEC,EAAM,MAAMn7F,KAAKk7F,EAAO,MAAM,EAAEC,EAAM,MAAMvmF,MAAMsmF,EAAO,MAAM,EAAEC,EAAM,MAAMY,OAAOb,EAAO,MAAM,EAAEC,EAAM,MAAMluF,KAAKiuF,EAAO,OAAO,EAAEC,EAAM,MAAMlqF,QAAQiqF,EAAO,OAAO,EAAEC,EAAM,MAAMrmF,OAAOomF,EAAO,OAAO,EAAEC,EAAM,MAAM/uF,MAAM8uF,EAAO,OAAO,EAAEC,EAAM,MAAMrwF,EAAEowF,EAAO,MAAM,EAAEC,EAAM,MAAM19F,EAAEy9F,EAAO,MAAM,EAAEC,EAAM,MAAMp4E,EAAEm4E,EAAO,MAAM,EAAEC,EAAM,MAAMjyG,EAAEgyG,EAAO,MAAM,EAAEC,EAAM,MAAM7tG,EAAE4tG,EAAO,MAAM,GAAGzrG,EAAEyrG,EAAO,MAAM,GAAGv7F,QAAQ,SAASxV,GAAG,OAAOyN,UAAUzM,OAAO,IAAIuvG,EAAMvwG,GAAG4U,EAAQlW,KAAKoX,OAAON,QAAQ9W,KAAKoJ,QAAQyN,IAAI,SAASvV,GAAG,OAAOyN,UAAUzM,OAAO,IAAIuvG,EAAMvwG,GAAGkwG,EAAY77F,GAAGkB,IAAI7W,KAAKmW,MAAMrM,QAAQV,QAAQ+pG,UAAU,WAAW,IAAI7xG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO,IAAI9H,EAAE,KAAK,IAAI,IAAIA,EAAE,KAAK,EAAE,IAAIA,EAAE,IAAI8xG,WAAW,WAAW,IAAI9xG,EAAEJ,EAAEL,EAAEb,KAAKmW,MAAM/M,MAAMrB,EAAE,GAAG,IAAIzG,EAAE,EAAEA,EAAET,EAAEyB,OAAOhB,IAAIJ,EAAEL,EAAES,GAAG,IAAIyG,EAAEzG,GAAGJ,GAAG,OAAOA,EAAE,MAAMmE,KAAKkS,KAAKrW,EAAE,MAAM,MAAM,KAAK,MAAM,MAAM6G,EAAE,GAAG,MAAMA,EAAE,GAAG,MAAMA,EAAE,IAAIsrG,SAAS,SAAS/xG,GAAG,IAAIJ,EAAElB,KAAKozG,aAAavyG,EAAES,EAAE8xG,aAAa,OAAOlyG,EAAEL,GAAGK,EAAE,MAAML,EAAE,MAAMA,EAAE,MAAMK,EAAE,MAAMqO,MAAM,SAASjO,GAAG,IAAIJ,EAAElB,KAAKqzG,SAAS/xG,GAAG,OAAOJ,GAAG,IAAI,MAAMA,GAAG,IAAI,KAAK,IAAIoyG,OAAO,WAAW,IAAIhyG,EAAEtB,KAAKmW,MAAM/M,MAAM,OAAO,IAAI9H,EAAE,GAAG,IAAIA,EAAE,GAAG,IAAIA,EAAE,IAAI,IAAI,KAAKiyG,QAAQ,WAAW,OAAOvzG,KAAKszG,UAAU/nC,OAAO,WAAW,IAAIjqE,EAAEJ,EAAElB,KAAKmW,MAAM,IAAI7U,EAAE,EAAEA,EAAE,EAAEA,IAAIJ,EAAEkI,MAAM9H,GAAG,IAAIJ,EAAEkI,MAAM9H,GAAG,OAAOJ,GAAGsyG,QAAQ,SAASlyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAGuyG,OAAO,SAASnyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAGwyG,SAAS,SAASpyG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAGyyG,WAAW,SAASryG,GAAG,IAAIJ,EAAElB,KAAKsW,MAAM,OAAOpV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG0yG,OAAO,SAAStyG,GAAG,IAAIJ,EAAElB,KAAKwW,MAAM,OAAOtV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG2yG,QAAQ,SAASvyG,GAAG,IAAIJ,EAAElB,KAAKwW,MAAM,OAAOtV,EAAEkI,MAAM,IAAIlI,EAAEkI,MAAM,GAAG9H,EAAEJ,GAAG4yG,UAAU,WAAW,IAAIxyG,EAAEtB,KAAKmW,MAAM/M,MAAMlI,EAAE,GAAGI,EAAE,GAAG,IAAIA,EAAE,GAAG,IAAIA,EAAE,GAAG,OAAOuwG,EAAM17F,IAAIjV,EAAEA,EAAEA,IAAI6yG,KAAK,SAASzyG,GAAG,OAAOtB,KAAKgyG,MAAMhyG,KAAK8xG,OAAO9xG,KAAK8xG,OAAOxwG,IAAI0yG,QAAQ,SAAS1yG,GAAG,OAAOtB,KAAKgyG,MAAMhyG,KAAK8xG,OAAO9xG,KAAK8xG,OAAOxwG,IAAI6gB,OAAO,SAAS7gB,GAAG,IAAIJ,EAAElB,KAAKsW,MAAMzV,EAAEK,EAAEkI,MAAM,GAAG,OAAOvI,GAAGA,GAAGA,EAAES,GAAG,KAAK,EAAE,IAAIT,EAAEA,EAAEK,EAAEkI,MAAM,GAAGvI,EAAEK,GAAGiN,IAAI,SAAS7M,EAAEJ,GAAG,IAAII,IAAIA,EAAE6U,IAAI,MAAM,IAAIkB,MAAM,yEAAyEkV,EAAQjrB,IAAI,IAAIT,EAAES,EAAE6U,MAAMpO,EAAE/H,KAAKmW,MAAMtU,OAAE,IAASX,EAAE,GAAGA,EAAEb,EAAE,EAAEwB,EAAE,EAAEzB,EAAES,EAAEmxG,QAAQjqG,EAAEiqG,QAAQvtG,IAAIpE,EAAED,IAAI,EAAEC,GAAGA,EAAED,IAAI,EAAEC,EAAED,IAAI,GAAG,EAAE+B,EAAE,EAAEsC,EAAE,OAAOotG,EAAM17F,IAAI1R,EAAE5D,EAAE0pB,MAAMpoB,EAAE4F,EAAEwiB,MAAM9lB,EAAE5D,EAAEwlB,QAAQlkB,EAAE4F,EAAEse,QAAQ5hB,EAAE5D,EAAE4iB,OAAOthB,EAAE4F,EAAE0b,OAAO5iB,EAAEmxG,QAAQnwG,EAAEkG,EAAEiqG,SAAS,EAAEnwG,MAAMf,OAAO8C,KAAKsS,GAASzF,SAAS,SAASnP,GAAG,IAAI,IAAIowG,EAAcjvG,QAAQnB,GAAG,CAAC,IAAIJ,EAAEgV,EAAQ5U,GAAG8U,SAASy7F,EAAM7vG,UAAUV,GAAG,WAAW,GAAGtB,KAAKoX,QAAQ9V,EAAE,OAAO,IAAIuwG,EAAM7xG,MAAM,GAAG+O,UAAUzM,OAAO,OAAO,IAAIuvG,EAAM9iG,UAAUzN,GAAG,IAAIT,EAAE,iBAAiBkO,UAAU7N,GAAGA,EAAElB,KAAK8xG,OAAO,OAAO,IAAID,EAAMU,EAAYr8F,EAAQlW,KAAKoX,OAAO9V,GAAGsrB,IAAI5sB,KAAKoJ,QAAQpE,OAAOnE,GAAGS,IAAIuwG,EAAMvwG,GAAG,SAAST,GAAG,MAAM,iBAAiBA,IAAIA,EAAEkxG,EAAUN,EAAOlxG,KAAKwO,WAAW7N,IAAI,IAAI2wG,EAAMhxG,EAAES,QAAQzB,EAAOD,QAAQiyG,G,+BCArzN,sGAKO,IAAIoC,EAAU,KACVC,EAAqC,oBAAjB9zD,aAA+BA,aAAe/8C,MAClE8wG,EAAS9uG,KAAKu9B,OAUZv9B,KAAK6F,GAuBb7F,KAAKquC,QAAOruC,KAAKquC,MAAQ,WAI5B,IAHA,IAAI9+B,EAAI,EACJxU,EAAI2O,UAAUzM,OAEXlC,KACLwU,GAAK7F,UAAU3O,GAAK2O,UAAU3O,GAGhC,OAAOiF,KAAKuS,KAAKhD,M,gCChDN,IAA6BtT,EAAzB8R,GAAyB9R,EAAE,SAASyG,EAAE7G,GAAG,OAAOI,EAAER,OAAOoS,gBAAgB,CAACC,UAAU,cAAc9P,OAAO,SAAS/B,EAAEyG,GAAGzG,EAAE6R,UAAUpL,IAAI,SAASzG,EAAEyG,GAAG,IAAI,IAAI7G,KAAK6G,EAAEjH,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAE7G,KAAKI,EAAEJ,GAAG6G,EAAE7G,MAAM6G,EAAE7G,IAAW,SAAS6G,EAAE7G,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIiO,UAAU,uBAAuBkE,OAAOnS,GAAG,iCAAiC,SAASL,IAAIb,KAAK8M,YAAY/E,EAAEzG,EAAEyG,EAAE7G,GAAG6G,EAAE/F,UAAU,OAAOd,EAAEJ,OAAOY,OAAOR,IAAIL,EAAEmB,UAAUd,EAAEc,UAAU,IAAInB,KAAOC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQw0G,gBAAgBx0G,EAAQy0G,iBAAiBz0G,EAAQ00G,oBAAe,EAAO,IAAIC,EAAOv+F,EAAQ,IAAkBw+F,EAAOx+F,EAAQ,KAAiBzF,EAAI,IAAIpJ,IAAyYvH,EAAQ00G,eAA9X,SAAShzG,EAAEyG,GAAG,IAAI7G,EAAEqP,EAAItP,IAAIK,IAAIgZ,QAAQC,KAAK,4BAA4BjZ,EAAE,0CAA0CkzG,EAAO9wG,SAASqE,IAAI7G,EAAE,SAASI,GAAG,SAASJ,EAAEA,GAAG,IAAIL,EAAES,EAAEf,KAAKP,OAAOA,KAAK6B,EAAEhB,EAAE4D,EAAE,GAAGgT,EAAE5V,EAAE2sB,gBAAgB,OAAO1tB,OAAO0S,OAAO/O,EAAEgT,EAAE1P,EAAE7G,GAAGJ,OAAO8C,KAAKa,GAAGgM,SAAS,SAASnP,GAAG,IAAIyG,EAAEtD,EAAEnD,GAAGO,EAAEP,GAAGyG,KAAKlH,EAAE,OAAOuS,EAAUlS,EAAEI,GAAGJ,EAA/L,CAAkMqzG,EAAOE,MAAMlkG,EAAIjJ,IAAIhG,EAAEJ,IAAIqP,EAAIjJ,IAAIhG,EAAEyG,IAAsGnI,EAAQy0G,iBAA/C,SAAS/yG,GAAGiP,EAAIlJ,IAAI/F,IAAIiP,EAAIoxD,OAAOrgE,IAAiH1B,EAAQw0G,gBAAvD,SAAS9yG,GAAG,OAAOiP,EAAIlJ,IAAI/F,GAAGiP,EAAItP,IAAIK,GAAG,O,gCCA1wC,IAA6BA,EAAzB8R,GAAyB9R,EAAE,SAASyG,EAAElG,GAAG,OAAOP,EAAER,OAAOoS,gBAAgB,CAACC,UAAU,cAAc9P,OAAO,SAAS/B,EAAEyG,GAAGzG,EAAE6R,UAAUpL,IAAI,SAASzG,EAAEyG,GAAG,IAAI,IAAIlG,KAAKkG,EAAEjH,OAAOkB,UAAUC,eAAe1B,KAAKwH,EAAElG,KAAKP,EAAEO,GAAGkG,EAAElG,MAAMkG,EAAElG,IAAW,SAASkG,EAAElG,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAIsN,UAAU,uBAAuBkE,OAAOxR,GAAG,iCAAiC,SAAShB,IAAIb,KAAK8M,YAAY/E,EAAEzG,EAAEyG,EAAElG,GAAGkG,EAAE/F,UAAU,OAAOH,EAAEf,OAAOY,OAAOG,IAAIhB,EAAEmB,UAAUH,EAAEG,UAAU,IAAInB,KAAOC,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ80G,kBAAa,EAAO,IAA6BA,EAAa,SAASpzG,GAAG,SAASyG,EAAEA,GAAG,IAAIlG,EAAEP,EAAEf,KAAKP,OAAOA,KAAK,OAAO6B,EAAEivB,OAAO,CAAC,EAAE,GAAGjvB,EAAE0Q,MAAM,IAAI1Q,EAAEif,OAAO,IAAIjf,EAAEosB,MAAM,GAAGpsB,EAAEqsB,MAAM,GAAGrsB,EAAE63D,YAAY,aAAa73D,EAAE6sB,UAAU3mB,GAAGlG,EAAE,OAAOuR,EAAUrL,EAAEzG,GAAGyG,EAAE/F,UAAUwsB,cAAc,WAAW,MAAM,CAACsC,OAAO,CAAC,EAAE,GAAGve,MAAM,IAAIuO,OAAO,MAAM/Y,EAAE/F,UAAU83D,QAAQ,WAAW,IAAIx4D,EAAEtB,KAAK+H,EAAEzG,EAAE2sB,MAAMpsB,EAAEP,EAAEwvB,OAAO,OAAOxvB,EAAEiR,OAAO,oBAAoBlF,SAAS/L,EAAEiR,MAAMlF,OAAOsnG,YAAYrzG,EAAEwf,QAAQ,oBAAoBzT,SAAS/L,EAAEwf,OAAOzT,OAAOunG,aAAa7sG,GAAGA,EAAE0I,SAAS,SAAS1I,GAAGA,EAAEka,EAAE,IAAI5c,KAAKu9B,SAAS,IAAIthC,EAAEiR,MAAM1Q,EAAE,GAAGkG,EAAE6M,EAAE,IAAIvP,KAAKu9B,SAAS,IAAIthC,EAAEwf,OAAOjf,EAAE,MAAMP,EAAEo4D,aAAap4D,EAAEo4D,cAAc,CAACzrC,MAAMlmB,EAAEmmB,MAAMluB,KAAKkuB,QAAQnmB,EAAE/F,UAAUqK,QAAQ,WAAW,MAAM,UAAUtE,EAA3qB,CAA/BiO,EAAQ,IAA4sBy+F,MAAM70G,EAAQ80G,aAAaA,G,gCCAlzC5zG,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ60G,UAAK,EAAO,IAAIA,EAAK,WAAW,SAASnzG,IAAItB,KAAKiuB,MAAM,GAAGjuB,KAAKkuB,MAAM,GAAGluB,KAAKkgC,OAAO,GAAGlgC,KAAK60G,UAAU,GAAG70G,KAAK4gC,WAAU,EAAG5gC,KAAK05D,YAAY,aAAa,OAAOp4D,EAAEU,UAAUinD,OAAO,SAAS3nD,GAAG,OAAOtB,KAAKuG,KAAKjF,GAAGtB,KAAK85D,SAAQ,IAAKx4D,EAAEU,UAAUuE,KAAK,SAASjF,GAAGtB,KAAKiuB,MAAM3sB,EAAE2sB,OAAO,GAAGjuB,KAAKkuB,MAAM5sB,EAAE4sB,OAAO,GAAGluB,KAAKkgC,OAAO5+B,EAAE4+B,QAAQ,IAAI5+B,EAAEU,UAAU83D,QAAQ,aAAax4D,EAAEU,UAAU8yG,kBAAkB,aAAaxzG,EAAEU,UAAUwsB,cAAc,WAAW,MAAM,IAAIltB,EAAEU,UAAU0sB,UAAU,SAASptB,GAAGA,GAAGR,OAAO0S,OAAOxT,KAAKsB,IAAIA,EAAEU,UAAUqK,QAAQ,WAAW,MAAM,QAAQ/K,EAAEU,UAAUqgC,QAAQ,WAAWriC,KAAKiuB,MAAM,KAAKjuB,KAAKkuB,MAAM,KAAKluB,KAAKkgC,OAAO,KAAKlgC,KAAK60G,UAAU,KAAK70G,KAAK4gC,WAAU,GAAIt/B,EAAjpB,GAAspB1B,EAAQ60G,KAAKA,G,qjFCG9vBj3C,EACJ,2CACIC,EAAe,IAAItgC,OACvB,WAAWqgC,EAAM,wCAAwCA,EAAM,QAAQA,EAAM,QAC7E,MAEIE,EAAc,IAAIvgC,OAAO,qCAAqCqgC,EAAM,QAAQA,EAAM,KAAM,MAExFG,EAAkB,SAAUC,GAChC,IAAKA,EACH,OAAO,KAGT,GAAIt6D,kBAAQs6D,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBp5D,EAAG,EACHhE,EAAG,EACHI,EAAG,EACH2W,EAAG,EACHnX,EAAG,EACHG,EAAG,EACHU,EAAG,EACH6yB,EAAG,EACH5xB,EAAG,EACHb,EAAG,EACHoE,EAAG,EACH+R,EAAG,EACHyiB,EAAG,GAECr1B,EAAO,GA6Bb,OA3BAwO,OAAOuqD,GAAYr1D,QAAQk1D,GAAc,SAACh5D,EAAGmC,EAAGnG,GAC9C,IAAMq9D,EAAS,GACXn9D,EAAOiG,EAAE8E,cAYb,GAXAjL,EAAE8H,QAAQm1D,GAAa,SAACj5D,EAAGmC,GACzBA,GAAKk3D,EAAOh7D,MAAM8D,MAEP,MAATjG,GAAgBm9D,EAAOx7D,OAAS,IAClCuC,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAO84D,EAAO93D,OAAO,EAAG,KACtCrF,EAAO,IACPiG,EAAU,MAANA,EAAY,IAAM,KAEX,MAATjG,GAAkC,IAAlBm9D,EAAOx7D,QACzBuC,EAAK/B,KAAK,CAAC8D,EAAGk3D,EAAO,KAEV,MAATn9D,EACFkE,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAO84D,SAErB,KAAOA,EAAOx7D,QAAUu7D,EAAYl9D,KAClCkE,EAAK/B,KAAK,CAAC8D,GAAG5B,OAAO84D,EAAO93D,OAAO,EAAG63D,EAAYl9D,MAC7Ck9D,EAAYl9D,MAKrB,OAAOi9D,KAGF/4D,GAIHkwG,EAAqB,SAAU74C,EAAKhiC,GAGxC,IAFA,IAAMx5B,EAAI,GAEDN,EAAI,EAAG40G,EAAO94C,EAAI55D,OAAQ0yG,EAAO,GAAK96E,EAAI95B,EAAGA,GAAK,EAAG,CAC5D,IAAM8B,EAAI,CACR,CACE+f,GAAIi6C,EAAI97D,EAAI,GACZwU,GAAIsnD,EAAI97D,EAAI,IAEd,CACE6hB,GAAIi6C,EAAI97D,GACRwU,GAAIsnD,EAAI97D,EAAI,IAEd,CACE6hB,GAAIi6C,EAAI97D,EAAI,GACZwU,GAAIsnD,EAAI97D,EAAI,IAEd,CACE6hB,GAAIi6C,EAAI97D,EAAI,GACZwU,GAAIsnD,EAAI97D,EAAI,KAGZ85B,EACG95B,EAKM40G,EAAO,IAAM50G,EACtB8B,EAAE,GAAK,CACL+f,GAAIi6C,EAAI,GACRtnD,GAAIsnD,EAAI,IAED84C,EAAO,IAAM50G,IACtB8B,EAAE,GAAK,CACL+f,GAAIi6C,EAAI,GACRtnD,GAAIsnD,EAAI,IAEVh6D,EAAE,GAAK,CACL+f,GAAIi6C,EAAI,GACRtnD,GAAIsnD,EAAI,KAhBVh6D,EAAE,GAAK,CACL+f,GAAIi6C,EAAI84C,EAAO,GACfpgG,GAAIsnD,EAAI84C,EAAO,IAkBfA,EAAO,IAAM50G,EACf8B,EAAE,GAAKA,EAAE,GACC9B,IACV8B,EAAE,GAAK,CACL+f,GAAIi6C,EAAI97D,GACRwU,GAAIsnD,EAAI97D,EAAI,KAIlBM,EAAEoC,KAAK,CACL,MACEZ,EAAE,GAAG+f,EAAI,EAAI/f,EAAE,GAAG+f,EAAI/f,EAAE,GAAG+f,GAAK,IAChC/f,EAAE,GAAG0S,EAAI,EAAI1S,EAAE,GAAG0S,EAAI1S,EAAE,GAAG0S,GAAK,GACjC1S,EAAE,GAAG+f,EAAI,EAAI/f,EAAE,GAAG+f,EAAI/f,EAAE,GAAG+f,GAAK,GAChC/f,EAAE,GAAG0S,EAAI,EAAI1S,EAAE,GAAG0S,EAAI1S,EAAE,GAAG0S,GAAK,EACjC1S,EAAE,GAAG+f,EACL/f,EAAE,GAAG0S,IAIT,OAAOlU,GAGHu0G,EAAc,SAAUhzF,EAAGrN,EAAGgd,EAAIC,EAAIptB,GAC1C,IAAI6zC,EAAM,GAQV,GAPU,OAAN7zC,GAAqB,OAAPotB,IAChBA,EAAKD,GAEP3P,GAAKA,EACLrN,GAAKA,EACLgd,GAAMA,EACNC,GAAMA,EACI,OAANptB,EAAY,CACd,IAAMk4B,EAAMt3B,KAAK6F,GAAK,IAChBuqB,EAAKxT,EAAI2P,EAAKvsB,KAAKwS,KAAKga,EAAK8K,GAC7BhH,EAAK1T,EAAI2P,EAAKvsB,KAAKwS,KAAKpT,EAAIk4B,GAGlC2b,EAAM,CACJ,CAAC,IAAK7iB,EAHG7gB,EAAIgd,EAAKvsB,KAAKyS,KAAK+Z,EAAK8K,IAIjC,CAAC,IAAK/K,EAAIA,EAAI,IAAKntB,EAAIotB,EAAK,KAAM,EAAG8D,EAH5B/gB,EAAIgd,EAAKvsB,KAAKyS,KAAKrT,EAAIk4B,UAMlC2b,EAAM,CAAC,CAAC,IAAKr2B,EAAGrN,GAAI,CAAC,IAAK,GAAIid,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAK,CAAC,MAE7G,OAAOymB,GAGH2lB,EAAiB,SAAUC,GAG/B,KAFAA,EAAYP,EAAgBO,MAETA,EAAU57D,OAC3B,MAAO,CAAC,CAAC,IAAK,EAAG,IAEnB,IAMI4yG,EACAC,EAPA78D,EAAM,GACNr2B,EAAI,EACJrN,EAAI,EACJypD,EAAK,EACLC,EAAK,EACLpE,EAAQ,EAGY,MAApBgE,EAAU,GAAG,KAGfG,EAFAp8C,GAAKi8C,EAAU,GAAG,GAGlBI,EAFA1pD,GAAKspD,EAAU,GAAG,GAGlBhE,IACA5hB,EAAI,GAAK,CAAC,IAAKr2B,EAAGrN,IAOpB,IALA,IAAMwgG,EACiB,IAArBl3C,EAAU57D,QACU,MAApB47D,EAAU,GAAG,IACqB,MAAlCA,EAAU,GAAG,GAAG/xD,eACkB,MAAlC+xD,EAAU,GAAG,GAAG/xD,cACTjL,OAAC,EAAE48B,OAAE,EAAE19B,EAAI85D,EAAOrgD,EAAKqkD,EAAU57D,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CAI7D,GAHAk4C,EAAIx1C,KAAM5B,EAAI,KAEdg0G,GADAp3E,EAAKogC,EAAU99D,IACN,MACG80G,EAAI/oG,cAEd,OADAjL,EAAE,GAAKg0G,EAAI/oG,cACHjL,EAAE,IACR,IAAK,IACHA,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,GAAK48B,EAAG,GACV58B,EAAE,IAAM48B,EAAG,GAAK7b,EAChB/gB,EAAE,IAAM48B,EAAG,GAAKlpB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM48B,EAAG,GAAKlpB,EAChB,MACF,IAAK,IACH1T,EAAE,IAAM48B,EAAG,GAAK7b,EAChB,MACF,IAAK,IAEH,IAAK,IAAIta,EAAI,EAAG82D,GADhB02C,EAAO,CAAClzF,EAAGrN,GAAG5P,OAAO84B,EAAG9xB,MAAM,KACJ1J,OAAQqF,EAAI82D,EAAI92D,IACxCwtG,EAAKxtG,IAAMwtG,EAAKxtG,GAAKsa,EACrBkzF,IAAOxtG,IAAMwtG,EAAKxtG,GAAKiN,EAEzB0jC,EAAIhjC,MACJgjC,EAAMA,EAAItzC,OAAO+vG,EAAmBI,EAAMC,IAC1C,MACF,IAAK,IACH98D,EAAIhjC,OACJ6/F,EAAOF,EAAYhzF,EAAGrN,EAAGkpB,EAAG,GAAIA,EAAG,KAC9Bh7B,KAAKqyG,EAAK,IACf78D,EAAMA,EAAItzC,OAAOmwG,GACjB,MACF,IAAK,IACH78D,EAAIhjC,MACJgjC,EAAMA,EAAItzC,OAAOiwG,EAAYhzF,EAAGrN,EAAGkpB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpD58B,EAAI,CAAC,KAAK8D,OAAOszC,EAAIA,EAAIh2C,OAAS,GAAG0J,OAAO,IAC5C,MACF,IAAK,IACHqyD,GAAMvgC,EAAG,GAAK7b,EACdq8C,GAAMxgC,EAAG,GAAKlpB,EACd,MACF,QACE,IAASjN,EAAI,EAAG82D,EAAK3gC,EAAGx7B,OAAQqF,EAAI82D,EAAI92D,IACtCzG,EAAEyG,IAAMm2B,EAAGn2B,IAAMA,EAAI,EAAIsa,EAAIrN,QAG9B,GAAY,MAARsgG,EACTC,EAAO,CAAClzF,EAAGrN,GAAG5P,OAAO84B,EAAG9xB,MAAM,IAC9BssC,EAAIhjC,MACJgjC,EAAMA,EAAItzC,OAAO+vG,EAAmBI,EAAMC,IAC1Cl0G,EAAI,CAAC,KAAK8D,OAAO84B,EAAG9xB,OAAO,SACtB,GAAY,MAARkpG,EACT58D,EAAIhjC,OACJ6/F,EAAOF,EAAYhzF,EAAGrN,EAAGkpB,EAAG,GAAIA,EAAG,KAC9Bh7B,KAAKqyG,EAAK,IACf78D,EAAMA,EAAItzC,OAAOmwG,QACZ,GAAY,MAARD,EACT58D,EAAIhjC,MACJgjC,EAAMA,EAAItzC,OAAOiwG,EAAYhzF,EAAGrN,EAAGkpB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpD58B,EAAI,CAAC,KAAK8D,OAAOszC,EAAIA,EAAIh2C,OAAS,GAAG0J,OAAO,SAE5C,IAAK,IAAIrI,EAAI,EAAG0xG,EAAKv3E,EAAGx7B,OAAQqB,EAAI0xG,EAAI1xG,IACtCzC,EAAEyC,GAAKm6B,EAAGn6B,GAId,GAAY,OADZuxG,EAAMA,EAAI/oG,eAER,OAAQjL,EAAE,IACR,IAAK,IACH+gB,GAAKo8C,EACLzpD,GAAK0pD,EACL,MACF,IAAK,IACHr8C,EAAI/gB,EAAE,GACN,MACF,IAAK,IACH0T,EAAI1T,EAAE,GACN,MACF,IAAK,IACHm9D,EAAKn9D,EAAEA,EAAEoB,OAAS,GAClBg8D,EAAKp9D,EAAEA,EAAEoB,OAAS,GAClB,MACF,QACE2f,EAAI/gB,EAAEA,EAAEoB,OAAS,GACjBsS,EAAI1T,EAAEA,EAAEoB,OAAS,IAKzB,OAAOg2C,GAGHg9D,EAAM,SAAU7/E,EAAIC,EAAIC,EAAIC,GAChC,MAAO,CAACH,EAAIC,EAAIC,EAAIC,EAAID,EAAIC,IAGxB2/E,EAAM,SAAU9/E,EAAIC,EAAI+5E,EAAIC,EAAI/5E,EAAIC,GAGxC,MAAO,CAFK,EAAI,EAEFH,EADF,EAAI,EACSg6E,EAFb,EAAI,EAEmB/5E,EADvB,EAAI,EAC8Bg6E,EAFlC,EAAI,EAEwC/5E,EAD5C,EAAI,EACmD85E,EAFvD,EAAI,EAE6D75E,EADjE,EAAI,EACwE85E,EAAI/5E,EAAIC,IAG5F4/E,EAAM,SAANA,EAAgB//E,EAAIC,EAAI9D,EAAIC,EAAIL,EAAOikF,EAAgBC,EAAY//E,EAAIC,EAAI+/E,GAG3E/jF,IAAOC,IACTD,GAAM,GAGR,IAGIgkF,EACAC,EACAC,EACA7kF,EACAC,EAPE6kF,EAAkB,IAAV1wG,KAAK6F,GAAY,IACzByxB,EAAOt3B,KAAK6F,GAAK,MAASsmB,GAAS,GACrC8mB,EAAM,GAMJn2B,EAAS,SAAUF,EAAGrN,EAAG+nB,GAG7B,MAAO,CACL1a,EAHQA,EAAI5c,KAAKwS,IAAI8kB,GAAO/nB,EAAIvP,KAAKyS,IAAI6kB,GAIzC/nB,EAHQqN,EAAI5c,KAAKyS,IAAI6kB,GAAO/nB,EAAIvP,KAAKwS,IAAI8kB,KAM7C,GAAKg5E,EA6CHE,EAAKF,EAAU,GACfG,EAAKH,EAAU,GACf1kF,EAAK0kF,EAAU,GACfzkF,EAAKykF,EAAU,OAhDD,CAEdlgF,GADAmgF,EAAKzzF,EAAOsT,EAAIC,GAAKiH,IACb1a,EACRyT,EAAKkgF,EAAGhhG,EAER+gB,GADAigF,EAAKzzF,EAAOwT,EAAIC,GAAK+G,IACb1a,EACR2T,EAAKggF,EAAGhhG,EACJ6gB,IAAOE,GAAMD,IAAOE,IAEtBD,GAAM,EACNC,GAAM,GAIR,IAAM3T,GAAKwT,EAAKE,GAAM,EAChB/gB,GAAK8gB,EAAKE,GAAM,EAClBpe,EAAKyK,EAAIA,GAAM2P,EAAKA,GAAOhd,EAAIA,GAAMid,EAAKA,GAC1Cra,EAAI,IAENoa,GADApa,EAAInS,KAAKuS,KAAKJ,GAEdqa,GAAKra,GAEP,IAAMw+F,EAAMpkF,EAAKA,EACXqkF,EAAMpkF,EAAKA,EACXluB,GACH8xG,IAAmBC,GAAc,EAAI,GACtCrwG,KAAKuS,KAAKvS,KAAKqF,KAAKsrG,EAAMC,EAAMD,EAAMphG,EAAIA,EAAIqhG,EAAMh0F,EAAIA,IAAM+zF,EAAMphG,EAAIA,EAAIqhG,EAAMh0F,EAAIA,KACxFgP,EAAMttB,EAAIiuB,EAAKhd,EAAKid,GAAM4D,EAAKE,GAAM,EACrCzE,EAAMvtB,GAAKkuB,EAAK5P,EAAK2P,GAAM8D,EAAKE,GAAM,EAEtCigF,EAAKxwG,KAAK6wG,OAAOxgF,EAAKxE,GAAMW,GAAI5nB,QAAQ,IAExC6rG,EAAKzwG,KAAK6wG,OAAOtgF,EAAK1E,GAAMW,GAAI5nB,QAAQ,IAExC4rG,EAAKpgF,EAAKxE,EAAK5rB,KAAK6F,GAAK2qG,EAAKA,EAC9BC,EAAKngF,EAAK1E,EAAK5rB,KAAK6F,GAAK4qG,EAAKA,EAC9BD,EAAK,IAAMA,EAAe,EAAVxwG,KAAK6F,GAAS2qG,GAC9BC,EAAK,IAAMA,EAAe,EAAVzwG,KAAK6F,GAAS4qG,GAC1BJ,GAAcG,EAAKC,IACrBD,GAAoB,EAAVxwG,KAAK6F,KAEZwqG,GAAcI,EAAKD,IACtBC,GAAoB,EAAVzwG,KAAK6F,IAQnB,IAAIirG,EAAKL,EAAKD,EACd,GAAIxwG,KAAKqF,IAAIyrG,GAAMJ,EAAM,CACvB,IAAMK,EAAQN,EACRO,EAAQ1gF,EACR2gF,EAAQ1gF,EACdkgF,EAAKD,EAAKE,GAAQL,GAAcI,EAAKD,EAAK,GAAK,GAG/Cv9D,EAAMk9D,EAFN7/E,EAAK1E,EAAKW,EAAKvsB,KAAKwS,IAAIi+F,GACxBlgF,EAAK1E,EAAKW,EAAKxsB,KAAKyS,IAAIg+F,GACNlkF,EAAIC,EAAIL,EAAO,EAAGkkF,EAAYW,EAAOC,EAAO,CAACR,EAAIM,EAAOnlF,EAAIC,IAEhFilF,EAAKL,EAAKD,EACV,IAAMU,EAAKlxG,KAAKwS,IAAIg+F,GACdW,EAAKnxG,KAAKyS,IAAI+9F,GACdY,EAAKpxG,KAAKwS,IAAIi+F,GACdY,EAAKrxG,KAAKyS,IAAIg+F,GACdx0G,EAAI+D,KAAKmmB,IAAI2qF,EAAK,GAClBQ,EAAM,EAAI,EAAK/kF,EAAKtwB,EACpBs1G,EAAM,EAAI,EAAK/kF,EAAKvwB,EACpBu1G,EAAK,CAACphF,EAAIC,GACVohF,EAAK,CAACrhF,EAAKkhF,EAAKH,EAAI9gF,EAAKkhF,EAAKL,GAC9BQ,EAAK,CAACphF,EAAKghF,EAAKD,EAAI9gF,EAAKghF,EAAKH,GAC9BO,EAAK,CAACrhF,EAAIC,GAGhB,GAFAkhF,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACvBA,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACnBnB,EACF,MAAO,CAACmB,EAAIC,EAAIC,GAAIhyG,OAAOszC,GAI7B,IADA,IAAM2+D,EAAS,GACN72G,EAAI,EAAGyZ,GAFhBy+B,EAAM,CAACw+D,EAAIC,EAAIC,GAAIhyG,OAAOszC,GAAKjmC,OAAO7J,MAAM,MAEnBlG,OAAQlC,EAAIyZ,EAAIzZ,IACvC62G,EAAO72G,GAAKA,EAAI,EAAI+hB,EAAOm2B,EAAIl4C,EAAI,GAAIk4C,EAAIl4C,GAAIu8B,GAAK/nB,EAAIuN,EAAOm2B,EAAIl4C,GAAIk4C,EAAIl4C,EAAI,GAAIu8B,GAAK1a,EAE1F,OAAOg1F,GAGHC,EAAc,SAAUtmG,EAAMumG,GAClC,IA0BIt9F,EA1BE3X,EAAI+7D,EAAertD,GACnBuf,EAAKgnF,GAASl5C,EAAek5C,GAC7BnzG,EAAQ,CACZie,EAAG,EACHrN,EAAG,EACHwiG,GAAI,EACJC,GAAI,EACJr9E,EAAG,EACHC,EAAG,EACHq9E,GAAI,KACJC,GAAI,MAEA5gB,EAAS,CACb10E,EAAG,EACHrN,EAAG,EACHwiG,GAAI,EACJC,GAAI,EACJr9E,EAAG,EACHC,EAAG,EACHq9E,GAAI,KACJC,GAAI,MAEAC,EAAS,GACTC,EAAS,GACXC,EAAS,GACTC,EAAO,GAELC,EAAc,SAAUhnG,EAAMlQ,EAAGi3G,GACrC,IAAIE,EACAC,EACJ,IAAKlnG,EACH,MAAO,CAAC,IAAKlQ,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGvhB,EAAEkU,GAS1C,SANEhE,EAAK,IACL,CACE+oB,EAAG,EACHH,EAAG,MAED94B,EAAE42G,GAAK52G,EAAE62G,GAAK,MACZ3mG,EAAK,IACX,IAAK,IACHlQ,EAAEs5B,EAAIppB,EAAK,GACXlQ,EAAEu5B,EAAIrpB,EAAK,GACX,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAOwwG,EAAI/tG,MAAM,EAAG,CAAC/G,EAAEuhB,EAAGvhB,EAAEkU,GAAG5P,OAAO4L,EAAK5E,MAAM,MAC9D,MACF,IAAK,IACU,MAAT2rG,GAAyB,MAATA,GAElBE,EAAW,EAANn3G,EAAEuhB,EAAQvhB,EAAE02G,GACjBU,EAAW,EAANp3G,EAAEkU,EAAQlU,EAAE22G,KAGjBQ,EAAKn3G,EAAEuhB,EACP61F,EAAKp3G,EAAEkU,GAEThE,EAAO,CAAC,IAAKinG,EAAIC,GAAI9yG,OAAO4L,EAAK5E,MAAM,IACvC,MACF,IAAK,IACU,MAAT2rG,GAAyB,MAATA,GAElBj3G,EAAE42G,GAAW,EAAN52G,EAAEuhB,EAAQvhB,EAAE42G,GACnB52G,EAAE62G,GAAW,EAAN72G,EAAEkU,EAAQlU,EAAE62G,KAGnB72G,EAAE42G,GAAK52G,EAAEuhB,EACTvhB,EAAE62G,GAAK72G,EAAEkU,GAEXhE,EAAO,CAAC,KAAK5L,OAAOuwG,EAAI70G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAE42G,GAAI52G,EAAE62G,GAAI3mG,EAAK,GAAIA,EAAK,KAC5D,MACF,IAAK,IACHlQ,EAAE42G,GAAK1mG,EAAK,GACZlQ,EAAE62G,GAAK3mG,EAAK,GACZA,EAAO,CAAC,KAAK5L,OAAOuwG,EAAI70G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAClE,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAOswG,EAAI50G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIA,EAAK,KAChD,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAOswG,EAAI50G,EAAEuhB,EAAGvhB,EAAEkU,EAAGhE,EAAK,GAAIlQ,EAAEkU,IAC7C,MACF,IAAK,IACHhE,EAAO,CAAC,KAAK5L,OAAOswG,EAAI50G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEuhB,EAAGrR,EAAK,KAC5C,MACF,IAAK,IACHA,EAAO,CAAC,KAAK5L,OAAOswG,EAAI50G,EAAEuhB,EAAGvhB,EAAEkU,EAAGlU,EAAEs5B,EAAGt5B,EAAEu5B,IAK7C,OAAOrpB,GAEHmnG,EAAS,SAAUC,EAAI53G,GAC3B,GAAI43G,EAAG53G,GAAGkC,OAAS,EAAG,CACpB01G,EAAG53G,GAAGk9D,QAEN,IADA,IAAM26C,EAAKD,EAAG53G,GACP63G,EAAG31G,QACRk1G,EAAOp3G,GAAK,IACZ+vB,IAAOsnF,EAAOr3G,GAAK,KACnB43G,EAAGhyG,OAAO5F,IAAK,EAAG,CAAC,KAAK4E,OAAOizG,EAAGjyG,OAAO,EAAG,KAE9CgyG,EAAGhyG,OAAO5F,EAAG,GACbyZ,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS6tB,GAAMA,EAAG7tB,QAAW,KAG3C41G,EAAO,SAAUC,EAAOhB,EAAOhwB,EAAIinB,EAAIhuG,GACvC+3G,GAAShB,GAAyB,MAAhBgB,EAAM/3G,GAAG,IAA8B,MAAhB+2G,EAAM/2G,GAAG,KACpD+2G,EAAMnxG,OAAO5F,EAAG,EAAG,CAAC,IAAKguG,EAAGnsF,EAAGmsF,EAAGx5F,IAClCuyE,EAAGiwB,GAAK,EACRjwB,EAAGkwB,GAAK,EACRlwB,EAAGllE,EAAIk2F,EAAM/3G,GAAG,GAChB+mF,EAAGvyE,EAAIujG,EAAM/3G,GAAG,GAChByZ,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS6tB,GAAMA,EAAG7tB,QAAW,KAGjDuX,EAAKxU,KAAKC,IAAIpD,EAAEI,OAAS6tB,GAAMA,EAAG7tB,QAAW,GAC7C,IAAK,IAAIlC,EAAI,EAAGA,EAAIyZ,EAAIzZ,IAAK,CAC3B8B,EAAE9B,KAAOs3G,EAASx1G,EAAE9B,GAAG,IAER,MAAXs3G,IAEFF,EAAOp3G,GAAKs3G,EACZt3G,IAAMu3G,EAAOH,EAAOp3G,EAAI,KAE1B8B,EAAE9B,GAAKw3G,EAAY11G,EAAE9B,GAAI4D,EAAO2zG,GAEd,MAAdH,EAAOp3G,IAAyB,MAAXs3G,IAAgBF,EAAOp3G,GAAK,KAIrD23G,EAAO71G,EAAG9B,GAEN+vB,IAEFA,EAAG/vB,KAAOs3G,EAASvnF,EAAG/vB,GAAG,IACV,MAAXs3G,IACFD,EAAOr3G,GAAKs3G,EACZt3G,IAAMu3G,EAAOF,EAAOr3G,EAAI,KAE1B+vB,EAAG/vB,GAAKw3G,EAAYznF,EAAG/vB,GAAIu2F,EAAQghB,GAEjB,MAAdF,EAAOr3G,IAAyB,MAAXs3G,IACvBD,EAAOr3G,GAAK,KAGd23G,EAAO5nF,EAAI/vB,IAEb83G,EAAKh2G,EAAGiuB,EAAInsB,EAAO2yF,EAAQv2F,GAC3B83G,EAAK/nF,EAAIjuB,EAAGy0F,EAAQ3yF,EAAO5D,GAC3B,IAAMw4C,EAAM12C,EAAE9B,GACRg4G,EAAOjoF,GAAMA,EAAG/vB,GAChBi4G,EAASz/D,EAAIt2C,OACbg2G,EAAUnoF,GAAMioF,EAAK91G,OAC3B0B,EAAMie,EAAI22B,EAAIy/D,EAAS,GACvBr0G,EAAM4Q,EAAIgkC,EAAIy/D,EAAS,GACvBr0G,EAAMozG,GAAKptG,WAAW4uC,EAAIy/D,EAAS,KAAOr0G,EAAMie,EAChDje,EAAMqzG,GAAKrtG,WAAW4uC,EAAIy/D,EAAS,KAAOr0G,EAAM4Q,EAChD+hF,EAAOygB,GAAKjnF,IAAOnmB,WAAWouG,EAAKE,EAAU,KAAO3hB,EAAO10E,GAC3D00E,EAAO0gB,GAAKlnF,IAAOnmB,WAAWouG,EAAKE,EAAU,KAAO3hB,EAAO/hF,GAC3D+hF,EAAO10E,EAAIkO,GAAMioF,EAAKE,EAAU,GAChC3hB,EAAO/hF,EAAIub,GAAMioF,EAAKE,EAAU,GAGlC,OAAOnoF,EAAK,CAACjuB,EAAGiuB,GAAMjuB,GAGlBq2G,EAAM,gBACNC,EAAiB,SAAU5nG,GAC/B,OAAOA,EAAKyB,KAAK,KAAK9J,QAAQgwG,EAAK,OAG/BE,EAAQ,SAAUn3G,EAAG4uB,EAAIC,EAAIC,EAAIsoF,GAGrC,OAAOp3G,GADIA,IADC,EAAI4uB,EAAK,EAAIC,EAAK,EAAIC,EAAK,EAAIsoF,GACvB,EAAIxoF,EAAK,GAAKC,EAAK,EAAIC,GAC3B,EAAIF,EAAK,EAAIC,GAGzBwoF,EAAS,SAAUljF,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,EAAI7+E,GAC7C,OAANA,IACFA,EAAI,GAUN,IAPA,IAAMmyE,GADNnyE,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GACb,EAET8+E,EAAU,EACb,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAE1FC,EAAU,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OACrG97C,EAAM,EACD/8D,EAAI,EAAGA,EANN,GAMaA,IAAK,CAC1B,IAAMopF,EAAK6iB,EAAK2M,EAAQ54G,GAAKisG,EACvB6M,EAAQT,EAAMjvB,EAAI/zD,EAAIE,EAAIijF,EAAIE,GAC9BK,EAAQV,EAAMjvB,EAAI9zD,EAAIE,EAAIijF,EAAIE,GAC9BK,EAAOF,EAAQA,EAAQC,EAAQA,EACrCh8C,GAAO87C,EAAQ74G,GAAKiF,KAAKuS,KAAKwhG,GAEhC,OAAO/M,EAAKlvC,GAGRk8C,EAAW,SAAUpgE,EAAIC,EAAIzjB,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,GAQrD,IAPA,IAEIp0G,EACAmC,EACAnG,EACAa,EALEg4G,EAAU,GACVnY,EAAS,CAAC,GAAI,IAMX/gG,EAAI,EAAGA,EAAI,IAAKA,EAUvB,GATU,IAANA,GACFwG,EAAI,EAAIqyC,EAAK,GAAKxjB,EAAK,EAAIE,EAC3BlxB,GAAK,EAAIw0C,EAAK,EAAIxjB,EAAK,EAAIE,EAAK,EAAIijF,EACpCn4G,EAAI,EAAIg1B,EAAK,EAAIwjB,IAEjBryC,EAAI,EAAIsyC,EAAK,GAAKxjB,EAAK,EAAIE,EAC3BnxB,GAAK,EAAIy0C,EAAK,EAAIxjB,EAAK,EAAIE,EAAK,EAAIijF,EACpCp4G,EAAI,EAAIi1B,EAAK,EAAIwjB,GAEf7zC,KAAKqF,IAAIjG,GAAK,MAAlB,CACE,GAAIY,KAAKqF,IAAI9D,GAAK,MAChB,UAEFtF,GAAKb,EAAImG,GACD,GAAKtF,EAAI,GACfg4G,EAAQx2G,KAAKxB,OANjB,CAUA,IAAMi4G,EAAO3yG,EAAIA,EAAI,EAAInG,EAAIgE,EACvB+0G,EAAWn0G,KAAKuS,KAAK2hG,GAC3B,KAAIA,EAAO,GAAX,CAGA,IAAME,IAAO7yG,EAAI4yG,IAAa,EAAI/0G,GAC9Bg1G,EAAK,GAAKA,EAAK,GACjBH,EAAQx2G,KAAK22G,GAEf,IAAMC,IAAO9yG,EAAI4yG,IAAa,EAAI/0G,GAC9Bi1G,EAAK,GAAKA,EAAK,GACjBJ,EAAQx2G,KAAK42G,IAOjB,IAHA,IAEIrvB,EAFA1iF,EAAI2xG,EAAQh3G,OACVq3G,EAAOhyG,EAENA,KAEL0iF,EAAK,GADL/oF,EAAIg4G,EAAQ3xG,IAEZw5F,EAAO,GAAGx5F,GAAK0iF,EAAKA,EAAKA,EAAKpxC,EAAK,EAAIoxC,EAAKA,EAAK/oF,EAAIm0B,EAAK,EAAI40D,EAAK/oF,EAAIA,EAAIq0B,EAAKr0B,EAAIA,EAAIA,EAAIs3G,EAC5FzX,EAAO,GAAGx5F,GAAK0iF,EAAKA,EAAKA,EAAKnxC,EAAK,EAAImxC,EAAKA,EAAK/oF,EAAIo0B,EAAK,EAAI20D,EAAK/oF,EAAIA,EAAIs0B,EAAKt0B,EAAIA,EAAIA,EAAIu3G,EAS9F,OANA1X,EAAO,GAAGwY,GAAQ1gE,EAClBkoD,EAAO,GAAGwY,GAAQzgE,EAClBioD,EAAO,GAAGwY,EAAO,GAAKf,EACtBzX,EAAO,GAAGwY,EAAO,GAAKd,EACtB1X,EAAO,GAAG7+F,OAAS6+F,EAAO,GAAG7+F,OAASq3G,EAAO,EAEtC,CACLp0G,IAAK,CACH0c,EAAG5c,KAAKE,IAAIkC,MAAM,EAAG05F,EAAO,IAC5BvsF,EAAGvP,KAAKE,IAAIkC,MAAM,EAAG05F,EAAO,KAE9B77F,IAAK,CACH2c,EAAG5c,KAAKC,IAAImC,MAAM,EAAG05F,EAAO,IAC5BvsF,EAAGvP,KAAKC,IAAImC,MAAM,EAAG05F,EAAO,OAK5BtkB,EAAY,SAAUpnD,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,GACtD,KACE1zG,KAAKC,IAAImwB,EAAIE,GAAMtwB,KAAKE,IAAIqzG,EAAIE,IAChCzzG,KAAKE,IAAIkwB,EAAIE,GAAMtwB,KAAKC,IAAIszG,EAAIE,IAChCzzG,KAAKC,IAAIowB,EAAIE,GAAMvwB,KAAKE,IAAIszG,EAAIE,IAChC1zG,KAAKE,IAAImwB,EAAIE,GAAMvwB,KAAKC,IAAIuzG,EAAIE,IAJlC,CAQA,IAEM1mF,GAAeoD,EAAKE,IAAOkjF,EAAKE,IAAOrjF,EAAKE,IAAOgjF,EAAKE,GAE9D,GAAKzmF,EAAL,CAGA,IAAMqF,IAPMjC,EAAKG,EAAKF,EAAKC,IAAOijF,EAAKE,IAAOrjF,EAAKE,IAAOijF,EAAKG,EAAKF,EAAKC,IAOzDzmF,EACVsF,IAPMlC,EAAKG,EAAKF,EAAKC,IAAOkjF,EAAKE,IAAOrjF,EAAKE,IAAOgjF,EAAKG,EAAKF,EAAKC,IAOzDzmF,EACVunF,GAAOliF,EAAGztB,QAAQ,GAClB4vG,GAAOliF,EAAG1tB,QAAQ,GACxB,KACE2vG,GAAOv0G,KAAKE,IAAIkwB,EAAIE,GAAI1rB,QAAQ,IAChC2vG,GAAOv0G,KAAKC,IAAImwB,EAAIE,GAAI1rB,QAAQ,IAChC2vG,GAAOv0G,KAAKE,IAAIqzG,EAAIE,GAAI7uG,QAAQ,IAChC2vG,GAAOv0G,KAAKC,IAAIszG,EAAIE,GAAI7uG,QAAQ,IAChC4vG,GAAOx0G,KAAKE,IAAImwB,EAAIE,GAAI3rB,QAAQ,IAChC4vG,GAAOx0G,KAAKC,IAAIowB,EAAIE,GAAI3rB,QAAQ,IAChC4vG,GAAOx0G,KAAKE,IAAIszG,EAAIE,GAAI9uG,QAAQ,IAChC4vG,GAAOx0G,KAAKC,IAAIuzG,EAAIE,GAAI9uG,QAAQ,IAIlC,MAAO,CACLgY,EAAGyV,EACH9iB,EAAG+iB,MAIDmiF,EAAoB,SAAUzmF,EAAMpR,EAAGrN,GAC3C,OAAOqN,GAAKoR,EAAKpR,GAAKA,GAAKoR,EAAKpR,EAAIoR,EAAK9gB,OAASqC,GAAKye,EAAKze,GAAKA,GAAKye,EAAKze,EAAIye,EAAKvS,QAGhFi5F,EAAW,SAAU93F,EAAGrN,EAAGklB,EAAGtiB,EAAGtW,GACrC,GAAIA,EACF,MAAO,CACL,CAAC,KAAM+gB,IAAK/gB,EAAG0T,GACf,CAAC,IAAKklB,EAAQ,EAAJ54B,EAAO,GACjB,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GACxB,CAAC,IAAK,EAAGsW,EAAQ,EAAJtW,GACb,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GACzB,CAAC,IAAS,EAAJA,EAAQ44B,EAAG,GACjB,CAAC,IAAK54B,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAC1B,CAAC,IAAK,EAAO,EAAJA,EAAQsW,GACjB,CAAC,IAAKtW,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GACzB,CAAC,MAGL,IAAMo3C,EAAM,CAAC,CAAC,IAAKr2B,EAAGrN,GAAI,CAAC,IAAKklB,EAAG,GAAI,CAAC,IAAK,EAAGtiB,GAAI,CAAC,KAAMsiB,EAAG,GAAI,CAAC,MAGnE,OADAwe,EAAIkgE,eAAiBA,EACdlgE,GAGH0hE,EAAM,SAAU/3F,EAAIrN,EAAIrC,EAAQuO,GAUpC,OATU,OAANmB,IACFA,EAAIrN,EAAIrC,EAAQuO,EAAS,GAEjB,OAANlM,IACFA,EAAIqN,EAAErN,EACNrC,EAAQ0P,EAAE1P,MACVuO,EAASmB,EAAEnB,OACXmB,EAAIA,EAAEA,GAED,CACLA,EAAC,EACDrN,EAAC,EACDrC,MAAK,EACLunB,EAAGvnB,EACHuO,OAAM,EACNtJ,EAAGsJ,EACH6U,GAAI1T,EAAI1P,EACRqjB,GAAIhhB,EAAIkM,EACRmQ,GAAIhP,EAAI1P,EAAQ,EAChB2e,GAAItc,EAAIkM,EAAS,EACjBvX,GAAIlE,KAAKE,IAAIgN,EAAOuO,GAAU,EAC9BtX,GAAInE,KAAKC,IAAIiN,EAAOuO,GAAU,EAC9Bm5F,GAAI50G,KAAKuS,KAAKrF,EAAQA,EAAQuO,EAASA,GAAU,EACjDlQ,KAAMmpG,EAAS93F,EAAGrN,EAAGrC,EAAOuO,GAC5Bo5F,GAAI,CAACj4F,EAAGrN,EAAGrC,EAAOuO,GAAQzO,KAAK,OAqB7B8nG,EAAa,SAAUC,EAAKC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,GAC/Dr3G,kBAAQ82G,KACXA,EAAM,CAACA,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,IAE5C,IAAMtnF,EAAOgmF,EAAS5xG,MAAM,KAAM2yG,GAClC,OAAOJ,EAAI3mF,EAAK9tB,IAAI0c,EAAGoR,EAAK9tB,IAAIqP,EAAGye,EAAK/tB,IAAI2c,EAAIoR,EAAK9tB,IAAI0c,EAAGoR,EAAK/tB,IAAIsP,EAAIye,EAAK9tB,IAAIqP,IAG9EgmG,EAAoB,SAAUR,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKr5G,GAC1E,IAAMm4G,EAAK,EAAIn4G,EACTu5G,EAAMx1G,KAAKkS,IAAIkiG,EAAI,GACnBqB,EAAMz1G,KAAKkS,IAAIkiG,EAAI,GACnBC,EAAKp4G,EAAIA,EACTy5G,EAAKrB,EAAKp4G,EAGV+8D,EAAK+7C,EAAM,EAAI94G,GAAKg5G,EAAMF,GAAOV,GAAMc,EAAM,EAAIF,EAAMF,GACvD97C,EAAK+7C,EAAM,EAAI/4G,GAAKi5G,EAAMF,GAAOX,GAAMe,EAAM,EAAIF,EAAMF,GACvDxC,EAAKyC,EAAM,EAAIh5G,GAAKk5G,EAAMF,GAAOZ,GAAMgB,EAAM,EAAIF,EAAMF,GACvDxC,EAAKyC,EAAM,EAAIj5G,GAAKm5G,EAAMF,GAAOb,GAAMiB,EAAM,EAAIF,EAAMF,GAO7D,MAAO,CACLt4F,EAbQ44F,EAAMT,EAAY,EAANU,EAAUx5G,EAAIg5G,EAAW,EAALb,EAASn4G,EAAIA,EAAIk5G,EAAMO,EAAKL,EAcpE9lG,EAbQimG,EAAMR,EAAY,EAANS,EAAUx5G,EAAIi5G,EAAW,EAALd,EAASn4G,EAAIA,EAAIm5G,EAAMM,EAAKJ,EAcpEn6G,EAAG,CACDyhB,EAAGo8C,EACHzpD,EAAG0pD,GAELz8D,EAAG,CACDogB,EAAG41F,EACHjjG,EAAGkjG,GAEL59C,MAAO,CACLj4C,EAlBOw3F,EAAKW,EAAM94G,EAAIg5G,EAmBtB1lG,EAlBO6kG,EAAKY,EAAM/4G,EAAIi5G,GAoBxBtxC,IAAK,CACHhnD,EApBOw3F,EAAKe,EAAMl5G,EAAIo5G,EAqBtB9lG,EApBO6kG,EAAKgB,EAAMn5G,EAAIq5G,GAsBxB3I,MArBY,GAAqC,IAA/B3sG,KAAKsS,MAAM0mD,EAAKw5C,EAAIv5C,EAAKw5C,GAAazyG,KAAK6F,KAyB3D8vG,EAAc,SAAUC,EAAMC,EAAMC,GAGxC,IArEsB,SAAUlmF,EAAOC,GAGvC,OAFAD,EAAQ+kF,EAAI/kF,GACZC,EAAQ8kF,EAAI9kF,GAEV4kF,EAAkB5kF,EAAOD,EAAMhT,EAAGgT,EAAMrgB,IACxCklG,EAAkB5kF,EAAOD,EAAMU,GAAIV,EAAMrgB,IACzCklG,EAAkB5kF,EAAOD,EAAMhT,EAAGgT,EAAMW,KACxCkkF,EAAkB5kF,EAAOD,EAAMU,GAAIV,EAAMW,KACzCkkF,EAAkB7kF,EAAOC,EAAMjT,EAAGiT,EAAMtgB,IACxCklG,EAAkB7kF,EAAOC,EAAMS,GAAIT,EAAMtgB,IACzCklG,EAAkB7kF,EAAOC,EAAMjT,EAAGiT,EAAMU,KACxCkkF,EAAkB7kF,EAAOC,EAAMS,GAAIT,EAAMU,MACtCX,EAAMhT,EAAIiT,EAAMS,IAAMV,EAAMhT,EAAIiT,EAAMjT,GAAOiT,EAAMjT,EAAIgT,EAAMU,IAAMT,EAAMjT,EAAIgT,EAAMhT,KAClFgT,EAAMrgB,EAAIsgB,EAAMU,IAAMX,EAAMrgB,EAAIsgB,EAAMtgB,GAAOsgB,EAAMtgB,EAAIqgB,EAAMW,IAAMV,EAAMtgB,EAAIqgB,EAAMrgB,GAwDpFwmG,CAFSjB,EAAWc,GACXd,EAAWe,IAEvB,OAAOC,EAAY,EAAI,GAUzB,IARA,IAEME,KAFK1C,EAAOlxG,MAAM,EAAGwzG,GAER,GACbK,KAFK3C,EAAOlxG,MAAM,EAAGyzG,GAER,GACbK,EAAQ,GACRC,EAAQ,GACR5F,EAAK,GACPt9D,EAAM6iE,EAAY,EAAI,GACjB/6G,EAAI,EAAGA,EAAIi7G,EAAK,EAAGj7G,IAAK,CAC/B,IAAMM,EAAIk6G,EAAkBnzG,MAAM,EAAGwzG,EAAKj2G,OAAO5E,EAAIi7G,IACrDE,EAAMz4G,KAAK,CACTmf,EAAGvhB,EAAEuhB,EACLrN,EAAGlU,EAAEkU,EACLtT,EAAGlB,EAAIi7G,IAGX,IAASj7G,EAAI,EAAGA,EAAIk7G,EAAK,EAAGl7G,IAAK,CACzBM,EAAIk6G,EAAkBnzG,MAAM,EAAGyzG,EAAKl2G,OAAO5E,EAAIk7G,IACrDE,EAAM14G,KAAK,CACTmf,EAAGvhB,EAAEuhB,EACLrN,EAAGlU,EAAEkU,EACLtT,EAAGlB,EAAIk7G,IAGX,IAASl7G,EAAI,EAAGA,EAAIi7G,EAAIj7G,IACtB,IAAK,IAAIuH,EAAI,EAAGA,EAAI2zG,EAAI3zG,IAAK,CAC3B,IAAM8zG,EAAKF,EAAMn7G,GACXs7G,EAAMH,EAAMn7G,EAAI,GAChBu7G,EAAKH,EAAM7zG,GACXi0G,EAAMJ,EAAM7zG,EAAI,GAChBk0G,EAAKx2G,KAAKqF,IAAIgxG,EAAIz5F,EAAIw5F,EAAGx5F,GAAK,KAAQ,IAAM,IAC5C65F,EAAKz2G,KAAKqF,IAAIkxG,EAAI35F,EAAI05F,EAAG15F,GAAK,KAAQ,IAAM,IAC5C85F,EAAKl/B,EAAU4+B,EAAGx5F,EAAGw5F,EAAG7mG,EAAG8mG,EAAIz5F,EAAGy5F,EAAI9mG,EAAG+mG,EAAG15F,EAAG05F,EAAG/mG,EAAGgnG,EAAI35F,EAAG25F,EAAIhnG,GACtE,GAAImnG,EAAI,CACN,GAAInG,EAAGmG,EAAG95F,EAAEhY,QAAQ,MAAQ8xG,EAAGnnG,EAAE3K,QAAQ,GACvC,SAEF2rG,EAAGmG,EAAG95F,EAAEhY,QAAQ,IAAM8xG,EAAGnnG,EAAE3K,QAAQ,GACnC,IAAMwvG,EAAKgC,EAAGn6G,EAAI+D,KAAKqF,KAAKqxG,EAAGF,GAAMJ,EAAGI,KAAQH,EAAIG,GAAMJ,EAAGI,MAASH,EAAIp6G,EAAIm6G,EAAGn6G,GAC3Eo4G,EAAKiC,EAAGr6G,EAAI+D,KAAKqF,KAAKqxG,EAAGD,GAAMH,EAAGG,KAAQF,EAAIE,GAAMH,EAAGG,MAASF,EAAIt6G,EAAIq6G,EAAGr6G,GAC7Em4G,GAAM,GAAKA,GAAM,GAAKC,GAAM,GAAKA,GAAM,IACrCyB,EAEF7iE,GAAO,EAGPA,EAAIx1C,KAAK,CACPmf,EAAG85F,EAAG95F,EACNrN,EAAGmnG,EAAGnnG,EACN6kG,GAAE,EACFC,GAAE,MAOd,OAAOphE,GAqEH0jE,EAAe,SAAU7D,EAAOhB,GACpC,OAnEsB,SAAUgB,EAAOhB,EAAOgE,GAG9C,IAAI1lF,EACAC,EACAC,EACAC,EACAqmF,EACAC,EACAC,EACAC,EACAnB,EACAC,EAXJ/C,EAAQjB,EAAYiB,GACpBhB,EAAQD,EAAYC,GAYpB,IADA,IAAI7+D,EAAM6iE,EAAY,EAAI,GACjB/6G,EAAI,EAAGyZ,EAAKs+F,EAAM71G,OAAQlC,EAAIyZ,EAAIzZ,IAAK,CAC9C,IAAM63G,EAAKE,EAAM/3G,GACjB,GAAc,MAAV63G,EAAG,GACLxiF,EAAKwmF,EAAMhE,EAAG,GACdviF,EAAKwmF,EAAMjE,EAAG,OACT,CACS,MAAVA,EAAG,IACLgD,EAAO,CAACxlF,EAAIC,GAAI1wB,OAAOizG,EAAGjsG,MAAM,IAChCypB,EAAKwlF,EAAK,GACVvlF,EAAKulF,EAAK,KAEVA,EAAO,CAACxlF,EAAIC,EAAID,EAAIC,EAAIumF,EAAKC,EAAKD,EAAKC,GACvCzmF,EAAKwmF,EACLvmF,EAAKwmF,GAEP,IAAK,IAAIv0G,EAAI,EAAG82D,EAAK04C,EAAM70G,OAAQqF,EAAI82D,EAAI92D,IAAK,CAC9C,IAAM00G,EAAKlF,EAAMxvG,GACjB,GAAc,MAAV00G,EAAG,GACL1mF,EAAKwmF,EAAME,EAAG,GACdzmF,EAAKwmF,EAAMC,EAAG,OACT,CACS,MAAVA,EAAG,IACLnB,EAAO,CAACvlF,EAAIC,GAAI5wB,OAAOq3G,EAAGrwG,MAAM,IAChC2pB,EAAKulF,EAAK,GACVtlF,EAAKslF,EAAK,KAEVA,EAAO,CAACvlF,EAAIC,EAAID,EAAIC,EAAIumF,EAAKC,EAAKD,EAAKC,GACvCzmF,EAAKwmF,EACLvmF,EAAKwmF,GAEP,IAAME,EAAOtB,EAAYC,EAAMC,EAAMC,GACrC,GAAIA,EAEF7iE,GAAOgkE,MACF,CAEL,IAAK,IAAI34G,EAAI,EAAG0xG,EAAKiH,EAAKh6G,OAAQqB,EAAI0xG,EAAI1xG,IACxC24G,EAAK34G,GAAG44G,SAAWn8G,EACnBk8G,EAAK34G,GAAG64G,SAAW70G,EACnB20G,EAAK34G,GAAGs3G,KAAOA,EACfqB,EAAK34G,GAAGu3G,KAAOA,EAGjB5iE,EAAMA,EAAItzC,OAAOs3G,OAM3B,OAAOhkE,EAIAmkE,CAAgBtE,EAAOhB,IAGhC,SAASuF,EAAY7rF,EAAQvvB,GAC3B,IAAM00B,EAAO,GACPE,EAAQ,GA0Bd,OAHIrF,EAAOvuB,QArBX,SAASq6G,EAAQ9rF,EAAQvvB,GACvB,GAAsB,IAAlBuvB,EAAOvuB,OACT0zB,EAAKlzB,KAAK+tB,EAAO,IACjBqF,EAAMpzB,KAAK+tB,EAAO,QACb,CAEL,IADA,IAAM+rF,EAAe,GACZx8G,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAS,EAAGlC,IAC3B,IAANA,GACF41B,EAAKlzB,KAAK+tB,EAAO,IAEfzwB,IAAMywB,EAAOvuB,OAAS,GACxB4zB,EAAMpzB,KAAK+tB,EAAOzwB,EAAI,IAExBw8G,EAAax8G,GAAK,EACf,EAAIkB,GAAKuvB,EAAOzwB,GAAG,GAAKkB,EAAIuvB,EAAOzwB,EAAI,GAAG,IAC1C,EAAIkB,GAAKuvB,EAAOzwB,GAAG,GAAKkB,EAAIuvB,EAAOzwB,EAAI,GAAG,IAG/Cu8G,EAAQC,EAAct7G,IAIxBq7G,CAAQ9rF,EAAQvvB,GAEX,CAAE00B,KAAI,EAAEE,MAAOA,EAAMsG,WAoD9B,IAAMqgF,EAAe,SAAU3iD,EAAO+O,EAAKtvD,GACzC,GAAc,IAAVA,EACF,MAAO,CAAC,GAAG3U,OAAOk1D,IAEpB,IAAIjgB,EAAW,GACf,GAAe,MAAXgvB,EAAI,IAAyB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GAC1ChvB,EAAWA,EAASj1C,OAvDxB,SAAoBk1D,EAAO+O,EAAKtvD,GAC9B,IAAMkX,EAAS,CAAC,CAACqpC,EAAM,GAAIA,EAAM,KACjCvgD,EAAQA,GAAS,EACjB,IAAMsgC,EAAW,GACF,MAAXgvB,EAAI,IACNp4C,EAAO/tB,KAAKmmE,EAAI,IAChBp4C,EAAO/tB,KAAKmmE,EAAI,KACI,MAAXA,EAAI,IACbp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,KACzBp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,KACzBp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,MACL,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IAC/Bp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,KACzBp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,MAEzBp4C,EAAO/tB,KAAK,CAACmmE,EAAI,GAAIA,EAAI,KAM3B,IAHA,IAAI6zC,EAAejsF,EACbvvB,EAAI,EAAIqY,EAELvZ,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAClC,IACMoI,EAAQk0G,EAAYI,EADfx7G,GAAK,EAAIA,EAAIlB,IAExB65C,EAASn3C,KAAK0F,EAAMwtB,MACpB8mF,EAAet0G,EAAM0tB,MAqBvB,OAnBA+jB,EAASn3C,KAAKg6G,GACC7iE,EAAS1pC,KAAI,SAAC6pC,GAC3B,IAAIgkB,EAAM,GAeV,OAduB,IAAnBhkB,EAAQ93C,SACV87D,EAAIt7D,KAAK,KACTs7D,EAAMA,EAAIp5D,OAAOo1C,EAAQ,KAEvBA,EAAQ93C,QAAU,IACG,IAAnB83C,EAAQ93C,QACV87D,EAAIt7D,KAAK,KAEXs7D,EAAMA,EAAIp5D,OAAOo1C,EAAQ,KAEJ,IAAnBA,EAAQ93C,QACV87D,EAAIt7D,KAAK,KAEXs7D,EAAMA,EAAIp5D,OAAOo1C,EAAQA,EAAQ93C,OAAS,OAYfy6G,CAAW7iD,EAAO+O,EAAKtvD,QAC7C,CACL,IAAM4tB,EAAO,GAAGviC,OAAOk1D,GACP,MAAZ3yB,EAAK,KACPA,EAAK,GAAK,KAEZ,IAAK,IAAInnC,EAAI,EAAGA,GAAKuZ,EAAQ,EAAGvZ,IAC9B65C,EAASn3C,KAAKykC,GAGlB,OAAO0S,GAGH+iE,EAAW,SAAUjvF,EAAQC,GACjC,GAAsB,IAAlBD,EAAOzrB,OACT,OAAOyrB,EAET,IAAMkvF,EAAYlvF,EAAOzrB,OAAS,EAC5B46G,EAAYlvF,EAAO1rB,OAAS,EAC5BkwB,EAAQyqF,EAAYC,EACpBC,EAAiB,GACvB,GAAsB,IAAlBpvF,EAAOzrB,QAAiC,MAAjByrB,EAAO,GAAG,GAAY,CAC/C,IAAK,IAAI3tB,EAAI,EAAGA,EAAI88G,EAAYD,EAAW78G,IACzC2tB,EAAOjrB,KAAKirB,EAAO,IAErB,OAAOA,EAET,IAAS3tB,EAAI,EAAGA,EAAI88G,EAAW98G,IAAK,CAClC,IAAMyC,EAAQwC,KAAKqS,MAAM8a,EAAQpyB,GACjC+8G,EAAet6G,IAAUs6G,EAAet6G,IAAU,GAAK,EAEzD,IAAMu6G,EAASD,EAAej4G,QAAO,SAACk4G,EAAQzjG,EAAOvZ,GACnD,OAAIA,IAAM68G,EACDG,EAAOp4G,OAAO+oB,EAAOkvF,IAEvBG,EAAOp4G,OAAO63G,EAAa9uF,EAAO3tB,GAAI2tB,EAAO3tB,EAAI,GAAIuZ,MAC3D,IAKH,OAJAyjG,EAAOnwF,QAAQc,EAAO,IACI,MAAtBC,EAAOkvF,IAA4C,MAAtBlvF,EAAOkvF,IACtCE,EAAOt6G,KAAK,KAEPs6G,GAGHjtG,EAAU,SAAUktG,EAAMv9E,GAC9B,GAAIu9E,EAAK/6G,SAAWw9B,EAAKx9B,OACvB,OAAO,EAET,IAAIM,GAAS,EAOb,OANAW,eAAK85G,GAAM,SAACj2G,EAAMhH,GAChB,GAAIgH,IAAS04B,EAAK1/B,GAEhB,OADAwC,GAAS,GACF,KAGJA,GAET,SAAS06G,EAAWC,EAAKxjE,EAAKyjE,GAC5B,IAAIr6G,EAAO,KACPoC,EAAMi4G,EASV,OARIzjE,EAAMx0C,IACRA,EAAMw0C,EACN52C,EAAO,OAELo6G,EAAMh4G,IACRA,EAAMg4G,EACNp6G,EAAO,OAEF,CACLA,KAAI,EACJoC,IAAG,GAQP,IAoCMk4G,EAAiB,SAAU1vF,EAAQC,GACvC,IAAM0vF,EArCoB,SAAU3vF,EAAQC,GAC5C,IAEI2vF,EACAC,EAHEX,EAAYlvF,EAAOzrB,OACnB46G,EAAYlvF,EAAO1rB,OAGrBilC,EAAO,EACX,GAAkB,IAAd01E,GAAiC,IAAdC,EACrB,OAAO,KAGT,IADA,IAAMhvG,EAAO,GACJ9N,EAAI,EAAGA,GAAK68G,EAAW78G,IAC9B8N,EAAK9N,GAAK,GACV8N,EAAK9N,GAAG,GAAK,CAAEmF,IAAKnF,GAEtB,IAAK,IAAIuH,EAAI,EAAGA,GAAKu1G,EAAWv1G,IAC9BuG,EAAK,GAAGvG,GAAK,CAAEpC,IAAKoC,GAGtB,IAASvH,EAAI,EAAGA,GAAK68G,EAAW78G,IAAK,CACnCu9G,EAAgB5vF,EAAO3tB,EAAI,GAC3B,IAASuH,EAAI,EAAGA,GAAKu1G,EAAWv1G,IAAK,CACnCi2G,EAAgB5vF,EAAOrmB,EAAI,GAEzB4/B,EADEp3B,EAAQwtG,EAAeC,GAClB,EAEA,EAET,IAAML,EAAMrvG,EAAK9N,EAAI,GAAGuH,GAAGpC,IAAM,EAC3Bw0C,EAAM7rC,EAAK9N,GAAGuH,EAAI,GAAGpC,IAAM,EAC3Bi4G,EAAStvG,EAAK9N,EAAI,GAAGuH,EAAI,GAAGpC,IAAMgiC,EACxCr5B,EAAK9N,GAAGuH,GAAK21G,EAAWC,EAAKxjE,EAAKyjE,IAGtC,OAAOtvG,EAIY2vG,CAAoB9vF,EAAQC,GAC3CivF,EAAYlvF,EAAOzrB,OACjB46G,EAAYlvF,EAAO1rB,OACnBw7G,EAAU,GACZj7G,EAAQ,EACRk7G,EAAS,EAEb,GAAIL,EAAWT,GAAWC,GAAW33G,MAAQ03G,EAAW,CAEtD,IAAK,IAAI78G,EAAI,EAAGA,GAAK68G,EAAW78G,IAAK,CACnC,IAAImF,EAAMm4G,EAAWt9G,GAAGA,GAAGmF,IAC3Bw4G,EAAS39G,EACT,IAAK,IAAIuH,EAAI9E,EAAO8E,GAAKu1G,EAAWv1G,IAC9B+1G,EAAWt9G,GAAGuH,GAAGpC,IAAMA,IACzBA,EAAMm4G,EAAWt9G,GAAGuH,GAAGpC,IACvBw4G,EAASp2G,GAGb9E,EAAQk7G,EACJL,EAAWt9G,GAAGyC,GAAOM,MACvB26G,EAAQh7G,KAAK,CAAED,MAAOzC,EAAI,EAAG+C,KAAMu6G,EAAWt9G,GAAGyC,GAAOM,OAI5D,IAAS/C,EAAI09G,EAAQx7G,OAAS,EAAGlC,GAAK,EAAGA,IACvCyC,EAAQi7G,EAAQ19G,GAAGyC,MACK,QAApBi7G,EAAQ19G,GAAG+C,KACb4qB,EAAO/nB,OAAOnD,EAAO,EAAG,GAAGmC,OAAO+oB,EAAOlrB,KAEzCkrB,EAAO/nB,OAAOnD,EAAO,GAM3B,IAAM68D,EAAOw9C,GADbD,EAAYlvF,EAAOzrB,QAEnB,GAAI26G,EAAYC,EACd,IAAS98G,EAAI,EAAGA,EAAIs/D,EAAMt/D,IACS,MAA7B2tB,EAAOkvF,EAAY,GAAG,IAA2C,MAA7BlvF,EAAOkvF,EAAY,GAAG,GAC5DlvF,EAAO/nB,OAAOi3G,EAAY,EAAG,EAAGlvF,EAAOkvF,EAAY,IAEnDlvF,EAAOjrB,KAAKirB,EAAOkvF,EAAY,IAEjCA,GAAa,EAGjB,OAAOlvF,GAIT,SAASiwF,EAAantF,EAAQotF,EAAQtkG,GAKpC,IAJA,IACI9W,EADED,EAAS,GAAGoC,OAAO6rB,GAErBvvB,EAAI,GAAKqY,EAAQ,GACfukG,EAAYC,EAAkBF,GAAQ,GACnC79G,EAAI,EAAGA,GAAKuZ,EAAOvZ,IAC1BkB,GAAKlB,EAES,KADdyC,EAAQwC,KAAKqS,MAAMmZ,EAAOvuB,OAAShB,IAEjCsB,EAAOqqB,QAAQ,CAACixF,EAAU,GAAK58G,EAAIuvB,EAAOhuB,GAAO,IAAM,EAAIvB,GAAI48G,EAAU,GAAK58G,EAAIuvB,EAAOhuB,GAAO,IAAM,EAAIvB,KAE1GsB,EAAOoD,OAAOnD,EAAO,EAAG,CACtBq7G,EAAU,GAAK58G,EAAIuvB,EAAOhuB,GAAO,IAAM,EAAIvB,GAC3C48G,EAAU,GAAK58G,EAAIuvB,EAAOhuB,GAAO,IAAM,EAAIvB,KAIjD,OAAOsB,EAST,SAASu7G,EAAkB/jE,GACzB,IAAMvpB,EAAS,GACf,OAAQupB,EAAQ,IACd,IAAK,IAGL,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjCvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjCvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjCvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjCvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IAGL,IAAK,IACHvpB,EAAO/tB,KAAK,CAACs3C,EAAQ,GAAIA,EAAQ,KAIrC,OAAOvpB,EAGT,IAAMutF,EAAa,SAAUC,EAAUC,GACrC,GAAID,EAAS/7G,QAAU,EACrB,OAAO+7G,EAGT,IADA,IAAIxtF,EACKzwB,EAAI,EAAGA,EAAIk+G,EAAOh8G,OAAQlC,IACjC,GAAIi+G,EAASj+G,GAAG,KAAOk+G,EAAOl+G,GAAG,GAG/B,OADAywB,EAASstF,EAAkBE,EAASj+G,IAC5Bk+G,EAAOl+G,GAAG,IAChB,IAAK,IACHi+G,EAASj+G,GAAK,CAAC,KAAK4E,OAAO6rB,EAAO,IAClC,MACF,IAAK,IACHwtF,EAASj+G,GAAK,CAAC,KAAK4E,OAAO6rB,EAAO,IAClC,MACF,IAAK,IACHwtF,EAASj+G,GAAK,GAAG4E,OAAOs5G,EAAOl+G,IAC/Bi+G,EAASj+G,GAAG,GAAKywB,EAAO,GAAG,GAC3BwtF,EAASj+G,GAAG,GAAKywB,EAAO,GAAG,GAC3B,MACF,IAAK,IACH,GAAIA,EAAOvuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLi+G,EAASj+G,GAAKk+G,EAAOl+G,GACrB,MAHAywB,EAASmtF,EAAantF,EAAQwtF,EAASj+G,EAAI,GAAI,GAMnDi+G,EAASj+G,GAAK,CAAC,KAAK4E,OAClB6rB,EAAO3rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,IAAK,IACHi+G,EAASj+G,GAAK,CAAC,KAAK4E,OAAO6rB,EAAO,IAClC,MACF,IAAK,IACH,GAAIA,EAAOvuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLi+G,EAASj+G,GAAKk+G,EAAOl+G,GACrB,MAHAywB,EAASmtF,EAAantF,EAAQwtF,EAASj+G,EAAI,GAAI,GAMnDi+G,EAASj+G,GAAK,CAAC,KAAK4E,OAClB6rB,EAAO3rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,IAAK,IACH,GAAIywB,EAAOvuB,OAAS,EAAG,CACrB,KAAIlC,EAAI,GAED,CACLi+G,EAASj+G,GAAKk+G,EAAOl+G,GACrB,MAHAywB,EAASmtF,EAAantF,EAAQwtF,EAASj+G,EAAI,GAAI,GAMnDi+G,EAASj+G,GAAK,CAAC,KAAK4E,OAClB6rB,EAAO3rB,QAAO,SAAC1C,EAAKpC,GAClB,OAAOoC,EAAIwC,OAAO5E,KACjB,KAEL,MACF,QACEi+G,EAASj+G,GAAKk+G,EAAOl+G,GAI7B,OAAOi+G,GCxsCME,EAnIf,WAiGE,WAAYp7G,EAAM6rB,GA9DlB,cAAmB,EAKnB,YAAsB,KAKtB,mBAA6B,KAK7B,oBAA8B,KAK9B,oBAAyB,KAKzB,uBAA4B,EAK5B,yBAA8B,EAK9B,WAAgB,KAKhB,eAAoB,KAKpB,aAAkB,KAelB,qBAAyB,GAGvB,KAAK7rB,KAAOA,EACZ,KAAKxC,KAAOwC,EACZ,KAAKugG,cAAgB10E,EACrB,KAAKi9D,UAAYj9D,EAAMi9D,UA4B3B,OAtBEsyB,sCACE,KAAKC,kBAAmB,EACpB,KAAK9a,cAAcpW,gBACrB,KAAKoW,cAAcpW,kBAOvBixB,uCACE,KAAKE,oBAAqB,GAG5BF,gCAEE,MAAO,gBADM,KAAKp7G,KACS,MAG7Bo7G,8BAEAA,iCACF,EAjIA,G,e1IFM,SAAUG,EAAgBl8G,EAAYqB,GAC1C,IAAMhB,EAAQL,EAAIC,QAAQoB,IACX,IAAXhB,GACFL,EAAIwD,OAAOnD,EAAO,GAIf,IAAM87G,EAA8B,oBAAXtxG,aAAqD,IAApBA,OAAO4E,SAIlE,SAAUiL,EAASL,EAAWC,GAElC,GAAID,EAAUE,WACZ,OAAO,EAIT,IAFA,IAAIC,EAASF,EAAMG,YACfC,GAAW,EACRF,GAAQ,CACb,GAAIA,IAAWH,EAAW,CACxBK,GAAW,EACX,MAEFF,EAASA,EAAOC,YAElB,OAAOC,EAGH,SAAU0hG,EAAezhG,GAE7B,OAAOA,EAAQC,IAAIC,SAAWF,EAAQC,IAAIE,Q2I3B5C,IA+Cem3F,EA/Cf,YAsBE,WAAYr3F,GAAZ,MACEklB,cAAO,KAZThT,aAAqB,EAanB,IAAM8d,EAAa9d,EAAKd,gB,OACxBc,EAAKlS,IAAMjP,cAAIi/B,EAAYhwB,G,EAoB/B,OA7C4BhK,iBAkB1BqhG,qCACE,MAAO,IAUTA,yBAAI9zG,GACF,OAAO,KAAKyc,IAAIzc,IAGlB8zG,yBAAI9zG,EAAMU,GACR,KAAK+b,IAAIzc,GAAQU,GAInBozG,+BACE,KAAKr3F,IAAM,CACTwjB,WAAW,GAEb,KAAK3kB,MACL,KAAK2kB,WAAY,GAErB,EA7CA,CAA4Bi+E,K,SCOtB,SAAUC,EAAer6G,EAAamC,GAC1C,IAAMyrC,EAAM,GACN44D,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GAERymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GAERonG,EAAMjlG,EAAE,GACR2kG,EAAM3kG,EAAE,GACRklG,EAAMllG,EAAE,GACRmlG,EAAMnlG,EAAE,GACR4kG,EAAM5kG,EAAE,GACRolG,EAAMplG,EAAE,GACRqlG,EAAMrlG,EAAE,GACR6kG,EAAM7kG,EAAE,GACRslG,EAAMtlG,EAAE,GAad,OAXAyrC,EAAI,GAAKw5D,EAAMZ,EAAMM,EAAML,EAAMY,EAAMV,EACvC/4D,EAAI,GAAKw5D,EAAMf,EAAMS,EAAMJ,EAAMW,EAAMT,EACvCh5D,EAAI,GAAKw5D,EAAMd,EAAMQ,EAAMP,EAAMc,EAAMR,EAEvCj5D,EAAI,GAAK05D,EAAMd,EAAMO,EAAMN,EAAMc,EAAMZ,EACvC/4D,EAAI,GAAK05D,EAAMjB,EAAMU,EAAML,EAAMa,EAAMX,EACvCh5D,EAAI,GAAK05D,EAAMhB,EAAMS,EAAMR,EAAMgB,EAAMV,EAEvCj5D,EAAI,GAAK45D,EAAMhB,EAAMQ,EAAMP,EAAMgB,EAAMd,EACvC/4D,EAAI,GAAK45D,EAAMnB,EAAMW,EAAMN,EAAMe,EAAMb,EACvCh5D,EAAI,GAAK45D,EAAMlB,EAAMU,EAAMT,EAAMkB,EAAMZ,EAChCj5D,EAQH,SAAU0sE,EAAav+G,EAAakF,GACxC,IAAM2sC,EAAM,GACNpwB,EAAIvc,EAAE,GACNkP,EAAIlP,EAAE,GAGZ,OAFA2sC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GACjC6xC,EAAI,GAAK7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAC1B6xC,EAOH,SAAUlgB,EAAO1tB,GACrB,IAAM4tC,EAAM,GACN44D,EAAMxmG,EAAE,GACRqmG,EAAMrmG,EAAE,GACRsmG,EAAMtmG,EAAE,GACRymG,EAAMzmG,EAAE,GACR0mG,EAAM1mG,EAAE,GACRumG,EAAMvmG,EAAE,GACR2mG,EAAM3mG,EAAE,GACR4mG,EAAM5mG,EAAE,GACR6mG,EAAM7mG,EAAE,GAER8mG,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAG1BM,EAAMT,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,OAAKC,GAGLA,EAAM,EAAMA,EAEZr5D,EAAI,GAAKk5D,EAAMG,EACfr5D,EAAI,KAAOi5D,EAAMR,EAAMC,EAAMM,GAAOK,EACpCr5D,EAAI,IAAM24D,EAAMF,EAAMC,EAAMI,GAAOO,EACnCr5D,EAAI,GAAKm5D,EAAME,EACfr5D,EAAI,IAAMi5D,EAAML,EAAMF,EAAMK,GAAOM,EACnCr5D,EAAI,KAAO24D,EAAMC,EAAMF,EAAMG,GAAOQ,EACpCr5D,EAAI,GAAKo5D,EAAMC,EACfr5D,EAAI,KAAOg5D,EAAMJ,EAAMH,EAAMM,GAAOM,EACpCr5D,EAAI,IAAM84D,EAAMF,EAAMH,EAAMI,GAAOQ,EAC5Br5D,GAbE,KC7EH,M,KAAc2sE,EAAG,UAGnBC,EAAa,CAAC,SAAU,UAAW,UAAW,QAG9CC,EAAiB,CAAC,UAmBxB,SAASC,GAAmBC,EAAStiG,GACnC,IAAMuiG,EAAY,GACZr7G,EAAQ8Y,EAAM9Y,MACpB,IAAK,IAAML,KAAKy7G,EACdC,EAAU17G,GAAKK,EAAML,GAEvB,OAAO07G,EAGT,SAASC,GAAiBC,EAAOziG,GAC/B,IAAMsiG,EAAU,GACVp7G,EAAQ8Y,EAAMguB,OAMpB,OALAvnC,eAAKg8G,GAAO,SAAC75G,EAAG/B,IACqB,IAA/Bu7G,EAAez8G,QAAQkB,IAAcwM,kBAAQnM,EAAML,GAAI+B,KACzD05G,EAAQz7G,GAAK+B,MAGV05G,EAGT,SAASI,GAAkBC,EAAyBC,GAClD,GAAIA,EAAU/5D,QACZ,OAAO85D,EAED,MAA+BC,EAAS,UAA7BC,EAAoBD,EAAS,MAAtB95D,EAAa85D,EAAS,SAC1Cz9G,EAAiBnB,OAAOkB,UAAUC,eAaxC,OAZAsB,eAAKk8G,GAAY,SAACr4G,GAEZw4G,EAAYD,EAAQv4G,EAAKw4G,UAAYx4G,EAAKu4G,MAAQv4G,EAAKw+C,UAAYA,EAAWx+C,EAAKu4G,OACrFp8G,eAAKm8G,EAAUN,SAAS,SAAC15G,EAAG/B,GACtB1B,EAAe1B,KAAK6G,EAAKg4G,QAASz7G,YAC7ByD,EAAKg4G,QAAQz7G,UACbyD,EAAKi4G,UAAU17G,UAMvB87G,EAGT,IA4qBevyG,GA5qBf,YAQE,WAAYkQ,GAAZ,MACEklB,YAAMllB,IAAI,KAHZkS,QAAoB,GAIlB,IAAMtrB,EAAQsrB,EAAKuwF,kB,OACnB1xG,cAAInK,EAAOoZ,EAAIpZ,OACfsrB,EAAKtrB,MAAQA,EACbsrB,EAAKwwF,UAAU97G,GACfsrB,EAAKywF,c,EA4pBT,OA1qB+B3sG,iBAkB7BlG,qCACE,MAAO,CACLmQ,SAAS,EACTC,SAAS,EACT0iG,OAAQ,IAQZ9yG,uCACE,MAAO,CACL4kB,OAAQ,KAAKmuF,mBACb78D,QAAS,IAYbl2C,oCAAegzG,KAOfhzG,+BAAUlJ,KAMVkJ,mCACE,KAAK5F,IAAI,YAAY,GACrB,KAAKA,IAAI,aAAa,IAGxB4F,+BACE,OAAO,GAGTA,iCACE,OAAO,KAAKjM,IAAI,WAGlBiM,iCACE,OAAO,KAAKjM,IAAI,WAGlBiM,4B,UAAK,gCAAAsB,kBACI,MAAeA,EAAI,GAAbnN,EAASmN,EAAI,GAC1B,IAAK7N,EAAM,OAAO,KAAKqD,MACvB,GAAIN,mBAAS/C,GAAO,CAClB,IAAK,IAAMgD,KAAKhD,EACd,KAAKw/G,QAAQx8G,EAAGhD,EAAKgD,IAGvB,OADA,KAAKy8G,iBAAiBz/G,GACf,KAET,OAAoB,IAAhB6N,EAAKlM,QACP,KAAK69G,QAAQx/G,EAAMU,GACnB,KAAK++G,mBAAgBhnG,MAClBzY,GAAOU,EADW,IAGd,MAEF,KAAK2C,MAAMrD,IASpBuM,+BAAUwT,EAAMD,GACd,IAAMm2C,EAAO,KAAKypD,UAClB,OAAOzpD,IAASA,EAAK3iC,MAAMvT,EAAMD,IAQnCvT,6BAAQvM,EAAcU,GACpB,IAAMi/G,EAAc,KAAKt8G,MAAMrD,GAC3B2/G,IAAgBj/G,IAClB,KAAK2C,MAAMrD,GAAQU,EACnB,KAAKk/G,aAAa5/G,EAAMU,EAAOi/G,KAWnCpzG,kCAAavM,EAAcU,EAAYi/G,GACxB,WAAT3/G,GACF,KAAK2G,IAAI,cAAe,OAQ5B4F,sCAAiBszG,GACf,GAAI,KAAKpjG,IAAIqjG,YAAa,CACxB,IAAMC,EAAU,KAAKtjG,IAAIsjG,QACrBA,GACFA,EAAQC,eAAe,aAGzB,KAAKA,eAAe,SAIxBzzG,4BAIE,OAFA,KAAK5F,IAAI,WAAW,GACpB,KAAKq5G,eAAe,QACb,MAGTzzG,4BAIE,OAFA,KAAK5F,IAAI,WAAW,GACpB,KAAKq5G,eAAe,QACb,MAGTzzG,+BAAU8yG,GACR,KAAK14G,IAAI,SAAU04G,GACnB,IAAMhjG,EAAS,KAAKC,YAKpB,OAJID,GAEFA,EAAOhW,OAEF,MAGTkG,+BACE,IAAM8P,EAAS,KAAKC,YACpB,GAAKD,EAAL,CAGA,IAAMoR,EAAWpR,EAAO+2B,cAElBlxC,GADK,KAAK5B,IAAI,MACNmtB,EAAS3rB,QAAQ,OAC/B2rB,EAASpoB,OAAOnD,EAAO,GACvBurB,EAAStrB,KAAK,MACd,KAAK69G,eAAe,YAGtBzzG,8BACE,IAAM8P,EAAS,KAAKC,YACpB,GAAKD,EAAL,CAGA,IAAMoR,EAAWpR,EAAO+2B,cAElBlxC,GADK,KAAK5B,IAAI,MACNmtB,EAAS3rB,QAAQ,OAC/B2rB,EAASpoB,OAAOnD,EAAO,GACvBurB,EAASnB,QAAQ,MACjB,KAAK0zF,eAAe,YAGtBzzG,4BAAOm1B,QAAA,QAAAA,MACL,IAAMrlB,EAAS,KAAKC,YAChBD,GACF0hG,EAAgB1hG,EAAO+2B,cAAe,MACjC/2B,EAAO/b,IAAI,aAEd,KAAK0/G,eAAe,WAGtB,KAAKA,eAAe,UAElBt+E,GACF,KAAKA,WAITn1B,mCACE,KAAK49B,KAtRM,SAsRO,KAAKm1E,oBACvB,KAAKU,eAAe,WAGtBzzG,iCACE,OAAO,KAAK49B,KA3RD,WA8Rb59B,+BAAU1M,GACR,KAAKsqC,KA/RM,SA+ROtqC,GAClB,KAAKmgH,eAAe,WAItBzzG,sCACE,IAAI0zG,EAAc,KAAKxjG,IAAIwjG,YAC3B,IAAKA,EAAa,CAChB,IAAMC,EAAgB,KAAK/1E,KAAK,UAC1Bg2E,EAAe,KAAK1jG,IAAI0jG,aAE5BF,EADEE,GAAgBD,EACJ/B,EAAegC,EAAcD,GAE7BA,GAAiBC,EAEjC,KAAKx5G,IAAI,cAAes5G,GAE1B,OAAOA,GAIT1zG,iCAAY4kB,GACV,IAAM+uF,EAAgB,KAAK/1E,KAAK,UAC5B81E,EAAc,KAEhBA,EADE9uF,GAAU+uF,EACE/B,EAAehtF,EAAQ+uF,GAEvBA,GAAiB/uF,EAEjC,KAAKxqB,IAAI,cAAes5G,GACxB,KAAKt5G,IAAI,eAAgBwqB,IAQ3B5kB,wCACE,OAAO,MAITA,mCAAcxH,GACZ,IAAMosB,EAAS,KAAKgZ,KAAK,UACzB,OAAIhZ,EACKitF,EAAajtF,EAAQpsB,GAEvBA,GAITwH,sCAAiBxH,GACf,IAAMosB,EAAS,KAAKgZ,KAAK,UACzB,GAAIhZ,EAAQ,CACV,IAAMivF,EAAe5uF,EAAOL,GAC5B,GAAIivF,EACF,OAAOhC,EAAagC,EAAcr7G,GAGtC,OAAOA,GAITwH,6BAAQwpD,GACN,IAAMj0C,EAAS,KAAKu+F,YAQhBC,EAAY,KAEhB,GAAIvqD,EAAS,CACX,IAEMwqD,EAFY,KAAKC,eACL/0G,qBAAWsqD,EAAQvzD,OAEjC+9G,IACFD,EAAY,IAAIC,EAAK,CACnB/9G,KAAMuzD,EAAQvzD,KACds9G,aAAa,EACbC,QAAS,KACT18G,MAAO0yD,EAAQ1yD,MACfye,OAAM,KAOZ,OAFA,KAAKnb,IAAI,YAAa25G,GACtB,KAAKN,eAAe,QACbM,GAGT/zG,+BAEE,IAAM+zG,EAAY,KAAK7jG,IAAI6jG,UAE3B,OAAKA,GACI,MAKX/zG,6BAAA,WACQg+C,EAAc,KAAKlnD,MACnBA,EAAQ,GACdT,eAAK2nD,GAAa,SAAC9qD,EAAGuD,GAChBL,kBAAQ4nD,EAAYvnD,IACtBK,EAAML,GAlYd,SAAyBnB,GAEvB,IADA,IAAMI,EAAS,GACNxC,EAAI,EAAGA,EAAIoC,EAAIF,OAAQlC,IAC1BkD,kBAAQd,EAAIpC,IACdwC,EAAOE,KAAK,GAAGkC,OAAOxC,EAAIpC,KAE1BwC,EAAOE,KAAKN,EAAIpC,IAGpB,OAAOwC,EAyXUw+G,CAAgBl2D,EAAYvnD,IAEvCK,EAAML,GAAKunD,EAAYvnD,MAG3B,IAEM8K,EAAQ,IAAI4yG,EAFL,KAAKv0G,aAEK,CAAE9I,MAAK,IAI9B,OAHAT,eAAK07G,GAAY,SAACqC,GAChB7yG,EAAMnH,IAAIg6G,EAAShyF,EAAKruB,IAAIqgH,OAEvB7yG,GAGTvB,+BACoB,KAAK0zB,YAIvB,KAAK58B,MAAQ,GACbs+B,YAAMD,QAAO9hC,KAAA,QAQf2M,uCACE,OAAO,KAAKjM,IAAI,UAAUsgH,UAiB5Br0G,+B,IAAQ,oCAAAsB,kBACN,GAAK,KAAKvN,IAAI,aAAgB,KAAKA,IAAI,UAAvC,CAGA,KAAKqG,IAAI,aAAa,GACtB,IAAIk6G,EAAW,KAAKvgH,IAAI,YACnBugH,IACHA,EAAW,KAAKvgH,IAAI,UAAUA,IAAI,YAClC,KAAKqG,IAAI,WAAYk6G,IAEvB,IAAI/B,EAAa,KAAKx+G,IAAI,eAAiB,GAEtCugH,EAAS9pE,OACZ8pE,EAASC,YAEN,IACD97D,EACA+7D,EACAC,EACAC,EACAv8E,EALC,EAAwE72B,EAAI,GAAnEo3C,EAA+Dp3C,EAAI,GAAzD4K,EAAqD5K,EAAI,GAAzDq3C,OAAM,MAAG,aAAYzsC,EAAE8uB,EAA8B15B,EAAI,GAAlCs3C,OAAQ,MAAGtqC,OAAI0sB,EAAEgC,EAAa17B,EAAI,GAAjBmxG,OAAK,MAAG,EAACz1E,EAOrEpmC,qBAAWs7G,IACbz5D,EAAUy5D,EACVA,EAAU,IACD17G,mBAAS07G,IAAaA,EAAgBz5D,UAE/CA,EAAWy5D,EAAgBz5D,QAC3B+7D,EAAUtC,EAAgBsC,QAGxBh+G,mBAASkiD,IAEXA,GADAvgB,EAAaugB,GACSA,SACtBC,EAASxgB,EAAWwgB,QAAU,aAC9B85D,EAAQt6E,EAAWs6E,OAAS,EAE5B+B,EAASr8E,EAAWq8E,QAAUA,IAAU,EACxC57D,EAAWzgB,EAAWygB,UAAYtqC,OAClCmmG,EAAgBt8E,EAAWs8E,eAAiBnmG,OAC5ComG,EAAiBv8E,EAAWu8E,gBAAkBpmG,SAG1CtR,mBAAS47C,KACX65D,EAAQ75D,EACRA,EAAW,MAGThiD,qBAAW+hD,IACbC,EAAWD,EACXA,EAAS,cAETA,EAASA,GAAU,cAGvB,IAAMg8D,EAAgBvC,GAAiBF,EAAS,MAC1CM,EAAuB,CAC3BL,UAAWF,GAAmB0C,EAAe,MAC7CzC,QAASyC,EACTj8D,SAAQ,EACRC,OAAM,EACN67D,OAAM,EACN57D,SAAQ,EACR67D,cAAa,EACbC,eAAc,EACdjC,MAAK,EACLC,UAAW4B,EAASlzF,UACpBH,GAAIwU,qBACJgjB,QAAO,EACPm8D,eAAe,GAGbrC,EAAWn9G,OAAS,EAEtBm9G,EAAaD,GAAkBC,EAAYC,GAG3C8B,EAASO,YAAY,MAEvBtC,EAAW38G,KAAK48G,GAChB,KAAKp4G,IAAI,aAAcm4G,GACvB,KAAKn4G,IAAI,SAAU,CAAEi6G,UAAU,MAOjCr0G,iCAAY80G,GAAZ,gBAAY,QAAAA,MACV,IAAMvC,EAAa,KAAKx+G,IAAI,cAC5BsC,eAAKk8G,GAAY,SAACC,GAEZsC,IACEtC,EAAU/5D,QACZr2B,EAAKwb,KAAK40E,EAAU/5D,QAAQ,IAE5Br2B,EAAKwb,KAAK40E,EAAUN,UAGpBM,EAAU55D,UAEZ45D,EAAU55D,cAGd,KAAKx+C,IAAI,aAAa,GACtB,KAAKA,IAAI,aAAc,KAMzB4F,oCACE,IAAMs0G,EAAW,KAAKvgH,IAAI,YACpBw+G,EAAa,KAAKx+G,IAAI,cACtBghH,EAAYT,EAASlzF,UAc3B,OAbA/qB,eAAKk8G,GAAY,SAACC,GAChBA,EAAUwC,SAAU,EACpBxC,EAAUyC,WAAaF,EACnBvC,EAAUiC,eAEZjC,EAAUiC,mBAId,KAAKr6G,IAAI,SAAU,CACjBi6G,UAAU,EACVU,UAAS,IAEJ,MAMT/0G,qCACE,IACMw0B,EADW,KAAKzgC,IAAI,YACDqtB,UACnBmxF,EAAa,KAAKx+G,IAAI,cACtBghH,EAAY,KAAKhhH,IAAI,UAAUghH,UAcrC,OAZA1+G,eAAKk8G,GAAY,SAACC,GAChBA,EAAUE,UAAYF,EAAUE,WAAal+E,EAAUugF,GACvDvC,EAAUwC,SAAU,EACpBxC,EAAUyC,WAAa,KACnBzC,EAAUkC,gBACZlC,EAAUkC,oBAGd,KAAKt6G,IAAI,SAAU,CACjBi6G,UAAU,IAEZ,KAAKj6G,IAAI,aAAcm4G,GAChB,MAQTvyG,oCAAe/J,EAAci/G,GAA7B,IAGMC,EAHN,OACQ75C,EAAQ45C,EAASE,gBACR,KAAK7zF,YAEP,eAATtrB,EACFk/G,EAAgBD,EAASG,UACP,eAATp/G,IACTk/G,EAAgBD,EAASI,SAG3B,I,eAASpiH,GACP,IAAM+c,EAAUqrD,EAAMpoE,GAEhBqiH,EAAOtlG,EAAQlc,IAAI,QACzB,GAAIwhH,EAAM,CAER,IAEGtlG,EAAQulG,WAAcvlG,EAAQJ,UAAYI,EAAQJ,aACnDslG,GACAnlG,EAASC,EAASklG,G,cAIhB/+G,kBAAQm/G,GACVl/G,eAAKk/G,GAAM,SAACE,GACVrzF,EAAKszF,kBAAkBzlG,EAASwlG,EAASP,MAG3CS,EAAKD,kBAAkBzlG,EAASslG,EAAML,K,OAnBnChiH,EAAI,EAAGA,EAAIooE,EAAMlmE,OAAQlC,IAAG,C,eAA5BA,G,QAyBH8M,8BAAR,SAA0BiQ,EAASxc,EAAcyhH,GAC/C,IAAMrzF,EAAS,KAAKN,YAEd2/B,EAAYztD,EA3nBG,IA2nBuByhH,EAASj/G,MACjD4rB,EAAOq/B,IAAcr/B,EA3nBZ,QA6nBXqzF,EAASzhH,KAAOytD,EAChBg0D,EAASr/E,cAAgB5lB,EACzBilG,EAASU,eAAiB,KAE1BV,EAASW,eAAiB5lG,EAAQlc,IAAI,kBACtC,KAAKmb,KAAKgyC,EAAWg0D,KAUzBl1G,+BAAU81G,EAAwBC,QAAxB,QAAAD,UAAwB,QAAAC,KAChC,IAAMnxF,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAKkxF,EAAYC,KAEvD,OADA,KAAKvvF,UAAUwvF,GACR,MASTh2G,0BAAKi2G,EAAiBC,GACpB,IAAMnhG,EAAI,KAAK6oB,KAAK,MAAQ,EACtBl2B,EAAI,KAAKk2B,KAAK,MAAQ,EAE5B,OADA,KAAK9X,UAAUmwF,EAAUlhG,EAAGmhG,EAAUxuG,GAC/B,MAST1H,4BAAOi2G,EAAiBC,GACtB,OAAO,KAAKjwF,KAAKgwF,EAASC,IAS5Bl2G,2BAAMm2G,EAAgBC,GACpB,IAAMxxF,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAKuxF,EAAQC,GAAUD,KAE7D,OADA,KAAK3vF,UAAUwvF,GACR,MAQTh2G,4BAAO9B,GACL,IAAM0mB,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAAC,CAAC,IAAK1mB,KAE3C,OADA,KAAKsoB,UAAUwvF,GACR,MAQTh2G,mCAAciV,GACN,MAAW,KAAK2oB,OAAd7oB,EAAC,IAAErN,EAAC,IACNkd,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAClC,CAAC,KAAM7P,GAAIrN,GACX,CAAC,IAAKuN,GACN,CAAC,IAAKF,EAAGrN,KAGX,OADA,KAAK8e,UAAUwvF,GACR,MAQTh2G,mCAAc+U,EAAWrN,EAAWuN,GAClC,IAAM2P,EAAS,KAAKsB,YACd8vF,EAAYtzF,EAAUkC,EAAQ,CAClC,CAAC,KAAM7P,GAAIrN,GACX,CAAC,IAAKuN,GACN,CAAC,IAAKF,EAAGrN,KAGX,OADA,KAAK8e,UAAUwvF,GACR,MAEX,EA1qBA,CAA+BzO,GCpEzB8O,GAAY,GA4DlB,IAiaeC,GAjaf,yB,+CA+ZA,OA/ZiCpwG,iBAC/BowG,gCACE,OAAO,GAITA,+BAEE,IAAIjwF,EAAOzoB,IACPypB,GAAQzpB,IACR0oB,EAAO1oB,IACP0pB,GAAQ1pB,IACN8pB,EAAO,GACPC,EAAO,GAEPzG,EAAW,KAAK2lB,cAAcrxC,QAClC,SAAC27B,GACC,SAAMp9B,IAAI,cAAgBo9B,EAAMqkF,WAAcrkF,EAAMqkF,WAAcrkF,EAAiB0V,cAAczxC,OAAS,MA4B9G,OA1BI8rB,EAAS9rB,OAAS,GACpBiB,eAAK6qB,GAAU,SAACiQ,GACd,IAAM27E,EAAM37E,EAAM1J,UAClBC,EAAK9xB,KAAKk3G,EAAIzmF,KAAMymF,EAAIzlF,MACxBM,EAAK/xB,KAAKk3G,EAAIxmF,KAAMwmF,EAAIxlF,SAE1BjB,EAAOhuB,cAAIqvB,GACXL,EAAOjvB,cAAIsvB,GACXpB,EAAOjuB,cAAIsvB,GACXL,EAAOlvB,cAAIuvB,KAEXtB,EAAO,EACPgB,EAAO,EACPf,EAAO,EACPgB,EAAO,GAEG,CACVvS,EAAGsR,EACH3e,EAAG4e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJjiB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,IAMnBgwF,qCACE,IAAIjwF,EAAOzoB,IACPypB,GAAQzpB,IACR0oB,EAAO1oB,IACP0pB,GAAQ1pB,IACN8pB,EAAO,GACPC,EAAO,GAEPzG,EAAW,KAAK2lB,cAAcrxC,QAClC,SAAC27B,GACC,SAAMp9B,IAAI,cAAgBo9B,EAAMqkF,WAAcrkF,EAAMqkF,WAAcrkF,EAAiB0V,cAAczxC,OAAS,MA4B9G,OA1BI8rB,EAAS9rB,OAAS,GACpBiB,eAAK6qB,GAAU,SAACiQ,GACd,IAAM27E,EAAM37E,EAAM/K,gBAClBsB,EAAK9xB,KAAKk3G,EAAIzmF,KAAMymF,EAAIzlF,MACxBM,EAAK/xB,KAAKk3G,EAAIxmF,KAAMwmF,EAAIxlF,SAE1BjB,EAAOhuB,cAAIqvB,GACXL,EAAOjvB,cAAIsvB,GACXpB,EAAOjuB,cAAIsvB,GACXL,EAAOlvB,cAAIuvB,KAEXtB,EAAO,EACPgB,EAAO,EACPf,EAAO,EACPgB,EAAO,GAEG,CACVvS,EAAGsR,EACH3e,EAAG4e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJjiB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,IAKnBgwF,qCACE,IAAMpmG,EAAMklB,YAAM9T,cAAajuB,KAAA,MAE/B,OADA6c,EAAG,SAAe,GACXA,GAGTomG,kCAAa7iH,EAAMU,EAAOi/G,GAExB,GADAh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GACnB,WAAT3/G,EAAmB,CACrB,IAAMigH,EAAc,KAAK6C,iBACzB,KAAKC,oBAAoB9C,KAK7B4C,iCAAY1xF,GACV,IAAM6xF,EAAiB,KAAKF,iBAC5BnhF,YAAMshF,YAAWrjH,KAAA,KAACuxB,GAClB,IAAM8uF,EAAc,KAAK6C,iBAGrB7C,IAAgB+C,GAGpB,KAAKD,oBAAoB9C,IAI3B4C,yCAAoB5C,GAClB,IAAMxyF,EAAW,KAAK2lB,cACtBxwC,eAAK6qB,GAAU,SAACiQ,GACdA,EAAMulF,YAAYhD,OAKtB4C,gC,IAAS,oCAAAh1G,kBACP,IAAMrL,EAAOqL,EAAK,GACd4O,EAAM5O,EAAK,GACX9K,mBAASP,GACXia,EAAMja,EAENia,EAAG,KAAWja,EAEhB,IAAIipC,EAAYm3E,GAAUnmG,EAAIja,MACzBipC,IACHA,EAAYhgC,qBAAWgR,EAAIja,MAC3BogH,GAAUnmG,EAAIja,MAAQipC,GAExB,IAAMy3E,EAAY,KAAK1C,eACjBrkG,EAAQ,IAAI+mG,EAAUz3E,GAAWhvB,GAEvC,OADA,KAAK28B,IAAIj9B,GACFA,GAGT0mG,gC,IAAS,oCAAAh1G,kBACA,IACHykB,EADG,EAAmBzkB,EAAI,GAAX4O,EAAO5O,EAAI,GAE9B,GAAI1K,qBAAWggH,GAEX7wF,EAAQ,IAAI6wF,EADV1mG,GAGqB,CAErBJ,OAAQ,WAGP,CACL,IAAM+mG,EAASD,GAAc,GACvBE,EAAgB,KAAKC,eAC3BhxF,EAAQ,IAAI+wF,EAAcD,GAG5B,OADA,KAAKhqE,IAAI9mB,GACFA,GAGTuwF,iCAOE,OALI,KAAKzmG,WACE,KAEA,KAAK9b,IAAI,WAKtBuiH,8BAASvhG,EAAWrN,EAAW20F,GAE7B,IAAKqV,EAAe,MAClB,OAAO,KAET,IACI9hG,EADEsR,EAAW,KAAK2lB,cAGtB,GAAK,KAAKh3B,WAQRD,EAAQ,KAAKonG,WAAW91F,EAAUnM,EAAGrN,EAAG20F,OARpB,CACpB,IAAI7jG,EAAI,CAACuc,EAAGrN,EAAG,GAEflP,EAAI,KAAKy+G,iBAAiBz+G,GACrB,KAAK0+G,UAAU1+G,EAAE,GAAIA,EAAE,MAC1BoX,EAAQ,KAAKonG,WAAW91F,EAAU1oB,EAAE,GAAIA,EAAE,GAAI6jG,IAKlD,OAAOzsF,GAGT0mG,gCAAWp1F,EAAsBnM,EAAWrN,EAAW20F,GAErD,IADA,IAAIzsF,EAAQ,KACH1c,EAAIguB,EAAS9rB,OAAS,EAAGlC,GAAK,EAAGA,IAAK,CAC7C,IAAMi+B,EAAQjQ,EAAShuB,GAQvB,GAPIw+G,EAAevgF,KACbA,EAAMqkF,UACR5lG,EAASuhB,EAAiB+M,SAASnpB,EAAGrN,EAAG20F,GAC/BlrE,EAAiBpK,MAAMhS,EAAGrN,KACpCkI,EAAQuhB,IAGRvhB,EACF,MAGJ,OAAOA,GAGT0mG,yBAAIrmG,GACF,IAAMsF,EAAS,KAAKu+F,YACd5yF,EAAW,KAAK2lB,cAChBytE,EAAW,KAAKvgH,IAAI,YACpBojH,EAAYlnG,EAAQF,YACtBonG,GA9OR,SAAqBxnG,EAAuBM,EAAmBklB,QAAA,QAAAA,MAEzDA,EACFllB,EAAQklB,WAERllB,EAAQ7V,IAAI,SAAU,MACtB6V,EAAQ7V,IAAI,SAAU,OAExBo3G,EAAgB7hG,EAAUk3B,cAAe52B,GAuOrCutB,CAAY25E,EAAWlnG,GAAS,GAElCA,EAAQ7V,IAAI,SAAU,MAClBmb,GApRR,SAAS6hG,EAAUnnG,EAAmBsF,GAEpC,GADAtF,EAAQ7V,IAAI,SAAUmb,GAClBtF,EAAQulG,UAAW,CACrB,IAAMt0F,EAAWjR,EAAQlc,IAAI,YACzBmtB,EAAS9rB,QACX8rB,EAAS3d,SAAQ,SAAC4tB,GAChBimF,EAAUjmF,EAAO5b,OA+QnB6hG,CAAUnnG,EAASsF,GAEjB++F,GAtQR,SAAS+C,EAAYpnG,EAAmBqkG,GAEtC,GADArkG,EAAQ7V,IAAI,WAAYk6G,GACpBrkG,EAAQulG,UAAW,CACrB,IAAMt0F,EAAWjR,EAAQlc,IAAI,YACzBmtB,EAAS9rB,QACX8rB,EAAS3d,SAAQ,SAAC4tB,GAChBkmF,EAAYlmF,EAAOmjF,OAiQrB+C,CAAYpnG,EAASqkG,GAEvBpzF,EAAStrB,KAAKqa,GACdA,EAAQwjG,eAAe,OACvB,KAAK6D,oBAAoBrnG,IAI3BqmG,yCAAoBrmG,GAClB,IAAMyjG,EAAc,KAAK6C,iBAErB7C,GACFzjG,EAAQymG,YAAYhD,IAIxB4C,mCACE,OAAO,KAAKviH,IAAI,aAGlBuiH,4BACE,IAhQiB3zF,EAgQXzB,EAAW,KAAK2lB,cAEtBxwC,eAAK6qB,GAAU,SAACiQ,EAAOx7B,GAErB,OADAw7B,EAAK,OAAUx7B,EACRw7B,KAETjQ,EAASpnB,MAtQQ6oB,EAuQH,SAACwtF,EAAMv9E,GACjB,OAAOu9E,EAAKp8G,IAAI,UAAY6+B,EAAK7+B,IAAI,WAvQpC,SAAU+0B,EAAME,GACrB,IAAMtzB,EAASitB,EAAQmG,EAAME,GAC7B,OAAkB,IAAXtzB,EAAeozB,EAAI,OAAUE,EAAK,OAAUtzB,KAwQnD,KAAK+9G,eAAe,SAGtB6C,6BAEE,GADA,KAAKl8G,IAAI,YAAY,IACjB,KAAKs5B,UAAT,CAIA,IADA,IAAMxS,EAAW,KAAK2lB,cACb3zC,EAAIguB,EAAS9rB,OAAS,EAAGlC,GAAK,EAAGA,IACxCguB,EAAShuB,GAAGiiC,UAEd,KAAK/6B,IAAI,WAAY,IACrB,KAAKq5G,eAAe,SACpB,KAAKr5G,IAAI,YAAY,KAGvBk8G,+BACM,KAAKviH,IAAI,eAGb,KAAK4sC,QACLvL,YAAMD,QAAO9hC,KAAA,QAOfijH,gCACE,OAAO,KAAKiB,gBAAgB,IAO9BjB,+BACE,IAAMp1F,EAAW,KAAK2lB,cACtB,OAAO,KAAK0wE,gBAAgBr2F,EAAS9rB,OAAS,IAOhDkhH,qCAAgB3gH,GAEd,OADiB,KAAKkxC,cACNlxC,IAOlB2gH,gCAEE,OADiB,KAAKzvE,cACNzxC,QAQlBkhH,6BAAQrmG,GAEN,OADiB,KAAK42B,cACNtxC,QAAQ0a,IAAY,GAQtCqmG,iCAAYrmG,EAAmBklB,QAAA,QAAAA,MACzB,KAAKwhB,QAAQ1mC,IACfA,EAAQ3W,OAAO67B,IASnBmhF,6BAAQl9G,GACN,IAAIxB,EAAkB,GAChBspB,EAAW,KAAK2lB,cAStB,OARAxwC,eAAK6qB,GAAU,SAACjR,GACV7W,EAAG6W,IACLrY,EAAIhC,KAAKqa,GAEPA,EAAQulG,YACV59G,EAAMA,EAAIE,OAAQmY,EAAmBupC,QAAQpgD,QAG1CxB,GAQT0+G,0BAAKl9G,GACH,IAAIxB,EAAgB,KACdspB,EAAW,KAAK2lB,cAWtB,OAVAxwC,eAAK6qB,GAAU,SAACjR,GAMd,GALI7W,EAAG6W,GACLrY,EAAMqY,EACGA,EAAQulG,YACjB59G,EAAOqY,EAAmB7Y,KAAKgC,IAE7BxB,EACF,OAAO,KAGJA,GAQT0+G,8BAASr1F,GACP,OAAO,KAAK7pB,MAAK,SAAC6Y,GAChB,OAAOA,EAAQlc,IAAI,QAAUktB,MAWjCq1F,qCAAgBr4E,GACd,OAAO,KAAK7mC,MAAK,SAAC6Y,GAChB,OAAOA,EAAQlc,IAAI,eAAiBkqC,MASxCq4E,mCAAc7iH,GACZ,OAAO,KAAK+lD,SAAQ,SAACvpC,GACnB,OAAOA,EAAQlc,IAAI,UAAYN,MAGrC,EA/ZA,CAAiCuM,I,uOCnEjC,IAIIw3G,GACAC,GALAC,GAAQ,EACR/1G,GAAU,EACVq9E,GAAW,EAIX24B,GAAY,EACZC,GAAW,EACXC,GAAY,EACZC,GAA+B,YAAvB,oBAAOC,YAAP,eAAOA,eAA4BA,YAAY/zG,IAAM+zG,YAAch0G,KAC3Ei0G,GAA6B,YAAlB,oBAAO73G,OAAP,eAAOA,UAAuBA,OAAOD,sBAAwBC,OAAOD,sBAAsBxL,KAAKyL,QAAU,SAASI,GAAKC,WAAWD,EAAG,KAE7I,SAASyD,KACd,OAAO4zG,KAAaI,GAASC,IAAWL,GAAWE,GAAM9zG,MAAQ6zG,IAGnE,SAASI,KACPL,GAAW,EAGN,SAASM,KACdplH,KAAKqlH,MACLrlH,KAAKslH,MACLtlH,KAAKulH,MAAQ,KA0BR,SAAS7tE,GAAMoO,EAAU65D,EAAO5zB,GACrC,IAAIzqF,EAAI,IAAI8jH,GAEZ,OADA9jH,EAAEkkH,QAAQ1/D,EAAU65D,EAAO5zB,GACpBzqF,EAcT,SAASmkH,KACPX,IAAYD,GAAYG,GAAM9zG,OAAS6zG,GACvCH,GAAQ/1G,GAAU,EAClB,KAdK,WACLqC,OACE0zG,GAEF,IADA,IAAkB78G,EAAdzG,EAAIojH,GACDpjH,IACAyG,EAAI+8G,GAAWxjH,EAAEgkH,QAAU,GAAGhkH,EAAE+jH,MAAM9kH,KAAK,KAAMwH,GACtDzG,EAAIA,EAAEikH,QAENX,GAOAc,GADF,QAGEd,GAAQ,EAWZ,WACE,IAAIe,EAAmBjM,EAAfD,EAAKiL,GAAc34B,EAAOjhF,IAClC,KAAO2uG,GACDA,EAAG4L,OACDt5B,EAAO0tB,EAAG6L,QAAOv5B,EAAO0tB,EAAG6L,OAC/BK,EAAKlM,EAAIA,EAAKA,EAAG8L,QAEjB7L,EAAKD,EAAG8L,MAAO9L,EAAG8L,MAAQ,KAC1B9L,EAAKkM,EAAKA,EAAGJ,MAAQ7L,EAAKgL,GAAWhL,GAGzCiL,GAAWgB,EACXC,GAAM75B,GAtBJ85B,GACAf,GAAW,GAIf,SAASgB,KACP,IAAI50G,EAAM8zG,GAAM9zG,MAAOyuG,EAAQzuG,EAAM2zG,GACjClF,EA7EU,MA6ESoF,IAAapF,EAAOkF,GAAY3zG,GAkBzD,SAAS00G,GAAM75B,GACT64B,KACA/1G,KAASA,GAAUb,aAAaa,KACxBk9E,EAAO+4B,GACP,IACN/4B,EAAOjhF,MAAU+D,GAAUnB,WAAW+3G,GAAM15B,EAAOi5B,GAAM9zG,MAAQ6zG,KACjE74B,KAAUA,GAAW65B,cAAc75B,OAElCA,KAAU24B,GAAYG,GAAM9zG,MAAOg7E,GAAW85B,YAAYF,GAvGnD,MAwGZlB,GAAQ,EAAGM,GAASO,MAjFxBL,GAAMpjH,UAAY01C,GAAM11C,UAAY,CAClC8K,YAAas4G,GACbI,QAAS,SAAS1/D,EAAU65D,EAAO5zB,GACjC,GAAwB,mBAAbjmC,EAAyB,MAAM,IAAI32C,UAAU,8BACxD48E,GAAgB,MAARA,EAAe76E,MAAS66E,IAAkB,MAAT4zB,EAAgB,GAAKA,GACzD3/G,KAAKulH,OAASZ,KAAa3kH,OAC1B2kH,GAAUA,GAASY,MAAQvlH,KAC1B0kH,GAAW1kH,KAChB2kH,GAAW3kH,MAEbA,KAAKqlH,MAAQv/D,EACb9lD,KAAKslH,MAAQv5B,EACb65B,MAEF/rD,KAAM,WACA75D,KAAKqlH,QACPrlH,KAAKqlH,MAAQ,KACbrlH,KAAKslH,MAAQx6G,IACb86G,QC5CS,gBAAS94G,EAAanN,EAASqC,GAC5C8K,EAAY9K,UAAYrC,EAAQqC,UAAYA,EAC5CA,EAAU8K,YAAcA,GAGnB,SAAS4C,GAAOsN,EAAQipG,GAC7B,IAAIjkH,EAAYlB,OAAOY,OAAOsb,EAAOhb,WACrC,IAAK,IAAIL,KAAOskH,EAAYjkH,EAAUL,GAAOskH,EAAWtkH,GACxD,OAAOK,ECNF,SAAS6vG,MAET,IAGHqU,GAAM,sBACNC,GAAM,gDACNC,GAAM,iDACNC,GAAQ,qBACRC,GAAe,IAAInpF,OAAO,UAAY,CAAC+oF,GAAKA,GAAKA,IAAO,QACxDK,GAAe,IAAIppF,OAAO,UAAY,CAACipF,GAAKA,GAAKA,IAAO,QACxDI,GAAgB,IAAIrpF,OAAO,WAAa,CAAC+oF,GAAKA,GAAKA,GAAKC,IAAO,QAC/DM,GAAgB,IAAItpF,OAAO,WAAa,CAACipF,GAAKA,GAAKA,GAAKD,IAAO,QAC/DO,GAAe,IAAIvpF,OAAO,UAAY,CAACgpF,GAAKC,GAAKA,IAAO,QACxDO,GAAgB,IAAIxpF,OAAO,WAAa,CAACgpF,GAAKC,GAAKA,GAAKD,IAAO,QAE/DS,GAAQ,CACV5jG,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXjP,KAAM,QACNkP,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAAS26F,KACP,OAAO7mH,KAAKmW,MAAM2wG,YAOpB,SAASC,KACP,OAAO/mH,KAAKmW,MAAM6wG,YAGL,SAAS59G,GAAM69G,GAC5B,IAAIzmH,EAAGH,EAEP,OADA4mH,GAAUA,EAAS,IAAIlgF,OAAOr7B,eACtBlL,EAAI6lH,GAAM7sG,KAAKytG,KAAY5mH,EAAIG,EAAE,GAAG8B,OAAQ9B,EAAI6K,SAAS7K,EAAE,GAAI,IAAW,IAANH,EAAU6mH,GAAK1mH,GAC/E,IAANH,EAAU,IAAI8mH,GAAK3mH,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANH,EAAU+mH,GAAK5mH,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANH,EAAU+mH,GAAM5mH,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAI8lH,GAAa9sG,KAAKytG,IAAW,IAAIE,GAAI3mH,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAI+lH,GAAa/sG,KAAKytG,IAAW,IAAIE,GAAW,IAAP3mH,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAIgmH,GAAchtG,KAAKytG,IAAWG,GAAK5mH,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAIimH,GAAcjtG,KAAKytG,IAAWG,GAAY,IAAP5mH,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAIkmH,GAAaltG,KAAKytG,IAAWI,GAAK7mH,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAImmH,GAAcntG,KAAKytG,IAAWI,GAAK7mH,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxEomH,GAAM3kH,eAAeglH,GAAUC,GAAKN,GAAMK,IAC/B,gBAAXA,EAA2B,IAAIE,GAAI9uF,IAAKA,IAAKA,IAAK,GAClD,KAGR,SAAS6uF,GAAKrlH,GACZ,OAAO,IAAIslH,GAAItlH,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,GAG1D,SAASulH,GAAKlmH,EAAG2T,EAAGjO,EAAGnC,GAErB,OADIA,GAAK,IAAGvD,EAAI2T,EAAIjO,EAAIyxB,KACjB,IAAI8uF,GAAIjmH,EAAG2T,EAAGjO,EAAGnC,GAGnB,SAAS6iH,GAAWzmH,GAEzB,OADMA,aAAagxG,KAAQhxG,EAAIuI,GAAMvI,IAChCA,EAEE,IAAIsmH,IADXtmH,EAAIA,EAAEsV,OACWjV,EAAGL,EAAEgU,EAAGhU,EAAE+F,EAAG/F,EAAEuiD,SAFjB,IAAI+jE,GAKd,SAAShxG,GAAIjV,EAAG2T,EAAGjO,EAAGw8C,GAC3B,OAA4B,IAArBr0C,UAAUzM,OAAeglH,GAAWpmH,GAAK,IAAIimH,GAAIjmH,EAAG2T,EAAGjO,EAAc,MAAXw8C,EAAkB,EAAIA,GAGlF,SAAS+jE,GAAIjmH,EAAG2T,EAAGjO,EAAGw8C,GAC3BpjD,KAAKkB,GAAKA,EACVlB,KAAK6U,GAAKA,EACV7U,KAAK4G,GAAKA,EACV5G,KAAKojD,SAAWA,EA2BlB,SAASmkE,KACP,MAAO,IAAM1wG,GAAI7W,KAAKkB,GAAK2V,GAAI7W,KAAK6U,GAAKgC,GAAI7W,KAAK4G,GAGpD,SAAS4gH,KACP,IAAI/iH,EAAIzE,KAAKojD,QACb,OAAc,KADQ3+C,EAAIkB,MAAMlB,GAAK,EAAIY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGd,KAC/C,OAAS,SACrBY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAKkB,IAAM,IAAM,KACtDmE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAK6U,IAAM,IAAM,KACtDxP,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAM9J,KAAK4G,IAAM,KACzC,IAANnC,EAAU,IAAM,KAAOA,EAAI,KAGpC,SAASoS,GAAIxV,GAEX,QADAA,EAAQgE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKyE,MAAMzI,IAAU,KACvC,GAAK,IAAM,IAAMA,EAAM4B,SAAS,IAGlD,SAASokH,GAAK7vG,EAAGrV,EAAG9B,EAAGoE,GAIrB,OAHIA,GAAK,EAAG+S,EAAIrV,EAAI9B,EAAIg4B,IACfh4B,GAAK,GAAKA,GAAK,EAAGmX,EAAIrV,EAAIk2B,IAC1Bl2B,GAAK,IAAGqV,EAAI6gB,KACd,IAAIovF,GAAIjwG,EAAGrV,EAAG9B,EAAGoE,GAGnB,SAASijH,GAAW7mH,GACzB,GAAIA,aAAa4mH,GAAK,OAAO,IAAIA,GAAI5mH,EAAE2W,EAAG3W,EAAEsB,EAAGtB,EAAER,EAAGQ,EAAEuiD,SAEtD,GADMviD,aAAagxG,KAAQhxG,EAAIuI,GAAMvI,KAChCA,EAAG,OAAO,IAAI4mH,GACnB,GAAI5mH,aAAa4mH,GAAK,OAAO5mH,EAE7B,IAAIK,GADJL,EAAIA,EAAEsV,OACIjV,EAAI,IACV2T,EAAIhU,EAAEgU,EAAI,IACVjO,EAAI/F,EAAE+F,EAAI,IACVrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrBtB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrB4Q,EAAI6gB,IACJl2B,EAAImD,EAAMC,EACVlF,GAAKiF,EAAMC,GAAO,EAUtB,OATIpD,GACaqV,EAAXtW,IAAMoE,GAAUuP,EAAIjO,GAAKzE,EAAc,GAAT0S,EAAIjO,GAC7BiO,IAAMvP,GAAUsB,EAAI1F,GAAKiB,EAAI,GAC5BjB,EAAI2T,GAAK1S,EAAI,EACvBA,GAAK9B,EAAI,GAAMiF,EAAMC,EAAM,EAAID,EAAMC,EACrCiS,GAAK,IAELrV,EAAI9B,EAAI,GAAKA,EAAI,EAAI,EAAImX,EAEpB,IAAIiwG,GAAIjwG,EAAGrV,EAAG9B,EAAGQ,EAAEuiD,SAO5B,SAASqkE,GAAIjwG,EAAGrV,EAAG9B,EAAG+iD,GACpBpjD,KAAKwX,GAAKA,EACVxX,KAAKmC,GAAKA,EACVnC,KAAKK,GAAKA,EACVL,KAAKojD,SAAWA,EAyClB,SAASukE,GAAQnwG,EAAGq/F,EAAIC,GACtB,OAGY,KAHJt/F,EAAI,GAAKq/F,GAAMC,EAAKD,GAAMr/F,EAAI,GAChCA,EAAI,IAAMs/F,EACVt/F,EAAI,IAAMq/F,GAAMC,EAAKD,IAAO,IAAMr/F,GAAK,GACvCq/F,GCjXD,SAAS+Q,GAAMnO,EAAIoO,EAAIzqD,EAAIC,EAAIyqD,GACpC,IAAIpO,EAAKD,EAAKA,EAAIsB,EAAKrB,EAAKD,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAIC,EAAKqB,GAAM8M,GAC9B,EAAI,EAAInO,EAAK,EAAIqB,GAAM39C,GACvB,EAAI,EAAIq8C,EAAK,EAAIC,EAAK,EAAIqB,GAAM19C,EACjC09C,EAAK+M,GAAM,EDoKnBhoH,GAAO+xG,GAAOzoG,GAAO,CACnB8gG,KAAM,SAAS9zF,GACb,OAAOtV,OAAO0S,OAAO,IAAIxT,KAAK8M,YAAa9M,KAAMoW,IAEnD2xG,YAAa,WACX,OAAO/nH,KAAKmW,MAAM4xG,eAEpBlxG,IAAKgwG,GACLC,UAAWD,GACXmB,UASF,WACE,OAAON,GAAW1nH,MAAMgoH,aATxBhB,UAAWD,GACX9jH,SAAU8jH,KA6DZjnH,GAAOqnH,GAAKhxG,GAAKzG,GAAOmiG,GAAO,CAC7BoW,SAAU,SAAStkH,GAEjB,OADAA,EAAS,MAALA,EA9Oc,EADF,GA+OW0B,KAAKkS,IA9Od,EADF,GA+O8B5T,GACvC,IAAIwjH,GAAInnH,KAAKkB,EAAIyC,EAAG3D,KAAK6U,EAAIlR,EAAG3D,KAAK4G,EAAIjD,EAAG3D,KAAKojD,UAE1D8kE,OAAQ,SAASvkH,GAEf,OADAA,EAAS,MAALA,EAnPY,GAmPS0B,KAAKkS,IAnPd,GAmP0B5T,GACnC,IAAIwjH,GAAInnH,KAAKkB,EAAIyC,EAAG3D,KAAK6U,EAAIlR,EAAG3D,KAAK4G,EAAIjD,EAAG3D,KAAKojD,UAE1DjtC,IAAK,WACH,OAAOnW,MAET+nH,YAAa,WACX,OAAS,IAAO/nH,KAAKkB,GAAKlB,KAAKkB,EAAI,QAC1B,IAAOlB,KAAK6U,GAAK7U,KAAK6U,EAAI,QAC1B,IAAO7U,KAAK4G,GAAK5G,KAAK4G,EAAI,OAC3B,GAAK5G,KAAKojD,SAAWpjD,KAAKojD,SAAW,GAE/CvsC,IAAK0wG,GACLT,UAAWS,GACXP,UAAWQ,GACXvkH,SAAUukH,MAiEZ1nH,GAAO2nH,IAXA,SAAajwG,EAAGrV,EAAG9B,EAAG+iD,GAC3B,OAA4B,IAArBr0C,UAAUzM,OAAeolH,GAAWlwG,GAAK,IAAIiwG,GAAIjwG,EAAGrV,EAAG9B,EAAc,MAAX+iD,EAAkB,EAAIA,KAUxE1zC,GAAOmiG,GAAO,CAC7BoW,SAAU,SAAStkH,GAEjB,OADAA,EAAS,MAALA,EApUc,EADF,GAqUW0B,KAAKkS,IApUd,EADF,GAqU8B5T,GACvC,IAAI8jH,GAAIznH,KAAKwX,EAAGxX,KAAKmC,EAAGnC,KAAKK,EAAIsD,EAAG3D,KAAKojD,UAElD8kE,OAAQ,SAASvkH,GAEf,OADAA,EAAS,MAALA,EAzUY,GAyUS0B,KAAKkS,IAzUd,GAyU0B5T,GACnC,IAAI8jH,GAAIznH,KAAKwX,EAAGxX,KAAKmC,EAAGnC,KAAKK,EAAIsD,EAAG3D,KAAKojD,UAElDjtC,IAAK,WACH,IAAIqB,EAAIxX,KAAKwX,EAAI,IAAqB,KAAdxX,KAAKwX,EAAI,GAC7BrV,EAAIwD,MAAM6R,IAAM7R,MAAM3F,KAAKmC,GAAK,EAAInC,KAAKmC,EACzC9B,EAAIL,KAAKK,EACTy2G,EAAKz2G,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAK8B,EACjC00G,EAAK,EAAIx2G,EAAIy2G,EACjB,OAAO,IAAIqQ,GACTQ,GAAQnwG,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKq/F,EAAIC,GAC1C6Q,GAAQnwG,EAAGq/F,EAAIC,GACf6Q,GAAQnwG,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKq/F,EAAIC,GACzC92G,KAAKojD,UAGT2kE,YAAa,WACX,OAAQ,GAAK/nH,KAAKmC,GAAKnC,KAAKmC,GAAK,GAAKwD,MAAM3F,KAAKmC,KACzC,GAAKnC,KAAKK,GAAKL,KAAKK,GAAK,GACzB,GAAKL,KAAKojD,SAAWpjD,KAAKojD,SAAW,GAE/C4kE,UAAW,WACT,IAAIvjH,EAAIzE,KAAKojD,QACb,OAAc,KADQ3+C,EAAIkB,MAAMlB,GAAK,EAAIY,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGd,KAC/C,OAAS,UACpBzE,KAAKwX,GAAK,GAAK,KACA,KAAfxX,KAAKmC,GAAK,GAAW,MACN,KAAfnC,KAAKK,GAAK,GAAW,KACf,IAANoE,EAAU,IAAM,KAAOA,EAAI,SChWvB,ICRA,YAASwd,GACtB,OAAO,WACL,OAAOA,ICAX,SAASkmG,GAAO1jH,EAAG/D,GACjB,OAAO,SAASY,GACd,OAAOmD,EAAInD,EAAIZ,GAeZ,SAAS0nH,GAAMxzG,GACpB,OAAoB,IAAZA,GAAKA,GAAWyzG,GAAU,SAAS5jH,EAAGmC,GAC5C,OAAOA,EAAInC,EAbf,SAAqBA,EAAGmC,EAAGgO,GACzB,OAAOnQ,EAAIY,KAAKkS,IAAI9S,EAAGmQ,GAAIhO,EAAIvB,KAAKkS,IAAI3Q,EAAGgO,GAAKnQ,EAAGmQ,EAAI,EAAIA,EAAG,SAAStT,GACrE,OAAO+D,KAAKkS,IAAI9S,EAAInD,EAAIsF,EAAGgO,IAWZ0zG,CAAY7jH,EAAGmC,EAAGgO,GAAK2zG,GAAS5iH,MAAMlB,GAAKmC,EAAInC,IAInD,SAAS4jH,GAAQ5jH,EAAGmC,GACjC,IAAIlG,EAAIkG,EAAInC,EACZ,OAAO/D,EAAIynH,GAAO1jH,EAAG/D,GAAK6nH,GAAS5iH,MAAMlB,GAAKmC,EAAInC,GCtBrC,gBAAU+jH,EAAS5zG,GAChC,IAAIxL,EAAQg/G,GAAMxzG,GAElB,SAASuB,EAAI+jD,EAAO+O,GAClB,IAAI/nE,EAAIkI,GAAO8wD,EAAQuuD,GAASvuD,IAAQh5D,GAAI+nE,EAAMw/C,GAASx/C,IAAM/nE,GAC7D2T,EAAIzL,EAAM8wD,EAAMrlD,EAAGo0D,EAAIp0D,GACvBjO,EAAIwC,EAAM8wD,EAAMtzD,EAAGqiE,EAAIriE,GACvBw8C,EAAUilE,GAAQnuD,EAAM9W,QAAS6lB,EAAI7lB,SACzC,OAAO,SAAS9hD,GAKd,OAJA44D,EAAMh5D,EAAIA,EAAEI,GACZ44D,EAAMrlD,EAAIA,EAAEvT,GACZ44D,EAAMtzD,EAAIA,EAAEtF,GACZ44D,EAAM9W,QAAUA,EAAQ9hD,GACjB44D,EAAQ,IAMnB,OAFA/jD,EAAIiyG,MAAQI,EAELryG,EAnBM,CAoBZ,GAEH,SAASuyG,GAAUC,GACjB,OAAO,SAASC,GACd,IAIIxoH,EAAGgJ,EAJHvH,EAAI+mH,EAAOtmH,OACXpB,EAAI,IAAImC,MAAMxB,GACdgT,EAAI,IAAIxR,MAAMxB,GACd+E,EAAI,IAAIvD,MAAMxB,GAElB,IAAKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBgJ,EAAQq/G,GAASG,EAAOxoH,IACxBc,EAAEd,GAAKgJ,EAAMlI,GAAK,EAClB2T,EAAEzU,GAAKgJ,EAAMyL,GAAK,EAClBjO,EAAExG,GAAKgJ,EAAMxC,GAAK,EAMpB,OAJA1F,EAAIynH,EAAOznH,GACX2T,EAAI8zG,EAAO9zG,GACXjO,EAAI+hH,EAAO/hH,GACXwC,EAAMg6C,QAAU,EACT,SAAS9hD,GAId,OAHA8H,EAAMlI,EAAIA,EAAEI,GACZ8H,EAAMyL,EAAIA,EAAEvT,GACZ8H,EAAMxC,EAAIA,EAAEtF,GACL8H,EAAQ,KAKCs/G,IH7CP,SAAS1lH,GACtB,IAAInB,EAAImB,EAAOV,OAAS,EACxB,OAAO,SAAShB,GACd,IAAIlB,EAAIkB,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGO,EAAI,GAAKwD,KAAKqS,MAAMpW,EAAIO,GAChEu7D,EAAKp6D,EAAO5C,GACZi9D,EAAKr6D,EAAO5C,EAAI,GAChBynH,EAAKznH,EAAI,EAAI4C,EAAO5C,EAAI,GAAK,EAAIg9D,EAAKC,EACtCyqD,EAAK1nH,EAAIyB,EAAI,EAAImB,EAAO5C,EAAI,GAAK,EAAIi9D,EAAKD,EAC9C,OAAOwqD,IAAOtmH,EAAIlB,EAAIyB,GAAKA,EAAGgmH,EAAIzqD,EAAIC,EAAIyqD,OGsClBY,ICpDb,SAAS1lH,GACtB,IAAInB,EAAImB,EAAOV,OACf,OAAO,SAAShB,GACd,IAAIlB,EAAIiF,KAAKqS,QAAQpW,GAAK,GAAK,IAAMA,EAAIA,GAAKO,GAC1CgmH,EAAK7kH,GAAQ5C,EAAIyB,EAAI,GAAKA,GAC1Bu7D,EAAKp6D,EAAO5C,EAAIyB,GAChBw7D,EAAKr6D,GAAQ5C,EAAI,GAAKyB,GACtBimH,EAAK9kH,GAAQ5C,EAAI,GAAKyB,GAC1B,OAAO+lH,IAAOtmH,EAAIlB,EAAIyB,GAAKA,EAAGgmH,EAAIzqD,EAAIC,EAAIyqD,OD2CvC,IErDQ,YAASrjH,EAAGmC,GACpBA,IAAGA,EAAI,IACZ,IAEIxG,EAFAyB,EAAI4C,EAAIY,KAAKE,IAAIqB,EAAEtE,OAAQmC,EAAEnC,QAAU,EACvC7B,EAAImG,EAAEoF,QAEV,OAAO,SAAS1K,GACd,IAAKlB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGK,EAAEL,GAAKqE,EAAErE,IAAM,EAAIkB,GAAKsF,EAAExG,GAAKkB,EACvD,OAAOb,IAIJ,SAASooH,GAAc5mG,GAC5B,OAAO6mG,YAAYC,OAAO9mG,MAAQA,aAAa+mG,UCL1C,SAASC,GAAaxkH,EAAGmC,GAC9B,IAIIxG,EAJA8oH,EAAKtiH,EAAIA,EAAEtE,OAAS,EACpB6mH,EAAK1kH,EAAIY,KAAKE,IAAI2jH,EAAIzkH,EAAEnC,QAAU,EAClC2f,EAAI,IAAI5e,MAAM8lH,GACd1oH,EAAI,IAAI4C,MAAM6lH,GAGlB,IAAK9oH,EAAI,EAAGA,EAAI+oH,IAAM/oH,EAAG6hB,EAAE7hB,GAAKiB,GAAMoD,EAAErE,GAAIwG,EAAExG,IAC9C,KAAOA,EAAI8oH,IAAM9oH,EAAGK,EAAEL,GAAKwG,EAAExG,GAE7B,OAAO,SAASkB,GACd,IAAKlB,EAAI,EAAGA,EAAI+oH,IAAM/oH,EAAGK,EAAEL,GAAK6hB,EAAE7hB,GAAGkB,GACrC,OAAOb,GCnBI,gBAASgE,EAAGmC,GACzB,IAAIlG,EAAI,IAAIuQ,KACZ,OAAOxM,GAAKA,EAAGmC,GAAKA,EAAG,SAAStF,GAC9B,OAAOZ,EAAE0oH,QAAQ3kH,GAAK,EAAInD,GAAKsF,EAAItF,GAAIZ,ICH5B,YAAS+D,EAAGmC,GACzB,OAAOnC,GAAKA,EAAGmC,GAAKA,EAAG,SAAStF,GAC9B,OAAOmD,GAAK,EAAInD,GAAKsF,EAAItF,I,uOCAd,gBAASmD,EAAGmC,GACzB,IAEIjD,EAFAvD,EAAI,GACJK,EAAI,GAMR,IAAKkD,KAHK,OAANc,GAA2B,WAAb,GAAOA,KAAgBA,EAAI,IACnC,OAANmC,GAA2B,WAAb,GAAOA,KAAgBA,EAAI,IAEnCA,EACJjD,KAAKc,EACPrE,EAAEuD,GAAKtC,GAAMoD,EAAEd,GAAIiD,EAAEjD,IAErBlD,EAAEkD,GAAKiD,EAAEjD,GAIb,OAAO,SAASrC,GACd,IAAKqC,KAAKvD,EAAGK,EAAEkD,GAAKvD,EAAEuD,GAAGrC,GACzB,OAAOb,IClBP4oH,GAAM,8CACNC,GAAM,IAAInsF,OAAOksF,GAAIt7F,OAAQ,KAclB,gBAAStpB,EAAGmC,GACzB,IACI2iH,EACAC,EACAC,EAHAC,EAAKL,GAAIM,UAAYL,GAAIK,UAAY,EAIrCvpH,GAAK,EACL+B,EAAI,GACJ4xB,EAAI,GAMR,IAHAtvB,GAAQ,GAAImC,GAAQ,IAGZ2iH,EAAKF,GAAI7vG,KAAK/U,MACd+kH,EAAKF,GAAI9vG,KAAK5S,MACf6iH,EAAKD,EAAG3mH,OAAS6mH,IACpBD,EAAK7iH,EAAEoF,MAAM09G,EAAID,GACbtnH,EAAE/B,GAAI+B,EAAE/B,IAAMqpH,EACbtnH,IAAI/B,GAAKqpH,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxBrnH,EAAE/B,GAAI+B,EAAE/B,IAAMopH,EACbrnH,IAAI/B,GAAKopH,GAEdrnH,IAAI/B,GAAK,KACT2zB,EAAEjxB,KAAK,CAAC1C,EAAGA,EAAG6hB,EAAG2nG,GAAOL,EAAIC,MAE9BE,EAAKJ,GAAIK,UAYX,OARID,EAAK9iH,EAAEtE,SACTmnH,EAAK7iH,EAAEoF,MAAM09G,GACTvnH,EAAE/B,GAAI+B,EAAE/B,IAAMqpH,EACbtnH,IAAI/B,GAAKqpH,GAKTtnH,EAAEG,OAAS,EAAKyxB,EAAE,GA7C3B,SAAantB,GACX,OAAO,SAAStF,GACd,OAAOsF,EAAEtF,GAAK,IA4CVuoH,CAAI91F,EAAE,GAAG9R,GApDjB,SAAcrb,GACZ,OAAO,WACL,OAAOA,GAmDHspG,CAAKtpG,IACJA,EAAImtB,EAAEzxB,OAAQ,SAAShB,GACtB,IAAK,IAAWT,EAAPT,EAAI,EAAMA,EAAIwG,IAAKxG,EAAG+B,GAAGtB,EAAIkzB,EAAE3zB,IAAIA,GAAKS,EAAEohB,EAAE3gB,GACrD,OAAOa,EAAEkQ,KAAK,O,uOCnDT,gBAAS5N,EAAGmC,GACzB,IAAkBnG,EAAda,EAAI,GAAOsF,GACf,OAAY,MAALA,GAAmB,YAANtF,EAAkBinH,GAAS3hH,IAClC,WAANtF,EAAiBsoH,GACZ,WAANtoH,GAAmBb,EAAI2I,GAAMxC,KAAOA,EAAInG,EAAG0V,IAAOq8F,GAClD5rG,aAAawC,GAAQ+M,GACrBvP,aAAaqK,KAAO64G,GACpBjB,GAAcjiH,GAAKmjH,GACnB1mH,MAAMC,QAAQsD,GAAKqiH,GACE,mBAAdriH,EAAEgiF,SAAgD,mBAAfhiF,EAAE3D,UAA2B0C,MAAMiB,GAAK9E,GAClF8nH,IAAQnlH,EAAGmC,ICpBZ,SAASuhH,GAAO7mH,GACrB,OAAQA,ECDH,SAAS0oH,GAAO1oH,GACrB,OAAOA,EAAIA,EAGN,SAAS2oH,GAAQ3oH,GACtB,OAAOA,GAAK,EAAIA,GAGX,SAAS4oH,GAAU5oH,GACxB,QAASA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,ECThD,SAAS6oH,GAAQ7oH,GACtB,OAAOA,EAAIA,EAAIA,EAGV,SAAS8oH,GAAS9oH,GACvB,QAASA,EAAIA,EAAIA,EAAI,EAGhB,SAAS+oH,GAAW/oH,GACzB,QAASA,GAAK,IAAM,EAAIA,EAAIA,EAAIA,GAAKA,GAAK,GAAKA,EAAIA,EAAI,GAAK,ECT9D,IAEWgpH,GAAU,SAASC,EAAOxiH,GAGnC,SAASuiH,EAAOhpH,GACd,OAAO+D,KAAKkS,IAAIjW,EAAGyG,GAKrB,OARAA,GAAKA,EAMLuiH,EAAOE,SAAWD,EAEXD,EATY,CAFN,GAcJG,GAAW,SAASF,EAAOxiH,GAGpC,SAAS0iH,EAAQnpH,GACf,OAAO,EAAI+D,KAAKkS,IAAI,EAAIjW,EAAGyG,GAK7B,OARAA,GAAKA,EAML0iH,EAAQD,SAAWD,EAEZE,EATa,CAdP,GA0BJC,GAAa,SAASH,EAAOxiH,GAGtC,SAAS2iH,EAAUppH,GACjB,QAASA,GAAK,IAAM,EAAI+D,KAAKkS,IAAIjW,EAAGyG,GAAK,EAAI1C,KAAKkS,IAAI,EAAIjW,EAAGyG,IAAM,EAKrE,OARAA,GAAKA,EAML2iH,EAAUF,SAAWD,EAEdG,EATe,CA1BT,GCAXzS,GAAK5yG,KAAK6F,GACVy/G,GAAS1S,GAAK,EAEX,SAAS2S,GAAMtpH,GACpB,OAAe,IAANA,EAAW,EAAI,EAAI+D,KAAKwS,IAAIvW,EAAIqpH,IAGpC,SAASE,GAAOvpH,GACrB,OAAO+D,KAAKyS,IAAIxW,EAAIqpH,IAGf,SAASG,GAASxpH,GACvB,OAAQ,EAAI+D,KAAKwS,IAAIogG,GAAK32G,IAAM,ECX3B,SAASypH,GAAK9oG,GACnB,OAA+C,oBAAvC5c,KAAKkS,IAAI,GAAI,GAAK0K,GAAK,aCA1B,SAAS+oG,GAAM1pH,GACpB,OAAOypH,GAAK,GAAKzpH,GAGZ,SAAS2pH,GAAO3pH,GACrB,OAAO,EAAIypH,GAAKzpH,GAGX,SAAS4pH,GAAS5pH,GACvB,QAASA,GAAK,IAAM,EAAIypH,GAAK,EAAIzpH,GAAK,EAAIypH,GAAKzpH,EAAI,IAAM,ECXpD,SAAS6pH,GAAS7pH,GACvB,OAAO,EAAI+D,KAAKuS,KAAK,EAAItW,EAAIA,GAGxB,SAAS8pH,GAAU9pH,GACxB,OAAO+D,KAAKuS,KAAK,KAAMtW,EAAIA,GAGtB,SAAS+pH,GAAY/pH,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAI+D,KAAKuS,KAAK,EAAItW,EAAIA,GAAK+D,KAAKuS,KAAK,GAAKtW,GAAK,GAAKA,GAAK,GAAK,ECTxF,IASIqtG,GAAK,OAEF,SAAS2c,GAAShqH,GACvB,OAAO,EAAIiqH,GAAU,EAAIjqH,GAGpB,SAASiqH,GAAUjqH,GACxB,OAAQA,GAAKA,GAhBN,EAAI,GAgBYqtG,GAAKrtG,EAAIA,EAAIA,EAd7B,EAAI,GAckCqtG,IAAMrtG,GAf5C,EAAI,IAemDA,EAbvD,EAAI,EAa4DA,EAXhE,GAAK,GAWoEqtG,IAAMrtG,GAZ/E,EAAI,IAYsFA,EAV1F,GAAK,GAU8FqtG,IAAMrtG,GATzG,GAAK,IAS+GA,EARpH,GAAK,GAWP,SAASkqH,GAAYlqH,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAIiqH,GAAU,EAAIjqH,GAAKiqH,GAAUjqH,EAAI,GAAK,GAAK,ECpBzE,IAEWmqH,GAAU,SAASlB,EAAOpoH,GAGnC,SAASspH,EAAOnqH,GACd,OAAQA,GAAKA,GAAKA,GAAKa,GAAKb,EAAI,GAAKA,GAKvC,OARAa,GAAKA,EAMLspH,EAAOC,UAAYnB,EAEZkB,EATY,CAFL,SAcLE,GAAW,SAASpB,EAAOpoH,GAGpC,SAASwpH,EAAQrqH,GACf,QAASA,EAAIA,IAAMA,EAAI,GAAKa,EAAIb,GAAK,EAKvC,OARAa,GAAKA,EAMLwpH,EAAQD,UAAYnB,EAEboB,EATa,CAdN,SA0BLC,GAAa,SAASrB,EAAOpoH,GAGtC,SAASypH,EAAUtqH,GACjB,QAASA,GAAK,GAAK,EAAIA,EAAIA,IAAMa,EAAI,GAAKb,EAAIa,IAAMb,GAAK,GAAKA,IAAMa,EAAI,GAAKb,EAAIa,GAAK,GAAK,EAK7F,OARAA,GAAKA,EAMLypH,EAAUF,UAAYnB,EAEfqB,EATe,CA1BR,SCEZC,GAAM,EAAIxmH,KAAK6F,GAIR4gH,GAAa,SAASvB,EAAO9lH,EAAGvC,GACzC,IAAIC,EAAIkD,KAAK6wG,KAAK,GAAKzxG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK2pH,IAEpD,SAASC,EAAUxqH,GACjB,OAAOmD,EAAIsmH,OAASzpH,GAAM+D,KAAKyS,KAAK3V,EAAIb,GAAKY,GAM/C,OAHA4pH,EAAUC,UAAY,SAAStnH,GAAK,OAAO8lH,EAAO9lH,EAAGvC,EAAI2pH,KACzDC,EAAUE,OAAS,SAAS9pH,GAAK,OAAOqoH,EAAO9lH,EAAGvC,IAE3C4pH,EAVe,CAHR,EACH,IAeFG,GAAc,SAAS1B,EAAO9lH,EAAGvC,GAC1C,IAAIC,EAAIkD,KAAK6wG,KAAK,GAAKzxG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK2pH,IAEpD,SAASI,EAAW3qH,GAClB,OAAO,EAAImD,EAAIsmH,GAAKzpH,GAAKA,GAAK+D,KAAKyS,KAAKxW,EAAIa,GAAKD,GAMnD,OAHA+pH,EAAWF,UAAY,SAAStnH,GAAK,OAAO8lH,EAAO9lH,EAAGvC,EAAI2pH,KAC1DI,EAAWD,OAAS,SAAS9pH,GAAK,OAAOqoH,EAAO9lH,EAAGvC,IAE5C+pH,EAVgB,CAhBT,EACH,IA4BFC,GAAgB,SAAS3B,EAAO9lH,EAAGvC,GAC5C,IAAIC,EAAIkD,KAAK6wG,KAAK,GAAKzxG,EAAIY,KAAKC,IAAI,EAAGb,MAAQvC,GAAK2pH,IAEpD,SAASK,EAAa5qH,GACpB,QAASA,EAAQ,EAAJA,EAAQ,GAAK,EACpBmD,EAAIsmH,IAAMzpH,GAAK+D,KAAKyS,KAAK3V,EAAIb,GAAKY,GAClC,EAAIuC,EAAIsmH,GAAKzpH,GAAK+D,KAAKyS,KAAK3V,EAAIb,GAAKY,IAAM,EAMnD,OAHAgqH,EAAaH,UAAY,SAAStnH,GAAK,OAAO8lH,EAAO9lH,EAAGvC,EAAI2pH,KAC5DK,EAAaF,OAAS,SAAS9pH,GAAK,OAAOqoH,EAAO9lH,EAAGvC,IAE9CgqH,EAZkB,CA7BX,EACH,ICIPC,GAAwB,GCRvB,ICSDC,GAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GA8EjD,SAASziF,GAAO7sB,EAAiB4iG,EAAsB2M,GAC7C,IAKJ75F,EALI,EAAqBktF,EAAS,UAEtC,GAAI2M,EAAUzM,EAFeF,EAAS,OAEHA,EAAUwC,QAC3C,OAAO,EAGT,IFhFwB/+G,EEgFlByiD,EAAW85D,EAAU95D,SACrBC,EAAS65D,EAAU75D,OACnBymE,EFhFCH,IAFiBhpH,EEkFC0iD,GFhFFn6C,gBAAkB6gH,EAAOppH,GEoFhD,GADAkpH,EAAUA,EAAUzM,EAAYF,EAAUC,MACtCD,EAAUgC,OAGZlvF,EAAQ85F,EADR95F,EAAS65F,EAAUzmE,EAAYA,OAE1B,CAEL,MADApzB,EAAQ65F,EAAUzmE,GACN,GAUV,OALI85D,EAAU/5D,QACZ7oC,EAAMguB,KAAK40E,EAAU/5D,QAAQ,IAE7B7oC,EAAMguB,KAAK40E,EAAUN,UAEhB,EARP5sF,EAAQ85F,EAAO95F,GAWnB,GAAIktF,EAAU/5D,QAAS,CACrB,IAAM3hD,EAAQ07G,EAAU/5D,QAAQnzB,GAChC1V,EAAMguB,KAAK9mC,QAvGf,SAAiB8Y,EAAiB4iG,EAAsBltF,GACtD,IAAMg6F,EAAS,GACP,EAAuB9M,EAAS,UAArBN,EAAYM,EAAS,QACxC,IAAI5iG,EAAM8jB,UAAV,CAGA,IAAI6rF,EDtB0B7kH,ElBCRnD,EAAGmC,EmBsBzB,IAAK,IAAMjD,KAAKy7G,EACd,IAAKjvG,kBAAQkvG,EAAU17G,GAAIy7G,EAAQz7G,IACjC,GAAU,SAANA,EAAc,CAChB,IAAI26G,EAASc,EAAQz7G,GACjB06G,EAAWgB,EAAU17G,GACrB26G,EAAOh8G,OAAS+7G,EAAS/7G,QAC3Bg8G,EAASoO,EAAyBtN,EAAQz7G,IAC1C06G,EAAWqO,EAAyBrN,EAAU17G,IAC9C06G,EAAWqO,EAAwBrO,EAAUC,GAC7CD,EAAWqO,EAAoBrO,EAAUC,GACzCoB,EAAUL,UAAUzuG,KAAOytG,EAC3BqB,EAAUN,QAAQxuG,KAAO0tG,GACfoB,EAAUoC,gBACpBxD,EAASoO,EAAyBtN,EAAQz7G,IAC1C06G,EAAWqO,EAAyBrN,EAAU17G,IAC9C06G,EAAWqO,EAAoBrO,EAAUC,GACzCoB,EAAUL,UAAUzuG,KAAOytG,EAC3BqB,EAAUN,QAAQxuG,KAAO0tG,EACzBoB,EAAUoC,eAAgB,GAE5B0K,EAAO7oH,GAAK,GACZ,IAAK,IAAIvD,EAAI,EAAGA,EAAIk+G,EAAOh8G,OAAQlC,IAAK,CAItC,IAHA,IAAMusH,EAAcrO,EAAOl+G,GACrBwsH,EAAgBvO,EAASj+G,GACzBysH,EAAa,GACVllH,EAAI,EAAGA,EAAIglH,EAAYrqH,OAAQqF,IAClCuC,mBAASyiH,EAAYhlH,KAAOilH,GAAiB1iH,mBAAS0iH,EAAcjlH,KACtE8kH,EAASK,GAAYF,EAAcjlH,GAAIglH,EAAYhlH,IACnDklH,EAAW/pH,KAAK2pH,EAAOj6F,KAEvBq6F,EAAW/pH,KAAK6pH,EAAYhlH,IAGhC6kH,EAAO7oH,GAAGb,KAAK+pH,SAEZ,GAAU,WAANlpH,EAAgB,CAKzB,IACMk9G,GnB/DUp8G,EmB8DkB46G,EAAU17G,IAAMyoH,InB7DhDvD,GADiBjiH,EmB8DgDw4G,EAAQz7G,IAAMyoH,InB7D5DrC,GAAcd,IAAcxkH,EAAGmC,ImB8DrB4rB,GAC/Bg6F,EAAO7oH,GAAKk9G,MDnEiB,CAAC,OAAQ,SAAU,YAAa,eAAe/vG,SCoEvDnN,KDlEGiE,ECkEmBw3G,EAAQz7G,GDlEnB,uBAAuBy5B,KAAKx1B,ICmE5D4kH,EAAO7oH,GAAKy7G,EAAQz7G,GACVG,qBAAWs7G,EAAQz7G,MAE7B8oH,EAASK,GAAYzN,EAAU17G,GAAIy7G,EAAQz7G,IAC3C6oH,EAAO7oH,GAAK8oH,EAAOj6F,IAIzB1V,EAAMguB,KAAK0hF,IA8CTO,CAAQjwG,EAAO4iG,EAAWltF,GAE5B,OAAO,EAGT,IA6Hew6F,GA7Hf,WA0BE,WAAYvqG,GAhBZ,eAAwB,GAKxB,aAAkB,EAKlB,WAAuB,KAOrB,KAAKA,OAASA,EAgGlB,OA1FEuqG,iCAAA,IAEMlwG,EACA2iG,EACAC,EAJN,OAKE,KAAKhoE,MAAQu1E,IAAc,SAACZ,GAE1B,GADA/8F,EAAKoS,QAAU2qF,EACX/8F,EAAK49F,UAAU5qH,OAAS,EAAG,CAC7B,IAAK,IAAIlC,EAAIkvB,EAAK49F,UAAU5qH,OAAS,EAAGlC,GAAK,EAAGA,IAE9C,IADA0c,EAAQwS,EAAK49F,UAAU9sH,IACbwgC,UAERtR,EAAK69F,eAAe/sH,OAFtB,CAKA,IAAK0c,EAAMswG,kBAET,IAAK,IAAIzlH,GADT83G,EAAa3iG,EAAM7b,IAAI,eACCqB,OAAS,EAAGqF,GAAK,EAAGA,IAC1C+3G,EAAYD,EAAW93G,GACVgiC,GAAO7sB,EAAO4iG,EAAW2M,KAEpC5M,EAAWz5G,OAAO2B,EAAG,IACR,EACT+3G,EAAU55D,UACZ45D,EAAU55D,YAKQ,IAAtB25D,EAAWn9G,QACbgtB,EAAK69F,eAAe/sH,GAGPkvB,EAAK7M,OAAOxhB,IAAI,aAG/BquB,EAAK7M,OAAO4mB,YASpB2jF,iCAAYlwG,GACV,KAAKowG,UAAUpqH,KAAKga,IAMtBkwG,oCAAenqH,GACb,KAAKqqH,UAAUlnH,OAAOnD,EAAO,IAM/BmqH,mCACE,QAAS,KAAKE,UAAU5qH,QAM1B0qH,4BACM,KAAKt1E,OACP,KAAKA,MAAMmiB,QAQfmzD,uCAAkBhL,QAAA,QAAAA,MAChB,KAAKkL,UAAUz8G,SAAQ,SAAC48G,GACtBA,EAASv8E,YAAYkxE,MAEvB,KAAKkL,UAAY,GACjB,KAAKzqG,OAAO4mB,QAMd2jF,+BACE,OAAO,KAAKtrF,SAEhB,EA3HA,GCrHM4rF,GAAS,CACb,YACA,UACA,WACA,WACA,YACA,YACA,aACA,aACA,aACA,YACA,WACA,YACA,WACA,YACA,OACA,cACA,cAcF,SAASC,GAAgBv/F,EAAQ7qB,EAAMi/G,GACrCA,EAASzhH,KAAOwC,EAChBi/G,EAASp0F,OAASA,EAClBo0F,EAASr/E,cAAgB/U,EACzBo0F,EAASU,eAAiB90F,EAC1BA,EAAO5R,KAAKjZ,EAAMi/G,GAIpB,SAASoL,GAAY3wG,EAAW1Z,EAAMi/G,GACpC,GAAIA,EAASp/E,QAAS,CACpB,IAAIq/E,OAAa,EACboL,GAAc,EASlB,GARa,eAATtqH,GACFk/G,EAAgBD,EAASG,UACzBkL,GAAc,GACI,eAATtqH,IACTsqH,GAAc,EACdpL,EAAgBD,EAASI,SAGvB3lG,EAAUE,YAAc0wG,EAC1B,OAGF,GAAIpL,GAAiBnlG,EAASL,EAAWwlG,GAGvC,YADAD,EAASp/E,SAAU,GAIrBo/E,EAASzhH,KAAOwC,EAChBi/G,EAASr/E,cAAgBlmB,EACzBulG,EAASU,eAAiBjmG,EAC1BA,EAAUT,KAAKjZ,EAAMi/G,IAIzB,IAiXesL,GAjXf,WAYE,WAAYtwG,GAAZ,WARQ,mBAAwB,KACxB,eAAoB,EAEpB,kBAAuB,KACvB,oBAAyB,KACzB,oBAAiB,KAsDzB,oBAAiB,SAACmsF,GAChB,IAAMpmG,EAAOomG,EAAGpmG,KAChBmsB,EAAKq+F,cAAcxqH,EAAMomG,IAkE3B,qBAAkB,SAACA,GAGjB,GAFej6E,EAAK7M,OACFxhB,IAAI,QACXsoG,EAAGv7E,SAERsB,EAAKs0E,UAAYt0E,EAAK4f,cAAc,CACtC,IAAM0+E,EAAYt+F,EAAKu+F,cAActkB,GAEjCj6E,EAAKs0E,UACPt0E,EAAKw+F,WAAW,OAAQvkB,EAAIqkB,EAAWt+F,EAAKy+F,iBAYpD,wBAAqB,SAACxkB,GAGpB,GAFej6E,EAAK7M,OACFxhB,IAAI,QACXsoG,EAAGv7E,QAERsB,EAAKs0E,SAAU,CACjB,IAAMgqB,EAAYt+F,EAAKu+F,cAActkB,GACjCj6E,EAAKy+F,eAEPz+F,EAAKw+F,WAAW,OAAQvkB,EAAIqkB,EAAW,MAEzCt+F,EAAKw+F,WAAW,UAAWvkB,EAAIqkB,EAAWt+F,EAAKy+F,eAC/Cz+F,EAAK0+F,WAAW1+F,EAAKy+F,cAAeH,EAAWrkB,KAvJnD,KAAK9mF,OAASrF,EAAIqF,OAkWtB,OA/VEirG,4BACE,KAAKO,eAIPP,mCAAA,WACQQ,EAAK,KAAKzrG,OAAOxhB,IAAI,MAC3BsC,eAAK+pH,IAAQ,SAACl/D,GACZ8/D,EAAGr/B,iBAAiBzgC,EAAW9+B,EAAK6+F,mBAGlCl8G,WAGFA,SAAS48E,iBAAiB,YAAa,KAAKu/B,iBAE5Cn8G,SAAS48E,iBAAiB,UAAW,KAAKw/B,sBAK9CX,oCAAA,WACQQ,EAAK,KAAKzrG,OAAOxhB,IAAI,MAC3BsC,eAAK+pH,IAAQ,SAACl/D,GACZ8/D,EAAGj7B,oBAAoB7kC,EAAW9+B,EAAK6+F,mBAErCl8G,WACFA,SAASghF,oBAAoB,YAAa,KAAKm7B,iBAC/Cn8G,SAASghF,oBAAoB,UAAW,KAAKo7B,sBAIjDX,kCAAavqH,EAAM6rB,EAAO4B,EAAO5C,EAAQu0F,EAAWC,GAClD,IAAMJ,EAAW,IAAI7D,EAAWp7G,EAAM6rB,GAUtC,OATAozF,EAASG,UAAYA,EACrBH,EAASI,QAAUA,EACnBJ,EAASngG,EAAI2O,EAAM3O,EACnBmgG,EAASxtG,EAAIgc,EAAMhc,EACnBwtG,EAASv/E,QAAUjS,EAAMiS,QACzBu/E,EAASt/E,QAAUlS,EAAMkS,QAEzBs/E,EAASE,gBAAgBx/G,KAAKkrB,GAEvBo0F,GAUTsL,+BAAU98F,EAAO24E,GACf,OAAO,KAAK9mF,OAAO2oB,SAASxa,EAAM3O,EAAG2O,EAAMhc,EAAG20F,IAGhDmkB,mCAAcnkB,GACZ,IAAM9mF,EAAS,KAAKA,OACd6rG,EAAc7rG,EAAO8rG,iBAAiBhlB,GACtC34E,EAAQnO,EAAO+rG,gBAAgBjlB,GACrC,MAAO,CACLtnF,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EACTiuB,QAASyrF,EAAYrsG,EACrB6gB,QAASwrF,EAAY15G,IAKzB84G,mCAAcvqH,EAAMomG,GAClB,IAAMqkB,EAAY,KAAKC,cAActkB,GAE/BzsF,EAAQ,KAAK2xG,UAAUb,EAAWrkB,GAClCvgG,EAAS,KAAK,MAAM7F,GACtBurH,GAAc,EAClB,GAAI1lH,EACFA,EAAOzI,KAAK,KAAMqtH,EAAW9wG,EAAOysF,OAC/B,CACL,IAAMolB,EAAW,KAAKz/E,aAET,eAAT/rC,GAAkC,cAATA,GAAiC,cAATA,GACnD,KAAK2qH,WAAW3qH,EAAMomG,EAAIqkB,EAAW,KAAM,KAAM9wG,GAC7CA,GACF,KAAKgxG,WAAW3qH,EAAMomG,EAAIqkB,EAAW9wG,EAAO,KAAMA,GAEvC,eAAT3Z,GAAyB,KAAK4qH,eAEhC,KAAKD,WAAW,YAAavkB,EAAIqkB,EAAW,OAE5B,eAATzqH,GAAkC,cAATA,GAAiC,aAATA,GAC1DurH,GAAc,EACVC,GACF,KAAKb,WAAW3qH,EAAMomG,EAAIqkB,EAAWe,EAAUA,EAAU,MAE3D,KAAKb,WAAW3qH,EAAMomG,EAAIqkB,EAAW,KAAMe,EAAU,MACxC,eAATxrH,GAAyB,KAAK4qH,eAChC,KAAKD,WAAW,YAAavkB,EAAIqkB,EAAW,OAG9C,KAAKE,WAAW3qH,EAAMomG,EAAIqkB,EAAW9wG,EAAO,KAAM,MAOtD,GAJK4xG,IACH,KAAKx/E,aAAepyB,GAGlBA,IAAUA,EAAM7b,IAAI,aAAc,CACpC,IAAMwhB,EAAS,KAAKA,OACTA,EAAOxhB,IAAI,MACnBgd,MAAM2wG,OAAS9xG,EAAMguB,KAAK,WAAaroB,EAAOxhB,IAAI,YA4CzDysH,kCAAaE,EAAW9wG,EAAOkS,GAlPX,IAoPdA,EAAM8jE,SACR,KAAK+7B,eAAiB/xG,EACtB,KAAKgyG,eAAiBlB,EACtB,KAAKmB,mBAAqB//F,EAAMi9D,WAElC,KAAK6hC,WAAW,YAAa9+F,EAAO4+F,EAAW9wG,EAAO,KAAM,OAK9D4wG,0CAAqB1+F,EAAO4+F,EAAWrL,EAAWC,GAChD,IAAM0L,EAAK,KAAKzrG,OAAOxhB,IAAI,MACvBshH,IAAcC,IACZD,IACF,KAAKuL,WAAW,WAAY9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GACpE,KAAKsL,WAAW,aAAc9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEjEA,IAAWA,EAAQvhH,IAAI,eAC1BitH,EAAGjwG,MAAM2wG,OAAS,KAAKnsG,OAAOxhB,IAAI,YAGlCuhH,IACF,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,GACnE,KAAKsL,WAAW,aAAc9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,MAK1EkL,yCAAoB1+F,EAAO4+F,EAAWrL,EAAWC,EAASwM,GACpDxM,GACEA,IAAYD,IACVA,GACF,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEvE,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,IAEhEwM,GACH,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAEvCD,GAGT,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAGnEwM,GACF,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAKlDkL,gCAAWK,EAAeH,EAAW5+F,GAC/B++F,IACFA,EAAczmH,IAAI,WAAW,GAC7B,KAAKymH,cAAgB,MAEvB,KAAKnqB,UAAW,EAEhB,IAAM9mF,EAAQ,KAAK2xG,UAAUb,EAAW5+F,GAEpClS,IAAUixG,GACZ,KAAKkB,qBAAqBjgG,EAAO4+F,EAAWG,EAAejxG,GAE7D,KAAKoyB,aAAepyB,GAGtB4wG,gCAAWE,EAAW9wG,EAAOkS,GAG3B,GAzTkB,IAyTdA,EAAM8jE,OAA0B,CAClC,IAAMi7B,EAAgB,KAAKA,cACvB,KAAKnqB,UAEHmqB,GACF,KAAKD,WAAW,OAAQ9+F,EAAO4+F,EAAW9wG,GAE5C,KAAKgxG,WAAW,UAAW9+F,EAAO4+F,EAAWG,GAC7C,KAAKC,WAAWD,EAAeH,EAAW5+F,KAE1C,KAAK8+F,WAAW,UAAW9+F,EAAO4+F,EAAW9wG,GACzCA,IAAU,KAAK+xG,gBACjB,KAAKf,WAAW,QAAS9+F,EAAO4+F,EAAW9wG,GAE7C,KAAK+xG,eAAiB,KACtB,KAAKC,eAAiB,QAM5BpB,iCAAYE,EAAW9wG,EAAOkS,GAC5BA,EAAMs+D,iBACN,IAAMqhC,EAAW,KAAKz/E,aACtB,KAAKggF,oBAAoBlgG,EAAO4+F,EAAWe,EAAU7xG,GAAO,IAI9D4wG,kCAAaE,EAAW9wG,EAAOkS,GAC7B,IAAMvM,EAAS,KAAKA,OACdksG,EAAW,KAAKz/E,aAClB6+E,EAAgB,KAAKA,cAEzB,GAAI,KAAKnqB,SAEHmqB,GAEF,KAAKmB,oBAAoBlgG,EAAO4+F,EAAWe,EAAU7xG,GAAO,GAI9D,KAAKgxG,WAAW,OAAQ9+F,EAAO4+F,EAAWG,OACrC,CACL,IAAMe,EAAiB,KAAKA,eAC5B,GAAIA,EAAgB,CAElB,IAAMD,EAAiB,KAAKA,eAEtBM,EADMngG,EAAMi9D,UACO,KAAK8iC,mBACxB59F,EAAK29F,EAAejsF,QAAU+qF,EAAU/qF,QACxCzR,EAAK09F,EAAehsF,QAAU8qF,EAAU9qF,QAE1CqsF,EAAa,KADJh+F,EAAKA,EAAKC,EAAKA,EA7Wf,GA+WPy9F,GAAkBA,EAAe5tH,IAAI,eAEvC8sH,EAAgB,KAAKc,gBACPvnH,IAAI,WAAW,GAC7B,KAAKymH,cAAgBA,EACrB,KAAKnqB,UAAW,EAChB,KAAKkqB,WAAW,YAAa9+F,EAAO4+F,EAAWG,GAE/C,KAAKc,eAAiB,KACtB,KAAKC,eAAiB,OACZD,GAAkBpsG,EAAOxhB,IAAI,cAEvC,KAAK2iG,UAAW,EAChB,KAAKkqB,WAAW,YAAa9+F,EAAO4+F,EAAW,MAE/C,KAAKiB,eAAiB,KACtB,KAAKC,eAAiB,OAEtB,KAAKG,qBAAqBjgG,EAAO4+F,EAAWe,EAAU7xG,GACtD,KAAKgxG,WAAW,YAAa9+F,EAAO4+F,EAAW9wG,KAGjD,KAAKmyG,qBAAqBjgG,EAAO4+F,EAAWe,EAAU7xG,GACtD,KAAKgxG,WAAW,YAAa9+F,EAAO4+F,EAAW9wG,SAIjD,KAAKmyG,qBAAqBjgG,EAAO4+F,EAAWe,EAAU7xG,GAEtD,KAAKgxG,WAAW,YAAa9+F,EAAO4+F,EAAW9wG,KAMrD4wG,gCAAWvqH,EAAM6rB,EAAO4+F,EAAW9wG,EAAOylG,EAAYC,GACpD,IAAMJ,EAAW,KAAKgN,aAAajsH,EAAM6rB,EAAO4+F,EAAW9wG,EAAOylG,EAAWC,GAE7E,GAAI1lG,EAAO,CACTslG,EAAStlG,MAAQA,EAEjBywG,GAAgBzwG,EAAO3Z,EAAMi/G,GAG7B,IAFA,IAAIxkF,EAAS9gB,EAAMG,YAEZ2gB,GAELA,EAAOyxF,eAAelsH,EAAMi/G,GAEvBA,EAAS3D,oBACZ+O,GAAY5vF,EAAQz6B,EAAMi/G,GAE5BA,EAASE,gBAAgBx/G,KAAK86B,GAC9BA,EAASA,EAAO3gB,gBAEb,CAILswG,GAFe,KAAK9qG,OAEItf,EAAMi/G,KAIlCsL,+BAEE,KAAK4B,eAEL,KAAK7sG,OAAS,KACd,KAAKysB,aAAe,KACpB,KAAK6+E,cAAgB,KACrB,KAAKe,eAAiB,KACtB,KAAKD,eAAiB,KACtB,KAAKE,mBAAqB,MAE9B,EA/WA,GCtEM11G,GAAUT,cACV22G,GAAYl2G,IAA4B,YAAjBA,GAAQ1Y,KAuOtB6uH,GArOf,YACE,WAAYpyG,GAAZ,MACEklB,YAAMllB,IAAI,K,OACVkS,EAAKmgG,gBACLngG,EAAKogG,UACLpgG,EAAKqsC,aACLrsC,EAAKqgG,e,EA6NT,OAnO8Bv8G,iBAS5Bo8G,qCACE,IAAMpyG,EAAMklB,YAAM9T,cAAajuB,KAAA,MAK/B,OAHA6c,EAAG,OAAa,UAEhBA,EAAG,qBAA0B,EACtBA,GAOToyG,qCACE,IAAI3yG,EAAY,KAAK5b,IAAI,aACrB6F,mBAAS+V,KACXA,EAAY5K,SAAS29G,eAAe/yG,GACpC,KAAKvV,IAAI,YAAauV,KAQ1B2yG,+BACE,IAAMtB,EAAK,KAAKtd,YAChB,KAAKtpG,IAAI,KAAM4mH,GAEG,KAAKjtH,IAAI,aACjB4uH,YAAY3B,GAEtB,KAAK4B,WAAW,KAAK7uH,IAAI,SAAU,KAAKA,IAAI,YAa9CuuH,kCACE,IAAMO,EAAkB,IAAIrC,GAAgB,CAC1CjrG,OAAQ,OAEVstG,EAAgBxpH,OAChB,KAAKe,IAAI,kBAAmByoH,IAO9BP,oCACE,IAAMhO,EAAW,IAAIwL,GAAS,MAC9B,KAAK1lH,IAAI,WAAYk6G,IASvBgO,gCAAWj9G,EAAeuO,GACxB,IAAMotG,EAAK,KAAKjtH,IAAI,MAChB09G,IACFuP,EAAGjwG,MAAM1L,MAAQA,EArFL,KAsFZ27G,EAAGjwG,MAAM6C,OAASA,EAtFN,OA2FhB0uG,gCAAWj9G,EAAeuO,GACxB,KAAKgvG,WAAWv9G,EAAOuO,GACvB,KAAKxZ,IAAI,QAASiL,GAClB,KAAKjL,IAAI,SAAUwZ,GACnB,KAAK6/F,eAAe,eAOtB6O,mCACE,OAAO,KAAKvuH,IAAI,aAOlBuuH,iCACE,OAAO,KAAKvuH,IAAI,WAOlBuuH,+BAAUZ,GACR,KAAKtnH,IAAI,SAAUsnH,GACnB,IAAMV,EAAK,KAAKjtH,IAAI,MAChB09G,GAAauP,IAEfA,EAAGjwG,MAAM2wG,OAASA,IAKtBY,qCAAgBjmB,GAEd,GAD4B,KAAKtoG,IAAI,uBACZ,CAEvB,GAAIsuH,KAAcnsH,gBAAOmmG,EAAWymB,SAAYzmB,EAAWymB,SAAYzmB,EAAkBp0C,QACvF,MAAO,CACLlzC,EAAIsnF,EAAWymB,OACfp7G,EAAI20F,EAAW0mB,QAGnB,IAAK7sH,gBAAOmmG,EAAkBp0C,SAE5B,MAAO,CACLlzC,EAAIsnF,EAAkBp0C,QACtBvgD,EAAI20F,EAAkBn0C,SAMtB,MAA6B,KAAKm5D,iBAAiBhlB,GAA9C1mE,EAAO,IAAKC,EAAO,IAC9B,OAAO,KAAKiD,iBAAiBlD,EAASC,IAIxC0sF,sCAAiBjmB,GACf,IAAI2mB,EAAiC3mB,EAQrC,OAPKA,EAAkBlZ,UAEnB6/B,EADc,aAAZ3mB,EAAGpmG,KACSomG,EAAkBhZ,eAAe,GAEjCgZ,EAAkBlZ,QAAQ,IAGrC,CACLpuE,EAAGiuG,EAAWrtF,QACdjuB,EAAGs7G,EAAWptF,UAKlB0sF,sCAAiB3sF,EAAiBC,GAChC,IACMzP,EADK,KAAKpyB,IAAI,MACJkvH,wBAChB,MAAO,CACLluG,EAAG4gB,EAAUxP,EAAK2C,KAClBphB,EAAGkuB,EAAUzP,EAAK0C,MAKtBy5F,sCAAiBvtG,EAAWrN,GAC1B,IACMye,EADK,KAAKpyB,IAAI,MACJkvH,wBAChB,MAAO,CACLluG,EAAGA,EAAIoR,EAAK2C,KACZphB,EAAGA,EAAIye,EAAK0C,MAKhBy5F,8BAMAA,iCACE,IAAMtB,EAAK,KAAKjtH,IAAI,MACpBitH,EAAGt4B,WAAWlrD,YAAYwjF,IAO5BsB,mCAC0B,KAAKvuH,IAAI,mBACjBohC,WAGlBmtF,gCACE,OAAO,GAGTA,iCACE,OAAO,MAGTA,+BACE,IAAMhO,EAAW,KAAKvgH,IAAI,YACtB,KAAKA,IAAI,eAGb,KAAK4sC,QAED2zE,GAEFA,EAAS3nD,OAEX,KAAKu2D,cACL,KAAKC,YACL/tF,YAAMD,QAAO9hC,KAAA,QAEjB,EAnOA,CAA8BijH,ICWf8M,GArBf,yB,+CAmBA,OAnBqCl9G,iBACnCk9G,+BACE,OAAO,GAGTA,qCACE,OAAO,GAGTA,6BAIE,IAHA,IAAM7hH,EAAQ6zB,YAAM7zB,MAAKlO,KAAA,MAEnB6tB,EAAW,KAAK2lB,cACb3zC,EAAI,EAAGA,EAAIguB,EAAS9rB,OAAQlC,IAAK,CACxC,IAAMi+B,EAAQjQ,EAAShuB,GACvBqO,EAAMsrC,IAAI1b,EAAM5vB,SAElB,OAAOA,GAEX,EAnBA,CAAqC+0G,ICgKtB+M,GA/Jf,YACE,WAAYnzG,G,OACVklB,YAAMllB,IAAI,KA2Jd,OA7JqChK,iBAMnCm9G,+BAAU7vG,EAAMD,GACd,IAAM4S,EAAO,KAAKsB,UAClB,OAAOtB,EAAKE,MAAQ7S,GAAQ2S,EAAKkB,MAAQ7T,GAAQ2S,EAAKG,MAAQ/S,GAAQ4S,EAAKmB,MAAQ/T,GAQrF8vG,sCAAiB/P,GACfl+E,YAAM89E,iBAAgB7/G,KAAA,KAACigH,GACvB,KAAKgQ,kBAGPD,+BACE,IAAIl9F,EAAO,KAAKjW,IAAIiW,KAKpB,OAJKA,IACHA,EAAO,KAAKqa,gBACZ,KAAKpmC,IAAI,OAAQ+rB,IAEZA,GAGTk9F,qCACE,IAAIE,EAAa,KAAKrzG,IAAIqzG,WAK1B,OAJKA,IACHA,EAAa,KAAK9iF,sBAClB,KAAKrmC,IAAI,aAAcmpH,IAElBA,GASTF,iCAAYz+F,GACVwQ,YAAMshF,YAAWrjH,KAAA,KAACuxB,GAElB,KAAKxqB,IAAI,aAAc,OAOzBipH,2CACE,IAAMl9F,EAAO,KAAKsB,UACZisF,EAAc,KAAK6C,iBACnB,EAA2BpwF,EAAI,KAAzBG,EAAqBH,EAAI,KAAnBkB,EAAelB,EAAI,KAAbmB,EAASnB,EAAI,KACrC,GAAIutF,EAAa,CACf,IAAMr+D,EAAUw8D,EAAa6B,EAAa,CAACvtF,EAAKE,KAAMF,EAAKG,OACrDgvB,EAAWu8D,EAAa6B,EAAa,CAACvtF,EAAKkB,KAAMlB,EAAKG,OACtDivB,EAAas8D,EAAa6B,EAAa,CAACvtF,EAAKE,KAAMF,EAAKmB,OACxDkuB,EAAcq8D,EAAa6B,EAAa,CAACvtF,EAAKkB,KAAMlB,EAAKmB,OAC/DjB,EAAOluB,KAAKE,IAAIg9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEnuB,EAAOlvB,KAAKC,IAAIi9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpElvB,EAAOnuB,KAAKE,IAAIg9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEluB,EAAOnvB,KAAKC,IAAIi9C,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IAEtE,IAAM1+C,EAAQ,KAAKA,MAEnB,GAAIA,EAAMgb,YAAa,CACb,MAAyDhb,EAAK,WAA9D,OAAU,MAAG,EAACoV,EAAE8uB,EAAyClkC,EAAK,cAA9C+qD,OAAa,MAAG,EAAC7mB,EAAEgC,EAAsBlmC,EAAK,cAA3BgrD,OAAa,MAAG,EAAC9kB,EACtDwmF,EAAan9F,EAAOtU,EAAa8vC,EACjC4hE,EAAcp8F,EAAOtV,EAAa8vC,EAClC6hE,EAAYp9F,EAAOvU,EAAa+vC,EAChC6hE,EAAer8F,EAAOvV,EAAa+vC,EACzCz7B,EAAOluB,KAAKE,IAAIguB,EAAMm9F,GACtBn8F,EAAOlvB,KAAKC,IAAIivB,EAAMo8F,GACtBn9F,EAAOnuB,KAAKE,IAAIiuB,EAAMo9F,GACtBp8F,EAAOnvB,KAAKC,IAAIkvB,EAAMq8F,GAExB,MAAO,CACL5uG,EAAGsR,EACH3e,EAAG4e,EACHD,KAAI,EACJC,KAAI,EACJe,KAAI,EACJC,KAAI,EACJjiB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,IAQnB+8F,sCACE,KAAKjpH,IAAI,OAAQ,MACjB,KAAKA,IAAI,aAAc,OAIzBipH,mCACE,OAAO,KAAKtvH,IAAI,gBAUlBsvH,+BAAU7vG,EAAcD,GACtB,OAAO,GAQT8vG,oCACE,OAAO,GAITA,2BAAMtuG,EAAWrN,GACf,IAAMk8G,EAAkB,KAAK7vH,IAAI,mBAC3B8vH,EAAgB,KAAK9vH,IAAI,iBAC3BiyB,EAAM,CAACjR,EAAGrN,EAAG,GAEV,GADPse,EAAM,KAAKixF,iBAAiBjxF,IACJ,GAAXzS,EAAQyS,EAAG,GAClB89F,EAAS,KAAKC,UAAUvwG,EAAMD,GAEpC,GAAI,KAAKywG,eACP,OAAOF,EAGT,GAAIA,IAAW,KAAK5M,UAAU1jG,EAAMD,GAAO,CAEzC,GAAI,KAAK0wG,UAAUzwG,EAAMD,GACvB,OAAO,EAGT,GAAIqwG,GAAmBA,EAAgB78F,MAAMvT,EAAMD,GACjD,OAAO,EAGT,GAAIswG,GAAiBA,EAAc98F,MAAMvT,EAAMD,GAC7C,OAAO,EAGX,OAAO,GAEX,EA7JA,CAAqCvT,ICD/BhG,GAAgC,IAAIC,IAOpC,SAAUiqH,GAASjuH,EAAc6F,GACrC9B,GAAMI,IAAInE,EAAM6F,GAOZ,SAAUqoH,GAAUluH,GACxB,OAAO+D,GAAMjG,IAAIkC,GChBL,gBAAW2Z,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OAEpB,MAAO,CACL7oB,EAF8Bje,EAAK,EAGnC4Q,EAH8B5Q,EAAK,EAInCuO,MAJ8BvO,EAAK,MAKnC8c,OAL8B9c,EAAK,SCFzB,YAAW8Y,GACjB,MAAcA,EAAMguB,OAAlB7oB,EAAC,IAAErN,EAAC,IAAE1T,EAAC,IACf,MAAO,CACL+gB,EAAGA,EAAI/gB,EACP0T,EAAGA,EAAI1T,EACPqR,MAAW,EAAJrR,EACP4f,OAAY,EAAJ5f,I,QCNN,SAAU26F,GAAU5mE,EAAOC,GAC/B,OAAKD,GAAUC,EAGR,CACL3B,KAAMluB,KAAKE,IAAI0vB,EAAM1B,KAAM2B,EAAM3B,MACjCC,KAAMnuB,KAAKE,IAAI0vB,EAAMzB,KAAM0B,EAAM1B,MACjCe,KAAMlvB,KAAKC,IAAI2vB,EAAMV,KAAMW,EAAMX,MACjCC,KAAMnvB,KAAKC,IAAI2vB,EAAMT,KAAMU,EAAMV,OAN1BS,GAASC,EAWd,SAAUo8F,GAAex0G,EAAeuW,GAC5C,IAAMy9F,EAAkBh0G,EAAM7b,IAAI,mBAC5B8vH,EAAgBj0G,EAAM7b,IAAI,iBAWhC,OARI6vH,IAEFz9F,EAAOwoE,GAAUxoE,EADAy9F,EAAgBx9F,kBAG/By9F,IAEF19F,EAAOwoE,GAAUxoE,EADF09F,EAAcz9F,kBAGxBD,ECxBK,IlLJV7Q,GAAe,KmLSb,SAAU+uG,GAAc5/G,EAAcS,EAAkB8P,GAC5D,IAAIsvG,EAAY,EAIhB,OAHI1qH,mBAAS6K,KACX6/G,EAAY7/G,EAAKnJ,MAAM,MAAMlG,QAE3BkvH,EAAY,EAEPp/G,EAAWo/G,EAUhB,SAA0Bp/G,EAAkB8P,GAChD,OAAOA,EAAaA,EAAa9P,EAAsB,IAAXA,EAZxBq/G,CAAgBr/G,EAAU8P,IACDsvG,EAAY,GAElDp/G,EAiBH,SAAUs/G,GAAa//G,EAAcC,GACzC,IAAM9C,EnLnCF,WACJ,IAAK0T,GAAc,CACjB,IAAMC,EAASxQ,SAASC,cAAc,UACtCuQ,EAAOlQ,MAAQ,EACfkQ,EAAO3B,OAAS,EAChB0B,GAAeC,EAAOtQ,WAAW,MAEnC,OAAOqQ,GmL4BSmvG,GACZp/G,EAAQ,EAEZ,GAAInP,gBAAMuO,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAzD,EAAQy6C,OACRz6C,EAAQ8C,KAAOA,EACX9K,mBAAS6K,IAASA,EAAKb,SAAS,MAAO,CACzC,IAAM8gH,EAAUjgH,EAAKnJ,MAAM,MAC3BjF,eAAKquH,GAAS,SAACC,GACb,IAAMC,EAAehjH,EAAQwD,YAAYu/G,GAASt/G,MAC9CA,EAAQu/G,IACVv/G,EAAQu/G,WAIZv/G,EAAQzD,EAAQwD,YAAYX,GAAMY,MAGpC,OADAzD,EAAQijH,UACDx/G,EAGH,SAAUy/G,GAAahuH,GACnB,MAA6DA,EAAK,SAAxD6N,EAAmD7N,EAAK,WAA5C8N,EAAuC9N,EAAK,WAC1E,MAAO,CAD8DA,EAAK,UAALA,EAAK,YAC1C8N,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAAK00B,OC1DvE,I,SCwFd,SAASkrF,GAA6B73E,EAAS77B,GACrC,MAAsC67B,EAAO,SAAnC8lB,EAA4B9lB,EAAO,aAArBuiB,EAAcviB,EAAO,UAC/C83E,EAAgB7sH,KAAKkS,IAAI2oD,EAAa,GAAKzuB,EAAS,GAAI,GAAKpsC,KAAKkS,IAAI2oD,EAAa,GAAKzuB,EAAS,GAAI,GACrG0gF,EAAiB9sH,KAAKkS,IAAI2oD,EAAa,GAAKvD,EAAU,GAAI,GAAKt3D,KAAKkS,IAAI2oD,EAAa,GAAKvD,EAAU,GAAI,GACxGy1D,EAAa/sH,KAAKkS,IAAIk6B,EAAS,GAAKkrB,EAAU,GAAI,GAAKt3D,KAAKkS,IAAIk6B,EAAS,GAAKkrB,EAAU,GAAI,GAE5F01D,EAAehtH,KAAK05D,MACvBmzD,EAAgBC,EAAiBC,IAAe,EAAI/sH,KAAKuS,KAAKs6G,GAAiB7sH,KAAKuS,KAAKu6G,KAI5F,IAAKE,GAA2C,IAA3BhtH,KAAKyS,IAAIu6G,IAAuB7nH,wBAAc6nH,EAAc,GAC/E,MAAO,CACLC,OAAQ,EACRC,OAAQ,GAGZ,IAAIC,EAASntH,KAAKqF,IAAIrF,KAAKsS,MAAMglD,EAAU,GAAKuD,EAAa,GAAIvD,EAAU,GAAKuD,EAAa,KACzFuyD,EAASptH,KAAKqF,IAAIrF,KAAKsS,MAAMglD,EAAU,GAAKuD,EAAa,GAAIvD,EAAU,GAAKuD,EAAa,KAc7F,OAZAsyD,EAASA,EAASntH,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKsnH,EAASA,EACnDC,EAASA,EAASptH,KAAK6F,GAAK,EAAI7F,KAAK6F,GAAKunH,EAASA,EAGrC,CAEZH,OACEjtH,KAAKwS,IAAIw6G,EAAe,EAAIG,IAAYj0G,EAAY,GAAM,EAAIlZ,KAAKyS,IAAIu6G,EAAe,KAAO9zG,EAAY,GAAK,EAEhHg0G,OACEltH,KAAKwS,IAAI46G,EAASJ,EAAe,IAAO9zG,EAAY,GAAM,EAAIlZ,KAAKyS,IAAIu6G,EAAe,KAAO9zG,EAAY,GAAK,GChHpH6yG,GAAS,OAAQzgG,IACjBygG,GAAS,QAASzgG,IAClBygG,GAAS,SAAUpgG,IACnBogG,GAAS,SAAUpgG,IACnBogG,GAAS,YJTK,SAAWt0G,GAKvB,IAJA,IACQ,EADMA,EAAMguB,OACI,OAClBlW,EAAO,GACPC,EAAO,GACJz0B,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,IAAMwwB,EAAQC,EAAOzwB,GACrBw0B,EAAK9xB,KAAK8tB,EAAM,IAChBiE,EAAK/xB,KAAK8tB,EAAM,IAEZ,MAA0B8hG,KAAKC,eAAe/9F,EAAMC,GAAlD5S,EAAC,IAAErN,EAAC,IACRye,EAAO,CACTE,KAAMtR,EACNuR,KAAM5e,EACN2f,KAAMtS,EAJW,QAKjBuS,KAAM5f,EALmB,UAQ3B,MAAO,CACLqN,GAFFoR,EAAOi+F,GAAex0G,EAAOuW,IAEnBE,KACR3e,EAAGye,EAAKG,KACRjhB,MAAO8gB,EAAKkB,KAAOlB,EAAKE,KACxBzS,OAAQuS,EAAKmB,KAAOnB,EAAKG,SIZ7B49F,GAAS,WCXK,SAAWt0G,GAKvB,IAJA,IACQ,EADMA,EAAMguB,OACI,OAClBlW,EAAO,GACPC,EAAO,GACJz0B,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,IAAMwwB,EAAQC,EAAOzwB,GACrBw0B,EAAK9xB,KAAK8tB,EAAM,IAChBiE,EAAK/xB,KAAK8tB,EAAM,IAElB,OAAO8hG,KAAKC,eAAe/9F,EAAMC,MDEnCu8F,GAAS,QFZK,SAAWt0G,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OACZ,EAAqC9mC,EAAK,EAAvC4Q,EAAkC5Q,EAAK,EAApC2N,EAA+B3N,EAAK,KAA9BoO,EAAyBpO,EAAK,SAApBke,EAAele,EAAK,WAC9C4N,EAAO5N,EAAM4N,KACZA,IAEHA,EAAOogH,GAAahuH,IAEtB,IACIqvB,EADE9gB,EAAQm/G,GAAa//G,EAAMC,GAEjC,GAAKW,EAQE,CACG,MAA4BvO,EAAK,UAAtBoa,EAAiBpa,EAAK,aACnC8c,EAASywG,GAAc5/G,EAAMS,EAAU8P,GAEvC0O,EAAQ,CACZ3O,EAAC,EACDrN,EAAGA,EAAIkM,GAEL3C,IACgB,QAAdA,GAAqC,UAAdA,EACzByS,EAAM3O,GAAK1P,EACY,WAAd4L,IACTyS,EAAM3O,GAAK1P,EAAQ,IAGnB6L,IACmB,QAAjBA,EACFwS,EAAMhc,GAAKkM,EACe,WAAjB1C,IACTwS,EAAMhc,GAAKkM,EAAS,IAIxBuS,EAAO,CACLpR,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EACTrC,MAAOA,EACPuO,OAAQA,QAjCVuS,EAAO,CACLpR,EAAC,EACDrN,EAAC,EACDrC,MAAO,EACPuO,OAAQ,GAgCZ,OAAOuS,KEnCT+9F,GAAS,QD8GK,SAAWt0G,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OACZ,EAAiB9mC,EAAK,KACxBua,EADmBva,EAAK,OACHA,EAAMua,UAAY,EAEvC,EA7HR,SAAoB07B,EAAU17B,GAI5B,IAHA,IAAIqW,EAAO,GACPC,EAAO,GACL+9F,EAAoB,GACjBxyH,EAAI,EAAGA,EAAI65C,EAAS33C,OAAQlC,IAAK,CACxC,IACQ,GADFg6C,EAAUH,EAAS75C,IACyB,aAA5B09D,EAAqB1jB,EAAO,OAApB3I,EAAa2I,EAAO,SAC9C4/D,OAAG,EACP,OAAQ5/D,EAAQkmB,SACd,IAAK,IACH05C,EAAM6Y,KAAS7Y,IAAIvoE,EAAS,GAAIA,EAAS,GAAIqsB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACrF,MACF,IAAK,IACHk8C,EAAM8Y,KAAU9Y,IAAIvoE,EAAS,GAAIA,EAAS,GAAIqsB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC5G,MACF,IAAK,IACH,IAAM2C,EAAYrmB,EAAQqmB,UAC1Bu5C,EAAM+Y,KAAe/Y,IACnBv5C,EAAUxvC,GACVwvC,EAAUvvC,GACVuvC,EAAU7uC,GACV6uC,EAAU5uC,GACV4uC,EAAUrB,UACVqB,EAAUV,WACVU,EAAUT,UAEZ,MACF,QACEprC,EAAK9xB,KAAKo9D,EAAa,IACvBrrC,EAAK/xB,KAAKo9D,EAAa,IAGvB85C,IACF5/D,EAAQ4/D,IAAMA,EACdplF,EAAK9xB,KAAKk3G,EAAI/3F,EAAG+3F,EAAI/3F,EAAI+3F,EAAIznG,OAC7BsiB,EAAK/xB,KAAKk3G,EAAIplG,EAAGolG,EAAIplG,EAAIolG,EAAIl5F,SAE3BvC,IAAkC,MAApB67B,EAAQkmB,SAAuC,MAApBlmB,EAAQkmB,UAAoBlmB,EAAQ3I,UAAY2I,EAAQuiB,WACnGi2D,EAAkB9vH,KAAKs3C,GAM3BxlB,EAAOA,EAAKlyB,QAAO,SAAC0E,GAAS,OAACkD,OAAO3E,MAAMyB,IAASA,IAAS0D,KAAY1D,KAAU0D,OACnF+pB,EAAOA,EAAKnyB,QAAO,SAAC0E,GAAS,OAACkD,OAAO3E,MAAMyB,IAASA,IAAS0D,KAAY1D,KAAU0D,OACnF,IAAIyoB,EAAOhuB,cAAIqvB,GACXpB,EAAOjuB,cAAIsvB,GACXN,EAAOjvB,cAAIsvB,GACXJ,EAAOlvB,cAAIuvB,GACf,GAAiC,IAA7B+9F,EAAkBtwH,OACpB,MAAO,CACL2f,EAAGsR,EACH3e,EAAG4e,EACHjhB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,GAGnB,IAASpzB,EAAI,EAAGA,EAAIwyH,EAAkBtwH,OAAQlC,IAAK,CACjD,IAAMg6C,GACE,GADFA,EAAUw4E,EAAkBxyH,IACF,cAEf,KAAOmzB,EAEtBA,GADQ0+F,GAA6B73E,EAAS77B,GAC1B+zG,OACXpyD,EAAa,KAAO3rC,IAE7BA,GADQ09F,GAA6B73E,EAAS77B,GAC1B+zG,QAElBpyD,EAAa,KAAO1sC,EAEtBA,GADQy+F,GAA6B73E,EAAS77B,GAC1Bg0G,OACXryD,EAAa,KAAO1rC,IAE7BA,GADQy9F,GAA6B73E,EAAS77B,GAC1Bg0G,QAGxB,MAAO,CACLtwG,EAAGsR,EACH3e,EAAG4e,EACHjhB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,GA4Cew/F,CADfl2G,EAAM7b,IAAI,aAAegyH,aAAcriH,GACH2N,GAA7C0D,EAAC,IAAErN,EAAC,IACRye,EAAO,CACTE,KAAMtR,EACNuR,KAAM5e,EACN2f,KAAMtS,EAJW,QAKjBuS,KAAM5f,EALmB,UAQ3B,MAAO,CACLqN,GAFFoR,EAAOi+F,GAAex0G,EAAOuW,IAEnBE,KACR3e,EAAGye,EAAKG,KACRjhB,MAAO8gB,EAAKkB,KAAOlB,EAAKE,KACxBzS,OAAQuS,EAAKmB,KAAOnB,EAAKG,SC9H7B49F,GAAS,QEdK,SAAWt0G,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OACZ,EAAmB9mC,EAAK,GAApB0xB,EAAe1xB,EAAK,GAAhB2xB,EAAW3xB,EAAK,GAAZ4xB,EAAO5xB,EAAK,GAK5BqvB,EAAO,CACTE,KALWluB,KAAKE,IAAIkwB,EAAIE,GAMxBpB,KALWlvB,KAAKC,IAAImwB,EAAIE,GAMxBnC,KALWnuB,KAAKE,IAAImwB,EAAIE,GAMxBpB,KALWnvB,KAAKC,IAAIowB,EAAIE,IAQ1B,MAAO,CACL3T,GAFFoR,EAAOi+F,GAAex0G,EAAOuW,IAEnBE,KACR3e,EAAGye,EAAKG,KACRjhB,MAAO8gB,EAAKkB,KAAOlB,EAAKE,KACxBzS,OAAQuS,EAAKmB,KAAOnB,EAAKG,SFH7B49F,GAAS,WGhBK,SAAWt0G,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OACZ,EAAiB9mC,EAAK,EAAnB4Q,EAAc5Q,EAAK,EAAhB4tB,EAAW5tB,EAAK,GAAZ6tB,EAAO7tB,EAAK,GAC9B,MAAO,CACLie,EAAGA,EAAI2P,EACPhd,EAAGA,EAAIid,EACPtf,MAAY,EAALqf,EACP9Q,OAAa,EAAL+Q,O,oPCRZ,SAASqhG,EAAOtqH,GACd,OAAOvD,KAAKE,IAAIkC,MAAM,KAAMmB,GAG9B,SAASuqH,EAAOvqH,GACd,OAAOvD,KAAKC,IAAImC,MAAM,KAAMmB,GAWxB,SAAUmkB,EAAS0I,EAAYC,EAAYC,EAAYC,GAC3D,IAAMzE,EAAKsE,EAAKE,EACVvE,EAAKsE,EAAKE,EAChB,OAAOvwB,KAAKuS,KAAKuZ,EAAKA,EAAKC,EAAKA,GAG5B,SAAU5mB,EAAc4yD,EAAYC,GACxC,OAAOh4D,KAAKqF,IAAI0yD,EAAKC,GAAM,KAGvB,SAAUs1D,EAAe/9F,EAAgBC,GAC7C,IAAMtB,EAAO2/F,EAAOt+F,GACdpB,EAAO0/F,EAAOr+F,GAGpB,MAAO,CACL5S,EAAGsR,EACH3e,EAAG4e,EACHjhB,MALW4gH,EAAOv+F,GAKJrB,EACdzS,OALWqyG,EAAOt+F,GAKHrB,GAIb,SAAU4/F,EAAa39F,EAAYC,EAAYC,EAAYC,GAC/D,MAAO,CACLrC,KAAM2/F,EAAO,CAACz9F,EAAIE,IAClBpB,KAAM4+F,EAAO,CAAC19F,EAAIE,IAClBnC,KAAM0/F,EAAO,CAACx9F,EAAIE,IAClBpB,KAAM2+F,EAAO,CAACz9F,EAAIE,KAIhB,SAAUy9F,EAAM7hG,GACpB,OAAQA,EAAkB,EAAVnsB,KAAK6F,KAAqB,EAAV7F,KAAK6F,I,4OC/CxB,GASb8uG,IAAA,SAAIvkF,EAAYC,EAAYC,EAAYC,GACtC,OAAO+8F,EAAe,CAACl9F,EAAIE,GAAK,CAACD,EAAIE,KAUvCtzB,OAAA,SAAOmzB,EAAYC,EAAYC,EAAYC,GACzC,OAAO7I,EAAS0I,EAAIC,EAAIC,EAAIC,IAW9B09F,QAAA,SAAQ79F,EAAYC,EAAYC,EAAYC,EAAYt0B,GACtD,MAAO,CACL2gB,GAAI,EAAI3gB,GAAKm0B,EAAKn0B,EAAIq0B,EACtB/gB,GAAI,EAAItT,GAAKo0B,EAAKp0B,EAAIs0B,IAa1B29F,cAAA,SAAc99F,EAAYC,EAAYC,EAAYC,EAAY3T,EAAWrN,GAGvE,IAAMymC,GAAS1lB,EAAKF,IAAOxT,EAAIwT,IAAOG,EAAKF,IAAO9gB,EAAI8gB,GACtD,OAAI2lB,EAAQ,EACHtuB,EAAS0I,EAAIC,EAAIzT,EAAGrN,GAGzBymC,GADkB1lB,EAAKF,IAAOE,EAAKF,IAAOG,EAAKF,IAAOE,EAAKF,GAEtD3I,EAAS4I,EAAIC,EAAI3T,EAAGrN,GAEtB,KAAK4+G,YAAY/9F,EAAIC,EAAIC,EAAIC,EAAI3T,EAAGrN,IAY7C4+G,YAAA,SAAY/9F,EAAYC,EAAYC,EAAYC,EAAY3T,EAAWrN,GACrE,IAAMlU,EAAI,CAACi1B,EAAKF,EAAIG,EAAKF,GAEzB,GAAIsnC,cAAiBt8D,EAAG,CAAC,EAAG,IAC1B,OAAO2E,KAAKuS,MAAMqK,EAAIwT,IAAOxT,EAAIwT,IAAO7gB,EAAI8gB,IAAO9gB,EAAI8gB,IAEzD,IAAMje,EAAI,EAAE/W,EAAE,GAAIA,EAAE,IACpBs8D,YAAevlD,EAAGA,GAClB,IAAMhT,EAAI,CAACwd,EAAIwT,EAAI7gB,EAAI8gB,GACvB,OAAOrwB,KAAKqF,IAAIsyD,MAASv4D,EAAGgT,KAU9Bg8G,aAAA,SAAah+F,EAAYC,EAAYC,EAAYC,GAC/C,OAAOvwB,KAAKsS,MAAMie,EAAKF,EAAIC,EAAKF,KCnF9B,SAAUid,EACd9d,EACAC,EACA5S,EACArN,EACA8+G,EACApxH,GAEA,IAAIhB,EACAZ,EAAIoK,IACF+8G,EAAiB,CAAC5lG,EAAGrN,GAEvB++G,EAAS,GACTrxH,GAAUA,EAAS,MACrBqxH,EAASrxH,EAAS,IAMpB,IAJA,IAAMsxH,EAAe,EAAID,EAErBznC,EAAW0nC,EAAe,GAErBxzH,EAAI,EAAGA,GAAKuzH,EAAQvzH,IAAK,CAChC,IAAMmsF,EAAKnsF,EAAIwzH,EACTx2D,EAAiB,CAACs2D,EAAUjsH,MAAM,KAAMmtB,EAAK5vB,OAAO,CAACunF,KAAOmnC,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACunF,OAE/FrvB,EAAKnwC,EAAS86F,EAAG,GAAIA,EAAG,GAAIzqD,EAAG,GAAIA,EAAG,KACnC18D,IACPY,EAAIirF,EACJ7rF,EAAIw8D,GAIR,GAAU,IAAN57D,EACF,MAAO,CACL2gB,EAAG2S,EAAK,GACRhgB,EAAGigB,EAAK,IAGZ,GAAU,IAANvzB,EAAS,CACX,IAAMqY,EAAQib,EAAKtyB,OACnB,MAAO,CACL2f,EAAG2S,EAAKjb,EAAQ,GAChB/E,EAAGigB,EAAKlb,EAAQ,IAGpBjZ,EAAIoK,IAEJ,IAAS1K,EAAI,EAAGA,EAAI,MACd8rF,EAxDQ,MAuDU9rF,IAAK,CAK3B,IAAM+E,EAAO7D,EAAI4qF,EACX53E,EAAOhT,EAAI4qF,EAIXhvB,GAFAE,EAAK,CAACs2D,EAAUjsH,MAAM,KAAMmtB,EAAK5vB,OAAO,CAACG,KAASuuH,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACG,MAEhF4nB,EAAS86F,EAAG,GAAIA,EAAG,GAAIzqD,EAAG,GAAIA,EAAG,KAC5C,GAAIj4D,GAAQ,GAAK+3D,EAAKx8D,EACpBY,EAAI6D,EACJzE,EAAIw8D,MACC,CACL,IAAMG,EAAK,CAACq2D,EAAUjsH,MAAM,KAAMmtB,EAAK5vB,OAAO,CAACsP,KAASo/G,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAACsP,MACrFu/G,EAAK9mG,EAAS86F,EAAG,GAAIA,EAAG,GAAIxqD,EAAG,GAAIA,EAAG,IACxC/oD,GAAQ,GAAKu/G,EAAKnzH,GACpBY,EAAIgT,EACJ5T,EAAImzH,GAEJ3nC,GAAY,IAKlB,MAAO,CACLjqE,EAAGyxG,EAAUjsH,MAAM,KAAMmtB,EAAK5vB,OAAO,CAAC1D,KACtCsT,EAAG8+G,EAAUjsH,MAAM,KAAMotB,EAAK7vB,OAAO,CAAC1D,MChF1C,SAASwyH,EAAY7jG,EAAYC,EAAYC,EAAY7uB,GACvD,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAOyyH,EAAOA,EAAO9jG,EAAK,EAAI3uB,EAAIyyH,EAAO7jG,EAAK5uB,EAAIA,EAAI6uB,EAIxD,SAAS6jG,EAAQ/jG,EAAYC,EAAYC,GACvC,IAAM1rB,EAAIwrB,EAAKE,EAAK,EAAID,EACxB,GAAI1lB,EAAc/F,EAAG,GACnB,MAAO,CAAC,IAEV,IAAMK,GAAOmrB,EAAKC,GAAMzrB,EACxB,OAAIK,GAAO,GAAKA,GAAO,EACd,CAACA,GAEH,GAGT,SAASmvH,EAAahkG,EAAYC,EAAYC,EAAY7uB,GACxD,OAAO,GAAK,EAAIA,IAAM4uB,EAAKD,GAAM,EAAI3uB,GAAK6uB,EAAKD,GAIjD,SAASgkG,EAAgBz+F,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYv3G,GAE/F,IAAMkrF,EAAKsnC,EAAYr+F,EAAIE,EAAIijF,EAAIt3G,GAC7B0pF,EAAK8oC,EAAYp+F,EAAIE,EAAIijF,EAAIv3G,GAG7B06B,EAAgBzG,EAAK+9F,QAAQ79F,EAAIC,EAAIC,EAAIC,EAAIt0B,GAE7C66B,EAAgB5G,EAAK+9F,QAAQ39F,EAAIC,EAAIgjF,EAAIC,EAAIv3G,GACnD,MAAO,CACL,CAACm0B,EAAIC,EAAIsG,EAAc/Z,EAAG+Z,EAAcpnB,EAAG43E,EAAIxB,GAC/C,CAACwB,EAAIxB,EAAI7uD,EAAcla,EAAGka,EAAcvnB,EAAGgkG,EAAIC,IAyBpC,OACbmB,IAAA,SAAIvkF,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,GAC9D,IAAMsb,EAAWH,EAAQv+F,EAAIE,EAAIijF,GAAI,GAC/Bwb,EAAWJ,EAAQt+F,EAAIE,EAAIijF,GAAI,GAE/BjkF,EAAO,CAACa,EAAImjF,GACZ/jF,EAAO,CAACa,EAAImjF,GAOlB,YANiB5sG,IAAbkoH,GACFv/F,EAAK9xB,KAAKgxH,EAAYr+F,EAAIE,EAAIijF,EAAIub,SAEnBloH,IAAbmoH,GACFv/F,EAAK/xB,KAAKgxH,EAAYp+F,EAAIE,EAAIijF,EAAIub,IAE7BzB,EAAe/9F,EAAMC,IAE9BvyB,OAAA,SAAOmzB,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,GACjE,OApCJ,SAASwb,EACP5+F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAyb,GAEA,GAAuB,IAAnBA,EACF,OAAQvnG,EAAS0I,EAAIC,EAAIC,EAAIC,GAAM7I,EAAS4I,EAAIC,EAAIgjF,EAAIC,GAAM9rF,EAAS0I,EAAIC,EAAIkjF,EAAIC,IAAO,EAE5F,IAAM0b,EAAaL,EAAgBz+F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAI,IACrD7iF,EAAOu+F,EAAW,GAClBr+F,EAAQq+F,EAAW,GAGzB,OAFAv+F,EAAKlzB,KAAKwxH,EAAiB,GAC3Bp+F,EAAMpzB,KAAKwxH,EAAiB,GACrBD,EAAgB5sH,MAAM,KAAMuuB,GAAQq+F,EAAgB5sH,MAAM,KAAMyuB,GAmB9Dm+F,CAAgB5+F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAI,IAEjDnmE,aAAA,SAAajd,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAY5/D,EAAYC,GAC/F,OAAOxG,EAAa,CAACjd,EAAIE,EAAIijF,GAAK,CAACljF,EAAIE,EAAIijF,GAAK5/D,EAAIC,EAAI46E,IAE1DP,cAAA,SAAc99F,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAY5/D,EAAYC,GAChG,IAAMtoB,EAAQ,KAAK8hB,aAAajd,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAI5/D,EAAIC,GAC5D,OAAOnsB,EAAS6D,EAAM3O,EAAG2O,EAAMhc,EAAGqkC,EAAIC,IAExCs7E,gBAAiBV,EACjBR,QAAA,SAAQ79F,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYv3G,GAC9E,MAAO,CACL2gB,EAAG6xG,EAAYr+F,EAAIE,EAAIijF,EAAIt3G,GAC3BsT,EAAGk/G,EAAYp+F,EAAIE,EAAIijF,EAAIv3G,KAG/B6tG,OAAA,SAAO15E,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYv3G,GAC7E,OAAO4yH,EAAgBz+F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIv3G,IAEjDmyH,aAAA,SAAah+F,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYv3G,GACnF,IAAM6vB,EAAK8iG,EAAax+F,EAAIE,EAAIijF,EAAIt3G,GAC9B8vB,EAAK6iG,EAAav+F,EAAIE,EAAIijF,EAAIv3G,GAEpC,OAAO+xH,EADOhuH,KAAKsS,MAAMyZ,EAAID,MClGjC,SAASsjG,EAAQxkG,EAAYC,EAAYC,EAAYC,EAAY9uB,GAC/D,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAOyyH,EAAOA,EAAOA,EAAO9jG,EAAK,EAAIC,EAAK5uB,EAAIyyH,EAAOA,EAAO,EAAI5jG,EAAK7uB,EAAIA,EAAIyyH,EAAO3jG,EAAK9uB,EAAIA,EAAIA,EAGnG,SAAS2yH,EAAahkG,EAAYC,EAAYC,EAAYC,EAAY9uB,GACpE,IAAMyyH,EAAO,EAAIzyH,EACjB,OAAO,GAAKyyH,EAAOA,GAAQ7jG,EAAKD,GAAM,EAAI8jG,EAAOzyH,GAAK6uB,EAAKD,GAAM5uB,EAAIA,GAAK8uB,EAAKD,IAGjF,SAAS6jG,EAAQ/jG,EAAYC,EAAYC,EAAYC,GACnD,IAIIqpF,EACAC,EACAgb,EANEjwH,GAAK,EAAIwrB,EAAK,EAAIC,EAAK,EAAIC,EAAK,EAAIC,EACpCxpB,EAAI,EAAIqpB,EAAK,GAAKC,EAAK,EAAIC,EAC3B1vB,EAAI,EAAIyvB,EAAK,EAAID,EACjB0kG,EAAW,GAKjB,GAAInqH,EAAc/F,EAAG,GACd+F,EAAc5D,EAAG,KACpB6yG,GAAMh5G,EAAImG,IACA,GAAK6yG,GAAM,GACnBkb,EAAS7xH,KAAK22G,OAGb,CACL,IAAMmb,EAAOhuH,EAAIA,EAAI,EAAInC,EAAIhE,EACzB+J,EAAcoqH,EAAM,GACtBD,EAAS7xH,MAAM8D,GAAK,EAAInC,IACfmwH,EAAO,IAGhBlb,IAAO9yG,GAFP8tH,EAAWrvH,KAAKuS,KAAKg9G,MAEG,EAAInwH,IAD5Bg1G,IAAO7yG,EAAI8tH,IAAa,EAAIjwH,KAElB,GAAKg1G,GAAM,GACnBkb,EAAS7xH,KAAK22G,GAEZC,GAAM,GAAKA,GAAM,GACnBib,EAAS7xH,KAAK42G,IAIpB,OAAOib,EAIT,SAASE,EACPp/F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACAz3G,GAGA,IAAMkrF,EAAKioC,EAAQh/F,EAAIE,EAAIijF,EAAIE,EAAIx3G,GAC7B0pF,EAAKypC,EAAQ/+F,EAAIE,EAAIijF,EAAIE,EAAIz3G,GAE7Bi1G,EAAKhhF,EAAK+9F,QAAQ79F,EAAIC,EAAIC,EAAIC,EAAIt0B,GAClCm1G,EAAKlhF,EAAK+9F,QAAQ39F,EAAIC,EAAIgjF,EAAIC,EAAIv3G,GAClCwzH,EAAKv/F,EAAK+9F,QAAQ1a,EAAIC,EAAIC,EAAIC,EAAIz3G,GAClCyzH,EAAMx/F,EAAK+9F,QAAQ/c,EAAGt0F,EAAGs0F,EAAG3hG,EAAG6hG,EAAGx0F,EAAGw0F,EAAG7hG,EAAGtT,GAC3C0zH,EAAMz/F,EAAK+9F,QAAQ7c,EAAGx0F,EAAGw0F,EAAG7hG,EAAGkgH,EAAG7yG,EAAG6yG,EAAGlgH,EAAGtT,GACjD,MAAO,CACL,CAACm0B,EAAIC,EAAI6gF,EAAGt0F,EAAGs0F,EAAG3hG,EAAGmgH,EAAI9yG,EAAG8yG,EAAIngH,EAAG43E,EAAIxB,GACvC,CAACwB,EAAIxB,EAAIgqC,EAAI/yG,EAAG+yG,EAAIpgH,EAAGkgH,EAAG7yG,EAAG6yG,EAAGlgH,EAAGkkG,EAAIC,IAK3C,SAASkc,EACPx/F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACAub,GAEA,GAAuB,IAAnBA,EACF,OFCE,SAAqB1/F,EAAgBC,GAGzC,IAFA,IAAIqgG,EAAc,EACZv7G,EAAQib,EAAKtyB,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAK9B80H,GAAenoG,EAJL6H,EAAKx0B,GACLy0B,EAAKz0B,GACDw0B,GAAMx0B,EAAI,GAAKuZ,GACfkb,GAAMz0B,EAAI,GAAKuZ,IAG/B,OAAOu7G,EAAc,EEXZC,CAAW,CAAC1/F,EAAIE,EAAIijF,EAAIE,GAAK,CAACpjF,EAAIE,EAAIijF,EAAIE,IAEnD,IAAMqc,EAASP,EAAYp/F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,EAAI,IACrD/iF,EAAOo/F,EAAO,GACdl/F,EAAQk/F,EAAO,GAGrB,OAFAp/F,EAAKlzB,KAAKwxH,EAAiB,GAC3Bp+F,EAAMpzB,KAAKwxH,EAAiB,GACrBW,EAAYxtH,MAAM,KAAMuuB,GAAQi/F,EAAYxtH,MAAM,KAAMyuB,GAGlD,OACb89F,QAAO,EACPha,IAAA,SAAIvkF,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYC,EAAYC,GAKtF,IAJA,IAAMnkF,EAAO,CAACa,EAAIqjF,GACZjkF,EAAO,CAACa,EAAIqjF,GACZob,EAAWH,EAAQv+F,EAAIE,EAAIijF,EAAIE,GAC/Bsb,EAAWJ,EAAQt+F,EAAIE,EAAIijF,EAAIE,GAC5B34G,EAAI,EAAGA,EAAI+zH,EAAS7xH,OAAQlC,IACnCw0B,EAAK9xB,KAAK2xH,EAAQh/F,EAAIE,EAAIijF,EAAIE,EAAIqb,EAAS/zH,KAE7C,IAASA,EAAI,EAAGA,EAAIg0H,EAAS9xH,OAAQlC,IACnCy0B,EAAK/xB,KAAK2xH,EAAQ/+F,EAAIE,EAAIijF,EAAIE,EAAIqb,EAASh0H,KAE7C,OAAOuyH,EAAe/9F,EAAMC,IAE9BvyB,OAAA,SAAOmzB,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYC,EAAYC,GAEzF,OAAOkc,EAAYx/F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,EAAI,IAErDrmE,aAAA,SACEjd,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACA9/D,EACAC,EACA52C,GAEA,OAAOowC,EAAa,CAACjd,EAAIE,EAAIijF,EAAIE,GAAK,CAACpjF,EAAIE,EAAIijF,EAAIE,GAAK9/D,EAAIC,EAAIu7E,EAASnyH,IAE3EixH,cAAA,SACE99F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACA9/D,EACAC,EACA52C,GAEA,IAAMsuB,EAAQ,KAAK8hB,aAAajd,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,EAAI9/D,EAAIC,EAAI52C,GACxE,OAAOyqB,EAAS6D,EAAM3O,EAAG2O,EAAMhc,EAAGqkC,EAAIC,IAExCs7E,gBAAiBC,EACjBnB,QAAA,SACE79F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACAz3G,GAEA,MAAO,CACL2gB,EAAGwyG,EAAQh/F,EAAIE,EAAIijF,EAAIE,EAAIx3G,GAC3BsT,EAAG6/G,EAAQ/+F,EAAIE,EAAIijF,EAAIE,EAAIz3G,KAG/B6tG,OAAA,SAAO15E,EAAYC,EAAYC,EAAYC,EAAYgjF,EAAYC,EAAYC,EAAYC,EAAYz3G,GACrG,OAAOuzH,EAAYp/F,EAAIC,EAAIC,EAAIC,EAAIgjF,EAAIC,EAAIC,EAAIC,EAAIz3G,IAErDmyH,aAAA,SACEh+F,EACAC,EACAC,EACAC,EACAgjF,EACAC,EACAC,EACAC,EACAz3G,GAEA,IAAM6vB,EAAK8iG,EAAax+F,EAAIE,EAAIijF,EAAIE,EAAIx3G,GAClC8vB,EAAK6iG,EAAav+F,EAAIE,EAAIijF,EAAIE,EAAIz3G,GACxC,OAAO+xH,EAAMhuH,KAAKsS,MAAMyZ,EAAID,MC7KhC,SAASkkG,EAASj4D,EAAYC,GAC5B,IAAMi4D,EAAOjwH,KAAKqF,IAAI0yD,GACtB,OAAOC,EAAK,EAAIi4D,GAAe,EAARA,EAGV,MAsCb,SAAarzG,EAAWrN,EAAWgd,EAAYC,EAAYonB,EAAYC,GACrE,IAAMz0C,EAAImtB,EACJhrB,EAAIirB,EAEV,GAAU,IAANptB,GAAiB,IAANmC,EACb,MAAO,CACLqb,EAAC,EACDrN,EAAC,GAeL,IAXA,IAQI2gH,EACAC,EATEC,EAAYx8E,EAAKh3B,EACjByzG,EAAYx8E,EAAKtkC,EACjB8iB,EAAKryB,KAAKqF,IAAI+qH,GACd99F,EAAKtyB,KAAKqF,IAAIgrH,GACdC,EAAUlxH,EAAIA,EACdmxH,EAAUhvH,EAAIA,EAEhBtF,EAAI+D,KAAK6F,GAAK,EAIT9K,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1Bm1H,EAAW9wH,EAAIY,KAAKwS,IAAIvW,GACxBk0H,EAAW5uH,EAAIvB,KAAKyS,IAAIxW,GAExB,IAAMu0H,GAAOF,EAAUC,GAAWvwH,cAAKwS,IAAIvW,GAAM,GAAKmD,EAChDqxH,GAAOF,EAAUD,GAAWtwH,cAAKyS,IAAIxW,GAAM,GAAKsF,EAChDmvH,EAAMR,EAAWM,EACjBG,EAAMR,EAAWM,EAEjBxe,EAAK5/E,EAAKm+F,EACVte,EAAK5/E,EAAKm+F,EACV50H,EAAImE,KAAKquC,MAAMsiF,EAAKD,GACpBhiG,EAAI1uB,KAAKquC,MAAM6jE,EAAID,GAKzBh2G,GAHgBJ,EAAImE,KAAK6wG,MAAM6f,EAAMxe,EAAKye,EAAM1e,IAAOp2G,EAAI6yB,IACjC1uB,KAAKuS,KAAK+9G,EAAUC,EAAUL,EAAWA,EAAWC,EAAWA,GAGzFl0H,EAAI+D,KAAKE,IAAIF,KAAK6F,GAAK,EAAG7F,KAAKC,IAAI,EAAGhE,IAGxC,MAAO,CACL2gB,EAAGA,EAAIozG,EAASE,EAAUE,GAC1B7gH,EAAGA,EAAIygH,EAASG,EAAUE,KCvDhC,SAASO,EAAIhlG,EAAYC,EAAYU,EAAYC,EAAYutC,EAAmB5tC,GAC9E,OAAOI,EAAKvsB,KAAKwS,IAAIunD,GAAa/5D,KAAKwS,IAAI2Z,GAASK,EAAKxsB,KAAKyS,IAAIsnD,GAAa/5D,KAAKyS,IAAI0Z,GAASP,EAInG,SAASilG,EAAIjlG,EAAYC,EAAYU,EAAYC,EAAYutC,EAAmB5tC,GAC9E,OAAOI,EAAKvsB,KAAKyS,IAAIsnD,GAAa/5D,KAAKwS,IAAI2Z,GAASK,EAAKxsB,KAAKwS,IAAIunD,GAAa/5D,KAAKyS,IAAI0Z,GAASN,EAWnG,SAASoL,EAAS1K,EAAYC,EAAYL,GACxC,MAAO,CACLvP,EAAG2P,EAAKvsB,KAAKwS,IAAI2Z,GACjB5c,EAAGid,EAAKxsB,KAAKyS,IAAI0Z,IAKrB,SAASrP,EAAOF,EAAWrN,EAAW4c,GACpC,IAAM3Z,EAAMxS,KAAKwS,IAAI2Z,GACf1Z,EAAMzS,KAAKyS,IAAI0Z,GACrB,MAAO,CAACvP,EAAIpK,EAAMjD,EAAIkD,EAAKmK,EAAInK,EAAMlD,EAAIiD,GAG5B,OAYbmiG,IAAA,SAAI/oF,EAAYC,EAAYU,EAAYC,EAAYutC,EAAmBW,EAAoBC,GAKzF,IAJA,IAAMm2D,EAtDV,SAAkBvkG,EAAYC,EAAYutC,GACxC,OAAO/5D,KAAKosB,MAAOI,EAAKD,EAAMvsB,KAAKmmB,IAAI4zC,IAqDxB+0D,CAASviG,EAAIC,EAAIutC,GAC1B7rC,EAAOzoB,IACPypB,GAAQzpB,IACN4zF,EAAK,CAAC3+B,EAAYC,GACf5/D,EAAe,GAAViF,KAAK6F,GAAQ9K,GAAe,EAAViF,KAAK6F,GAAQ9K,GAAKiF,KAAK6F,GAAI,CACzD,IAAMsnH,EAAS2D,EAAO/1H,EAClB2/D,EAAaC,EACXD,EAAayyD,GAAUA,EAASxyD,GAClC0+B,EAAG57F,KAAK0vH,GAGNxyD,EAAWwyD,GAAUA,EAASzyD,GAChC2+B,EAAG57F,KAAK0vH,GAKd,IAASpyH,EAAI,EAAGA,EAAIs+F,EAAGp8F,OAAQlC,IAAK,CAClC,IAAM6hB,EAAIg0G,EAAIhlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAWs/B,EAAGt+F,IACxC6hB,EAAIsR,IACNA,EAAOtR,GAELA,EAAIsS,IACNA,EAAOtS,GAIX,IAAMm0G,EA5EV,SAAkBxkG,EAAYC,EAAYutC,GACxC,OAAO/5D,KAAKosB,KAAKI,GAAMD,EAAKvsB,KAAKmmB,IAAI4zC,KA2EtBg1D,CAASxiG,EAAIC,EAAIutC,GAC1B5rC,EAAO1oB,IACP0pB,GAAQ1pB,IACN6zF,EAAK,CAAC5+B,EAAYC,GACxB,IAAS5/D,EAAe,GAAViF,KAAK6F,GAAQ9K,GAAe,EAAViF,KAAK6F,GAAQ9K,GAAKiF,KAAK6F,GAAI,CACzD,IAAMunH,EAAS2D,EAAOh2H,EAClB2/D,EAAaC,EACXD,EAAa0yD,GAAUA,EAASzyD,GAClC2+B,EAAG77F,KAAK2vH,GAGNzyD,EAAWyyD,GAAUA,EAAS1yD,GAChC4+B,EAAG77F,KAAK2vH,GAKd,IAASryH,EAAI,EAAGA,EAAIu+F,EAAGr8F,OAAQlC,IAAK,CAClC,IAAMwU,EAAIshH,EAAIjlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAWu/B,EAAGv+F,IACxCwU,EAAI4e,IACNA,EAAO5e,GAELA,EAAI4f,IACNA,EAAO5f,GAIX,MAAO,CACLqN,EAAGsR,EACH3e,EAAG4e,EACHjhB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,IAcnBlxB,OAAA,SAAO2uB,EAAYC,EAAYU,EAAYC,EAAYutC,EAAmBW,EAAoBC,KAc9FttB,aAAA,SACEzhB,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACA/mB,EACAC,GAGA,IAAMm9E,EAAiBl0G,EAAO82B,EAAKhoB,EAAIioB,EAAKhoB,GAAKkuC,GAC1C,EAAUi3D,EAAc,GAApB3gG,EAAM2gG,EAAc,GAE3BC,EAAgB3kG,EAAqB,EAAG,EAAGC,EAAIC,EAAI4D,EAAIC,GAErDlE,EAzIV,SAAkBI,EAAYC,EAAYonB,EAAYC,GAGpD,OAFc7zC,KAAKsS,MAAMuhC,EAAKtnB,EAAIqnB,EAAKpnB,GAEb,EAAVxsB,KAAK6F,KAAqB,EAAV7F,KAAK6F,IAsIrBqrH,CAAS3kG,EAAIC,EAAIykG,EAAcr0G,EAAGq0G,EAAc1hH,GAE1D4c,EAAQuuC,EAEVu2D,EAAgBh6F,EAAS1K,EAAIC,EAAIkuC,GACxBvuC,EAAQwuC,IAEjBs2D,EAAgBh6F,EAAS1K,EAAIC,EAAImuC,IAGnC,IAAMhuC,EAAS7P,EAAOm0G,EAAcr0G,EAAGq0G,EAAc1hH,EAAGwqD,GACxD,MAAO,CACLn9C,EAAG+P,EAAO,GAAKf,EACfrc,EAAGod,EAAO,GAAKd,IAGnBqiG,cAAA,SACEtiG,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACA/mB,EACAC,GAEA,IAAMxG,EAAe,KAAKA,aAAazhB,EAAIC,EAAIU,EAAIC,EAAIonB,EAAIC,GAC3D,OAAOnsB,EAAS2lB,EAAazwB,EAAGywB,EAAa99B,EAAGqkC,EAAIC,IAEtDo6E,QAAA,SACEriG,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACA1+D,GAEA,IAAMkwB,GAASwuC,EAAWD,GAAcz+D,EAAIy+D,EAC5C,MAAO,CACL99C,EAAGg0G,EAAIhlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAW5tC,GAClC5c,EAAGshH,EAAIjlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAW5tC,KAGtCiiG,aAAA,SACExiG,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACA1+D,GAEA,IAAMkwB,GAASwuC,EAAWD,GAAcz+D,EAAIy+D,EACtC5uC,EAlPV,SACEF,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACAxuC,GAEA,OAAQ,EAAII,EAAKvsB,KAAKwS,IAAIunD,GAAa/5D,KAAKyS,IAAI0Z,GAASK,EAAKxsB,KAAKyS,IAAIsnD,GAAa/5D,KAAKwS,IAAI2Z,GAwOhFglG,CAAcvlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAWW,EAAYC,EAAUxuC,GACpEJ,EArOV,SACEH,EACAC,EACAU,EACAC,EACAutC,EACAW,EACAC,EACAxuC,GAEA,OAAQ,EAAII,EAAKvsB,KAAKyS,IAAIsnD,GAAa/5D,KAAKyS,IAAI0Z,GAASK,EAAKxsB,KAAKwS,IAAIunD,GAAa/5D,KAAKwS,IAAI2Z,GA2NhFilG,CAAcxlG,EAAIC,EAAIU,EAAIC,EAAIutC,EAAWW,EAAYC,EAAUxuC,GAC1E,OAAO6hG,EAAMhuH,KAAKsS,MAAMyZ,EAAID,MCrPhC,SAASulG,EAAc7lG,GAIrB,IAFA,IAAIqkG,EAAc,EACZj7E,EAAsB,GACnB75C,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMwV,EAAOib,EAAOzwB,GACduV,EAAKkb,EAAOzwB,EAAI,GAChBgiC,EAASrV,EAASnX,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,IAC9CijC,EAAM,CACVhjC,KAAI,EACJD,GAAE,EACFrT,OAAM,GAER23C,EAASn3C,KAAK81C,GACds8E,GAAe9yF,EAEjB,MAAO,CAAE6X,SAAQ,EAAEi7E,YAAW,GAG1B,SAAUyB,EAAgB9lG,GAC9B,GAAIA,EAAOvuB,OAAS,EAClB,OAAO,EAGT,IADA,IAAI4yH,EAAc,EACT90H,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMwV,EAAOib,EAAOzwB,GACduV,EAAKkb,EAAOzwB,EAAI,GACtB80H,GAAenoG,EAASnX,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,IAEtD,OAAOu/G,EASH,SAAU0B,EAAgB/lG,EAAsBvvB,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKuvB,EAAOvuB,OAAS,EACpC,OAAO,KAEH,MAA4Bo0H,EAAc7lG,GAAxCopB,EAAQ,WAAEi7E,EAAW,cAE7B,GAAoB,IAAhBA,EACF,MAAO,CACLjzG,EAAG4O,EAAO,GAAG,GACbjc,EAAGic,EAAO,GAAG,IAMjB,IAFA,IAAIgmG,EAAa,EACbjmG,EAAQ,KACHxwB,EAAI,EAAGA,EAAI65C,EAAS33C,OAAQlC,IAAK,CACxC,IAAMw4C,EAAMqB,EAAS75C,GACb,EAAaw4C,EAAG,KAAVjjC,EAAOijC,EAAG,GAClBk+E,EAAel+E,EAAIt2C,OAAS4yH,EAClC,GAAI5zH,GAAKu1H,GAAcv1H,GAAKu1H,EAAaC,EAAc,CACrD,IAAMC,GAAcz1H,EAAIu1H,GAAcC,EACtClmG,EAAQ2E,EAAK+9F,QAAQ19G,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,GAAIohH,GACrD,MAEFF,GAAcC,EAEhB,OAAOlmG,EAQH,SAAUomG,EAAgBnmG,EAAsBvvB,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKuvB,EAAOvuB,OAAS,EACpC,OAAO,EAMT,IAJM,MAA4Bo0H,EAAc7lG,GAAxCopB,EAAQ,WAAEi7E,EAAW,cAEzB2B,EAAa,EACbrlG,EAAQ,EACHpxB,EAAI,EAAGA,EAAI65C,EAAS33C,OAAQlC,IAAK,CACxC,IAAMw4C,EAAMqB,EAAS75C,GACb,EAAaw4C,EAAG,KAAVjjC,EAAOijC,EAAG,GAClBk+E,EAAel+E,EAAIt2C,OAAS4yH,EAClC,GAAI5zH,GAAKu1H,GAAcv1H,GAAKu1H,EAAaC,EAAc,CACrDtlG,EAAQnsB,KAAKsS,MAAMhC,EAAG,GAAKC,EAAK,GAAID,EAAG,GAAKC,EAAK,IACjD,MAEFihH,GAAcC,EAEhB,OAAOtlG,EAGH,SAAUylG,EAAkBpmG,EAAsB5O,EAAWrN,GAEjE,IADA,IAAIoiB,EAAclsB,IACT1K,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAS,EAAGlC,IAAK,CAC1C,IAAMwwB,EAAQC,EAAOzwB,GACfu8D,EAAY9rC,EAAOzwB,EAAI,GACvB82H,EAAW3hG,EAAKg+F,cAAc3iG,EAAM,GAAIA,EAAM,GAAI+rC,EAAU,GAAIA,EAAU,GAAI16C,EAAGrN,GACnFsiH,EAAWlgG,IACbA,EAAckgG,GAGlB,OAAOlgG,ECzGM,OAMbgjF,IAAA,SAAInpF,GAGF,IAFA,IAAM+D,EAAO,GACPC,EAAO,GACJz0B,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,IAAMwwB,EAAQC,EAAOzwB,GACrBw0B,EAAK9xB,KAAK8tB,EAAM,IAChBiE,EAAK/xB,KAAK8tB,EAAM,IAElB,OAAO+hG,EAAe/9F,EAAMC,IAO9BvyB,OAAA,SAAOuuB,GACL,OAAO8lG,EAAgB9lG,IAQzByiG,QAAA,SAAQziG,EAAsBvvB,GAC5B,OAAOs1H,EAAgB/lG,EAAQvvB,IASjCiyH,cAAA,SAAc1iG,EAAsB5O,EAAWrN,GAC7C,OAAOqiH,EAAkBpmG,EAAQ5O,EAAGrN,IAQtC6+G,aAAA,SAAa5iG,EAAsBvvB,GACjC,OAAO01H,EAAgBnmG,EAAQvvB,M,gCCtDnC,u3DAYO,SAASI,IACd,IAAI2wC,EAAM,IAAI23D,IAAoB,GAQlC,OANIA,KAAuB5pD,eACzB/N,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAAS5jC,EAAMhK,GACpB,IAAI4tC,EAAM,IAAI23D,IAAoB,GAIlC,OAHA33D,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EASF,SAAS/vC,EAAOmC,GACrB,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GACV,OAAOY,KAAKquC,MAAMzxB,EAAGrN,EAAGslB,GAWnB,SAASiwE,EAAWloF,EAAGrN,EAAGslB,GAC/B,IAAImY,EAAM,IAAI23D,IAAoB,GAIlC,OAHA33D,EAAI,GAAKpwB,EACTowB,EAAI,GAAKz9B,EACTy9B,EAAI,GAAKnY,EACFmY,EAUF,SAAS63D,EAAK73D,EAAK5tC,GAIxB,OAHA4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACX4tC,EAAI,GAAK5tC,EAAE,GACJ4tC,EAYF,SAAS/qC,EAAI+qC,EAAKpwB,EAAGrN,EAAGslB,GAI7B,OAHAmY,EAAI,GAAKpwB,EACTowB,EAAI,GAAKz9B,EACTy9B,EAAI,GAAKnY,EACFmY,EAWF,SAAS0H,EAAI1H,EAAK5tC,EAAGmC,GAI1B,OAHAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAASg5B,EAASh5B,EAAK5tC,EAAGmC,GAI/B,OAHAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAASs0C,EAASt0C,EAAK5tC,EAAGmC,GAI/B,OAHAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAWF,SAAS88D,EAAO98D,EAAK5tC,EAAGmC,GAI7B,OAHAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAClByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GACXyrC,EAUF,SAAS3O,EAAK2O,EAAK5tC,GAIxB,OAHA4tC,EAAI,GAAKhtC,KAAKq+B,KAAKj/B,EAAE,IACrB4tC,EAAI,GAAKhtC,KAAKq+B,KAAKj/B,EAAE,IACrB4tC,EAAI,GAAKhtC,KAAKq+B,KAAKj/B,EAAE,IACd4tC,EAUF,SAAS36B,EAAM26B,EAAK5tC,GAIzB,OAHA4tC,EAAI,GAAKhtC,KAAKqS,MAAMjT,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKqS,MAAMjT,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKqS,MAAMjT,EAAE,IACf4tC,EAWF,SAAS9sC,EAAI8sC,EAAK5tC,EAAGmC,GAI1B,OAHAyrC,EAAI,GAAKhtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKE,IAAId,EAAE,GAAImC,EAAE,IACnByrC,EAWF,SAAS/sC,EAAI+sC,EAAK5tC,EAAGmC,GAI1B,OAHAyrC,EAAI,GAAKhtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IAC1ByrC,EAAI,GAAKhtC,KAAKC,IAAIb,EAAE,GAAImC,EAAE,IACnByrC,EAUF,SAASvoC,EAAMuoC,EAAK5tC,GAIzB,OAHA4tC,EAAI,GAAKhtC,KAAKyE,MAAMrF,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKyE,MAAMrF,EAAE,IACtB4tC,EAAI,GAAKhtC,KAAKyE,MAAMrF,EAAE,IACf4tC,EAWF,SAAStW,EAAMsW,EAAK5tC,EAAGmC,GAI5B,OAHAyrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EAChByrC,EAAI,GAAK5tC,EAAE,GAAKmC,EACTyrC,EAYF,SAAS+8D,EAAY/8D,EAAK5tC,EAAGmC,EAAGm1B,GAIrC,OAHAsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EACvBsW,EAAI,GAAK5tC,EAAE,GAAKmC,EAAE,GAAKm1B,EAChBsW,EAUF,SAAStlB,EAAStoB,EAAGmC,GAC1B,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACby1B,EAAItzB,EAAE,GAAKnC,EAAE,GACjB,OAAOY,KAAKquC,MAAMzxB,EAAGrN,EAAGslB,GAUnB,SAASm1E,EAAgB5qG,EAAGmC,GACjC,IAAIqb,EAAIrb,EAAE,GAAKnC,EAAE,GACbmQ,EAAIhO,EAAE,GAAKnC,EAAE,GACby1B,EAAItzB,EAAE,GAAKnC,EAAE,GACjB,OAAOwd,EAAIA,EAAIrN,EAAIA,EAAIslB,EAAIA,EAStB,SAASo1E,EAAc7qG,GAC5B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GACV,OAAOwd,EAAIA,EAAIrN,EAAIA,EAAIslB,EAAIA,EAUtB,SAASqxC,EAAOl5B,EAAK5tC,GAI1B,OAHA4tC,EAAI,IAAM5tC,EAAE,GACZ4tC,EAAI,IAAM5tC,EAAE,GACZ4tC,EAAI,IAAM5tC,EAAE,GACL4tC,EAUF,SAASk9D,EAAQl9D,EAAK5tC,GAI3B,OAHA4tC,EAAI,GAAK,EAAM5tC,EAAE,GACjB4tC,EAAI,GAAK,EAAM5tC,EAAE,GACjB4tC,EAAI,GAAK,EAAM5tC,EAAE,GACV4tC,EAUF,SAAS/Z,EAAU+Z,EAAK5tC,GAC7B,IAAIwd,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GACNhB,EAAMwe,EAAIA,EAAIrN,EAAIA,EAAIslB,EAAIA,EAU9B,OARIz2B,EAAM,IAERA,EAAM,EAAI4B,KAAKuS,KAAKnU,IAGtB4uC,EAAI,GAAK5tC,EAAE,GAAKhB,EAChB4uC,EAAI,GAAK5tC,EAAE,GAAKhB,EAChB4uC,EAAI,GAAK5tC,EAAE,GAAKhB,EACT4uC,EAUF,SAAS9Z,EAAI9zB,EAAGmC,GACrB,OAAOnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAAKnC,EAAE,GAAKmC,EAAE,GAWvC,SAASy0C,EAAMhJ,EAAK5tC,EAAGmC,GAC5B,IAAI6oG,EAAKhrG,EAAE,GACPirG,EAAKjrG,EAAE,GACP0yH,EAAK1yH,EAAE,GACP2yG,EAAKxwG,EAAE,GACPywG,EAAKzwG,EAAE,GACPwwH,EAAKxwH,EAAE,GAIX,OAHAyrC,EAAI,GAAKq9D,EAAK0nB,EAAKD,EAAK9f,EACxBhlE,EAAI,GAAK8kF,EAAK/f,EAAK3H,EAAK2nB,EACxB/kF,EAAI,GAAKo9D,EAAK4H,EAAK3H,EAAK0H,EACjB/kE,EAYF,SAASm9D,EAAKn9D,EAAK5tC,EAAGmC,EAAGtF,GAC9B,IAAImuG,EAAKhrG,EAAE,GACPirG,EAAKjrG,EAAE,GACP0yH,EAAK1yH,EAAE,GAIX,OAHA4tC,EAAI,GAAKo9D,EAAKnuG,GAAKsF,EAAE,GAAK6oG,GAC1Bp9D,EAAI,GAAKq9D,EAAKpuG,GAAKsF,EAAE,GAAK8oG,GAC1Br9D,EAAI,GAAK8kF,EAAK71H,GAAKsF,EAAE,GAAKuwH,GACnB9kF,EAcF,SAASglF,EAAQhlF,EAAK5tC,EAAGmC,EAAGnG,EAAGC,EAAGY,GACvC,IAAIg2H,EAAeh2H,EAAIA,EACnBi2H,EAAUD,GAAgB,EAAIh2H,EAAI,GAAK,EACvCk2H,EAAUF,GAAgBh2H,EAAI,GAAKA,EACnCm2H,EAAUH,GAAgBh2H,EAAI,GAC9Bo2H,EAAUJ,GAAgB,EAAI,EAAIh2H,GAItC,OAHA+wC,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnErlF,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnErlF,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EAC5DrlF,EAcF,SAASslF,EAAOtlF,EAAK5tC,EAAGmC,EAAGnG,EAAGC,EAAGY,GACtC,IAAIs2H,EAAgB,EAAIt2H,EACpBu2H,EAAwBD,EAAgBA,EACxCN,EAAeh2H,EAAIA,EACnBi2H,EAAUM,EAAwBD,EAClCJ,EAAU,EAAIl2H,EAAIu2H,EAClBJ,EAAU,EAAIH,EAAeM,EAC7BF,EAAUJ,EAAeh2H,EAI7B,OAHA+wC,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnErlF,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EACnErlF,EAAI,GAAK5tC,EAAE,GAAK8yH,EAAU3wH,EAAE,GAAK4wH,EAAU/2H,EAAE,GAAKg3H,EAAU/2H,EAAE,GAAKg3H,EAC5DrlF,EAUF,SAASzP,EAAOyP,EAAKtW,GAC1BA,EAAQA,GAAS,EACjB,IAAI76B,EAAwB,EAApB8oG,MAA0B3kG,KAAK6F,GACnCgvB,EAAwB,EAApB8vE,MAA0B,EAC9B8tB,EAASzyH,KAAKuS,KAAK,EAAMsiB,EAAIA,GAAK6B,EAItC,OAHAsW,EAAI,GAAKhtC,KAAKwS,IAAI3W,GAAK42H,EACvBzlF,EAAI,GAAKhtC,KAAKyS,IAAI5W,GAAK42H,EACvBzlF,EAAI,GAAKnY,EAAI6B,EACNsW,EAYF,SAASw9D,EAAcx9D,EAAK5tC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GACNq1B,EAAIt5B,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAAM05B,EAAI15B,EAAE,IAK5C,OAJAs5B,EAAIA,GAAK,EACTuY,EAAI,IAAM7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK05B,EAAI15B,EAAE,KAAOs5B,EACpDuY,EAAI,IAAM7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK05B,EAAI15B,EAAE,KAAOs5B,EACpDuY,EAAI,IAAM7xC,EAAE,GAAKyhB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,IAAM05B,EAAI15B,EAAE,KAAOs5B,EAC9CuY,EAWF,SAASpgB,EAAcogB,EAAK5tC,EAAGjE,GACpC,IAAIyhB,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GAIV,OAHA4tC,EAAI,GAAKpwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK05B,EAAI15B,EAAE,GACrC6xC,EAAI,GAAKpwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK05B,EAAI15B,EAAE,GACrC6xC,EAAI,GAAKpwB,EAAIzhB,EAAE,GAAKoU,EAAIpU,EAAE,GAAK05B,EAAI15B,EAAE,GAC9B6xC,EAYF,SAAS0lF,EAAc1lF,EAAK5tC,EAAGsvB,GAEpC,IAAIujF,EAAKvjF,EAAE,GACPwjF,EAAKxjF,EAAE,GACPikG,EAAKjkG,EAAE,GACPkkG,EAAKlkG,EAAE,GACP9R,EAAIxd,EAAE,GACNmQ,EAAInQ,EAAE,GACNy1B,EAAIz1B,EAAE,GAGNyzH,EAAM3gB,EAAKr9E,EAAI89F,EAAKpjH,EACpBujH,EAAMH,EAAK/1G,EAAIq1F,EAAKp9E,EACpBk+F,EAAM9gB,EAAK1iG,EAAI2iG,EAAKt1F,EAEpBo2G,EAAO9gB,EAAK6gB,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAM5gB,EAAK8gB,EACvBG,EAAOjhB,EAAK6gB,EAAM5gB,EAAK2gB,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAERlmF,EAAI,GAAKpwB,EAAIi2G,EAAMG,EACnBhmF,EAAI,GAAKz9B,EAAIujH,EAAMG,EACnBjmF,EAAI,GAAKnY,EAAIk+F,EAAMG,EACZlmF,EAWF,SAASomF,EAAQpmF,EAAK5tC,EAAGmC,EAAG+1B,GACjC,IAAIz6B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAAOz6B,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAC9Cz7B,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAAOz6B,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAE9C0V,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GACXyrC,EAWF,SAASqmF,EAAQrmF,EAAK5tC,EAAGmC,EAAG+1B,GACjC,IAAIz6B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAAOz6B,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAC9Cz7B,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAAOz6B,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAE9C0V,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GACXyrC,EAWF,SAASsmF,EAAQtmF,EAAK5tC,EAAGmC,EAAG+1B,GACjC,IAAIz6B,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAChB1E,EAAE,GAAKuC,EAAE,GAAKmC,EAAE,GAEhB1F,EAAE,GAAKgB,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAAOz6B,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAC9Cz7B,EAAE,GAAKgB,EAAE,GAAKmD,KAAKyS,IAAI6kB,GAAOz6B,EAAE,GAAKmD,KAAKwS,IAAI8kB,GAC9Cz7B,EAAE,GAAKgB,EAAE,GAETmwC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GAClByrC,EAAI,GAAKnxC,EAAE,GAAK0F,EAAE,GACXyrC,EASF,SAAS7gB,EAAM/sB,EAAGmC,GACvB,IAAI6oG,EAAKhrG,EAAE,GACPirG,EAAKjrG,EAAE,GACP0yH,EAAK1yH,EAAE,GACP2yG,EAAKxwG,EAAE,GACPywG,EAAKzwG,EAAE,GACPwwH,EAAKxwH,EAAE,GAGPopG,EAFO3qG,KAAKuS,KAAK63F,EAAKA,EAAKC,EAAKA,EAAKynB,EAAKA,GACnC9xH,KAAKuS,KAAKw/F,EAAKA,EAAKC,EAAKA,EAAK+f,EAAKA,GAE1CnnB,EAASD,GAAOz3E,EAAI9zB,EAAGmC,GAAKopG,EAChC,OAAO3qG,KAAK05D,KAAK15D,KAAKE,IAAIF,KAAKC,IAAI2qG,GAAS,GAAI,IAS3C,SAASC,EAAK79D,GAInB,OAHAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAAS5rC,EAAIhC,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAU/C,SAAS2zB,EAAY3zB,EAAGmC,GAC7B,OAAOnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,IAAMnC,EAAE,KAAOmC,EAAE,GAU/C,SAASsnG,EAAOzpG,EAAGmC,GACxB,IAAIunG,EAAK1pG,EAAE,GACP0iF,EAAK1iF,EAAE,GACP2pG,EAAK3pG,EAAE,GACPkqG,EAAK/nG,EAAE,GACPk1F,EAAKl1F,EAAE,GACPm1F,EAAKn1F,EAAE,GACX,OAAOvB,KAAKqF,IAAIyjG,EAAKQ,IAAO3E,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIyjG,GAAK9oG,KAAKqF,IAAIikG,KAAQtpG,KAAKqF,IAAIy8E,EAAK2U,IAAOkO,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAIy8E,GAAK9hF,KAAKqF,IAAIoxF,KAAQz2F,KAAKqF,IAAI0jG,EAAKrS,IAAOiO,IAAmB3kG,KAAKC,IAAI,EAAKD,KAAKqF,IAAI0jG,GAAK/oG,KAAKqF,IAAIqxF,IAOzP,IAmDD7oE,EAnDK8oC,EAAMqP,EAMN6jC,EAAMvoB,EAMNwpB,EAAMhB,EAMNjhG,EAAO6e,EAMPqjF,EAAUf,EAMV5rG,EAAMnB,EAMN+tG,EAASf,EAcT7+F,GACLyiB,EAAMxxB,IACH,SAAU+C,EAAG6rG,EAAQjyF,EAAQ1E,EAAOrT,EAAIiqG,GAC7C,IAAInwG,EAAGC,EAgBP,IAdKiwG,IACHA,EAAS,GAGNjyF,IACHA,EAAS,GAIThe,EADEsZ,EACEtU,KAAKE,IAAIoU,EAAQ22F,EAASjyF,EAAQ5Z,EAAEnC,QAEpCmC,EAAEnC,OAGHlC,EAAIie,EAAQje,EAAIC,EAAGD,GAAKkwG,EAC3Bp9E,EAAI,GAAKzuB,EAAErE,GACX8yB,EAAI,GAAKzuB,EAAErE,EAAI,GACf8yB,EAAI,GAAKzuB,EAAErE,EAAI,GACfkG,EAAG4sB,EAAKA,EAAKq9E,GACb9rG,EAAErE,GAAK8yB,EAAI,GACXzuB,EAAErE,EAAI,GAAK8yB,EAAI,GACfzuB,EAAErE,EAAI,GAAK8yB,EAAI,GAGjB,OAAOzuB,K,gCCzwBX,IAGA,0BACU,aAAsB,GAwGhC,OAhGEm0H,wBAAGn0B,EAAa3+C,EAAoB9pC,GAQlC,OAPK,KAAK68G,QAAQp0B,KAChB,KAAKo0B,QAAQp0B,GAAO,IAEtB,KAAKo0B,QAAQp0B,GAAK3hG,KAAK,CACrBgjD,SAAQ,EACR9pC,OAAQA,IAEH,MAQT48G,0BAAKn0B,EAAa3+C,GAChB,OAAO,KAAKhqC,GAAG2oF,EAAK3+C,GAAU,IAQhC8yE,0BAAKn0B,G,IAAL,WAAkB,gCAAAj2F,oBAChB,IAAMugB,EAAS,KAAK8pG,QAAQp0B,IAAQ,GAC9Bq0B,EAAiB,KAAKD,QAvCf,MAuCoC,GAG3CE,EAAS,SAACC,GAEd,IADA,IAAI12H,EAAS02H,EAAG12H,OACPlC,EAAI,EAAGA,EAAIkC,EAAQlC,IAC1B,GAAK44H,EAAG54H,GAAR,CAGM,MAAqB44H,EAAG54H,GAAtB0lD,EAAQ,WAAM,SAGpBkzE,EAAGhzH,OAAO5F,EAAG,GAEK,IAAd44H,EAAG12H,eACEgtB,EAAKupG,QAAQp0B,GAGtBniG,IACAlC,KAGF0lD,EAASr+C,MAAM6nB,EAAM9gB,KAIzBuqH,EAAOhqG,GACPgqG,EAAOD,IAQTF,yBAAIn0B,EAAc3+C,GAChB,GAAK2+C,EAIH,GAAK3+C,EAGE,CAKL,IAHA,IAAM/2B,EAAS,KAAK8pG,QAAQp0B,IAAQ,GAEhCriE,EAASrT,EAAOzsB,OACXlC,EAAI,EAAGA,EAAIgiC,EAAQhiC,IACtB2uB,EAAO3uB,GAAG0lD,WAAaA,IACzB/2B,EAAO/oB,OAAO5F,EAAG,GACjBgiC,IACAhiC,KAIkB,IAAlB2uB,EAAOzsB,eACF,KAAKu2H,QAAQp0B,eAff,KAAKo0B,QAAQp0B,QAJtB,KAAKo0B,QAAU,GAwBjB,OAAO,MAITD,iCACE,OAAO,KAAKC,SAEhB,EAzGA,G,qwBCVA,IAAMp2G,EAGF,GAmBJ,SAASw2G,EAAoBrrH,GAC3B,OAAI6U,aAAM,EAAN,EAAQw2G,qBACHx2G,EAAOw2G,oBAAoBrrH,IAEH,YAAlB,oBAAOP,OAAP,cAAOA,UAAuBA,OAAOM,qBAAuBN,OAAOM,qBAAuBK,cAC3FJ,G,qOvMhBV,SAAUmf,EAAS0I,EAAYC,EAAYC,EAAYC,GAC3D,IAAMzE,EAAKsE,EAAKE,EACVvE,EAAKsE,EAAKE,EAChB,OAAOvwB,KAAKuS,KAAKuZ,EAAKA,EAAKC,EAAKA,GAY5B,SAAU8nG,EAAM3lG,EAAcC,EAAcjhB,EAAeuO,EAAgBmB,EAAGrN,GAClF,OAAOqN,GAAKsR,GAAQtR,GAAKsR,EAAOhhB,GAASqC,GAAK4e,GAAQ5e,GAAK4e,EAAO1S,EAG9D,SAAUq4G,EAAc9kG,EAAMC,GAClC,QAASA,EAAKf,KAAOc,EAAKE,MAAQD,EAAKC,KAAOF,EAAKd,MAAQe,EAAKd,KAAOa,EAAKG,MAAQF,EAAKE,KAAOH,EAAKb,MAqBjG,SAAUwrC,EAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,GwMlDzD,IAAMk6D,EAAU,kCACVC,EAAU,gEACVC,EAAU,kCACVC,EAAiB,8BAEvB,SAASC,EAAQC,EAAOC,GACtB,IAAMl3H,EAAgBi3H,EAAM1tH,MAAMwtH,GAClCh2H,eAAKf,GAAK,SAAC4E,GACT,IAAMuyH,EAAUvyH,EAAKoB,MAAM,KAC3BkxH,EAASE,aAAaD,EAAQ,GAAIA,EAAQ,OAiKxC,SAAUE,EAAW/qH,EAAmCqO,EAAmB/T,GAC/E,GAAItC,mBAASsC,GAAQ,CACnB,GAAiB,MAAbA,EAAM,IAA2B,MAAbA,EAAM,GAAY,CACxC,GAAiB,MAAbA,EAAM,GAER,OA5JF,SAA4B0F,EAAmCqO,EAAmB28G,GACtF,IAII5/D,EACA+O,EALEzmE,EAAM42H,EAAQ5/G,KAAKsgH,GACnBtoG,EAASxnB,WAAWxH,EAAI,IAAM,KAAQ6C,KAAK6F,GAAK,KAChDuuH,EAAQj3H,EAAI,GACZw3G,EAAM78F,EAAQwX,UAIhBnD,GAAS,GAAKA,EAAS,GAASnsB,KAAK6F,IACvCgvD,EAAQ,CACNj4C,EAAG+3F,EAAIzmF,KACP3e,EAAGolG,EAAIxmF,MAETy1C,EAAM,CACJhnD,EAAG+3F,EAAIzlF,KACP3f,EAAGolG,EAAIxlF,OAEC,GAASnvB,KAAK6F,IAAMsmB,GAASA,EAAQnsB,KAAK6F,IACpDgvD,EAAQ,CACNj4C,EAAG+3F,EAAIzlF,KACP3f,EAAGolG,EAAIxmF,MAETy1C,EAAM,CACJhnD,EAAG+3F,EAAIzmF,KACP3e,EAAGolG,EAAIxlF,OAEAnvB,KAAK6F,IAAMsmB,GAASA,EAAS,IAASnsB,KAAK6F,IACpDgvD,EAAQ,CACNj4C,EAAG+3F,EAAIzlF,KACP3f,EAAGolG,EAAIxlF,MAETy0C,EAAM,CACJhnD,EAAG+3F,EAAIzmF,KACP3e,EAAGolG,EAAIxmF,QAGT0mC,EAAQ,CACNj4C,EAAG+3F,EAAIzmF,KACP3e,EAAGolG,EAAIxlF,MAETy0C,EAAM,CACJhnD,EAAG+3F,EAAIzlF,KACP3f,EAAGolG,EAAIxmF,OAIX,IAAMumG,EAAW10H,KAAKmmB,IAAIgG,GACpBwoG,EAAYD,EAAWA,EAEvB93G,GAAKgnD,EAAIhnD,EAAIi4C,EAAMj4C,EAAI83G,GAAY9wD,EAAIr0D,EAAIslD,EAAMtlD,KAAOolH,EAAY,GAAK9/D,EAAMj4C,EAC/ErN,EAAKmlH,GAAY9wD,EAAIhnD,EAAIi4C,EAAMj4C,EAAI83G,GAAY9wD,EAAIr0D,EAAIslD,EAAMtlD,KAAQolH,EAAY,GAAK9/D,EAAMtlD,EAC5F8kH,EAAW5qH,EAAQmrH,qBAAqB//D,EAAMj4C,EAAGi4C,EAAMtlD,EAAGqN,EAAGrN,GAEnE,OADA4kH,EAAQC,EAAOC,GACRA,EAuGMQ,CAAkBprH,EAASqO,EAAS/T,GAE7C,GAAiB,MAAbA,EAAM,GAER,OAjGF,SAA8B0F,EAAmCqO,EAAmB28G,GACxF,IAAMt3H,EAAM62H,EAAQ7/G,KAAKsgH,GACnBK,EAAKnwH,WAAWxH,EAAI,IACpB43H,EAAKpwH,WAAWxH,EAAI,IACpB63H,EAAKrwH,WAAWxH,EAAI,IACpBi3H,EAAQj3H,EAAI,GAElB,GAAW,IAAP63H,EAAU,CACZ,IAAMzR,EAAS6Q,EAAM1tH,MAAMwtH,GAC3B,OAAO3Q,EAAOA,EAAOtmH,OAAS,GAAGkG,MAAM,KAAK,GAE9C,IAAMwxG,EAAM78F,EAAQwX,UACdpiB,EAAQynG,EAAIzlF,KAAOylF,EAAIzmF,KACvBzS,EAASk5F,EAAIxlF,KAAOwlF,EAAIxmF,KACxBtyB,EAAImE,KAAKuS,KAAKrF,EAAQA,EAAQuO,EAASA,GAAU,EACjD44G,EAAW5qH,EAAQwrH,qBACvBtgB,EAAIzmF,KAAOhhB,EAAQ4nH,EACnBngB,EAAIxmF,KAAO1S,EAASs5G,EACpB,EACApgB,EAAIzmF,KAAOhhB,EAAQ,EACnBynG,EAAIxmF,KAAO1S,EAAS,EACpBu5G,EAAKn5H,GAGP,OADAs4H,EAAQC,EAAOC,GACRA,EAyEMa,CAAoBzrH,EAASqO,EAAS/T,GAE/C,GAAiB,MAAbA,EAAM,GAER,OApEF,SAAuB0F,EAAmCqO,EAAmBq9G,GAEjF,GAAIr9G,EAAQlc,IAAI,kBAAoBkc,EAAQlc,IAAI,mBAAqBu5H,EACnE,OAAOr9G,EAAQlc,IAAI,WAErB,IAAIi8B,EACAu5B,EACEj0D,EAAM82H,EAAQ9/G,KAAKghH,GACrB9Y,EAASl/G,EAAI,GACXurB,EAASvrB,EAAI,GAGnB,SAASi4H,IAEPv9F,EAAUpuB,EAAQ4rH,cAAcjkE,EAAKirD,GACrCvkG,EAAQ7V,IAAI,UAAW41B,GACvB/f,EAAQ7V,IAAI,gBAAiBkzH,GAG/B,OAAQ9Y,GACN,IAAK,IACHA,EAAS,SACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,YACT,MACF,QACEA,EAAS,YAmBb,OAhBAjrD,EAAM,IAAIkkE,MAEL5sG,EAAOhiB,MAAM,aAEhB0qD,EAAImkE,YAAc,aAEpBnkE,EAAInnD,IAAMye,EAEN0oC,EAAIokE,SACNJ,KAEAhkE,EAAIgkE,OAASA,EAEbhkE,EAAInnD,IAAMmnD,EAAInnD,KAGT4tB,EAgBM49F,CAAahsH,EAASqO,EAAS/T,GAG1C,OAAOA,GC1LX,SAASw1D,EAAKl5D,GACZ,OAAOL,KAAKuS,KAAKlS,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAI1C,SAASm5D,EAAOpnD,EAAG/R,GAEjB,OAAOk5D,EAAKnnD,GAAKmnD,EAAKl5D,IAAM+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,KAAOk5D,EAAKnnD,GAAKmnD,EAAKl5D,IAAM,EAIjF,SAASo5D,EAAOrnD,EAAG/R,GACjB,OAAQ+R,EAAE,GAAK/R,EAAE,GAAK+R,EAAE,GAAK/R,EAAE,IAAM,EAAI,GAAKL,KAAK05D,KAAKF,EAAOpnD,EAAG/R,IAItD,SAAUy5D,EAAalkC,EAAY6iC,GAC/C,IAAIlsC,EAAKksC,EAAO,GACZjsC,EAAKisC,EAAO,GACVsB,EAAYp0D,cAAIO,mBAASuyD,EAAO,IAAe,EAAVz4D,KAAK6F,IAC1Cm0D,EAAUvB,EAAO,GACjBwB,EAAYxB,EAAO,GAEnBroC,EAAKwF,EAAW,GAChBvF,EAAKuF,EAAW,GAEhBtF,EAAKmoC,EAAO,GACZloC,EAAKkoC,EAAO,GACZyB,EAAMl6D,KAAKwS,IAAIunD,IAAc3pC,EAAKE,GAAO,EAAOtwB,KAAKyS,IAAIsnD,IAAc1pC,EAAKE,GAAO,EACnF4pC,GAAO,EAAIn6D,KAAKyS,IAAIsnD,IAAc3pC,EAAKE,GAAO,EAAOtwB,KAAKwS,IAAIunD,IAAc1pC,EAAKE,GAAO,EACxF6pC,EAAUF,EAAKA,GAAO3tC,EAAKA,GAAO4tC,EAAKA,GAAO3tC,EAAKA,GAErD4tC,EAAS,IACX7tC,GAAMvsB,KAAKuS,KAAK6nD,GAChB5tC,GAAMxsB,KAAKuS,KAAK6nD,IAElB,IAAMC,EAAO9tC,EAAKA,GAAM4tC,EAAKA,GAAM3tC,EAAKA,GAAM0tC,EAAKA,GAE/C9xD,EAAIiyD,EAAOr6D,KAAKuS,MAAMga,EAAKA,GAAMC,EAAKA,GAAM6tC,GAAQA,GAAQ,EAE5DL,IAAYC,IACd7xD,IAAM,GAEJ9H,MAAM8H,KACRA,EAAI,GAIN,IAAMkyD,EAAM9tC,EAAMpkB,EAAImkB,EAAK4tC,EAAM3tC,EAAK,EAChC+tC,EAAMhuC,EAAMnkB,GAAKokB,EAAK0tC,EAAM3tC,EAAK,EAGjCX,GAAMwE,EAAKE,GAAM,EAAMtwB,KAAKwS,IAAIunD,GAAaO,EAAMt6D,KAAKyS,IAAIsnD,GAAaQ,EACzE1uC,GAAMwE,EAAKE,GAAM,EAAMvwB,KAAKyS,IAAIsnD,GAAaO,EAAMt6D,KAAKwS,IAAIunD,GAAaQ,EAGzEnoD,EAAI,EAAE8nD,EAAKI,GAAO/tC,GAAK4tC,EAAKI,GAAO/tC,GAEnCnsB,EAAI,GAAG,EAAI65D,EAAKI,GAAO/tC,IAAM,EAAI4tC,EAAKI,GAAO/tC,GAE7CguC,EAAQf,EAAO,CAAC,EAAG,GAAIrnD,GAGzBqoD,EAAShB,EAAOrnD,EAAG/R,GAcvB,OAZIm5D,EAAOpnD,EAAG/R,KAAO,IACnBo6D,EAASz6D,KAAK6F,IAEZ2zD,EAAOpnD,EAAG/R,IAAM,IAClBo6D,EAAS,GAEO,IAAdR,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAIz6D,KAAK6F,IAEX,IAAdo0D,GAAmBQ,EAAS,IAC9BA,GAAkB,EAAIz6D,KAAK6F,IAEtB,CACL+lB,GAAE,EACFC,GAAE,EAEFU,GAAIotC,EAAY/jC,EAAY,CAACtF,EAAIC,IAAO,EAAIhE,EAC5CC,GAAImtC,EAAY/jC,EAAY,CAACtF,EAAIC,IAAO,EAAI/D,EAC5CkuC,WAAYF,EACZG,SAAUH,EAAQC,EAClBV,UAAS,EACTC,QAAO,EACPC,UAAS,G,qOCxFL,MAAwBj6D,KAAI,IAAvBwS,EAAmBxS,KAAI,IAAlBsS,EAActS,KAAI,MAAX6F,EAAO7F,KAAI,GAEpC,SAAS01H,EAAiBj+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,EAAIolG,GAC9C,MAAsBh3H,EAAK,OAAnBua,EAAcva,EAAK,UAG7B24B,EAAMhlB,EADF+d,EAAKE,EADLH,EAAKE,GAGTslG,EAAa,IAAIC,GAAK,CAC1B/3H,KAAM,OACNsf,OAAQ3F,EAAM7b,IAAI,UAClBk6H,cAAc,EACdn3H,MAAO,CAEL4M,KAAM,IAAI,GAAKiH,EAAI3M,EAAK,GAAE,IAAI,GAAK4M,EAAI5M,EAAK,GAAE,UAAU,GAAK2M,EAAI3M,EAAK,GAAE,KAAK,GAAK4M,EAAI5M,EAAK,GAE3FsT,OAAM,EACND,UAAS,KAGb08G,EAAWjoG,UAAU2C,EAAIC,GACzBqlG,EAAWG,cAAczlG,EAAIC,EAAI+G,GACjC7f,EAAMxV,IAAI0zH,EAAU,kBAAoB,gBAAiBC,GAQ3D,SAASI,EAAoBv+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,EAAIolG,GACjD,MAA4Ch3H,EAAK,WAArCmrD,EAAgCnrD,EAAK,SAA3Bwa,EAAsBxa,EAAK,OAAnBua,EAAcva,EAAK,UACnDs3H,EAAaN,EAAU9rE,EAAaC,EAClC,EAAqFmsE,EAAU,EAAtFC,EAA4ED,EAAU,KAAnEE,EAAyDF,EAAU,OAA3CG,EAAiCH,EAAU,UAAxBI,EAAS,YAAKJ,EAAvF,mCAGA3+F,EAAMhlB,EADF+d,EAAKE,EADLH,EAAKE,GAIXj1B,IACFi1B,GAAU9d,EAAI8kB,GAAOj8B,EACrBk1B,GAAU9d,EAAI6kB,GAAOj8B,GAGvB,IAAMu6H,EAAa,IAAIC,GAAK,CAC1B/3H,KAAM,OACNsf,OAAQ3F,EAAM7b,IAAI,UAClBk6H,cAAc,EACdn3H,MAAK,2BACA03H,GAAS,CAEZl9G,OAAQg9G,GAAeh9G,EACvBD,UAAWk9G,GAAkBl9G,EAE7BL,KAAMq9G,MAIVN,EAAWjoG,UAAU2C,EAAIC,GACzBqlG,EAAWG,cAAczlG,EAAIC,EAAI+G,GACjC7f,EAAMxV,IAAI0zH,EAAU,kBAAoB,gBAAiBC,GAerD,SAAUU,EAAiBlmG,EAAIC,EAAIC,EAAIC,EAAIl1B,GAC/C,IAAMi8B,EAAMhlB,EAAMie,EAAKF,EAAIC,EAAKF,GAChC,MAAO,CACLtE,GAAItZ,EAAI8kB,GAAOj8B,EACf0wB,GAAItZ,EAAI6kB,GAAOj8B,GAab,SAAUk7H,EAAc9+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GACtB,WAA5B,EAAO5xB,EAAMkrD,YACfmsE,EAAoBv+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GAAI,GACzC5xB,EAAMkrD,WACf6rE,EAAiBj+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GAAI,GAE/C9Y,EAAMxV,IAAI,kBAAmB,MAa3B,SAAUu0H,EAAY/+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GACtB,WAA1B,EAAO5xB,EAAMmrD,UACfksE,EAAoBv+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GAAI,GACzC5xB,EAAMmrD,SACf4rE,EAAiBj+G,EAAO9Y,EAAOyxB,EAAIC,EAAIC,EAAIC,GAAI,GAE/C9Y,EAAMxV,IAAI,kBAAmB,MC7GjC,IAAMw0H,EAAkB,CACtB59G,KAAM,YACNM,OAAQ,cACR4kC,QAAS,eAGL,SAAU24E,EAAoBjtH,EAAmCqO,GACrE,IAAMnZ,EAAQmZ,EAAQ2tB,OACtB,IAAK,IAAMnnC,KAAKK,EAAO,CACrB,IAAI0B,EAAI1B,EAAML,GAER8+G,EAAOqZ,EAAgBn4H,GAAKm4H,EAAgBn4H,GAAKA,EAC1C,WAAT8+G,GAAqB/8G,EAEvBoJ,EAAQ8gB,UAAUlqB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAChC,aAAT+8G,GAAuB3zG,EAAQktH,YAExC14H,kBAAQoC,IAAMoJ,EAAQktH,YAAYt2H,IAErB,gBAAT+8G,GAAmC,cAATA,EAG5B/8G,EAAIm0H,EAAW/qH,EAASqO,EAASzX,GACf,gBAAT+8G,IAET/8G,GAAQoJ,EAAQmtH,aAElBntH,EAAQ2zG,GAAQ/8G,IAKhB,SAAUw2H,EAAaptH,EAAmCsf,EAAsB+tG,GACpF,IAAK,IAAI/7H,EAAI,EAAGA,EAAIguB,EAAS9rB,OAAQlC,IAAK,CACxC,IAAMi+B,EAAQjQ,EAAShuB,GACnBi+B,EAAMjhB,IAAIC,QACZghB,EAAMgL,KAAKv6B,EAASqtH,GAEpB99F,EAAM+9F,YAMN,SAAUC,EAAa55G,EAAQ2L,EAAsB+tG,GACzD,IAAMG,EAAkB75G,EAAOxhB,IAAI,mBAEnCsC,eAAK+4H,GAAiB,SAACpO,GACrB,GAAIA,IAAOzrG,EAET,IADA,IAAImb,EAASswF,EAAG9wG,IAAIJ,OACb4gB,GAAUA,IAAWnb,IAAWmb,EAAOxgB,IAAI6yB,SAChDrS,EAAOxgB,IAAI6yB,SAAU,EACrBrS,EAASA,EAAOxgB,IAAIJ,UAItBs/G,EAAgB,KAAO75G,EACzB85G,EAAmBnuG,EAAU+tG,GAO3B,SAAUK,EAAqBpuG,EAAsB+tG,GACzD,IAAK,IAAI/7H,EAAI,EAAGA,EAAIguB,EAAS9rB,OAAQlC,IAAK,CACxC,IAAMi+B,EAAQjQ,EAAShuB,GACvB,GAAIi+B,EAAMjhB,IAAIC,QAEZ,GAAIghB,EAAMjhB,IAAIq/G,WAEZp+F,EAAMjhB,IAAI6yB,SAAU,EAChB5R,EAAMqkF,WACR6Z,EAAmBl+F,EAAMjhB,IAAIgR,SAAU+tG,QAEpC,GAAI99F,EAAMjhB,IAAI6yB,QAEf5R,EAAMqkF,WACR8Z,EAAqBn+F,EAAMjhB,IAAIgR,SAAU+tG,OAEtC,CAEL,IAAMlsF,EAAUysF,EAAoBr+F,EAAO89F,GAC3C99F,EAAMjhB,IAAI6yB,QAAUA,EAChBA,GAAW5R,EAAMqkF,WAEnB8Z,EAAqBn+F,EAAMjhB,IAAIgR,SAAU+tG,KA1B/CK,CAAqBpuG,EAAU+tG,GA+CnC,SAASI,EAAmBnuG,EAAsB+tG,GAChD,IAAK,IAAI/7H,EAAI,EAAGA,EAAIguB,EAAS9rB,OAAQlC,IAAK,CACxC,IAAMi+B,EAAQjQ,EAAShuB,GAQvBi+B,EAAMjhB,IAAI6yB,SAAU,EAEhB5R,EAAMqkF,WACR6Z,EAAmBl+F,EAAMp9B,IAAI,YAAak7H,IAKhD,SAASO,EAAoB5/G,EAAiBq/G,GAC5C,IAAM9oG,EAAOvW,EAAMM,IAAIu/G,gBAEvB,OADgB7/G,EAAMM,IAAIw/G,UAAYvpG,GAAQ8lG,EAAc9lG,EAAM8oG,GAK9D,SAAUU,EAAS//G,EAAOhO,EAAS9K,EAAO84H,GACtC,MAA+B94H,EAAK,KAA9BkrD,EAAyBlrD,EAAK,WAAlBmrD,EAAanrD,EAAK,SAC5C,GAAK4M,EAAL,CAGA,IAAIsvD,EAAe,CAAC,EAAG,GACnBE,EAAiB,CAAC,EAAG,GACrBrzC,EAAW,CACboE,GAAI,EACJC,GAAI,GAENtiB,EAAQiuH,YACR,IAAK,IAAI38H,EAAI,EAAGA,EAAIwQ,EAAKtO,OAAQlC,IAAK,CACpC,IAAM09D,EAASltD,EAAKxQ,GACdkgE,EAAUxC,EAAO,GACvB,GAAU,IAAN19D,GAAW8uD,GAAcA,EAAWxuD,EAEtCqsB,EAAWiwG,GADLxkF,EAAU17B,EAAMyf,mBACwB,GAAG,GAAIic,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI0W,EAAWxuD,QACxG,GAAIN,IAAMwQ,EAAKtO,OAAS,GAAwB,MAAnBsO,EAAKxQ,EAAI,GAAG,IAAc+uD,GAAYA,EAASzuD,EAAG,CAGpF,GAAoB,MADHkQ,EAAKxQ,EAAI,GACb,GAEX2sB,EAAWiwG,GADLxkF,EAAU17B,EAAM2f,iBACwB,GAAG,GAAI+b,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI2W,EAASzuD,QAExG,GAAIN,IAAMwQ,EAAKtO,OAAS,GAAK6sD,GAAYA,EAASzuD,EAAG,CAExD,IAAM83C,EADR,GAAgB,MAAZ5nC,EAAK,GAEPmc,EAAWiwG,GADLxkF,EAAU17B,EAAM2f,iBACwB,GAAG,GAAI+b,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI2W,EAASzuD,GAIvG,MAAWqsB,EAAQ,GAAfqE,EAAOrE,EAAQ,GAE3B,OAAQuzC,GACN,IAAK,IACHxxD,EAAQ83C,OAAOkX,EAAO,GAAK3sC,EAAI2sC,EAAO,GAAK1sC,GAC3CgvC,EAAiB,CAACtC,EAAO,GAAIA,EAAO,IACpC,MACF,IAAK,IACHhvD,EAAQmuH,OAAOn/D,EAAO,GAAK3sC,EAAI2sC,EAAO,GAAK1sC,GAC3C,MACF,IAAK,IACHtiB,EAAQouH,iBAAiBp/D,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAK3sC,EAAI2sC,EAAO,GAAK1sC,GAC3E,MACF,IAAK,IACHtiB,EAAQquH,cAAcr/D,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAK3sC,EAAI2sC,EAAO,GAAK1sC,GAC9F,MACF,IAAK,IACH,IAAIqvC,OAAS,EAETq8D,GACFr8D,EAAYq8D,EAAe18H,MAEzBqgE,EAAYtB,EAAae,EAAcpC,GACvCg/D,EAAe18H,GAAKqgE,GAGtBA,EAAYtB,EAAae,EAAcpC,GAEjC,MAA+D2C,EAAS,GAApEvvC,EAA2DuvC,EAAS,GAAhE7uC,EAAuD6uC,EAAS,GAA5D5uC,EAAmD4uC,EAAS,GAAxDV,EAA+CU,EAAS,WAA5CT,EAAmCS,EAAS,SAAlCrB,EAAyBqB,EAAS,UAAvBnB,EAAcmB,EAAS,UAEhF,GAAI3xD,EAAQ6iB,QACV7iB,EAAQ6iB,QAAQV,EAAIC,EAAIU,EAAIC,EAAIutC,EAAWW,EAAYC,EAAU,EAAIV,OAChE,CACL,IAAMp+D,EAAI0wB,EAAKC,EAAKD,EAAKC,EACnBurG,EAASxrG,EAAKC,EAAK,EAAID,EAAKC,EAC5BwrG,EAASzrG,EAAKC,EAAKA,EAAKD,EAAK,EACnC9iB,EAAQkkB,UAAU/B,EAAIC,GACtBpiB,EAAQqT,OAAOi9C,GACftwD,EAAQitB,MAAMqhG,EAAQC,GACtBvuH,EAAQwuH,IAAI,EAAG,EAAGp8H,EAAG6+D,EAAYC,EAAU,EAAIV,GAC/CxwD,EAAQitB,MAAM,EAAIqhG,EAAQ,EAAIC,GAC9BvuH,EAAQqT,QAAQi9C,GAChBtwD,EAAQkkB,WAAW/B,GAAKC,GAE1B,MAEF,IAAK,IACHpiB,EAAQyuH,YAOZ,GAAgB,MAAZj9D,EACFJ,EAAeE,MACV,CACL,IAAM38D,EAAMq6D,EAAOx7D,OACnB49D,EAAe,CAACpC,EAAOr6D,EAAM,GAAIq6D,EAAOr6D,EAAM,OAM9C,SAAU+5H,EAAergH,EAAS+iG,GACtC,IAAMz9F,EAAStF,EAAQlc,IAAI,UAEvBwhB,IACiB,WAAfy9F,IAIF/iG,EAAQsgH,iBAAmBtgH,EAAQlc,IAAI,oBAGpCkc,EAAQlc,IAAI,gBAEfkc,EAAQ7V,IAAI,cAAc,GAQpB6V,EAAQC,IAAIJ,QAAUG,EAAQC,IAAIJ,OAAO/b,IAAI,gBACjDwhB,EAAO+6G,eAAergH,EAAS+iG,EAAYz9F,GACvCA,EAAOxhB,IAAI,aACbwhB,EAAO4mB,UAOX,SAAUq0F,EAAiBvgH,GAC/B,IAAIg/G,E3MzOsBwB,EAASC,E2M0OnC,GAAKzgH,EAAQyjB,UAeXu7F,EAASh/G,EAAO,qBAfM,CACtB,IAAM0gH,EAAW1gH,EAAQlc,IAAI,mBACvB68H,EAAaD,MAAeA,EAAStrH,QAASsrH,EAAS/8G,QACvDuS,EAAOlW,EAAQmW,gBACfyqG,EAAY1qG,MAAWA,EAAK9gB,QAAS8gB,EAAKvS,QAE5Cg9G,GAAcC,G3MhPeH,E2MiPAvqG,EAA/B8oG,G3MjPsBwB,E2MiPDE,I3MhPRD,EAGV,CACLrqG,KAAMluB,KAAKE,IAAIo4H,EAAQpqG,KAAMqqG,EAAQrqG,MACrCC,KAAMnuB,KAAKE,IAAIo4H,EAAQnqG,KAAMoqG,EAAQpqG,MACrCe,KAAMlvB,KAAKC,IAAIq4H,EAAQppG,KAAMqpG,EAAQrpG,MACrCC,KAAMnvB,KAAKC,IAAIq4H,EAAQnpG,KAAMopG,EAAQppG,OAN9BmpG,GAAWC,G2MgPPE,EACT3B,EAAS0B,EACAE,IACT5B,EAAS9oG,GAMb,OAAO8oG,EvRpRT,IA0Ge6B,EA1Gf,yB,+CAwGA,OAxGoB5qH,iBAKlB4qH,oCAAe9d,GACbsd,EAAe,KAAMtd,IAGvB8d,oCACE,OAAOnyF,GAGTmyF,oCACE,OAAOA,GAITA,gCAAWlvH,EAAS8nD,GACdA,IACF9nD,EAAQy6C,OAERwyE,EAAoBjtH,EAAS8nD,GAE7BA,EAAKqnE,WAAWnvH,GAChBA,EAAQijH,UAERjjH,EAAQ8nD,OACRA,EAAKsnE,eAMDF,4BAAR,WACE,IAAM5vG,EAAW,KAAKhR,IAAIgR,SACpBwG,EAAO,GACPC,EAAO,GACbtxB,eAAK6qB,GAAU,SAACiQ,GACd,IAAMhL,EAAOgL,EAAMjhB,IAAIu/G,gBAGnBtpG,GAAQgL,EAAMjhB,IAAIw/G,WACpBhoG,EAAK9xB,KAAKuwB,EAAKE,KAAMF,EAAKkB,MAC1BM,EAAK/xB,KAAKuwB,EAAKG,KAAMH,EAAKmB,UAG9B,IAAInB,EAAO,KACX,GAAIuB,EAAKtyB,OAAQ,CACf,IAAMixB,EAAOluB,KAAKE,IAAIkC,MAAM,KAAMmtB,GAC5BL,EAAOlvB,KAAKC,IAAImC,MAAM,KAAMmtB,GAC5BpB,EAAOnuB,KAAKE,IAAIkC,MAAM,KAAMotB,GAC5BL,EAAOnvB,KAAKC,IAAImC,MAAM,KAAMotB,GAClCxB,EAAO,CACLE,KAAI,EACJC,KAAI,EACJvR,EAAGsR,EACH3e,EAAG4e,EACHe,KAAI,EACJC,KAAI,EACJjiB,MAAOgiB,EAAOhB,EACdzS,OAAQ0T,EAAOhB,GAEjB,IAAM/Q,EAAS,KAAKrF,IAAIqF,OACxB,GAAIA,EAAQ,CACV,IAAM07G,EAAY17G,EAAO27G,eAGzB,KAAK92H,IAAI,WAAY6xH,EAAc9lG,EAAM8qG,UAG3C,KAAK72H,IAAI,YAAY,GAGvB,KAAKA,IAAI,kBAAmB+rB,IAG9B2qG,0BAAKlvH,EAAmCqtH,GACtC,IAAM/tG,EAAW,KAAKhR,IAAIgR,SACpBiwG,GAAYlC,GAAS,KAAK/+G,IAAI6yB,QAIhC7hB,EAAS9rB,QAAU+7H,IACrBvvH,EAAQy6C,OAGRwyE,EAAoBjtH,EAAS,MAC7B,KAAKwvH,WAAWxvH,EAAS,KAAKuxG,WAC9B6b,EAAaptH,EAASsf,EAAU+tG,GAChCrtH,EAAQijH,UACR,KAAK4K,mBAIP,KAAKv/G,IAAI6yB,QAAU,KAEnB,KAAK3oC,IAAI,cAAc,IAGzB02H,gCACE,KAAK12H,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,cAAc,IAE3B,EAxGA,CAAoBgpH,KwR+OLzM,EAhPf,yB,+CA8OA,OA9OwBzwG,iBACtBywG,uCACE,IAAM7/G,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MAEnC,kCACKyD,GAAK,CACRua,UAAW,EACX0B,gBAAiB,EACjB4B,cAAe,EACfD,YAAa,KAIjBiiG,oCACE,OAAOh4E,GAGTg4E,oCACE,OAAOma,GAOTna,oCAAe3D,GACbsd,EAAe,KAAMtd,IAGvB2D,qCACE,IAAM1gH,EAAO,KAAKlC,IAAI,QAChBsd,EAAY,KAAKggH,kBAGjBvkB,EADawkB,YAAcr7H,EACrBs7H,CAAW,MACjBC,EAAgBngH,EAAY,EAC5BgV,EAAOymF,EAAI/3F,EAAIy8G,EACflrG,EAAOwmF,EAAIplG,EAAI8pH,EACfnqG,EAAOylF,EAAI/3F,EAAI+3F,EAAIznG,MAAQmsH,EAC3BlqG,EAAOwlF,EAAIplG,EAAIolG,EAAIl5F,OAAS49G,EAClC,MAAO,CACLz8G,EAAGsR,EACHA,KAAI,EACJ3e,EAAG4e,EACHA,KAAI,EACJjhB,MAAOynG,EAAIznG,MAAQgM,EACnBuC,OAAQk5F,EAAIl5F,OAASvC,EACrBgW,KAAI,EACJC,KAAI,IAIRqvF,8BACE,QAAS,KAAK7/G,MAAL,MAAsB,KAAKy8G,eAGtCoD,gCACE,QAAS,KAAK7/G,MAAL,QAIX6/G,gCAAW/0G,EAAS8nD,GACdA,IACF9nD,EAAQy6C,OAERwyE,EAAoBjtH,EAAS8nD,GAE7BA,EAAKqnE,WAAWnvH,GAChBA,EAAQijH,UAERjjH,EAAQ8nD,OACRA,EAAKsnE,eAKTra,0BAAK/0G,EAAmCqtH,GACtC,IAAMvlE,EAAO,KAAKx5C,IAAI6jG,UAEtB,GAAIkb,EAAQ,CACV,IAAyB,IAArB,KAAK/+G,IAAI6yB,QAGX,YADA,KAAK3oC,IAAI,cAAc,GAKzB,IAAK6xH,EAAcgD,EADN,KAAK7oG,iBAUhB,OAPA,KAAKhsB,IAAI,cAAc,QAInB,KAAK8V,IAAIw/G,UACX,KAAKsB,cAKXpvH,EAAQy6C,OAERwyE,EAAoBjtH,EAAS,MAC7B,KAAKwvH,WAAWxvH,EAAS8nD,GACzB,KAAKimE,SAAS/tH,GACdA,EAAQijH,UACR,KAAKmM,cAGCra,6BAAR,WACE,IAAMphG,EAAS,KAAKrF,IAAIqF,OACxB,OAAIA,EAEKA,EAAO27G,eAET,MAGTva,uCACE,IAAM4M,EAAa,KAAKkO,mBAExB,GAAIlO,EAAY,CACd,IAAMp9F,EAAO,KAAKC,gBACZspG,EAAWzD,EAAc9lG,EAAMo9F,GACrC,KAAKnpH,IAAI,WAAYs1H,GAIjBA,EACF,KAAKt1H,IAAI,kBAAmB+rB,GAE5B,KAAK/rB,IAAI,kBAAmB,QAKlCu8G,kCACE,KAAK8Y,kBAEL,KAAKr1H,IAAI,cAAc,GACvB,KAAKA,IAAI,UAAW,OAGtBu8G,gCACE,KAAKv8G,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,cAAc,IAOzBu8G,8BAAS/0G,GACP,KAAKmvH,WAAWnvH,GAChB,KAAK8vH,cAAc9vH,GACnB,KAAK+vH,cAAc/vH,IAQrB+0G,0BAAK/0G,GACHA,EAAQoP,QAQV2lG,4BAAO/0G,GACLA,EAAQ0P,UAIVqlG,mCAAc/0G,GACN,MAAqD,KAAK9K,MAAxDua,EAAS,YAAE6kC,EAAO,UAAEvhC,EAAa,gBAAED,EAAW,cAElD,KAAKk9G,WACF17H,gBAAMwe,IAAgC,IAAhBA,EAKzB,KAAK1D,KAAKpP,IAJVA,EAAQmtH,YAAcr6G,EACtB,KAAK1D,KAAKpP,GACVA,EAAQmtH,YAAc74E,IAMtB,KAAK27E,YACHxgH,EAAY,IACTnb,gBAAMye,IAAoC,IAAlBA,IAC3B/S,EAAQmtH,YAAcp6G,GAExB,KAAKrD,OAAO1P,IAGhB,KAAK+vH,cAAc/vH,IAQrB+0G,gCAAW/0G,KAMX+0G,mCAAc/0G,KAEd+0G,+BAAUnjG,EAAcD,GAEtB,IAAMs+G,EAAW,KAAKA,WAChBD,EAAS,KAAKA,SACdvgH,EAAY,KAAKggH,kBACvB,OAAO,KAAKS,iBAAiBt+G,EAAMD,EAAMs+G,EAAUD,EAAQvgH,IAI7DslG,sCAAiB5hG,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,OAAO,GAOTslG,uCACE,IAAK,KAAKkb,WACR,OAAO,EAET,IAAM/6H,EAAQ,KAAKA,MACnB,OAAOA,EAAK,UAAgBA,EAAK,iBAErC,EA9OA,CAAwBusH,KCyCT0O,EA1Cf,yB,+CAwCA,OAxCqB7rH,iBACnB6rH,uCACE,IAAMj7H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACH1T,EAAG,KAIP+9H,sCAAiBh9G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAK8mC,OACb7Z,EAAKjtB,EAAMie,EACXiP,EAAKltB,EAAM4Q,EACX1T,EAAI8C,EAAM9C,EACVw9H,EAAgBngH,EAAY,EAC5B2gH,EAAcnyG,EAASkE,EAAIC,EAAIjP,EAAGrN,GAExC,OAAIkqH,GAAUC,EACLG,GAAeh+H,EAAIw9H,EAExBI,EACKI,GAAeh+H,IAEpB69H,IACKG,GAAeh+H,EAAIw9H,GAAiBQ,GAAeh+H,EAAIw9H,IAKlEO,gCAAWnwH,GACT,IAAM9K,EAAQ,KAAK8mC,OACb7Z,EAAKjtB,EAAMie,EACXiP,EAAKltB,EAAM4Q,EACX1T,EAAI8C,EAAM9C,EAChB4N,EAAQiuH,YACRjuH,EAAQwuH,IAAIrsG,EAAIC,EAAIhwB,EAAG,EAAa,EAAVmE,KAAK6F,IAAQ,GACvC4D,EAAQyuH,aAEZ,EAxCA,CAAqB1Z,GCArB,SAASsb,EAAgBC,EAASC,EAASztG,EAAIC,GAC7C,OAAOutG,GAAWxtG,EAAKA,GAAMytG,GAAWxtG,EAAKA,GAG/C,IA6DeytG,EA7Df,yB,+CA2DA,OA3DsBlsH,iBACpBksH,uCACE,IAAMt7H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHgd,GAAI,EACJC,GAAI,KAIRytG,sCAAiBr9G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAK8mC,OACby0F,EAAehhH,EAAY,EAC3B0S,EAAKjtB,EAAMie,EACXiP,EAAKltB,EAAM4Q,EACT,EAAW5Q,EAAK,GAAZ6tB,EAAO7tB,EAAK,GAClBo7H,GAAWn9G,EAAIgP,IAAOhP,EAAIgP,GAC1BouG,GAAWzqH,EAAIsc,IAAOtc,EAAIsc,GAEhC,OAAI4tG,GAAUC,EACLI,EAAgBC,EAASC,EAASztG,EAAK2tG,EAAc1tG,EAAK0tG,IAAiB,EAEhFT,EACKK,EAAgBC,EAASC,EAASztG,EAAIC,IAAO,IAElDktG,IAEAI,EAAgBC,EAASC,EAASztG,EAAK2tG,EAAc1tG,EAAK0tG,IAAiB,GAC3EJ,EAAgBC,EAASC,EAASztG,EAAK2tG,EAAc1tG,EAAK0tG,IAAiB,IAMjFD,gCAAWxwH,GACT,IAAM9K,EAAQ,KAAK8mC,OACb7Z,EAAKjtB,EAAMie,EACXiP,EAAKltB,EAAM4Q,EACXgd,EAAK5tB,EAAM4tB,GACXC,EAAK7tB,EAAM6tB,GAGjB,GAFA/iB,EAAQiuH,YAEJjuH,EAAQ6iB,QACV7iB,EAAQ6iB,QAAQV,EAAIC,EAAIU,EAAIC,EAAI,EAAG,EAAa,EAAVxsB,KAAK6F,IAAQ,OAC9C,CAEL,IAAMhK,EAAI0wB,EAAKC,EAAKD,EAAKC,EACnBurG,EAASxrG,EAAKC,EAAK,EAAID,EAAKC,EAC5BwrG,EAASzrG,EAAKC,EAAKA,EAAKD,EAAK,EACnC9iB,EAAQy6C,OACRz6C,EAAQkkB,UAAU/B,EAAIC,GACtBpiB,EAAQitB,MAAMqhG,EAAQC,GACtBvuH,EAAQwuH,IAAI,EAAG,EAAGp8H,EAAG,EAAa,EAAVmE,KAAK6F,IAC7B4D,EAAQijH,UACRjjH,EAAQyuH,cAGd,EA3DA,CAAsB1Z,GCTtB,SAAS9mG,EAASq0F,GAChB,OAAOA,aAAeouB,aAAe14H,mBAASsqG,EAAIquB,WAA4C,WAA/BruB,EAAIquB,SAAStzH,cAG9E,IAAIuzH,EAAa,KAMjB,IAqIeC,EArIf,yB,+CAmIA,OAnIyBvsH,iBACvBusH,uCACE,IAAM37H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,KAIZ6+G,+BAAU37H,GACR,KAAK47H,UAAU57H,EAAMyyD,MAIvBkpE,gCACE,OAAO,GAKTA,oCACE,OAAO,GAGTA,qCACE,IAA2B,IAAvB,KAAK1+H,IAAI,UAAoB,CAC/B,IAAMwhB,EAAS,KAAKxhB,IAAI,UACpBwhB,EAEFA,EAAO4mB,OAGP,KAAK40F,WAAW,KAAKh9H,IAAI,cAK/B0+H,+BAAUlpE,GAAV,WACQzyD,EAAQ,KAAKA,MAEnB,KAAI,aAAU,EAAV,EAAY67H,YAAaH,aAAU,EAAV,EAAYI,gBAMzC,GAAIh5H,mBAAS2vD,GAAM,CACjB,IAAIspE,EAAQ,MAEVA,GADEL,aAAU,EAAV,EAAYI,gBACNJ,aAAU,EAAV,EAAYz+H,IAAI,aAAa++H,cAE7B,IAAIrF,OAERF,OAAS,WAEb,GAAInrG,EAAKsR,UACP,OAAO,EAMTtR,EAAKwb,KAAK,MAAOi1F,GACjBzwG,EAAKhoB,IAAI,WAAW,GACpBgoB,EAAK2wG,gBACL,IAAMn6E,EAAWx2B,EAAKruB,IAAI,YACtB6kD,GACFA,EAASvlD,KAAK+uB,IAIlBywG,EAAMnF,YAAc,YAEpBmF,EAAMzwH,IAAMmnD,EAEZ,KAAKnvD,IAAI,WAAW,QACX,aAAU,EAAV,EAAYw4H,iBAAkBrpE,aAAekkE,OACjD32H,EAAMuO,QACTvO,EAAMuO,MAAQkkD,EAAIlkD,OAEfvO,EAAM8c,SACT9c,EAAM8c,OAAS21C,EAAI31C,SAEZ/D,EAAS05C,KAEbzyD,EAAMuO,QACTvO,EAAMuO,MAAQjI,OAAOmsD,EAAIttB,aAAa,WAGnCnlC,EAAM8c,SACT9c,EAAM8c,OAAQxW,OAAOmsD,EAAIttB,aAAa,kBAjDxC,KAAK2B,KAAK,MAAO2rB,IAsDrBkpE,kCAAah/H,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GAEnB,QAAT3/G,GAEF,KAAKi/H,UAAUv+H,IAInBs+H,gCAAW7wH,GACT,IAAM9K,EAAQ,KAAK8mC,OACX,EAAsD9mC,EAAK,IAAtDie,EAAiDje,EAAK,EAAnD4Q,EAA8C5Q,EAAK,EAAhDuO,EAA2CvO,EAAK,MAAzC8c,EAAoC9c,EAAK,OAAjCk8H,EAA4Bl8H,EAAK,GAA7Bm8H,EAAwBn8H,EAAK,GAAzBo8H,EAAoBp8H,EAAK,OAAjBq8H,EAAYr8H,EAAK,QAGnE,GAAI,KAAK/C,IAAI,WAGX,OAFA,KAAKqG,IAAI,UAAU,QACnB,KAAKA,IAAI,UAAWwH,IAIlB4wH,aAAU,EAAV,EAAYG,UACd/wH,EAAQwxH,UAAU7pE,EAAKx0C,EAAGrN,EAAGrC,EAAOuO,IAIlC21C,aAAekkE,OAAS59G,EAAS05C,MAC9BrzD,gBAAM88H,IAAQ98H,gBAAM+8H,IAAQ/8H,gBAAMg9H,IAAYh9H,gBAAMi9H,GAGvDvxH,EAAQwxH,UAAU7pE,EAAKx0C,EAAGrN,EAAGrC,EAAOuO,GAFpChS,EAAQwxH,UAAU7pE,EAAKypE,EAAIC,EAAIC,EAAQC,EAASp+G,EAAGrN,EAAGrC,EAAOuO,KAMrE,EAnIA,CAAyB+iG,G,OCXX,SAAU0c,EAAO9qG,EAAIC,EAAIC,EAAIC,EAAIrX,EAAW0D,EAAGrN,GAC3D,IAAM2e,EAAOluB,KAAKE,IAAIkwB,EAAIE,GACpBpB,EAAOlvB,KAAKC,IAAImwB,EAAIE,GACpBnC,EAAOnuB,KAAKE,IAAImwB,EAAIE,GACpBpB,EAAOnvB,KAAKC,IAAIowB,EAAIE,GACpB4qG,EAAYjiH,EAAY,EAG9B,OAAM0D,GAAKsR,EAAOitG,GAAav+G,GAAKsS,EAAOisG,GAAa5rH,GAAK4e,EAAOgtG,GAAa5rH,GAAK4f,EAAOgsG,GAItFC,IAASjN,YAAY/9F,EAAIC,EAAIC,EAAIC,EAAI3T,EAAGrN,IAAM2J,EAAY,ECLnE,IAoGeiX,GApGf,yB,+CAkGA,OAlGmBpiB,iBACjBoiB,uCACE,IAAMxxB,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRyxB,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJs5B,YAAY,EACZC,UAAU,KAId35B,+BAAUxxB,GACR,KAAK08H,YAIPlrG,kCAAa70B,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GAEhC,KAAKogB,YAGPlrG,gCACE,IAAMxxB,EAAQ,KAAK8mC,OACX,EAAyC9mC,EAAK,GAA1C0xB,EAAqC1xB,EAAK,GAAtC2xB,EAAiC3xB,EAAK,GAAlC4xB,EAA6B5xB,EAAK,GAA9BkrD,EAAyBlrD,EAAK,WAAlBmrD,EAAanrD,EAAK,SAClDkrD,GACF8tE,EAAwB,KAAMh5H,EAAO2xB,EAAIC,EAAIH,EAAIC,GAE/Cy5B,GACF6tE,EAAsB,KAAMh5H,EAAOyxB,EAAIC,EAAIC,EAAIC,IAInDJ,sCAAiBvT,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAKwgH,IAAaxgH,EAChB,OAAO,EAEH,MAAqB,KAAKusB,OAChC,OAAOy1F,EADG,KAAI,KAAI,KAAI,KACQhiH,EAAW0D,EAAGrN,IAG9C4gB,gCAAW1mB,GACT,IAAM9K,EAAQ,KAAK8mC,OACX,EAAyC9mC,EAAK,GAA1C0xB,EAAqC1xB,EAAK,GAAtC2xB,EAAiC3xB,EAAK,GAAlC4xB,EAA6B5xB,EAAK,GAA9BkrD,EAAyBlrD,EAAK,WAAlBmrD,EAAanrD,EAAK,SAClD28H,EAAqB,CACvBxvG,GAAI,EACJC,GAAI,GAEFwvG,EAAmB,CACrBzvG,GAAI,EACJC,GAAI,GAGF89B,GAAcA,EAAWxuD,IAC3BigI,EAAqB3D,EAA2BvnG,EAAIC,EAAIC,EAAIC,EAAI5xB,EAAMkrD,WAAWxuD,IAE/EyuD,GAAYA,EAASzuD,IACvBkgI,EAAmB5D,EAA2BvnG,EAAIC,EAAIC,EAAIC,EAAI5xB,EAAMmrD,SAASzuD,IAG/EoO,EAAQiuH,YAERjuH,EAAQ83C,OAAOnxB,EAAKkrG,EAAmBxvG,GAAIuE,EAAKirG,EAAmBvvG,IACnEtiB,EAAQmuH,OAAOtnG,EAAKirG,EAAiBzvG,GAAIyE,EAAKgrG,EAAiBxvG,KAGjEoE,mCAAc1mB,GACZ,IAAMgiH,EAAkB,KAAK7vH,IAAI,mBAC3B8vH,EAAgB,KAAK9vH,IAAI,iBAC3B6vH,GACFA,EAAgBznF,KAAKv6B,GAEnBiiH,GACFA,EAAc1nF,KAAKv6B,IAQvB0mB,sCACQ,MAAqB,KAAKsV,OAAxBrV,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACtB,OAAO6qG,IAASn+H,OAAOmzB,EAAIC,EAAIC,EAAIC,IAQrCJ,8BAAShD,GACD,MAAqB,KAAKsY,OAAxBrV,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACtB,OAAO6qG,IAASnN,QAAQ79F,EAAIC,EAAIC,EAAIC,EAAIpD,IAE5C,EAlGA,CAAmBqxF,G,SCEbgd,GAAU,CAEd7vG,OAAM,SAAC/O,EAAGrN,EAAG1T,GACX,MAAO,CACL,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GACb,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAG+gB,EAAI/gB,EAAG0T,GAC5B,CAAC,IAAK1T,EAAGA,EAAG,EAAG,EAAG,EAAG+gB,EAAI/gB,EAAG0T,KAIhCksH,OAAM,SAAC7+G,EAAGrN,EAAG1T,GACX,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,EAAI1T,GAAI,CAAC,OAG/Fm2D,QAAO,SAACp1C,EAAGrN,EAAG1T,GACZ,MAAO,CAAC,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAKqN,EAAGrN,EAAI1T,GAAI,CAAC,IAAK+gB,EAAI/gB,EAAG0T,GAAI,CAAC,IAAKqN,EAAGrN,EAAI1T,GAAI,CAAC,OAG/Eg2D,SAAQ,SAACj1C,EAAGrN,EAAG1T,GACb,IAAMi3F,EAAQj3F,EAAImE,KAAKyS,IAAK,EAAI,EAAKzS,KAAK6F,IAC1C,MAAO,CAAC,CAAC,IAAK+W,EAAI/gB,EAAG0T,EAAIujF,GAAQ,CAAC,IAAKl2E,EAAGrN,EAAIujF,GAAQ,CAAC,IAAKl2E,EAAI/gB,EAAG0T,EAAIujF,GAAQ,CAAC,OAGlF,gBAAe,SAACl2E,EAAGrN,EAAG1T,GACpB,IAAMi3F,EAAQj3F,EAAImE,KAAKyS,IAAK,EAAI,EAAKzS,KAAK6F,IAC1C,MAAO,CAAC,CAAC,IAAK+W,EAAI/gB,EAAG0T,EAAIujF,GAAQ,CAAC,IAAKl2E,EAAI/gB,EAAG0T,EAAIujF,GAAQ,CAAC,IAAKl2E,EAAGrN,EAAIujF,GAAQ,CAAC,QAwErE4oC,GApEf,yB,+CAkEA,OAlEqB3tH,iBACnB2tH,+BAAU/8H,GACR,KAAKg9H,qBAIPD,yCAGE,KAAKz5H,IAAI,cAAe,KAI1By5H,kCAAapgI,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,IAC2B,IAAvD,CAAC,SAAU,IAAK,IAAK,IAAK,UAAU79G,QAAQ9B,IAE9C,KAAKqgI,qBAMTD,oCACE,OAAO,GAGTA,2BAAM/8H,GAEJ,OAAOZ,gBAAMY,EAAM9C,GAAK8C,EAAMsF,OAAStF,EAAM9C,GAG/C6/H,gCACE,IAII/3H,EACA4H,EALE5M,EAAQ,KAAK8mC,OACX,EAAS9mC,EAAK,EAAX4Q,EAAM5Q,EAAK,EAChBi9H,EAASj9H,EAAMi9H,QAAU,SACzB//H,EAAI,KAAKggI,MAAMl9H,GAGrB,GAAIF,qBAAWm9H,GAEbrwH,GADA5H,EAASi4H,GACKh/G,EAAGrN,EAAG1T,GAEpB0P,EAAOuwH,aAAcvwH,OAChB,CAIL,KAFA5H,EAAS+3H,EAAOF,QAAQI,IAItB,OADA3mH,QAAQC,KAAQ0mH,EAAM,6BACf,KAGTrwH,EAAO5H,EAAOiZ,EAAGrN,EAAG1T,GAGtB,OAAO0P,GAGTmwH,gCAAWjyH,GAGT+tH,EAAS,KAAM/tH,EAAS,CAAE8B,KAFb,KAAKwwH,YACE,KAAKngI,IAAI,iBAIxB8/H,UAAUF,GACnB,EAlEA,CAAqBhd,GChCrB,SAAS3vF,GAAKjS,GACZ,OAAI5c,KAAKqF,IAAIuX,GAHG,KAIP,EAGFA,EAAI,GAAK,EAAI,EAItB,SAAS6R,GAAU5D,EAAIC,EAAI4D,GACzB,OACGA,EAAE,GAAK7D,EAAG,KAAOC,EAAG,GAAKD,EAAG,MAASC,EAAG,GAAKD,EAAG,KAAO6D,EAAE,GAAK7D,EAAG,KAClE7qB,KAAKE,IAAI2qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAC5BA,EAAE,IAAM1uB,KAAKC,IAAI4qB,EAAG,GAAIC,EAAG,KAC3B9qB,KAAKE,IAAI2qB,EAAG,GAAIC,EAAG,KAAO4D,EAAE,IAC5BA,EAAE,IAAM1uB,KAAKC,IAAI4qB,EAAG,GAAIC,EAAG,IAQjB,SAAUkxG,GAAYxwG,EAAQ5O,EAAGrN,GAC7C,IAAIqf,GAAQ,EACNpyB,EAAIgvB,EAAOvuB,OACjB,GAAIT,GAAK,EAEP,OAAO,EAET,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAC1B,IAAM8vB,EAAKW,EAAOzwB,GACZ+vB,EAAKU,GAAQzwB,EAAI,GAAKyB,GAC5B,GAAIiyB,GAAU5D,EAAIC,EAAI,CAAClO,EAAGrN,IAExB,OAAO,EAKPsf,GAAKhE,EAAG,GAAKtb,GAAK,GAAMsf,GAAK/D,EAAG,GAAKvb,GAAK,GAC1Csf,GAAKjS,GAAMrN,EAAIsb,EAAG,KAAOA,EAAG,GAAKC,EAAG,KAAQD,EAAG,GAAKC,EAAG,IAAMD,EAAG,IAAM,IAEtE+D,GAASA,GAGb,OAAOA,E,qBCrDK,SAAUqpG,GAAIrsG,EAAIC,EAAIhwB,EAAG6+D,EAAYC,EAAUzhD,EAAW0D,EAAGrN,GACzE,IAAM4c,GAASnsB,KAAKsS,MAAM/C,EAAIsc,EAAIjP,EAAIgP,GAAgB,EAAV5rB,KAAK6F,KAAqB,EAAV7F,KAAK6F,IACjE,GAAIsmB,EAAQuuC,GAAcvuC,EAAQwuC,EAChC,OAAO,EAET,IAAMpvC,EAAQ,CACZ3O,EAAGgP,EAAK/vB,EAAImE,KAAKwS,IAAI2Z,GACrB5c,EAAGsc,EAAKhwB,EAAImE,KAAKyS,IAAI0Z,IAEvB,OAAOzE,EAAS6D,EAAM3O,EAAG2O,EAAMhc,EAAGqN,EAAGrN,IAAM2J,EAAY,E3EGjD,OAAcygG,KAAG,UAkIzB,oBACEsiB,OAjIF,SAAgB1wH,GAGd,IAFA,IAAI0wH,GAAS,EACP3nH,EAAQ/I,EAAKtO,OACVlC,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IACMg+D,EADSxtD,EAAKxQ,GACD,GACnB,GAAY,MAARg+D,GAAuB,MAARA,GAAuB,MAARA,EAAa,CAC7CkjE,GAAS,EACT,OAGJ,OAAOA,GAuHPC,gBAxCF,SAAyB3wH,GAKvB,IAJA,IAAM+I,EAAQ/I,EAAKtO,OACbk/H,EAAW,GACXC,EAAY,GACd5wG,EAAS,GACJzwB,EAAI,EAAGA,EAAIuZ,EAAOvZ,IAAK,CAC9B,IAAM09D,EAASltD,EAAKxQ,GACdg+D,EAAMN,EAAO,GACP,MAARM,GAEEvtC,EAAOvuB,SAETm/H,EAAU3+H,KAAK+tB,GACfA,EAAS,IAEXA,EAAO/tB,KAAK,CAACg7D,EAAO,GAAIA,EAAO,MACd,MAARM,EACLvtC,EAAOvuB,SAETk/H,EAAS1+H,KAAK+tB,GACdA,EAAS,IAIXA,EAAO/tB,KAAK,CAACg7D,EAAO,GAAIA,EAAO,KAQnC,OAHIjtC,EAAOvuB,OAAS,GAClBm/H,EAAU3+H,KAAK+tB,GAEV,CACL2wG,SAAQ,EACRC,UAAS,IAOXC,gBArHF,SAAyBznF,EAAU17B,EAAW0D,EAAGrN,EAAGtS,GAGlD,IAFA,IAAI2xB,GAAQ,EACNusG,EAAYjiH,EAAY,EACrBne,EAAI,EAAGA,EAAI65C,EAAS33C,OAAQlC,IAAK,CACxC,IAAMg6C,EAAUH,EAAS75C,GACjB,EAAwCg6C,EAAO,aAAjC0jB,EAA0B1jB,EAAO,OAAzB3I,EAAkB2I,EAAO,SAAf4/D,EAAQ5/D,EAAO,IAEvD,IAAI4/D,GAAQkf,EAAMlf,EAAI/3F,EAAIu+G,EAAWxmB,EAAIplG,EAAI4rH,EAAWxmB,EAAIznG,MAAQgM,EAAWy7F,EAAIl5F,OAASvC,EAAW0D,EAAGrN,GAA1G,CAGA,OAAQwlC,EAAQkmB,SAEd,IAAK,IACL,IAAK,IACHrsC,EAAQssG,EAAO9uF,EAAS,GAAIA,EAAS,GAAIyuB,EAAa,GAAIA,EAAa,GAAI3hD,EAAW0D,EAAGrN,GACzF,MACF,IAAK,IAWHqf,EAVkB4+F,IAASU,cACzB9hF,EAAS,GACTA,EAAS,GACTqsB,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACP77C,EACArN,IAEmB2J,EAAY,EACjC,MACF,IAAK,IAcH0V,EAbkB6+F,IAAUS,cAC1B9hF,EAAS,GACTA,EAAS,GACTqsB,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACP77C,EACArN,EACAtS,IAEmBic,EAAY,EACjC,MACF,IAAK,IAEH,IAAMkiD,EAAYrmB,EAAQqmB,UAClB,EAAoDA,EAAS,GAAzDvvC,EAAgDuvC,EAAS,GAArD7uC,EAA4C6uC,EAAS,GAAjD5uC,EAAwC4uC,EAAS,GAA7CV,EAAoCU,EAAS,WAAjCT,EAAwBS,EAAS,SAAvBrB,EAAcqB,EAAS,UAC/Dv+D,EAAI,CAAC+f,EAAGrN,EAAG,GACX1T,EAAI0wB,EAAKC,EAAKD,EAAKC,EAGnBrxB,EAAIovB,GAAU,KAAM,CACxB,CAAC,KAAMqB,GAAKC,GACZ,CAAC,KAAMkuC,GACP,CAAC,IAAK,GALOxtC,EAAKC,EAAK,EAAID,EAAKC,GAKd,GAJLD,EAAKC,EAAKA,EAAKD,EAAK,MAMnC+vG,iBAAmBz/H,EAAGA,EAAG1B,GACzByzB,EAAQ2tG,GAAM,EAAG,EAAG1gI,EAAG6+D,EAAYC,EAAUzhD,EAAWrc,EAAE,GAAIA,EAAE,IAKpE,GAAI+xB,EACF,OAGJ,OAAOA,IAkDJy4F,K4EpIL,SAASmV,GAAaL,EAAUv/G,EAAGrN,GAEjC,IADA,IAAIqf,GAAQ,EACH7zB,EAAI,EAAGA,EAAIohI,EAASl/H,OAAQlC,IAAK,CAGxC,GADA6zB,EAAQotG,GADOG,EAASphI,GACI6hB,EAAGrN,GAE7B,MAGJ,OAAOqf,EAGT,IAyReinG,GAzRf,yB,+CAuRA,OAvRmB9nH,iBACjB8nH,uCACE,IAAMl3H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRkrD,YAAY,EACZC,UAAU,KAId+rE,+BAAUl3H,GACR,KAAK89H,YAAY99H,EAAM4M,MACvB,KAAK8vH,YAIPxF,kCAAav6H,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GACnB,SAAT3/G,GACF,KAAKmhI,YAAYzgI,GAGnB,KAAKq/H,YAIPxF,iCAAYtqH,GAEV,KAAK5M,MAAM4M,KAAOuwH,aAAcvwH,GAChC,IAAM0wH,EAAS5U,GAAS4U,OAAO1wH,GAG/B,KAAKtJ,IAAI,SAAUg6H,GACnB,KAAKh6H,IAAI,cAAe,IACxB,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,QAAS,MAClB,KAAKA,IAAI,SAAU,MACnB,KAAKA,IAAI,cAAe,OAG1B4zH,mCACE,IAAIjhF,EAAW,KAAKh5C,IAAI,aAKxB,OAJKg5C,IACHA,EAAWg5E,aAAc,KAAKnoF,KAAK,SACnC,KAAKxjC,IAAI,WAAY2yC,IAEhBA,GAGTihF,gCACE,IAQQ1iF,EARFx0C,EAAQ,KAAK8mC,OACX,EAAyB9mC,EAAK,WAAlBmrD,EAAanrD,EAAK,SAElCkrD,GAEF8tE,EAAwB,KAAMh5H,GADxBw0C,EAAU,KAAKjc,mBACwB,GAAG,GAAIic,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,IAE3F2W,GAEF6tE,EAAsB,KAAMh5H,GADtBw0C,EAAU,KAAK/b,iBACsB,GAAG,GAAI+b,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,KAI/F0iF,sCAAiBj5G,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAM07B,EAAW,KAAKgmB,cAElBhsC,GADW,KAAKhzB,IAAI,WACZ,GACZ,GAAI89H,EAAU,CACZ,IAAM38F,EAAS,KAAK2/F,iBACpB9tG,EAAQy4F,GAASgV,gBAAgBznF,EAAU17B,EAAW0D,EAAGrN,EAAGwtB,GAE9D,IAAKnO,GAAS6qG,EAAQ,CAEpB,IAAMluH,EAAO,KAAKk6B,KAAK,QACjBk3F,EAAgBtV,GAAS6U,gBAAgB3wH,GAE/CqjB,EAAQ4tG,GAAaG,EAAcR,SAAUv/G,EAAGrN,IAAMitH,GAAaG,EAAcP,UAAWx/G,EAAGrN,GAEjG,OAAOqf,GAGTinG,gCAAWpsH,GAGT+tH,EAAS,KAAM/tH,EAFD,KAAKg8B,OACC,KAAK7pC,IAAI,iBAI/Bi6H,mCAAcpsH,GACZ,IAAMgiH,EAAkB,KAAK7vH,IAAI,mBAC3B8vH,EAAgB,KAAK9vH,IAAI,iBAC3B6vH,GACFA,EAAgBznF,KAAKv6B,GAEnBiiH,GACFA,EAAc1nF,KAAKv6B,IAQvBosH,sCACE,IAAMhG,EAAc,KAAKj0H,IAAI,eAC7B,OAAKmC,gBAAM8xH,IAGX,KAAK+M,kBACL,KAAKC,aACE,KAAKjhI,IAAI,gBAJPi0H,GAYXgG,8BAAS1oG,GACP,IAOI2vG,EACAt/H,EARAu/H,EAAS,KAAKnhI,IAAI,UACjBmhI,IACH,KAAKH,kBACL,KAAKC,aACLE,EAAS,KAAKnhI,IAAI,WAMpB,IAAMohI,EAAQ,KAAKphI,IAAI,SACvB,IAAKmhI,GAA4B,IAAlBA,EAAO9/H,OACpB,OAAI+/H,EACK,CACLpgH,EAAGogH,EAAM,GAAG,GACZztH,EAAGytH,EAAM,GAAG,IAGT,KAET9+H,eAAK6+H,GAAQ,SAAC18H,EAAGtF,GACXoyB,GAAS9sB,EAAE,IAAM8sB,GAAS9sB,EAAE,KAC9By8H,GAAQ3vG,EAAQ9sB,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC7C,EAAQzC,MAIZ,IAAMw4C,EAAMypF,EAAMx/H,GAClB,GAAIO,gBAAMw1C,IAAQx1C,gBAAMP,GACtB,OAAO,KAET,IAAMxC,EAAIu4C,EAAIt2C,OACRggI,EAAUD,EAAMx/H,EAAQ,GAC9B,OAAOiwH,IAAUQ,QACf16E,EAAIv4C,EAAI,GACRu4C,EAAIv4C,EAAI,GACRiiI,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRH,IAIJjH,uCACU,MAAS,KAAKpwF,OAAMl6B,KAC5B,KAAKtJ,IAAI,QAASolH,GAASxV,YAAYtmG,KAGzCsqH,kCACE,IAIIqH,EACAC,EACAC,EACApiI,EAPA60H,EAAc,EACdwN,EAAa,EAEXN,EAAS,GAKTC,EAAQ,KAAKphI,IAAI,SAElBohI,IAIL9+H,eAAK8+H,GAAO,SAACjoF,EAASh6C,GACpBqiI,EAAWJ,EAAMjiI,EAAI,GACrBC,EAAI+5C,EAAQ93C,OACRmgI,IACFvN,GACEpC,IAAUxwH,OACR83C,EAAQ/5C,EAAI,GACZ+5C,EAAQ/5C,EAAI,GACZoiI,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,KACN,MAGX,KAAKn7H,IAAI,cAAe4tH,GAEJ,IAAhBA,GAKJ3xH,eAAK8+H,GAAO,SAACjoF,EAASh6C,GACpBqiI,EAAWJ,EAAMjiI,EAAI,GACrBC,EAAI+5C,EAAQ93C,OACRmgI,KACFF,EAAW,IACF,GAAKG,EAAaxN,EAC3BsN,EAAW1P,IAAUxwH,OACnB83C,EAAQ/5C,EAAI,GACZ+5C,EAAQ/5C,EAAI,GACZoiI,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,IAGXC,GAAcF,GAAY,EAC1BD,EAAS,GAAKG,EAAaxN,EAC3BkN,EAAOt/H,KAAKy/H,OAGhB,KAAKj7H,IAAI,SAAU86H,IA1BjB,KAAK96H,IAAI,SAAU,MAiCvB4zH,uCACE,IACIt4H,EADEq3C,EAAW,KAAKgmB,cAEtB,GAAIhmB,EAAS33C,OAAS,EAAG,CACvB,IAAM24B,EAAagf,EAAS,GAAGimB,aACzBhlC,EAAW+e,EAAS,GAAGimB,aACvB1nB,EAAUyB,EAAS,GAAGsmB,aAC5B39D,EAAS,GACL41C,GACF51C,EAAOE,KAAK,CAACm4B,EAAW,GAAKud,EAAQ,GAAIvd,EAAW,GAAKud,EAAQ,KACjE51C,EAAOE,KAAK,CAACm4B,EAAW,GAAIA,EAAW,OAEvCr4B,EAAOE,KAAK,CAACo4B,EAAS,GAAIA,EAAS,KACnCt4B,EAAOE,KAAK,CAACm4B,EAAW,GAAIA,EAAW,MAG3C,OAAOr4B,GAOTs4H,qCACE,IAEIt4H,EAFEq3C,EAAW,KAAKgmB,cAChB39D,EAAS23C,EAAS33C,OAExB,GAAIA,EAAS,EAAG,CACd,IAAM24B,EAAagf,EAAS33C,EAAS,GAAG49D,aAClChlC,EAAW+e,EAAS33C,EAAS,GAAG49D,aAChC1nB,EAAUyB,EAAS33C,EAAS,GAAGk+D,WACrC59D,EAAS,GACL41C,GACF51C,EAAOE,KAAK,CAACo4B,EAAS,GAAKsd,EAAQ,GAAItd,EAAS,GAAKsd,EAAQ,KAC7D51C,EAAOE,KAAK,CAACo4B,EAAS,GAAIA,EAAS,OAEnCt4B,EAAOE,KAAK,CAACm4B,EAAW,GAAIA,EAAW,KACvCr4B,EAAOE,KAAK,CAACo4B,EAAS,GAAIA,EAAS,MAGvC,OAAOt4B,GAEX,EAvRA,CAAmBihH,GCzBL,SAAU8e,GAAW9xG,EAAetS,EAAmB0D,EAAWrN,EAAWguH,GACzF,IAAMjpH,EAAQkX,EAAOvuB,OACrB,GAAIqX,EAAQ,EACV,OAAO,EAET,IAAK,IAAIvZ,EAAI,EAAGA,EAAIuZ,EAAQ,EAAGvZ,IAAK,CAMlC,GAAImgI,EALO1vG,EAAOzwB,GAAG,GACVywB,EAAOzwB,GAAG,GACVywB,EAAOzwB,EAAI,GAAG,GACdywB,EAAOzwB,EAAI,GAAG,GAEEme,EAAW0D,EAAGrN,GACvC,OAAO,EAKX,GAAIguH,EAAS,CACX,IAAM5tG,EAAQnE,EAAO,GACfzqB,EAAOyqB,EAAOlX,EAAQ,GAC5B,GAAI4mH,EAAOvrG,EAAM,GAAIA,EAAM,GAAI5uB,EAAK,GAAIA,EAAK,GAAImY,EAAW0D,EAAGrN,GAC7D,OAAO,EAIX,OAAO,EClBT,IAgCeiuH,GAhCf,yB,+CA8BA,OA9BsBzvH,iBACpByvH,sCAAiB5gH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GAC/B,MAAW,KAAKusB,OAAMja,OAC1BoD,GAAQ,EAOZ,OANI8qG,IACF9qG,EAAQ0uG,GAAW9xG,EAAQtS,EAAW0D,EAAGrN,GAAG,KAEzCqf,GAAS6qG,IACZ7qG,EAAQotG,GAAYxwG,EAAQ5O,EAAGrN,IAE1Bqf,GAGT4uG,gCAAW/zH,GACT,IACM+hB,EADQ,KAAKia,OACEja,OACrB,KAAIA,EAAOvuB,OAAS,GAApB,CAGAwM,EAAQiuH,YACR,IAAK,IAAI38H,EAAI,EAAGA,EAAIywB,EAAOvuB,OAAQlC,IAAK,CACtC,IAAMwwB,EAAQC,EAAOzwB,GACX,IAANA,EACF0O,EAAQ83C,OAAOh2B,EAAM,GAAIA,EAAM,IAE/B9hB,EAAQmuH,OAAOrsG,EAAM,GAAIA,EAAM,IAGnC9hB,EAAQyuH,cAEZ,EA9BA,CAAsB1Z,GC4MPif,GAzMf,yB,+CAuMA,OAvMuB1vH,iBACrB0vH,uCACE,IAAM9+H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRkrD,YAAY,EACZC,UAAU,KAId2zE,+BAAU9+H,GACR,KAAK08H,YAIPoC,kCAAaniI,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GAChC,KAAKogB,YAC6B,IAA9B,CAAC,UAAUj+H,QAAQ9B,IACrB,KAAKoiI,eAITD,mCACE,KAAKx7H,IAAI,cAAe,MACxB,KAAKA,IAAI,SAAU,OAGrBw7H,gCACE,IAAM9+H,EAAQ,KAAK8mC,OACb,EAAmC,KAAK9mC,MAAtC6sB,EAAM,SAAEq+B,EAAU,aAAEC,EAAQ,WAC9B7sD,EAASuuB,EAAOvuB,OAChBmzB,EAAK5E,EAAO,GAAG,GACf6E,EAAK7E,EAAO,GAAG,GACf8E,EAAK9E,EAAOvuB,EAAS,GAAG,GACxBszB,EAAK/E,EAAOvuB,EAAS,GAAG,GAE1B4sD,GACF8tE,EAAwB,KAAMh5H,EAAO6sB,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAI4E,EAAIC,GAEnEy5B,GACF6tE,EAAsB,KAAMh5H,EAAO6sB,EAAOvuB,EAAS,GAAG,GAAIuuB,EAAOvuB,EAAS,GAAG,GAAIqzB,EAAIC,IAKzFktG,8BACE,OAAO,GAGTA,sCAAiB7gH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GAEvC,SAAKwgH,IAAaxgH,IAIXokH,GADY,KAAK73F,OAAMja,OACJtS,EAAW0D,EAAGrN,GAAG,IAI7CkuH,gCACE,OAAO,GAGTA,gCAAWh0H,GACH,MAAmC,KAAKg8B,OAAtCja,EAAM,SAAEq+B,EAAU,aAAEC,EAAQ,WAC9B7sD,EAASuuB,EAAOvuB,OACtB,KAAIuuB,EAAOvuB,OAAS,GAApB,CAGA,IAWQyqB,EAXJ0I,EAAK5E,EAAO,GAAG,GACf6E,EAAK7E,EAAO,GAAG,GACf8E,EAAK9E,EAAOvuB,EAAS,GAAG,GACxBszB,EAAK/E,EAAOvuB,EAAS,GAAG,GAE5B,GAAI4sD,GAAcA,EAAWxuD,EAE3B+0B,IADM1I,EAAWiwG,EAA2BvnG,EAAIC,EAAI7E,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAIq+B,EAAWxuD,IAC5EywB,GACfuE,GAAM3I,EAASqE,GAEjB,GAAI+9B,GAAYA,EAASzuD,EAEvBi1B,IADM5I,EAAWiwG,EAA2BnsG,EAAOvuB,EAAS,GAAG,GAAIuuB,EAAOvuB,EAAS,GAAG,GAAIqzB,EAAIC,EAAIu5B,EAASzuD,IAC5FywB,GACfyE,GAAM7I,EAASqE,GAGjBtiB,EAAQiuH,YACRjuH,EAAQ83C,OAAOnxB,EAAIC,GACnB,IAAK,IAAIt1B,EAAI,EAAGA,EAAIkC,EAAS,EAAGlC,IAAK,CACnC,IAAMwwB,EAAQC,EAAOzwB,GACrB0O,EAAQmuH,OAAOrsG,EAAM,GAAIA,EAAM,IAEjC9hB,EAAQmuH,OAAOtnG,EAAIC,KAGrBktG,mCAAch0H,GACZ,IAAMgiH,EAAkB,KAAK7vH,IAAI,mBAC3B8vH,EAAgB,KAAK9vH,IAAI,iBAC3B6vH,GACFA,EAAgBznF,KAAKv6B,GAEnBiiH,GACFA,EAAc1nF,KAAKv6B,IAQvBg0H,sCACU,MAAW,KAAKh4F,OAAMja,OAExBqkG,EAAc,KAAKj0H,IAAI,eAC7B,OAAKmC,gBAAM8xH,IAGX,KAAK5tH,IAAI,cAAe07H,IAAa1gI,OAAOuuB,IACrC,KAAK5vB,IAAI,gBAHPi0H,GAWX4N,8BAAStwG,GACC,IAQJ2vG,EACAt/H,EATI,EAAW,KAAKioC,OAAMja,OAE1BuxG,EAAS,KAAKnhI,IAAI,UActB,OAbKmhI,IACH,KAAKF,aACLE,EAAS,KAAKnhI,IAAI,WAKpBsC,eAAK6+H,GAAQ,SAAC18H,EAAGtF,GACXoyB,GAAS9sB,EAAE,IAAM8sB,GAAS9sB,EAAE,KAC9By8H,GAAQ3vG,EAAQ9sB,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC7C,EAAQzC,MAGLqgI,IAASnN,QAAQziG,EAAOhuB,GAAO,GAAIguB,EAAOhuB,GAAO,GAAIguB,EAAOhuB,EAAQ,GAAG,GAAIguB,EAAOhuB,EAAQ,GAAG,GAAIs/H,IAG1GW,kCACU,MAAW,KAAKh4F,OAAMja,OAC9B,GAAKA,GAA4B,IAAlBA,EAAOvuB,OAAtB,CAIA,IAAM4yH,EAAc,KAAK6M,iBACzB,KAAI7M,GAAe,GAAnB,CAIA,IAEIqN,EACAC,EAHAE,EAAa,EACXN,EAAS,GAIf7+H,eAAKstB,GAAQ,SAAC3uB,EAAG9B,GACXywB,EAAOzwB,EAAI,MACbmiI,EAAW,IACF,GAAKG,EAAaxN,EAC3BsN,EAAW/B,IAASn+H,OAAOJ,EAAE,GAAIA,EAAE,GAAI2uB,EAAOzwB,EAAI,GAAG,GAAIywB,EAAOzwB,EAAI,GAAG,IACvEsiI,GAAcF,EACdD,EAAS,GAAKG,EAAaxN,EAC3BkN,EAAOt/H,KAAKy/H,OAGhB,KAAKj7H,IAAI,SAAU86H,MAOrBU,uCACU,MAAW,KAAKh4F,OAAMja,OACxBjuB,EAAS,GAGf,OAFAA,EAAOE,KAAK,CAAC+tB,EAAO,GAAG,GAAIA,EAAO,GAAG,KACrCjuB,EAAOE,KAAK,CAAC+tB,EAAO,GAAG,GAAIA,EAAO,GAAG,KAC9BjuB,GAOTkgI,qCACU,MAAW,KAAKh4F,OAAMja,OACxBxwB,EAAIwwB,EAAOvuB,OAAS,EACpBM,EAAS,GAGf,OAFAA,EAAOE,KAAK,CAAC+tB,EAAOxwB,EAAI,GAAG,GAAIwwB,EAAOxwB,EAAI,GAAG,KAC7CuC,EAAOE,KAAK,CAAC+tB,EAAOxwB,GAAG,GAAIwwB,EAAOxwB,GAAG,KAC9BuC,GAEX,EAvMA,CAAuBihH,GCDvB,IA6Eeof,GA7Ef,yB,+CA2EA,OA3EmB7vH,iBACjB6vH,uCACE,IAAMj/H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHrC,MAAO,EACPuO,OAAQ,EACRxX,OAAQ,KAIZ25H,sCAAiBhhH,EAAGrN,EAAGmqH,EAAUD,EAAQvgH,GACvC,IAAMva,EAAQ,KAAK8mC,OACbvX,EAAOvvB,EAAMie,EACbuR,EAAOxvB,EAAM4Q,EACbrC,EAAQvO,EAAMuO,MACduO,EAAS9c,EAAM8c,OACfxX,EAAStF,EAAMsF,OAErB,GAAKA,EAaE,CACL,IAAI2qB,GAAQ,EAUZ,OATI8qG,IACF9qG,EC7CM,SAAyBV,EAAMC,EAAMjhB,EAAOuO,EAAQxX,EAAQiV,EAAW0D,EAAGrN,GAEtF,OACE2rH,EAAOhtG,EAAOjqB,EAAQkqB,EAAMD,EAAOhhB,EAAQjJ,EAAQkqB,EAAMjV,EAAW0D,EAAGrN,IACvE2rH,EAAOhtG,EAAOhhB,EAAOihB,EAAOlqB,EAAQiqB,EAAOhhB,EAAOihB,EAAO1S,EAASxX,EAAQiV,EAAW0D,EAAGrN,IACxF2rH,EAAOhtG,EAAOhhB,EAAQjJ,EAAQkqB,EAAO1S,EAAQyS,EAAOjqB,EAAQkqB,EAAO1S,EAAQvC,EAAW0D,EAAGrN,IACzF2rH,EAAOhtG,EAAMC,EAAO1S,EAASxX,EAAQiqB,EAAMC,EAAOlqB,EAAQiV,EAAW0D,EAAGrN,IACxEgtH,GAAMruG,EAAOhhB,EAAQjJ,EAAQkqB,EAAOlqB,EAAQA,EAAQ,IAAMjE,KAAK6F,GAAI,EAAI7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC9FgtH,GAAMruG,EAAOhhB,EAAQjJ,EAAQkqB,EAAO1S,EAASxX,EAAQA,EAAQ,EAAG,GAAMjE,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC7FgtH,GAAMruG,EAAOjqB,EAAQkqB,EAAO1S,EAASxX,EAAQA,EAAQ,GAAMjE,KAAK6F,GAAI7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,IAC3FgtH,GAAMruG,EAAOjqB,EAAQkqB,EAAOlqB,EAAQA,EAAQjE,KAAK6F,GAAI,IAAM7F,KAAK6F,GAAIqT,EAAW0D,EAAGrN,GDmCtEsuH,CAAiB3vG,EAAMC,EAAMjhB,EAAOuO,EAAQxX,EAAQiV,EAAW0D,EAAGrN,KAIvEqf,GAAS6qG,IAEZ7qG,EAAQilG,EAAM3lG,EAAMC,EAAMjhB,EAAOuO,EAAQmB,EAAGrN,IAEvCqf,EAvBP,IAAMusG,EAAYjiH,EAAY,EAE9B,OAAIugH,GAAUC,EACL7F,EAAM3lG,EAAOitG,EAAWhtG,EAAOgtG,EAAWjuH,EAAQiuH,EAAW1/G,EAAS0/G,EAAWv+G,EAAGrN,GAGzFkqH,EACK5F,EAAM3lG,EAAMC,EAAMjhB,EAAOuO,EAAQmB,EAAGrN,GAEzCmqH,EExCI,SAAiBxrG,EAAMC,EAAMjhB,EAAOuO,EAAQvC,EAAW0D,EAAGrN,GACtE,IAAM4rH,EAAYjiH,EAAY,EAE9B,OACE26G,EAAM3lG,EAAOitG,EAAWhtG,EAAOgtG,EAAWjuH,EAAOgM,EAAW0D,EAAGrN,IAC/DskH,EAAM3lG,EAAOhhB,EAAQiuH,EAAWhtG,EAAOgtG,EAAWjiH,EAAWuC,EAAQmB,EAAGrN,IACxEskH,EAAM3lG,EAAOitG,EAAWhtG,EAAO1S,EAAS0/G,EAAWjuH,EAAOgM,EAAW0D,EAAGrN,IACxEskH,EAAM3lG,EAAOitG,EAAWhtG,EAAOgtG,EAAWjiH,EAAWuC,EAAQmB,EAAGrN,GFkCrDuuH,CAAO5vG,EAAMC,EAAMjhB,EAAOuO,EAAQvC,EAAW0D,EAAGrN,QADzD,GAkBJquH,gCAAWn0H,GACT,IAAM9K,EAAQ,KAAK8mC,OACb7oB,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVrC,EAAQvO,EAAMuO,MACduO,EAAS9c,EAAM8c,OACfxX,EAAStF,EAAMsF,OAGrB,GADAwF,EAAQiuH,YACO,IAAXzzH,EAEFwF,EAAQ6hB,KAAK1O,EAAGrN,EAAGrC,EAAOuO,OACrB,CACC,MjBwHN,SAAsBxX,GAC1B,IAAIC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAoBT,OAnBIpG,kBAAQgG,GACY,IAAlBA,EAAOhH,OACTiH,EAAKC,EAAKC,EAAKC,EAAKJ,EAAO,GACA,IAAlBA,EAAOhH,QAChBiH,EAAKE,EAAKH,EAAO,GACjBE,EAAKE,EAAKJ,EAAO,IACU,IAAlBA,EAAOhH,QAChBiH,EAAKD,EAAO,GACZE,EAAKE,EAAKJ,EAAO,GACjBG,EAAKH,EAAO,KAEZC,EAAKD,EAAO,GACZE,EAAKF,EAAO,GACZG,EAAKH,EAAO,GACZI,EAAKJ,EAAO,IAGdC,EAAKC,EAAKC,EAAKC,EAAKJ,EAEf,CAACC,EAAIC,EAAIC,EAAIC,GiBhJSL,CAAYC,GAA9BC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACrBoF,EAAQ83C,OAAO3kC,EAAI1Y,EAAIqL,GACvB9F,EAAQmuH,OAAOh7G,EAAI1P,EAAQ/I,EAAIoL,GACxB,IAAPpL,GAAYsF,EAAQwuH,IAAIr7G,EAAI1P,EAAQ/I,EAAIoL,EAAIpL,EAAIA,GAAKnE,KAAK6F,GAAK,EAAG,GAClE4D,EAAQmuH,OAAOh7G,EAAI1P,EAAOqC,EAAIkM,EAASrX,GAChC,IAAPA,GAAYqF,EAAQwuH,IAAIr7G,EAAI1P,EAAQ9I,EAAImL,EAAIkM,EAASrX,EAAIA,EAAI,EAAGpE,KAAK6F,GAAK,GAC1E4D,EAAQmuH,OAAOh7G,EAAIvY,EAAIkL,EAAIkM,GACpB,IAAPpX,GAAYoF,EAAQwuH,IAAIr7G,EAAIvY,EAAIkL,EAAIkM,EAASpX,EAAIA,EAAIrE,KAAK6F,GAAK,EAAG7F,KAAK6F,IACvE4D,EAAQmuH,OAAOh7G,EAAGrN,EAAIrL,GACf,IAAPA,GAAYuF,EAAQwuH,IAAIr7G,EAAI1Y,EAAIqL,EAAIrL,EAAIA,EAAIlE,KAAK6F,GAAc,IAAV7F,KAAK6F,IAC1D4D,EAAQyuH,cAGd,EA3EA,CAAmB1Z,GGgJJuf,GAnJf,yB,+CAiJA,OAjJmBhwH,iBAEjBgwH,uCACE,IAAMp/H,EAAQs+B,YAAMu9E,gBAAet/G,KAAA,MACnC,kCACKyD,GAAK,CACRie,EAAG,EACHrN,EAAG,EACHjD,KAAM,KACNS,SAAU,GACVP,WAAY,aACZE,UAAW,SACXD,WAAY,SACZE,YAAa,SACbmM,UAAW,QACXC,aAAc,YAKlBglH,oCACE,OAAO,GAITA,+BAAUp/H,GACR,KAAKq/H,gBACDr/H,EAAM2N,MACR,KAAK2xH,SAASt/H,EAAM2N,OAIxByxH,qCACE,IAAMp/H,EAAQ,KAAKA,MACnBA,EAAM4N,KAAOogH,YAAahuH,IAI5Bo/H,8BAASzxH,GACP,IAAIigH,EAAU,KACV9qH,mBAAS6K,KAAiC,IAAxBA,EAAKlP,QAAQ,QACjCmvH,EAAUjgH,EAAKnJ,MAAM,OAEvB,KAAKlB,IAAI,UAAWsqH,IAItBwR,kCAAaziI,EAAcU,EAAYi/G,GACrCh+E,YAAMi+E,aAAYhgH,KAAA,KAACI,EAAMU,EAAOi/G,GAC5B3/G,EAAKmH,WAAW,SAClB,KAAKu7H,gBAEM,SAAT1iI,GACF,KAAK2iI,SAASjiI,IAUlB+hI,qCACE,IAAMp/H,EAAQ,KAAKA,MACbke,EAAale,EAAMke,WACnB9P,EAA4B,EAAjBpO,EAAMoO,SACvB,OAAO8P,EAAaA,EAAa9P,EAAsB,IAAXA,GAI9CgxH,kCAAat0H,EAAS8iH,EAASkN,GAC7B,IAOIyE,EAPEv/H,EAAQ,KAAKA,MACboa,EAAepa,EAAMoa,aACrB6D,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVxC,EAA4B,EAAjBpO,EAAMoO,SACjBoxH,EAAY,KAAKC,gBACjB3iH,EAASywG,YAAcvtH,EAAM2N,KAAM3N,EAAMoO,SAAUpO,EAAMke,YAE/D3e,eAAKquH,GAAS,SAACC,EAAShvH,GACtB0gI,EAAO3uH,EAAI/R,GAAS2gI,EAAYpxH,GAAY0O,EAAS1O,EAChC,WAAjBgM,IAA2BmlH,GAAQziH,EAAS1O,GAAY0O,EAAS1O,GAAY,GAC5D,QAAjBgM,IAAwBmlH,GAAQziH,EAAS1O,GACzC0sH,EACFhwH,EAAQ40H,SAAS7R,EAAS5vG,EAAGshH,GAE7Bz0H,EAAQ60H,WAAW9R,EAAS5vG,EAAGshH,OAMrCH,+BAAUt0H,EAASgwH,GACjB,IAAM96H,EAAQ,KAAK8mC,OACb7oB,EAAIje,EAAMie,EACVrN,EAAI5Q,EAAM4Q,EACVg9G,EAAU,KAAK3wH,IAAI,WACzB,GAAI2wH,EACF,KAAKgS,aAAa90H,EAAS8iH,EAASkN,OAC/B,CACL,IAAMntH,EAAO3N,EAAM2N,KACfmtH,EACFhwH,EAAQ40H,SAAS/xH,EAAMsQ,EAAGrN,GAE1B9F,EAAQ60H,WAAWhyH,EAAMsQ,EAAGrN,KAMlCwuH,mCAAct0H,GACN,MAAqD,KAAK9K,MAAxDua,EAAS,YAAE6kC,EAAO,UAAEvhC,EAAa,gBAAED,EAAW,cAElD,KAAKm9G,YACHxgH,EAAY,IACTnb,gBAAMye,IAAoC,IAAlBA,IAC3B/S,EAAQmtH,YAAc74E,GAExB,KAAK5kC,OAAO1P,IAIZ,KAAKgwH,WACF17H,gBAAMwe,IAAgC,IAAhBA,EAKzB,KAAK1D,KAAKpP,IAJVA,EAAQmtH,YAAcr6G,EACtB,KAAK1D,KAAKpP,GACVA,EAAQmtH,YAAc74E,IAM1B,KAAKy7E,cAAc/vH,IAIrBs0H,0BAAKt0H,GACH,KAAK+0H,UAAU/0H,GAAS,IAI1Bs0H,4BAAOt0H,GACL,KAAK+0H,UAAU/0H,GAAS,IAE5B,EAjJA,CAAmB+0G,GCEnB,SAASigB,GAAS3mH,EAAmB8E,EAAWrN,GAE9C,IAAMgsG,EAAczjG,EAAQsmG,iBAC5B,GAAI7C,EAAa,CACT,MAZV,SAA0Bl7G,EAAaosB,GACrC,GAAIA,EAAQ,CACV,IAAMivF,EAAe5uF,YAAOL,GAC5B,OAAOitF,YAAagC,EAAcr7G,GAEpC,OAAOA,EAOgBy+G,CAAiB,CAACliG,EAAGrN,EAAG,GAAIgsG,GACjD,MAAO,CADI,KAAM,MAGnB,MAAO,CAAC3+F,EAAGrN,GAIb,SAASmvH,GAAQ5mH,EAAmB8E,EAAWrN,GAE7C,GAAIuI,EAAQJ,UAAYI,EAAQJ,WAC9B,OAAO,EAIT,IAAK6hG,YAAezhG,KAAqC,IAAzBA,EAAQC,IAAIw/G,SAC1C,OAAO,EAGT,GAAIz/G,EAAQC,IAAI6jG,UAAW,CAEnB,MAAe6iB,GAAS3mH,EAAS8E,EAAGrN,GAAnC8L,EAAI,KAAED,EAAI,KACjB,GAAItD,EAAQinG,UAAU1jG,EAAMD,GAC1B,OAAO,EAIX,IAAM4S,EAAOlW,EAAQC,IAAIu/G,iBAAmBx/G,EAAQmW,gBAQpD,OAAMrR,GAAKoR,EAAKE,MAAQtR,GAAKoR,EAAKkB,MAAQ3f,GAAKye,EAAKG,MAAQ5e,GAAKye,EAAKmB,K,wBC5BxE,SAAS+4F,GAAgBv/F,EAAQ7qB,EAAMi/G,GACrCA,EAASzhH,KAAOwC,EAChBi/G,EAASp0F,OAASA,EAClBo0F,EAASr/E,cAAgB/U,EACzBo0F,EAASU,eAAiB90F,EAC1BA,EAAO5R,KAAKjZ,EAAMi/G,GAIpB,SAASoL,GAAY3wG,EAAW1Z,EAAMi/G,GACpC,GAAIA,EAASp/E,QAAS,CAIhBnmB,EAAUE,WAAVF,EAUJulG,EAASzhH,KAAOwC,EAChBi/G,EAASr/E,cAAgBlmB,EACzBulG,EAASU,eAAiBjmG,EAC1BA,EAAUT,KAAKjZ,EAAMi/G,IAIzB,IAyTesL,GAzTf,WAeE,WAAYtwG,GAAZ,WARQ,mBAAwB,KACxB,eAAoB,EAEpB,kBAAuB,KACvB,mBAAwB,KACxB,mBAAgB,KA8FxB,iBAAc,SAACmsF,GACbj6E,EAAK00G,cAAc5nH,KAAK,gBAAgBmtF,EAAGpmG,KAAQomG,IA3FnD,KAAK9mF,OAASrF,EAAIqF,OAClB,KAAKwhH,aAsST,OAnSEvW,kCAAA,WACE,KAAKsW,cAAgB,IAAIE,KACvB,GACA,CACEtzC,WAAY8D,gBAIhB,KAAKsvC,cAAcjqF,IAAI,IAAImqF,KAAOnvC,IAAI,CAAE74C,UAAW,EAAG2sC,SAAU,KAChE,KAAKm7C,cAAcjqF,IAAI,IAAImqF,KAAOlvC,OAASjN,cAAc,KAAKi8C,cAAc/iI,IAAI,QAEhF,KAAK+iI,cAAcjqF,IAAI,IAAImqF,KAAOjvC,MAAM,CAAE/4C,UAAW,EAAG2sC,SAAU,KAElE,KAAKm7C,cAAcjqF,IAAI,IAAImqF,KAAOpvC,IAAI,CAAE9lE,MAAO,SAAUo9D,KAAM,KAC/D,KAAK43C,cAAcjqF,IAAI,IAAImqF,KAAOpvC,KAClC,KAAKkvC,cAAcjqF,IAAI,IAAImqF,KAAO/uC,MAAM,CAAEpJ,KAAM,OAEhD,KAAKi4C,cAAcloH,GAAG,qCAAqC,SAAC/T,GAC1DA,EAAEolF,SAAS0Z,MAAQ9+F,EAEnB,IAAM6lH,EAAYt+F,EAAKu+F,cAAc9lH,GAC/B+U,EAAQwS,EAAKm/F,UAAUb,EAAW7lH,GAGzB,WAAXA,EAAE5E,MAAgC,cAAX4E,EAAE5E,MAC3BmsB,EAAK60G,UAAUvW,EAAW9wG,EAAO/U,GAIpB,aAAXA,EAAE5E,OAEAmsB,EAAKs0E,WACPt0E,EAAKy+F,cAAgB,KACrBz+F,EAAKs0E,UAAW,EAChBt0E,EAAK80G,cAAgB,KACrB90G,EAAK+0G,cAAgB,MAEvB/0G,EAAKg1G,YAAY1W,EAAW9wG,EAAO/U,IAItB,YAAXA,EAAE5E,MACJmsB,EAAKi1G,WAAW3W,EAAW9wG,EAAO/U,GAGpCunB,EAAK4f,aAAepyB,KAGtB,KAAKknH,cAAcloH,GAAG,iDAAiD,SAAC/T,GACtEunB,EAAKk1G,iBAAiBz8H,EAAE5E,KAAM4E,MAGhC,KAAKi8H,cAAcloH,GAAG,6CAA6C,SAAC/T,GACnD,aAAXA,EAAE5E,MAAkC,gBAAX4E,EAAE5E,MAK/B4E,EAAEolF,SAAS0Z,MAAQ,CACjB9qE,MAAOh0B,EAAEg0B,OAEXzM,EAAKk1G,iBAAiBz8H,EAAE5E,KAAM4E,IAP5BunB,EAAKk1G,iBAAiBz8H,EAAE5E,KAAM4E,OAWpC2lH,sCAAiBvqH,EAAMomG,GACrB,IAAMqkB,EAAY,KAAKC,cAActkB,GAC/BzsF,EAAQ,KAAK2xG,UAAUb,EAAWrkB,GACxC,KAAKukB,WAAW3qH,EAAMomG,EAAIqkB,EAAW9wG,IAGvC4wG,kCAAavqH,EAAM6rB,EAAO4B,EAAO5C,EAAQu0F,EAAWC,GAClD,IAAMJ,EAAW,IAAI7D,IAAWp7G,EAAM6rB,GAUtC,OATAozF,EAASG,UAAYA,EACrBH,EAASI,QAAUA,EACnBJ,EAASngG,EAAI2O,EAAM3O,EACnBmgG,EAASxtG,EAAIgc,EAAMhc,EACnBwtG,EAASv/E,QAAUjS,EAAMiS,QACzBu/E,EAASt/E,QAAUlS,EAAMkS,QAEzBs/E,EAASE,gBAAgBx/G,KAAKkrB,GAEvBo0F,GASTsL,+BAAU98F,EAAO5B,GACf,IAAMu6E,EAAYv6E,EAAMm+D,SACxB,OAAO,KAAK1qE,OAAO2oB,SAASxa,EAAM3O,EAAG2O,EAAMhc,EAAG20F,IAGhDmkB,mCAAcnkB,GACZ,IAAM9mF,EAAS,KAAKA,OAEd6rG,EAAc7rG,EAAO8rG,iBAAiBhlB,GACtC34E,EAAQnO,EAAO+rG,gBAAgBjlB,GACrC,MAAO,CACLtnF,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EACTiuB,QAASyrF,EAAYrsG,EACrB6gB,QAASwrF,EAAY15G,IAKzB84G,mCAAcvqH,EAAMomG,GAClB,IAAMqkB,EAAY,KAAKC,cAActkB,GAE/BzsF,EAAQ,KAAK2xG,UAAUb,EAAWrkB,GAClCvgG,EAAS,KAAK,MAAM7F,GAC1B,GAAI6F,EACFA,EAAOzI,KAAK,KAAMqtH,EAAW9wG,EAAOysF,OAC/B,CACL,IAAMolB,EAAW,KAAKz/E,aAET,aAAT/rC,GAAgC,cAATA,GACzB,KAAK2qH,WAAW3qH,EAAMomG,EAAIqkB,EAAW,KAAM,KAAM9wG,GAC7CA,GACF,KAAKgxG,WAAW3qH,EAAMomG,EAAIqkB,EAAW9wG,EAAO,KAAMA,GAEvC,aAAT3Z,GAAuB,KAAK4qH,eAE9B,KAAKD,WAAW,YAAavkB,EAAIqkB,EAAW,OAE5B,WAATzqH,GAA8B,cAATA,GAC1BwrH,GACF,KAAKb,WAAW3qH,EAAMomG,EAAIqkB,EAAWe,EAAUA,EAAU,MAE3D,KAAKb,WAAW3qH,EAAMomG,EAAIqkB,EAAW,KAAMe,EAAU,MACxC,WAATxrH,GAAqB,KAAK4qH,eAC5B,KAAKD,WAAW,YAAavkB,EAAIqkB,EAAW,OAG9C,KAAKE,WAAW3qH,EAAMomG,EAAIqkB,EAAW9wG,EAAO,KAAM,QAMxD4wG,iCAAYE,EAAW9wG,EAAOkS,GAC5B,KAAKo1G,cAAgBtnH,EACrB,KAAKunH,cAAgBzW,EACrB,KAAK6W,kBAAoBz1G,EAAMi9D,UAC/B,KAAK6hC,WAAW,WAAY9+F,EAAO4+F,EAAW9wG,EAAO,KAAM,OAG7D4wG,yCAAoB1+F,EAAO4+F,EAAWrL,EAAWC,EAASwM,GACpDxM,GACEA,IAAYD,IACVA,GACF,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAEvE,KAAKsL,WAAW,YAAa9+F,EAAO4+F,EAAWpL,EAASD,EAAWC,IAEhEwM,GACH,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAEvCD,GAGT,KAAKuL,WAAW,YAAa9+F,EAAO4+F,EAAWrL,EAAWA,EAAWC,GAGnEwM,GACF,KAAKlB,WAAW,WAAY9+F,EAAO4+F,EAAWpL,IAKlDkL,gCAAWK,EAAeH,EAAW5+F,GAC/B++F,IACFA,EAAczmH,IAAI,WAAW,GAC7B,KAAKymH,cAAgB,MAEvB,KAAKnqB,UAAW,EAEhB,IAAM9mF,EAAQ,KAAK2xG,UAAUb,EAAW5+F,GACxC,KAAKkgB,aAAepyB,GAGtB4wG,+BAAUE,EAAW9wG,EAAOkS,GAC1B,IAAM++F,EAAgB,KAAKA,cACvB,KAAKnqB,WAEHmqB,GACF,KAAKD,WAAW,OAAQ9+F,EAAO4+F,EAAW9wG,GAE5C,KAAKgxG,WAAW,UAAW9+F,EAAO4+F,EAAWG,GAC7C,KAAKC,WAAWD,EAAeH,EAAW5+F,IAE5C,KAAK8+F,WAAW,SAAU9+F,EAAO4+F,EAAW9wG,GAE5C,KAAKsnH,cAAgB,KACrB,KAAKC,cAAgB,MAIvB3W,gCAAWE,EAAW9wG,EAAOkS,GAC3B,IAAMvM,EAAS,KAAKA,OACdksG,EAAW,KAAKz/E,aAClB6+E,EAAgB,KAAKA,cAEzB,GAAI,KAAKnqB,SAEHmqB,GAEF,KAAKmB,oBAAoBlgG,EAAO4+F,EAAWe,EAAU7xG,GAAO,GAI9D,KAAKgxG,WAAW,OAAQ9+F,EAAO4+F,EAAWG,OACrC,CACL,IAAMsW,EAAgB,KAAKA,cAC3B,GAAIA,EAAe,CAEjB,IAAMD,EAAgB,KAAKA,cAErBjV,EADMngG,EAAMi9D,UACO,KAAKw4C,kBACxBtzG,EAAKkzG,EAAcxhG,QAAU+qF,EAAU/qF,QACvCzR,EAAKizG,EAAcvhG,QAAU8qF,EAAU9qF,SAEzCqsF,EAAa,KADJh+F,EAAKA,EAAKC,EAAKA,EAnSf,MAqSPgzG,GAAiBA,EAAcnjI,IAAI,eAErC8sH,EAAgB,KAAKqW,eACP98H,IAAI,WAAW,GAC7B,KAAKymH,cAAgBA,EACrB,KAAKnqB,UAAW,EAChB,KAAKkqB,WAAW,YAAa9+F,EAAO4+F,EAAWG,GAE/C,KAAKqW,cAAgB,KACrB,KAAKC,cAAgB,OACXD,GAAiB3hH,EAAOxhB,IAAI,cAEtC,KAAK2iG,UAAW,EAChB,KAAKkqB,WAAW,YAAa9+F,EAAO4+F,EAAW,MAE/C,KAAKwW,cAAgB,KACrB,KAAKC,cAAgB,MAErB,KAAKvW,WAAW,UAAW9+F,EAAO4+F,EAAW9wG,KAMrD,KAAKgxG,WAAW,UAAW9+F,EAAO4+F,EAAW9wG,IAI/C4wG,gCAAWvqH,EAAM6rB,EAAO4+F,EAAW9wG,EAAOylG,EAAYC,GACpD,IAAMJ,EAAW,KAAKgN,aAAajsH,EAAM6rB,EAAO4+F,EAAW9wG,EAAOylG,EAAWC,GAE7E,GAAI1lG,EAAO,CACTslG,EAAStlG,MAAQA,EAEjBywG,GAAgBzwG,EAAO3Z,EAAMi/G,GAG7B,IAFA,IAAIxkF,EAAS9gB,EAAMG,YAEZ2gB,GAELA,EAAOyxF,eAAelsH,EAAMi/G,GAEvBA,EAAS3D,oBACZ+O,GAAY5vF,EAAQz6B,EAAMi/G,GAE5BA,EAASE,gBAAgBx/G,KAAK86B,GAC9BA,EAASA,EAAO3gB,gBAEb,CAILswG,GAFe,KAAK9qG,OAEItf,EAAMi/G,KAIlCsL,+BAEE,KAAKjrG,OAAS,KACd,KAAKysB,aAAe,KACpB,KAAK6+E,cAAgB,KACrB,KAAKsW,cAAgB,KACrB,KAAKD,cAAgB,KACrB,KAAKK,kBAAoB,MAE7B,EAvTA,G,GChDA,yBA+CA,OA9CEC,yBAAI7gI,EAAQkD,EAAc1F,GACxB,OAAQ0F,GACN,IAAK,cACHlD,EAAG,eAAmBxC,GACtB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,WACHwC,EAAG,YAAgBxC,GACnB,MACF,IAAK,eACCA,GAAmB,IAAVA,KACXwC,EAAG,YAAkBxC,EACrBwC,EAAG,eAAmBxC,IAExB,MACF,IAAK,WACHwC,EAAG,YAAgBxC,GACnB,MACF,IAAK,YACHwC,EAAG,aAAiBxC,GACpB,MACF,IAAK,YACL,IAAK,OACHwC,EAAG,QAAYxC,GACf,MACF,IAAK,eACHwC,EAAG,gBAAoBxC,GACvB,MACF,QACEwC,EAAIkD,GAAQ1F,EAEhB,OAAO,GAGTqjI,yBAAI7gI,EAAQkD,GACV,MAAa,gBAATA,QAAwCkF,IAAdpI,EAAIkD,GAA4B,EACrC,mBAAdlD,EAAIkD,GACNlD,EAAIkD,GAAMnF,KAAKiC,GAEjBA,EAAIkD,IAEf,EA/CA,G,SCCI+H,GAAU,KAkCA,gBAAWgO,GACvB,IAAM9Y,EAAQ8Y,EAAMguB,OACZ,EAAqC9mC,EAAK,EAAvC4Q,EAAkC5Q,EAAK,EAApC2N,EAA+B3N,EAAK,KAA9BoO,EAAyBpO,EAAK,SAApBke,EAAele,EAAK,WAC9C4N,EAAO5N,EAAM4N,KACZA,IAEHA,EAAOogH,wBAAahuH,IAEtB,IACIqvB,EADE9gB,EA/BR,SAAsBZ,EAAcC,GAClC,IAAIW,EAAQ,EAEZ,GAAInP,gBAAMuO,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAzD,GAAQy6C,OACRz6C,GAAQ8C,KAAOA,EACX9K,mBAAS6K,IAASA,EAAKb,SAAS,MAAO,CACzC,IAAM8gH,EAAUjgH,EAAKnJ,MAAM,MAC3BjF,eAAKquH,GAAS,SAACC,GACb,IAAMC,EAAehjH,GAAQwD,YAAYu/G,GAASt/G,MAC9CA,EAAQu/G,IACVv/G,EAAQu/G,WAIZv/G,EAAQzD,GAAQwD,YAAYX,GAAMY,MAGpC,OADAzD,GAAQijH,UACDx/G,EAWOm/G,CAAa//G,EAAMC,GAEjC,GAAKW,EAQE,CACG,MAA4BvO,EAAK,UAAtBoa,EAAiBpa,EAAK,aACnC8c,EAASywG,yBAAc5/G,EAAMS,EAAU8P,GAEvC0O,EAAQ,CACZ3O,EAAC,EACDrN,EAAGA,EAAIkM,GAEL3C,IACgB,QAAdA,GAAqC,UAAdA,EACzByS,EAAM3O,GAAK1P,EACY,WAAd4L,IACTyS,EAAM3O,GAAK1P,EAAQ,IAGnB6L,IACmB,QAAjBA,EACFwS,EAAMhc,GAAKkM,EACe,WAAjB1C,IACTwS,EAAMhc,GAAKkM,EAAS,IAIxBuS,EAAO,CACLpR,EAAG2O,EAAM3O,EACTrN,EAAGgc,EAAMhc,EACTrC,MAAK,EACLuO,OAAM,QAjCRuS,EAAO,CACLpR,EAAC,EACDrN,EAAC,EACDrC,MAAO,EACPuO,OAAQ,GAgCZ,OAAOuS,GCnFM,YAACvkB,GDIdA,GCHmBA,EACnB61H,YAAa,OAAQhzH,KCFR,YAAC7C,EAAmC2T,InBM7C,SAAwBA,GAC5Bi9G,EAAaj9G,EmBNbmiH,CAAcniH,GACd4Q,GAAKvkB,ICyYQ0gH,GAjYf,YACE,WAAYpyG,GAAZ,I5BT+BqF,E4BS/B,EACE6f,YAAMllB,IAAI,KAEJ3L,EAAM6d,EAAKruB,IAAI,W,OAEjBquB,EAAKuwG,WACHvwG,EAAKwwG,qB5BfkB,KAAAr9G,E4BiBR6M,EAAKruB,IAAI,gB5BjBDwhB,MAC/BA,EAASA,G4BmBH6M,EAAKhoB,IAAI,UAAW,IAAIohF,MAAMj3E,EAAK,IAAIozH,KAIzCC,GAAUrzH,EAAK6d,I,EA+WrB,OA/XqBlc,iBAoBnBo8G,oCACE,MAAgC,gBAAzB,KAAKvuH,IAAI,aAGlBuuH,8BACE,OAAO,KAAKvuH,IAAI,YAAY6G,WAAW,SAGlC0nH,0BAAP,WACE,IAAMpyG,EAAMklB,YAAM9T,cAAajuB,KAAA,MAqB/B,OAnBA6c,EAAG,SAAe,SAElBA,EAAG,UAAe,EAElBA,EAAG,cAAmB,EACtBA,EAAG,gBAAsB,GAEzBA,EAAG,UAAe,EAElBA,EAAG,UAAe,EAElBA,EAAG,mBAAyB,CAC1B7K,MAAO,EACPuO,OAAQ,EACRkV,KAAM,EACND,IAAK,EACLE,OAAQ,EACRC,MAAO,GAEF9Y,GAOToyG,kCACE,IAAMO,EAAkB,IAAIrC,GAAgB,CAC1CjrG,OAAQ,OAEV,KAAKnb,IAAI,kBAAmByoH,IAGvBP,kCAAP,SAA6BznH,GACH,KAAK9G,IAAI,mBACjB8jI,YAAYh9H,IAO9BynH,mCAC0B,KAAKvuH,IAAI,mBACjBohC,WAOlBmtF,oCAAetP,GAOM,SAAfA,GAAwC,SAAfA,GAAwC,eAAfA,IACpD,KAAK54G,IAAI,kBAAmB,CAAC,OAC7B,KAAK+hC,SAITmmF,oCACE,OAAO3jF,GAGT2jF,oCACE,OAAOwO,GAKTxO,qCACE,IAAMwV,EAAa,KAAK/jI,IAAI,gBnOtHL,YAAlB,oBAAOoM,OAAP,cAAOA,UAAuBA,OAAO43H,iBAAmB53H,OAAO43H,iBAAmB,GmOwHvF,OAAOD,GAAc,EAAI3/H,KAAKq+B,KAAKshG,GAAc,GAGnDxV,oCACE,MAAO,CACLj8F,KAAM,EACNC,KAAM,EACNe,KAAM,KAAKnX,IAAI7K,MACfiiB,KAAM,KAAKpX,IAAI0D,SAInB0uG,+BACE,GAAI,KAAKqQ,SAAT,CACE,IAAM/wH,EAAU,KAAK7N,IAAI,WACnB+jI,EAAa,KAAKE,gBAEpBF,EAAa,GACfl2H,EAAQitB,MAAMipG,EAAYA,QAI9B1iG,YAAMotF,QAAOnvH,KAAA,OAIfivH,iCACE,IAAMryG,EAAUlL,SAASC,cAAc,UACjCpD,EAAUqO,EAAQhL,WAAW,MAGnC,OADA,KAAK7K,IAAI,UAAWwH,GACbqO,GAGTqyG,gCAAWj9G,EAAeuO,GACxBwhB,YAAMwtF,WAAUvvH,KAAA,KAACgS,EAAOuO,GACxB,IAAMhS,EAAU,KAAK7N,IAAI,WACnBitH,EAAK,KAAKjtH,IAAI,MACd+jI,EAAa,KAAKE,gBACxBhX,EAAG37G,MAAQyyH,EAAazyH,EACxB27G,EAAGptG,OAASkkH,EAAalkH,EAErBkkH,EAAa,GACfl2H,EAAQitB,MAAMipG,EAAYA,IAK9BxV,6BACEltF,YAAMuL,MAAKttC,KAAA,MACX,KAAK4kI,cACW,KAAKlkI,IAAI,WACjBmkI,UAAU,EAAG,EAAG,KAAKnkI,IAAI,SAAU,KAAKA,IAAI,YAGtDuuH,8BAASvtG,EAAWrN,GAOlB,OALI,KAAK3T,IAAI,YN3HX,SAAUmqC,EAASvuB,EAAuBoF,EAAWrN,GAEzD,IAAKmvH,GAAQlnH,EAAWoF,EAAGrN,GACzB,OAAO,KAKT,IAHA,IAAIkI,EAAQ,KACNsR,EAAWvR,EAAUk3B,cAElB3zC,EADKguB,EAAS9rB,OACF,EAAGlC,GAAK,EAAGA,IAAK,CACnC,IAAMi+B,EAAQjQ,EAAShuB,GACvB,GAAIi+B,EAAMqkF,UACR5lG,EAAQsuB,EAAS/M,EAAiBpc,EAAGrN,QAChC,GAAImvH,GAAQ1lG,EAAOpc,EAAGrN,GAAI,CAC/B,IAAMywH,EAAWhnG,EACX,EAAeylG,GAASzlG,EAAOpc,EAAGrN,GAAjC8L,EAAI,KAAED,EAAI,KAEb4kH,EAASlU,UAAUzwG,EAAMD,KAC3B3D,EAAQuhB,GAGZ,GAAIvhB,EACF,MAGJ,OAAOA,EMoGKsuB,CAAS,KAAMnpB,EAAGrN,GAElB0tB,YAAM8I,SAAQ7qC,KAAA,KAAC0hB,EAAGrN,EAAG,OAKjC46G,yCACE,IAEI2M,EAFE34H,EAAW,KAAKvC,IAAI,mBACpBqkI,EAAa,KAAKlH,eAGpB56H,EAASlB,QAAUkB,EAAS,KAAO,KACrC24H,EAASmJ,GAETnJ,ExB+FA,SAA0B34H,GAC9B,IAAKA,EAASlB,OACZ,OAAO,KAET,IAAMijI,EAAU,GACVC,EAAU,GACVC,EAAU,GACVC,EAAU,GAUhB,OATAniI,eAAKC,GAAU,SAAC0qH,GACd,IAAMiO,EAASuB,EAAiBxP,GAC5BiO,IACFoJ,EAAQziI,KAAKq5H,EAAO5oG,MACpBiyG,EAAQ1iI,KAAKq5H,EAAO3oG,MACpBiyG,EAAQ3iI,KAAKq5H,EAAO5nG,MACpBmxG,EAAQ5iI,KAAKq5H,EAAO3nG,UAGjB,CACLjB,KAAMluB,KAAKE,IAAIkC,MAAM,KAAM89H,GAC3B/xG,KAAMnuB,KAAKE,IAAIkC,MAAM,KAAM+9H,GAC3BjxG,KAAMlvB,KAAKC,IAAImC,MAAM,KAAMg+H,GAC3BjxG,KAAMnvB,KAAKC,IAAImC,MAAM,KAAMi+H,IwBpHhBC,CAAgBniI,MAEvB24H,EAAO5oG,KAAOluB,KAAKqS,MAAMykH,EAAO5oG,MAChC4oG,EAAO3oG,KAAOnuB,KAAKqS,MAAMykH,EAAO3oG,MAChC2oG,EAAO5nG,KAAOlvB,KAAKq+B,KAAKy4F,EAAO5nG,MAC/B4nG,EAAO3nG,KAAOnvB,KAAKq+B,KAAKy4F,EAAO3nG,MAC/B2nG,EAAO3nG,MAAQ,EACE,KAAKvzB,IAAI,cAGxBk7H,ExB8GJ,SAAoBA,EAAQmJ,GAChC,OAAKnJ,GAAWmJ,GAIXnM,EAAcgD,EAAQmJ,GAGpB,CACL/xG,KAAMluB,KAAKC,IAAI62H,EAAO5oG,KAAM+xG,EAAW/xG,MACvCC,KAAMnuB,KAAKC,IAAI62H,EAAO3oG,KAAM8xG,EAAW9xG,MACvCe,KAAMlvB,KAAKE,IAAI42H,EAAO5nG,KAAM+wG,EAAW/wG,MACvCC,KAAMnvB,KAAKE,IAAI42H,EAAO3nG,KAAM8wG,EAAW9wG,OAVhC,KwBhHQoxG,CAAUzJ,EAAQmJ,KAIjC,OAAOnJ,GAIT3M,mCACE,IAAMqW,EAAY,KAAK5kI,IAAI,aACvB4kI,IAEF5M,EAAoB4M,GACpB,KAAKv+H,IAAI,YAAa,MACtB,KAAKA,IAAI,kBAAmB,MAKhCkoH,4BACE,IAAMqW,EAAY,KAAK5kI,IAAI,aACvB,KAAKA,IAAI,aAAe4kI,GAG5B,KAAKC,cAIPtW,kCAAA,I5B/N6BlpH,E4B+N7B,OACMu/H,EAAY,KAAK5kI,IAAI,aACpB4kI,I5BjOsBv/H,E4BkOS,WAC5BgpB,EAAKruB,IAAI,gBACXquB,EAAKy2G,cAELz2G,EAAK02G,WAGP/M,EAAoB4M,GACpBv2G,EAAKhoB,IAAI,YAAa,OARxBu+H,G5BjOApjH,aAAM,EAAN,EAAQrV,uBACHqV,EAAOrV,sBAAsB9G,IAGlB,YAAlB,oBAAO+G,OAAP,cAAOA,UAAuBA,OAAOD,sBACjCC,OAAOD,sBACP,SAACK,GACC,OAAOC,WAAWD,EAAG,MAEfnH,G4BkOV,KAAKgB,IAAI,YAAau+H,KAK1BrW,mCACE,IAAM1gH,EAAU,KAAK7N,IAAI,WACnBq7H,EAAkB,KAAKr7H,IAAI,mBAC3BmtB,EAAW,KAAK2lB,cAChBooF,EAAS,KAAK8J,oBAGhB9J,GAEFrtH,EAAQs2H,UAAUjJ,EAAO5oG,KAAM4oG,EAAO3oG,KAAM2oG,EAAO5nG,KAAO4nG,EAAO5oG,KAAM4oG,EAAO3nG,KAAO2nG,EAAO3oG,MAE5F1kB,EAAQy6C,OACRz6C,EAAQiuH,YACRjuH,EAAQ6hB,KAAKwrG,EAAO5oG,KAAM4oG,EAAO3oG,KAAM2oG,EAAO5nG,KAAO4nG,EAAO5oG,KAAM4oG,EAAO3nG,KAAO2nG,EAAO3oG,MACvF1kB,EAAQ8nD,OACRmlE,EAAoBjtH,EAAS,MAE7ButH,EAAa,KAAMjuG,EAAU+tG,GAE7BD,EAAaptH,EAASsf,EAAU+tG,GAChCrtH,EAAQijH,WACCuK,EAAgBh6H,QxBxKzB,SAAU4jI,EAAa1iI,GAC3B,IAAK,IAAIpD,EAAI,EAAGA,EAAIoD,EAASlB,OAAQlC,IAAK,CACxC,IAAM8tH,EAAK1qH,EAASpD,GACpB8tH,EAAG9wG,IAAIq/G,YAAa,EAEhBvO,EAAGxL,YAAcwL,EAAGttF,WACtBslG,EAAahY,EAAG9wG,IAAIgR,WwBwKpB83G,CAAa5J,GAEf/4H,eAAK+4H,GAAiB,SAACn/G,GACjBA,EAAQlc,IAAI,eAGdkc,EAAQ7V,IAAI,cAAc,MAI1B,KAAKu4H,WAAa,KAAKC,gBACzBhxH,EAAQu6B,MAAK,GAEf,KAAK/hC,IAAI,kBAAmB,KAI9BkoH,gCACE,IAAM1gH,EAAU,KAAK7N,IAAI,WACnBmtB,EAAW,KAAK2lB,cACtBjlC,EAAQs2H,UAAU,EAAG,EAAG,KAAKnkI,IAAI,SAAU,KAAKA,IAAI,WACpD86H,EAAoBjtH,EAAS,MAC7BotH,EAAaptH,EAASsf,GAElB,KAAKyxG,WAAa,KAAKC,gBACzBhxH,EAAQu6B,MAAK,GAIf,KAAK/hC,IAAI,kBAAmB,KAG9BkoH,kCAMAA,oCAAeryG,GACW,KAAKlc,IAAI,mBACjB6B,KAAKqa,IAOvBqyG,qCAAgBjmB,GACd,GAAI,KAAKs2B,SAAU,CACX,MAA6B,KAAKtR,iBAAiBhlB,GAA9C1mE,EAAO,IAAKC,EAAO,IAC9B,OAAO,KAAKiD,iBAAiBlD,EAASC,GAGxC,OAAOR,YAAMksF,gBAAejuH,KAAA,KAACgpG,IAI/BimB,sCAAiBxgG,GAEf,IAAMu6E,EAAYv6E,EAAMm+D,SAEpB+iC,EAAa,KAQjB,OAPK3mB,EAAkBlZ,UAEnB6/B,EADc,aAAZ3mB,EAAGpmG,KACSomG,EAAkBhZ,eAAe,GAEjCgZ,EAAkBlZ,QAAQ,IAGvC6/B,EAGE,CACLjuG,EAAGiuG,EAAWrtF,QACdjuB,EAAGs7G,EAAWptF,SAJP,IASX0sF,sCAAiB3sF,EAAiBC,GAChC,GAAI,KAAK+8F,SAAU,CACjB,IAAMlvG,EAAO,KAAK1vB,IAAI,sBACtB,MAAO,CACLghB,EAAG4gB,EAAUlS,EAAKqF,KAClBphB,EAAGkuB,EAAUnS,EAAKoF,KAItB,IACM1C,EADK,KAAKpyB,IAAI,MACJkvH,wBAChB,MAAO,CACLluG,EAAG4gB,EAAUxP,EAAK2C,KAClBphB,EAAGkuB,EAAUzP,EAAK0C,MAItBy5F,iCACO,KAAKqQ,UACRv9F,YAAM+tF,UAAS9vH,KAAA,OAKnBivH,sCAAiBvtG,EAAWrN,GAC1B,GAAI,KAAKirH,SAAU,CAEjB,IAAMlvG,EAAO,KAAK1vB,IAAI,sBACtB,MAAO,CACLghB,EAAGA,EAAI0O,EAAKqF,KACZphB,EAAGA,EAAI+b,EAAKoF,KAGhB,IACM1C,EADK,KAAKpyB,IAAI,MACJkvH,wBAChB,MAAO,CACLluG,EAAGA,EAAIoR,EAAK2C,KACZphB,EAAGA,EAAIye,EAAK0C,MAGlB,EA/XA,CAAqBowG,K,6BCRbnjC,GAAkC,KAAI,WAA1B//D,GAAsB,KAAI,kB,GAI9C,YAWE,WAAYnU,GAAZ,MACE,YAAMA,IAAM,K,OAXJ,EAAAs3G,aAAsB,GAItB,EAAAxiC,UAAoB,EAEpB,EAAAxyD,QAAuB,KAM/B,EAAKtiB,MAAQA,EACb,EAAK8R,WAAY,E,EAkLrB,OAhM6C,iBAkBjC,YAAA+6B,WAAV,WACQ,IAAE7sC,EAA6B9uB,KAAxB,MACPyiB,GAD+BziB,KAAtBomI,aACSt3G,EAAM7tB,IAAI,WAClCjB,KAAKqmI,cAAgB,uBAAarmI,KAAM,kBACxCyiB,EAAOxG,IAAI,KAAKH,GAAG,IAAK9b,KAAKqmI,gBAIhB,EAAAC,YAAf,SAA6CxpH,GAC3C,KAAOA,IAAUA,EAAM7b,IAAI,SACzB6b,EAAQA,EAAM7b,IAAI,UAEpB,OAAO6b,GAOC,YAAAypH,eAAV,SAAyB9hC,GACf,IAAA31E,EAAU9uB,KAAI,MAChByiB,EAASqM,EAAM7tB,IAAI,UACjB+sB,EAAWy2E,EAAG,OAChB3b,EAAY2b,EAAIthG,KAOtBshG,EAAIjiE,QAAUiiE,EAAIxiF,EAClBwiF,EAAIhiE,QAAUgiE,EAAI7vF,EAClB,IAAIgc,EAAQ,CAAE3O,EAAGwiF,EAAIjiE,QAAS5tB,EAAG6vF,EAAIhiE,SAGjC3Q,EADkBhD,EAAM7tB,IAAI,SACLmyB,YAe3B,GAbKtB,IACHA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhCmR,GAAkBnR,KACpBlB,EAAQ9B,EAAMiX,iBAAiB0+D,EAAI5hE,QAAS4hE,EAAI3hE,UAGlD2hE,EAAIxiF,EAAI2O,EAAM3O,EACdwiF,EAAI7vF,EAAIgc,EAAMhc,EAEd6vF,EAAI1hE,cAAgBjU,EAEhBd,IAAWvL,EASb,MARkB,YAAdqmE,GACF9oF,KAAKwmI,gBAAgB/hC,EAAK,UAE5BA,EAAIz2E,OAASvL,EACbgiF,EAAIr9F,KAAO,KAEX0nB,EAAM1S,KAAK0sE,EAAW2b,QACtB31E,EAAM1S,KAAK,UAAU0sE,EAAa2b,GAIpC,IAAMgiC,EAAoB/Y,EAAgB4Y,YAAYt4G,GACtD,GAAKy4G,EAAL,CAKA,IAAMr/H,EAAOq/H,EAAUxlI,IAAI,QAC3B,IAAImG,EAAKw5B,UAAT,CAIA,IAAMz9B,EAAOiE,EAAKiF,UAKlB,GAFAo4F,EAAIz2E,OAASA,EACby2E,EAAIr9F,KAAOA,EACPq9F,EAAIjiE,UAAYiiE,EAAIxiF,GAAKwiF,EAAIhiE,UAAYgiE,EAAI7vF,EAAG,CAClD,IAAMoxB,EAAclX,EAAMoX,iBAAiBu+D,EAAIxiF,EAAGwiF,EAAI7vF,GACtD6vF,EAAIjiE,QAAUwD,EAAY/jB,EAC1BwiF,EAAIhiE,QAAUuD,EAAYpxB,EAG5Bka,EAAM1S,KAAK0sE,EAAW2b,GAClBA,EAAI9jG,OAAS8jG,EAAI9jG,KAAKmQ,SAAS,KACjCge,EAAM1S,KAAQjZ,EAAI,IAAI2lF,EAAa2b,GAEnC31E,EAAM1S,KAAKqoF,EAAI9jG,KAAM8jG,GAGL,cAAd3b,IACF9oF,KAAK4jG,UAAW,GAEA,YAAd9a,IACF9oF,KAAK4jG,UAAW,GAEA,YAAd9a,GACF9oF,KAAKwmI,gBAAgB/hC,EAAKthG,SAlC1B2rB,EAAM1S,KAAK0sE,EAAW2b,IA0ChB,YAAAiiC,eAAV,SAAyBjiC,GACvBzkG,KAAK8uB,MAAM1S,KAAKqoF,EAAIthG,KAAMshG,IASpB,YAAAkiC,gBAAR,SAAwBnpG,EAAkBsrD,EAAmB2b,GAC3DA,EAAIthG,KAAO2lF,EACX9oF,KAAK8uB,MAAM1S,KAAQohB,EAAQ,IAAIsrD,EAAa2b,IAGvC,YAAApiE,QAAP,WACQ,IAAEvT,EAAuC9uB,KAAlC,MAAEqmI,EAAgCrmI,KAAnB,cAAEomI,EAAiBpmI,KAAL,aAClB8uB,EAAM7tB,IAAI,UAM3Bgb,IAAI,IAAKoqH,GAEhB,eAAKD,GAAc,SAACp3G,GAClBA,EAAMxoB,YAGRxG,KAAK4jG,UAAW,EAChB5jG,KAAKoxC,QAAU,KACfpxC,KAAKomI,aAAa9jI,OAAS,EAC1BtC,KAAKqmI,cAA+B,KACrCrmI,KAAK4gC,WAAY,GAQX,YAAA4lG,gBAAR,SAAwB/hC,EAAoBthG,GACpC,IAAE2rB,EAAmB9uB,KAAd,MAAEoxC,EAAYpxC,KAAL,QAChByiB,EAAkBqM,EAAM7tB,IAAI,UAC5BmG,EAAQq9F,EAAIz2E,SAAmBvL,EAAS,KAAOgiF,EAAIr9F,KAEzDq9F,EAAMzB,GAAWyB,GAGbrzD,GAAWA,IAAYhqC,IAASgqC,EAAQxQ,YAC1C6jE,EAAIr9F,KAAOgqC,EACXpxC,KAAK2mI,gBAAgBv1F,EAAQ/kC,UAAW,aAAco4F,GAClDzkG,KAAK4jG,UACP5jG,KAAK2mI,gBAAgBv1F,EAAQ/kC,UAAW,YAAao4F,IAKrDr9F,GAAQgqC,IAAYhqC,IACtBq9F,EAAIr9F,KAAOA,EACXpH,KAAK2mI,gBAAgBxjI,EAAM,aAAcshG,GACrCzkG,KAAK4jG,UACP5jG,KAAK2mI,gBAAgBxjI,EAAM,YAAashG,IAI5CzkG,KAAKoxC,QAAUhqC,GAEnB,EAhMA,CAA6C,M,SCHvCw/H,GAAyB,CAAC,QAAS,OAAQ,Y,GACjD,YAKE,WAAY93G,GAAZ,MACE,YAAMA,IAAM,K,OACZ,EAAKA,MAAQA,EACb,EAAK68B,UAAY78B,EAAM7tB,IAAI,WAAa,GACxC,EAAKq3D,WAAa,EAAK1O,gB,EA4P3B,OArQ8C,iBAarC,YAAAkC,gBAAP,SAAuB1uC,GAAvB,WACU0R,EAAyB9uB,KAApB,MAAEu4D,EAAkBv4D,KAAL,cACtB2rD,EAAY,cAAI,GAAI3rD,KAAK2rD,UAAWvuC,GAG1C,GAFApd,KAAK2rD,UAAYA,EAEZ4M,aAAa,EAAbA,EAAej2D,OAApB,CAIAtC,KAAK6E,KAAO7E,KAAK84D,mBAEjBhqC,EAAM1S,KAAK,gBAEX,IAAI89C,EAAQjmD,QAAQC,UACS,IAAzBqkD,EAAcj2D,OAChB43D,EAAQA,EAAMzlD,MAAK,WAAM,SAAKoyH,mBAAmBtuE,EAAc,GAAI5M,MAEnE4M,WAAe9nD,SAAQ,SAACy7C,EAAcrpD,GACpC,IAAMs3D,EAAaxO,EAAU+M,MAAM71D,GACnCq3D,EAAQA,EAAMzlD,MAAK,WAAM,SAAKoyH,mBAAmB36E,EAAciO,SAGnEn6D,KAAK6E,KAAO7E,KAAK84D,mBAEjBoB,EACGzlD,MAAK,WACAk3C,EAAUyO,gBAAgBzO,EAAUyO,oBAEzCC,OAAM,SAACp6B,GACN3lB,QAAQC,KAAK,gBAAiB0lB,WAvBhCjgC,KAAKipD,UA+BF,YAAAA,OAAP,SAAc69E,GAAd,WACUh4G,EAAU9uB,KAAI,MAEtBA,KAAK6E,KAAO7E,KAAK84D,mBACX,MAAyB94D,KAAK6E,KAA5BopB,EAAK,QAAE8qC,EAAW,cAE1B,IAAK9qC,EACH,OAAO,EAET,IAAM1b,EAAQuc,EAAM7tB,IAAI,SAClB6f,EAASgO,EAAM7tB,IAAI,UACnB0qD,EAAiB,GACvB7qD,OAAO0S,OACLm4C,EACA,CACEp5C,MAAK,EACLuO,OAAM,EACNgQ,OAAQ,CAACve,EAAQ,EAAGuO,EAAS,IAE/B9gB,KAAK2rD,WAEP3rD,KAAK2rD,UAAYA,EAEjB3rD,KAAK64D,uBAEL/pC,EAAM1S,KAAK,gBACXpc,KAAKi6D,cAActO,EAAU76B,OAAQ7C,GAErCjuB,KAAKi6D,cAActO,EAAU76B,OAAQioC,GAG7B,IAAAW,EAA4C/N,EAAS,YAAxCo7E,EAA+Bp7E,EAAS,mBAApBq7E,EAAWr7E,EAAS,OAExDo7E,IACHp7E,EAAUo7E,oBAAqB,EAE/Bp7E,EAAUyO,eAAiB,0D,mEAErBV,GACFA,IAIF15D,KAAK44D,gBAGDouE,GAAUr7E,EAAU+M,MACtB,GAAM14D,KAAKinI,eAAejnI,KAAK6E,KAAMmiI,IADnC,M,OACF,SACAhnI,KAAK44D,gB,wBAIP9pC,EAAM1S,KAAK,e,aAIf,IAAI89C,EAAQjmD,QAAQC,UAqBpB,OApBIy3C,EAAUxoD,KACZ+2D,EAAQA,EAAMzlD,MAAK,WAAM,SAAKyyH,iBAAiBv7E,EAAW,MACjDA,EAAU+M,OACnB/M,EAAU+M,MAAMjoD,SAAQ,SAAC2M,EAAKva,GAC5Bq3D,EAAQA,EAAMzlD,MAAK,WAAM,SAAKyyH,iBAAiB9pH,EAAKva,SAKxDq3D,EACGzlD,MAAK,WACAk3C,EAAUyO,gBAAgBzO,EAAUyO,iBAGpC0sE,GAASA,OAEdzsE,OAAM,SAACp6B,GACN3lB,QAAQC,KAAK,uBAAwB0lB,OAGlC,GAGD,YAAAinG,iBAAR,SAAyBv7E,EAAWw7E,GAApC,WACE,OAAO,IAAIlzH,SAAQ,SAACwlD,EAAStlD,GACnB,IAAA2a,EAAU,EAAI,MAChBwpC,EAAa3M,EAAUxoD,KAS7B,GANAwoD,EAAU+N,YAAc,WACtB5qC,EAAM1S,KAAK,iBAAkB,CAAEjZ,KAAMm1D,IACrCmB,KAG6B,UAAfnB,GAAyC,YAAfA,GAA2C,WAAfA,EACzD,CACH,MAAW3M,EAAS,OACtBy7E,EAAO,WACP,GACF,IAEFt4G,EAAMo6B,oBAERyC,EAAUy7E,KAAOA,MACW,eAAnBz7E,EAAUxoD,OACnBwoD,EAAUrV,WAAaxnB,EAAM7tB,IAAI,eAGnC,IACIirD,EAEJ,IACEA,EAAe,IAAI,KAAOP,GAC1B,MAAO5jD,GACPuS,QAAQC,KAAK,uBAAuB+9C,EAAU,8CAC9CnkD,IAKF,GADa+3C,EAAam7E,WACV,CACN,MAAW17E,EAAS,OACtBy7E,EAAO,WACP,GACF,IAEFt4G,EAAMo6B,oBAERgD,EAAak7E,KAAOA,EAEtB,IAAME,EAAa,EAAKhtE,iBAAiB,EAAKz1D,KAAM8mD,IAsF1D,SAAwB9mD,EAAMsiI,G,MAC5B,KAAgB,QAAZ,EAACtiI,aAAI,EAAJA,EAAMopB,aAAK,eAAE3rB,QAChB,OAEgBuC,EAAI,MAChB4L,SAAQ,SAACoiB,GACbA,EAAKkoC,YAAcosE,KA3FjBI,CAAeD,EAAYH,GAC3Bj7E,EAAa3lD,KAAK+gI,GAGlBx4G,EAAM1S,KAAK,kBAAmB,CAAEjZ,KAAMm1D,IACtCpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,cACpE,EAAKnB,cAAcz1D,KAAKopD,OAIpB,YAAA26E,mBAAR,SAA2B36E,EAAcP,GAAzC,WACE,OAAO,IAAI13C,SAAQ,SAACwlD,EAAStlD,GACnB,IAAA2a,EAAU,EAAI,MAChBwpC,EAAa3M,aAAS,EAATA,EAAWxoD,KAG9BwoD,EAAU+N,YAAc,WACtB5qC,EAAM1S,KAAK,iBAAkB,CAAEjZ,KAAMm1D,IACrCmB,KAGF,IAAM6tE,EAAa,EAAKhtE,iBAAiB,EAAKz1D,KAAM8mD,GACpDO,EAAa3lD,KAAK+gI,GAClBp7E,EAAax9B,UAAUi9B,GACvB78B,EAAM1S,KAAK,kBAAmB,CAAEjZ,KAAMm1D,IACtCpM,EAAa4N,UACT5N,EAAa6N,gBAAkBpO,EAAU+N,aAAa/N,EAAU+N,kBAI9D,YAAAutE,eAAV,SAAyBpiI,EAAMmiI,GAA/B,WACE,OAAO,IAAI/yH,SAAQ,SAACC,GACV,IAAA+Z,EAAUppB,EAAI,OACjBopB,aAAK,EAALA,EAAO3rB,SACV4R,IAGG0yH,GAAuB91H,SAASk2H,KACnC1sH,QAAQC,KACN,mBAAmBysH,EAAM,gFAE3B9yH,KAGF,IAAMy3C,EAAY,CAChB76B,OAAQ,EAAK66B,UAAU76B,OACvBuyB,SAAU,SAAC3iD,GAAM,OAAA2E,KAAKC,IAAI5E,EAAEogB,OAAQpgB,EAAE6R,QACtCi1H,gBAAgB,EAChB9tE,YAAa,cAIT,EAA8B,EAAKmB,cAAc5sC,GAA/CgtC,EAAU,aAAED,EAAW,cACzBysE,EAAW,gBAAMzsE,GAGvBrP,EAAU+N,YAAc,WACtBsB,WAAavqD,SAAQ,SAACi3H,EAAK7kI,G,UACnBsuB,EAAKu2G,EAAIzlH,GAAmB,QAAlB,EAAGwlH,EAAS5kI,UAAM,eAAEof,GAC9BmP,EAAKs2G,EAAI9yH,GAAmB,QAAlB,EAAG6yH,EAAS5kI,UAAM,eAAE+R,GACnB,QAAjB,EAAAqmD,EAAWp4D,UAAM,SAAE4N,SAAQ,SAAC5O,GAC1BA,EAAEogB,GAAKkP,EACPtvB,EAAE+S,GAAKwc,QAGXld,KAEmB,IAAI,KAAOy3C,GACnB1C,OAAO,CAAEh7B,MAAO+sC,QAI1B,YAAA34B,QAAP,WACEriC,KAAK64D,uBACL74D,KAAK4gC,WAAY,EAEjB5gC,KAAK8uB,MAAMxnB,IAAI,cAAU2E,GACzBjM,KAAK2rD,eAAY1/C,EACjBjM,KAAKs4D,gBAAarsD,EAClBjM,KAAKu4D,mBAAgBtsD,EACrBjM,KAAK8uB,MAAQ,MAEjB,EArQA,CAA8C,M,aCMjC64G,GAAgB,SAACC,EAAmBC,EAAoBC,GAKnE,OAJIA,EAAGF,IACLttH,QAAQC,KAAK,2BAA2BqtH,EAAS,0CAEnDE,EAAGF,GAAaC,EAAcC,GACvBA,GAET,eAKE,WAAY1qH,GAAZ,MACE,YAAMA,IAAI,KAEN,EAAKnc,IAAI,YAAY6G,WAAW,SAClC,EAAKR,IAAI,UAAY8V,EAAYtO,SAGnC,YAAMvI,KAAI,QACV,IAAM+X,EAAc,EAAKrd,IAAI,e,OACxBqd,GACH,EAAKhX,IAAI,cAAe,CAAEnE,KAAM,WAE7Bmb,EAAYnb,OACfmb,EAAYnb,KAAO,SACnB,EAAKmE,IAAI,cAAegX,IAE1B,EAAKsiB,WAAY,E,EAmrBrB,OAxsBmC,iBAyBvB,YAAAr6B,KAAV,aAEO,YAAAwhI,UAAP,SAAiB/4G,GACf,IAAMvM,EAAwBziB,KAAKiB,IAAI,UACvC+tB,EAAM7rB,KAAO6rB,EAAM7rB,KAAKuI,cACxB+W,EAAOulH,sBAAsBh5G,IAGrB,YAAA41B,qBAAV,WACE,IAAMoE,EAAmB,IAAI,GAAiBhpD,MAC9CA,KAAKsH,IAAI,CACP0hD,iBAAgB,KAIV,YAAAnE,oBAAV,WACE,IAAMkrE,EAAkB,IAAI,GAAgB/vH,MAK5C,GAJAA,KAAKsH,IAAI,CACPyoH,gBAAe,KAGb/vH,KAAKiB,IAAI,YAAY6G,WAAW,QAApC,CAIA,IAAM2a,EAAwBziB,KAAKiB,IAAI,UACjCgnI,EAAYxlH,EAAOxhB,IAAI,MAC7B,4CAA4CuH,MAAM,KAAKiI,SAAQ,SAAC9O,GAC9DsmI,EAAUp5C,iBAAiBltF,EAAK8gB,EAAOulH,sBAAsBpmI,KAAK6gB,IAAS,QAIrE,YAAA8hC,WAAV,WACE,IAAI1nC,EAAmD7c,KAAKiB,IAAI,aAC9C,OAAd4b,GAA2C,iBAAdA,IAC/BA,EAAY5K,SAAS29G,eAAe/yG,GACpC7c,KAAKsH,IAAI,YAAauV,IAGxB,IAAMuoC,EAAmBplD,KAAKiB,IAAI,YAElC,IAAK4b,IAAcuoC,EAASt9C,WAAW,QACrC,MAAM,IAAIuP,MAAM,qBAGlB,IAAM9E,EAAgBvS,KAAKiB,IAAI,SACzB6f,EAAiB9gB,KAAKiB,IAAI,UAI1BinI,EAAiB,CACrBrrH,UAAS,EACT/N,QALsB9O,KAAKiB,IAAI,WAM/BsR,MAAK,EACLuO,OAAM,EACNskC,SAAQ,EACRngB,QARuBjlC,KAAKiB,IAAI,YAW5B+jI,EAAahlI,KAAKiB,IAAI,cAExB+jI,IACFkD,EAAUlD,WAAaA,GAGzB,IAAMviH,EAAS,IAAI,GAAcylH,GAEjCloI,KAAKsH,IAAI,SAAUmb,IAGX,YAAAsiC,YAAV,WACE,IAAM7qC,EAAOla,KACb,eAAKka,EAAKjZ,IAAI,YAAY,SAACwlC,IACpBA,EAAO7F,WAAa6F,EAAO0hG,YAC9B1hG,EAAO0hG,WAAWjuH,OAWjB,YAAAkuH,UAAP,SAAiBjlI,EAAoBklI,GACnC,IAAM5lH,EAAwBziB,KAAKiB,IAAI,UACjCmkD,EAAW3iC,EAAO6lH,cAClBL,EAAYxlH,EAAOxhB,IAAI,MAExBkC,IAAMA,EAAO,aAElB,IAAIolI,EAAU,GACd,GAAiB,QAAbnjF,EAAoB,CACtB,IAAMsD,EAAYu/E,EAAUv/E,WAAU,GAChC8/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAangF,EAAWigF,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUm5H,EAAU91H,WAAW,MAC/BI,EAAQvS,KAAKiB,IAAI,SACjB6f,EAAS9gB,KAAKiB,IAAI,UACpBmoI,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAG92H,EAAQyyH,EAAYlkH,EAASkkH,GACpEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGj3H,EAAOuO,GAEhCynH,EAAUN,EAAUG,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG7yH,EAAOuO,GAC/BhS,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAGvC,OAAOb,GASF,YAAAmB,cAAP,SACE5jF,EACA3iD,EACAwmI,GAEA,IAAMt2G,EAAOrzB,KAAKiB,IAAI,SAASqyB,gBACzBxS,EAASuS,EAAKvS,OACdvO,EAAQ8gB,EAAK9gB,MACb6yC,EAAWplD,KAAKiB,IAAI,YACpB2oI,EAAgC,aAAU,8BAE1CvB,EAAkBsB,EAAcA,EAAYtB,qBAAkBp8H,EAChE8U,EAAU4oH,EAAcA,EAAY5oH,aAAU9U,EAC7C8U,EACI,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IADpDA,EAAU,CAAC,EAAG,EAAG,EAAG,GAGlC,IAAM8oH,EAAU/oH,EAASC,EAAQ,GAAKA,EAAQ,GACxC+oH,EAASv3H,EAAQwO,EAAQ,GAAKA,EAAQ,GAQtCgpH,EAAU,IAAI,GAPE,CACpBltH,UAAW+sH,EACX9oH,OAAQ+oH,EACRt3H,MAAOu3H,EACPE,UAAU,IAMNC,EADQjqI,KAAKiB,IAAI,SACFwN,QAEjBqjB,EAAS,gBAAMm4G,EAAO72G,aACrBtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C,IAAMqF,GAAW9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpC6D,GAAW/D,EAAKmB,KAAOnB,EAAKG,MAAQ,EAC1C,KAAKR,UAAUlB,EAAQA,EAAQ,EAAEqF,GAAUC,IAC3C,KAAKpE,UAAUlB,EAAQA,EAAQ,CAACvf,EAAQ,EAAIwO,EAAQ,GAAID,EAAS,EAAIC,EAAQ,KAE7EkpH,EAAOnlG,cACPmlG,EAAOv2G,UAAU5B,GACjBi4G,EAAQhwF,IAAIkwF,GAEZ,IAAMC,EAAYH,EAAQ9oI,IAAI,MAE1BsnI,EAAU,GACTplI,IAAMA,EAAO,aAElBuK,YAAW,WACT,GAAiB,QAAb03C,EAAoB,CACtB,IAAMsD,EAAYwhF,EAAUxhF,WAAU,GAChC8/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAangF,EAAWigF,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUo7H,EAAU/3H,WAAW,MACjCi3H,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAGS,EAAS9E,EAAY6E,EAAU7E,GACtEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGM,EAAQD,GAEjCtB,EAAU2B,EAAU9B,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG0E,EAAQD,GAChC/6H,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAGnCtjF,GAAUA,EAASyiF,KACtB,KASE,YAAA4B,kBAAP,SACExpI,EACAwC,EACAwmI,GAHF,WAKQt2G,EAAOrzB,KAAKiB,IAAI,SAASqyB,gBACzBxS,EAASuS,EAAKvS,OACdvO,EAAQ8gB,EAAK9gB,MACb6yC,EAAWplD,KAAKiB,IAAI,YACpB2oI,EAAgC,aAAU,8BAE1CvB,EAAkBsB,EAAcA,EAAYtB,qBAAkBp8H,EAChE8U,EAAU4oH,EAAcA,EAAY5oH,aAAU9U,EAC7C8U,EACI,mBAASA,KAAUA,EAAU,CAACA,EAASA,EAASA,EAASA,IADpDA,EAAU,CAAC,EAAG,EAAG,EAAG,GAGlC,IAAM8oH,EAAU/oH,EAASC,EAAQ,GAAKA,EAAQ,GACxC+oH,EAASv3H,EAAQwO,EAAQ,GAAKA,EAAQ,GAMtCgpH,EAAU,IAAI,GALE,CACpBltH,UAAW+sH,EACX9oH,OAAQ+oH,EACRt3H,MAAOu3H,IAKHG,EADQjqI,KAAKiB,IAAI,SACFwN,QAEjBqjB,EAAS,gBAAMm4G,EAAO72G,aACrBtB,IAAQA,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/C,IAAMqF,GAAW9D,EAAKkB,KAAOlB,EAAKE,MAAQ,EACpC6D,GAAW/D,EAAKmB,KAAOnB,EAAKG,MAAQ,EAC1C,KAAKR,UAAUlB,EAAQA,EAAQ,EAAEqF,GAAUC,IAC3C,KAAKpE,UAAUlB,EAAQA,EAAQ,CAACvf,EAAQ,EAAIwO,EAAQ,GAAID,EAAS,EAAIC,EAAQ,KAE7EkpH,EAAOnlG,cACPmlG,EAAOv2G,UAAU5B,GACjBi4G,EAAQhwF,IAAIkwF,GAEZ,IAAMC,EAAYH,EAAQ9oI,IAAI,MAEzBkC,IAAMA,EAAO,aAClBuK,YAAW,WACT,IAAI66H,EAAU,GACd,GAAiB,QAAbnjF,EAAoB,CACtB,IAAMsD,EAAYwhF,EAAUxhF,WAAU,GAChC8/E,EAAav2H,SAASw2H,eAAeC,mBACzC,MACA,0BACA,oDAEIC,EAAS12H,SAASw2H,eAAeG,eACrC,6BACA,MACAJ,GAEFG,EAAOE,aAAangF,EAAWigF,EAAOG,iBACtC,IAAMC,GAAU,IAAIC,eAAgBC,kBAAkBN,GACtDJ,EAAU,mCAAmCW,mBAAmBH,OAC3D,CACL,IAAII,OAAS,EACPr6H,EAAUo7H,EAAU/3H,WAAW,MACjCi3H,OAAkB,EACtB,GAAIf,EAAiB,CACnB,IAAMrD,EAA+B,oBAAX33H,OAAyBA,OAAO43H,iBAAmB,EAC7EkE,EAAYr6H,EAAQu6H,aAAa,EAAG,EAAGS,EAAS9E,EAAY6E,EAAU7E,GACtEoE,EAAqBt6H,EAAQw6H,yBAC7Bx6H,EAAQw6H,yBAA2B,mBACnCx6H,EAAQy6H,UAAYlB,EACpBv5H,EAAQ06H,SAAS,EAAG,EAAGM,EAAQD,GAEjCtB,EAAU2B,EAAU9B,UAAUjlI,GAC1BklI,IACFv5H,EAAQs2H,UAAU,EAAG,EAAG0E,EAAQD,GAChC/6H,EAAQ26H,aAAaN,EAAW,EAAG,GACnCr6H,EAAQw6H,yBAA2BF,GAIvC,IAAMl8G,EAA0Bjb,SAASC,cAAc,KACjDk4H,GACHzpI,GAAQ,UAAyB,QAAbykD,EAAqB,OAAS,IAAIjiD,EAAKqF,MAAM,KAAK,IAEzE,EAAK6hI,eAAe9B,EAASnjF,EAAUl4B,EAAMk9G,GAE7C,IAAMriI,EAAIkK,SAASq4H,YAAY,eAC/BviI,EAAEwiI,UAAU,SAAS,GAAO,GAC5Br9G,EAAKs9G,cAAcziI,KAClB,KASE,YAAA0iI,cAAP,SAAqB9pI,EAAewC,EAAoBklI,GAAxD,WACQnuH,EAAOla,KAETka,EAAK+wC,eACP/wC,EAAK42B,cAGP,IACMsU,EADSlrC,EAAKjZ,IAAI,UACAqnI,cACnBnlI,IAAMA,EAAO,aAClB,IAAMinI,GAAoBzpI,GAAQ,UAAyB,QAAbykD,EAAqB,OAASjiD,EAAKqF,MAAM,KAAK,IACtF0kB,EAA0Bjb,SAASC,cAAc,KACvDxE,YAAW,WACT,IAAM66H,EAAUruH,EAAKkuH,UAAUjlI,EAAMklI,GACrC,EAAKgC,eAAe9B,EAASnjF,EAAUl4B,EAAMk9G,GAE7C,IAAMriI,EAAIkK,SAASq4H,YAAY,eAC/BviI,EAAEwiI,UAAU,SAAS,GAAO,GAC5Br9G,EAAKs9G,cAAcziI,KAClB,KAGG,YAAAsiI,eAAR,SAAuB9B,EAAiBnjF,EAAkBl4B,EAAMk9G,GAC9D,GAAsB,oBAAX/8H,OACT,GAAIA,OAAOq9H,MAAQr9H,OAAOs9H,KAAoB,QAAbvlF,EAAoB,CACnD,IAAM5iD,EAAM+lI,EAAQ//H,MAAM,KACtBoiI,EAAO,GACX,GAAIpoI,GAAOA,EAAIF,OAAS,EAAG,CACzB,IAAMyJ,EAAQvJ,EAAI,GAAGuJ,MAAM,WAEvBA,GAASA,EAAMzJ,QAAU,IAAGsoI,EAAO7+H,EAAM,IAO/C,IAJA,IAAM8+H,EAAOC,KAAKtoI,EAAI,IAClBX,EAAIgpI,EAAKvoI,OACPyoI,EAAQ,IAAIC,WAAWnpI,GAEtBA,KACLkpI,EAAMlpI,GAAKgpI,EAAKI,WAAWppI,GAG7B,IAAM,EAAU,IAAI6oI,KAAK,CAACK,GAAQ,CAAE5nI,KAAMynI,IAEtCv9H,OAAO0L,UAAsB,WAC/B1L,OAAO0L,UAAsB,WAAE,EAASqxH,GAExCl9G,EAAK2hE,iBAAiB,SAAS,WAC7B3hE,EAAKg+G,SAAWd,EAChBl9G,EAAKi+G,KAAO99H,OAAOs9H,IAAIS,gBAAgB,WAI3Cl+G,EAAK2hE,iBAAiB,SAAS,WAC7B3hE,EAAKg+G,SAAWd,EAChBl9G,EAAKi+G,KAAO5C,MAUb,YAAA8C,UAAP,SAAiB5kG,GAEXA,EAAO7F,YADE5gC,KAIRiB,IAAI,WAAW6B,KAAK2jC,GACzBA,EAAO0hG,WALMnoI,QAYR,YAAAsrI,aAAP,SAAoB7kG,GAClB,IAAM4e,EAAUrlD,KAAKiB,IAAI,WACnB4B,EAAQwiD,EAAQ5iD,QAAQgkC,GAC1B5jC,GAAS,IACX4jC,EAAO8kG,gBACPlmF,EAAQr/C,OAAOnD,EAAO,KAIlB,YAAAi9H,aAAR,WACE,MAAgC,gBAAzB9/H,KAAKiB,IAAI,aAGV,YAAA4+H,OAAR,WACE,OAAO7/H,KAAKiB,IAAI,YAAY6G,WAAW,SAGjC,YAAA62G,UAAR,WACE,MAAgC,WAAzB3+G,KAAKiB,IAAI,aASX,YAAAuqI,oBAAP,SAA2BC,EAAgBC,EAA2BC,GAAtE,WAEQC,EAAoB,kBAAQ,GAAI,KAAOvpH,uBAAwBqpH,GAC7Dn5H,EAAyBq5H,EAAiB,MAAnC9qH,EAAkB8qH,EAAiB,OAA3BtpH,EAAUspH,EAAiB,MAC1CzpH,EAAqDG,EAAK,OAArCupH,GAAgCvpH,EAAK,EAALA,EAAK,EAALA,EAAK,OAAnBwpH,EAAcxpH,EAAK,OAMlE,GAJItiB,KAAK6/H,UAAa7/H,KAAK8/H,eAIvB9/H,KAAK8/H,eAAgB,CAEvB6L,EAAYp5H,MAAQA,GAAgBvS,KAAKiB,IAAI,SAC7C0qI,EAAY7qH,OAASA,GAAkB9gB,KAAKiB,IAAI,UAEhD,IAAM,EAAqB0qI,EAAYx5H,WAAW,MAI5C,GAAM6tH,EAFYhgI,KAAKiB,IAAI,SAAQ,eAGzC,EAAI25H,YAAc,YAClB,EAAItrH,IAAMm8H,EACV,EAAIhR,OAAS,WACX,IAAI,EAAK75F,UAAT,CAEA,IAAMw8F,EAASyO,EAAW,EAAIt5H,MACxB8qH,EAASyO,EAAY,EAAIhrH,OAG/B,EAAmBqB,QAASA,EAAS9c,KAAK6F,GAAM,KAGhD,IAAMgyB,EAAU,EAAmBw9F,cAAc,EAAK,UACtD,EAAmB6O,UAAYrsG,EAC/B,EAAmBnB,MAAMqhG,EAAQC,GAEjC,EAAmBmM,SACI,GAApB,EAAKvoI,IAAI,UACT,EAAKA,IAAI,UACU,GAApB,EAAKA,IAAI,SACY,GAArB,EAAKA,IAAI,WAEX,EAAKA,IAAI,cAAcwoC,SAAS,QAAS,CACvCzlC,MAAO,CACLyyD,IAAKk1E,OAMb,GAAI3rI,KAAK2+G,YAAa,CACpB,IAAM,EAAc1sG,SAASC,cAAc,UAG3C,EAAYK,MAAQA,GAAgBvS,KAAKiB,IAAI,SAC7C,EAAY6f,OAASA,GAAkB9gB,KAAKiB,IAAI,UAChD,IAAM,EAAU,EAAYkR,WAAW,MACjC,EAAM,IAAIwoH,MAChB,EAAIC,YAAc,YAClB,EAAItrH,IAAMm8H,EACV,EAAIhR,OAAS,WACX,IAAI,EAAK75F,UAAT,CAGA,IAAMw8F,EAASyO,EAAW,EAAIt5H,MACxB8qH,EAASyO,EAAY,EAAIhrH,OAG/B,EAAQqB,QAASA,EAAS9c,KAAK6F,GAAM,KAErC,IAAMgyB,EAAU,EAAQw9F,cAAc,EAAK,UAC3C,EAAQ6O,UAAYrsG,EACpB,EAAQnB,MAAMqhG,EAAQC,GAEtB,EAAQmM,SACe,GAApB,EAAKvoI,IAAI,UACT,EAAKA,IAAI,UACU,GAApB,EAAKA,IAAI,SACY,GAArB,EAAKA,IAAI,WAGX,IAAM8qI,EAAgB,EAAY3D,YAClC,EAAKnnI,IAAI,cAAcwoC,SAAS,QAAS,CACvCzlC,MAAO,CACLyyD,IAAKs1E,SAYR,YAAAC,mBAAP,SAA0BC,EAAiBP,GACzC,IAAI7uH,EAAyC7c,KAAKiB,IAAI,aAClD,mBAAS4b,KACXA,EAAY5K,SAAS29G,eAAe/yG,IAGjCA,EAAUoB,MAAM+c,WACnBne,EAAUoB,MAAM+c,SAAW,YAG7B,IAAIvY,EAASziB,KAAKiB,IAAI,oBAEhB2qI,EAAuC,kBAAQ,GAAI,KAAO7pH,sBAAuB2pH,GAC/En5H,EAAoCq5H,EAAiB,MAA9C9qH,EAA6B8qH,EAAiB,OAAtC5pH,EAAqB4pH,EAAiB,WAA1Bj6H,EAASi6H,EAAiB,KAE7D,IAAKnpH,EAAQ,CACX,IAAMylH,EAAiB,CACrBrrH,UAAS,EACTtK,MAAK,EACLuO,OAAM,EACNxD,SAAS,GAEL0nH,EAAahlI,KAAKiB,IAAI,cACxB+jI,IACFkD,EAAUlD,WAAaA,GAEzBviH,EAAS,IAAI,GAAcylH,GAC3BloI,KAAKsH,IAAI,mBAAoBmb,GAE/BA,EAAOxhB,IAAI,MAAMgd,MAAMiuH,QAAU,OACjC,IAAMz6H,EAAMgR,EAAOxhB,IAAI,WAEfkhB,EAAmExQ,EAAI,OAA/DuM,EAA2DvM,EAAI,KAAzDE,EAAqDF,EAAI,WAA7CS,EAAyCT,EAAI,SAAnCyQ,EAA+BzQ,EAAI,SAAzBsQ,EAAqBtQ,EAAI,EAAtBiD,EAAkBjD,EAAI,EAAnBuQ,EAAevQ,EAAI,WAE/EF,EAAI0Q,QAASA,EAAS9c,KAAK6F,GAAM,KAGjCuG,EAAIG,KAAUQ,EAAQ,MAAMP,EAG5BJ,EAAI83H,UAAYrrH,EAEhBzM,EAAI2M,aAAegE,EAEnB,IAAK,IAAIhiB,EAAI6rI,EAAM3pI,OAAS,EAAGlC,GAAK,EAAGA,IAErCqR,EAAIiyH,SAASuI,EAAM7rI,GAAI6hB,EAAGrN,EAAIxU,EAAI8hB,GAOpC,GAHAzQ,EAAI0Q,OAAQA,EAAS9c,KAAK6F,GAAM,KAG3B8W,EAcHnF,EAAUoB,MAAMkuH,QAAU,yBAAyB1pH,EAChDxhB,IAAI,MACJmnI,UAAU,aAAY,kCAhBV,CACf,IAAIpuB,EAAM/nG,SAASm6H,cAAc,yBAC5BpyB,KACHA,EAAM/nG,SAASC,cAAc,QACzBi5B,UAAY,wBAElB6uE,EAAI/7F,MAAMkuH,QAAU,yBAAyB1pH,EAC1CxhB,IAAI,MACJmnI,UACC,aACD,6GACHvrH,EAAUgzG,YAAY7V,KAYnB,YAAA33E,QAAP,WACE,eAAKriC,KAAKiB,IAAI,YAAY,SAACwlC,GACzBA,EAAO8kG,mBAIT,IAAMc,EAAcrsI,KAAKiB,IAAI,YAC7B,GAAIorI,EACF,IAAK,IAAIjsI,EAAI,EAAGA,EAAIisI,EAAY/pI,OAAQlC,IAAK,CAC3C,IAAMyc,EAAYwvH,EAAYjsI,GAC9B,GAAKyc,EAAL,CACA,IAAMG,EAASH,EAAUyvH,cACpBtvH,GACLA,EAAO0tB,YAAY7tB,IAIvB7c,KAAKiB,IAAI,mBAAmBohC,UAC5BriC,KAAKiB,IAAI,oBAAoBohC,UAEzBriC,KAAKiB,IAAI,qBACXjB,KAAKiB,IAAI,oBAAoBohC,UAIT,oBAAbpwB,UACPA,SAASm6H,eACTn6H,SAASm6H,cAAc,0BAEvBn6H,SAASm6H,cAAc,yBAAyB5lI,SAGlD,YAAM67B,QAAO,YAIL,YAAAyiB,WAAV,WACE,IAAMriC,EAAwBziB,KAAKiB,IAAI,UAEjCgyB,EAAgBxQ,EAAOsyB,SAAS,CACpC5mB,GAAI,OACJgd,UAAW,KAAO3tB,yBAGd+uH,EAAqB9pH,EAAOsyB,SAAS,CACzC5mB,GAAI,QACJgd,UAAW,KAAOztB,0BAGpB,GAAI1d,KAAKiB,IAAI,gBAAiB,CAC5B,IAAM40C,EAAoB5iB,EAAM8hB,SAAS,CACvC5mB,GAAI,OACJgd,UAAW,KAAOvtB,yBAGdsnC,EAAoBjyB,EAAM8hB,SAAS,CACvC5mB,GAAI,OACJgd,UAAW,KAAOxtB,yBAGdq3B,EAAqB/hB,EAAM8hB,SAAS,CACxC5mB,GAAI,QACJgd,UAAW,KAAOttB,0BAIpBm3B,EAAWvE,SAEXzwC,KAAKsH,IAAI,CAAE49C,UAAS,EAAErP,UAAS,EAAEb,WAAU,IAG7C,IAAMw3F,EAAkB/pH,EAAOsyB,SAAS,CACtC5mB,GAAI,UACJgd,UAAW,KAAO1tB,uBAGd0nC,EAAwBlyB,EAAM8hB,SAAS,CAC3C5mB,GAAI,WACJgd,UAAW,KAAOrtB,6BAEpB9d,KAAKsH,IAAI,CAAE69C,cAAa,IACxBnlD,KAAKsH,IAAI,QAAS2rB,GAClBjzB,KAAKsH,IAAI,UAAWklI,GACpBxsI,KAAKsH,IAAI,aAAcilI,IAE3B,EAxsBA,CAAmC,M,mOChB5B,SAASE,EAAQ5qI,EAAGyD,IAwCpB,SAAwBzD,GAC3B,MAAoB,iBAANA,IAAsC,IAApBA,EAAEY,QAAQ,MAAiC,IAAlBuH,WAAWnI,IAxChE6qI,CAAe7qI,KACfA,EAAI,QAER,IAAI8qI,EA2CD,SAAsB9qI,GACzB,MAAoB,iBAANA,IAAsC,IAApBA,EAAEY,QAAQ,KA5C1BmqI,CAAa/qI,GAO7B,OANAA,EAAY,MAARyD,EAAczD,EAAIwD,KAAKE,IAAID,EAAKD,KAAKC,IAAI,EAAG0E,WAAWnI,KAEvD8qI,IACA9qI,EAAIwJ,SAASgI,OAAOxR,EAAIyD,GAAM,IAAM,KAGpCD,KAAKqF,IAAI7I,EAAIyD,GAAO,KACb,EAOPzD,EAJQ,MAARyD,GAIKzD,EAAI,EAAKA,EAAIyD,EAAOA,EAAMzD,EAAIyD,GAAO0E,WAAWqJ,OAAO/N,IAKvDzD,EAAIyD,EAAO0E,WAAWqJ,OAAO/N,IAQnC,SAASunI,EAAQjlI,GACpB,OAAOvC,KAAKE,IAAI,EAAGF,KAAKC,IAAI,EAAGsC,IAqB5B,SAASklI,EAAWroI,GAKvB,OAJAA,EAAIuF,WAAWvF,IACXkB,MAAMlB,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAEDA,EAMJ,SAASsoI,EAAoBlrI,GAChC,OAAIA,GAAK,EACE,GAAGmD,OAAmB,IAAZsF,OAAOzI,GAAU,KAE/BA,EAMJ,SAASmrI,EAAKvsI,GACjB,OAAoB,IAAbA,EAAE6B,OAAe,IAAM7B,EAAI4S,OAAO5S,GC3DtC,SAASwsI,EAAS/rI,EAAG2T,EAAGjO,GAC3B1F,EAAIurI,EAAQvrI,EAAG,KACf2T,EAAI43H,EAAQ53H,EAAG,KACfjO,EAAI6lI,EAAQ7lI,EAAG,KACf,IAAItB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrBrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrB4Q,EAAI,EACJrV,EAAI,EACJ9B,GAAKiF,EAAMC,GAAO,EACtB,GAAID,IAAQC,EACRpD,EAAI,EACJqV,EAAI,MAEH,CACD,IAAI9W,EAAI4E,EAAMC,EAEd,OADApD,EAAI9B,EAAI,GAAMK,GAAK,EAAI4E,EAAMC,GAAO7E,GAAK4E,EAAMC,GACvCD,GACJ,KAAKpE,EACDsW,GAAK3C,EAAIjO,GAAKlG,GAAKmU,EAAIjO,EAAI,EAAI,GAC/B,MACJ,KAAKiO,EACD2C,GAAK5Q,EAAI1F,GAAKR,EAAI,EAClB,MACJ,KAAKkG,EACD4Q,GAAKtW,EAAI2T,GAAKnU,EAAI,EAK1B8W,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGrV,EAAGA,EAAG9B,EAAGA,GAE5B,SAAS6sI,EAAQhrI,EAAG6xB,EAAGzyB,GAOnB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDY,EAAe,EAAIZ,GAAdyyB,EAAI7xB,GAEhBZ,EAAI,GACGyyB,EAEPzyB,EAAI,EAAI,EACDY,GAAK6xB,EAAI7xB,IAAM,EAAI,EAAIZ,GAAK,EAEhCY,EAoCJ,SAASirI,EAASjsI,EAAG2T,EAAGjO,GAC3B1F,EAAIurI,EAAQvrI,EAAG,KACf2T,EAAI43H,EAAQ53H,EAAG,KACfjO,EAAI6lI,EAAQ7lI,EAAG,KACf,IAAItB,EAAMD,KAAKC,IAAIpE,EAAG2T,EAAGjO,GACrBrB,EAAMF,KAAKE,IAAIrE,EAAG2T,EAAGjO,GACrB4Q,EAAI,EACJ9R,EAAIJ,EACJ5E,EAAI4E,EAAMC,EACVpD,EAAY,IAARmD,EAAY,EAAI5E,EAAI4E,EAC5B,GAAIA,IAAQC,EACRiS,EAAI,MAEH,CACD,OAAQlS,GACJ,KAAKpE,EACDsW,GAAK3C,EAAIjO,GAAKlG,GAAKmU,EAAIjO,EAAI,EAAI,GAC/B,MACJ,KAAKiO,EACD2C,GAAK5Q,EAAI1F,GAAKR,EAAI,EAClB,MACJ,KAAKkG,EACD4Q,GAAKtW,EAAI2T,GAAKnU,EAAI,EAK1B8W,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGrV,EAAGA,EAAGuD,EAAGA,GA6BrB,SAAS0nI,EAASlsI,EAAG2T,EAAGjO,EAAGymI,GAC9B,IAAIx2H,EAAM,CACNm2H,EAAK3nI,KAAKyE,MAAM5I,GAAG+B,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAM+K,GAAG5R,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAMlD,GAAG3D,SAAS,MAGhC,OAAIoqI,GACAx2H,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,IACzBiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAExDiL,EAAIxE,KAAK,IAwCb,SAASi7H,EAAoB5sI,GAChC,OAAO2E,KAAKyE,MAAsB,IAAhBE,WAAWtJ,IAAUuC,SAAS,IAG7C,SAASsqI,EAAoB/1H,GAChC,OAAOg2H,EAAgBh2H,GAAK,IAGzB,SAASg2H,EAAgB5lI,GAC5B,OAAOyD,SAASzD,EAAK,IC9NlB,IAAI6lI,EAAQ,CACfzqH,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZE,UAAW,UACXD,KAAM,UACNhP,KAAM,UACNkP,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPE,cAAe,UACfD,SAAU,UACVE,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,W,qOCnIV,SAASwhH,EAAWtkI,GACvB,IFbqBlI,EAAG2T,EAAGjO,EEavBuP,EAAM,CAAEjV,EAAG,EAAG2T,EAAG,EAAGjO,EAAG,GACvBnC,EAAI,EACJtC,EAAI,KACJuD,EAAI,KACJrF,EAAI,KACJstI,GAAK,EACL1mB,GAAS,EA6Bb,MA5BqB,iBAAV79G,IACPA,EAgED,SAA6BA,GAEhC,GAAqB,KADrBA,EAAQA,EAAM29B,OAAOr7B,eACXpJ,OACN,OAAO,EAEX,IAAIskH,GAAQ,EACZ,GAAI6mB,EAAMrkI,GACNA,EAAQqkI,EAAMrkI,GACdw9G,GAAQ,OAEP,GAAc,gBAAVx9G,EACL,MAAO,CAAElI,EAAG,EAAG2T,EAAG,EAAGjO,EAAG,EAAGnC,EAAG,EAAGwiH,OAAQ,QAM7C,IAAIl7G,EAAQ6hI,EAASz3H,IAAIqD,KAAKpQ,GAC9B,GAAI2C,EACA,MAAO,CAAE7K,EAAG6K,EAAM,GAAI8I,EAAG9I,EAAM,GAAInF,EAAGmF,EAAM,IAGhD,GADAA,EAAQ6hI,EAASxmB,KAAK5tG,KAAKpQ,GAEvB,MAAO,CAAElI,EAAG6K,EAAM,GAAI8I,EAAG9I,EAAM,GAAInF,EAAGmF,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASt3H,IAAIkD,KAAKpQ,GAEtB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAI1L,EAAG0L,EAAM,IAGhD,GADAA,EAAQ6hI,EAASvmB,KAAK7tG,KAAKpQ,GAEvB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAI1L,EAAG0L,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASr3H,IAAIiD,KAAKpQ,GAEtB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAIrG,EAAGqG,EAAM,IAGhD,GADAA,EAAQ6hI,EAASC,KAAKr0H,KAAKpQ,GAEvB,MAAO,CAAEoO,EAAGzL,EAAM,GAAI5J,EAAG4J,EAAM,GAAIrG,EAAGqG,EAAM,GAAItH,EAAGsH,EAAM,IAG7D,GADAA,EAAQ6hI,EAASE,KAAKt0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,IACzB8I,EAAG24H,EAAgBzhI,EAAM,IACzBnF,EAAG4mI,EAAgBzhI,EAAM,IACzBtH,EAAG8oI,EAAoBxhI,EAAM,IAC7Bk7G,OAAQL,EAAQ,OAAS,QAIjC,GADA76G,EAAQ6hI,EAASG,KAAKv0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,IACzB8I,EAAG24H,EAAgBzhI,EAAM,IACzBnF,EAAG4mI,EAAgBzhI,EAAM,IACzBk7G,OAAQL,EAAQ,OAAS,OAIjC,GADA76G,EAAQ6hI,EAASI,KAAKx0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpC8I,EAAG24H,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCnF,EAAG4mI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCtH,EAAG8oI,EAAoBxhI,EAAM,GAAKA,EAAM,IACxCk7G,OAAQL,EAAQ,OAAS,QAIjC,GADA76G,EAAQ6hI,EAASK,KAAKz0H,KAAKpQ,GAEvB,MAAO,CACHlI,EAAGssI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpC8I,EAAG24H,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCnF,EAAG4mI,EAAgBzhI,EAAM,GAAKA,EAAM,IACpCk7G,OAAQL,EAAQ,OAAS,OAGjC,OAAO,EA/IKsnB,CAAoB9kI,IAEX,WAAjB,EAAOA,KACH+kI,EAAe/kI,EAAMlI,IAAMitI,EAAe/kI,EAAMyL,IAAMs5H,EAAe/kI,EAAMxC,IFxB9D1F,EEyBEkI,EAAMlI,EFzBL2T,EEyBQzL,EAAMyL,EFzBXjO,EEyBcwC,EAAMxC,EAAvCuP,EFxBD,CACHjV,EAAqB,IAAlBurI,EAAQvrI,EAAG,KACd2T,EAAqB,IAAlB43H,EAAQ53H,EAAG,KACdjO,EAAqB,IAAlB6lI,EAAQ7lI,EAAG,MEsBV+mI,GAAK,EACL1mB,EAAwC,MAA/B5zG,OAAOjK,EAAMlI,GAAG6I,QAAQ,GAAa,OAAS,OAElDokI,EAAe/kI,EAAMoO,IAAM22H,EAAe/kI,EAAMjH,IAAMgsI,EAAe/kI,EAAM1D,IAChFvD,EAAI4qI,EAAoB3jI,EAAMjH,GAC9BuD,EAAIqnI,EAAoB3jI,EAAM1D,GAC9ByQ,EFsGL,SAAkBqB,EAAGrV,EAAGuD,GAC3B8R,EAAsB,EAAlBi1H,EAAQj1H,EAAG,KACfrV,EAAIsqI,EAAQtqI,EAAG,KACfuD,EAAI+mI,EAAQ/mI,EAAG,KACf,IAAItF,EAAIiF,KAAKqS,MAAMF,GACf/J,EAAI+J,EAAIpX,EACR8B,EAAIwD,GAAK,EAAIvD,GACb4xB,EAAIruB,GAAK,EAAI+H,EAAItL,GACjBb,EAAIoE,GAAK,GAAK,EAAI+H,GAAKtL,GACvB6I,EAAM5K,EAAI,EAId,MAAO,CAAEc,EAAO,IAHR,CAACwE,EAAGquB,EAAG7xB,EAAGA,EAAGZ,EAAGoE,GAAGsF,GAGN6J,EAAO,IAFpB,CAACvT,EAAGoE,EAAGA,EAAGquB,EAAG7xB,EAAGA,GAAG8I,GAEMpE,EAAO,IADhC,CAAC1E,EAAGA,EAAGZ,EAAGoE,EAAGA,EAAGquB,GAAG/oB,IElHbojI,CAAShlI,EAAMoO,EAAGrV,EAAGuD,GAC3BioI,GAAK,EACL1mB,EAAS,OAEJknB,EAAe/kI,EAAMoO,IAAM22H,EAAe/kI,EAAMjH,IAAMgsI,EAAe/kI,EAAM/I,KAChF8B,EAAI4qI,EAAoB3jI,EAAMjH,GAC9B9B,EAAI0sI,EAAoB3jI,EAAM/I,GAC9B8V,EF8BL,SAAkBqB,EAAGrV,EAAG9B,GAC3B,IAAIa,EACA2T,EACAjO,EAIJ,GAHA4Q,EAAIi1H,EAAQj1H,EAAG,KACfrV,EAAIsqI,EAAQtqI,EAAG,KACf9B,EAAIosI,EAAQpsI,EAAG,KACL,IAAN8B,EAEA0S,EAAIxU,EACJuG,EAAIvG,EACJa,EAAIb,MAEH,CACD,IAAI0zB,EAAI1zB,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAI0zB,EAChB7yB,EAAIgsI,EAAQhrI,EAAG6xB,EAAGvc,EAAI,EAAI,GAC1B3C,EAAIq4H,EAAQhrI,EAAG6xB,EAAGvc,GAClB5Q,EAAIsmI,EAAQhrI,EAAG6xB,EAAGvc,EAAI,EAAI,GAE9B,MAAO,CAAEtW,EAAO,IAAJA,EAAS2T,EAAO,IAAJA,EAASjO,EAAO,IAAJA,GElDtBynI,CAASjlI,EAAMoO,EAAGrV,EAAG9B,GAC3BstI,GAAK,EACL1mB,EAAS,OAETnmH,OAAOkB,UAAUC,eAAe1B,KAAK6I,EAAO,OAC5C3E,EAAI2E,EAAM3E,IAGlBA,EAAIqoI,EAAWroI,GACR,CACHkpI,GAAIA,EACJ1mB,OAAQ79G,EAAM69G,QAAUA,EACxB/lH,EAAGmE,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAIjV,EAAG,IACjC2T,EAAGxP,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAItB,EAAG,IACjCjO,EAAGvB,KAAKE,IAAI,IAAKF,KAAKC,IAAI6Q,EAAIvP,EAAG,IACjCnC,EAAGA,GAIX,IAII6pI,EAAW,MAAMtpI,OAFJ,uBAEuB,SAASA,OAJ/B,gBAImD,KAIjEupI,EAAoB,cAAcvpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,aACjHE,EAAoB,cAAcxpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,cAActpI,OAAOspI,EAAU,aAChJV,EAAW,CACXU,SAAU,IAAInxG,OAAOmxG,GACrBn4H,IAAK,IAAIgnB,OAAO,MAAQoxG,GACxBnnB,KAAM,IAAIjqF,OAAO,OAASqxG,GAC1Bl4H,IAAK,IAAI6mB,OAAO,MAAQoxG,GACxBlnB,KAAM,IAAIlqF,OAAO,OAASqxG,GAC1Bj4H,IAAK,IAAI4mB,OAAO,MAAQoxG,GACxBV,KAAM,IAAI1wG,OAAO,OAASqxG,GAC1BP,KAAM,uDACNF,KAAM,uDACNC,KAAM,uEACNF,KAAM,wEA2FH,SAASK,EAAe/kI,GAC3B,OAAOu/E,QAAQilD,EAASU,SAAS90H,KAAKnG,OAAOjK,KChLjD,IAAIqlI,EAA2B,WAC3B,SAASA,EAAUrlI,EAAOslI,GAGtB,IAAIt1H,EAEJ,QAJc,IAAVhQ,IAAoBA,EAAQ,SACnB,IAATslI,IAAmBA,EAAO,IAG1BtlI,aAAiBqlI,EAEjB,OAAOrlI,EAEU,iBAAVA,IACPA,EHqNL,SAA6BA,GAChC,MAAO,CACHlI,EAAGkI,GAAS,GACZyL,GAAY,MAARzL,IAAmB,EACvBxC,EAAW,IAARwC,GGzNSulI,CAAoBvlI,IAEhCpJ,KAAK4uI,cAAgBxlI,EACrB,IAAI+M,EAAMu3H,EAAWtkI,GACrBpJ,KAAK4uI,cAAgBxlI,EACrBpJ,KAAKkB,EAAIiV,EAAIjV,EACblB,KAAK6U,EAAIsB,EAAItB,EACb7U,KAAK4G,EAAIuP,EAAIvP,EACb5G,KAAKyE,EAAI0R,EAAI1R,EACbzE,KAAK6uI,OAASxpI,KAAKyE,MAAM,IAAM9J,KAAKyE,GAAK,IACzCzE,KAAKinH,OAAgC,QAAtB7tG,EAAKs1H,EAAKznB,cAA2B,IAAP7tG,EAAgBA,EAAKjD,EAAI8wG,OACtEjnH,KAAK8uI,aAAeJ,EAAKI,aAKrB9uI,KAAKkB,EAAI,IACTlB,KAAKkB,EAAImE,KAAKyE,MAAM9J,KAAKkB,IAEzBlB,KAAK6U,EAAI,IACT7U,KAAK6U,EAAIxP,KAAKyE,MAAM9J,KAAK6U,IAEzB7U,KAAK4G,EAAI,IACT5G,KAAK4G,EAAIvB,KAAKyE,MAAM9J,KAAK4G,IAE7B5G,KAAK+uI,QAAU54H,EAAIw3H,GA0bvB,OAxbAc,EAAUzsI,UAAUsxG,OAAS,WACzB,OAAOtzG,KAAKgvI,gBAAkB,KAElCP,EAAUzsI,UAAUuxG,QAAU,WAC1B,OAAQvzG,KAAKszG,UAKjBm7B,EAAUzsI,UAAUgtI,cAAgB,WAEhC,IAAI74H,EAAMnW,KAAKivI,QACf,OAAgB,IAAR94H,EAAIjV,EAAkB,IAARiV,EAAItB,EAAkB,IAARsB,EAAIvP,GAAW,KAKvD6nI,EAAUzsI,UAAUktI,aAAe,WAE/B,IAAI/4H,EAAMnW,KAAKivI,QAIXE,EAAQh5H,EAAIjV,EAAI,IAChBkuI,EAAQj5H,EAAItB,EAAI,IAChBw6H,EAAQl5H,EAAIvP,EAAI,IAsBpB,MAAO,OArBHuoI,GAAS,OACLA,EAAQ,MAIR9pI,KAAKkS,KAAK43H,EAAQ,MAAS,MAAO,MAgBtB,OAdhBC,GAAS,OACLA,EAAQ,MAIR/pI,KAAKkS,KAAK63H,EAAQ,MAAS,MAAO,MAST,OAP7BC,GAAS,OACLA,EAAQ,MAIRhqI,KAAKkS,KAAK83H,EAAQ,MAAS,MAAO,OAO9CZ,EAAUzsI,UAAUstI,SAAW,WAC3B,OAAOtvI,KAAKyE,GAOhBgqI,EAAUzsI,UAAUutI,SAAW,SAAUv9B,GAGrC,OAFAhyG,KAAKyE,EAAIqoI,EAAW96B,GACpBhyG,KAAK6uI,OAASxpI,KAAKyE,MAAM,IAAM9J,KAAKyE,GAAK,IAClCzE,MAKXyuI,EAAUzsI,UAAUwtI,MAAQ,WACxB,IAAIj5H,EAAM42H,EAASntI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACxC,MAAO,CAAE4Q,EAAW,IAARjB,EAAIiB,EAASrV,EAAGoU,EAAIpU,EAAGuD,EAAG6Q,EAAI7Q,EAAGjB,EAAGzE,KAAKyE,IAMzDgqI,EAAUzsI,UAAUytI,YAAc,WAC9B,IAAIl5H,EAAM42H,EAASntI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACpC4Q,EAAInS,KAAKyE,MAAc,IAARyM,EAAIiB,GACnBrV,EAAIkD,KAAKyE,MAAc,IAARyM,EAAIpU,GACnBuD,EAAIL,KAAKyE,MAAc,IAARyM,EAAI7Q,GACvB,OAAkB,IAAX1F,KAAKyE,EAAU,OAAOO,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAOU,EAAG,MAAQ,QAAQV,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAOU,EAAG,OAAOV,OAAOhF,KAAK6uI,OAAQ,MAKlKJ,EAAUzsI,UAAU0tI,MAAQ,WACxB,IAAIp5H,EAAM22H,EAASjtI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACxC,MAAO,CAAE4Q,EAAW,IAARlB,EAAIkB,EAASrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,EAAGoE,EAAGzE,KAAKyE,IAMzDgqI,EAAUzsI,UAAU2tI,YAAc,WAC9B,IAAIr5H,EAAM22H,EAASjtI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GACpC4Q,EAAInS,KAAKyE,MAAc,IAARwM,EAAIkB,GACnBrV,EAAIkD,KAAKyE,MAAc,IAARwM,EAAInU,GACnB9B,EAAIgF,KAAKyE,MAAc,IAARwM,EAAIjW,GACvB,OAAkB,IAAXL,KAAKyE,EAAU,OAAOO,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAO3E,EAAG,MAAQ,QAAQ2E,OAAOwS,EAAG,MAAMxS,OAAO7C,EAAG,OAAO6C,OAAO3E,EAAG,OAAO2E,OAAOhF,KAAK6uI,OAAQ,MAMlKJ,EAAUzsI,UAAU4tI,MAAQ,SAAUvC,GAElC,YADmB,IAAfA,IAAyBA,GAAa,GACnCD,EAASptI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,EAAGymI,IAM5CoB,EAAUzsI,UAAU6tI,YAAc,SAAUxC,GAExC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAMrtI,KAAK4vI,MAAMvC,IAM5BoB,EAAUzsI,UAAU8tI,OAAS,SAAUC,GAEnC,YADmB,IAAfA,IAAyBA,GAAa,GHsB3C,SAAmB7uI,EAAG2T,EAAGjO,EAAGnC,EAAGsrI,GAClC,IAAIl5H,EAAM,CACNm2H,EAAK3nI,KAAKyE,MAAM5I,GAAG+B,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAM+K,GAAG5R,SAAS,KAC5B+pI,EAAK3nI,KAAKyE,MAAMlD,GAAG3D,SAAS,KAC5B+pI,EAAKM,EAAoB7oI,KAG7B,OAAIsrI,GACAl5H,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,KAChCiL,EAAI,GAAG/O,WAAW+O,EAAI,GAAGjL,OAAO,IACzBiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAAKiL,EAAI,GAAGjL,OAAO,GAE3EiL,EAAIxE,KAAK,IGpCL29H,CAAUhwI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,EAAG5G,KAAKyE,EAAGsrI,IAMrDtB,EAAUzsI,UAAUiuI,aAAe,SAAUF,GAEzC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAM/vI,KAAK8vI,OAAOC,IAK7BtB,EAAUzsI,UAAUitI,MAAQ,WACxB,MAAO,CACH/tI,EAAGmE,KAAKyE,MAAM9J,KAAKkB,GACnB2T,EAAGxP,KAAKyE,MAAM9J,KAAK6U,GACnBjO,EAAGvB,KAAKyE,MAAM9J,KAAK4G,GACnBnC,EAAGzE,KAAKyE,IAOhBgqI,EAAUzsI,UAAUkuI,YAAc,WAC9B,IAAIhvI,EAAImE,KAAKyE,MAAM9J,KAAKkB,GACpB2T,EAAIxP,KAAKyE,MAAM9J,KAAK6U,GACpBjO,EAAIvB,KAAKyE,MAAM9J,KAAK4G,GACxB,OAAkB,IAAX5G,KAAKyE,EAAU,OAAOO,OAAO9D,EAAG,MAAM8D,OAAO6P,EAAG,MAAM7P,OAAO4B,EAAG,KAAO,QAAQ5B,OAAO9D,EAAG,MAAM8D,OAAO6P,EAAG,MAAM7P,OAAO4B,EAAG,MAAM5B,OAAOhF,KAAK6uI,OAAQ,MAK9JJ,EAAUzsI,UAAUmuI,gBAAkB,WAClC,IAAIC,EAAM,SAAUnuH,GAAK,MAAO,GAAGjd,OAAOK,KAAKyE,MAAwB,IAAlB2iI,EAAQxqH,EAAG,MAAa,MAC7E,MAAO,CACH/gB,EAAGkvI,EAAIpwI,KAAKkB,GACZ2T,EAAGu7H,EAAIpwI,KAAK6U,GACZjO,EAAGwpI,EAAIpwI,KAAK4G,GACZnC,EAAGzE,KAAKyE,IAMhBgqI,EAAUzsI,UAAUquI,sBAAwB,WACxC,IAAIC,EAAM,SAAUruH,GAAK,OAAO5c,KAAKyE,MAAwB,IAAlB2iI,EAAQxqH,EAAG,OACtD,OAAkB,IAAXjiB,KAAKyE,EACN,OAAOO,OAAOsrI,EAAItwI,KAAKkB,GAAI,OAAO8D,OAAOsrI,EAAItwI,KAAK6U,GAAI,OAAO7P,OAAOsrI,EAAItwI,KAAK4G,GAAI,MACjF,QAAQ5B,OAAOsrI,EAAItwI,KAAKkB,GAAI,OAAO8D,OAAOsrI,EAAItwI,KAAK6U,GAAI,OAAO7P,OAAOsrI,EAAItwI,KAAK4G,GAAI,OAAO5B,OAAOhF,KAAK6uI,OAAQ,MAKvHJ,EAAUzsI,UAAUuuI,OAAS,WACzB,GAAe,IAAXvwI,KAAKyE,EACL,MAAO,cAEX,GAAIzE,KAAKyE,EAAI,EACT,OAAO,EAGX,IADA,IAAIoS,EAAM,IAAMu2H,EAASptI,KAAKkB,EAAGlB,KAAK6U,EAAG7U,KAAK4G,GAAG,GACxCywB,EAAK,EAAGje,EAAKtY,OAAO0vI,QAAQ/C,GAAQp2G,EAAKje,EAAG9W,OAAQ+0B,IAAM,CAC/D,IAAI6Q,EAAK9uB,EAAGie,GAAK11B,EAAMumC,EAAG,GAC1B,GAAIrxB,IADkCqxB,EAAG,GAErC,OAAOvmC,EAGf,OAAO,GAEX8sI,EAAUzsI,UAAUiB,SAAW,SAAUgkH,GACrC,IAAIwpB,EAAY9nD,QAAQs+B,GACxBA,EAASA,QAAuCA,EAASjnH,KAAKinH,OAC9D,IAAIypB,GAAkB,EAClBC,EAAW3wI,KAAKyE,EAAI,GAAKzE,KAAKyE,GAAK,EAEvC,OADwBgsI,IAAaE,IAAa1pB,EAAOn/G,WAAW,QAAqB,SAAXm/G,GAS/D,QAAXA,IACAypB,EAAkB1wI,KAAKkwI,eAEZ,SAAXjpB,IACAypB,EAAkB1wI,KAAKqwI,yBAEZ,QAAXppB,GAA+B,SAAXA,IACpBypB,EAAkB1wI,KAAK6vI,eAEZ,SAAX5oB,IACAypB,EAAkB1wI,KAAK6vI,aAAY,IAExB,SAAX5oB,IACAypB,EAAkB1wI,KAAKiwI,cAAa,IAEzB,SAAXhpB,IACAypB,EAAkB1wI,KAAKiwI,gBAEZ,SAAXhpB,IACAypB,EAAkB1wI,KAAKuwI,UAEZ,QAAXtpB,IACAypB,EAAkB1wI,KAAK2vI,eAEZ,QAAX1oB,IACAypB,EAAkB1wI,KAAKyvI,eAEpBiB,GAAmB1wI,KAAK6vI,eAhCZ,SAAX5oB,GAAgC,IAAXjnH,KAAKyE,EACnBzE,KAAKuwI,SAETvwI,KAAKkwI,eA+BpBzB,EAAUzsI,UAAUyrB,SAAW,WAC3B,OAAQpoB,KAAKyE,MAAM9J,KAAKkB,IAAM,KAAOmE,KAAKyE,MAAM9J,KAAK6U,IAAM,GAAKxP,KAAKyE,MAAM9J,KAAK4G,IAEpF6nI,EAAUzsI,UAAUyM,MAAQ,WACxB,OAAO,IAAIggI,EAAUzuI,KAAKiD,aAM9BwrI,EAAUzsI,UAAUwxG,QAAU,SAAUo9B,QACrB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAIjW,GAAKuwI,EAAS,IAClBt6H,EAAIjW,EAAIwsI,EAAQv2H,EAAIjW,GACb,IAAIouI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAU6uI,SAAW,SAAUD,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAIz6H,EAAMnW,KAAKivI,QAIf,OAHA94H,EAAIjV,EAAImE,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAIjV,EAAImE,KAAKyE,OAAc8mI,EAAS,IAAjB,OACrDz6H,EAAItB,EAAIxP,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAItB,EAAIxP,KAAKyE,OAAc8mI,EAAS,IAAjB,OACrDz6H,EAAIvP,EAAIvB,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4Q,EAAIvP,EAAIvB,KAAKyE,OAAc8mI,EAAS,IAAjB,OAC9C,IAAInC,EAAUt4H,IAOzBs4H,EAAUzsI,UAAUyxG,OAAS,SAAUm9B,QACpB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAIjW,GAAKuwI,EAAS,IAClBt6H,EAAIjW,EAAIwsI,EAAQv2H,EAAIjW,GACb,IAAIouI,EAAUn4H,IAOzBm4H,EAAUzsI,UAAU8uI,KAAO,SAAUF,GAEjC,YADe,IAAXA,IAAqBA,EAAS,IAC3B5wI,KAAKmO,IAAI,QAASyiI,IAO7BnC,EAAUzsI,UAAU+uI,MAAQ,SAAUH,GAElC,YADe,IAAXA,IAAqBA,EAAS,IAC3B5wI,KAAKmO,IAAI,QAASyiI,IAO7BnC,EAAUzsI,UAAU2xG,WAAa,SAAUi9B,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAInU,GAAKyuI,EAAS,IAClBt6H,EAAInU,EAAI0qI,EAAQv2H,EAAInU,GACb,IAAIssI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAU0xG,SAAW,SAAUk9B,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAIt6H,EAAMtW,KAAK0vI,QAGf,OAFAp5H,EAAInU,GAAKyuI,EAAS,IAClBt6H,EAAInU,EAAI0qI,EAAQv2H,EAAInU,GACb,IAAIssI,EAAUn4H,IAMzBm4H,EAAUzsI,UAAUgvI,UAAY,WAC5B,OAAOhxI,KAAK2zG,WAAW,MAM3B86B,EAAUzsI,UAAUivI,KAAO,SAAUL,GACjC,IAAIt6H,EAAMtW,KAAK0vI,QACX78B,GAAOv8F,EAAIkB,EAAIo5H,GAAU,IAE7B,OADAt6H,EAAIkB,EAAIq7F,EAAM,EAAI,IAAMA,EAAMA,EACvB,IAAI47B,EAAUn4H,IAMzBm4H,EAAUzsI,UAAUmM,IAAM,SAAU/E,EAAOwnI,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAIM,EAAOlxI,KAAKivI,QACZkC,EAAO,IAAI1C,EAAUrlI,GAAO6lI,QAC5B/sI,EAAI0uI,EAAS,IAOjB,OAAO,IAAInC,EANA,CACPvtI,GAAIiwI,EAAKjwI,EAAIgwI,EAAKhwI,GAAKgB,EAAIgvI,EAAKhwI,EAChC2T,GAAIs8H,EAAKt8H,EAAIq8H,EAAKr8H,GAAK3S,EAAIgvI,EAAKr8H,EAChCjO,GAAIuqI,EAAKvqI,EAAIsqI,EAAKtqI,GAAK1E,EAAIgvI,EAAKtqI,EAChCnC,GAAI0sI,EAAK1sI,EAAIysI,EAAKzsI,GAAKvC,EAAIgvI,EAAKzsI,KAIxCgqI,EAAUzsI,UAAUovI,UAAY,SAAUC,EAASC,QAC/B,IAAZD,IAAsBA,EAAU,QACrB,IAAXC,IAAqBA,EAAS,IAClC,IAAIh7H,EAAMtW,KAAK0vI,QACX6B,EAAO,IAAMD,EACbE,EAAM,CAACxxI,MACX,IAAKsW,EAAIkB,GAAKlB,EAAIkB,GAAM+5H,EAAOF,GAAY,GAAK,KAAO,MAAOA,GAC1D/6H,EAAIkB,GAAKlB,EAAIkB,EAAI+5H,GAAQ,IACzBC,EAAI1uI,KAAK,IAAI2rI,EAAUn4H,IAE3B,OAAOk7H,GAKX/C,EAAUzsI,UAAUyvI,WAAa,WAC7B,IAAIn7H,EAAMtW,KAAK0vI,QAEf,OADAp5H,EAAIkB,GAAKlB,EAAIkB,EAAI,KAAO,IACjB,IAAIi3H,EAAUn4H,IAEzBm4H,EAAUzsI,UAAU0vI,cAAgB,SAAUL,QAC1B,IAAZA,IAAsBA,EAAU,GAOpC,IANA,IAAI96H,EAAMvW,KAAKwvI,QACXh4H,EAAIjB,EAAIiB,EACRrV,EAAIoU,EAAIpU,EACRuD,EAAI6Q,EAAI7Q,EACR4yC,EAAM,GACNq5F,EAAe,EAAIN,EAChBA,KACH/4F,EAAIx1C,KAAK,IAAI2rI,EAAU,CAAEj3H,EAAGA,EAAGrV,EAAGA,EAAGuD,EAAGA,KACxCA,GAAKA,EAAIisI,GAAgB,EAE7B,OAAOr5F,GAEXm2F,EAAUzsI,UAAU4vI,gBAAkB,WAClC,IAAIt7H,EAAMtW,KAAK0vI,QACXl4H,EAAIlB,EAAIkB,EACZ,MAAO,CACHxX,KACA,IAAIyuI,EAAU,CAAEj3H,GAAIA,EAAI,IAAM,IAAKrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,IACpD,IAAIouI,EAAU,CAAEj3H,GAAIA,EAAI,KAAO,IAAKrV,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,MAM7DouI,EAAUzsI,UAAU6vI,aAAe,SAAU3hF,GACzC,IAAI4hF,EAAK9xI,KAAKivI,QACV8C,EAAK,IAAItD,EAAUv+E,GAAY++E,QACnC,OAAO,IAAIR,EAAU,CACjBvtI,EAAG6wI,EAAG7wI,GAAK4wI,EAAG5wI,EAAI6wI,EAAG7wI,GAAK4wI,EAAGrtI,EAC7BoQ,EAAGk9H,EAAGl9H,GAAKi9H,EAAGj9H,EAAIk9H,EAAGl9H,GAAKi9H,EAAGrtI,EAC7BmC,EAAGmrI,EAAGnrI,GAAKkrI,EAAGlrI,EAAImrI,EAAGnrI,GAAKkrI,EAAGrtI,KAMrCgqI,EAAUzsI,UAAUgwI,MAAQ,WACxB,OAAOhyI,KAAKiyI,OAAO,IAKvBxD,EAAUzsI,UAAUkwI,OAAS,WACzB,OAAOlyI,KAAKiyI,OAAO,IAMvBxD,EAAUzsI,UAAUiwI,OAAS,SAAUpwI,GAKnC,IAJA,IAAIyU,EAAMtW,KAAK0vI,QACXl4H,EAAIlB,EAAIkB,EACR5U,EAAS,CAAC5C,MACVmyI,EAAY,IAAMtwI,EACbzB,EAAI,EAAGA,EAAIyB,EAAGzB,IACnBwC,EAAOE,KAAK,IAAI2rI,EAAU,CAAEj3H,GAAIA,EAAIpX,EAAI+xI,GAAa,IAAKhwI,EAAGmU,EAAInU,EAAG9B,EAAGiW,EAAIjW,KAE/E,OAAOuC,GAKX6rI,EAAUzsI,UAAUksG,OAAS,SAAU9kG,GACnC,OAAOpJ,KAAKkwI,gBAAkB,IAAIzB,EAAUrlI,GAAO8mI,eAEhDzB,EA9doB,GCF/B,IAeI2D,EAAe,CAAC,CAClBvvI,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,IACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,IACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,KACR,CACDvgD,MAAO,EACPugD,QAAS,MAGX,SAASivF,EAAO97H,EAAKnW,EAAGkyI,GACtB,IAAIz/B,EAcJ,OAXEA,EADExtG,KAAKyE,MAAMyM,EAAIiB,IAAM,IAAMnS,KAAKyE,MAAMyM,EAAIiB,IAAM,IAC5C86H,EAAQjtI,KAAKyE,MAAMyM,EAAIiB,GAnDnB,EAmDkCpX,EAAIiF,KAAKyE,MAAMyM,EAAIiB,GAnDrD,EAmDoEpX,EAExEkyI,EAAQjtI,KAAKyE,MAAMyM,EAAIiB,GArDnB,EAqDkCpX,EAAIiF,KAAKyE,MAAMyM,EAAIiB,GArDrD,EAqDoEpX,GAGtE,EACRyyG,GAAO,IACEA,GAAO,MAChBA,GAAO,KAGFA,EAGT,SAAS0/B,EAAch8H,EAAKnW,EAAGkyI,GAE7B,OAAc,IAAV/7H,EAAIiB,GAAqB,IAAVjB,EAAIpU,EACdoU,EAAIpU,IAMXqwI,EADEF,EACW/7H,EAAIpU,EAxEA,IAwEqB/B,EA9DrB,IA+DRA,EACImW,EAAIpU,EA1EA,IA4EJoU,EAAIpU,EA1EC,IA0EqB/B,GAIxB,IACfoyI,EAAa,GAIXF,GA7EgB,IA6EPlyI,GAAyBoyI,EAAa,KACjDA,EAAa,IAGXA,EAAa,MACfA,EAAa,KAGRloI,OAAOkoI,EAAWvoI,QAAQ,KAxBjC,IAAIuoI,EA2BN,SAASC,EAASl8H,EAAKnW,EAAGkyI,GACxB,IAAIjxI,EAYJ,OATEA,EADEixI,EACM/7H,EAAI7Q,EAhGM,IAgGgBtF,EAE1BmW,EAAI7Q,EAhGM,IAgGgBtF,GAGxB,IACViB,EAAQ,GAGHiJ,OAAOjJ,EAAM4I,QAAQ,IAG9B,SAASyoI,EAAStpI,GAKhB,IAJA,IAAIslI,EAAO3/H,UAAUzM,OAAS,QAAsB2J,IAAjB8C,UAAU,GAAmBA,UAAU,GAAK,GAC3E4jI,EAAW,GACXC,EAAS,IAAInE,EAAUrlI,GAElBhJ,EA7GW,EA6GUA,EAAI,EAAGA,GAAK,EAAG,CAC3C,IAAImW,EAAMq8H,EAAOpD,QACbh+B,EAAc,IAAIi9B,EAAU,CAC9Bj3H,EAAG66H,EAAO97H,EAAKnW,GAAG,GAClB+B,EAAGowI,EAAch8H,EAAKnW,GAAG,GACzBsF,EAAG+sI,EAASl8H,EAAKnW,GAAG,KACnByvI,cACH8C,EAAS7vI,KAAK0uG,GAGhBmhC,EAAS7vI,KAAK8vI,EAAO/C,eAErB,IAAK,IAAIx4G,EAAK,EAAGA,GAvHE,EAuHoBA,GAAM,EAAG,CAC9C,IAAIw7G,EAAOD,EAAOpD,QAEdsD,EAAe,IAAIrE,EAAU,CAC/Bj3H,EAAG66H,EAAOQ,EAAMx7G,GAChBl1B,EAAGowI,EAAcM,EAAMx7G,GACvB3xB,EAAG+sI,EAASI,EAAMx7G,KACjBw4G,cAEH8C,EAAS7vI,KAAKgwI,GAIhB,MAAmB,SAAfpE,EAAKqE,MACAX,EAAa7hI,KAAI,SAAUyiI,GAChC,IAAInwI,EAAQmwI,EAAKnwI,MACbugD,EAAU4vF,EAAK5vF,QAEnB,OADsB,IAAIqrF,EAAUC,EAAKrG,iBAAmB,WAAWl6H,IAAIwkI,EAAS9vI,GAAkB,IAAVugD,GAAeysF,iBAKxG8C,EAGT,IAAIM,EAAsB,CACxB1oH,IAAK,UACL2oH,QAAS,UACT1pH,OAAQ,UACRrD,KAAM,UACN8F,OAAQ,UACRhE,KAAM,UACN5B,MAAO,UACPjC,KAAM,UACNX,KAAM,UACN0vH,SAAU,UACV9oH,OAAQ,UACRjC,QAAS,UACT7B,KAAM,WAEJ6sH,EAAiB,GACjBC,EAAqB,GACzBvyI,OAAO8C,KAAKqvI,GAAqBxiI,SAAQ,SAAU9O,GACjDyxI,EAAezxI,GAAO+wI,EAASO,EAAoBtxI,IACnDyxI,EAAezxI,GAAK2xI,QAAUF,EAAezxI,GAAK,GAElD0xI,EAAmB1xI,GAAO+wI,EAASO,EAAoBtxI,GAAM,CAC3DoxI,MAAO,OACP1K,gBAAiB,YAEnBgL,EAAmB1xI,GAAK2xI,QAAUD,EAAmB1xI,GAAK,MAElDyxI,EAAe7oH,IACX6oH,EAAeF,QAClBE,EAAejtH,KACbitH,EAAe5pH,OACf4pH,EAAennH,OACjBmnH,EAAenrH,KACdmrH,EAAe/sH,MAChB+sH,EAAehvH,KACfgvH,EAAe3vH,KACX2vH,EAAeD,SACjBC,EAAe/oH,OACd+oH,EAAehrH,QAClBgrH,EAAe7sH,KAZ1B,IChLagtH,EAAW,SAACC,EAAWC,EAAYC,GAC9C,IAAMC,EAAK,IAAMH,GACXI,EAAK,IAAMH,GACjB,OAAO,IAAM,EACV,EAAIC,GAAcC,EAAGppH,MAAQmpH,EAAaE,EAAGrpH,OAC7C,EAAImpH,GAAcC,EAAGttH,QAAUqtH,EAAaE,EAAGvtH,SAC/C,EAAIqtH,GAAcC,EAAGlwH,OAASiwH,EAAaE,EAAGnwH,SAC9CtN,OAwJQ09H,EAA4B,SACvCr7G,EACAg7G,EACAT,EACAe,GAEA,YAJA,IAAAN,MAAA,aACA,IAAAT,MAAA,gBACA,IAAAe,MAAA,sBAEc,YAAVf,EA3J4B,SAChCv6G,EACAg7G,EACAM,QADA,IAAAN,MAAA,aACA,IAAAM,MAAA,sBAEA,IAAMC,EAAkBR,EAASC,EAAWh7G,EAAc,KAAMriB,MAAMlT,WAChE+wI,EAAiBT,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAC9DgxI,EAAiBV,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAC9DixI,EAAiBX,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAE9DkxI,EAAkBZ,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEmxI,EAAkBb,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEoxI,EAAiBd,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DqxI,EAAiBf,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DsxI,EAAiBhB,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAE9DuxI,EAAqB9B,EAASl6G,EAAc,CAChDu6G,MAAO,UACP1K,gBAAiBmL,IAEbiB,EAAa,IAAMj8G,GAAc3hB,MAAMnL,cACvCgpI,EAAaF,EAAmB/xI,QAAQgyI,GAC1CE,EAAgBn8G,EAIpB,OAHoB,IAAhBk8G,IACFC,EAAgBH,EAAmBE,EAAa,IAE3C,CAELj2H,WAAY+Z,EACZ9Z,SAAUs1H,EAEVn1H,aAAc2Z,EACd5Z,WAAYm1H,EAEZr0H,eAAgBw0H,EAChBz0H,aAAcs0H,EAEd30H,eAAgBoZ,EAChBrZ,aAAcq0H,EAEdj0H,gBAAiBo1H,EACjBr1H,cAAe20H,EAEfp0H,cAAe00H,EACf30H,YAAaw0H,EAGbp0H,eAAgBu0H,EAChBp0H,iBAAkBqY,EAClBlY,mBAAoBg0H,EACpBl0H,mBAAoBoY,EACpBnY,oBAAqBmY,EACrBjY,kBAAmB8zH,EAGnBxzH,gBAAiB0zH,EACjB3zH,cAAeuzH,EAEflzH,kBAAmBuX,EACnBtX,gBAAiB6yH,EAEjBxyH,oBAAqBgzH,EACrB/yH,kBAAmB2yH,EAEnBhzH,oBAAqBqX,EACrBpX,kBAAmB+yH,EAEnB9yH,qBAAsBszH,EACtBrzH,mBAAoB6yH,EAEpB1yH,mBAAoB6yH,EACpB5yH,iBAAkB0yH,GAqFXQ,CAA0Bp8G,EAAcg7G,EAAW,sBAjF/B,SAACh7G,EAAcg7G,EAAoBM,QAApB,IAAAN,MAAA,aAAoB,IAAAM,MAAA,QAChE,IAAMG,EAAiBV,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAC9D4xI,EAAiBtB,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAC9D6xI,EAAiBvB,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAC9D8xI,EAAiBxB,EAASC,EAAWh7G,EAAc,IAAKriB,MAAMlT,WAE9DqxI,EAAiBf,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9D+xI,EAAkBzB,EAASC,EAAWM,EAAc,KAAM39H,MAAMlT,WAChEsxI,EAAiBhB,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DgyI,EAAiB1B,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAC9DiyI,EAAiB3B,EAASC,EAAWM,EAAc,IAAK39H,MAAMlT,WAE9DuxI,EAAqB9B,EAASl6G,EAAc,CAAEu6G,MAAO,OAAQ1K,gBAAiBmL,IAC9EiB,EAAa,IAAMj8G,GAAc3hB,MAAMnL,cACvCgpI,EAAaF,EAAmB/xI,QAAQgyI,GAC1CE,EAAgBn8G,EAIpB,OAHoB,IAAhBk8G,IACFC,EAAgBH,EAAmBE,EAAa,IAE3C,CAELj2H,WAAYs2H,EACZr2H,SAAUu1H,EAEVp1H,aAAc2Z,EACd5Z,WAAYi2H,EAEZn1H,eAAgBq1H,EAChBt1H,aAAcw0H,EAEd70H,eAAgBoZ,EAChBrZ,aAAc80H,EAEd10H,gBAAiBiZ,EACjBlZ,cAAew1H,EAEfj1H,cAAeq1H,EACft1H,YAAao1H,EAGbh1H,eAAgB8zH,EAChB3zH,iBAAkBqY,EAClBlY,mBAAoBwzH,EACpB1zH,mBAAoBoY,EACpBnY,oBAAqBmY,EACrBjY,kBAAmBg0H,EAGnB1zH,gBAAiBo0H,EACjBr0H,cAAeo0H,EAEf/zH,kBAAmBuX,EACnBtX,gBAAiBozH,EAEjB/yH,oBAAqB0zH,EACrBzzH,kBAAmBwzH,EAEnB7zH,oBAAqBqX,EACrBpX,kBAAmBkzH,EAEnBjzH,qBAAsBszH,EACtBrzH,mBAAoB0zH,EAEpBvzH,mBAAoBwzH,EACpBvzH,iBAAkB4yH,GAkBba,CAAuB38G,EAAcg7G,EAAW,SAG5C4B,EAA8B,SACzCC,EACA7B,EACAT,EACAe,QAFA,IAAAN,MAAA,aACA,IAAAT,MAAA,gBACA,IAAAe,MAAA,sBAEA,IAAMwB,EAAO,GAIb,OAHAD,EAAc5kI,SAAQ,SAAC8kI,GACrBD,EAAKxyI,KAAK+wI,EAA0B0B,EAAQ/B,EAAWT,EAAOe,OAEzDwB,I,qQC7LI,SAAS/oH,EAAQxkB,GAAG,OAAOwkB,EAAQ,mBAAmBprB,QAAQ,YAAiBA,OAAOiU,UAAS,SAASrN,GAAG,SAAcA,IAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmB5G,QAAQ4G,EAAE+E,cAAc3L,QAAQ4G,IAAI5G,OAAOa,UAAU,SAA3E,EAA2F+F,KAAIA,GAAGjH,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQq5H,oBAAud,SAA6BlxH,GAAG,OAAO0a,EAAOw2G,oBAAoBx2G,EAAOw2G,oBAAoBlxH,IAAI,YAAY,oBAAoBsF,OAAO,YAAYkf,EAAQlf,UAAUA,OAAOM,qBAAqBN,OAAOM,qBAAqBK,cAAcjG,IAA3pBnI,EAAQwN,sBAAwJ,SAA+BrF,GAAG,OAAO0a,EAAOrV,sBAAsBqV,EAAOrV,sBAAsBrF,IAAI,YAAY,oBAAoBsF,OAAO,YAAYkf,EAAQlf,UAAUA,OAAOD,sBAAsBC,OAAOD,sBAAsB,SAASrF,GAAG,OAAO2F,WAAW3F,EAAE,MAAMA,IAAxXnI,EAAQ41I,iBAAgD,SAA0BztI,QAAG,IAASA,IAAIA,EAAE,IAAIA,EAAEA,GAAhE,IAAI0a,EAAO,I,sPCA9c,IAAI5N,EAGJA,EAAK,WACJ,OAAO7U,KADH,GAIL,IAEC6U,EAAIA,GAAK,IAAIwX,SAAS,cAAb,GACR,MAAOtkB,GAEc,YAAlB,oBAAOsF,OAAP,cAAOA,WAAqBwH,EAAIxH,QAOrCxN,EAAOD,QAAUiV,G,gCCnBJ/T,OAAOC,eAAenB,EAAQ,aAAa,CAACyB,OAAM,IAAKzB,EAAQ61I,QAAQ71I,EAAQ81I,YAAO,EAAO,IAAIC,EAAU3/H,EAAQ,IAAoB0/H,EAAO,WAAW,SAASp0I,EAAEA,GAAG,IAAIyG,EAAE4tI,EAAUvhC,gBAAgB9yG,EAAE6B,MAAMnD,KAAK41I,eAAe,IAAI7tI,EAAEzG,GAAG,OAAOA,EAAEU,UAAUinD,OAAO,SAAS3nD,GAAG,OAAOtB,KAAK41I,eAAe3sF,OAAO3nD,IAAIA,EAAEU,UAAU0sB,UAAU,SAASptB,GAAGtB,KAAK41I,eAAelnH,UAAUptB,IAAIA,EAAEU,UAAUuE,KAAK,SAASjF,GAAGtB,KAAK41I,eAAervI,KAAKjF,IAAIA,EAAEU,UAAU83D,QAAQ,WAAW95D,KAAK41I,eAAe97E,WAAWx4D,EAAEU,UAAUwsB,cAAc,WAAW,OAAOxuB,KAAK41I,eAAepnH,iBAAiBltB,EAAEU,UAAUqgC,QAAQ,WAAW,OAAOriC,KAAK41I,eAAevzG,WAAW/gC,EAA5f,GAAigB1B,EAAQ81I,OAAOA,EAAO91I,EAAQ61I,QAAQ,IAAI/sD,MAAM,GAAG,CAACznF,IAAI,SAASK,EAAEyG,GAAG,OAAO4tI,EAAUvhC,gBAAgBrsG,IAAIT,IAAI,SAAShG,EAAEyG,EAAElH,GAAG,OAAO80I,EAAUrhC,eAAevsG,EAAElH,IAAG,M,iGCkB1zBg1I,G,4BAAK,CACT79H,QAAS,IAAOA,QAChBg9D,MAAK,IACL09C,KAAI,IACJgjB,OAAM,IACND,QAAO,IACPnhC,eAAc,IACdD,iBAAgB,IAChByhC,OAAM,IACN3mH,iBAAgB,IAChB4d,cAAa,IACbH,aAAY,IACZT,aAAY,IACZ4pG,UAAS,EACTC,MAAK,IACLjV,OAAM,IACNl1F,MAAK,MAWP,IAPEoqG,EAOItO,GAPJsO,EAO4C,IALrC,W,IAAU,sDACf,OAAOA,EAAiBxuI,MAAM,KAAM,YAAI+G,EAAM,CAAAqnI,OAMjDA,EAAWlO,cAAgBA,EAuBb,a,wJ5DtEf,aACA,SA0BA,SAAgBlW,EAAgBr/G,EAAkB8P,GAChD,OAAOA,EAAaA,EAAa9P,EAAsB,IAAXA,EAlB9CxS,gBAAA,SAA8B+R,EAAcS,EAAkB8P,GAC5D,IAAIsvG,EAAY,EAIhB,OAHI,cAAS7/G,KACX6/G,EAAY7/G,EAAKnJ,MAAM,MAAMlG,QAE3BkvH,EAAY,EAEPp/G,EAAWo/G,EADAC,EAAgBr/G,EAAU8P,IACDsvG,EAAY,GAElDp/G,GAQTxS,oBASAA,eAAA,SAA6B+R,EAAcC,GACzC,IAAM9C,GAAU,2BACZyD,EAAQ,EAEZ,IAAI,WAAMZ,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAzD,EAAQy6C,OACRz6C,EAAQ8C,KAAOA,GACX,cAASD,IAASA,EAAKb,SAAS,MAAO,CACzC,IAAM8gH,EAAUjgH,EAAKnJ,MAAM,OAC3B,UAAKopH,GAAS,SAACC,GACb,IAAMC,EAAehjH,EAAQwD,YAAYu/G,GAASt/G,MAC9CA,EAAQu/G,IACVv/G,EAAQu/G,WAIZv/G,EAAQzD,EAAQwD,YAAYX,GAAMY,MAGpC,OADAzD,EAAQijH,UACDx/G,GAGT3S,eAAA,SAA6BoE,GACnB,MAA6DA,EAAK,SAAxD6N,EAAmD7N,EAAK,WAA5C8N,EAAuC9N,EAAK,WAC1E,MAAO,CAD8DA,EAAK,UAALA,EAAK,YAC1C8N,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAAK00B,W","file":"f6.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"F6\"] = factory();\n\telse\n\t\troot[\"F6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 177);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","\"use strict\";var cssKeywords=require(\"color-name\"),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:\"rgb\"},hsl:{channels:3,labels:\"hsl\"},hsv:{channels:3,labels:\"hsv\"},hwb:{channels:3,labels:\"hwb\"},cmyk:{channels:4,labels:\"cmyk\"},xyz:{channels:3,labels:\"xyz\"},lab:{channels:3,labels:\"lab\"},lch:{channels:3,labels:\"lch\"},hex:{channels:1,labels:[\"hex\"]},keyword:{channels:1,labels:[\"keyword\"]},ansi16:{channels:1,labels:[\"ansi16\"]},ansi256:{channels:1,labels:[\"ansi256\"]},hcg:{channels:3,labels:[\"h\",\"c\",\"g\"]},apple:{channels:3,labels:[\"r16\",\"g16\",\"b16\"]},gray:{channels:1,labels:[\"gray\"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!(\"channels\"in convert[model]))throw new Error(\"missing channels property: \"+model);if(!(\"labels\"in convert[model]))throw new Error(\"missing channel labels property: \"+model);if(convert[model].labels.length!==convert[model].channels)throw new Error(\"channel and label counts mismatch: \"+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],\"channels\",{value:channels}),Object.defineProperty(convert[model],\"labels\",{value:labels})}function comparativeDistance(r,n){return Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)+Math.pow(r[2]-n[2],2)}convert.rgb.hsl=function(r){var n,e,t=r[0]/255,a=r[1]/255,o=r[2]/255,c=Math.min(t,a,o),h=Math.max(t,a,o),s=h-c;return h===c?n=0:t===h?n=(a-o)/s:a===h?n=2+(o-t)/s:o===h&&(n=4+(t-a)/s),(n=Math.min(60*n,360))<0&&(n+=360),e=(c+h)/2,[n,100*(h===c?0:e<=.5?s/(h+c):s/(2-h-c)),100*e]},convert.rgb.hsv=function(r){var n,e,t,a,o,c=r[0]/255,h=r[1]/255,s=r[2]/255,l=Math.max(c,h,s),v=l-Math.min(c,h,s),u=function(r){return(l-r)/6/v+.5};return 0===v?a=o=0:(o=v/l,n=u(c),e=u(h),t=u(s),c===l?a=t-e:h===l?a=1/3+n-t:s===l&&(a=2/3+e-n),a<0?a+=1:a>1&&(a-=1)),[360*a,100*o,100*l]},convert.rgb.hwb=function(r){var n=r[0],e=r[1],t=r[2];return[convert.rgb.hsl(r)[0],100*(1/255*Math.min(n,Math.min(e,t))),100*(t=1-1/255*Math.max(n,Math.max(e,t)))]},convert.rgb.cmyk=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255,a=Math.min(1-n,1-e,1-t);return[100*((1-n-a)/(1-a)||0),100*((1-e-a)/(1-a)||0),100*((1-t-a)/(1-a)||0),100*a]},convert.rgb.keyword=function(r){var n,e=reverseKeywords[r];if(e)return e;var t,a=1/0;for(var o in cssKeywords)cssKeywords.hasOwnProperty(o)&&(n=comparativeDistance(r,cssKeywords[o]))<a&&(a=n,t=o);return t},convert.keyword.rgb=function(r){return cssKeywords[r]},convert.rgb.xyz=function(r){var n=r[0]/255,e=r[1]/255,t=r[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1805*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*n+.7152*e+.0722*t),100*(.0193*n+.1192*e+.9505*t)]},convert.rgb.lab=function(r){var n=convert.rgb.xyz(r),e=n[0],t=n[1],a=n[2];return t/=100,a/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(e-t),200*(t-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},convert.hsl.rgb=function(r){var n,e,t,a,o,c,h=r[0]/360,s=r[1]/100,l=r[2]/100;if(0===s)return[c=255*l,c,c];for(e=2*l-(t=l<.5?l*(1+s):l+s-l*s),o=[0,0,0],n=0;n<3;n++)(a=h+1/3*-(n-1))<0&&a++,a>1&&a--,c=6*a<1?e+6*(t-e)*a:2*a<1?t:3*a<2?e+(t-e)*(2/3-a)*6:e,o[n]=255*c;return o},convert.hsl.hsv=function(r){var n=r[0],e=r[1]/100,t=r[2]/100,a=e,o=Math.max(t,.01);return e*=(t*=2)<=1?t:2-t,a*=o<=1?o:2-o,[n,100*(0===t?2*a/(o+a):2*e/(t+e)),100*((t+e)/2)]},convert.hsv.rgb=function(r){var n=r[0]/60,e=r[1]/100,t=r[2]/100,a=Math.floor(n)%6,o=n-Math.floor(n),c=255*t*(1-e),h=255*t*(1-e*o),s=255*t*(1-e*(1-o));switch(t*=255,a){case 0:return[t,s,c];case 1:return[h,t,c];case 2:return[c,t,s];case 3:return[c,h,t];case 4:return[s,c,t];case 5:return[t,c,h]}},convert.hsv.hsl=function(r){var n,e,t=r[0],a=r[1]/100,o=r[2]/100,c=Math.max(o,.01),h=(2-a)*o;return e=a*c,[t,100*(e=(e/=(n=(2-a)*c)<=1?n:2-n)||0),100*(h/=2)]},convert.hwb.rgb=function(r){var n,e,t,a,o,c,h,s=r[0]/360,l=r[1]/100,v=r[2]/100,u=l+v;switch(u>1&&(l/=u,v/=u),t=6*s-(n=Math.floor(6*s)),0!=(1&n)&&(t=1-t),a=l+t*((e=1-v)-l),n){default:case 6:case 0:o=e,c=a,h=l;break;case 1:o=a,c=e,h=l;break;case 2:o=l,c=e,h=a;break;case 3:o=l,c=a,h=e;break;case 4:o=a,c=l,h=e;break;case 5:o=e,c=l,h=a}return[255*o,255*c,255*h]},convert.cmyk.rgb=function(r){var n=r[0]/100,e=r[1]/100,t=r[2]/100,a=r[3]/100;return[255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,e*(1-a)+a)),255*(1-Math.min(1,t*(1-a)+a))]},convert.xyz.rgb=function(r){var n,e,t,a=r[0]/100,o=r[1]/100,c=r[2]/100;return e=-.9689*a+1.8758*o+.0415*c,t=.0557*a+-.204*o+1.057*c,n=(n=3.2406*a+-1.5372*o+-.4986*c)>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(e=Math.min(Math.max(0,e),1)),255*(t=Math.min(Math.max(0,t),1))]},convert.xyz.lab=function(r){var n=r[0],e=r[1],t=r[2];return e/=100,t/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(n-e),200*(e-(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116))]},convert.lab.xyz=function(r){var n,e,t,a=r[0];n=r[1]/500+(e=(a+16)/116),t=e-r[2]/200;var o=Math.pow(e,3),c=Math.pow(n,3),h=Math.pow(t,3);return e=o>.008856?o:(e-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,t=h>.008856?h:(t-16/116)/7.787,[n*=95.047,e*=100,t*=108.883]},convert.lab.lch=function(r){var n,e=r[0],t=r[1],a=r[2];return(n=360*Math.atan2(a,t)/2/Math.PI)<0&&(n+=360),[e,Math.sqrt(t*t+a*a),n]},convert.lch.lab=function(r){var n=r[0],e=r[1],t=r[2]/360*2*Math.PI;return[n,e*Math.cos(t),e*Math.sin(t)]},convert.rgb.ansi16=function(r){var n=r[0],e=r[1],t=r[2],a=1 in arguments?arguments[1]:convert.rgb.hsv(r)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(t/255)<<2|Math.round(e/255)<<1|Math.round(n/255));return 2===a&&(o+=60),o},convert.hsv.ansi16=function(r){return convert.rgb.ansi16(convert.hsv.rgb(r),r[2])},convert.rgb.ansi256=function(r){var n=r[0],e=r[1],t=r[2];return n===e&&e===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(e/255*5)+Math.round(t/255*5)},convert.ansi16.rgb=function(r){var n=r%10;if(0===n||7===n)return r>50&&(n+=3.5),[n=n/10.5*255,n,n];var e=.5*(1+~~(r>50));return[(1&n)*e*255,(n>>1&1)*e*255,(n>>2&1)*e*255]},convert.ansi256.rgb=function(r){return r>=232?[e=10*(r-232)+8,e,e]:(r-=16,[Math.floor(r/36)/5*255,Math.floor((n=r%36)/6)/5*255,n%6/5*255]);var n,e},convert.rgb.hex=function(r){var n=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return\"000000\".substring(n.length)+n},convert.hex.rgb=function(r){var n=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var e=n[0];3===n[0].length&&(e=e.split(\"\").map((function(r){return r+r})).join(\"\"));var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},convert.rgb.hcg=function(r){var n,e=r[0]/255,t=r[1]/255,a=r[2]/255,o=Math.max(Math.max(e,t),a),c=Math.min(Math.min(e,t),a),h=o-c;return n=h<=0?0:o===e?(t-a)/h%6:o===t?2+(a-e)/h:4+(e-t)/h+4,n/=6,[360*(n%=1),100*h,100*(h<1?c/(1-h):0)]},convert.hsl.hcg=function(r){var n=r[1]/100,e=r[2]/100,t=1,a=0;return(t=e<.5?2*n*e:2*n*(1-e))<1&&(a=(e-.5*t)/(1-t)),[r[0],100*t,100*a]},convert.hsv.hcg=function(r){var n=r[1]/100,e=r[2]/100,t=n*e,a=0;return t<1&&(a=(e-t)/(1-t)),[r[0],100*t,100*a]},convert.hcg.rgb=function(r){var n=r[0]/360,e=r[1]/100,t=r[2]/100;if(0===e)return[255*t,255*t,255*t];var a,o=[0,0,0],c=n%1*6,h=c%1,s=1-h;switch(Math.floor(c)){case 0:o[0]=1,o[1]=h,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=h;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=h,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return a=(1-e)*t,[255*(e*o[0]+a),255*(e*o[1]+a),255*(e*o[2]+a)]},convert.hcg.hsv=function(r){var n=r[1]/100,e=n+r[2]/100*(1-n),t=0;return e>0&&(t=n/e),[r[0],100*t,100*e]},convert.hcg.hsl=function(r){var n=r[1]/100,e=r[2]/100*(1-n)+.5*n,t=0;return e>0&&e<.5?t=n/(2*e):e>=.5&&e<1&&(t=n/(2*(1-e))),[r[0],100*t,100*e]},convert.hcg.hwb=function(r){var n=r[1]/100,e=n+r[2]/100*(1-n);return[r[0],100*(e-n),100*(1-e)]},convert.hwb.hcg=function(r){var n=r[1]/100,e=1-r[2]/100,t=e-n,a=0;return t<1&&(a=(e-t)/(1-t)),[r[0],100*t,100*a]},convert.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},convert.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},convert.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(r){return[0,0,r[0]]},convert.gray.hwb=function(r){return[0,100,r[0]]},convert.gray.cmyk=function(r){return[0,0,0,r[0]]},convert.gray.lab=function(r){return[r[0],0,0]},convert.gray.hex=function(r){var n=255&Math.round(r[0]/100*255),e=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return\"000000\".substring(e.length)+e},convert.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","// @ts-nocheck\nimport F6 from './index';\n\n// @ts-ignoreH5,\nvar getGlobal = function () {\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n};\n\nconst root = getGlobal();\n// umd \nif (typeof exports === 'object' && typeof module === 'object') {\n} else if (typeof define === 'function' && define.amd) {\n} else if (typeof exports === 'object') {\n} else {\n  Object.defineProperties(root, {\n    f6: {\n      get: function () {\n        console.warn(': f6,  F6  f6');\n        return F6;\n      },\n    },\n  });\n}\n\nexport default F6;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",null,"import { getColorsWithSubjectColor } from './util/color';\n\nconst subjectColor = 'rgb(95, 149, 255)';\nconst backColor = 'rgb(255, 255, 255)';\nconst textColor = 'rgb(0, 0, 0)';\n\nconst colorSet = getColorsWithSubjectColor(subjectColor, backColor);\n\nexport default {\n  version: '0.0.16',\n  rootContainerClassName: 'root-container',\n  uiContainerClassName: 'ui-container',\n  waterContainerClassName: 'water-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle',\n    },\n    offset: 4, // \n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: colorSet.mainFill,\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n    },\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10,\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1,\n    },\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2,\n    },\n    color: colorSet.edgeMainStroke,\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1,\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1,\n    },\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12,\n    },\n    refY: 10, // Combo \n    refX: 10, // Combo \n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10,\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20],\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill,\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500,\n      },\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1,\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1,\n    },\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5],\n  },\n  // \n  textWaterMarkerConfig: {\n    width: 150,\n    height: 100,\n    compatible: false,\n    text: {\n      x: 0,\n      y: 60,\n      lineHeight: 20,\n      rotate: 20,\n      fontSize: 14,\n      fontFamily: 'Microsoft YaHei',\n      fill: 'rgba(0, 0, 0, 0.1)',\n      baseline: 'Middle',\n    },\n  },\n  imageWaterMarkerConfig: {\n    // compatible: false,\n    image: {\n      x: 0,\n      y: 0,\n      width: 30,\n      height: 20,\n      rotate: 0,\n    },\n  },\n  waterMarkerImage:\n    'https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg',\n};\n",null,"\"use strict\";var colorNames=require(\"color-name\"),swizzle=require(\"simple-swizzle\"),hasOwnProperty=Object.hasOwnProperty,reverseNames={};for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=module.exports={to:{},get:{}};function clamp(r,e,a){return Math.min(Math.max(e,r),a)}function hexDouble(r){var e=Math.round(r).toString(16).toUpperCase();return e.length<2?\"0\"+e:e}cs.get=function(r){var e,a;switch(r.substring(0,3).toLowerCase()){case\"hsl\":e=cs.get.hsl(r),a=\"hsl\";break;case\"hwb\":e=cs.get.hwb(r),a=\"hwb\";break;default:e=cs.get.rgb(r),a=\"rgb\"}return e?{model:a,value:e}:null},cs.get.rgb=function(r){if(!r)return null;var e,a,s,t,n=[0,0,0,1];if(a=r.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(t=a[2],a=a[1],s=0;s<3;s++)e=2*s,n[s]=parseInt(a.slice(e,e+2),16);t&&(n[3]=parseInt(t,16)/255)}else if(a=r.match(/^#([a-f0-9]{3,4})$/i)){for(t=(a=a[1])[3],s=0;s<3;s++)n[s]=parseInt(a[s]+a[s],16);t&&(n[3]=parseInt(t+t,16)/255)}else if(a=r.match(/^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)){for(s=0;s<3;s++)n[s]=parseInt(a[s+1],0);a[4]&&(a[5]?n[3]=.01*parseFloat(a[4]):n[3]=parseFloat(a[4]))}else{if(!(a=r.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)))return(a=r.match(/^(\\w+)$/))?\"transparent\"===a[1]?[0,0,0,0]:hasOwnProperty.call(colorNames,a[1])?((n=colorNames[a[1]])[3]=1,n):null:null;for(s=0;s<3;s++)n[s]=Math.round(2.55*parseFloat(a[s+1]));a[4]&&(a[5]?n[3]=.01*parseFloat(a[4]):n[3]=parseFloat(a[4]))}for(s=0;s<3;s++)n[s]=clamp(n[s],0,255);return n[3]=clamp(n[3],0,1),n},cs.get.hsl=function(r){if(!r)return null;var e,a=r.match(/^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/);return a?(e=parseFloat(a[4]),[(parseFloat(a[1])%360+360)%360,clamp(parseFloat(a[2]),0,100),clamp(parseFloat(a[3]),0,100),clamp(isNaN(e)?1:e,0,1)]):null},cs.get.hwb=function(r){if(!r)return null;var e,a=r.match(/^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/);return a?(e=parseFloat(a[4]),[(parseFloat(a[1])%360+360)%360,clamp(parseFloat(a[2]),0,100),clamp(parseFloat(a[3]),0,100),clamp(isNaN(e)?1:e,0,1)]):null},cs.to.hex=function(){var r=swizzle(arguments);return\"#\"+hexDouble(r[0])+hexDouble(r[1])+hexDouble(r[2])+(r[3]<1?hexDouble(Math.round(255*r[3])):\"\")},cs.to.rgb=function(){var r=swizzle(arguments);return r.length<4||1===r[3]?\"rgb(\"+Math.round(r[0])+\", \"+Math.round(r[1])+\", \"+Math.round(r[2])+\")\":\"rgba(\"+Math.round(r[0])+\", \"+Math.round(r[1])+\", \"+Math.round(r[2])+\", \"+r[3]+\")\"},cs.to.rgb.percent=function(){var r=swizzle(arguments),e=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),s=Math.round(r[2]/255*100);return r.length<4||1===r[3]?\"rgb(\"+e+\"%, \"+a+\"%, \"+s+\"%)\":\"rgba(\"+e+\"%, \"+a+\"%, \"+s+\"%, \"+r[3]+\")\"},cs.to.hsl=function(){var r=swizzle(arguments);return r.length<4||1===r[3]?\"hsl(\"+r[0]+\", \"+r[1]+\"%, \"+r[2]+\"%)\":\"hsla(\"+r[0]+\", \"+r[1]+\"%, \"+r[2]+\"%, \"+r[3]+\")\"},cs.to.hwb=function(){var r=swizzle(arguments),e=\"\";return r.length>=4&&1!==r[3]&&(e=\", \"+r[3]),\"hwb(\"+r[0]+\", \"+r[1]+\"%, \"+r[2]+\"%\"+e+\")\"},cs.to.keyword=function(r){return reverseNames[r.slice(0,3)]};","\"use strict\";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};","\"use strict\";var isArrayish=require(\"is-arrayish\"),concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle=module.exports=function(r){var e,i,t,s=[];for(e=0,i=r.length;e<i;e++)t=r[e],isArrayish(t)?s=concat.call(s,slice.call(t)):s.push(t);return s};swizzle.wrap=function(r){return function(){return r(swizzle(arguments))}};","\"use strict\";module.exports=function(t){return!(!t||\"string\"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&\"String\"!==t.constructor.name))};","\"use strict\";function _typeof(o){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&\"function\"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o})(o)}var conversions=require(\"./conversions\"),route=require(\"./route\"),convert={},models=Object.keys(conversions);function wrapRaw(o){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),o(e))};return\"conversion\"in o&&(e.conversion=o.conversion),e}function wrapRounded(o){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n,r,t=o(e);if(\"object\"===_typeof(t))for(n=t.length,r=0;r<n;r++)t[r]=Math.round(t[r]);return t};return\"conversion\"in o&&(e.conversion=o.conversion),e}models.forEach((function(o){convert[o]={},Object.defineProperty(convert[o],\"channels\",{value:conversions[o].channels}),Object.defineProperty(convert[o],\"labels\",{value:conversions[o].labels});var e=route(o);Object.keys(e).forEach((function(n){var r=e[n];convert[o][n]=wrapRounded(r),convert[o][n].raw=wrapRaw(r)}))})),module.exports=convert;","\"use strict\";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};","\"use strict\";var conversions=require(\"./conversions\");function buildGraph(){var n,r,e={},t=Object.keys(conversions);for(n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function deriveBFS(n){var r,e,t,o,i,s,a=buildGraph(),c=[n];for(a[n].distance=0;c.length;)for(r=c.pop(),t=(e=Object.keys(conversions[r])).length,o=0;o<t;o++)-1===(s=a[i=e[o]]).distance&&(s.distance=a[r].distance+1,s.parent=r,c.unshift(i));return a}function link(n,r){return function(e){return r(n(e))}}function wrapConversion(n,r){for(var e=[r[n].parent,n],t=conversions[r[n].parent][n],o=r[n].parent;r[o].parent;)e.unshift(r[o].parent),t=link(conversions[r[o].parent][o],t),o=r[o].parent;return t.conversion=e,t}module.exports=function(n){var r,e,t,o=deriveBFS(n),i={},s=Object.keys(o);for(r=s.length,e=0;e<r;e++)null!==o[t=s[e]].parent&&(i[t]=wrapConversion(t,o));return i};","\"use strict\";var __createBinding=Object.create?function(e,r,t,o){void 0===o&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]},__exportStar=function(e,r){for(var t in e)\"default\"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,\"__esModule\",{value:!0}),__exportStar(require(\"./string\"),exports),__exportStar(require(\"./array\"),exports),__exportStar(require(\"./number\"),exports),__exportStar(require(\"./math\"),exports),__exportStar(require(\"./object\"),exports),__exportStar(require(\"./function\"),exports);","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.camelize=exports.isString=void 0;var isString=function(e){return\"string\"==typeof e};exports.isString=isString;var cacheStringFunction=function(e){var t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}},camelizeRE=/-(\\w)/g;exports.camelize=cacheStringFunction((function(e){return e.replace(camelizeRE,(function(e,t){return t?t.toUpperCase():\"\"}))}));","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isArray=void 0,exports.isArray=Array.isArray;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toNumber=exports.isNaN=exports.isNumber=void 0;var isNumber=function(r){return\"number\"==typeof r};exports.isNumber=isNumber;var isNaN=function(r){return Number.isNaN(Number(r))};exports.isNaN=isNaN;var toNumber=function(r){var e=parseFloat(r);return exports.isNaN(e)?r:e};exports.toNumber=toNumber;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.traverseTreeUp=exports.scaleMatrix=exports.getAdjMatrix=exports.floydWarshall=exports.getDegree=void 0;var getDegree=function(r,e,t){var a,o=[];for(a=0;a<r;a++)o[a]=0;return t?(t.forEach((function(r){r.source&&(o[e[r.source]]+=1),r.target&&(o[e[r.target]]+=1)})),o):o};exports.getDegree=getDegree;var floydWarshall=function(r){var e,t=[],a=r.length;for(o=0;o<a;o+=1)for(t[o]=[],n=0;n<a;n+=1)o===n?t[o][n]=0:0!==r[o][n]&&r[o][n]?t[o][n]=r[o][n]:t[o][n]=1/0;for(e=0;e<a;e+=1)for(var o=0;o<a;o+=1)for(var n=0;n<a;n+=1)t[o][n]>t[o][e]+t[e][n]&&(t[o][n]=t[o][e]+t[e][n]);return t};exports.floydWarshall=floydWarshall;var getAdjMatrix=function(r,e){var t=r.nodes,a=r.edges,o=[],n={};if(!t)throw new Error(\"invalid nodes data!\");return t&&t.forEach((function(r,e){n[r.id]=e,o.push([])})),a&&a.forEach((function(r){var t=r.source,a=r.target,s=n[t],f=n[a];o[s][f]=1,e||(o[f][s]=1)})),o};exports.getAdjMatrix=getAdjMatrix;var scaleMatrix=function(r,e){var t=[];return r.forEach((function(r){var a=[];r.forEach((function(r){a.push(r*e)})),t.push(a)})),t};exports.scaleMatrix=scaleMatrix;var traverseUp=function r(e,t){var a;if(e&&e.children)for(a=e.children.length-1;a>=0;a--)if(!r(e.children[a],t))return;return!!t(e)},traverseTreeUp=function(r,e){\"function\"==typeof e&&traverseUp(r,e)};exports.traverseTreeUp=traverseTreeUp;","\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var __assign=function(){return(__assign=Object.assign||function(t){var e,o,n;for(o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clone=exports.isObject=void 0;var isObject=function(t){return null!==t&&\"object\"===_typeof(t)};exports.isObject=isObject;var clone=function(t){var e,o;return null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?(e=[],t.forEach((function(t){e.push(t)})),e.map((function(t){return exports.clone(t)}))):\"object\"===_typeof(t)&&t!=={}?(o=__assign({},t),Object.keys(o).forEach((function(t){o[t]=exports.clone(o[t])})),o):t};exports.clone=clone;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isFunction=void 0;var isFunction=function(t){return\"function\"==typeof t};exports.isFunction=isFunction;","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import { each } from '@antv/util'; //  Behavior \n\nexport default {\n  getDefaultCfg: function getDefaultCfg() {\n    return {};\n  },\n\n  /**\n   * register event handler, behavior will auto bind events\n   * for example:\n   * return {\n   *  click: 'onClick'\n   * }\n   */\n  getEvents: function getEvents() {\n    return {};\n  },\n  updateCfg: function updateCfg(cfg) {\n    Object.assign(this, cfg);\n    return true;\n  },\n  shouldBegin: function shouldBegin() {\n    return true;\n  },\n  shouldUpdate: function shouldUpdate() {\n    return true;\n  },\n  shouldEnd: function shouldEnd() {\n    return true;\n  },\n\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind: function bind(graph) {\n    var events = this.events;\n    this.graph = graph;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', true);\n    }\n\n    each(events, function (handler, event) {\n      graph.on(event, handler);\n    });\n  },\n  unbind: function unbind(graph) {\n    var events = this.events;\n\n    if (this.type === 'drag-canvas' || this.type === 'brush-select' || this.type === 'lasso-select') {\n      graph.get('canvas').set('draggable', false);\n    }\n\n    each(events, function (handler, event) {\n      graph.off(event, handler);\n    });\n  },\n  get: function get(val) {\n    return this[val];\n  },\n  set: function set(key, val) {\n    this[key] = val;\n    return this;\n  }\n};","import { clone, each, wrapBehavior } from '@antv/util';\nimport behaviorOption from './behaviorOption';\n\nvar Behavior =\n/** @class */\nfunction () {\n  function Behavior() {}\n  /**\n   *  Behavior\n   * @param type Behavior \n   * @param behavior Behavior \n   */\n\n\n  Behavior.registerBehavior = function (type, behavior) {\n    if (!behavior) {\n      throw new Error(\"please specify handler for this behavior: \".concat(type));\n    }\n\n    var prototype = clone(behaviorOption);\n    Object.assign(prototype, behavior); // eslint-disable-next-line func-names\n\n    var base = function base(cfg) {\n      var _this = this;\n\n      Object.assign(this, this.getDefaultCfg(), cfg);\n      var events = this.getEvents();\n      this.events = null;\n      var eventsToBind = {};\n\n      if (events) {\n        each(events, function (handle, event) {\n          eventsToBind[event] = wrapBehavior(_this, handle);\n        });\n        this.events = eventsToBind;\n      }\n    };\n\n    base.prototype = prototype;\n    Behavior.types[type] = base;\n  };\n\n  Behavior.hasBehavior = function (type) {\n    return !!Behavior.types[type];\n  };\n\n  Behavior.getBehavior = function (type) {\n    return Behavior.types[type];\n  }; //  Behavior \n\n\n  Behavior.types = {};\n  return Behavior;\n}();\n\nexport default Behavior;","import Behavior from './behavior';\nexport default Behavior;","import { mat3, vec3, ext, vec2 } from '@antv/matrix-util';\nimport { isArray, each } from '@antv/util';\nvar transform = ext.transform;\n/**\n * \n * @param   {string}       attributeName  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nexport var compare = function compare(attributeName) {\n  return function (m, n) {\n    return m[attributeName] - n[attributeName];\n  };\n};\n/**\n * \n * @param   {number}       value  \n * @param   {number}       min    \n * @param   {number}       max    \n * @return  {boolean}      bool   \n */\n\nvar isBetween = function isBetween(value, min, max) {\n  return value >= min && value <= max;\n};\n/**\n * \n * @param  {Point}  p0 \n * @param  {Point}  p1 \n * @param  {Point}  p2 \n * @param  {Point}  p3 \n * @return {Point}  \n */\n\n\nexport var getLineIntersect = function getLineIntersect(p0, p1, p2, p3) {\n  var tolerance = 0.0001;\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var invertKross = 1 / kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) * invertKross;\n    var t = (E.x * D0.y - E.y * D0.x) * invertKross;\n    if (!isBetween(s, 0, 1) || !isBetween(t, 0, 1)) return null;\n    return {\n      x: p0.x + s * D0.x,\n      y: p0.y + s * D0.y\n    };\n  }\n\n  return null;\n};\n/**\n * point and rectangular intersection point\n * @param  {IRect} rect  rect\n * @param  {Point} point point\n * @return {PointPoint} rst;\n */\n\nexport var getRectIntersectByPoint = function getRectIntersectByPoint(rect, point) {\n  var x = rect.x,\n      y = rect.y,\n      width = rect.width,\n      height = rect.height;\n  var cx = x + width / 2;\n  var cy = y + height / 2;\n  var points = [];\n  var center = {\n    x: cx,\n    y: cy\n  };\n  points.push({\n    x: x,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y\n  });\n  points.push({\n    x: x + width,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y + height\n  });\n  points.push({\n    x: x,\n    y: y\n  });\n  var rst = null;\n\n  for (var i = 1; i < points.length; i++) {\n    rst = getLineIntersect(points[i - 1], points[i], center, point);\n\n    if (rst) {\n      break;\n    }\n  }\n\n  return rst;\n};\n/**\n * get point and circle inIntersect\n * @param {ICircle} circle x,y,r\n * @param {Point} point  x,y\n * @return {Point} applied point\n */\n\nexport var getCircleIntersectByPoint = function getCircleIntersectByPoint(circle, point) {\n  var cx = circle.x,\n      cy = circle.y,\n      r = circle.r;\n  var x = point.x,\n      y = point.y;\n  var dx = x - cx;\n  var dy = y - cy;\n  var d = Math.sqrt(dx * dx + dy * dy);\n\n  if (d < r) {\n    return null;\n  }\n\n  var signX = Math.sign(dx);\n  var signY = Math.sign(dy);\n  var angle = Math.atan(dy / dx);\n  return {\n    x: cx + Math.abs(r * Math.cos(angle)) * signX,\n    y: cy + Math.abs(r * Math.sin(angle)) * signY\n  };\n};\n/**\n * get point and ellipse inIntersect\n * @param {Object} ellipse  x,y,rx,ry\n * @param {Object} point  x,y\n * @return {object} applied point\n */\n\nexport var getEllipseIntersectByPoint = function getEllipseIntersectByPoint(ellipse, point) {\n  var a = ellipse.rx;\n  var b = ellipse.ry;\n  var cx = ellipse.x;\n  var cy = ellipse.y;\n  var dx = point.x - cx;\n  var dy = point.y - cy; //  x,y  -PI, PI\n\n  var angle = Math.atan2(dy / b, dx / a);\n\n  if (angle < 0) {\n    angle += 2 * Math.PI; //  02PI\n  }\n\n  return {\n    x: cx + a * Math.cos(angle),\n    y: cy + b * Math.sin(angle)\n  };\n};\n/**\n * coordinate matrix transformation\n * @param  {number} point   coordinate\n * @param  {Matrix} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {Point} transformed point\n */\n\nexport var applyMatrix = function applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n * coordinate matrix invert transformation\n * @param  {number} point   coordinate\n * @param  {number} matrix  matrix\n * @param  {number} tag     could be 0 or 1\n * @return {object} transformed point\n */\n\nexport var invertMatrix = function invertMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  if (!matrix || isNaN(matrix[0])) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var inversedMatrix = mat3.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], matrix);\n\n  if (!inversedMatrix) {\n    inversedMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var vector = [point.x, point.y, tag];\n  vec3.transformMat3(vector, vector, inversedMatrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n};\n/**\n *\n * @param p1 First coordinate\n * @param p2 second coordinate\n * @param p3 three coordinate\n */\n\nexport var getCircleCenterByPoints = function getCircleCenterByPoints(p1, p2, p3) {\n  var a = p1.x - p2.x;\n  var b = p1.y - p2.y;\n  var c = p1.x - p3.x;\n  var d = p1.y - p3.y;\n  var e = (p1.x * p1.x - p2.x * p2.x - p2.y * p2.y + p1.y * p1.y) / 2;\n  var f = (p1.x * p1.x - p3.x * p3.x - p3.y * p3.y + p1.y * p1.y) / 2;\n  var denominator = b * c - a * d;\n  return {\n    x: -(d * e - b * f) / denominator,\n    y: -(a * f - c * e) / denominator\n  };\n};\n/**\n * get distance by two points\n * @param p1 first point\n * @param p2 second point\n */\n\nexport var distance = function distance(p1, p2) {\n  var vx = p1.x - p2.x;\n  var vy = p1.y - p2.y;\n  return Math.sqrt(vx * vx + vy * vy);\n};\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\n\nexport var scaleMatrix = function scaleMatrix(matrix, ratio) {\n  var result = [];\n  matrix.forEach(function (row) {\n    var newRow = [];\n    row.forEach(function (v) {\n      newRow.push(v * ratio);\n    });\n    result.push(newRow);\n  });\n  return result;\n};\n/**\n * Floyd Warshall algorithm for shortest path distances matrix\n * @param  {array} adjMatrix   adjacency matrix\n * @return {array} distances   shortest path distances matrix\n */\n\nexport var floydWarshall = function floydWarshall(adjMatrix) {\n  // initialize\n  var dist = [];\n  var size = adjMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n/**\n * get adjacency matrix\n * @param data graph data\n * @param directed whether it's a directed graph\n */\n\nexport var getAdjMatrix = function getAdjMatrix(data, directed) {\n  var nodes = data.nodes,\n      edges = data.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error('invalid nodes data!');\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (e) {\n      var source = e.source,\n          target = e.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n/**\n * group\n * @param group Group \n * @param vec \n */\n\nexport var translate = function translate(group, vec) {\n  group.translate(vec.x, vec.y);\n};\n/**\n * \n * @param group Group \n * @param point \n */\n\nexport var move = function move(group, point) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var bbox = group.getCanvasBBox();\n  var vx = point.x - bbox.minX;\n  var vy = point.y - bbox.minY;\n  var movedMatrix = transform(matrix, [['t', vx, vy]]);\n  group.setMatrix(movedMatrix);\n};\n/**\n *  group\n * @param group Group \n * @param point x  y \n */\n\nexport var scale = function scale(group, ratio) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  var scaleXY = ratio;\n\n  if (!isArray(ratio)) {\n    scaleXY = [ratio, ratio];\n  }\n\n  if (isArray(ratio) && ratio.length === 1) {\n    scaleXY = [ratio[0], ratio[0]];\n  }\n\n  matrix = transform(matrix, [['s', scaleXY[0], scaleXY[1]]]);\n  group.setMatrix(matrix);\n};\n/**\n *\n * @param group Group \n * @param ratio \n */\n\nexport var rotate = function rotate(group, angle) {\n  var matrix = group.getMatrix();\n\n  if (!matrix) {\n    matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n\n  matrix = transform(matrix, [['r', angle]]);\n  group.setMatrix(matrix);\n};\nexport var getDegree = function getDegree(n, nodeIdxMap, edges) {\n  var degrees = [];\n\n  for (var i = 0; i < n; i++) {\n    degrees[i] = 0;\n  }\n\n  edges.forEach(function (e) {\n    if (e.source) {\n      degrees[nodeIdxMap[e.source]] += 1;\n    }\n\n    if (e.target) {\n      degrees[nodeIdxMap[e.target]] += 1;\n    }\n  });\n  return degrees;\n}; // Qp1p2\n\nfunction onSegment(p1, p2, q) {\n  if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * P-. Borrow from https://github.com/antvis/util/blob/master/packages/path-util/src/point-in-polygon.ts\n * @param points\n * @param x\n * @param y\n */\n\n\nexport var isPointInPolygon = function isPointInPolygon(points, x, y) {\n  var isHit = false;\n  var n = points.length; // doubleeps\n\n  var tolerance = 1e-6;\n\n  function dcmp(xValue) {\n    if (Math.abs(xValue) < tolerance) {\n      return 0;\n    }\n\n    return xValue < 0 ? -1 : 1;\n  }\n\n  if (n <= 2) {\n    // svg  3 \n    return false;\n  }\n\n  for (var i = 0; i < n; i++) {\n    var p1 = points[i];\n    var p2 = points[(i + 1) % n];\n\n    if (onSegment(p1, p2, [x, y])) {\n      // \n      return true;\n    } // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    //    \n\n\n    if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {\n      isHit = !isHit;\n    }\n  }\n\n  return isHit;\n}; // BBox\n\nexport var intersectBBox = function intersectBBox(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n};\n\nvar lineIntersectPolygon = function lineIntersectPolygon(lines, line) {\n  var isIntersect = false;\n  each(lines, function (l) {\n    if (getLineIntersect(l.from, l.to, line.from, line.to)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n/**\n * polygon\n * borrow from @antv/path-util\n * @param points1 polygon1\n * @param points2 polygon2\n */\n\n\nexport var isPolygonsIntersect = function isPolygonsIntersect(points1, points2) {\n  var getBBox = function getBBox(points) {\n    var xArr = points.map(function (p) {\n      return p[0];\n    });\n    var yArr = points.map(function (p) {\n      return p[1];\n    });\n    return {\n      minX: Math.min.apply(null, xArr),\n      maxX: Math.max.apply(null, xArr),\n      minY: Math.min.apply(null, yArr),\n      maxY: Math.max.apply(null, yArr)\n    };\n  };\n\n  var parseToLines = function parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n\n    for (var i = 0; i < count - 1; i++) {\n      var point = points[i];\n      var next = points[i + 1];\n      lines.push({\n        from: {\n          x: point[0],\n          y: point[1]\n        },\n        to: {\n          x: next[0],\n          y: next[1]\n        }\n      });\n    }\n\n    if (lines.length > 1) {\n      var first = points[0];\n      var last = points[count - 1];\n      lines.push({\n        from: {\n          x: last[0],\n          y: last[1]\n        },\n        to: {\n          x: first[0],\n          y: first[1]\n        }\n      });\n    }\n\n    return lines;\n  }; //  false\n\n\n  if (points1.length < 2 || points2.length < 2) {\n    return false;\n  }\n\n  var bbox1 = getBBox(points1);\n  var bbox2 = getBBox(points2); // \n\n  if (!intersectBBox(bbox1, bbox2)) {\n    return false;\n  }\n\n  var isIn = false; // \n\n  each(points2, function (point) {\n    if (isPointInPolygon(points1, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  each(points1, function (point) {\n    if (isPointInPolygon(points2, point[0], point[1])) {\n      isIn = true;\n      return false;\n    }\n  });\n\n  if (isIn) {\n    return true;\n  }\n\n  var lines1 = parseToLines(points1);\n  var lines2 = parseToLines(points2);\n  var isIntersect = false;\n  each(lines2, function (line) {\n    if (lineIntersectPolygon(lines1, line)) {\n      isIntersect = true;\n      return false;\n    }\n  });\n  return isIntersect;\n};\n\nvar Line =\n/** @class */\nfunction () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  Line.prototype.getBBox = function () {\n    var minX = Math.min(this.x1, this.x2);\n    var minY = Math.min(this.y1, this.y2);\n    var maxX = Math.max(this.x1, this.x2);\n    var maxY = Math.max(this.y1, this.y2);\n    var res = {\n      x: minX,\n      y: minY,\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n    return res;\n  };\n\n  return Line;\n}();\n\nexport { Line };\nexport var getBBoxBoundLine = function getBBoxBoundLine(bbox, direction) {\n  var bounds = {\n    top: [bbox.minX, bbox.minY, bbox.maxX, bbox.minY],\n    left: [bbox.minX, bbox.minY, bbox.minX, bbox.maxY],\n    bottom: [bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY],\n    right: [bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY]\n  };\n  return bounds[direction];\n};\n/**\n * \n */\n\nvar fractionAlongLineA = function fractionAlongLineA(la, lb) {\n  var uaT = (lb.x2 - lb.x1) * (la.y1 - lb.y1) - (lb.y2 - lb.y1) * (la.x1 - lb.x1);\n  var ubT = (la.x2 - la.x1) * (la.y1 - lb.y1) - (la.y2 - la.y1) * (la.x1 - lb.x1);\n  var uB = (lb.y2 - lb.y1) * (la.x2 - la.x1) - (lb.x2 - lb.x1) * (la.y2 - la.y1);\n\n  if (uB) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return ua;\n    }\n  }\n\n  return Number.POSITIVE_INFINITY;\n};\n\nexport var itemIntersectByLine = function itemIntersectByLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var countIntersections = 0;\n  var intersections = [];\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    intersections[i] = getLineIntersect({\n      x: line.x1,\n      y: line.y1\n    }, {\n      x: line.x2,\n      y: line.y2\n    }, {\n      x: x1,\n      y: y1\n    }, {\n      x: x2,\n      y: y2\n    });\n\n    if (intersections[i]) {\n      countIntersections += 1;\n    }\n  }\n\n  return [intersections, countIntersections];\n};\nexport var fractionToLine = function fractionToLine(item, line) {\n  var directions = ['top', 'left', 'bottom', 'right'];\n  var bbox = item.getBBox();\n  var minDistance = Number.POSITIVE_INFINITY;\n  var countIntersections = 0;\n\n  for (var i = 0; i < 4; i++) {\n    var _a = getBBoxBoundLine(bbox, directions[i]),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    var testDistance = fractionAlongLineA(line, new Line(x1, y1, x2, y2));\n    testDistance = Math.abs(testDistance - 0.5);\n\n    if (testDistance >= 0 && testDistance <= 1) {\n      countIntersections += 1;\n      minDistance = testDistance < minDistance ? testDistance : minDistance;\n    }\n  }\n\n  if (countIntersections === 0) return -1;\n  return minDistance;\n};\nexport var getPointsCenter = function getPointsCenter(points) {\n  var centerX = 0;\n  var centerY = 0;\n\n  if (points.length > 0) {\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n      var point = points_1[_i];\n      centerX += point.x;\n      centerY += point.y;\n    }\n\n    centerX /= points.length;\n    centerY /= points.length;\n  }\n\n  return {\n    x: centerX,\n    y: centerY\n  };\n};\nexport var squareDist = function squareDist(a, b) {\n  return Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2);\n};\nexport var pointLineSquareDist = function pointLineSquareDist(point, line) {\n  var x1 = line.x1;\n  var y1 = line.y1;\n  var x2 = line.x2 - x1;\n  var y2 = line.y2 - y1;\n  var px = point.x - x1;\n  var py = point.y - y1;\n  var dotprod = px * x2 + py * y2;\n  var projlenSq;\n\n  if (dotprod <= 0) {\n    projlenSq = 0;\n  } else {\n    px = x2 - px;\n    py = y2 - py;\n    dotprod = px * x2 + py * y2;\n\n    if (dotprod <= 0) {\n      projlenSq = 0;\n    } else {\n      projlenSq = dotprod * dotprod / (x2 * x2 + y2 * y2);\n    }\n  }\n\n  var lenSq = px * px + py * py - projlenSq;\n\n  if (lenSq < 0) {\n    lenSq = 0;\n  }\n\n  return lenSq;\n};\nexport var isPointsOverlap = function isPointsOverlap(p1, p2, e) {\n  if (e === void 0) {\n    e = 1e-3;\n  }\n\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) < Math.pow(e, 2);\n};\n/**\n * 0\n * @param point IPoint\n * @param rect IRect\n */\n\nexport var pointRectSquareDist = function pointRectSquareDist(point, rect) {\n  var isLeft = point.x < rect.x;\n  var isRight = point.x > rect.x + rect.width;\n  var isTop = point.y > rect.y + rect.height;\n  var isBottom = point.y < rect.y;\n  var isPointOutside = isLeft || isRight || isTop || isBottom;\n\n  if (!isPointOutside) {\n    return 0;\n  }\n\n  if (isTop && !isLeft && !isRight) {\n    return Math.pow(rect.y + rect.height - point.y, 2);\n  }\n\n  if (isBottom && !isLeft && !isRight) {\n    return Math.pow(point.y - rect.y, 2);\n  }\n\n  if (isLeft && !isTop && !isBottom) {\n    return Math.pow(rect.x - point.x, 2);\n  }\n\n  if (isRight && !isTop && !isBottom) {\n    return Math.pow(rect.x + rect.width - point.x, 2);\n  }\n\n  var dx = Math.min(Math.abs(rect.x - point.x), Math.abs(rect.x + rect.width - point.x));\n  var dy = Math.min(Math.abs(rect.y - point.y), Math.abs(rect.y + rect.height - point.y));\n  return dx * dx + dy * dy;\n};\n/**\n * point to line distance\n * @param  {array} line  [x1, y1, x2, y2]\n * @param  {object} point  {x, y}\n * @return {Number|NaN} distance\n */\n\nexport var pointLineDistance = function pointLineDistance(line, point) {\n  var x1 = line[0],\n      y1 = line[1],\n      x2 = line[2],\n      y2 = line[3];\n  var x = point.x,\n      y = point.y;\n  var d = [x2 - x1, y2 - y1];\n\n  if (vec2.exactEquals(d, [0, 0])) {\n    return NaN;\n  }\n\n  var u = [-d[1], d[0]]; // @ts-ignore\n\n  vec2.normalize(u, u);\n  var a = [x - x1, y - y1]; // @ts-ignore\n\n  return Math.abs(vec2.dot(a, u));\n};","var subjectColor = 'rgb(95, 149, 255)';\nvar backColor = 'rgb(255, 255, 255)';\nvar textColor = 'rgb(0, 0, 0)';\nvar activeFill = 'rgb(247, 250, 255)';\nvar nodeMainFill = 'rgb(239, 244, 255)';\nvar comboFill = 'rgb(253, 253, 253)';\nvar disabledFill = 'rgb(250, 250, 250)';\nvar edgeMainStroke = 'rgb(224, 224, 224)';\nvar edgeInactiveStroke = 'rgb(234, 234, 234)';\nvar edgeDisablesStroke = 'rgb(245, 245, 245)';\nvar inactiveStroke = 'rgb(191, 213, 255)';\nvar highlightStroke = '#4572d9';\nvar highlightFill = 'rgb(223, 234, 255)';\nvar colorSet = {\n  // for nodes\n  mainStroke: subjectColor,\n  mainFill: nodeMainFill,\n  activeStroke: subjectColor,\n  activeFill: activeFill,\n  inactiveStroke: inactiveStroke,\n  inactiveFill: activeFill,\n  selectedStroke: subjectColor,\n  selectedFill: backColor,\n  highlightStroke: highlightStroke,\n  highlightFill: highlightFill,\n  disableStroke: edgeMainStroke,\n  disableFill: disabledFill,\n  // for edges\n  edgeMainStroke: edgeMainStroke,\n  edgeActiveStroke: subjectColor,\n  edgeInactiveStroke: edgeInactiveStroke,\n  edgeSelectedStroke: subjectColor,\n  edgeHighlightStroke: subjectColor,\n  edgeDisableStroke: edgeDisablesStroke,\n  // for combos\n  comboMainStroke: edgeMainStroke,\n  comboMainFill: comboFill,\n  comboActiveStroke: subjectColor,\n  comboActiveFill: activeFill,\n  comboInactiveStroke: edgeMainStroke,\n  comboInactiveFill: comboFill,\n  comboSelectedStroke: subjectColor,\n  comboSelectedFill: comboFill,\n  comboHighlightStroke: highlightStroke,\n  comboHighlightFill: comboFill,\n  comboDisableStroke: edgeInactiveStroke,\n  comboDisableFill: disabledFill\n};\nexport default {\n  version: '0.0.2',\n  rootContainerClassName: 'root-container',\n  nodeContainerClassName: 'node-container',\n  edgeContainerClassName: 'edge-container',\n  comboContainerClassName: 'combo-container',\n  delegateContainerClassName: 'delegate-container',\n  defaultLoopPosition: 'top',\n  nodeLabel: {\n    style: {\n      fill: '#000',\n      fontSize: 12,\n      textAlign: 'center',\n      textBaseline: 'middle'\n    },\n    offset: 4 // \n\n  },\n  defaultNode: {\n    type: 'circle',\n    style: {\n      lineWidth: 1,\n      stroke: colorSet.mainStroke,\n      fill: nodeMainFill\n    },\n    size: 20,\n    color: colorSet.mainStroke,\n    linkPoints: {\n      size: 8,\n      lineWidth: 1,\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke\n    }\n  },\n  //  activeselectedhighlightinactivedisable\n  nodeStateStyles: {\n    active: {\n      fill: colorSet.activeFill,\n      stroke: colorSet.activeStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.mainStroke,\n      shadowBlur: 10\n    },\n    selected: {\n      fill: colorSet.selectedFill,\n      stroke: colorSet.selectedStroke,\n      lineWidth: 4,\n      shadowColor: colorSet.selectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      fill: colorSet.highlightFill,\n      stroke: colorSet.highlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      fill: colorSet.inactiveFill,\n      stroke: colorSet.inactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      fill: colorSet.disableFill,\n      stroke: colorSet.disableStroke,\n      lineWidth: 1\n    }\n  },\n  edgeLabel: {\n    style: {\n      fill: textColor,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    }\n  },\n  defaultEdge: {\n    type: 'line',\n    size: 1,\n    style: {\n      stroke: colorSet.edgeMainStroke,\n      lineAppendWidth: 2\n    },\n    color: colorSet.edgeMainStroke\n  },\n  //  activeselectedhighlightinactivedisable\n  edgeStateStyles: {\n    active: {\n      stroke: colorSet.edgeActiveStroke,\n      lineWidth: 1\n    },\n    selected: {\n      stroke: colorSet.edgeSelectedStroke,\n      lineWidth: 2,\n      shadowColor: colorSet.edgeSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.edgeHighlightStroke,\n      lineWidth: 2,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.edgeInactiveStroke,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.edgeDisableStroke,\n      lineWidth: 1\n    }\n  },\n  comboLabel: {\n    style: {\n      fill: textColor,\n      // textAlign: 'center',\n      textBaseline: 'middle',\n      fontSize: 12\n    },\n    refY: 10,\n    refX: 10 // Combo \n\n  },\n  defaultCombo: {\n    type: 'circle',\n    style: {\n      fill: colorSet.comboMainFill,\n      lineWidth: 1,\n      stroke: colorSet.comboMainStroke,\n      r: 5,\n      width: 20,\n      height: 10\n    },\n    size: [20, 5],\n    color: colorSet.comboMainStroke,\n    padding: [25, 20, 15, 20]\n  },\n  // combo  activeselectedhighlightinactivedisable\n  comboStateStyles: {\n    active: {\n      stroke: colorSet.comboActiveStroke,\n      lineWidth: 1,\n      fill: colorSet.comboActiveFill\n    },\n    selected: {\n      stroke: colorSet.comboSelectedStroke,\n      lineWidth: 2,\n      fill: colorSet.comboSelectedFill,\n      shadowColor: colorSet.comboSelectedStroke,\n      shadowBlur: 10,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    highlight: {\n      stroke: colorSet.comboHighlightStroke,\n      lineWidth: 2,\n      fill: colorSet.comboHighlightFill,\n      'text-shape': {\n        fontWeight: 500\n      }\n    },\n    inactive: {\n      stroke: colorSet.comboInactiveStroke,\n      fill: colorSet.comboInactiveFill,\n      lineWidth: 1\n    },\n    disable: {\n      stroke: colorSet.comboDisableStroke,\n      fill: colorSet.comboDisableFill,\n      lineWidth: 1\n    }\n  },\n  delegateStyle: {\n    fill: '#F3F9FF',\n    fillOpacity: 0.5,\n    stroke: '#1890FF',\n    strokeOpacity: 0.9,\n    lineDash: [5, 5]\n  }\n};","export default {\n  ' ': 0.3329986572265625,\n  a: 0.5589996337890625,\n  A: 0.6569992065429687,\n  b: 0.58599853515625,\n  B: 0.6769989013671875,\n  c: 0.5469985961914062,\n  C: 0.7279998779296875,\n  d: 0.58599853515625,\n  D: 0.705999755859375,\n  e: 0.554998779296875,\n  E: 0.63699951171875,\n  f: 0.37299957275390627,\n  F: 0.5769989013671875,\n  g: 0.5909988403320312,\n  G: 0.7479995727539063,\n  h: 0.555999755859375,\n  H: 0.7199996948242188,\n  i: 0.255999755859375,\n  I: 0.23699951171875,\n  j: 0.26699981689453123,\n  J: 0.5169998168945312,\n  k: 0.5289993286132812,\n  K: 0.6899993896484375,\n  l: 0.23499908447265624,\n  L: 0.5879989624023437,\n  m: 0.854998779296875,\n  M: 0.8819992065429687,\n  n: 0.5589996337890625,\n  N: 0.7189987182617188,\n  o: 0.58599853515625,\n  O: 0.7669998168945312,\n  p: 0.58599853515625,\n  P: 0.6419998168945312,\n  q: 0.58599853515625,\n  Q: 0.7669998168945312,\n  r: 0.3649993896484375,\n  R: 0.6759994506835938,\n  s: 0.504998779296875,\n  S: 0.6319992065429687,\n  t: 0.354998779296875,\n  T: 0.6189987182617187,\n  u: 0.5599990844726562,\n  U: 0.7139999389648437,\n  v: 0.48199920654296874,\n  V: 0.6389999389648438,\n  w: 0.754998779296875,\n  W: 0.929998779296875,\n  x: 0.5089996337890625,\n  X: 0.63699951171875,\n  y: 0.4959991455078125,\n  Y: 0.66199951171875,\n  z: 0.48699951171875,\n  Z: 0.6239990234375,\n  '0': 0.6,\n  '1': 0.40099945068359377,\n  '2': 0.6,\n  '3': 0.6,\n  '4': 0.6,\n  '5': 0.6,\n  '6': 0.6,\n  '7': 0.5469985961914062,\n  '8': 0.6,\n  '9': 0.6,\n  '[': 0.3329986572265625,\n  ']': 0.3329986572265625,\n  ',': 0.26399993896484375,\n  '.': 0.26399993896484375,\n  ';': 0.26399993896484375,\n  ':': 0.26399993896484375,\n  '{': 0.3329986572265625,\n  '}': 0.3329986572265625,\n  '\\\\': 0.5,\n  '|': 0.19499969482421875,\n  '=': 0.604998779296875,\n  '+': 0.604998779296875,\n  '-': 0.604998779296875,\n  _: 0.5,\n  '`': 0.3329986572265625,\n  ' ~': 0.8329986572265625,\n  '!': 0.3329986572265625,\n  '@': 0.8579986572265625,\n  '#': 0.6,\n  $: 0.6,\n  '%': 0.9699996948242188,\n  '^': 0.517999267578125,\n  '&': 0.7259994506835937,\n  '*': 0.505999755859375,\n  '(': 0.3329986572265625,\n  ')': 0.3329986572265625,\n  '<': 0.604998779296875,\n  '>': 0.604998779296875,\n  '/': 0.5,\n  '?': 0.53699951171875\n};","import { __assign } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport Global from '../global';\nimport { applyMatrix } from './math';\nimport letterAspectRatio from './letterAspectRatio';\nimport { isString, clone, isNumber, isObject } from '@antv/util';\nvar PI = Math.PI,\n    sin = Math.sin,\n    cos = Math.cos; // 84522.5\n\nvar SELF_LINK_SIN = sin(PI / 8);\nvar SELF_LINK_COS = cos(PI / 8);\nexport var getBBox = function getBBox(element, group) {\n  var bbox = element.getBBox();\n  var leftTop = {\n    x: bbox.minX,\n    y: bbox.minY\n  };\n  var rightBottom = {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }; // \n\n  if (group) {\n    var matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    leftTop = applyMatrix(leftTop, matrix);\n    rightBottom = applyMatrix(rightBottom, matrix);\n  }\n\n  var lx = leftTop.x,\n      ly = leftTop.y;\n  var rx = rightBottom.x,\n      ry = rightBottom.y;\n  return {\n    x: lx,\n    y: ly,\n    minX: lx,\n    minY: ly,\n    maxX: rx,\n    maxY: ry,\n    width: rx - lx,\n    height: ry - ly\n  };\n};\n/**\n * get loop edge config\n * @param cfg edge config\n */\n\nexport var getLoopCfgs = function getLoopCfgs(cfg) {\n  var item = cfg.sourceNode || cfg.targetNode;\n  var container = item.get('group');\n  var containerMatrix = container.getMatrix();\n  if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  var keyShape = item.getKeyShape();\n  var bbox = keyShape.getBBox();\n  var loopCfg = cfg.loopCfg || {}; // keyShape\n\n  var dist = loopCfg.dist || Math.max(bbox.width, bbox.height) * 2; // keyShape\n\n  var position = loopCfg.position || Global.defaultLoopPosition; // group\n\n  var center = [containerMatrix[6], containerMatrix[7]];\n  var startPoint = [cfg.startPoint.x, cfg.startPoint.y];\n  var endPoint = [cfg.endPoint.x, cfg.endPoint.y];\n  var rstart = bbox.height / 2;\n  var rend = bbox.height / 2;\n  var sinDeltaStart = rstart * SELF_LINK_SIN;\n  var cosDeltaStart = rstart * SELF_LINK_COS;\n  var sinDeltaEnd = rend * SELF_LINK_SIN;\n  var cosDeltaEnd = rend * SELF_LINK_COS; //  cfg \n\n  if (startPoint[0] === endPoint[0] && startPoint[1] === endPoint[1]) {\n    switch (position) {\n      case 'top':\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      case 'top-right':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'right':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] + cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'bottom-right':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom':\n        rstart = bbox.height / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] + sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] + cosDeltaEnd];\n        break;\n\n      case 'bottom-left':\n        rstart = bbox.height / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] + cosDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] + sinDeltaEnd];\n        break;\n\n      case 'left':\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] + sinDeltaStart];\n        endPoint = [center[0] - cosDeltaEnd, center[1] - sinDeltaEnd];\n        break;\n\n      case 'top-left':\n        rstart = bbox.width / 2;\n        rend = bbox.height / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - cosDeltaStart, center[1] - sinDeltaStart];\n        endPoint = [center[0] - sinDeltaEnd, center[1] - cosDeltaEnd];\n        break;\n\n      default:\n        rstart = bbox.width / 2;\n        rend = bbox.width / 2;\n        sinDeltaStart = rstart * SELF_LINK_SIN;\n        cosDeltaStart = rstart * SELF_LINK_COS;\n        sinDeltaEnd = rend * SELF_LINK_SIN;\n        cosDeltaEnd = rend * SELF_LINK_COS;\n        startPoint = [center[0] - sinDeltaStart, center[1] - cosDeltaStart];\n        endPoint = [center[0] + sinDeltaEnd, center[1] - cosDeltaEnd];\n    } // \n\n\n    if (loopCfg.clockwise === false) {\n      var swap = [startPoint[0], startPoint[1]];\n      startPoint = [endPoint[0], endPoint[1]];\n      endPoint = [swap[0], swap[1]];\n    }\n  }\n\n  var startVec = [startPoint[0] - center[0], startPoint[1] - center[1]];\n  var scaleRateStart = (rstart + dist) / rstart;\n  var scaleRateEnd = (rend + dist) / rend;\n\n  if (loopCfg.clockwise === false) {\n    scaleRateStart = (rend + dist) / rend;\n    scaleRateEnd = (rstart + dist) / rstart;\n  }\n\n  var startExtendVec = vec2.scale([0, 0], startVec, scaleRateStart);\n  var controlPoint1 = [center[0] + startExtendVec[0], center[1] + startExtendVec[1]];\n  var endVec = [endPoint[0] - center[0], endPoint[1] - center[1]];\n  var endExtendVec = vec2.scale([0, 0], endVec, scaleRateEnd);\n  var controlPoint2 = [center[0] + endExtendVec[0], center[1] + endExtendVec[1]];\n  cfg.startPoint = {\n    x: startPoint[0],\n    y: startPoint[1]\n  };\n  cfg.endPoint = {\n    x: endPoint[0],\n    y: endPoint[1]\n  };\n  cfg.controlPoints = [{\n    x: controlPoint1[0],\n    y: controlPoint1[1]\n  }, {\n    x: controlPoint2[0],\n    y: controlPoint2[1]\n  }];\n  return cfg;\n};\n/**\n *  label  label \n * @param {object}  pathShape  G  path  Edge  keyShape\n * @param {number}  percent     0 - 1 \n * @param {number}  refX     x  label \n * @param {number}  refY     y  label \n * @param {boolean} rotate     \n * @return {object}  x, y, \n */\n\nexport var getLabelPosition = function getLabelPosition(pathShape, percent, refX, refY, rotate) {\n  var TAN_OFFSET = 0.0001;\n  var vector = [];\n  var point = pathShape.getPoint(percent);\n\n  if (point === null) {\n    return {\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  } //  g path \n\n\n  if (percent < TAN_OFFSET) {\n    vector = pathShape.getStartTangent().reverse();\n  } else if (percent > 1 - TAN_OFFSET) {\n    vector = pathShape.getEndTangent();\n  } else {\n    // ,\n    var offsetPoint = pathShape.getPoint(percent + TAN_OFFSET);\n    vector.push([point.x, point.y]);\n    vector.push([offsetPoint.x, offsetPoint.y]);\n  }\n\n  var rad = Math.atan2(vector[1][1] - vector[0][1], vector[1][0] - vector[0][0]);\n\n  if (rad < 0) {\n    rad += PI * 2;\n  }\n\n  if (refX) {\n    point.x += cos(rad) * refX;\n    point.y += sin(rad) * refX;\n  }\n\n  if (refY) {\n    //  x   - 90\n    var normal = rad - PI / 2; //  y  refY  y \n\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      normal -= PI;\n    }\n\n    point.x += cos(normal) * refY;\n    point.y += sin(normal) * refY;\n  }\n\n  var result = {\n    x: point.x,\n    y: point.y,\n    angle: rad\n  };\n\n  if (rotate) {\n    if (rad > 1 / 2 * PI && rad < 3 * 1 / 2 * PI) {\n      rad -= PI;\n    }\n\n    return __assign({\n      rotate: rad\n    }, result);\n  }\n\n  return result;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\nvar traverse = function traverse(data, fn) {\n  if (fn(data) === false) {\n    return false;\n  }\n\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverse(data.children[i], fn)) return false;\n    }\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nvar traverseUp = function traverseUp(data, fn) {\n  if (data && data.children) {\n    for (var i = data.children.length - 1; i >= 0; i--) {\n      if (!traverseUp(data.children[i], fn)) return;\n    }\n  }\n\n  if (fn(data) === false) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * depth first traverse, from root to leaves, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\n\n\nexport var traverseTree = function traverseTree(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverse(data, fn);\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\n\nexport var traverseTreeUp = function traverseTreeUp(data, fn) {\n  if (typeof fn !== 'function') {\n    return;\n  }\n\n  traverseUp(data, fn);\n};\n/**\n *\n * @param letter the letter\n * @param fontSize\n * @return the letter's width\n */\n\nexport var getLetterWidth = function getLetterWidth(letter, fontSize) {\n  return fontSize * (letterAspectRatio[letter] || 1);\n};\n/**\n *\n * @param text the text\n * @param fontSize\n * @return the text's size\n */\n\nexport var getTextSize = function getTextSize(text, fontSize) {\n  var width = 0;\n  var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n  text.split('').forEach(function (letter) {\n    if (pattern.test(letter)) {\n      // \n      width += fontSize;\n    } else {\n      width += getLetterWidth(letter, fontSize);\n    }\n  });\n  return [width, fontSize];\n};\n/**\n * construct the trees from combos data\n * @param array the combos array\n * @param nodes the nodes array\n * @return the tree\n */\n\nexport var plainCombosToTrees = function plainCombosToTrees(array, nodes) {\n  var result = [];\n  var addedMap = {};\n  var modelMap = {};\n  array.forEach(function (d) {\n    modelMap[d.id] = d;\n  });\n  array.forEach(function (d, i) {\n    var cd = clone(d);\n    cd.itemType = 'combo';\n    cd.children = undefined;\n\n    if (cd.parentId === cd.id) {\n      console.warn(\"The parentId for combo \".concat(cd.id, \" can not be the same as the combo's id\"));\n      delete cd.parentId;\n    } else if (cd.parentId && !modelMap[cd.parentId]) {\n      console.warn(\"The parent combo for combo \".concat(cd.id, \" does not exist!\"));\n      delete cd.parentId;\n    }\n\n    var mappedObj = addedMap[cd.id];\n\n    if (mappedObj) {\n      cd.children = mappedObj.children;\n      addedMap[cd.id] = cd;\n      mappedObj = cd;\n\n      if (!mappedObj.parentId) {\n        result.push(mappedObj);\n        return;\n      }\n\n      var mappedParent = addedMap[mappedObj.parentId];\n\n      if (mappedParent) {\n        if (mappedParent.children) mappedParent.children.push(cd);else mappedParent.children = [cd];\n      } else {\n        var parent_1 = {\n          id: mappedObj.parentId,\n          children: [mappedObj]\n        };\n        addedMap[mappedObj.parentId] = parent_1;\n        addedMap[cd.id] = cd;\n      }\n\n      return;\n    }\n\n    if (isString(d.parentId)) {\n      var parent_2 = addedMap[d.parentId];\n\n      if (parent_2) {\n        if (parent_2.children) parent_2.children.push(cd);else parent_2.children = [cd];\n        addedMap[cd.id] = cd;\n      } else {\n        var pa = {\n          id: d.parentId,\n          children: [cd]\n        };\n        addedMap[pa.id] = pa;\n        addedMap[cd.id] = cd;\n      }\n    } else {\n      result.push(cd);\n      addedMap[cd.id] = cd;\n    }\n  }); // proccess the nodes\n\n  var nodeMap = {};\n  (nodes || []).forEach(function (node) {\n    nodeMap[node.id] = node;\n    var combo = addedMap[node.comboId];\n\n    if (combo) {\n      var cnode = {\n        id: node.id,\n        comboId: node.comboId\n      };\n      if (combo.children) combo.children.push(cnode);else combo.children = [cnode];\n      cnode.itemType = 'node';\n      addedMap[node.id] = cnode;\n    }\n  }); // assign the depth for each element\n\n  var maxDepth = 0;\n  result.forEach(function (tree) {\n    tree.depth = maxDepth + 10;\n    traverse(tree, function (child) {\n      var parent;\n      var itemType = addedMap[child.id].itemType;\n\n      if (itemType === 'node') {\n        parent = addedMap[child.comboId];\n      } else {\n        parent = addedMap[child.parentId];\n      }\n\n      if (parent) {\n        if (itemType === 'node') child.depth = maxDepth + 1;else child.depth = maxDepth + 10;\n      } else {\n        child.depth = maxDepth + 10;\n      }\n\n      if (maxDepth < child.depth) maxDepth = child.depth;\n      var oriNodeModel = nodeMap[child.id];\n\n      if (oriNodeModel) {\n        oriNodeModel.depth = child.depth;\n      }\n\n      return true;\n    });\n  });\n  return result;\n};\nexport var reconstructTree = function reconstructTree(trees, subtreeId, newParentId) {\n  var brothers = trees;\n  var subtree;\n  var comboChildsMap = {\n    root: {\n      children: trees\n    }\n  };\n  var foundSubTree = false;\n  var oldParentId = 'root';\n  (trees || []).forEach(function (tree) {\n    if (foundSubTree) return;\n\n    if (tree.id === subtreeId) {\n      subtree = tree;\n\n      if (tree.itemType === 'combo') {\n        subtree.parentId = newParentId;\n      } else {\n        subtree.comboId = newParentId;\n      }\n\n      foundSubTree = true;\n      return;\n    }\n\n    traverseTree(tree, function (child) {\n      comboChildsMap[child.id] = {\n        children: child.children\n      }; // store the old parent id to delete the subtree from the old parent's children in next recursion\n\n      brothers = comboChildsMap[child.parentId || child.comboId || 'root'].children;\n\n      if (child && (child.removed || subtreeId === child.id) && brothers) {\n        oldParentId = child.parentId || child.comboId || 'root';\n        subtree = child; // re-assign the parentId or comboId for the moved subtree\n\n        if (child.itemType === 'combo') {\n          subtree.parentId = newParentId;\n        } else {\n          subtree.comboId = newParentId;\n        }\n\n        foundSubTree = true;\n        return false;\n      }\n\n      return true;\n    });\n  });\n  brothers = comboChildsMap[oldParentId].children;\n  var index = brothers ? brothers.indexOf(subtree) : -1;\n  if (index > -1) brothers.splice(index, 1); // \n\n  if (!foundSubTree) {\n    subtree = {\n      id: subtreeId,\n      itemType: 'node',\n      comboId: newParentId\n    };\n    comboChildsMap[subtreeId] = {\n      children: undefined\n    };\n  } // append to new parent\n\n\n  if (subtreeId) {\n    var found_1 = false; // newParentId is undefined means the subtree will have no parent\n\n    if (newParentId) {\n      var newParentDepth_1 = 0;\n      (trees || []).forEach(function (tree) {\n        if (found_1) return; // terminate\n\n        traverseTree(tree, function (child) {\n          // append subtree to the new parent ans assign the depth to the subtree\n          if (newParentId === child.id) {\n            found_1 = true;\n            if (child.children) child.children.push(subtree);else child.children = [subtree];\n            newParentDepth_1 = child.depth;\n            if (subtree.itemType === 'node') subtree.depth = newParentDepth_1 + 2;else subtree.depth = newParentDepth_1 + 1;\n            return false; // terminate\n          }\n\n          return true;\n        });\n      });\n    } else if ((!newParentId || !found_1) && subtree.itemType !== 'node') {\n      // if the newParentId is undefined or it is not found in the tree, add the subTree to the root\n      trees.push(subtree);\n    } // update the depth of the subtree and its children from the subtree\n\n\n    var currentDepth_1 = subtree.depth;\n    traverseTree(subtree, function (child) {\n      if (child.itemType === 'node') currentDepth_1 += 2;else currentDepth_1 += 1;\n      child.depth = currentDepth_1;\n      return true;\n    });\n  }\n\n  return trees;\n};\nexport var getComboBBox = function getComboBBox(children, graph) {\n  var comboBBox = {\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity,\n    x: undefined,\n    y: undefined,\n    width: undefined,\n    height: undefined,\n    centerX: undefined,\n    centerY: undefined\n  };\n\n  if (!children || children.length === 0) {\n    return comboBBox;\n  }\n\n  children.forEach(function (child) {\n    var childItem = graph.findById(child.id);\n    if (!childItem || !childItem.isVisible()) return; // ignore hidden children\n\n    childItem.set('bboxCanvasCache', undefined);\n    var childBBox = childItem.getCanvasBBox();\n    if (childBBox.x && comboBBox.minX > childBBox.minX) comboBBox.minX = childBBox.minX;\n    if (childBBox.y && comboBBox.minY > childBBox.minY) comboBBox.minY = childBBox.minY;\n    if (childBBox.x && comboBBox.maxX < childBBox.maxX) comboBBox.maxX = childBBox.maxX;\n    if (childBBox.y && comboBBox.maxY < childBBox.maxY) comboBBox.maxY = childBBox.maxY;\n  });\n  comboBBox.x = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.y = (comboBBox.minY + comboBBox.maxY) / 2;\n  comboBBox.width = comboBBox.maxX - comboBBox.minX;\n  comboBBox.height = comboBBox.maxY - comboBBox.minY;\n  comboBBox.centerX = (comboBBox.minX + comboBBox.maxX) / 2;\n  comboBBox.centerY = (comboBBox.minY + comboBBox.maxY) / 2;\n  Object.keys(comboBBox).forEach(function (key) {\n    if (comboBBox[key] === Infinity || comboBBox[key] === -Infinity) {\n      comboBBox[key] = undefined;\n    }\n  });\n  return comboBBox;\n};\nexport var shouldRefreshEdge = function shouldRefreshEdge(cfg) {\n  var refreshEdge = isNumber(cfg.x) || isNumber(cfg.y) || cfg.type || cfg.anchorPoints || cfg.size;\n  if (cfg.style) refreshEdge = refreshEdge || isNumber(cfg.style.r) || isNumber(cfg.style.width) || isNumber(cfg.style.height) || isNumber(cfg.style.rx) || isNumber(cfg.style.ry);\n  return refreshEdge;\n};\nexport var cloneBesidesImg = function cloneBesidesImg(obj) {\n  var clonedObj = {};\n  Object.keys(obj).forEach(function (key1) {\n    var obj2 = obj[key1];\n\n    if (isObject(obj2)) {\n      var clonedObj2_1 = {};\n      Object.keys(obj2).forEach(function (key2) {\n        var v = obj2[key2];\n        if (key2 === 'img' && !isString(v)) return;\n        clonedObj2_1[key2] = clone(v);\n      });\n      clonedObj[key1] = clonedObj2_1;\n    } else {\n      clonedObj[key1] = clone(obj2);\n    }\n  });\n  return clonedObj;\n};","import { __spreadArray } from \"tslib\";\nimport { isString } from '@antv/util';\nimport { traverseTree } from './graphic';\n/**\n * \n * 1. \n * 2.  ID  123  '123' \n * 3.  source  target  ID \n * @param data \n * @return boolean  true false\n */\n\nexport var dataValidation = function dataValidation(data) {\n  // 1. \n  if (!data) {\n    console.error('G6 Error Tips: the data must be defined');\n    return false;\n  } // 2.  ID \n\n\n  var nodes = data.nodes,\n      edges = data.edges,\n      _a = data.combos,\n      combos = _a === void 0 ? [] : _a;\n\n  if (!nodes && !edges) {\n    var validated_1 = true; //  nodes  edges TreeGraphData TreeGraphData \n\n    traverseTree(data, function (param) {\n      if (!isString(param.id)) {\n        validated_1 = false;\n        return false;\n      }\n\n      return true;\n    });\n    return validated_1;\n  }\n\n  var nonNode = (nodes || []).find(function (node) {\n    return !isString(node.id);\n  });\n\n  if (nonNode) {\n    console.warn(\"G6 Warning Tips: missing 'id' property, or %c\".concat(nonNode.id, \"%c is not a string.\"), 'font-size: 20px; color: red;', '');\n    return false;\n  } // 3.  source  target   Combo\n\n\n  var nodeIds = (nodes || []).map(function (node) {\n    return node.id;\n  });\n  var comboIds = combos.map(function (combo) {\n    return combo.id;\n  });\n\n  var ids = __spreadArray(__spreadArray([], nodeIds, true), comboIds, true);\n\n  var nonEdges = (edges || []).find(function (edge) {\n    return !ids.includes(edge.source) || !ids.includes(edge.target);\n  });\n\n  if (nonEdges) {\n    console.warn(\"G6 Warning Tips: The source %c\".concat(nonEdges.source, \"%c or the target %c\").concat(nonEdges.target, \"%c of the edge do not exist in the nodes or combos.\"), 'font-size: 20px; color: red;', '', 'font-size: 20px; color: red;', '');\n    return false;\n  }\n\n  return true;\n};\n/**\n * combo\n * @param type combo\n * @param data \n * @return boolean  true false\n */\n\nexport var singleDataValidation = function singleDataValidation(type, data) {\n  if (type === 'node' || type === 'combo') {\n    //  id id\n    if (data.id && !isString(data.id)) {\n      console.warn(\"G6 Warning Tips: missing 'id' property, or the 'id' %c\".concat(data.id, \"%c is not a string.\"), 'font-size: 20px; color: red;', '');\n      return false;\n    }\n  } else if (type === 'edge') {\n    //  source  target \n    if (!data.source || !data.target) {\n      console.warn(\"G6 Warning Tips: missing 'source' or 'target' for the edge.\");\n      return false;\n    }\n  }\n\n  return true;\n};","import { each, isArray, isString } from '@antv/util';\nimport Behavior from '../../behavior/behavior';\n\nvar ModeController =\n/** @class */\nfunction () {\n  function ModeController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.modes = graph.get('modes') || {\n      default: []\n    };\n    this.formatModes();\n    this.mode = graph.get('defaultMode') || 'default';\n    this.currentBehaves = [];\n    this.setMode(this.mode);\n  }\n\n  ModeController.prototype.formatModes = function () {\n    var modes = this.modes;\n    each(modes, function (mode) {\n      each(mode, function (behavior, i) {\n        if (isString(behavior)) {\n          mode[i] = {\n            type: behavior\n          };\n        }\n      });\n    });\n  };\n\n  ModeController.prototype.setBehaviors = function (mode) {\n    var graph = this.graph;\n    var behaviors = this.modes[mode];\n    var behaves = [];\n    var behave;\n    each(behaviors || [], function (behavior) {\n      var BehaviorInstance = Behavior.getBehavior(behavior.type || behavior);\n\n      if (!BehaviorInstance) {\n        return;\n      }\n\n      behave = new BehaviorInstance(behavior);\n\n      if (behave) {\n        behave.bind(graph);\n        behaves.push(behave);\n      }\n    });\n    this.currentBehaves = behaves;\n  };\n\n  ModeController.mergeBehaviors = function (modeBehaviors, behaviors) {\n    each(behaviors, function (behavior) {\n      if (modeBehaviors.indexOf(behavior) < 0) {\n        if (isString(behavior)) {\n          behavior = {\n            type: behavior\n          };\n        }\n\n        modeBehaviors.push(behavior);\n      }\n    });\n    return modeBehaviors;\n  };\n\n  ModeController.filterBehaviors = function (modeBehaviors, behaviors) {\n    var result = [];\n    modeBehaviors.forEach(function (behavior) {\n      var type = '';\n\n      if (isString(behavior)) {\n        type = behavior;\n      } else {\n        // eslint-disable-next-line prefer-destructuring\n        type = behavior.type;\n      }\n\n      if (behaviors.indexOf(type) < 0) {\n        result.push(behavior);\n      }\n    });\n    return result;\n  };\n\n  ModeController.prototype.setMode = function (mode) {\n    var _a = this,\n        modes = _a.modes,\n        graph = _a.graph;\n\n    var current = mode;\n    var behaviors = modes[current];\n\n    if (!behaviors) {\n      return;\n    }\n\n    graph.emit('beforemodechange', {\n      mode: mode\n    });\n    each(this.currentBehaves, function (behave) {\n      if (behave.delegate) behave.delegate.remove();\n      behave.unbind(graph);\n    });\n    this.setBehaviors(current);\n    graph.emit('aftermodechange', {\n      mode: mode\n    });\n    this.mode = mode;\n  };\n\n  ModeController.prototype.getMode = function () {\n    return this.mode;\n  };\n  /**\n   *  Behavior\n   *\n   * @param {ModeType[]} behaviors\n   * @param {(ModeType[] | ModeType)} modes\n   * @param {boolean} isAdd\n   * @returns {Mode}\n   * @memberof Mode\n   */\n\n\n  ModeController.prototype.manipulateBehaviors = function (behaviors, modes, isAdd) {\n    var _this = this;\n\n    var behaves;\n\n    if (!isArray(behaviors)) {\n      behaves = [behaviors];\n    } else {\n      behaves = behaviors;\n    }\n\n    if (isArray(modes)) {\n      each(modes, function (mode) {\n        if (!_this.modes[mode]) {\n          if (isAdd) {\n            _this.modes[mode] = behaves;\n          }\n        } else if (isAdd) {\n          _this.modes[mode] = ModeController.mergeBehaviors(_this.modes[mode] || [], behaves);\n        } else {\n          _this.modes[mode] = ModeController.filterBehaviors(_this.modes[mode] || [], behaves);\n        }\n      });\n      return this;\n    }\n\n    var currentMode = modes;\n\n    if (!modes) {\n      currentMode = this.mode; // isString(this.mode) ? this.mode : this.mode.type\n    }\n\n    if (!this.modes[currentMode]) {\n      if (isAdd) {\n        this.modes[currentMode] = behaves;\n      }\n    }\n\n    if (isAdd) {\n      this.modes[currentMode] = ModeController.mergeBehaviors(this.modes[currentMode] || [], behaves);\n    } else {\n      this.modes[currentMode] = ModeController.filterBehaviors(this.modes[currentMode] || [], behaves);\n    }\n\n    this.setMode(this.mode);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  ModeController.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    if (isString(behavior)) {\n      behavior = {\n        type: behavior\n      };\n    }\n\n    var behaviorSet = [];\n\n    if (!mode || mode === this.mode || mode === 'default') {\n      behaviorSet = this.currentBehaves;\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_1 = behaviorSet.length;\n\n      for (var i = 0; i < length_1; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type) {\n          behave.updateCfg(newCfg);\n          return this;\n        }\n\n        if (i === length_1 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    } else {\n      behaviorSet = this.modes[mode];\n\n      if (!behaviorSet || !behaviorSet.length) {\n        console.warn('Update behavior failed! There is no behaviors in this mode on the graph.');\n        return this;\n      }\n\n      var length_2 = behaviorSet.length;\n\n      for (var i = 0; i < length_2; i++) {\n        var behave = behaviorSet[i];\n\n        if (behave.type === behavior.type || behave === behavior.type) {\n          if (behave === behavior.type) behave = {\n            type: behave\n          };\n          Object.assign(behave, newCfg);\n          behaviorSet[i] = behave;\n          return this;\n        }\n\n        if (i === length_2 - 1) console.warn('Update behavior failed! There is no such behavior in the mode');\n      }\n    }\n\n    return this;\n  };\n\n  ModeController.prototype.destroy = function () {\n    this.graph = null;\n    this.modes = null;\n    this.currentBehaves = null;\n    this.destroyed = true;\n  };\n\n  return ModeController;\n}();\n\nexport default ModeController;","import { __extends } from \"tslib\";\nimport { Event as GraphEvent } from '@antv/g-base';\n\nvar G6GraphEvent =\n/** @class */\nfunction (_super) {\n  __extends(G6GraphEvent, _super);\n\n  function G6GraphEvent(type, event) {\n    var _this = _super.call(this, type, event) || this;\n\n    _this.item = event.item;\n    _this.canvasX = event.canvasX;\n    _this.canvasY = event.canvasY;\n    _this.detail = event.detail;\n    return _this;\n  }\n\n  return G6GraphEvent;\n}(GraphEvent);\n\nexport { G6GraphEvent };","import { isString, isNumber, isNil, isArray } from '@antv/util';\nimport { G6GraphEvent } from '../interface/behavior';\nexport var uniqueId = function uniqueId(type) {\n  return \"\".concat(type, \"-\").concat(Math.random()).concat(Date.now());\n};\n/**\n * turn padding into [top, right, bottom, right]\n * @param  {Number|Array} padding input padding\n * @return {array} output\n */\n\nexport var formatPadding = function formatPadding(padding) {\n  var top = 0;\n  var left = 0;\n  var right = 0;\n  var bottom = 0;\n\n  if (isNumber(padding)) {\n    top = left = right = bottom = padding;\n  } else if (isString(padding)) {\n    var intPadding = parseInt(padding, 10);\n    top = left = right = bottom = intPadding;\n  } else if (isArray(padding)) {\n    top = padding[0];\n    right = !isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n    left = !isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n};\n/**\n * clone event\n * @param e\n */\n\nexport var cloneEvent = function cloneEvent(e) {\n  var event = new G6GraphEvent(e.type, e);\n  event.clientX = e.clientX;\n  event.clientY = e.clientY;\n  event.x = e.x;\n  event.y = e.y;\n  event.target = e.target;\n  event.currentTarget = e.currentTarget;\n  event.bubbles = true;\n  event.item = e.item;\n  return event;\n};\n/**\n *  viewport \n * @param matrix Viewport  Matrix\n */\n\nexport var isViewportChanged = function isViewportChanged(matrix) {\n  // matrix  null \n  if (!matrix) {\n    return false;\n  }\n\n  var MATRIX_LEN = 9;\n  var ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n  for (var i = 0; i < MATRIX_LEN; i++) {\n    if (matrix[i] !== ORIGIN_MATRIX[i]) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport var isNaN = function isNaN(input) {\n  return Number.isNaN(Number(input));\n};\n/**\n *  Item  BBox\n * @param items Item node  combo\n */\n\nexport var calculationItemsBBox = function calculationItemsBBox(items) {\n  var minx = Infinity;\n  var maxx = -Infinity;\n  var miny = Infinity;\n  var maxy = -Infinity; // x y\n\n  for (var i = 0; i < items.length; i++) {\n    var element = items[i];\n    var bbox = element.getBBox();\n    var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n\n    if (minX < minx) {\n      minx = minX;\n    }\n\n    if (minY < miny) {\n      miny = minY;\n    }\n\n    if (maxX > maxx) {\n      maxx = maxX;\n    }\n\n    if (maxY > maxy) {\n      maxy = maxY;\n    }\n  }\n\n  var x = Math.floor(minx);\n  var y = Math.floor(miny);\n  var width = Math.ceil(maxx) - Math.floor(minx);\n  var height = Math.ceil(maxy) - Math.floor(miny);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    minX: minx,\n    minY: miny,\n    maxX: maxx,\n    maxY: maxy\n  };\n};\n/**\n *  edges  quadratic  curveOffset \n * : https://g6.antv.vision/en/docs/api/Util\n * @param edges \n * @param offsetDiff  offset \n * @param multiEdgeType\n * @param singleEdgeType\n * @param loopEdgeType\n */\n\nexport var processParallelEdges = function processParallelEdges(edges, offsetDiff, multiEdgeType, singleEdgeType, loopEdgeType) {\n  if (offsetDiff === void 0) {\n    offsetDiff = 15;\n  }\n\n  if (multiEdgeType === void 0) {\n    multiEdgeType = 'quadratic';\n  }\n\n  if (singleEdgeType === void 0) {\n    singleEdgeType = undefined;\n  }\n\n  if (loopEdgeType === void 0) {\n    loopEdgeType = undefined;\n  }\n\n  var len = edges.length;\n  var cod = offsetDiff * 2;\n  var loopPosition = ['top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left'];\n  var edgeMap = {};\n  var tags = [];\n  var reverses = {};\n\n  for (var i = 0; i < len; i++) {\n    var edge = edges[i];\n    var source = edge.source,\n        target = edge.target;\n    var sourceTarget = \"\".concat(source, \"-\").concat(target);\n    if (tags[i]) continue;\n\n    if (!edgeMap[sourceTarget]) {\n      edgeMap[sourceTarget] = [];\n    }\n\n    tags[i] = true;\n    edgeMap[sourceTarget].push(edge);\n\n    for (var j = 0; j < len; j++) {\n      if (i === j) continue;\n      var sedge = edges[j];\n      var src = sedge.source;\n      var dst = sedge.target; // \n      // source = target\n      // target = source\n\n      if (!tags[j]) {\n        if (source === dst && target === src) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n          reverses[\"\".concat(src, \"|\").concat(dst, \"|\").concat(edgeMap[sourceTarget].length - 1)] = true;\n        } else if (source === src && target === dst) {\n          edgeMap[sourceTarget].push(sedge);\n          tags[j] = true;\n        }\n      }\n    }\n  }\n\n  for (var key in edgeMap) {\n    var arcEdges = edgeMap[key];\n    var length_1 = arcEdges.length;\n\n    for (var k = 0; k < length_1; k++) {\n      var current = arcEdges[k];\n\n      if (current.source === current.target) {\n        if (loopEdgeType) current.type = loopEdgeType; // 8\n\n        current.loopCfg = {\n          position: loopPosition[k % 8],\n          dist: Math.floor(k / 8) * 20 + 50\n        };\n        continue;\n      }\n\n      if (length_1 === 1 && singleEdgeType && current.source !== current.target) {\n        current.type = singleEdgeType;\n        continue;\n      }\n\n      current.type = multiEdgeType;\n      var sign = (k % 2 === 0 ? 1 : -1) * (reverses[\"\".concat(current.source, \"|\").concat(current.target, \"|\").concat(k)] ? -1 : 1);\n\n      if (length_1 % 2 === 1) {\n        current.curveOffset = sign * Math.ceil(k / 2) * cod;\n      } else {\n        current.curveOffset = sign * (Math.floor(k / 2) * cod + offsetDiff);\n      }\n    }\n  }\n\n  return edges;\n};","import { __assign } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport { modifyCSS } from '@antv/dom-util';\nimport { formatPadding } from '../../util/base';\nimport { applyMatrix, invertMatrix } from '../../util/math';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(graph) {\n    this.destroyed = false;\n    this.graph = graph;\n    this.destroyed = false;\n  } // get view center coordinate\n\n\n  ViewController.prototype.getViewCenter = function () {\n    var padding = this.getFormatPadding();\n    var graph = this.graph;\n    var width = this.graph.get('width');\n    var height = graph.get('height');\n    return {\n      x: (width - padding[1] - padding[3]) / 2 + padding[3],\n      y: (height - padding[0] - padding[2]) / 2 + padding[0]\n    };\n  };\n\n  ViewController.prototype.fitCenter = function () {\n    var graph = this.graph;\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n  }; // fit view graph\n\n\n  ViewController.prototype.fitView = function () {\n    var graph = this.graph;\n    var padding = this.getFormatPadding();\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var group = graph.get('group');\n    group.resetMatrix();\n    var bbox = group.getCanvasBBox();\n    if (bbox.width === 0 || bbox.height === 0) return;\n    var viewCenter = this.getViewCenter();\n    var groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    graph.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n    var w = (width - padding[1] - padding[3]) / bbox.width;\n    var h = (height - padding[0] - padding[2]) / bbox.height;\n    var ratio = w;\n\n    if (w > h) {\n      ratio = h;\n    }\n\n    graph.zoom(ratio, viewCenter);\n  };\n\n  ViewController.prototype.getFormatPadding = function () {\n    var padding = this.graph.get('fitViewPadding');\n    return formatPadding(padding);\n  };\n\n  ViewController.prototype.focusPoint = function (point, animate, animateCfg) {\n    var _this = this;\n\n    var viewCenter = this.getViewCenter();\n    var modelCenter = this.getPointByCanvas(viewCenter.x, viewCenter.y);\n    var viewportMatrix = this.graph.get('group').getMatrix();\n    if (!viewportMatrix) viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    if (animate) {\n      var dx_1 = (modelCenter.x - point.x) * viewportMatrix[0];\n      var dy_1 = (modelCenter.y - point.y) * viewportMatrix[4];\n      var lastX_1 = 0;\n      var lastY_1 = 0;\n      var newX_1 = 0;\n      var newY_1 = 0; // \n\n      this.graph.get('canvas').animate(function (ratio) {\n        newX_1 = dx_1 * ratio;\n        newY_1 = dy_1 * ratio;\n\n        _this.graph.translate(newX_1 - lastX_1, newY_1 - lastY_1);\n\n        lastX_1 = newX_1;\n        lastY_1 = newY_1;\n      }, __assign({}, animateCfg));\n    } else {\n      this.graph.translate((modelCenter.x - point.x) * viewportMatrix[0], (modelCenter.y - point.y) * viewportMatrix[4]);\n    }\n  };\n  /**\n   *  Canvas \n   * @param canvasX canvas x \n   * @param canvasY canvas y \n   */\n\n\n  ViewController.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    var point = invertMatrix({\n      x: canvasX,\n      y: canvasY\n    }, viewportMatrix);\n    return point;\n  };\n  /**\n   * \n   * @param clientX  x \n   * @param clientY  y \n   */\n\n\n  ViewController.prototype.getPointByClient = function (clientX, clientY) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = canvas.getPointByClient(clientX, clientY);\n    return this.getPointByCanvas(canvasPoint.x, canvasPoint.y);\n  };\n  /**\n   * \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getClientByPoint = function (x, y) {\n    var canvas = this.graph.get('canvas');\n    var canvasPoint = this.getCanvasByPoint(x, y);\n    var point = canvas.getClientByPoint(canvasPoint.x, canvasPoint.y);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  };\n  /**\n   *  Canvas \n   * @param x  x \n   * @param y  y \n   */\n\n\n  ViewController.prototype.getCanvasByPoint = function (x, y) {\n    var viewportMatrix = this.graph.get('group').getMatrix();\n\n    if (!viewportMatrix) {\n      viewportMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    return applyMatrix({\n      x: x,\n      y: y\n    }, viewportMatrix);\n  };\n  /**\n   * \n   * @param item Item  id\n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  ViewController.prototype.focus = function (item, animate, animateCfg) {\n    if (isString(item)) {\n      item = this.graph.findById(item);\n    }\n\n    if (item) {\n      var x = 0,\n          y = 0;\n\n      if (item.getType && item.getType() === 'edge') {\n        var sourceMatrix = item.getSource().get('group').getMatrix();\n        var targetMatrix = item.getTarget().get('group').getMatrix();\n\n        if (sourceMatrix && targetMatrix) {\n          x = (sourceMatrix[6] + targetMatrix[6]) / 2;\n          y = (sourceMatrix[7] + targetMatrix[7]) / 2;\n        } else if (sourceMatrix || targetMatrix) {\n          x = sourceMatrix ? sourceMatrix[6] : targetMatrix[6];\n          y = sourceMatrix ? sourceMatrix[7] : targetMatrix[7];\n        }\n      } else {\n        var group = item.get('group');\n        var matrix = group.getMatrix();\n        if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        x = matrix[6];\n        y = matrix[7];\n      } // modelx,y,modelx,yx,y\n\n\n      this.focusPoint({\n        x: x,\n        y: y\n      }, animate, animateCfg);\n    }\n  };\n  /**\n   *  canvas \n   * @param width canvas \n   * @param height canvas \n   */\n\n\n  ViewController.prototype.changeSize = function (width, height) {\n    var graph = this.graph;\n\n    if (!isNumber(width) || !isNumber(height)) {\n      throw Error('invalid canvas width & height, please make sure width & height type is number');\n    }\n\n    graph.set({\n      width: width,\n      height: height\n    });\n    var canvas = graph.get('canvas');\n    canvas.changeSize(width, height); // change the size of grid plugin if it exists on graph\n\n    var plugins = graph.get('plugins');\n    plugins.forEach(function (plugin) {\n      if (plugin.get('gridContainer')) {\n        var minZoom = graph.get('minZoom');\n        modifyCSS(plugin.get('container'), {\n          width: \"\".concat(width, \"px\"),\n          height: \"\".concat(height, \"px\")\n        });\n        modifyCSS(plugin.get('gridContainer'), {\n          width: \"\".concat(width / minZoom, \"px\"),\n          height: \"\".concat(height / minZoom, \"px\"),\n          left: 0,\n          top: 0\n        });\n      }\n    });\n  };\n\n  ViewController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = false;\n  };\n\n  return ViewController;\n}();\n\nexport default ViewController;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/**\n * @fileOverview xmlNodeupdate\n * @author xuzhi.mxz@antfin.com\n */\nimport { __assign, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getTextSize } from '../util/graphic';\n/**\n * JSON \n * @param text json \n */\n\nfunction looseJSONParse(text) {\n  if (typeof text !== 'string') {\n    return text;\n  }\n\n  var safeParse = function safeParse(str) {\n    if (typeof str !== 'string') {\n      return str;\n    }\n\n    try {\n      return JSON.parse(str.trim());\n    } catch (e) {\n      return str.trim();\n    }\n  };\n\n  var firstAttempt = safeParse(text);\n\n  if (typeof firstAttempt !== 'string') {\n    return firstAttempt;\n  }\n\n  var tail = function tail(arr) {\n    return arr[arr.length - 1];\n  };\n\n  var str = text.trim();\n  var objectStack = [];\n  var syntaxStack = [];\n\n  var isLastPair = function isLastPair() {\n    var syntaxes = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      syntaxes[_i] = arguments[_i];\n    }\n\n    return syntaxes.some(function (syntax) {\n      return tail(syntaxStack) === syntax;\n    });\n  };\n\n  var getValueStore = function getValueStore() {\n    return tail(objectStack);\n  };\n\n  var rst = null;\n  var i = 0;\n  var temp = '';\n\n  while (i < str.length) {\n    var nowChar = str[i];\n    var isInString = isLastPair('\"', \"'\");\n\n    if (!isInString && !nowChar.trim()) {\n      i += 1;\n      continue;\n    }\n\n    var isLastTranslate = str[i - 1] === '\\\\';\n    var isInObject = isLastPair('}');\n    var isInArray = isLastPair(']');\n    var isWaitingValue = isLastPair(',');\n    var tempArr = getValueStore();\n\n    if (isInString) {\n      if (tail(syntaxStack) === nowChar && !isLastTranslate) {\n        syntaxStack.pop();\n        var value = safeParse(temp);\n        tempArr.push(value);\n        rst = value;\n        temp = '';\n      } else {\n        temp += nowChar;\n      }\n    } else if (isInArray && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n    } else if (isInObject && nowChar === ':') {\n      syntaxStack.push(',');\n\n      if (temp) {\n        tempArr.push(temp);\n        temp = '';\n      }\n    } else if (isWaitingValue && nowChar === ',') {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      syntaxStack.pop();\n    } else if (nowChar === '}' && (isInObject || isWaitingValue)) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      if (isWaitingValue) {\n        syntaxStack.pop();\n      }\n\n      var obj = {};\n\n      for (var c = 1; c < tempArr.length; c += 2) {\n        obj[tempArr[c - 1]] = tempArr[c];\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(obj);\n      }\n\n      syntaxStack.pop();\n      rst = obj;\n    } else if (nowChar === ']' && isInArray) {\n      if (temp) {\n        tempArr.push(safeParse(temp));\n        temp = '';\n      }\n\n      objectStack.pop();\n\n      if (objectStack.length) {\n        tail(objectStack).push(tempArr);\n      }\n\n      syntaxStack.pop();\n      rst = tempArr;\n    } else if (nowChar === '{') {\n      objectStack.push([]);\n      syntaxStack.push('}');\n    } else if (nowChar === '[') {\n      objectStack.push([]);\n      syntaxStack.push(']');\n    } else if (nowChar === '\"') {\n      syntaxStack.push('\"');\n    } else if (nowChar === \"'\") {\n      syntaxStack.push(\"'\");\n    } else {\n      temp += nowChar;\n    }\n\n    i += 1;\n  }\n\n  return rst || temp;\n}\n\nvar keyConvert = function keyConvert(str) {\n  return str.split('-').reduce(function (a, b) {\n    return a + b.charAt(0).toUpperCase() + b.slice(1);\n  });\n};\n/**\n * {{}}\n * @param xml\n */\n\n\nexport var xmlDataRenderer = function xmlDataRenderer(xml) {\n  return function (data) {\n    var len = xml.length;\n    var arr = [];\n    var i = 0;\n    var tmp = '';\n\n    while (i < len) {\n      if (xml[i] === '{' && xml[i + 1] === '{') {\n        arr.push(tmp);\n        tmp = '';\n        i += 2;\n      } else if (xml[i] === '}' && xml[i + 1] === '}') {\n        if (arr.length) {\n          var last = arr.pop();\n          tmp = get(data, tmp, last.endsWith('=') ? \"\\\"{\".concat(tmp, \"}\\\"\") : tmp);\n          arr.push(last + tmp);\n        }\n\n        i += 2;\n        tmp = '';\n      } else {\n        tmp += xml[i];\n        i += 1;\n      }\n    }\n\n    arr.push(tmp);\n    return arr.map(function (e, index) {\n      return arr[index - 1] && arr[index - 1].endsWith('=') ? \"\\\"{\".concat(e, \"}\\\"\") : e;\n    }).join('');\n  };\n};\n/**\n * XMLJSON\n * @param xml xml\n */\n\nexport function parseXML(xml, cfg) {\n  var attrs = {};\n  var keys = xml.getAttributeNames && xml.getAttributeNames() || [];\n  var children = xml.children && Array.from(xml.children).map(function (e) {\n    return parseXML(e, cfg);\n  });\n  var rst = {};\n  var tagName = xml.tagName ? xml.tagName.toLowerCase() : 'group';\n\n  if (tagName === 'text') {\n    attrs.text = xml.innerText;\n  }\n\n  rst.type = tagName;\n\n  if (tagName === 'img') {\n    rst.type = 'image';\n  }\n\n  Array.from(keys).forEach(function (k) {\n    var key = keyConvert(k);\n    var val = xml.getAttribute(k);\n\n    try {\n      if (key === 'style' || key === 'attrs') {\n        var style = looseJSONParse(val);\n        attrs = __assign(__assign({}, attrs), style);\n      } else {\n        rst[key] = looseJSONParse(val);\n      }\n    } catch (e) {\n      if (key === 'style') {\n        throw e;\n      }\n\n      rst[key] = val;\n    }\n  });\n  rst.attrs = attrs;\n\n  if (cfg && cfg.style && rst.name && _typeof(cfg.style[rst.name]) === 'object') {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style[rst.name]);\n  }\n\n  if (cfg && cfg.style && rst.keyshape) {\n    rst.attrs = __assign(__assign({}, rst.attrs), cfg.style);\n  }\n\n  if (children.length) {\n    rst.children = children;\n  }\n\n  return rst;\n}\n/**\n * bounding boxshapebbox\n */\n\nexport function getBBox(node, offset, chilrenBBox) {\n  var _a = node.attrs,\n      attrs = _a === void 0 ? {} : _a;\n  var bbox = {\n    x: offset.x || 0,\n    y: offset.y || 0,\n    width: chilrenBBox.width || 0,\n    height: chilrenBBox.height || 0\n  };\n  var shapeHeight, shapeWidth;\n\n  switch (node.type) {\n    case 'maker':\n    case 'circle':\n      if (attrs.r) {\n        shapeWidth = 2 * attrs.r;\n        shapeHeight = 2 * attrs.r;\n      }\n\n      break;\n\n    case 'text':\n      if (attrs.text) {\n        shapeWidth = getTextSize(attrs.text, attrs.fontSize || 12)[0];\n        shapeHeight = 16;\n        bbox.y += shapeHeight;\n        bbox.height = shapeHeight;\n        bbox.width = shapeWidth;\n        node.attrs = __assign({\n          fontSize: 12,\n          fill: '#000'\n        }, attrs);\n      }\n\n      break;\n\n    default:\n      if (attrs.width) {\n        shapeWidth = attrs.width;\n      }\n\n      if (attrs.height) {\n        shapeHeight = attrs.height;\n      }\n\n  }\n\n  if (shapeHeight >= 0) {\n    bbox.height = shapeHeight;\n  }\n\n  if (shapeWidth >= 0) {\n    bbox.width = shapeWidth;\n  }\n\n  if (attrs.marginTop) {\n    bbox.y += attrs.marginTop;\n  }\n\n  if (attrs.marginLeft) {\n    bbox.x += attrs.marginLeft;\n  }\n\n  return bbox;\n}\n/**\n * xmlattrs\n * @param target\n * @param lastOffset\n */\n\nexport function generateTarget(target, lastOffset) {\n  var _a;\n\n  if (lastOffset === void 0) {\n    lastOffset = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var defaultBbox = __assign({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }, lastOffset);\n\n  if ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) {\n    var _b = target.attrs,\n        attrs = _b === void 0 ? {} : _b;\n    var marginTop = attrs.marginTop;\n\n    var offset = __assign({}, lastOffset);\n\n    if (marginTop) {\n      offset.y += marginTop;\n    }\n\n    for (var index = 0; index < target.children.length; index++) {\n      target.children[index].attrs.key = \"\".concat(attrs.key || 'root', \" -\").concat(index, \" \");\n      var node = generateTarget(target.children[index], offset);\n\n      if (node.bbox) {\n        var bbox = node.bbox;\n\n        if (node.attrs.next === 'inline') {\n          offset.x += node.bbox.width;\n        } else {\n          offset.y += node.bbox.height;\n        }\n\n        if (bbox.width + bbox.x > defaultBbox.width) {\n          defaultBbox.width = bbox.width + bbox.x;\n        }\n\n        if (bbox.height + bbox.y > defaultBbox.height) {\n          defaultBbox.height = bbox.height + bbox.y;\n        }\n      }\n    }\n  }\n\n  target.bbox = getBBox(target, lastOffset, defaultBbox);\n  target.attrs = __assign(__assign({}, target.attrs), target.bbox);\n  return target;\n}\n/**\n * node,\n *  'add'   delete   change attrs  'restructure' \n * @param nowTarget\n * @param formerTarget\n */\n\nexport function compareTwoTarget(nowTarget, formerTarget) {\n  var _a, _b, _c, _d;\n\n  var type = (nowTarget || {}).type;\n  var key = ((formerTarget === null || formerTarget === void 0 ? void 0 : formerTarget.attrs) || {}).key;\n\n  if (key && nowTarget) {\n    nowTarget.attrs.key = key;\n  }\n\n  if (!nowTarget && formerTarget) {\n    return {\n      action: 'delete',\n      val: formerTarget,\n      type: type,\n      key: key\n    };\n  }\n\n  if (nowTarget && !formerTarget) {\n    return {\n      action: 'add',\n      val: nowTarget,\n      type: type\n    };\n  }\n\n  if (!nowTarget && !formerTarget) {\n    return {\n      action: 'same',\n      type: type\n    };\n  }\n\n  var children = [];\n\n  if (((_a = nowTarget.children) === null || _a === void 0 ? void 0 : _a.length) > 0 || ((_b = formerTarget.children) === null || _b === void 0 ? void 0 : _b.length) > 0) {\n    var length_1 = Math.max((_c = nowTarget.children) === null || _c === void 0 ? void 0 : _c.length, (_d = formerTarget.children) === null || _d === void 0 ? void 0 : _d.length);\n    var formerChilren = formerTarget.children || [];\n    var nowChilren = nowTarget.children || [];\n\n    for (var index = 0; index < length_1; index += 1) {\n      children.push(compareTwoTarget(nowChilren[index], formerChilren[index]));\n    }\n  }\n\n  var formerKeys = Object.keys(formerTarget.attrs);\n  var nowKeys = Object.keys(nowTarget.attrs);\n\n  if (formerTarget.type !== nowTarget.type) {\n    return {\n      action: 'restructure',\n      nowTarget: nowTarget,\n      formerTarget: formerTarget,\n      key: key,\n      children: children\n    };\n  }\n\n  if (formerKeys.filter(function (e) {\n    return e !== 'children';\n  }).some(function (e) {\n    return nowTarget.attrs[e] !== formerTarget.attrs[e] || !nowKeys.includes(e);\n  })) {\n    return {\n      action: 'change',\n      val: nowTarget,\n      children: children,\n      type: type,\n      key: key\n    };\n  }\n\n  return {\n    action: 'same',\n    children: children,\n    type: type,\n    key: key\n  };\n}\n/**\n * xmlxml\n * @param gen\n */\n\nexport function createNodeFromXML(gen) {\n  var structures = {};\n\n  var compileXML = function compileXML(cfg) {\n    var rawStr = typeof gen === 'function' ? gen(cfg) : gen;\n    var target = xmlDataRenderer(rawStr)(cfg); // TODO patch #16\n\n    var xmlParser = document.createElement('div');\n    xmlParser.innerHTML = target;\n    var xml = xmlParser.children[0];\n    var result = generateTarget(parseXML(xml, cfg));\n    xmlParser.remove();\n    return result;\n  };\n\n  return {\n    draw: function draw(cfg, group) {\n      var resultTarget = compileXML(cfg);\n      var keyshape = group;\n\n      var renderTarget = function renderTarget(target) {\n        var _a = target.attrs,\n            attrs = _a === void 0 ? {} : _a,\n            bbox = target.bbox,\n            type = target.type,\n            children = target.children,\n            rest = __rest(target, [\"attrs\", \"bbox\", \"type\", \"children\"]);\n\n        if (target.type !== 'group') {\n          var shape = group.addShape(target.type, __assign({\n            attrs: attrs,\n            origin: {\n              bbox: bbox,\n              type: type,\n              children: children\n            }\n          }, rest));\n\n          if (target.keyshape) {\n            keyshape = shape;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return renderTarget(n);\n          });\n        }\n      };\n\n      renderTarget(resultTarget);\n      structures[cfg.id] = [resultTarget];\n      return keyshape;\n    },\n    update: function update(cfg, node) {\n      if (!structures[cfg.id]) {\n        structures[cfg.id] = [];\n      }\n\n      var container = node.getContainer();\n      var children = container.get('children');\n      var newTarget = compileXML(cfg);\n      var lastTarget = structures[cfg.id].pop();\n      var diffResult = compareTwoTarget(newTarget, lastTarget);\n\n      var addShape = function addShape(shape) {\n        var _a;\n\n        if (shape.type !== 'group') {\n          container.addShape(shape.type, {\n            attrs: shape.attrs\n          });\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return addShape(e);\n          });\n        }\n      };\n\n      var delShape = function delShape(shape) {\n        var _a;\n\n        var targetShape = children.find(function (e) {\n          return e.attrs.key === shape.attrs.key;\n        });\n\n        if (targetShape) {\n          container.removeChild(targetShape);\n        }\n\n        if ((_a = shape.children) === null || _a === void 0 ? void 0 : _a.length) {\n          shape.children.map(function (e) {\n            return delShape(e);\n          });\n        }\n      };\n\n      var updateTarget = function updateTarget(target) {\n        var key = target.key;\n\n        if (target.type !== 'group') {\n          var targetShape = children.find(function (e) {\n            return e.attrs.key === key;\n          });\n\n          switch (target.action) {\n            case 'change':\n              if (targetShape) {\n                var originAttr = target.val.keyshape ? node.getOriginStyle() : {};\n                targetShape.attr(__assign(__assign({}, originAttr), target.val.attrs));\n              }\n\n              break;\n\n            case 'add':\n              addShape(target.val);\n              break;\n\n            case 'delete':\n              delShape(target.val);\n              break;\n\n            case 'restructure':\n              delShape(target.formerTarget);\n              addShape(target.nowTarget);\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        if (target.children) {\n          target.children.forEach(function (n) {\n            return updateTarget(n);\n          });\n        }\n      };\n\n      updateTarget(diffResult);\n      structures[cfg.id].push(newTarget);\n    },\n    getAnchorPoints: function getAnchorPoints() {\n      return [[0, 0.5], [1, 0.5], [0.5, 1], [0.5, 0]];\n    }\n  };\n}","import { __assign } from \"tslib\";\nimport { upperFirst } from '@antv/util';\nimport { createNodeFromXML } from './xml';\nvar cache = {}; // ucfirst \n// \n\nfunction ucfirst(str) {\n  if (!cache[str]) {\n    cache[str] = upperFirst(str);\n  }\n\n  return cache[str];\n}\n/**\n * \n * @type Shape.FactoryBase\n */\n\n\nexport var ShapeFactoryBase = {\n  /**\n   * / shapeType \n   * @type {String}\n   */\n  defaultShapeType: 'defaultType',\n\n  /**\n   *  className\n   * @type {String}\n   */\n  className: null,\n\n  /**\n   *  Shape \n   * @param  {String} type \n   * @return {Shape} \n   */\n  getShape: function getShape(type) {\n    var self = this;\n    var shape = self[type] || self[self.defaultShapeType] || self['simple-circle'];\n    return shape;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(type, cfg, group) {\n    var shape = this.getShape(type);\n    var rst = shape.draw(cfg, group);\n\n    if (shape.afterDraw) {\n      shape.afterDraw(cfg, group, rst);\n    }\n\n    return rst;\n  },\n\n  /**\n   * \n   * @param  {String} type  \n   * @param  {Object} cfg \n   * @param  {G6.Item} item \n   */\n  baseUpdate: function baseUpdate(type, cfg, item) {\n    var shape = this.getShape(type);\n\n    if (shape.update) {\n      //  update \n      shape.update(cfg, item);\n    }\n\n    if (shape.afterUpdate) {\n      shape.afterUpdate(cfg, item);\n    }\n  },\n\n  /**\n   * \n   * @param {String} type  \n   * @param {String} name  \n   * @param {String | Boolean} value \n   * @param {G6.Item} item  \n   */\n  setState: function setState(type, name, value, item) {\n    var shape = this.getShape(type); //  shape/shapeBase.ts  setState \n\n    shape.setState(name, value, item);\n  },\n\n  /**\n   * \n   * @param  {String} type \n   * @return {Boolean} \n   */\n  shouldUpdate: function shouldUpdate(type) {\n    var shape = this.getShape(type);\n    return !!shape.update;\n  },\n  getControlPoints: function getControlPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getControlPoints(cfg);\n  },\n\n  /**\n   * \n   * @param {String} type \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(type, cfg) {\n    var shape = this.getShape(type);\n    return shape.getAnchorPoints(cfg);\n  }\n};\n/**\n * \n */\n\nvar ShapeFramework = {\n  // \n  options: {},\n\n  /**\n   * \n   */\n  draw: function draw(cfg, group) {\n    return this.drawShape(cfg, group);\n  },\n\n  /**\n   * \n   */\n  drawShape: function\n    /* cfg, group */\n  drawShape() {},\n\n  /**\n   * \n   */\n  afterDraw: function\n    /* cfg, group */\n  afterDraw() {},\n  // update(cfg, item) // \n  afterUpdate: function\n    /* cfg, item */\n  afterUpdate() {},\n\n  /**\n   * \n   */\n  setState: function\n    /* name, value, item */\n  setState() {},\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var defaultAnchorPoints = this.options.anchorPoints;\n    var anchorPoints = cfg.anchorPoints || defaultAnchorPoints;\n    return anchorPoints;\n  }\n  /*  update  draw \n  update(cfg, item) {\n     }\n  */\n\n};\n\nvar Shape =\n/** @class */\nfunction () {\n  function Shape() {}\n\n  Shape.registerFactory = function (factoryType, cfg) {\n    var className = ucfirst(factoryType);\n    var factoryBase = ShapeFactoryBase;\n\n    var shapeFactory = __assign(__assign({}, factoryBase), cfg);\n\n    Shape[className] = shapeFactory;\n    shapeFactory.className = className;\n    return shapeFactory;\n  };\n\n  Shape.getFactory = function (factoryType) {\n    var className = ucfirst(factoryType);\n    return Shape[className];\n  };\n\n  Shape.registerNode = function (shapeType, nodeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Node;\n    var shapeObj;\n\n    if (typeof nodeDefinition === 'string' || typeof nodeDefinition === 'function') {\n      var autoNodeDefinition = createNodeFromXML(nodeDefinition);\n      shapeObj = __assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition);\n    } else if (nodeDefinition.jsx) {\n      var jsx = nodeDefinition.jsx;\n      var autoNodeDefinition = createNodeFromXML(jsx);\n      shapeObj = __assign(__assign(__assign({}, shapeFactory.getShape('single-node')), autoNodeDefinition), nodeDefinition);\n    } else {\n      shapeFactory.getShape(extendShapeType);\n      var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n      shapeObj = __assign(__assign({}, extendShape), nodeDefinition);\n    }\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'node';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerEdge = function (shapeType, edgeDefinition, extendShapeType) {\n    var shapeFactory = Shape.Edge;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), edgeDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'edge';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  Shape.registerCombo = function (shapeType, comboDefinition, extendShapeType) {\n    var shapeFactory = Shape.Combo;\n    var extendShape = extendShapeType ? shapeFactory.getShape(extendShapeType) : ShapeFramework;\n\n    var shapeObj = __assign(__assign({}, extendShape), comboDefinition);\n\n    shapeObj.type = shapeType;\n    shapeObj.itemType = 'combo';\n    shapeFactory[shapeType] = shapeObj;\n    return shapeObj;\n  };\n\n  return Shape;\n}();\n\nexport default Shape; //  Node \n\nShape.registerFactory('node', {\n  defaultShapeType: 'circle'\n}); //  Edge \n\nShape.registerFactory('edge', {\n  defaultShapeType: 'line'\n}); //  Combo \n\nShape.registerFactory('combo', {\n  defaultShapeType: 'circle'\n});","import { __assign } from \"tslib\";\nimport { each, isNil, isPlainObject, isString, isBoolean, mix, deepMix, clone } from '@antv/util';\nimport Shape from '../element/shape';\nimport { getBBox } from '../util/graphic';\nimport { translate } from '../util/math';\nimport { uniqueId } from '../util/base';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar ARROWS = ['startArrow', 'endArrow'];\n\nvar ItemBase =\n/** @class */\nfunction () {\n  function ItemBase(cfg) {\n    this._cfg = {};\n    this.destroyed = false;\n    var defaultCfg = {\n      /**\n       * id\n       * @type {string}\n       */\n      id: undefined,\n\n      /**\n       * \n       * @type {string}\n       */\n      type: 'item',\n\n      /**\n       * data model\n       * @type {object}\n       */\n      model: {},\n\n      /**\n       * g group\n       * @type {G.Group}\n       */\n      group: undefined,\n\n      /**\n       * is open animate\n       * @type {boolean}\n       */\n      animate: false,\n\n      /**\n       * visible - not group visible\n       * @type {boolean}\n       */\n      visible: true,\n\n      /**\n       * locked - lock node\n       * @type {boolean}\n       */\n      locked: false,\n\n      /**\n       * capture event\n       * @type {boolean}\n       */\n      event: true,\n\n      /**\n       * key shape to calculate item's bbox\n       * @type object\n       */\n      keyShape: undefined,\n\n      /**\n       * item's states, such as selected or active\n       * @type Array\n       */\n      states: []\n    };\n    this._cfg = Object.assign(defaultCfg, this.getDefaultCfg(), cfg);\n    var model = this.get('model');\n    var id = model.id;\n    var itemType = this.get('type');\n\n    if (!id) {\n      id = uniqueId(itemType);\n      this.get('model').id = id;\n    }\n\n    this.set('id', id);\n    var group = cfg.group;\n\n    if (group) {\n      group.set('item', this);\n      group.set('id', id);\n    }\n\n    this.init();\n    this.draw();\n    var shapeType = model.shape || model.type || (itemType === 'edge' ? 'line' : 'circle');\n    var shapeFactory = this.get('shapeFactory');\n\n    if (shapeFactory && shapeFactory[shapeType]) {\n      var options = shapeFactory[shapeType].options; // merge the stateStyles from item and shape\n\n      if (options && options.stateStyles) {\n        var styles = this.get('styles') || model.stateStyles;\n        styles = deepMix({}, options.stateStyles, styles);\n        this.set('styles', styles);\n      }\n    }\n  }\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  ItemBase.prototype.calculateCanvasBBox = function () {\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    return bbox;\n  };\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.drawInner = function () {\n    var self = this;\n    var shapeFactory = self.get('shapeFactory');\n    var group = self.get('group');\n    var model = self.get('model');\n    group.clear();\n    var visible = model.visible;\n    if (visible !== undefined && !visible) self.changeVisibility(visible);\n\n    if (!shapeFactory) {\n      return;\n    }\n\n    self.updatePosition(model);\n    var cfg = self.getShapeCfg(model); // \n\n    var shapeType = cfg.type;\n    var keyShape = shapeFactory.draw(shapeType, cfg, group);\n\n    if (keyShape) {\n      self.set('keyShape', keyShape);\n      keyShape.set('isKeyShape', true);\n      keyShape.set('draggable', true);\n    }\n\n    this.setOriginStyle(); //  model  shape  shape \n\n    this.set('currentShape', shapeType);\n    this.restoreStates(shapeFactory, shapeType);\n  };\n  /**\n   * \n   * @param keyShape  keyShape\n   * @param group Group \n   */\n\n\n  ItemBase.prototype.setOriginStyle = function () {\n    var group = this.get('group');\n    var children = group.get('children');\n    var keyShape = this.getKeyShape();\n    var self = this;\n    var keyShapeName = keyShape.get('name');\n\n    if (!this.get('originStyle')) {\n      //  set originStyle attrs\n      var originStyles_1 = {};\n      each(children, function (child) {\n        var shapeType = child.get('type');\n        var name = child.get('name');\n\n        if (name && name !== keyShapeName) {\n          originStyles_1[name] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n        } else {\n          // !name || name === keyShape\n          var keyShapeStyle = self.getShapeStyleByName(); //  child.attr  shape \n\n          if (keyShapeStyle.path) delete keyShapeStyle.path;\n          if (keyShapeStyle.matrix) delete keyShapeStyle.matrix;\n\n          if (!keyShapeName) {\n            Object.assign(originStyles_1, keyShapeStyle);\n          } else {\n            //  keyShape  name  !name keyShape name\n            if (!name) {\n              var shapeName = uniqueId('shape');\n              child.set('name', shapeName);\n              originStyles_1[shapeName] = shapeType !== 'image' ? clone(child.attr()) : self.getShapeStyleByName(name);\n            } else originStyles_1[keyShapeName] = keyShapeStyle;\n          }\n        }\n      });\n      self.set('originStyle', originStyles_1);\n    } else {\n      //  set originStyles stateStyles  originStyles \n      //  originStyle shape attrs\n      var styles_1 = this.getOriginStyle(); // let styles: ShapeStyle = {};\n\n      if (keyShapeName && !styles_1[keyShapeName]) styles_1[keyShapeName] = {}; // \n\n      var currentStatesStyle_1 = this.getCurrentStatesStyle(); //  attrs stateStyles  originStyles \n\n      each(children, function (child) {\n        var name = child.get('name');\n        var shapeAttrs = child.attr();\n\n        if (name && name !== keyShapeName) {\n          //  name  keyShape \n          var shapeStateStyle_1 = currentStatesStyle_1[name];\n          if (!styles_1[name]) styles_1[name] = {};\n\n          if (shapeStateStyle_1) {\n            Object.keys(shapeAttrs).forEach(function (key) {\n              var value = shapeAttrs[key];\n              if (value !== shapeStateStyle_1[key]) styles_1[name][key] = value;\n            });\n          } else {\n            styles_1[name] = child.get('type') !== 'image' ? clone(shapeAttrs) : self.getShapeStyleByName(name);\n          }\n        } else {\n          var shapeAttrs_1 = child.attr();\n\n          var keyShapeStateStyles_1 = __assign(__assign({}, currentStatesStyle_1), currentStatesStyle_1[keyShapeName]);\n\n          Object.keys(shapeAttrs_1).forEach(function (key) {\n            var value = shapeAttrs_1[key]; //  arrow shape \n            // if (isPlainObject(value) && ARROWS.indexOf(name) === -1) return;\n\n            if (keyShapeStateStyles_1[key] !== value) {\n              if (keyShapeName) styles_1[keyShapeName][key] = value;else styles_1[key] = value;\n            }\n          });\n        }\n      });\n      if (styles_1.path) delete styles_1.path;\n      if (styles_1.matrix) delete styles_1.matrix;\n      if (styles_1.x) delete styles_1.x;\n      if (styles_1.y) delete styles_1.y;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].x) delete styles_1[keyShapeName].x;\n      if (styles_1[keyShapeName] && styles_1[keyShapeName].y) delete styles_1[keyShapeName].y;\n      self.set('originStyle', styles_1);\n    }\n  };\n  /**\n   * restore shape states\n   * @param shapeFactory\n   * @param shapeType\n   */\n\n\n  ItemBase.prototype.restoreStates = function (shapeFactory, shapeType) {\n    var self = this;\n    var states = self.get('states');\n    each(states, function (state) {\n      shapeFactory.setState(shapeType, state, true, self);\n    });\n  };\n\n  ItemBase.prototype.init = function () {\n    var shapeFactory = Shape.getFactory(this.get('type'));\n    this.set('shapeFactory', shapeFactory);\n  };\n  /**\n   * \n   * @internal \n   * @param  {String} key \n   * @return {object | string | number} \n   */\n\n\n  ItemBase.prototype.get = function (key) {\n    return this._cfg[key];\n  };\n  /**\n   * \n   * @internal \n   * @param {String|Object} key \n   * @param {object | string | number} val \n   */\n\n\n  ItemBase.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this._cfg = __assign(__assign({}, this._cfg), key);\n    } else {\n      this._cfg[key] = val;\n    }\n  };\n\n  ItemBase.prototype.getDefaultCfg = function () {\n    return {};\n  };\n  /**\n   * / cache\n   */\n\n\n  ItemBase.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null);\n    this.set(CACHE_CANVAS_BBOX, null);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.beforeDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterDraw = function () {};\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.afterUpdate = function () {};\n  /**\n   * draw shape\n   */\n\n\n  ItemBase.prototype.draw = function () {\n    this.beforeDraw();\n    this.drawInner();\n    this.afterDraw();\n  };\n\n  ItemBase.prototype.getShapeStyleByName = function (name) {\n    var group = this.get('group');\n    var currentShape;\n\n    if (name) {\n      currentShape = group.find(function (element) {\n        return element.get('name') === name;\n      });\n    } else {\n      currentShape = this.getKeyShape();\n    }\n\n    if (currentShape) {\n      var styles_2 = {};\n      each(currentShape.attr(), function (val, key) {\n        //  img  updateItem \n        if (key !== 'img') {\n          styles_2[key] = val;\n        }\n      });\n      return styles_2;\n    }\n\n    return {};\n  };\n\n  ItemBase.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n\n    if (styles) {\n      // merge graphitem\n      var newModel = model;\n      newModel.style = __assign(__assign({}, styles), model.style);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   * \n   * @param state \n   */\n\n\n  ItemBase.prototype.getStateStyle = function (state) {\n    var styles = this.get('styles');\n    var stateStyle = styles && styles[state];\n    return stateStyle;\n  };\n  /**\n   * get keyshape style\n   */\n\n\n  ItemBase.prototype.getOriginStyle = function () {\n    return this.get('originStyle');\n  };\n\n  ItemBase.prototype.getCurrentStatesStyle = function () {\n    var self = this;\n    var styles = {};\n    var states = self.getStates();\n\n    if (!states || !states.length) {\n      return this.getOriginStyle();\n    }\n\n    each(self.getStates(), function (state) {\n      styles = Object.assign(styles, self.getStateStyle(state));\n    });\n    return styles;\n  };\n  /**\n   *  visible \n   * @internal  graph \n   * @param {String} state \n   * @param {Boolean} value \n   */\n\n\n  ItemBase.prototype.setState = function (state, value) {\n    var states = this.get('states');\n    var shapeFactory = this.get('shapeFactory');\n    var stateName = state;\n    var filterStateName = state;\n\n    if (isString(value)) {\n      stateName = \"\".concat(state, \":\").concat(value);\n      filterStateName = \"\".concat(state, \":\");\n    }\n\n    var newStates = states;\n\n    if (isBoolean(value)) {\n      var index = states.indexOf(filterStateName);\n\n      if (value) {\n        if (index > -1) {\n          return;\n        }\n\n        states.push(stateName);\n      } else if (index > -1) {\n        states.splice(index, 1);\n      }\n    } else if (isString(value)) {\n      //  states  filterStateName \n      var filterStates = states.filter(function (name) {\n        return name.includes(filterStateName);\n      });\n\n      if (filterStates.length > 0) {\n        this.clearStates(filterStates);\n      }\n\n      newStates = newStates.filter(function (name) {\n        return !name.includes(filterStateName);\n      });\n      newStates.push(stateName);\n      this.set('states', newStates);\n    }\n\n    if (shapeFactory) {\n      var model = this.get('model');\n      var type = model.type; //  shape/shape.ts  setState\n\n      shapeFactory.setState(type, state, value, this);\n    }\n  };\n  /**\n   * \n   * @param states \n   */\n\n\n  ItemBase.prototype.clearStates = function (states) {\n    var self = this;\n    var originStates = self.getStates();\n    var shapeFactory = self.get('shapeFactory');\n    var model = self.get('model');\n    var shape = model.type;\n\n    if (!states) {\n      states = originStates;\n    }\n\n    if (isString(states)) {\n      states = [states];\n    }\n\n    var newStates = originStates.filter(function (state) {\n      return states.indexOf(state) === -1;\n    });\n    self.set('states', newStates);\n    states.forEach(function (state) {\n      shapeFactory.setState(shape, state, false, self);\n    });\n  };\n  /**\n   * \n   * @return {G.Group} \n   */\n\n\n  ItemBase.prototype.getContainer = function () {\n    return this.get('group');\n  };\n  /**\n   * \n   * @return {IShapeBase} \n   */\n\n\n  ItemBase.prototype.getKeyShape = function () {\n    return this.get('keyShape');\n  };\n  /**\n   * \n   * @return {Object} \n   */\n\n\n  ItemBase.prototype.getModel = function () {\n    return this.get('model');\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  ItemBase.prototype.getType = function () {\n    return this.get('type');\n  };\n  /**\n   *  Item ID\n   */\n\n\n  ItemBase.prototype.getID = function () {\n    return this.get('id');\n  };\n  /**\n   *  Item \n   */\n\n\n  ItemBase.prototype.isItem = function () {\n    return true;\n  };\n  /**\n   * \n   * @return {Array} \n   */\n\n\n  ItemBase.prototype.getStates = function () {\n    return this.get('states');\n  };\n  /**\n   * \n   * @param {String} state \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.hasState = function (state) {\n    var states = this.getStates();\n    return states.indexOf(state) >= 0;\n  };\n  /**\n   * \n   * 1. item model \n   * 2. \n   *\n   *  shape \n   */\n\n\n  ItemBase.prototype.refresh = function () {\n    var model = this.get('model'); // \n\n    this.updatePosition(model); // \n\n    this.updateShape(); // \n\n    this.afterUpdate(); // \n\n    this.clearCache();\n  };\n\n  ItemBase.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  model \n   * @internal  Graph  graph.update \n   * @param  {Object} cfg       \n   */\n\n\n  ItemBase.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var originPosition = {\n      x: model.x,\n      y: model.y\n    };\n    cfg.x = isNaN(cfg.x) ? model.x : cfg.x;\n    cfg.y = isNaN(cfg.y) ? model.y : cfg.y;\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    } // \n\n\n    Object.assign(model, cfg); // isOnlyMove node\n    // const onlyMove = this.isOnlyMove(cfg);\n    // \n\n    if (onlyMove) {\n      this.updatePosition(cfg);\n    } else {\n      //  x,y \n      if (originPosition.x !== cfg.x || originPosition.y !== cfg.y) {\n        this.updatePosition(cfg);\n      }\n\n      this.updateShape();\n    }\n\n    this.afterUpdate();\n    this.clearCache();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.updateShape = function () {\n    var shapeFactory = this.get('shapeFactory');\n    var model = this.get('model');\n    var shape = model.type; // \n    // 1. \n    // 2.  shape  shape\n\n    if (shapeFactory.shouldUpdate(shape) && shape === this.get('currentShape')) {\n      var updateCfg = this.getShapeCfg(model);\n      shapeFactory.baseUpdate(shape, updateCfg, this); // \n\n      this.setOriginStyle();\n    } else {\n      // \n      this.draw();\n    } // \n\n\n    this.restoreStates(shapeFactory, shape);\n  };\n  /**\n   * \n   * @param {object} cfg \n   */\n\n\n  ItemBase.prototype.updatePosition = function (cfg) {\n    var model = this.get('model');\n    var x = isNil(cfg.x) ? model.x : cfg.x;\n    var y = isNil(cfg.y) ? model.y : cfg.y;\n    var group = this.get('group');\n\n    if (isNil(x) || isNil(y)) {\n      return false;\n    }\n\n    model.x = x;\n    model.y = y;\n    var matrix = group.getMatrix();\n    if (matrix && matrix[6] === x && matrix[7] === y) return false;\n    group.resetMatrix(); // G 4.0 element https://www.yuque.com/antv/blog/kxzk9g#4rMMV\n\n    translate(group, {\n      x: x,\n      y: y\n    });\n    this.clearCache(); // \n\n    return true;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateBBox();\n      this.set(CACHE_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   *  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  ItemBase.prototype.getCanvasBBox = function () {\n    //  bbox \n    var bbox = this.get(CACHE_CANVAS_BBOX);\n\n    if (!bbox) {\n      bbox = this.calculateCanvasBBox();\n      this.set(CACHE_CANVAS_BBOX, bbox);\n    }\n\n    return bbox;\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toFront = function () {\n    var group = this.get('group');\n    group.toFront();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.toBack = function () {\n    var group = this.get('group');\n    group.toBack();\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.show = function () {\n    this.changeVisibility(true);\n  };\n  /**\n   * \n   */\n\n\n  ItemBase.prototype.hide = function () {\n    this.changeVisibility(false);\n  };\n  /**\n   * \n   * @param  {Boolean} visible \n   */\n\n\n  ItemBase.prototype.changeVisibility = function (visible) {\n    var group = this.get('group');\n\n    if (visible) {\n      group.show();\n    } else {\n      group.hide();\n    }\n\n    this.set('visible', visible);\n  };\n  /**\n   * \n   * @return {Boolean} \n   */\n\n\n  ItemBase.prototype.isVisible = function () {\n    return this.get('visible');\n  };\n  /**\n   * \n   * @param {Boolean} enable \n   */\n\n\n  ItemBase.prototype.enableCapture = function (enable) {\n    var group = this.get('group');\n\n    if (group) {\n      group.set('capture', enable);\n    }\n  };\n\n  ItemBase.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return ItemBase;\n}();\n\nexport default ItemBase;","import { __extends } from \"tslib\";\nimport { isString, isPlainObject, isNil, mix } from '@antv/util';\nimport Item from './item';\nvar END_MAP = {\n  source: 'start',\n  target: 'end'\n};\nvar ITEM_NAME_SUFFIX = 'Node'; //  sourceNode, targetNode\n\nvar POINT_NAME_SUFFIX = 'Point'; //  startPoint, endPoint\n\nvar ANCHOR_NAME_SUFFIX = 'Anchor';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Edge.prototype.getDefaultCfg = function () {\n    return {\n      type: 'edge',\n      sourceNode: null,\n      targetNode: null,\n      startPoint: null,\n      endPoint: null,\n      linkCenter: false\n    };\n  };\n\n  Edge.prototype.setEnd = function (name, value) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var preItem = this.get(itemName);\n\n    if (preItem && !preItem.destroyed) {\n      // \n      preItem.removeEdge(this);\n    }\n\n    if (isPlainObject(value)) {\n      // \n      this.set(pointName, value);\n      this.set(itemName, null);\n    } else {\n      value.addEdge(this);\n      this.set(itemName, value);\n      this.set(pointName, null);\n    }\n  };\n  /**\n   * \n   * @param name source | target\n   * @param model \n   * @param controlPoints \n   */\n\n\n  Edge.prototype.getLinkPoint = function (name, model, controlPoints) {\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var point = this.get(pointName);\n\n    if (!point) {\n      var item = this.get(itemName);\n      var anchorName = name + ANCHOR_NAME_SUFFIX;\n      var prePoint = this.getPrePoint(name, controlPoints);\n      var anchorIndex = model[anchorName];\n\n      if (!isNil(anchorIndex)) {\n        // \n        point = item.getLinkPointByAnchor(anchorIndex);\n      } // \n\n\n      point = point || item.getLinkPoint(prePoint);\n\n      if (!isNil(point.index)) {\n        this.set(\"\".concat(name, \"AnchorIndex\"), point.index);\n      }\n    }\n\n    return point;\n  };\n  /**\n   * \n   * @param name\n   * @param controlPoints\n   */\n\n\n  Edge.prototype.getPrePoint = function (name, controlPoints) {\n    if (controlPoints && controlPoints.length) {\n      var index = name === 'source' ? 0 : controlPoints.length - 1;\n      return controlPoints[index];\n    }\n\n    var oppositeName = name === 'source' ? 'target' : 'source'; // \n\n    return this.getEndPoint(oppositeName);\n  };\n  /**\n   * \n   * @param name\n   */\n\n\n  Edge.prototype.getEndPoint = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      return item.get('model');\n    } // \n\n\n    return this.get(pointName);\n  };\n  /**\n   * \n   * @param model\n   */\n\n\n  Edge.prototype.getControlPointsByCenter = function (model) {\n    var sourcePoint = this.getEndPoint('source');\n    var targetPoint = this.getEndPoint('target');\n    var shapeFactory = this.get('shapeFactory');\n    var type = model.type;\n    return shapeFactory.getControlPoints(type, {\n      startPoint: sourcePoint,\n      endPoint: targetPoint\n    });\n  };\n\n  Edge.prototype.getEndCenter = function (name) {\n    var itemName = name + ITEM_NAME_SUFFIX;\n    var pointName = END_MAP[name] + POINT_NAME_SUFFIX;\n    var item = this.get(itemName); //  model\n\n    if (item) {\n      var bbox = item.getBBox();\n      return {\n        x: bbox.centerX,\n        y: bbox.centerY\n      };\n    } // \n\n\n    return this.get(pointName);\n  };\n\n  Edge.prototype.init = function () {\n    _super.prototype.init.call(this); // \n\n\n    this.setSource(this.get('source'));\n    this.setTarget(this.get('target'));\n  };\n\n  Edge.prototype.getShapeCfg = function (model) {\n    var self = this;\n    var linkCenter = self.get('linkCenter'); // \n\n    var cfg = _super.prototype.getShapeCfg.call(this, model);\n\n    if (linkCenter) {\n      cfg.startPoint = self.getEndCenter('source');\n      cfg.endPoint = self.getEndCenter('target');\n    } else {\n      var controlPoints = cfg.controlPoints || self.getControlPointsByCenter(cfg);\n      cfg.startPoint = self.getLinkPoint('source', model, controlPoints);\n      cfg.endPoint = self.getLinkPoint('target', model, controlPoints);\n    }\n\n    cfg.sourceNode = self.get('sourceNode');\n    cfg.targetNode = self.get('targetNode');\n    return cfg;\n  };\n  /**\n   * \n   */\n\n\n  Edge.prototype.getModel = function () {\n    var out = this.get('model');\n    var sourceItem = this.get(\"source\".concat(ITEM_NAME_SUFFIX));\n    var targetItem = this.get(\"target\".concat(ITEM_NAME_SUFFIX));\n\n    if (sourceItem) {\n      delete out[\"source\".concat(ITEM_NAME_SUFFIX)];\n    } else {\n      out.source = this.get(\"start\".concat(POINT_NAME_SUFFIX));\n    }\n\n    if (targetItem) {\n      delete out[\"target\".concat(ITEM_NAME_SUFFIX)];\n    } else {\n      out.target = this.get(\"end\".concat(POINT_NAME_SUFFIX));\n    }\n\n    if (!isString(out.source) && !isPlainObject(out.source)) {\n      out.source = out.source.getID();\n    }\n\n    if (!isString(out.target) && !isPlainObject(out.target)) {\n      out.target = out.target.getID();\n    }\n\n    return out;\n  };\n\n  Edge.prototype.setSource = function (source) {\n    this.setEnd('source', source);\n    this.set('source', source);\n  };\n\n  Edge.prototype.setTarget = function (target) {\n    this.setEnd('target', target);\n    this.set('target', target);\n  };\n\n  Edge.prototype.getSource = function () {\n    return this.get('source');\n  };\n\n  Edge.prototype.getTarget = function () {\n    return this.get('target');\n  };\n\n  Edge.prototype.updatePosition = function () {\n    return false;\n  };\n  /**\n   *  path \n   * @param {object} cfg \n   */\n\n\n  Edge.prototype.update = function (cfg, onlyMove) {\n    if (onlyMove === void 0) {\n      onlyMove = false;\n    }\n\n    var model = this.get('model');\n    var oriVisible = model.visible;\n    var cfgVisible = cfg.visible;\n    if (oriVisible !== cfgVisible && cfgVisible !== undefined) this.changeVisibility(cfgVisible);\n    var styles = this.get('styles');\n\n    if (cfg.stateStyles) {\n      //  item  this.get('styles') \n      var stateStyles = cfg.stateStyles;\n      mix(styles, stateStyles);\n      delete cfg.stateStyles;\n    }\n\n    Object.assign(model, cfg);\n    this.updateShape();\n    this.afterUpdate();\n    this.clearCache();\n  };\n\n  Edge.prototype.destroy = function () {\n    var sourceItem = this.get(\"source\".concat(ITEM_NAME_SUFFIX));\n    var targetItem = this.get(\"target\".concat(ITEM_NAME_SUFFIX));\n\n    if (sourceItem && !sourceItem.destroyed) {\n      sourceItem.removeEdge(this);\n    }\n\n    if (targetItem && !targetItem.destroyed) {\n      targetItem.removeEdge(this);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  return Edge;\n}(Item);\n\nexport default Edge;","import { __extends } from \"tslib\";\nimport { each, isNil } from '@antv/util';\nimport { distance, getCircleIntersectByPoint, getEllipseIntersectByPoint, getRectIntersectByPoint } from '../util/math';\nimport Item from './item';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\nvar CACHE_BBOX = 'bboxCache';\n\nvar Node =\n/** @class */\nfunction (_super) {\n  __extends(Node, _super);\n\n  function Node() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Node.prototype.getNearestPoint = function (points, curPoint) {\n    var index = 0;\n    var nearestPoint = points[0];\n    var minDistance = distance(points[0], curPoint);\n\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      var dis = distance(point, curPoint);\n\n      if (dis < minDistance) {\n        nearestPoint = point;\n        minDistance = dis;\n        index = i;\n      }\n    }\n\n    nearestPoint.anchorIndex = index;\n    return nearestPoint;\n  };\n\n  Node.prototype.getDefaultCfg = function () {\n    return {\n      type: 'node',\n      edges: []\n    };\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getInEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('target') === self;\n    });\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.getOutEdges = function () {\n    var self = this;\n    return this.get('edges').filter(function (edge) {\n      return edge.get('source') === self;\n    });\n  };\n  /**\n   * \n   *\n   * @returns {INode[]}\n   * @memberof Node\n   */\n\n\n  Node.prototype.getNeighbors = function (type) {\n    var _this = this;\n\n    var edges = this.get('edges');\n\n    if (type === 'target') {\n      //  source\n      var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n        return edge.getSource() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_1).map(function (edge) {\n        return edge.getTarget();\n      });\n    }\n\n    if (type === 'source') {\n      //  target\n      var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n        return edge.getTarget() === _this;\n      };\n\n      return edges.filter(neighhborsConverter_2).map(function (edge) {\n        return edge.getSource();\n      });\n    } //  type \n\n\n    var neighhborsConverter = function neighhborsConverter(edge) {\n      return edge.getSource() === _this ? edge.getTarget() : edge.getSource();\n    };\n\n    return edges.map(neighhborsConverter);\n  };\n  /**\n   * \n   * @param  {Number} index \n   */\n\n\n  Node.prototype.getLinkPointByAnchor = function (index) {\n    var anchorPoints = this.getAnchorPoints();\n    return anchorPoints[index];\n  };\n  /**\n   * \n   * @param point\n   */\n\n\n  Node.prototype.getLinkPoint = function (point) {\n    var keyShape = this.get('keyShape');\n    var type = keyShape.get('type');\n    var itemType = this.get('type');\n    var centerX;\n    var centerY;\n    var bbox = this.getBBox();\n\n    if (itemType === 'combo') {\n      centerX = bbox.centerX || (bbox.maxX + bbox.minX) / 2;\n      centerY = bbox.centerY || (bbox.maxY + bbox.minY) / 2;\n    } else {\n      centerX = bbox.centerX;\n      centerY = bbox.centerY;\n    }\n\n    var anchorPoints = this.getAnchorPoints();\n    var intersectPoint;\n\n    switch (type) {\n      case 'circle':\n        intersectPoint = getCircleIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          r: bbox.width / 2\n        }, point);\n        break;\n\n      case 'ellipse':\n        intersectPoint = getEllipseIntersectByPoint({\n          x: centerX,\n          y: centerY,\n          rx: bbox.width / 2,\n          ry: bbox.height / 2\n        }, point);\n        break;\n\n      default:\n        intersectPoint = getRectIntersectByPoint(bbox, point);\n    }\n\n    var linkPoint = intersectPoint; // \n\n    if (anchorPoints.length) {\n      if (!linkPoint) {\n        // \n        linkPoint = point;\n      }\n\n      linkPoint = this.getNearestPoint(anchorPoints, linkPoint);\n    }\n\n    if (!linkPoint) {\n      // \n      linkPoint = {\n        x: centerX,\n        y: centerY\n      };\n    }\n\n    return linkPoint;\n  };\n  /**\n   * \n   * @return {array} anchorPoints\n   */\n\n\n  Node.prototype.getAnchorPoints = function () {\n    var anchorPoints = this.get(CACHE_ANCHOR_POINTS);\n\n    if (!anchorPoints) {\n      anchorPoints = [];\n      var shapeFactory = this.get('shapeFactory');\n      var bbox_1 = this.getBBox();\n      var model = this.get('model');\n      var shapeCfg = this.getShapeCfg(model);\n      var type = model.type;\n      var points = shapeFactory.getAnchorPoints(type, shapeCfg) || [];\n      each(points, function (pointArr, index) {\n        var point = {\n          x: bbox_1.minX + pointArr[0] * bbox_1.width,\n          y: bbox_1.minY + pointArr[1] * bbox_1.height,\n          anchorIndex: index\n        };\n        anchorPoints.push(point);\n      });\n      this.set(CACHE_ANCHOR_POINTS, anchorPoints);\n    }\n\n    return anchorPoints;\n  };\n  /**\n   * add edge\n   * @param edge Edge instance\n   */\n\n\n  Node.prototype.addEdge = function (edge) {\n    this.get('edges').push(edge);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.lock = function () {\n    this.set('locked', true);\n  };\n  /**\n   * \n   */\n\n\n  Node.prototype.unlock = function () {\n    this.set('locked', false);\n  };\n\n  Node.prototype.hasLocked = function () {\n    return this.get('locked');\n  };\n  /**\n   * \n   * @param {Edge} edge \n   */\n\n\n  Node.prototype.removeEdge = function (edge) {\n    var edges = this.getEdges();\n    var index = edges.indexOf(edge);\n\n    if (index > -1) {\n      edges.splice(index, 1);\n    }\n  };\n\n  Node.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n  /**\n   * \n   * @param cfg \n   */\n\n\n  Node.prototype.isOnlyMove = function (cfg) {\n    if (!cfg) {\n      return false;\n    }\n\n    var existX = !isNil(cfg.x);\n    var existY = !isNil(cfg.y);\n    var keys = Object.keys(cfg); //  x   y\n    //  x y\n\n    return keys.length === 1 && (existX || existY) || keys.length === 2 && existX && existY;\n  };\n\n  return Node;\n}(Item);\n\nexport default Node;","import { __assign, __extends } from \"tslib\";\nimport Node from './node';\nimport Global from '../global';\nimport { getBBox } from '../util/graphic';\nimport { isNumber } from '@antv/util';\nvar CACHE_BBOX = 'bboxCache';\nvar CACHE_CANVAS_BBOX = 'bboxCanvasCache';\nvar CACHE_SIZE = 'sizeCache';\nvar CACHE_ANCHOR_POINTS = 'anchorPointsCache';\n\nvar Combo =\n/** @class */\nfunction (_super) {\n  __extends(Combo, _super);\n\n  function Combo() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Combo.prototype.getDefaultCfg = function () {\n    return {\n      type: 'combo',\n      nodes: [],\n      edges: [],\n      combos: []\n    };\n  };\n\n  Combo.prototype.getShapeCfg = function (model) {\n    var styles = this.get('styles');\n    var bbox = this.get('bbox');\n\n    if (styles && bbox) {\n      // merge graphitem\n      var newModel = model;\n      var size = {\n        r: Math.hypot(bbox.height, bbox.width) / 2 || Global.defaultCombo.size[0] / 2,\n        width: bbox.width || Global.defaultCombo.size[0],\n        height: bbox.height || Global.defaultCombo.size[1]\n      };\n      newModel.style = __assign(__assign(__assign({}, styles), model.style), size);\n      var padding = model.padding || Global.defaultCombo.padding;\n\n      if (isNumber(padding)) {\n        size.r += padding;\n        size.width += padding * 2;\n        size.height += padding * 2;\n      } else {\n        size.r += padding[0];\n        size.width += padding[1] + padding[3] || padding[1] * 2;\n        size.height += padding[0] + padding[2] || padding[0] * 2;\n      }\n\n      this.set(CACHE_SIZE, size);\n      return newModel;\n    }\n\n    return model;\n  };\n  /**\n   *  keyshape \n   */\n\n\n  Combo.prototype.calculateCanvasBBox = function () {\n    if (this.destroyed) return;\n    var keyShape = this.get('keyShape');\n    var group = this.get('group'); //  group \n\n    var bbox = getBBox(keyShape, group);\n    bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n    bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    var cacheSize = this.get(CACHE_SIZE);\n    var cacheBBox = this.get(CACHE_BBOX) || {};\n    var oriX = cacheBBox.x;\n    var oriY = cacheBBox.x;\n\n    if (cacheSize) {\n      cacheSize.width = Math.max(cacheSize.width, bbox.width);\n      cacheSize.height = Math.max(cacheSize.height, bbox.height);\n      var type = keyShape.get('type');\n\n      if (type === 'circle') {\n        bbox.width = cacheSize.r * 2;\n        bbox.height = cacheSize.r * 2;\n      } else {\n        bbox.width = cacheSize.width;\n        bbox.height = cacheSize.height;\n      }\n\n      bbox.minX = bbox.centerX - bbox.width / 2;\n      bbox.minY = bbox.centerY - bbox.height / 2;\n      bbox.maxX = bbox.centerX + bbox.width / 2;\n      bbox.maxY = bbox.centerY + bbox.height / 2;\n    } else {\n      bbox.width = bbox.maxX - bbox.minX;\n      bbox.height = bbox.maxY - bbox.minY;\n      bbox.centerX = (bbox.minX + bbox.maxX) / 2;\n      bbox.centerY = (bbox.minY + bbox.maxY) / 2;\n    }\n\n    bbox.x = bbox.minX;\n    bbox.y = bbox.minY;\n    if (bbox.x !== oriX || bbox.y !== oriY) this.set(CACHE_ANCHOR_POINTS, null);\n    return bbox;\n  };\n  /**\n   *  Combo  ComboNode  Edge\n   */\n\n\n  Combo.prototype.getChildren = function () {\n    var self = this;\n    return {\n      nodes: self.getNodes(),\n      combos: self.getCombos()\n    };\n  };\n  /**\n   *  Combo \n   */\n\n\n  Combo.prototype.getNodes = function () {\n    var self = this;\n    return self.get('nodes');\n  };\n  /**\n   *  Combo  combo\n   */\n\n\n  Combo.prototype.getCombos = function () {\n    var self = this;\n    return self.get('combos');\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.addNode(item);\n        break;\n\n      case 'combo':\n        self.addCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addCombo = function (combo) {\n    var self = this;\n    self.get('combos').push(combo);\n    return true;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.addNode = function (node) {\n    var self = this;\n    self.get('nodes').push(node);\n    return true;\n  };\n  /**\n   *  Combo  combo  node\n   * @param item Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeChild = function (item) {\n    var self = this;\n    var itemType = item.getType();\n\n    switch (itemType) {\n      case 'node':\n        self.removeNode(item);\n        break;\n\n      case 'combo':\n        self.removeCombo(item);\n        break;\n\n      default:\n        console.warn('Only node or combo items are allowed to be added into a combo');\n        return false;\n    }\n\n    return true;\n  };\n  /**\n   *  Combo  combo\n   * @param combo Combo \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeCombo = function (combo) {\n    if (!combo) return;\n    var combos = this.getCombos();\n    var index = combos.indexOf(combo);\n\n    if (index > -1) {\n      combos.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   *  Combo \n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Combo.prototype.removeNode = function (node) {\n    if (!node) return;\n    var nodes = this.getNodes();\n    var index = nodes.indexOf(node);\n\n    if (index > -1) {\n      nodes.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  };\n\n  Combo.prototype.isOnlyMove = function (cfg) {\n    return false;\n  };\n  /**\n   *  item  item  matrix \n   * @return {Object}  x,y,width,height, centerX, centerY\n   */\n\n\n  Combo.prototype.getBBox = function () {\n    this.set(CACHE_CANVAS_BBOX, null);\n    var bbox = this.calculateCanvasBBox();\n    return bbox;\n  };\n\n  Combo.prototype.clearCache = function () {\n    this.set(CACHE_BBOX, null); //  bbox\n\n    this.set(CACHE_CANVAS_BBOX, null);\n    this.set(CACHE_ANCHOR_POINTS, null);\n  };\n\n  Combo.prototype.destroy = function () {\n    if (!this.destroyed) {\n      var animate = this.get('animate');\n      var group = this.get('group');\n\n      if (animate) {\n        group.stopAnimate();\n      }\n\n      this.clearCache();\n      this.set(CACHE_SIZE, null);\n      this.set('bbox', null);\n      group.remove();\n      this._cfg = null;\n      this.destroyed = true;\n    }\n  };\n\n  return Combo;\n}(Node);\n\nexport default Combo;","import { __assign } from \"tslib\";\nimport { clone, deepMix, each, isArray, isObject, isString, upperFirst } from '@antv/util';\nimport Edge from '../../item/edge';\nimport Node from '../../item/node';\nimport Combo from '../../item/combo';\nimport { traverseTreeUp, traverseTree, getComboBBox, shouldRefreshEdge } from '../../util/graphic';\nvar NODE = 'node';\nvar EDGE = 'edge';\nvar VEDGE = 'vedge';\nvar COMBO = 'combo';\nvar CFG_PREFIX = 'default';\nvar MAPPER_SUFFIX = 'Mapper';\nvar STATE_SUFFIX = 'stateStyles';\n\nvar ItemController =\n/** @class */\nfunction () {\n  function ItemController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n  }\n  /**\n   *  Item \n   *\n   * @param {ITEM_TYPE} type node  edge\n   * @param {(NodeConfig & EdgeConfig)} model \n   * @returns {(Item)}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addItem = function (type, model) {\n    var graph = this.graph;\n    var vType = type === VEDGE ? EDGE : type;\n    var parent = graph.get(\"\".concat(vType, \"Group\")) || graph.get('group');\n    var upperType = upperFirst(vType);\n    var item = null; //  this.get('styles') \n\n    var styles = graph.get(vType + upperFirst(STATE_SUFFIX)) || {};\n    var defaultModel = graph.get(CFG_PREFIX + upperType);\n\n    if (model[STATE_SUFFIX]) {\n      //  this.get('styles') \n      styles = model[STATE_SUFFIX];\n    }\n\n    if (defaultModel) {\n      //  merge  model \n      each(defaultModel, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, val, model[cfg]);\n        } else if (isArray(val)) {\n          model[cfg] = model[cfg] || clone(defaultModel[cfg]);\n        } else {\n          model[cfg] = model[cfg] || defaultModel[cfg];\n        }\n      });\n    }\n\n    var mapper = graph.get(vType + MAPPER_SUFFIX);\n\n    if (mapper) {\n      var mappedModel_1 = mapper(model);\n\n      if (mappedModel_1[STATE_SUFFIX]) {\n        //  this.get('styles') \n        styles = mappedModel_1[STATE_SUFFIX];\n        delete mappedModel_1[STATE_SUFFIX];\n      } //  defaultEdge  defaultNode\n\n\n      each(mappedModel_1, function (val, cfg) {\n        if (isObject(val) && !isArray(val)) {\n          model[cfg] = deepMix({}, model[cfg], val);\n        } else {\n          model[cfg] = mappedModel_1[cfg] || model[cfg];\n        }\n      });\n    }\n\n    graph.emit('beforeadditem', {\n      type: type,\n      model: model\n    });\n\n    if (type === EDGE || type === VEDGE) {\n      var source = void 0;\n      var target = void 0;\n      source = model.source; // eslint-disable-line prefer-destructuring\n\n      target = model.target; // eslint-disable-line prefer-destructuring\n\n      if (source && isString(source)) {\n        source = graph.findById(source);\n      }\n\n      if (target && isString(target)) {\n        target = graph.findById(target);\n      }\n\n      if (!source || !target) {\n        console.warn(\"The source or target node of edge \".concat(model.id, \" does not exist!\"));\n        return;\n      }\n\n      if (source.getType && source.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(source as ICombo);\n      }\n\n      if (target.getType && target.getType() === 'combo') {\n        model.isComboEdge = true; // graph.updateCombo(target as ICombo);\n      }\n\n      item = new Edge({\n        model: model,\n        source: source,\n        target: target,\n        styles: styles,\n        linkCenter: graph.get('linkCenter'),\n        group: parent.addGroup()\n      });\n    } else if (type === NODE) {\n      item = new Node({\n        model: model,\n        styles: styles,\n        group: parent.addGroup()\n      });\n    } else if (type === COMBO) {\n      var children = model.children;\n      var comboBBox = getComboBBox(children, graph);\n      if (!isNaN(comboBBox.x)) model.x = comboBBox.x;else if (isNaN(model.x)) model.x = Math.random() * 100;\n      if (!isNaN(comboBBox.y)) model.y = comboBBox.y;else if (isNaN(model.y)) model.y = Math.random() * 100;\n      var comboGroup = parent.addGroup();\n      comboGroup.setZIndex(model.depth);\n      item = new Combo({\n        model: model,\n        styles: styles,\n        bbox: model.collapsed ? getComboBBox([], graph) : comboBBox,\n        group: comboGroup\n      });\n      var comboModel_1 = item.getModel();\n      (children || []).forEach(function (child) {\n        var childItem = graph.findById(child.id);\n        item.addChild(childItem);\n        child.depth = comboModel_1.depth + 2;\n      }); // collapse the combo if the collapsed is true in the model\n\n      if (model.collapsed) {\n        setTimeout(function () {\n          graph.collapseCombo(item);\n        }, 16);\n      }\n    }\n\n    if (item) {\n      graph.get(\"\".concat(type, \"s\")).push(item);\n      graph.get('itemMap')[item.get('id')] = item;\n      graph.emit('afteradditem', {\n        item: item,\n        model: model\n      }); // eslint-disable-next-line consistent-return\n\n      return item;\n    }\n  };\n  /**\n   * \n   *\n   * @param {Item} item ID  \n   * @param {(EdgeConfig | Partial<NodeConfig>)} cfg \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateItem = function (item, cfg) {\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    } //  item \n\n\n    var type = '';\n    if (item.getType) type = item.getType();\n    var mapper = graph.get(type + MAPPER_SUFFIX);\n    var model = item.getModel();\n    var isOnlyMove = item.isOnlyMove(cfg);\n\n    if (mapper) {\n      var result = deepMix({}, model, cfg);\n      var mappedModel = mapper(result); //  update mapperModeldeepMix\n\n      var newModel = deepMix({}, model, mappedModel, cfg);\n\n      if (mappedModel[STATE_SUFFIX]) {\n        item.set('styles', newModel[STATE_SUFFIX]);\n        delete newModel[STATE_SUFFIX];\n      }\n\n      each(newModel, function (val, key) {\n        cfg[key] = val;\n      });\n    } else {\n      // merge updatemodel\n      each(cfg, function (val, key) {\n        if (model[key]) {\n          if (isObject(val) && !isArray(val)) {\n            cfg[key] = __assign(__assign({}, model[key]), cfg[key]);\n          }\n        }\n      });\n    } // emit beforeupdateitem \n\n\n    graph.emit('beforeupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n\n    if (type === EDGE) {\n      // source || target, modelstartPointendPoint\n      if (cfg.source) {\n        var source = cfg.source;\n\n        if (isString(source)) {\n          source = graph.findById(source);\n        }\n\n        item.setSource(source);\n      }\n\n      if (cfg.target) {\n        var target = cfg.target;\n\n        if (isString(target)) {\n          target = graph.findById(target);\n        }\n\n        item.setTarget(target);\n      }\n\n      item.update(cfg);\n    } // item.update(cfg);\n\n\n    if (type === NODE || type === COMBO) {\n      item.update(cfg, isOnlyMove);\n      var edges_1 = item.getEdges();\n      var refreshEdge = shouldRefreshEdge(cfg);\n      if (refreshEdge && type === NODE) each(edges_1, function (edge) {\n        edge.refresh();\n      });else if (refreshEdge && type === COMBO) {\n        var shapeFactory = item.get('shapeFactory');\n        var shapeType = model.type || 'circle';\n        var comboAnimate = model.animate === undefined || cfg.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate || cfg.animate;\n\n        if (comboAnimate) {\n          setTimeout(function () {\n            if (!item || item.destroyed) return;\n            var keyShape = item.getKeyShape();\n            if (!keyShape || keyShape.destroyed) return;\n            each(edges_1, function (edge) {\n              if (edge && !edge.destroyed) edge.refresh();\n            });\n          }, 201);\n        } else {\n          each(edges_1, function (edge) {\n            edge.refresh();\n          });\n        }\n      }\n    }\n\n    graph.emit('afterupdateitem', {\n      item: item,\n      cfg: cfg\n    });\n  };\n  /**\n   *  combo  combo \n   *\n   * @param {ICombo} combo ID  \n   * @returns\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.updateCombo = function (combo, children) {\n    var _this = this;\n\n    var _a, _b;\n\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    if (!combo || combo.destroyed) {\n      return;\n    }\n\n    var model = combo.getModel();\n    var comboBBox = getComboBBox(model.collapsed ? [] : children, graph);\n    combo.set('bbox', comboBBox);\n    combo.update({\n      x: comboBBox.x,\n      y: comboBBox.y\n    });\n    var shapeFactory = combo.get('shapeFactory');\n    var shapeType = model.type || 'circle';\n    var comboAnimate = model.animate === undefined ? (_b = (_a = shapeFactory[shapeType]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.animate : model.animate;\n\n    if (comboAnimate) {\n      setTimeout(function () {\n        if (!combo || combo.destroyed) return;\n        var keyShape = combo.getKeyShape();\n        if (!keyShape || keyShape.destroyed) return;\n        combo.getShapeCfg(model); //  combo  size\n\n        _this.updateComboEdges(combo);\n      }, 201);\n    } else {\n      this.updateComboEdges(combo);\n    }\n  };\n\n  ItemController.prototype.updateComboEdges = function (combo) {\n    var combEdges = combo.getEdges() || [];\n\n    for (var i = 0; i < combEdges.length; i++) {\n      var edge = combEdges[i];\n\n      if (edge && !edge.destroyed) {\n        var edgeSF = edge.get('shapeFactory');\n        var edgeCfg = edge.getShapeCfg(edge.getModel());\n        var edgeGroup = edge.getContainer();\n        edgeGroup.clear();\n        var keyShape = edgeSF.draw(edgeCfg.type, edgeCfg, edgeGroup);\n        edge.set('keyShape', keyShape);\n        keyShape.set('isKeyShape', true);\n        keyShape.set('draggable', true);\n        edge.setOriginStyle();\n      }\n    }\n  };\n  /**\n   *  combo\n   */\n\n\n  ItemController.prototype.collapseCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.hideItem(node);\n    });\n    children.combos.forEach(function (c) {\n      graph.hideItem(c);\n    });\n  };\n  /**\n   *  combo\n   *  combo \n   */\n\n\n  ItemController.prototype.expandCombo = function (combo) {\n    var graph = this.graph;\n\n    if (isString(combo)) {\n      combo = graph.findById(combo);\n    }\n\n    var children = combo.getChildren();\n    children.nodes.forEach(function (node) {\n      graph.showItem(node);\n    });\n    children.combos.forEach(function (c) {\n      if (c.getModel().collapsed) {\n        c.show();\n      } else {\n        graph.showItem(c);\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {Item} item item ID \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.removeItem = function (item) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    var itemModel = clone(item.getModel());\n    graph.emit('beforeremoveitem', {\n      item: itemModel\n    });\n    var type = '';\n    if (item.getType) type = item.getType();\n    var items = graph.get(\"\".concat(type, \"s\"));\n    var index = items.indexOf(item);\n    if (index > -1) items.splice(index, 1);\n\n    if (type === EDGE) {\n      var vitems = graph.get(\"v\".concat(type, \"s\"));\n      var vindex = vitems.indexOf(item);\n      if (vindex > -1) vitems.splice(vindex, 1);\n    }\n\n    var itemId = item.get('id');\n    var itemMap = graph.get('itemMap');\n    delete itemMap[itemId];\n    var comboTrees = graph.get('comboTrees');\n    var id = item.get('id');\n\n    if (type === NODE) {\n      var comboId = item.getModel().comboId;\n\n      if (comboTrees && comboId) {\n        var brothers_1 = comboTrees;\n        var found_1 = false; // the flag to terminate the forEach circulation\n        // remove the node from the children array of its parent fromt he tree\n\n        comboTrees.forEach(function (ctree) {\n          if (found_1) return;\n          traverseTree(ctree, function (combo) {\n            if (combo.id === id && brothers_1) {\n              var bidx = brothers_1.indexOf(combo);\n              brothers_1.splice(bidx, 1);\n              found_1 = true;\n              return false; // terminate the traverse\n            }\n\n            brothers_1 = combo.children;\n            return true;\n          });\n        });\n      } // \n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length - 1; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (comboId) graph.updateCombo(comboId);\n    } else if (type === COMBO) {\n      var parentId = item.getModel().parentId;\n      var comboInTree_1; // find the subtree rooted at the item to be removed\n\n      var found_2 = false; // the flag to terminate the forEach circulation\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_2) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id) {\n            comboInTree_1 = combo;\n            found_2 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n      comboInTree_1.removed = true;\n\n      if (comboInTree_1 && comboInTree_1.children) {\n        comboInTree_1.children.forEach(function (child) {\n          _this.removeItem(child.id);\n        });\n      } //  combo\n\n\n      var edges = item.getEdges();\n\n      for (var i = edges.length; i >= 0; i--) {\n        graph.removeItem(edges[i], false);\n      }\n\n      if (parentId) graph.updateCombo(parentId);\n    }\n\n    item.destroy();\n    graph.emit('afterremoveitem', {\n      item: itemModel\n    });\n  };\n  /**\n   *  item \n   *\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {boolean} value \n   * @returns {void}\n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.setItemState = function (item, state, value) {\n    var graph = this.graph;\n    var stateName = state;\n\n    if (isString(value)) {\n      stateName = \"\".concat(state, \":\").concat(value);\n    } //  state state  undefined\n\n\n    if (item.hasState(stateName) === value && value || //  true  false \n    isString(value) && item.hasState(stateName)) {\n      //  value \n      return;\n    }\n\n    graph.emit('beforeitemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n    item.setState(state, value);\n    graph.autoPaint();\n    graph.emit('afteritemstatechange', {\n      item: item,\n      state: stateName,\n      enabled: value\n    });\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  ItemController.prototype.priorityState = function (item, state) {\n    var graph = this.graph;\n    var currentItem = item;\n\n    if (isString(item)) {\n      currentItem = graph.findById(item);\n    } //  state\n\n\n    this.setItemState(currentItem, state, false); // state\n\n    this.setItemState(currentItem, state, true);\n  };\n  /**\n   * \n   *\n   * @param {Item} item Item \n   * @param {string[]} states \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.clearItemStates = function (item, states) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemstatesclear', {\n      item: item,\n      states: states\n    });\n    item.clearStates(states);\n    graph.emit('afteritemstatesclear', {\n      item: item,\n      states: states\n    });\n  };\n  /**\n   *  Item\n   *\n   * @param {Item} item Item ID  \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.refreshItem = function (item) {\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    graph.emit('beforeitemrefresh', {\n      item: item\n    }); //  Item  refresh \n\n    item.refresh();\n    graph.emit('afteritemrefresh', {\n      item: item\n    });\n  };\n  /**\n   *  graph  combos  comboTree  combos\n   *\n   * @param {ComboTree[]} comboTrees graph  combos  comboTree\n   * @param {ComboConfig[]} comboModels combos \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.addCombos = function (comboTrees, comboModels) {\n    var _this = this;\n\n    var graph = this.graph;\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        var comboModel;\n        comboModels.forEach(function (model) {\n          if (model.id === child.id) {\n            model.children = child.children;\n            model.depth = child.depth;\n            comboModel = model;\n          }\n        });\n\n        if (comboModel) {\n          _this.addItem('combo', comboModel);\n        }\n\n        return true;\n      });\n    });\n    var comboGroup = graph.get('comboGroup');\n    if (comboGroup) comboGroup.sort();\n  };\n  /**\n   * Item\n   *\n   * @param {Item} item Item ID  \n   * @param {boolean} visible \n   * @memberof ItemController\n   */\n\n\n  ItemController.prototype.changeItemVisibility = function (item, visible) {\n    var _this = this;\n\n    var graph = this.graph;\n\n    if (isString(item)) {\n      item = graph.findById(item);\n    }\n\n    if (!item) {\n      console.warn('The item to be shown or hidden does not exist!');\n      return;\n    }\n\n    graph.emit('beforeitemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    item.changeVisibility(visible);\n\n    if (item.getType && item.getType() === NODE) {\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        // \n        // \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    } else if (item.getType && item.getType() === COMBO) {\n      var comboTrees = graph.get('comboTrees');\n      var id_1 = item.get('id');\n      var children_1 = [];\n      var found_3 = false; // flag the terminate the forEach\n\n      (comboTrees || []).forEach(function (ctree) {\n        if (found_3) return;\n        if (!ctree.children || ctree.children.length === 0) return;\n        traverseTree(ctree, function (combo) {\n          if (combo.id === id_1) {\n            children_1 = combo.children;\n            found_3 = true;\n            return false; // terminate the traverse\n          }\n\n          return true;\n        });\n      });\n\n      if (children_1 && (!visible || visible && !item.getModel().collapsed)) {\n        children_1.forEach(function (child) {\n          var childItem = graph.findById(child.id);\n\n          _this.changeItemVisibility(childItem, visible);\n        });\n      }\n\n      var edges = item.getEdges();\n      each(edges, function (edge) {\n        //  combo combo \n        //  combo combo \n        if (visible && !(edge.get('source').isVisible() && edge.get('target').isVisible())) {\n          return;\n        }\n\n        _this.changeItemVisibility(edge, visible);\n      });\n    }\n\n    graph.emit('afteritemvisibilitychange', {\n      item: item,\n      visible: visible\n    });\n    return item;\n  };\n\n  ItemController.prototype.destroy = function () {\n    this.graph = null;\n    this.destroyed = true;\n  };\n\n  return ItemController;\n}();\n\nexport default ItemController;","import { each, isString } from '@antv/util';\nvar timer = null;\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(graph) {\n    this.graph = graph;\n    /**\n     * this.cachedStates = {\n     *    enabled: {\n     *        hover: [Node]\n     *    },\n     *     disabled: {}\n     *  }\n     */\n\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n    this.destroyed = false;\n  }\n  /**\n   *  cache \n   *\n   * @private\n   * @param {Item} item\n   * @param {string} state\n   * @param {object} cache\n   * @returns\n   * @memberof State\n   */\n\n\n  StateController.checkCache = function (item, state, cache) {\n    if (!cache[state]) {\n      return;\n    }\n\n    var index = cache[state].indexOf(item);\n\n    if (index >= 0) {\n      cache[state].splice(index, 1);\n    }\n  };\n  /**\n   *  state\n   *\n   * @private\n   * @param {Item} item Item \n   * @param {string} state \n   * @param {object} states\n   * @memberof State\n   */\n\n\n  StateController.cacheState = function (item, state, states) {\n    if (!states[state]) {\n      states[state] = [];\n    }\n\n    states[state].push(item);\n  };\n  /**\n   *  Item \n   *\n   * @param {Item} item Item\n   * @param {string} state \n   * @param {boolean} enabled \n   * @memberof State\n   */\n\n\n  StateController.prototype.updateState = function (item, state, enabled) {\n    var _this = this;\n\n    var checkCache = StateController.checkCache,\n        cacheState = StateController.cacheState;\n\n    if (item.destroyed) {\n      return;\n    }\n\n    var cachedStates = this.cachedStates;\n    var enabledStates = cachedStates.enabled;\n    var disabledStates = cachedStates.disabled;\n\n    if (enabled) {\n      checkCache(item, state, disabledStates);\n      cacheState(item, state, enabledStates);\n    } else {\n      checkCache(item, state, enabledStates);\n      cacheState(item, state, disabledStates);\n    }\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      timer = null;\n\n      _this.updateGraphStates();\n    }, 16);\n  };\n  /**\n   *  states updateState state\n   *\n   * @param {Item} item\n   * @param {(string | string[])} states\n   * @param {boolean} enabled\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateStates = function (item, states, enabled) {\n    var _this = this;\n\n    if (isString(states)) {\n      this.updateState(item, states, enabled);\n    } else {\n      states.forEach(function (state) {\n        _this.updateState(item, state, enabled);\n      });\n    }\n  };\n  /**\n   *  states\n   *\n   * @memberof State\n   */\n\n\n  StateController.prototype.updateGraphStates = function () {\n    var states = this.graph.get('states');\n    var cachedStates = this.cachedStates;\n    each(cachedStates.disabled, function (val, key) {\n      if (states[key]) {\n        states[key] = states[key].filter(function (item) {\n          return val.indexOf(item) < 0 && !val.destroyed;\n        });\n      }\n    });\n    each(cachedStates.enabled, function (val, key) {\n      if (!states[key]) {\n        states[key] = val;\n      } else {\n        var map_1 = {};\n        states[key].forEach(function (item) {\n          if (!item.destroyed) {\n            map_1[item.get('id')] = true;\n          }\n        });\n        val.forEach(function (item) {\n          if (!item.destroyed) {\n            var id = item.get('id');\n\n            if (!map_1[id]) {\n              map_1[id] = true;\n              states[key].push(item);\n            }\n          }\n        });\n      }\n    });\n    this.graph.emit('graphstatechange', {\n      states: states\n    });\n    this.cachedStates = {\n      enabled: {},\n      disabled: {}\n    };\n  };\n\n  StateController.prototype.destroy = function () {\n    this.graph = null;\n    this.cachedStates = null;\n\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = null;\n    this.destroyed = true;\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import { vec2 } from '@antv/matrix-util';\nimport { catmullRom2Bezier } from '@antv/path-util';\n/**\n * \n * @param {String} str \n * @param {Object} o json data\n */\n\nvar substitute = function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    var res = o[name];\n    if (res === 0) res = '0';\n    return res || '';\n  });\n};\n/**\n *  M  C \n * @param points coordinate set\n */\n\n\nexport var getSpline = function getSpline(points) {\n  var data = [];\n\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \".concat(points.length));\n  }\n\n  for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n    var point = points_1[_i];\n    var x = point.x,\n        y = point.y;\n    data.push(x);\n    data.push(y);\n  }\n\n  var spliePath = catmullRom2Bezier(data);\n  spliePath.unshift(['M', points[0].x, points[0].y]);\n  return spliePath;\n};\n/**\n * \n * @param  {IPoint} startPoint  x,y\n * @param  {IPoint} endPoint  ,  x,y\n * @param  {Number} percent   , 0-1\n * @param  {Number} offset    \n * @return {IPoint}  x,y\n */\n\nexport var getControlPoint = function getControlPoint(startPoint, endPoint, percent, offset) {\n  if (percent === void 0) {\n    percent = 0;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  var point = {\n    x: (1 - percent) * startPoint.x + percent * endPoint.x,\n    y: (1 - percent) * startPoint.y + percent * endPoint.y\n  };\n  var tangent = [0, 0];\n  vec2.normalize(tangent, [endPoint.x - startPoint.x, endPoint.y - startPoint.y]);\n\n  if (!tangent || !tangent[0] && !tangent[1]) {\n    tangent = [0, 0];\n  }\n\n  var perpendicular = [-tangent[1] * offset, tangent[0] * offset]; // \n\n  point.x += perpendicular[0];\n  point.y += perpendicular[1];\n  return point;\n};\n/**\n * Path\n * @param {Array} points \n * @param {Boolen} z \n * @return {Array} Path\n */\n\nexport var pointsToPolygon = function pointsToPolygon(points, z) {\n  var length = points.length;\n\n  if (!length) {\n    return '';\n  }\n\n  var path = '';\n  var str = '';\n\n  for (var i = 0; i < length; i++) {\n    var item = points[i];\n\n    if (i === 0) {\n      str = 'M{x} {y}';\n    } else {\n      str = 'L{x} {y}';\n    }\n\n    path += substitute(str, item);\n  }\n\n  if (z) {\n    path += 'Z';\n  }\n\n  return path;\n};\nexport var pathToPoints = function pathToPoints(path) {\n  var points = [];\n  path.forEach(function (seg) {\n    var command = seg[0];\n\n    if (command !== 'A') {\n      for (var i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      var length_1 = seg.length;\n      points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n    }\n  });\n  return points;\n};\n/**\n * \n * @param points\n */\n\nexport var getClosedSpline = function getClosedSpline(points) {\n  if (points.length < 2) {\n    throw new Error(\"point length must largn than 2, now it's \".concat(points.length));\n  }\n\n  var first = points[0];\n  var second = points[1];\n  var last = points[points.length - 1];\n  var lastSecond = points[points.length - 2];\n  points.unshift(last);\n  points.unshift(lastSecond);\n  points.push(first);\n  points.push(second);\n  var closedPath = [];\n\n  for (var i = 1; i < points.length - 2; i += 1) {\n    var x0 = points[i - 1].x;\n    var y0 = points[i - 1].y;\n    var x1 = points[i].x;\n    var y1 = points[i].y;\n    var x2 = points[i + 1].x;\n    var y2 = points[i + 1].y;\n    var x3 = i !== points.length - 2 ? points[i + 2].x : x2;\n    var y3 = i !== points.length - 2 ? points[i + 2].y : y2;\n    var cp1x = x1 + (x2 - x0) / 6;\n    var cp1y = y1 + (y2 - y0) / 6;\n    var cp2x = x2 - (x3 - x1) / 6;\n    var cp2y = y2 - (y3 - y1) / 6;\n    closedPath.push(['C', cp1x, cp1y, cp2x, cp2y, x2, y2]);\n  }\n\n  closedPath.unshift(['M', last.x, last.y]);\n  return closedPath;\n};\n\nvar vecScaleTo = function vecScaleTo(v, length) {\n  // Vector with direction of v with specified length\n  return vec2.scale([0, 0], vec2.normalize([0, 0], v), length);\n};\n\nvar unitNormal = function unitNormal(p0, p1) {\n  // Returns the unit normal to the line segment from p0 to p1.\n  var n = [p0[1] - p1[1], p1[0] - p0[0]];\n  var nLength = Math.sqrt(n[0] * n[0] + n[1] * n[1]);\n\n  if (nLength === 0) {\n    throw new Error('p0 should not be equal to p1');\n  }\n\n  return [n[0] / nLength, n[1] / nLength];\n};\n\nvar vecFrom = function vecFrom(p0, p1) {\n  // Vector from p0 to p1\n  return [p1[0] - p0[0], p1[1] - p0[1]];\n};\n/**\n * \n * @param polyPoints \n * @param padding \n */\n\n\nexport function roundedHull(polyPoints, padding) {\n  // The rounded hull path around a single point\n  var roundedHull1 = function roundedHull1(points) {\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \".concat(p1, \" A \").concat(padding, \",\").concat(padding, \",0,0,0,\").concat(p2, \" A \").concat(padding, \",\").concat(padding, \",0,0,0,\").concat(p1);\n  }; // The rounded hull path around two points\n\n\n  var roundedHull2 = function roundedHull2(points) {\n    var offsetVector = vec2.scale([0, 0], unitNormal(points[0], points[1]), padding);\n    var invOffsetVector = vec2.scale([0, 0], offsetVector, -1);\n    var p0 = vec2.add([0, 0], points[0], offsetVector);\n    var p1 = vec2.add([0, 0], points[1], offsetVector);\n    var p2 = vec2.add([0, 0], points[1], invOffsetVector);\n    var p3 = vec2.add([0, 0], points[0], invOffsetVector);\n    return \"M \".concat(p0, \" L \").concat(p1, \" A \").concat([padding, padding, '0,0,0', p2].join(','), \" L \").concat(p3, \" A \").concat([padding, padding, '0,0,0', p0].join(','));\n  }; // 2\n\n\n  if (!polyPoints || polyPoints.length < 1) return '';\n  if (polyPoints.length === 1) return roundedHull1(polyPoints);\n  if (polyPoints.length === 2) return roundedHull2(polyPoints);\n  var segments = new Array(polyPoints.length); // Calculate each offset (outwards) segment of the convex hull.\n\n  for (var segmentIndex = 0; segmentIndex < segments.length; ++segmentIndex) {\n    var p0 = segmentIndex === 0 ? polyPoints[polyPoints.length - 1] : polyPoints[segmentIndex - 1];\n    var p1 = polyPoints[segmentIndex]; // Compute the offset vector for the line segment, with length = padding.\n\n    var offset = vec2.scale([0, 0], unitNormal(p0, p1), padding);\n    segments[segmentIndex] = [vec2.add([0, 0], p0, offset), vec2.add([0, 0], p1, offset)];\n  }\n\n  var arcData = \"A \".concat([padding, padding, '0,0,0,'].join(','));\n  segments = segments.map(function (segment, index) {\n    var pathFragment = '';\n\n    if (index === 0) {\n      pathFragment = \"M \".concat(segments[segments.length - 1][1], \" \");\n    }\n\n    pathFragment += \"\".concat(arcData + segment[0], \" L \").concat(segment[1]);\n    return pathFragment;\n  });\n  return segments.join(' ');\n}\n/**\n * \n * @param polyPoints\n * @param padding\n */\n\nexport function paddedHull(polyPoints, padding) {\n  var pointCount = polyPoints.length;\n\n  var smoothHull1 = function smoothHull1(points) {\n    // Returns the path for a circular hull around a single point.\n    var p1 = [points[0][0], points[0][1] - padding];\n    var p2 = [points[0][0], points[0][1] + padding];\n    return \"M \".concat(p1, \" A \").concat([padding, padding, '0,0,0', p2].join(','), \" A \").concat([padding, padding, '0,0,0', p1].join(','));\n  }; // Returns the path for a rounded hull around two points.\n\n\n  var smoothHull2 = function smoothHull2(points) {\n    var v = vecFrom(points[0], points[1]);\n    var extensionVec = vecScaleTo(v, padding);\n    var extension0 = vec2.add([0, 0], points[0], vec2.scale([0, 0], extensionVec, -1));\n    var extension1 = vec2.add([0, 0], points[1], extensionVec);\n    var tangentHalfLength = 1.2 * padding;\n    var controlDelta = vecScaleTo(vec2.normalize([0, 0], v), tangentHalfLength);\n    var invControlDelta = vec2.scale([0, 0], controlDelta, -1);\n    var control0 = vec2.add([0, 0], extension0, invControlDelta);\n    var control1 = vec2.add([0, 0], extension1, invControlDelta);\n    var control3 = vec2.add([0, 0], extension0, controlDelta); // return [\n    //   ['M', extension0[0], extension0[1]],\n    //   ['C', control0, control1, extension1],\n    //   ['S', control3, extension0],\n    //   'Z',\n    // ];\n\n    return \"M \".concat(extension0, \" C \").concat([control0, control1, extension1].join(','), \" S \").concat([control3, extension0].join(','), \" Z\");\n  }; // Handle special cases\n\n\n  if (!polyPoints || pointCount < 1) return '';\n  if (pointCount === 1) return smoothHull1(polyPoints);\n  if (pointCount === 2) return smoothHull2(polyPoints);\n  var hullPoints = polyPoints.map(function (point, index) {\n    var pNext = polyPoints[(index + 1) % pointCount];\n    return {\n      p: point,\n      v: vec2.normalize([0, 0], vecFrom(point, pNext))\n    };\n  }); // Compute the expanded hull points, and the nearest prior control point for each.\n\n  for (var i = 0; i < hullPoints.length; ++i) {\n    var priorIndex = i > 0 ? i - 1 : pointCount - 1;\n    var extensionVec = vec2.normalize([0, 0], vec2.add([0, 0], hullPoints[priorIndex].v, vec2.scale([0, 0], hullPoints[i].v, -1)));\n    hullPoints[i].p = vec2.add([0, 0], hullPoints[i].p, vec2.scale([0, 0], extensionVec, padding));\n  }\n\n  return hullPoints.map(function (obj) {\n    var point = obj.p;\n    return {\n      x: point[0],\n      y: point[1]\n    };\n  });\n}","/**\n * Use cross product to judge the direction of the turn.\n * Returns a positive value, if OAB makes a clockwise turn,\n * negative for counter-clockwise turn, and zero if the points are collinear.\n */\nexport var cross = function cross(a, b, o) {\n  return (a.y - o.y) * (b.x - o.x) - (a.x - o.x) * (b.y - o.y);\n};\n/**\n * Generate a convex hull of given points. Andrew's monotone chain algorithm.\n * @param points An array of [x, y] representing the coordinates of points.\n * @return a list of vertices of the convex hull in counter-clockwise order,\n */\n\nexport var genConvexHull = function genConvexHull(items) {\n  var points = items.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  });\n  points.sort(function (a, b) {\n    return a.x === b.x ? a.y - b.y : a.x - b.x;\n  });\n\n  if (points.length === 1) {\n    return points;\n  } // build the lower hull\n\n\n  var lower = [];\n\n  for (var i = 0; i < points.length; i++) {\n    while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n      lower.pop();\n    }\n\n    lower.push(points[i]);\n  } // build the upper hull\n\n\n  var upper = [];\n\n  for (var i = points.length - 1; i >= 0; i--) {\n    while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[i]) <= 0) {\n      upper.pop();\n    }\n\n    upper.push(points[i]);\n  }\n\n  upper.pop();\n  lower.pop();\n  var strictHull = lower.concat(upper);\n  return strictHull;\n};","import { squareDist, pointLineSquareDist, itemIntersectByLine, getPointsCenter, fractionToLine, isPointsOverlap, pointRectSquareDist, Line, isPointInPolygon } from '../../util/math';\nvar defaultOps = {\n  maxRoutingIterations: 100,\n  maxMarchingIterations: 100,\n  pixelGroupSize: 2,\n  edgeR0: 10,\n  edgeR1: 10,\n  nodeR0: 5,\n  nodeR1: 10,\n  morphBuffer: 5,\n  threshold: 0.001,\n  skip: 16,\n  nodeInfluenceFactor: 1,\n  edgeInfluenceFactor: 1,\n  negativeNodeInfluenceFactor: -0.5\n};\n/**\n * Marching square algorithm for traching the contour of a pixel group\n * https://www.emanueleferonato.com/2013/03/01/using-marching-squares-algorithm-to-trace-the-contour-of-an-image/\n * @param potentialArea\n * @param threshold\n */\n\nfunction MarchingSquares(contour, potentialArea, threshold) {\n  var marched = false;\n\n  var getVal = function getVal(x, y) {\n    return potentialArea.cells[x + y * potentialArea.width];\n  };\n\n  var getState = function getState(x, y) {\n    var squareVal = 0;\n\n    if (getVal(x - 1, y - 1) >= threshold) {\n      squareVal += 1;\n    }\n\n    if (getVal(x, y - 1) > threshold) {\n      squareVal += 2;\n    }\n\n    if (getVal(x - 1, y) > threshold) {\n      squareVal += 4;\n    }\n\n    if (getVal(x, y) > threshold) {\n      squareVal += 8;\n    }\n\n    return squareVal;\n  };\n\n  var doMarch = function doMarch(xPos, yPos) {\n    var x = xPos;\n    var y = yPos;\n    var prevX;\n    var prevY;\n\n    for (var i = 0; i < potentialArea.width * potentialArea.height; i++) {\n      prevX = x;\n      prevY = y;\n\n      if (contour.findIndex(function (item) {\n        return item.x === x && item.y === y;\n      }) > -1) {\n        if (contour[0].x !== x || contour[0].y !== y) {// encountered a loop but haven't returned to start: change direction using conditionals and continue back to start\n        } else {\n          return true;\n        }\n      } else {\n        contour.push({\n          x: x,\n          y: y\n        });\n      }\n\n      var state = getState(x, y); // assign the move direction according to state of the square\n\n      switch (state) {\n        case -1:\n          console.warn('Marched out of bounds');\n          return true;\n\n        case 0:\n        case 3:\n        case 2:\n        case 7:\n          x++; // go right\n\n          break;\n\n        case 12:\n        case 14:\n        case 4:\n          x--; // go left\n\n          break;\n\n        case 6:\n          // go left if come from up else go right\n          if (prevX === 0) {\n            if (prevY === -1) {\n              x -= 1;\n            } else {\n              x += 1;\n            }\n          }\n\n          break;\n\n        case 1:\n        case 13:\n        case 5:\n          y--; // go up\n\n          break;\n\n        case 9:\n          // go up if come from right else go down\n          if (prevX === 1) {\n            if (prevY === 0) {\n              y -= 1;\n            } else {\n              y += 1;\n            }\n          }\n\n          break;\n\n        case 10:\n        case 8:\n        case 11:\n          y++; // go down\n\n          break;\n\n        default:\n          console.warn(\"Marching squares invalid state: \".concat(state));\n          return true;\n      }\n    }\n  };\n\n  this.march = function () {\n    for (var x = 0; x < potentialArea.width && !marched; x += 1) {\n      for (var y = 0; y < potentialArea.height && !marched; y += 1) {\n        if (getVal(x, y) > threshold && getState(x, y) !== 15) {\n          marched = doMarch(x, y);\n        }\n      }\n    }\n\n    return marched;\n  };\n}\n/**\n * Space partition & assign value to each cell\n * @param points\n */\n\n\nvar initGridCells = function initGridCells(width, height, pixelGroupSize) {\n  var scaleWidth = Math.ceil(width / pixelGroupSize);\n  var scaleHeight = Math.ceil(height / pixelGroupSize);\n  var gridCells = new Float32Array(Math.max(0, scaleWidth * scaleHeight)).fill(0);\n  return {\n    cells: gridCells,\n    width: scaleWidth,\n    height: scaleHeight\n  };\n};\n/**\n * Find the optimal already visited member to item;\n   Optimal: minimize cost(j) = distance(i,j)  countObstacles(i,j)\n * @param item\n * @param visited\n */\n\n\nvar pickBestNeighbor = function pickBestNeighbor(item, visited, nonMembers) {\n  var closestNeighbour = null;\n  var minCost = Number.POSITIVE_INFINITY;\n  visited.forEach(function (neighbourItem) {\n    var itemP = {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n    var neighbourItemP = {\n      x: neighbourItem.getModel().x,\n      y: neighbourItem.getModel().y\n    };\n    var dist = squareDist(itemP, neighbourItemP);\n    var directLine = new Line(itemP.x, itemP.y, neighbourItemP.x, neighbourItemP.y);\n    var numberObstacles = nonMembers.reduce(function (count, _item) {\n      if (fractionToLine(_item, directLine) > 0) {\n        return count + 1;\n      }\n\n      return count;\n    }, 0);\n\n    if (dist * Math.pow(numberObstacles + 1, 2) < minCost) {\n      closestNeighbour = neighbourItem;\n      minCost = dist * Math.pow(numberObstacles + 1, 2);\n    }\n  });\n  return closestNeighbour;\n};\n/**\n * itemitem\n * @param items\n * @param line\n */\n\n\nvar getIntersectItem = function getIntersectItem(items, line) {\n  var minDistance = Number.POSITIVE_INFINITY;\n  var closestItem = null;\n  items.forEach(function (item) {\n    var distance = fractionToLine(item, line); // find closest intersection\n\n    if (distance >= 0 && distance < minDistance) {\n      closestItem = item;\n      minDistance = distance;\n    }\n  });\n  return closestItem;\n};\n/**\n * Modify the directLine and Route virtual edges around obstacles\n */\n\n\nvar computeRoute = function computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer) {\n  var checkedLines = [];\n  var linesToCheck = [];\n  linesToCheck.push(directLine);\n  var hasIntersection = true;\n  var iterations = 0;\n\n  var pointExists = function pointExists(point, lines) {\n    var flag = false;\n    lines.forEach(function (line) {\n      if (flag) return;\n\n      if (isPointsOverlap(point, {\n        x: line.x1,\n        y: line.y1\n      }) || isPointsOverlap(point, {\n        x: line.x2,\n        y: line.y2\n      })) {\n        flag = true;\n      }\n    });\n    return flag;\n  };\n\n  var isPointInNonMembers = function isPointInNonMembers(point, _nonMembers) {\n    for (var _i = 0, _nonMembers_1 = _nonMembers; _i < _nonMembers_1.length; _i++) {\n      var item = _nonMembers_1[_i];\n      var bbox = item.getBBox();\n      var itemContour = [[bbox.x, bbox.y], [bbox.x + bbox.width, bbox.y], [bbox.x, bbox.y + bbox.height], [bbox.x + bbox.width, bbox.y + bbox.height]];\n\n      if (isPointInPolygon(itemContour, point.x, point.y)) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // outer loop end when no more intersections or out of iterations\n\n\n  while (hasIntersection && iterations < maxRoutingIterations) {\n    hasIntersection = false;\n\n    var _loop_1 = function _loop_1() {\n      var line = linesToCheck.pop();\n      var closestItem = getIntersectItem(nonMembers, line);\n\n      if (closestItem) {\n        var _a = itemIntersectByLine(closestItem, line),\n            intersections_1 = _a[0],\n            countIntersections = _a[1]; // if line passes through item\n\n\n        if (countIntersections === 2) {\n          var testReroute = function testReroute(isFirst) {\n            var tempMorphBuffer = morphBuffer;\n            var virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst); // test the virtualNode already exists\n\n            var exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n            var pointInside = isPointInNonMembers(virtualNode, nonMembers);\n\n            while (!exist && pointInside && tempMorphBuffer >= 1) {\n              // try a smaller buffer\n              tempMorphBuffer /= 1.5;\n              virtualNode = rerouteLine(closestItem, tempMorphBuffer, intersections_1, isFirst);\n              exist = pointExists(virtualNode, linesToCheck) || pointExists(virtualNode, checkedLines);\n              pointInside = isPointInNonMembers(virtualNode, nonMembers);\n            } // routepointInside\n\n\n            if (virtualNode && !exist && (!isFirst || !pointInside)) {\n              // add 2 rerouted lines to check\n              linesToCheck.push(new Line(line.x1, line.y1, virtualNode.x, virtualNode.y));\n              linesToCheck.push(new Line(virtualNode.x, virtualNode.y, line.x2, line.y2));\n              hasIntersection = true;\n            }\n          };\n\n          testReroute(true);\n\n          if (!hasIntersection) {\n            // if we didn't find a valid point around the first corner, try the second\n            testReroute(false);\n          }\n        }\n      } // no intersection found, mark this line as completed\n\n\n      if (!hasIntersection) {\n        checkedLines.push(line);\n      }\n\n      iterations += 1;\n    }; // inner loop end when out of lines or found an intersection\n\n\n    while (!hasIntersection && linesToCheck.length) {\n      _loop_1();\n    }\n  } // \n\n\n  while (linesToCheck.length) {\n    checkedLines.push(linesToCheck.pop());\n  }\n\n  return checkedLines;\n};\n/**\n *  Connect item with visited members using direct line or virtual edges\n */\n\n\nfunction getRoute(item, nonMembers, visited, maxRoutingIterations, morphBuffer) {\n  var optimalNeighbor = pickBestNeighbor(item, visited, nonMembers);\n\n  if (optimalNeighbor === null) {\n    return [];\n  } //  merge the consecutive lines\n\n\n  var mergeLines = function mergeLines(checkedLines) {\n    var finalRoute = [];\n\n    while (checkedLines.length > 0) {\n      var line1 = checkedLines.pop();\n\n      if (checkedLines.length === 0) {\n        finalRoute.push(line1);\n        break;\n      }\n\n      var line2 = checkedLines.pop();\n      var mergeLine = new Line(line1.x1, line1.y1, line2.x2, line2.y2);\n      var closestItem = getIntersectItem(nonMembers, mergeLine); // merge most recent line and previous line\n\n      if (!closestItem) {\n        checkedLines.push(mergeLine);\n      } else {\n        finalRoute.push(line1);\n        checkedLines.push(line2);\n      }\n    }\n\n    return finalRoute;\n  };\n\n  var directLine = new Line(item.getModel().x, item.getModel().y, optimalNeighbor.getModel().x, optimalNeighbor.getModel().y);\n  var checkedLines = computeRoute(directLine, nonMembers, maxRoutingIterations, morphBuffer);\n  var finalRoute = mergeLines(checkedLines);\n  return finalRoute;\n}\n/**\n * Calculate the countor that includes the  selected items and exclues the non-selected items\n * @param graph\n * @param members\n * @param nonMembers\n * @param options\n */\n\n\nexport var genBubbleSet = function genBubbleSet(members, nonMembers, ops) {\n  // eslint-disable-next-line no-redeclare\n  var options = Object.assign(defaultOps, ops);\n  var centroid = getPointsCenter(members.map(function (item) {\n    return {\n      x: item.getModel().x,\n      y: item.getModel().y\n    };\n  })); // \n\n  members = members.sort(function (a, b) {\n    return squareDist({\n      x: a.getModel().x,\n      y: a.getModel().y\n    }, centroid) - squareDist({\n      x: b.getModel().x,\n      y: b.getModel().y\n    }, centroid);\n  });\n  var visited = [];\n  var virtualEdges = [];\n  members.forEach(function (item) {\n    var lines = getRoute(item, nonMembers, visited, options.maxRoutingIterations, options.morphBuffer);\n    lines.forEach(function (l) {\n      virtualEdges.push(l);\n    });\n    visited.push(item);\n  }); // edgemembernonMemberedgesgenBubbleSet\n  // edges && edges.forEach(e => {\n  //   virtualEdges.push(new Line(e.getSource().getModel().x, e.getSource().getModel().y, e.getTarget().getModel().x, e.getTarget().getModel().y));\n  // });\n\n  var activeRegion = getActiveRregion(members, virtualEdges, options.nodeR0);\n  var potentialArea = initGridCells(activeRegion.width, activeRegion.height, options.pixelGroupSize); // Use march squares to generate contour\n\n  var contour = [];\n  var hull = [];\n\n  for (var iterations = 0; iterations < options.maxMarchingIterations; iterations++) {\n    fillPotentialArea(members, nonMembers, virtualEdges, activeRegion, potentialArea, options);\n    contour = [];\n    hull = [];\n    if (!new MarchingSquares(contour, potentialArea, options.threshold).march()) continue;\n    var marchedPath = contour.map(function (point) {\n      return {\n        x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX),\n        y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY)\n      };\n    }); // const marchedPath = marchingSquares(potentialArea, options.threshold).map(point => ({ x: Math.round(point.x * options.pixelGroupSize + activeRegion.minX), y: Math.round(point.y * options.pixelGroupSize + activeRegion.minY) }))\n\n    if (marchedPath) {\n      var size = marchedPath.length;\n\n      if (options.skip > 1) {\n        size = Math.floor(marchedPath.length / options.skip); // if we reduced too much (fewer than three points in reduced surface) reduce skip and try again\n\n        while (size < 3 && options.skip > 1) {\n          options.skip -= 1;\n          size = Math.floor(marchedPath.length / options.skip);\n        }\n      } // copy hull values\n\n\n      for (var i = 0, j = 0; j < size; j += 1, i += options.skip) {\n        hull.push({\n          x: marchedPath[i].x,\n          y: marchedPath[i].y\n        });\n      }\n    }\n\n    var isContourValid = function isContourValid() {\n      for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {\n        var item = members_1[_i];\n        var hullPoints = hull.map(function (point) {\n          return [point.x, point.y];\n        });\n        if (!isPointInPolygon(hullPoints, item.getBBox().centerX, item.getBBox().centerY)) return false;\n      } // nonMembers\n      // for (const item of nonMembers) {\n      //   if (isPointInPolygon({ x: item.getBBox().centerX, y: item.getBBox().centerY }, contour)) return false\n      // }\n\n\n      return true;\n    };\n\n    if (hull && isContourValid()) {\n      return hull;\n    } // update parameters for next iteraction\n\n\n    options.threshold *= 0.9;\n\n    if (iterations <= options.maxMarchingIterations * 0.5) {\n      options.memberInfluenceFactor *= 1.2;\n      options.edgeInfluenceFactor *= 1.2;\n    } else if (options.nonMemberInfluenceFactor !== 0 && nonMembers.length > 0) {\n      // after half the iterations, start increasing positive energy and lowering the threshold\n      options.nonMemberInfluenceFactor *= 0.8;\n    } else {\n      break;\n    }\n  }\n\n  return hull;\n};\n/**\n * unionboundingbox\n * @param members\n * @param edges\n */\n\nfunction getActiveRregion(members, edges, offset) {\n  var activeRegion = {\n    minX: Number.POSITIVE_INFINITY,\n    minY: Number.POSITIVE_INFINITY,\n    maxX: Number.NEGATIVE_INFINITY,\n    maxY: Number.NEGATIVE_INFINITY,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0\n  };\n  var bboxes = [];\n  members.forEach(function (item) {\n    bboxes.push(item.getBBox());\n  });\n  edges.forEach(function (l) {\n    bboxes.push(l.getBBox());\n  });\n\n  for (var _i = 0, bboxes_1 = bboxes; _i < bboxes_1.length; _i++) {\n    var bbox = bboxes_1[_i];\n    activeRegion.minX = (bbox.minX < activeRegion.minX ? bbox.minX : activeRegion.minX) - offset;\n    activeRegion.minY = (bbox.minY < activeRegion.minY ? bbox.minY : activeRegion.minY) - offset;\n    activeRegion.maxX = (bbox.maxX > activeRegion.maxX ? bbox.maxX : activeRegion.maxX) + offset;\n    activeRegion.maxY = (bbox.maxY > activeRegion.maxY ? bbox.maxY : activeRegion.maxY) + offset;\n  }\n\n  activeRegion.width = activeRegion.maxX - activeRegion.minX;\n  activeRegion.height = activeRegion.maxY - activeRegion.minY;\n  activeRegion.x = activeRegion.minX;\n  activeRegion.y = activeRegion.minY;\n  return activeRegion;\n}\n\nfunction fillPotentialArea(members, nonMembers, edges, activeRegion, potentialArea, options) {\n  function pos2GridIx(x, offset) {\n    var gridIx = Math.floor((x - offset) / options.pixelGroupSize);\n    return gridIx < 0 ? 0 : gridIx;\n  }\n\n  function gridIx2Pos(x, offset) {\n    return x * options.pixelGroupSize + offset;\n  } // using inverse a for numerical stability\n\n\n  var nodeInfA = (options.nodeR0 - options.nodeR1) * (options.nodeR0 - options.nodeR1);\n  var edgeInfA = (options.edgeR0 - options.edgeR1) * (options.edgeR0 - options.edgeR1);\n\n  var getAffectedRegion = function getAffectedRegion(bbox, thresholdR) {\n    var startX = Math.min(pos2GridIx(bbox.minX, thresholdR + activeRegion.minX), potentialArea.width);\n    var startY = Math.min(pos2GridIx(bbox.minY, thresholdR + activeRegion.minY), potentialArea.height);\n    var endX = Math.min(pos2GridIx(bbox.maxX, -thresholdR + activeRegion.minX), potentialArea.width);\n    var endY = Math.min(pos2GridIx(bbox.maxY, -thresholdR + activeRegion.minY), potentialArea.height);\n    return [startX, startY, endX, endY];\n  };\n\n  var addItemInfluence = function addItemInfluence(item, influenceFactor) {\n    var bbox = item.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.nodeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // calculate item influence for each cell\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var distanceSq = pointRectSquareDist({\n          x: tempX,\n          y: tempY\n        }, {\n          x: bbox.minX,\n          y: bbox.minY,\n          width: bbox.width,\n          height: bbox.height\n        });\n\n        if (distanceSq < Math.pow(options.nodeR1, 2)) {\n          var dr = Math.sqrt(distanceSq) - options.nodeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * dr * dr;\n        }\n      }\n    }\n  };\n\n  var addEdgeInfluence = function addEdgeInfluence(line, influenceFactor) {\n    var bbox = line.getBBox();\n\n    var _a = getAffectedRegion(bbox, options.edgeR1),\n        startX = _a[0],\n        startY = _a[1],\n        endX = _a[2],\n        endY = _a[3]; // for every point in active part of potentialArea, calculate distance to nearest point on line and add influence\n\n\n    for (var y = startY; y < endY; y += 1) {\n      for (var x = startX; x < endX; x += 1) {\n        if (influenceFactor < 0 && potentialArea.cells[x + y * potentialArea.width] <= 0) {\n          continue;\n        }\n\n        var tempX = gridIx2Pos(x, activeRegion.minX);\n        var tempY = gridIx2Pos(y, activeRegion.minY);\n        var minDistanceSq = pointLineSquareDist({\n          x: tempX,\n          y: tempY\n        }, line); // only influence if less than r1\n\n        if (minDistanceSq < Math.pow(options.edgeR1, 2)) {\n          var mdr = Math.sqrt(minDistanceSq) - options.edgeR1;\n          potentialArea.cells[x + y * potentialArea.width] += influenceFactor * mdr * mdr;\n        }\n      }\n    }\n  };\n\n  if (options.nodeInfluenceFactor) {\n    members.forEach(function (item) {\n      addItemInfluence(item, options.nodeInfluenceFactor / nodeInfA);\n    });\n  }\n\n  if (options.edgeInfluenceFactor) {\n    edges.forEach(function (edge) {\n      addEdgeInfluence(edge, options.edgeInfluenceFactor / edgeInfA);\n    });\n  }\n\n  if (options.negativeNodeInfluenceFactor) {\n    nonMembers.forEach(function (item) {\n      addItemInfluence(item, options.negativeNodeInfluenceFactor / nodeInfA);\n    });\n  }\n}\n\nfunction rerouteLine(item, buffer, intersections, wrapNormal) {\n  var bbox = item.getBBox();\n  var topIntersect = intersections[0],\n      leftIntersect = intersections[1],\n      bottomIntersect = intersections[2],\n      rightIntersect = intersections[3];\n  var cornerPos = {\n    topLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.minY - buffer\n    },\n    topRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.minY - buffer\n    },\n    bottomLeft: {\n      x: bbox.minX - buffer,\n      y: bbox.maxY + buffer\n    },\n    bottomRight: {\n      x: bbox.maxX + buffer,\n      y: bbox.maxY + buffer\n    }\n  };\n  var totalArea = bbox.height * bbox.width;\n\n  function calcHalfArea(intersect1, intersect2) {\n    return bbox.width * ((intersect1.y - bbox.minY + (intersect2.y - bbox.minY)) * 0.5);\n  } // boundingboxcontrol point\n\n\n  if (leftIntersect) {\n    // \n    if (topIntersect) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight; // \n\n    var topArea = calcHalfArea(leftIntersect, rightIntersect);\n\n    if (topArea < totalArea * 0.5) {\n      if (leftIntersect.y > rightIntersect.y) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n      return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    }\n\n    if (leftIntersect.y < rightIntersect.y) return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n    return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  }\n\n  if (rightIntersect) {\n    if (topIntersect) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n    if (bottomIntersect) return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n  } // \n\n\n  var leftArea = calcHalfArea(topIntersect, bottomIntersect);\n\n  if (leftArea < totalArea * 0.5) {\n    if (topIntersect.x > bottomIntersect.x) return wrapNormal ? cornerPos.topLeft : cornerPos.bottomRight;\n    return wrapNormal ? cornerPos.bottomLeft : cornerPos.topRight;\n  }\n\n  if (topIntersect.x < bottomIntersect.x) return wrapNormal ? cornerPos.topRight : cornerPos.bottomLeft;\n  return wrapNormal ? cornerPos.bottomRight : cornerPos.topLeft;\n}","import { __assign } from \"tslib\";\nimport { deepMix, isString } from '@antv/util';\nimport { parsePathString } from '@antv/path-util';\nimport { pathToPoints, getClosedSpline, roundedHull, paddedHull } from '../util/path';\nimport { isPolygonsIntersect } from '../util/math';\nimport { genConvexHull } from '../element/hull/convexHull';\nimport { genBubbleSet } from '../element/hull/bubbleset';\n/**\n * \n * convex hull()http://geomalgorithms.com/a10-_hull-1.html#Monotone%20Chain\n * bubble:  bubblesetrefer: http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009c.pdf\n *  padding \n */\n\nvar Hull =\n/** @class */\nfunction () {\n  function Hull(graph, cfg) {\n    this.cfg = deepMix(this.getDefaultCfg(), cfg);\n    this.graph = graph;\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n    this.members = this.cfg.members.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.nonMembers = this.cfg.nonMembers.map(function (item) {\n      return isString(item) ? graph.findById(item) : item;\n    });\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  }\n\n  Hull.prototype.getDefaultCfg = function () {\n    return {\n      id: 'g6-hull',\n      type: 'round-convex',\n      members: [],\n      nonMembers: [],\n      style: {\n        fill: 'lightblue',\n        stroke: 'blue',\n        opacity: 0.2\n      },\n      padding: 10\n    };\n  };\n\n  Hull.prototype.setPadding = function () {\n    var nodeSize = this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;\n    this.padding = this.cfg.padding > 0 ? this.cfg.padding + nodeSize : 10 + nodeSize;\n    this.cfg.bubbleCfg = {\n      nodeR0: this.padding - nodeSize,\n      nodeR1: this.padding - nodeSize,\n      morphBuffer: this.padding - nodeSize\n    };\n  };\n\n  Hull.prototype.setType = function () {\n    this.type = this.cfg.type;\n\n    if (this.members.length < 3) {\n      this.type = 'round-convex';\n    }\n\n    if (this.type !== 'round-convex' && this.type !== 'smooth-convex' && this.type !== 'bubble') {\n      console.warn('The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.');\n      this.type = 'round-convex';\n    }\n  };\n\n  Hull.prototype.calcPath = function (members, nonMembers) {\n    var contour, path, hull;\n\n    switch (this.type) {\n      case 'round-convex':\n        contour = genConvexHull(members);\n        hull = roundedHull(contour.map(function (p) {\n          return [p.x, p.y];\n        }), this.padding);\n        path = parsePathString(hull);\n        break;\n\n      case 'smooth-convex':\n        contour = genConvexHull(members);\n\n        if (contour.length === 2) {\n          hull = roundedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = parsePathString(hull);\n        } else if (contour.length > 2) {\n          hull = paddedHull(contour.map(function (p) {\n            return [p.x, p.y];\n          }), this.padding);\n          path = getClosedSpline(hull);\n        }\n\n        break;\n\n      case 'bubble':\n        contour = genBubbleSet(members, nonMembers, this.cfg.bubbleCfg);\n        path = contour.length >= 2 && getClosedSpline(contour);\n        break;\n\n      default:\n    }\n\n    return path;\n  };\n\n  Hull.prototype.render = function () {\n    this.group.addShape('path', {\n      attrs: __assign({\n        path: this.path\n      }, this.cfg.style),\n      id: this.id,\n      name: this.cfg.id\n    });\n    this.group.toBack();\n  };\n  /**\n   * hullnonMembersnonMembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.members.push(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hullmembersmembers\n   * @param item \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.addNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    this.nonMembers.push(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n    }\n\n    this.updateData(this.members, this.nonMembers);\n    return true;\n  };\n  /**\n   * hull\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.members.indexOf(item);\n\n    if (index > -1) {\n      this.members.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * @param node \n   * @return boolean  true false\n   */\n\n\n  Hull.prototype.removeNonMember = function (item) {\n    if (!item) return;\n    if (isString(item)) item = this.graph.findById(item);\n    var index = this.nonMembers.indexOf(item);\n\n    if (index > -1) {\n      this.nonMembers.splice(index, 1);\n      this.updateData(this.members, this.nonMembers);\n      return true;\n    }\n\n    return false;\n  };\n\n  Hull.prototype.updateData = function (members, nonMembers) {\n    var _this = this;\n\n    this.group.findById(this.id).remove();\n    if (members) this.members = members.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    if (nonMembers) this.nonMembers = nonMembers.map(function (item) {\n      return isString(item) ? _this.graph.findById(item) : item;\n    });\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n\n  Hull.prototype.updateStyle = function (cfg) {\n    var path = this.group.findById(this.id);\n    path.attr(__assign({}, cfg));\n  };\n  /**\n   *  hull\n   * @param cfg hull \n   */\n\n\n  Hull.prototype.updateCfg = function (cfg) {\n    var _this = this;\n\n    this.cfg = deepMix(this.cfg, cfg);\n    this.id = this.cfg.id;\n    this.group = this.cfg.group;\n\n    if (cfg.members) {\n      this.members = this.cfg.members.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    }\n\n    if (cfg.nonMembers) {\n      this.nonMembers = this.cfg.nonMembers.map(function (item) {\n        return isString(item) ? _this.graph.findById(item) : item;\n      });\n    } // TODO padding  contain \n\n\n    this.setPadding();\n    this.setType();\n    this.path = this.calcPath(this.members, this.nonMembers);\n    this.render();\n  };\n  /**\n   * hull\n   * @param item\n   */\n\n\n  Hull.prototype.contain = function (item) {\n    var _this = this;\n\n    var nodeItem;\n\n    if (isString(item)) {\n      nodeItem = this.graph.findById(item);\n    } else {\n      nodeItem = item;\n    }\n\n    var shapePoints;\n    var shape = nodeItem.getKeyShape();\n\n    if (nodeItem.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      var shapeBBox = shape.getCanvasBBox();\n      shapePoints = [[shapeBBox.minX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.minY], [shapeBBox.maxX, shapeBBox.maxY], [shapeBBox.minX, shapeBBox.maxY]];\n    }\n\n    shapePoints = shapePoints.map(function (canvasPoint) {\n      var point = _this.graph.getPointByCanvas(canvasPoint[0], canvasPoint[1]);\n\n      return [point.x, point.y];\n    });\n    return isPolygonsIntersect(shapePoints, pathToPoints(this.path));\n  };\n\n  Hull.prototype.destroy = function () {\n    this.group.remove();\n    this.cfg = null;\n  };\n\n  return Hull;\n}();\n\nexport default Hull;","import { __assign, __extends, __spreadArray } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport { requestAnimationFrame, clearAnimationFrame } from '@antv/g-mobile/esm/util/time';\nimport { ext } from '@antv/matrix-util';\nimport { clone, deepMix, each, isPlainObject, isString } from '@antv/util';\nimport { getDegree, getAdjMatrix as getAdjacentMatrix, Stack, floydWarshall } from '@antv/algorithm';\nimport { move } from '../util/math';\nimport { dataValidation, singleDataValidation } from '../util/validation';\nimport Global from '../global';\nimport { ItemController, ModeController, StateController, ViewController } from './controller';\nimport { plainCombosToTrees, traverseTree, reconstructTree, traverseTreeUp } from '../util/graphic';\nimport Hull from '../item/hull';\nvar transform = ext.transform;\nvar NODE = 'node';\n\nvar AbstractGraph =\n/** @class */\nfunction (_super) {\n  __extends(AbstractGraph, _super);\n\n  function AbstractGraph(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = deepMix(_this.getDefaultCfg(), cfg);\n\n    _this.init();\n\n    _this.animating = false;\n    _this.destroyed = false; //  stack  undoStack  redoStack\n\n    if (_this.cfg.enabledStack) {\n      //  undo  redo \n      _this.undoStack = new Stack(_this.cfg.maxStep);\n      _this.redoStack = new Stack(_this.cfg.maxStep);\n    }\n\n    return _this;\n  }\n\n  AbstractGraph.prototype.init = function () {\n    this.initCanvas(); // instance controller\n\n    var viewController = new ViewController(this);\n    var modeController = new ModeController(this);\n    var itemController = new ItemController(this);\n    var stateController = new StateController(this);\n    this.set({\n      viewController: viewController,\n      modeController: modeController,\n      itemController: itemController,\n      stateController: stateController\n    }); // \n\n    this.initLayoutController(); // \n\n    this.initEventController();\n    this.initGroups();\n    /**  */\n\n    this.initPlugins();\n    this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n  }; //  Group\n\n\n  AbstractGraph.prototype.initGroups = function () {\n    var canvas = this.get('canvas');\n    var el = this.get('canvas').get('el');\n    var id = el.id;\n    var group = canvas.addGroup({\n      id: \"\".concat(id, \"-root\"),\n      className: Global.rootContainerClassName\n    });\n\n    if (this.get('groupByTypes')) {\n      var edgeGroup = group.addGroup({\n        id: \"\".concat(id, \"-edge\"),\n        className: Global.edgeContainerClassName\n      });\n      var nodeGroup = group.addGroup({\n        id: \"\".concat(id, \"-node\"),\n        className: Global.nodeContainerClassName\n      });\n      var comboGroup = group.addGroup({\n        id: \"\".concat(id, \"-combo\"),\n        className: Global.comboContainerClassName\n      }); // \n\n      comboGroup.toBack();\n      this.set({\n        nodeGroup: nodeGroup,\n        edgeGroup: edgeGroup,\n        comboGroup: comboGroup\n      });\n    }\n\n    var delegateGroup = group.addGroup({\n      id: \"\".concat(id, \"-delegate\"),\n      className: Global.delegateContainerClassName\n    });\n    this.set({\n      delegateGroup: delegateGroup\n    });\n    this.set('group', group);\n  }; // eslint-disable-next-line class-methods-use-this\n\n\n  AbstractGraph.prototype.getDefaultCfg = function () {\n    return {\n      /**\n       * Container could be dom object or dom id\n       */\n      container: undefined,\n\n      /**\n       * Canvas width\n       * unit pixel if undefined force fit width\n       */\n      width: undefined,\n\n      /**\n       * Canvas height\n       * unit pixel if undefined force fit height\n       */\n      height: undefined,\n\n      /**\n       * renderer canvas or svg\n       * @type {string}\n       */\n      renderer: 'canvas',\n\n      /**\n       * control graph behaviors\n       */\n      modes: {},\n\n      /**\n       * \n       */\n      plugins: [],\n\n      /**\n       * source data\n       */\n      data: {},\n\n      /**\n       * Fit view padding (client scale)\n       */\n      fitViewPadding: 10,\n\n      /**\n       * Minimum scale size\n       */\n      minZoom: 0.2,\n\n      /**\n       * Maxmum scale size\n       */\n      maxZoom: 10,\n\n      /**\n       *  capture events\n       */\n      event: true,\n\n      /**\n       * group node & edges into different graphic groups\n       */\n      groupByTypes: true,\n\n      /**\n       * determine if it's a directed graph\n       */\n      directed: false,\n\n      /**\n       * when data or shape changed, should canvas draw automatically\n       */\n      autoPaint: true,\n\n      /**\n       * store all the node instances\n       */\n      nodes: [],\n\n      /**\n       * store all the edge instances\n       */\n      edges: [],\n\n      /**\n       * store all the combo instances\n       */\n      combos: [],\n\n      /**\n       * store all the edge instances which are virtual edges related to collapsed combo\n       */\n      vedges: [],\n\n      /**\n       * all the instances indexed by id\n       */\n      itemMap: {},\n\n      /**\n       * \n       */\n      linkCenter: false,\n\n      /**\n       * data \n       * defaultNode: {\n       *  type: 'rect',\n       *  size: [60, 40],\n       *  style: {\n       *    //... \n       *  }\n       * }\n       *  { id: 'node', x: 100, y: 100 }\n       *  { id: 'node', x: 100, y: 100 type: 'rect', size: [60, 40] }\n       *  { id: 'node', x: 100, y: 100, type: 'circle' }\n       *  { id: 'node', x: 100, y: 100 type: 'circle', size: [60, 40] }\n       */\n      defaultNode: {},\n\n      /**\n       * data  defaultNode\n       */\n      defaultEdge: {},\n\n      /**\n       * \n       * \n       * const graph = new G6.Graph({\n       *  nodeStateStyles: {\n       *    selected: { fill: '#ccc', stroke: '#666' },\n       *    active: { lineWidth: 2 }\n       *  },\n       *  ...\n       * });\n       *\n       */\n      nodeStateStyles: {},\n\n      /**\n       * nodeStateStyle\n       */\n      edgeStateStyles: {},\n\n      /**\n       * graph \n       */\n      states: {},\n\n      /**\n       * \n       */\n      animate: false,\n\n      /**\n       * , animate  true \n       */\n      animateCfg: {\n        /**\n         * \n         */\n        onFrame: undefined,\n\n        /**\n         * (ms)\n         */\n        duration: 500,\n\n        /**\n         * \n         */\n        easing: 'easeLinear'\n      },\n      callback: undefined,\n      //  undo & redo \n      enabledStack: false,\n      //  enabledStack  true \n      maxStep: 10,\n      //  tooltip dom\n      tooltips: []\n    };\n  };\n  /**\n   *  this.cfg \n   * @param key   \n   * @param val \n   */\n\n\n  AbstractGraph.prototype.set = function (key, val) {\n    if (isPlainObject(key)) {\n      this.cfg = __assign(__assign({}, this.cfg), key);\n    } else {\n      this.cfg[key] = val;\n    }\n\n    return this;\n  };\n  /**\n   *  this.cfg \n   * @param key \n   */\n\n\n  AbstractGraph.prototype.get = function (key) {\n    return this.cfg[key];\n  };\n  /**\n   *  graph \n   * @return  group\n   */\n\n\n  AbstractGraph.prototype.getGroup = function () {\n    return this.get('group');\n  };\n  /**\n   *  graph  DOM \n   * @return DOM \n   */\n\n\n  AbstractGraph.prototype.getContainer = function () {\n    return this.get('container');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.getMinZoom = function () {\n    return this.get('minZoom');\n  };\n  /**\n   *  graph \n   * @return minZoom\n   */\n\n\n  AbstractGraph.prototype.setMinZoom = function (ratio) {\n    return this.set('minZoom', ratio);\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.getMaxZoom = function () {\n    return this.get('maxZoom');\n  };\n  /**\n   *  graph \n   * @param maxZoom\n   */\n\n\n  AbstractGraph.prototype.setMaxZoom = function (ratio) {\n    return this.set('maxZoom', ratio);\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getWidth = function () {\n    return this.get('width');\n  };\n  /**\n   *  graph \n   * @return width\n   */\n\n\n  AbstractGraph.prototype.getHeight = function () {\n    return this.get('height');\n  };\n  /**\n   * \n   * @param {string|Item} item id\n   * @param {string[]} states \n   */\n\n\n  AbstractGraph.prototype.clearItemStates = function (item, states) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n\n    if (!states) {\n      states = item.get('states');\n    }\n\n    itemController.clearItemStates(item, states);\n    var stateController = this.get('stateController');\n    stateController.updateStates(item, states, false);\n  };\n  /**\n   *  keyShape \n   * \n   * graph.node(node => {\n   *  return {\n   *    type: 'rect',\n   *    label: node.id,\n   *    style: { fill: '#666' },\n   *    stateStyles: {\n   *       selected: { fill: 'blue' },\n   *       custom: { fill: 'green' }\n   *     }\n   *   }\n   * });\n   * @param {function} nodeFn \n   */\n\n\n  AbstractGraph.prototype.node = function (nodeFn) {\n    if (typeof nodeFn === 'function') {\n      this.set('nodeMapper', nodeFn);\n    }\n  };\n  /**\n   * \n   * @param {function} edgeFn , node\n   */\n\n\n  AbstractGraph.prototype.edge = function (edgeFn) {\n    if (typeof edgeFn === 'function') {\n      this.set('edgeMapper', edgeFn);\n    }\n  };\n  /**\n   *  combo \n   * @param comboFn\n   */\n\n\n  AbstractGraph.prototype.combo = function (comboFn) {\n    if (typeof comboFn === 'function') {\n      this.set('comboMapper', comboFn);\n    }\n  };\n  /**\n   *  ID \n   * @param id  ID\n   */\n\n\n  AbstractGraph.prototype.findById = function (id) {\n    return this.get('itemMap')[id];\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge | group)\n   * @param {(item: T, index: number) => T} fn \n   * @return {T} \n   */\n\n\n  AbstractGraph.prototype.find = function (type, fn) {\n    var result;\n    var items = this.get(\"\".concat(type, \"s\")); // eslint-disable-next-line consistent-return\n\n    each(items, function (item, i) {\n      if (fn(item, i)) {\n        result = item;\n        return result;\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} fn \n   * @return {array} \n   */\n\n\n  AbstractGraph.prototype.findAll = function (type, fn) {\n    var result = [];\n    each(this.get(\"\".concat(type, \"s\")), function (item, i) {\n      if (fn(item, i)) {\n        result.push(item);\n      }\n    });\n    return result;\n  };\n  /**\n   * \n   * @param {string} type (node|edge)\n   * @param {string} state \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.findAllByState = function (type, state) {\n    return this.findAll(type, function (item) {\n      return item.hasState(state);\n    });\n  };\n  /**\n   * \n   * @param dx \n   * @param dy \n   */\n\n\n  AbstractGraph.prototype.translate = function (dx, dy) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    matrix = transform(matrix, [['t', dx, dy]]);\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'translate',\n      matrix: group.getMatrix()\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} x \n   * @param {number} y \n   */\n\n\n  AbstractGraph.prototype.moveTo = function (x, y) {\n    var group = this.get('group');\n    move(group, {\n      x: x,\n      y: y\n    });\n    this.emit('viewportchange', {\n      action: 'move',\n      matrix: group.getMatrix()\n    });\n  };\n  /**\n   * \n   * @param {object} padding \n   */\n\n\n  AbstractGraph.prototype.fitView = function (padding) {\n    if (padding) {\n      this.set('fitViewPadding', padding);\n    }\n\n    var viewController = this.get('viewController');\n    viewController.fitView();\n    this.autoPaint();\n  };\n  /**\n   *  bbox \n   */\n\n\n  AbstractGraph.prototype.fitCenter = function () {\n    var viewController = this.get('viewController');\n    viewController.fitCenter();\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.addBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, true);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType[]} behaviors \n   * @param {string | string[]} modes \n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.removeBehaviors = function (behaviors, modes) {\n    var modeController = this.get('modeController');\n    modeController.manipulateBehaviors(behaviors, modes, false);\n    return this;\n  };\n  /**\n   * \n   * @param {string | ModeOption | ModeType} behavior \n   * @param {string | string[]} modes  default\n   * @return {Graph} Graph\n   */\n\n\n  AbstractGraph.prototype.updateBehavior = function (behavior, newCfg, mode) {\n    var modeController = this.get('modeController');\n    modeController.updateBehavior(behavior, newCfg, mode);\n    return this;\n  };\n  /**\n   * \n   * @param ratio \n   * @param center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoom = function (ratio, center) {\n    var group = this.get('group');\n    var matrix = clone(group.getMatrix());\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (center) {\n      matrix = transform(matrix, [['t', -center.x, -center.y], ['s', ratio, ratio], ['t', center.x, center.y]]);\n    } else {\n      matrix = transform(matrix, [['s', ratio, ratio]]);\n    }\n\n    if (minZoom && matrix[0] < minZoom || maxZoom && matrix[0] > maxZoom) {\n      return;\n    } // matrix = [2, 0, 0, 0, 2, 0, -125, -125, 1];\n\n\n    group.setMatrix(matrix);\n    this.emit('viewportchange', {\n      action: 'zoom',\n      matrix: matrix\n    });\n    this.autoPaint();\n  };\n  /**\n   * \n   * @param {number} toRatio \n   * @param {Point} center centerx, y\n   */\n\n\n  AbstractGraph.prototype.zoomTo = function (toRatio, center) {\n    var ratio = toRatio / this.getZoom();\n    this.zoom(ratio, center);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} animate \n   * @param {GraphAnimateConfig} animateCfg \n   */\n\n\n  AbstractGraph.prototype.focusItem = function (item, animate, animateCfg) {\n    var viewController = this.get('viewController');\n    var isAnimate = false;\n    if (animate) isAnimate = true;else if (animate === undefined) isAnimate = this.get('animate');\n    var curAniamteCfg = {};\n    if (animateCfg) curAniamteCfg = animateCfg;else if (animateCfg === undefined) curAniamteCfg = this.get('animateCfg');\n    viewController.focus(item, isAnimate, curAniamteCfg);\n    this.autoPaint();\n  };\n  /**\n   * \n   * @internal  render  paint \n   */\n\n\n  AbstractGraph.prototype.autoPaint = function () {\n    if (this.get('autoPaint')) {\n      this.paint();\n    }\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.paint = function () {\n    this.emit('beforepaint');\n    this.get('canvas').draw();\n    this.emit('afterpaint');\n  };\n  /**\n   * \n   * @param {number} clientX x\n   * @param {number} clientY y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getPointByClient = function (clientX, clientY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByClient(clientX, clientY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {Point} \n   */\n\n\n  AbstractGraph.prototype.getClientByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getClientByPoint(x, y);\n  };\n  /**\n   * \n   * @param {number} canvasX  x \n   * @param {number} canvasY  y \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getPointByCanvas = function (canvasX, canvasY) {\n    var viewController = this.get('viewController');\n    return viewController.getPointByCanvas(canvasX, canvasY);\n  };\n  /**\n   * \n   * @param {number} x  x\n   * @param {number} y  y\n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getCanvasByPoint = function (x, y) {\n    var viewController = this.get('viewController');\n    return viewController.getCanvasByPoint(x, y);\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getGraphCenterPoint = function () {\n    var bbox = this.get('group').getCanvasBBox();\n    return {\n      x: (bbox.minX + bbox.maxX) / 2,\n      y: (bbox.minY + bbox.maxY) / 2\n    };\n  };\n  /**\n   * \n   * @return {object} \n   */\n\n\n  AbstractGraph.prototype.getViewPortCenterPoint = function () {\n    return this.getPointByCanvas(this.get('width') / 2, this.get('height') / 2);\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.showItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, true);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.nodes = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.edges = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: false\n          }];\n          after.combos = [{\n            id: id,\n            visible: true\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.hideItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var object = itemController.changeItemVisibility(item, false);\n\n    if (stack && this.get('enabledStack')) {\n      var id = object.getID();\n      var type = object.getType();\n      var before = {};\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.nodes = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'edge':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.edges = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        case 'combo':\n          before.nodes = [{\n            id: id,\n            visible: true\n          }];\n          after.combos = [{\n            id: id,\n            visible: false\n          }];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('visible', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {string|object} item id\n   */\n\n\n  AbstractGraph.prototype.refreshItem = function (item) {\n    var itemController = this.get('itemController');\n    itemController.refreshItem(item);\n  };\n  /**\n   * /\n   * @param {boolean} auto \n   */\n\n\n  AbstractGraph.prototype.setAutoPaint = function (auto) {\n    var self = this;\n    self.set('autoPaint', auto);\n    var canvas = self.get('canvas');\n    canvas.set('autoDraw', auto);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.remove = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.removeItem(item, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.removeItem = function (item, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var nodeItem = item;\n    if (isString(item)) nodeItem = this.findById(item);\n\n    if (!nodeItem && isString(item)) {\n      console.warn('The item to be removed does not exist!');\n    } else if (nodeItem) {\n      var type = '';\n      if (nodeItem.getType) type = nodeItem.getType(); // \n\n      if (stack && this.get('enabledStack')) {\n        var deletedModel = __assign(__assign({}, nodeItem.getModel()), {\n          itemType: type\n        });\n\n        var before = {};\n\n        switch (type) {\n          case 'node':\n            {\n              before.nodes = [deletedModel];\n              before.edges = [];\n              var edges = nodeItem.getEdges();\n\n              for (var i = edges.length - 1; i >= 0; i--) {\n                before.edges.push(__assign(__assign({}, edges[i].getModel()), {\n                  itemType: 'edge'\n                }));\n              }\n\n              break;\n            }\n\n          case 'edge':\n            before.edges = [deletedModel];\n            break;\n\n          case 'combo':\n            before.combos = [deletedModel];\n            break;\n\n          default:\n            break;\n        }\n\n        this.pushStack('delete', {\n          before: before,\n          after: {}\n        });\n      }\n\n      if (type === 'node') {\n        var model = nodeItem.getModel(); //  Combo  node  combo  combo \n\n        if (model.comboId) {\n          this.updateComboTree(nodeItem);\n        }\n      }\n\n      var itemController = this.get('itemController');\n      itemController.removeItem(nodeItem);\n\n      if (type === 'combo') {\n        var newComboTrees = reconstructTree(this.get('comboTrees'));\n        this.set('comboTrees', newComboTrees);\n      }\n    }\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @param {boolean} sortCombo  combo  addItem \n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.addItem = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    var currentComboSorted = this.get('comboSorted');\n    this.set('comboSorted', currentComboSorted && !sortCombo);\n    var itemController = this.get('itemController'); // combo\n\n    if (!singleDataValidation(type, model)) {\n      return false;\n    }\n\n    if (model.id && this.findById(model.id)) {\n      console.warn(\"This item exists already. Be sure the id %c\".concat(model.id, \"%c is unique.\"), 'font-size: 20px; color: red;', '');\n      return;\n    }\n\n    var item;\n    var comboTrees = this.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n\n    if (type === 'combo') {\n      var itemMap_1 = this.get('itemMap');\n      var foundParent_1 = false;\n      comboTrees.forEach(function (ctree) {\n        if (foundParent_1) return; // terminate the forEach after the tree containing the item is done\n\n        traverseTreeUp(ctree, function (child) {\n          // find the parent\n          if (model.parentId === child.id) {\n            foundParent_1 = true;\n\n            var newCombo = __assign({\n              id: model.id,\n              depth: child.depth + 2\n            }, model);\n\n            if (child.children) child.children.push(newCombo);else child.children = [newCombo];\n            model.depth = newCombo.depth;\n            item = itemController.addItem(type, model);\n          }\n\n          var childItem = itemMap_1[child.id]; // after the parent is found, update all the ancestors\n\n          if (foundParent_1 && childItem && childItem.getType && childItem.getType() === 'combo') {\n            itemController.updateCombo(childItem, child.children);\n          }\n\n          return true;\n        });\n      }); // if the parent is not found, add it to the root\n\n      if (!foundParent_1) {\n        var newCombo = __assign({\n          id: model.id,\n          depth: 0\n        }, model);\n\n        model.depth = newCombo.depth;\n        comboTrees.push(newCombo);\n        item = itemController.addItem(type, model);\n      }\n\n      this.set('comboTrees', comboTrees);\n    } else if (type === 'node' && isString(model.comboId) && comboTrees) {\n      var parentCombo = this.findById(model.comboId);\n\n      if (parentCombo && parentCombo.getType && parentCombo.getType() !== 'combo') {\n        console.warn(\"'\".concat(model.comboId, \"' is not a id of a combo in the graph, the node will be added without combo.\"));\n      }\n\n      item = itemController.addItem(type, model);\n      var itemMap_2 = this.get('itemMap');\n      var foundParent_2 = false,\n          foundNode_1 = false;\n      (comboTrees || []).forEach(function (ctree) {\n        if (foundNode_1 || foundParent_2) return; // terminate the forEach\n\n        traverseTreeUp(ctree, function (child) {\n          if (child.id === model.id) {\n            // if the item exists in the tree already, terminate\n            foundNode_1 = true;\n            return false;\n          }\n\n          if (model.comboId === child.id && !foundNode_1) {\n            // found the parent, add the item to the children of its parent in the tree\n            foundParent_2 = true;\n            var cloneNode = clone(model);\n            cloneNode.itemType = 'node';\n            if (child.children) child.children.push(cloneNode);else child.children = [cloneNode];\n            cloneNode.depth = child.depth + 1;\n          } // update the size of all the ancestors\n\n\n          if (foundParent_2 && itemMap_2[child.id].getType && itemMap_2[child.id].getType() === 'combo') {\n            itemController.updateCombo(itemMap_2[child.id], child.children);\n          }\n\n          return true;\n        });\n      });\n    } else {\n      item = itemController.addItem(type, model);\n    }\n\n    if (type === 'node' && model.comboId || type === 'combo' && model.parentId) {\n      // add the combo to the parent's children array\n      var parentCombo = this.findById(model.comboId || model.parentId);\n      if (parentCombo && parentCombo.getType && parentCombo.getType() === 'combo') parentCombo.addChild(item);\n    }\n\n    var combos = this.get('combos');\n\n    if (combos && combos.length > 0) {\n      this.sortCombos();\n    }\n\n    this.autoPaint();\n\n    if (stack && this.get('enabledStack')) {\n      var addedModel = __assign(__assign({}, item.getModel()), {\n        itemType: type\n      });\n\n      var after = {};\n\n      switch (type) {\n        case 'node':\n          after.nodes = [addedModel];\n          break;\n\n        case 'edge':\n          after.edges = [addedModel];\n          break;\n\n        case 'combo':\n          after.combos = [addedModel];\n          break;\n\n        default:\n          break;\n      }\n\n      this.pushStack('add', {\n        before: {},\n        after: after\n      });\n    }\n\n    return item;\n  };\n  /**\n   * \n   * @param {ITEM_TYPE} type (node | edge)\n   * @param {ModelConfig} model \n   * @param {boolean} stack  true\n   * @return {Item} \n   */\n\n\n  AbstractGraph.prototype.add = function (type, model, stack, sortCombo) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    if (sortCombo === void 0) {\n      sortCombo = true;\n    }\n\n    return this.addItem(type, model, stack, sortCombo);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   */\n\n\n  AbstractGraph.prototype.updateItem = function (item, cfg, stack) {\n    var _this = this;\n\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var itemController = this.get('itemController');\n    var currentItem;\n\n    if (isString(item)) {\n      currentItem = this.findById(item);\n    } else {\n      currentItem = item;\n    }\n\n    var UnupdateModel = clone(currentItem.getModel());\n    var type = '';\n    if (currentItem.getType) type = currentItem.getType();\n\n    var states = __spreadArray([], currentItem.getStates(), true);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, false);\n      });\n    }\n\n    itemController.updateItem(currentItem, cfg);\n\n    if (type === 'combo') {\n      each(states, function (state) {\n        return _this.setItemState(currentItem, state, true);\n      });\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var before = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n      var after = {\n        nodes: [],\n        edges: [],\n        combos: []\n      };\n\n      var afterModel = __assign({\n        id: UnupdateModel.id\n      }, cfg);\n\n      switch (type) {\n        case 'node':\n          before.nodes.push(UnupdateModel);\n          after.nodes.push(afterModel);\n          break;\n\n        case 'edge':\n          before.edges.push(UnupdateModel);\n          after.edges.push(afterModel);\n          break;\n\n        case 'combo':\n          before.combos.push(UnupdateModel);\n          after.combos.push(afterModel);\n          break;\n\n        default:\n          break;\n      }\n\n      if (type === 'node') {\n        before.nodes.push(UnupdateModel);\n      }\n\n      this.pushStack('update', {\n        before: before,\n        after: after\n      });\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {Partial<NodeConfig> | EdgeConfig} cfg \n   * @param {boolean} stack  true\n   */\n\n\n  AbstractGraph.prototype.update = function (item, cfg, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    this.updateItem(item, cfg, stack);\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param {string} state \n   * @param {string | boolean} value   \n   */\n\n\n  AbstractGraph.prototype.setItemState = function (item, state, value) {\n    if (isString(item)) {\n      item = this.findById(item);\n    }\n\n    var itemController = this.get('itemController');\n    itemController.setItemState(item, state, value);\n    var stateController = this.get('stateController');\n\n    if (isString(value)) {\n      stateController.updateState(item, \"\".concat(state, \":\").concat(value), true);\n    } else {\n      stateController.updateState(item, state, value);\n    }\n  };\n  /**\n   * \n   * @param {Item} item id\n   * @param state \n   */\n\n\n  AbstractGraph.prototype.priorityState = function (item, state) {\n    var itemController = this.get('itemController');\n    itemController.priorityState(item, state);\n  };\n  /**\n   * \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.data = function (data) {\n    dataValidation(data);\n    this.set('data', data);\n  };\n  /**\n   * data\n   */\n\n\n  AbstractGraph.prototype.render = function () {\n    var self = this;\n    this.set('comboSorted', false);\n    var data = this.get('data');\n\n    if (this.get('enabledStack')) {\n      // render  redo  undo \n      this.clearStack();\n    }\n\n    if (!data) {\n      throw new Error('data must be defined first');\n    }\n\n    var _a = data.nodes,\n        nodes = _a === void 0 ? [] : _a,\n        _b = data.edges,\n        edges = _b === void 0 ? [] : _b,\n        _c = data.combos,\n        combos = _c === void 0 ? [] : _c;\n    this.clear(true);\n    this.emit('beforerender');\n    each(nodes, function (node) {\n      self.add('node', node, false, false);\n    }); // process the data to tree structure\n\n    if (combos && combos.length !== 0) {\n      var comboTrees = plainCombosToTrees(combos, nodes);\n      this.set('comboTrees', comboTrees); // add combos\n\n      self.addCombos(combos);\n    }\n\n    each(edges, function (edge) {\n      self.add('edge', edge, false, false);\n    });\n    var animate = self.get('animate');\n\n    if (self.get('fitView') || self.get('fitCenter')) {\n      self.set('animate', false);\n    } // layout\n\n\n    var layoutController = self.get('layoutController');\n\n    if (layoutController) {\n      layoutController.layout(success); // \n\n      this.refreshPositions();\n      if (this.destroyed) return;\n    } else {\n      if (self.get('fitView')) {\n        self.fitView();\n      }\n\n      if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.emit('afterrender');\n      self.set('animate', animate);\n    } //  onLayoutEnd \n\n\n    function success() {\n      // fitView  fitCenter fitView fitCenter \n      if (self.get('fitView')) {\n        self.fitView();\n      } else if (self.get('fitCenter')) {\n        self.fitCenter();\n      }\n\n      self.autoPaint();\n      self.emit('afterrender');\n\n      if (self.get('fitView') || self.get('fitCenter')) {\n        self.set('animate', animate);\n      }\n    }\n\n    if (!this.get('groupByTypes')) {\n      if (combos && combos.length !== 0) {\n        this.sortCombos();\n      } else {\n        // \n        if (data.nodes && data.edges && data.nodes.length < data.edges.length) {\n          var nodesArr = this.getNodes(); // \n\n          nodesArr.forEach(function (node) {\n            node.toFront();\n          });\n        } else {\n          var edgesArr = this.getEdges(); // \n\n          edgesArr.forEach(function (edge) {\n            edge.toBack();\n          });\n        }\n      }\n    }\n\n    if (this.get('enabledStack')) {\n      this.pushStack('render');\n    }\n  };\n  /**\n   * \n   * @Param {Object} data \n   */\n\n\n  AbstractGraph.prototype.read = function (data) {\n    this.data(data);\n    this.render();\n  }; // item\n\n\n  AbstractGraph.prototype.diffItems = function (type, items, models) {\n    var self = this;\n    var item;\n    var itemMap = this.get('itemMap');\n    each(models, function (model) {\n      item = itemMap[model.id];\n\n      if (item) {\n        if (self.get('animate') && type === NODE) {\n          var containerMatrix = item.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          item.set('originAttrs', {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          });\n        }\n\n        self.updateItem(item, model, false);\n      } else {\n        item = self.addItem(type, model, false);\n      }\n\n      if (item) items[\"\".concat(type, \"s\")].push(item);\n    });\n  };\n  /**\n   * \n   * @param {GraphData | TreeGraphData} data \n   * @param {boolean} true\n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeData = function (data, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n\n    if (!dataValidation(data)) {\n      return this;\n    }\n\n    if (stack && this.get('enabledStack')) {\n      this.pushStack('changedata', {\n        before: self.save(),\n        after: data\n      });\n    }\n\n    this.set('comboSorted', false); //  hulls\n\n    this.removeHulls(); // \n\n    this.getNodes().map(function (node) {\n      return self.clearItemStates(node);\n    });\n    this.getEdges().map(function (edge) {\n      return self.clearItemStates(edge);\n    });\n    var canvas = this.get('canvas');\n    var localRefresh = canvas.get('localRefresh');\n    canvas.set('localRefresh', false);\n\n    if (!self.get('data')) {\n      self.data(data);\n      self.render();\n    }\n\n    var itemMap = this.get('itemMap');\n    var items = {\n      nodes: [],\n      edges: []\n    };\n    var combosData = data.combos;\n\n    if (combosData) {\n      var comboTrees = plainCombosToTrees(combosData, data.nodes);\n      this.set('comboTrees', comboTrees);\n    }\n\n    this.diffItems('node', items, data.nodes);\n    each(itemMap, function (item, id) {\n      itemMap[id].getModel().depth = 0;\n      if (item.getType && item.getType() === 'edge') return;\n\n      if (item.getType && item.getType() === 'combo') {\n        delete itemMap[id];\n        item.destroy();\n      } else if (items.nodes.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    }); // clear the destroyed combos here to avoid removing sub nodes before removing the parent combo\n\n    var comboItems = this.getCombos();\n    var combosLength = comboItems.length;\n\n    for (var i = combosLength - 1; i >= 0; i--) {\n      if (comboItems[i].destroyed) {\n        comboItems.splice(i, 1);\n      }\n    } // process the data to tree structure\n\n\n    if (combosData) {\n      // add combos\n      self.addCombos(combosData);\n\n      if (!this.get('groupByTypes')) {\n        this.sortCombos();\n      }\n    }\n\n    this.diffItems('edge', items, data.edges);\n    each(itemMap, function (item, id) {\n      if (item.getType && (item.getType() === 'node' || item.getType() === 'combo')) return;\n\n      if (items.edges.indexOf(item) < 0) {\n        delete itemMap[id];\n        self.remove(item, false);\n      }\n    });\n    this.set({\n      nodes: items.nodes,\n      edges: items.edges\n    });\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.changeData();\n\n      if (self.get('animate') && !layoutController.getLayoutType()) {\n        // \n        self.positionsAnimate();\n      } else {\n        self.autoPaint();\n      }\n    }\n\n    setTimeout(function () {\n      canvas.set('localRefresh', localRefresh);\n    }, 16);\n    return this;\n  };\n  /**\n   *  render  changeData  combos\n   * @param {ComboConfig[]} combos  combos \n   */\n\n\n  AbstractGraph.prototype.addCombos = function (combos) {\n    var self = this;\n    var comboTrees = self.get('comboTrees');\n    var itemController = this.get('itemController');\n    itemController.addCombos(comboTrees, combos);\n  };\n  /**\n   *  combo  combo\n   * @param combo combo ID  Combo \n   * @param children  Combo  combo\n   */\n\n\n  AbstractGraph.prototype.createCombo = function (combo, children) {\n    var _this = this;\n\n    this.set('comboSorted', false); // step 1:  Combo\n\n    var comboId = '';\n    var comboConfig;\n    if (!combo) return;\n\n    if (isString(combo)) {\n      comboId = combo;\n      comboConfig = {\n        id: combo\n      };\n    } else {\n      comboId = combo.id;\n\n      if (!comboId) {\n        console.warn('Create combo failed. Please assign a unique string id for the adding combo.');\n        return;\n      }\n\n      comboConfig = combo;\n    } // step2:  children comboId  parentId\n\n\n    var trees = children.map(function (elementId) {\n      var item = _this.findById(elementId);\n\n      var model = item.getModel();\n      var type = '';\n      if (item.getType) type = item.getType();\n      var cItem = {\n        id: item.getID(),\n        itemType: type\n      };\n\n      if (type === 'combo') {\n        cItem.parentId = comboId;\n        model.parentId = comboId;\n      } else if (type === 'node') {\n        cItem.comboId = comboId;\n        model.comboId = comboId;\n      }\n\n      return cItem;\n    });\n    comboConfig.children = trees; // step 3:  ComboaddItem  Combo \n\n    this.addItem('combo', comboConfig, false);\n    this.set('comboSorted', false); // step4:  comboTrees \n\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (child.id === comboId) {\n          child.itemType = 'combo';\n          child.children = trees;\n          return false;\n        }\n\n        return true;\n      });\n    });\n\n    if (comboTrees) {\n      this.sortCombos();\n    }\n  };\n  /**\n   *  combo\n   * @param {String | INode | ICombo} combo  Combo item  id\n   */\n\n\n  AbstractGraph.prototype.uncombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item is not a combo!');\n      return;\n    }\n\n    var parentId = comboItem.getModel().parentId;\n    var comboTrees = self.get('comboTrees');\n    if (!comboTrees) comboTrees = [];\n    var itemMap = this.get('itemMap');\n    var comboId = comboItem.get('id');\n    var treeToBeUncombo;\n    var brothers = [];\n    var comboItems = this.get('combos');\n    var parentItem = this.findById(parentId);\n    comboTrees.forEach(function (ctree) {\n      if (treeToBeUncombo) return; // terminate the forEach\n\n      traverseTreeUp(ctree, function (subtree) {\n        // find the combo to be uncomboed, delete the combo from map and cache\n        if (subtree.id === comboId) {\n          treeToBeUncombo = subtree; // delete the related edges\n\n          var edges = comboItem.getEdges();\n          edges.forEach(function (edge) {\n            _this.removeItem(edge, false);\n          });\n          var index = comboItems.indexOf(combo);\n          comboItems.splice(index, 1);\n          delete itemMap[comboId];\n          comboItem.destroy();\n        } // find the parent to remove the combo from the combo's brothers array and add the combo's children to the combo's brothers array in the tree\n\n\n        if (parentId && treeToBeUncombo && subtree.id === parentId) {\n          parentItem.removeCombo(comboItem);\n          brothers = subtree.children; // the combo's brothers\n          // remove the combo from its brothers array\n\n          var index = brothers.indexOf(treeToBeUncombo);\n\n          if (index !== -1) {\n            brothers.splice(index, 1);\n          } // append the combo's children to the combo's brothers array\n\n\n          treeToBeUncombo.children.forEach(function (child) {\n            var item = _this.findById(child.id);\n\n            var childModel = item.getModel();\n\n            if (item.getType && item.getType() === 'combo') {\n              child.parentId = parentId;\n              delete child.comboId;\n              childModel.parentId = parentId; // update the parentId of the model\n\n              delete childModel.comboId;\n            } else if (item.getType && item.getType() === 'node') {\n              child.comboId = parentId;\n              childModel.comboId = parentId; // update the parentId of the model\n            }\n\n            parentItem.addChild(item);\n            brothers.push(child);\n          });\n          return false;\n        }\n\n        return true;\n      });\n    }); // if the parentId is not found, remove the combo from the roots\n\n    if (!parentId && treeToBeUncombo) {\n      var index = comboTrees.indexOf(treeToBeUncombo);\n      comboTrees.splice(index, 1); // modify the parentId of the children\n\n      treeToBeUncombo.children.forEach(function (child) {\n        child.parentId = undefined;\n\n        var childModel = _this.findById(child.id).getModel();\n\n        delete childModel.parentId; // update the parentId of the model\n\n        delete childModel.comboId; // update the comboId of the model\n\n        if (child.itemType !== 'node') comboTrees.push(child);\n      });\n    }\n  };\n  /**\n   *  bbox  combos  combos \n   */\n\n\n  AbstractGraph.prototype.updateCombos = function () {\n    var _this = this;\n\n    var self = this;\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates(), true);\n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, false);\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            return _this.setItemState(childItem, state, true);\n          });\n        }\n\n        return true;\n      });\n    });\n    self.sortCombos();\n  };\n  /**\n   *  bbox  combo  combos  combos \n   * @param {String | ICombo} combo  Combo  id Combo  Combod \n   */\n\n\n  AbstractGraph.prototype.updateCombo = function (combo) {\n    var _this = this;\n\n    var self = this;\n    var comboItem = combo;\n    var comboId;\n\n    if (isString(combo)) {\n      comboItem = this.findById(combo);\n    }\n\n    if (!comboItem || comboItem.getType && comboItem.getType() !== 'combo') {\n      console.warn('The item to be updated is not a combo!');\n      return;\n    }\n\n    comboId = comboItem.get('id');\n    var comboTrees = this.get('comboTrees');\n    var itemController = self.get('itemController');\n    var itemMap = self.get('itemMap');\n    (comboTrees || []).forEach(function (ctree) {\n      traverseTreeUp(ctree, function (child) {\n        if (!child) {\n          return true;\n        }\n\n        var childItem = itemMap[child.id];\n\n        if (comboId === child.id && childItem && childItem.getType && childItem.getType() === 'combo') {\n          //  Combo  state  Combo \n          var states = __spreadArray([], childItem.getStates(), true); // || !item.getStateStyle(stateName)\n\n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, false);\n            }\n          }); //  Combo\n\n          itemController.updateCombo(childItem, child.children); //  Combo \n\n          each(states, function (state) {\n            if (childItem.getStateStyle(state)) {\n              _this.setItemState(childItem, state, true);\n            }\n          });\n          if (comboId) comboId = child.parentId;\n        }\n\n        return true;\n      });\n    });\n  };\n  /**\n   * \n   * @param {String | INode | ICombo} item  Combo   id\n   * @param {string | undefined} parentId  combo idundefined  combo\n   */\n\n\n  AbstractGraph.prototype.updateComboTree = function (item, parentId, stack) {\n    if (stack === void 0) {\n      stack = true;\n    }\n\n    var self = this;\n    this.set('comboSorted', false);\n    var uItem;\n\n    if (isString(item)) {\n      uItem = self.findById(item);\n    } else {\n      uItem = item;\n    }\n\n    var model = uItem.getModel();\n    var oldParentId = model.comboId || model.parentId;\n    var type = '';\n    if (uItem.getType) type = uItem.getType(); //  item  Combo parentId  combo  id\n\n    if (parentId && type === 'combo') {\n      var comboTrees = this.get('comboTrees');\n      var valid_1 = true;\n      var itemSubTree_1;\n      (comboTrees || []).forEach(function (ctree) {\n        if (itemSubTree_1) return;\n        traverseTree(ctree, function (subTree) {\n          if (itemSubTree_1) return; //  item \n\n          if (subTree.id === uItem.getID()) {\n            itemSubTree_1 = subTree;\n          }\n\n          return true;\n        });\n      }); //  item  parentId \n\n      traverseTree(itemSubTree_1, function (subTree) {\n        if (subTree.id === parentId) {\n          valid_1 = false;\n          return false;\n        }\n\n        return true;\n      }); // parentId  item \n\n      if (!valid_1) {\n        console.warn('Failed to update the combo tree! The parentId points to a descendant of the combo!');\n        return;\n      }\n    }\n\n    if (stack && this.get('enabledStack')) {\n      var beforeData = {},\n          afterData = {};\n\n      if (type === 'combo') {\n        beforeData.combos = [{\n          id: model.id,\n          parentId: model.parentId\n        }];\n        afterData.combos = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      } else if (type === 'node') {\n        beforeData.nodes = [{\n          id: model.id,\n          parentId: model.comboId\n        }];\n        afterData.nodes = [{\n          id: model.id,\n          parentId: parentId\n        }];\n      }\n\n      this.pushStack('updateComboTree', {\n        before: beforeData,\n        after: afterData\n      });\n    } //  combo  parentId  comboId \n\n\n    if (model.parentId || model.comboId) {\n      var combo = this.findById(model.parentId || model.comboId);\n\n      if (combo) {\n        combo.removeChild(uItem);\n      }\n    }\n\n    if (type === 'combo') {\n      model.parentId = parentId;\n    } else if (type === 'node') {\n      model.comboId = parentId;\n    } //  combo \n\n\n    if (parentId) {\n      var parentCombo = this.findById(parentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.addChild(uItem);\n      }\n    } //  combo combo \n\n\n    if (oldParentId) {\n      var parentCombo = this.findById(oldParentId);\n\n      if (parentCombo) {\n        //  parentCombo \n        parentCombo.removeChild(uItem);\n      }\n    }\n\n    var newComboTrees = reconstructTree(this.get('comboTrees'), model.id, parentId);\n    this.set('comboTrees', newComboTrees);\n    this.updateCombos();\n  };\n  /**\n   * \n   * @return {object} data\n   */\n\n\n  AbstractGraph.prototype.save = function () {\n    var nodes = [];\n    var edges = [];\n    var combos = [];\n    each(this.get('nodes'), function (node) {\n      nodes.push(node.getModel());\n    });\n    each(this.get('edges'), function (edge) {\n      edges.push(edge.getModel());\n    });\n    each(this.get('combos'), function (combo) {\n      combos.push(combo.getModel());\n    });\n    return {\n      nodes: nodes,\n      edges: edges,\n      combos: combos\n    };\n  };\n  /**\n   * \n   * @param  {number} width  \n   * @param  {number} height \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.changeSize = function (width, height) {\n    var viewController = this.get('viewController');\n    viewController.changeSize(width, height);\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refresh = function () {\n    var self = this;\n    self.emit('beforegraphrefresh');\n\n    if (self.get('animate')) {\n      self.positionsAnimate();\n    } else {\n      var nodes = self.get('nodes');\n      var edges = self.get('edges');\n      var vedges = self.get('edges');\n      each(nodes, function (node) {\n        node.refresh();\n      });\n      each(edges, function (edge) {\n        edge.refresh();\n      });\n      each(vedges, function (vedge) {\n        vedge.refresh();\n      });\n    }\n\n    self.emit('aftergraphrefresh');\n    self.autoPaint();\n  };\n  /**\n   * item\n   * @return {INode} item\n   */\n\n\n  AbstractGraph.prototype.getNodes = function () {\n    return this.get('nodes');\n  };\n  /**\n   * item\n   * @return {IEdge} item\n   */\n\n\n  AbstractGraph.prototype.getEdges = function () {\n    return this.get('edges');\n  };\n  /**\n   *  combo \n   */\n\n\n  AbstractGraph.prototype.getCombos = function () {\n    return this.get('combos');\n  };\n  /**\n   *  Combo \n   * @param comboId combo ID\n   */\n\n\n  AbstractGraph.prototype.getComboChildren = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo does not exist!');\n      return;\n    }\n\n    return combo.getChildren();\n  };\n  /**\n   *  graph  animateCfg \n   */\n\n\n  AbstractGraph.prototype.positionsAnimate = function () {\n    var self = this;\n    self.emit('beforeanimate');\n    var animateCfg = self.get('animateCfg');\n    var onFrame = animateCfg.onFrame;\n    var nodes = self.getNodes();\n    var toNodes = nodes.map(function (node) {\n      var model = node.getModel();\n      return {\n        id: model.id,\n        x: model.x,\n        y: model.y\n      };\n    });\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    var canvas = self.get('canvas');\n    canvas.animate(function (ratio) {\n      each(toNodes, function (data) {\n        var node = self.findById(data.id);\n\n        if (!node || node.destroyed) {\n          return;\n        }\n\n        var originAttrs = node.get('originAttrs');\n        var model = node.get('model');\n\n        if (!originAttrs) {\n          var containerMatrix = node.getContainer().getMatrix();\n          if (!containerMatrix) containerMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          originAttrs = {\n            x: containerMatrix[6],\n            y: containerMatrix[7]\n          };\n          node.set('originAttrs', originAttrs);\n        }\n\n        if (onFrame) {\n          var attrs = onFrame(node, ratio, data, originAttrs);\n          node.set('model', Object.assign(model, attrs));\n        } else {\n          model.x = originAttrs.x + (data.x - originAttrs.x) * ratio;\n          model.y = originAttrs.y + (data.y - originAttrs.y) * ratio;\n        }\n      });\n      self.refreshPositions();\n    }, {\n      duration: animateCfg.duration,\n      easing: animateCfg.easing,\n      callback: function callback() {\n        each(nodes, function (node) {\n          node.set('originAttrs', null);\n        });\n\n        if (animateCfg.callback) {\n          animateCfg.callback();\n        }\n\n        self.emit('afteranimate');\n        self.animating = false;\n      }\n    });\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.refreshPositions = function () {\n    var self = this;\n    self.emit('beforegraphrefreshposition');\n    var nodes = self.get('nodes');\n    var edges = self.get('edges');\n    var vedges = self.get('vedges');\n    var combos = self.get('combos');\n    var model;\n    var updatedNodes = {};\n    each(nodes, function (node) {\n      model = node.getModel();\n      var originAttrs = node.get('originAttrs');\n\n      if (originAttrs && model.x === originAttrs.x && model.y === originAttrs.y) {\n        return;\n      }\n\n      var changed = node.updatePosition({\n        x: model.x,\n        y: model.y\n      });\n      updatedNodes[model.id] = changed;\n      if (model.comboId) updatedNodes[model.comboId] = updatedNodes[model.comboId] || changed;\n    });\n\n    if (combos && combos.length !== 0) {\n      self.updateCombos();\n    }\n\n    each(edges, function (edge) {\n      var sourceModel = edge.getSource().getModel();\n      var target = edge.getTarget(); //  target  getModel \n      //  target \n\n      if (!isPlainObject(target)) {\n        var targetModel = target.getModel();\n\n        if (updatedNodes[sourceModel.id] || updatedNodes[targetModel.id] || edge.getModel().isComboEdge) {\n          edge.refresh();\n        }\n      }\n    });\n    each(vedges, function (vedge) {\n      vedge.refresh();\n    });\n    self.emit('aftergraphrefreshposition');\n    self.autoPaint();\n  };\n\n  AbstractGraph.prototype.stopAnimate = function () {\n    this.get('canvas').stopAnimate();\n  };\n\n  AbstractGraph.prototype.isAnimating = function () {\n    return this.animating;\n  };\n  /**\n   * \n   * @return {number} \n   */\n\n\n  AbstractGraph.prototype.getZoom = function () {\n    var matrix = this.get('group').getMatrix();\n    return matrix ? matrix[0] : 1;\n  };\n  /**\n   * \n   * @return {string} \n   */\n\n\n  AbstractGraph.prototype.getCurrentMode = function () {\n    var modeController = this.get('modeController');\n    return modeController.getMode();\n  };\n  /**\n   * \n   * @param {string} mode \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.setMode = function (mode) {\n    var modeController = this.get('modeController');\n    modeController.setMode(mode);\n    return this;\n  };\n  /**\n   * \n   * @return {object} this\n   */\n\n\n  AbstractGraph.prototype.clear = function (avoidEmit) {\n    if (avoidEmit === void 0) {\n      avoidEmit = false;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.clear();\n    this.initGroups(); // \n\n    this.set({\n      itemMap: {},\n      nodes: [],\n      edges: [],\n      groups: [],\n      combos: [],\n      comboTrees: []\n    });\n    if (!avoidEmit) this.emit('afterrender');\n    return this;\n  };\n  /**\n   * \n   * @param {object} cfg \n   *  cfg  type  String \n   *  cfg  type \n   */\n\n\n  AbstractGraph.prototype.updateLayout = function (cfg) {\n    var layoutController = this.get('layoutController');\n\n    if (isString(cfg)) {\n      cfg = {\n        type: cfg\n      };\n    }\n\n    var oriLayoutCfg = this.get('layout');\n    var layoutCfg = {};\n    Object.assign(layoutCfg, oriLayoutCfg, cfg);\n    this.set('layout', layoutCfg);\n\n    if (layoutController.isLayoutTypeSame(layoutCfg) && layoutCfg.gpuEnabled === oriLayoutCfg.gpuEnabled) {\n      // no type or same type, or switch the gpu and cpu, update layout\n      layoutController.updateLayoutCfg(layoutCfg);\n    } else {\n      // has different type, change layout\n      layoutController.changeLayout(layoutCfg);\n    }\n  };\n  /**\n   * changeData \n   */\n\n\n  AbstractGraph.prototype.destroyLayout = function () {\n    var layoutController = this.get('layoutController');\n    layoutController.destroyLayout();\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.layout = function () {\n    var layoutController = this.get('layoutController');\n    var layoutCfg = this.get('layout');\n    if (!layoutCfg || !layoutController) return;\n\n    if (layoutCfg.workerEnabled) {\n      // web worker\n      layoutController.layout();\n      return;\n    }\n\n    if (layoutController.layoutMethod) {\n      layoutController.relayout(true);\n    } else {\n      layoutController.layout();\n    }\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.collapseCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo) {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.collapseCombo(combo);\n    comboModel.collapsed = true; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate the forEach\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false; // if the combo is found\n\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          // if the combo is found, concat the descendant nodes and combos\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = [];\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || source.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel();\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.parentId || targetModel.comboId);\n          if (!target || !targetModel.parentId && !targetModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          targetModel = target.getModel();\n        }\n\n        var targetId = targetModel.id;\n\n        if (edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)]) {\n          edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)] += edgeModel.size || 1;\n          return;\n        } // the source is in the combo, the target is not\n\n\n        var vedge = _this.addItem('vedge', {\n          source: comboModel.id,\n          target: targetId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[\"\".concat(comboModel.id, \"-\").concat(targetId)] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || target.getModel().id === comboModel.id) {\n        var edgeModel = edge.getModel();\n\n        if (edgeModel.isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel();\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.parentId || sourceModel.comboId);\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) return; // all the ancestors are hidden, then ignore the edge\n\n          sourceModel = source.getModel();\n        }\n\n        var sourceId = sourceModel.id;\n\n        if (edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)]) {\n          edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)] += edgeModel.size || 1;\n          return;\n        } // the target is in the combo, the source is not\n\n\n        var vedge = _this.addItem('vedge', {\n          target: comboModel.id,\n          source: sourceId,\n          isVEdge: true\n        }, false);\n\n        edgeWeightMap[\"\".concat(sourceId, \"-\").concat(comboModel.id)] = edgeModel.size || 1;\n        addedVEdges.push(vedge);\n      }\n    }); // update the width of the virtual edges, which is the sum of merged actual edges\n    // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n    addedVEdges.forEach(function (vedge) {\n      var vedgeModel = vedge.getModel();\n\n      _this.updateItem(vedge, {\n        size: edgeWeightMap[\"\".concat(vedgeModel.source, \"-\").concat(vedgeModel.target)]\n      }, false);\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'collapse',\n      item: combo\n    });\n  };\n  /**\n   *  combo\n   * @param {string | ICombo} combo combo ID  combo item\n   */\n\n\n  AbstractGraph.prototype.expandCombo = function (combo) {\n    var _this = this;\n\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') {\n      console.warn('The combo to be collapsed does not exist!');\n      return;\n    }\n\n    this.emit('beforecollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n    var comboModel = combo.getModel();\n    var itemController = this.get('itemController');\n    itemController.expandCombo(combo);\n    comboModel.collapsed = false; // add virtual edges\n\n    var edges = this.getEdges().concat(this.get('vedges')); // find all the descendant nodes and combos\n\n    var cnodes = [];\n    var ccombos = [];\n    var comboTrees = this.get('comboTrees');\n    var found = false;\n    (comboTrees || []).forEach(function (ctree) {\n      if (found) return; // if the combo is found, terminate\n\n      traverseTree(ctree, function (subTree) {\n        // if the combo is found and it is traversing the other branches, terminate\n        if (found && subTree.depth <= comboModel.depth) return false;\n        if (comboModel.id === subTree.id) found = true;\n\n        if (found) {\n          var item = _this.findById(subTree.id);\n\n          if (item && item.getType && item.getType() === 'combo') {\n            cnodes = cnodes.concat(item.getNodes());\n            ccombos = ccombos.concat(item.getCombos());\n          }\n        }\n\n        return true;\n      });\n    });\n    var edgeWeightMap = {};\n    var addedVEdges = {};\n    edges.forEach(function (edge) {\n      if (edge.isVisible() && !edge.getModel().isVEdge) return;\n      var source = edge.getSource();\n      var target = edge.getTarget();\n      var sourceId = source.get('id');\n      var targetId = target.get('id');\n\n      if ((cnodes.includes(source) || ccombos.includes(source)) && !cnodes.includes(target) && !ccombos.includes(target) || sourceId === comboModel.id) {\n        // the source is in the combo, the target is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (sourceModel.comboId === comboModel.id || sourceModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n\n        if (targetId) {\n          var vedgeId = \"\".concat(sourceId, \"-\").concat(targetId); // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            source: sourceId,\n            target: targetId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if (!cnodes.includes(source) && !ccombos.includes(source) && (cnodes.includes(target) || ccombos.includes(target)) || targetId === comboModel.id) {\n        // the target is in the combo, the source is not\n        // ignore the virtual edges\n        if (edge.getModel().isVEdge) {\n          _this.removeItem(edge, false);\n\n          return;\n        }\n\n        var sourceModel = source.getModel(); // find the nearest visible ancestor\n\n        while (!source.isVisible()) {\n          source = _this.findById(sourceModel.comboId || sourceModel.parentId);\n\n          if (!source || !sourceModel.parentId && !sourceModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          sourceModel = source.getModel();\n        }\n\n        sourceId = sourceModel.id;\n        var targetModel = target.getModel(); // find the nearest visible ancestor\n\n        while (!target.isVisible()) {\n          target = _this.findById(targetModel.comboId || targetModel.parentId);\n\n          if (!target || !targetModel.parentId && !targetModel.comboId) {\n            return; // if all the ancestors of the oppsite are all hidden, ignore the edge\n          }\n\n          if (targetModel.comboId === comboModel.id || targetModel.parentId === comboModel.id) {\n            break; // if the next ancestor is the combo, break the while\n          }\n\n          targetModel = target.getModel();\n        }\n\n        targetId = targetModel.id;\n\n        if (sourceId) {\n          var vedgeId = \"\".concat(sourceId, \"-\").concat(targetId); // update the width of the virtual edges, which is the sum of merged actual edges\n          // be attention that the actual edges with same endpoints but different directions will be represented by two different virtual edges\n\n          if (edgeWeightMap[vedgeId]) {\n            edgeWeightMap[vedgeId] += edge.getModel().size || 1;\n\n            _this.updateItem(addedVEdges[vedgeId], {\n              size: edgeWeightMap[vedgeId]\n            }, false);\n\n            return;\n          }\n\n          var vedge = _this.addItem('vedge', {\n            target: targetId,\n            source: sourceId,\n            isVEdge: true\n          }, false);\n\n          edgeWeightMap[vedgeId] = edge.getModel().size || 1;\n          addedVEdges[vedgeId] = vedge;\n        }\n      } else if ((cnodes.includes(source) || ccombos.includes(source)) && (cnodes.includes(target) || ccombos.includes(target))) {\n        // both source and target are in the combo, if the target and source are both visible, show the edge\n        if (source.isVisible() && target.isVisible()) {\n          edge.show();\n        }\n      }\n    });\n    this.emit('aftercollapseexpandcombo', {\n      action: 'expand',\n      item: combo\n    });\n  };\n\n  AbstractGraph.prototype.collapseExpandCombo = function (combo) {\n    if (isString(combo)) {\n      combo = this.findById(combo);\n    }\n\n    if (!combo || combo.getType && combo.getType() !== 'combo') return;\n    var comboModel = combo.getModel(); // if one ancestor combo of the combo is collapsed, it should not be collapsed or expanded\n\n    var parentItem = this.findById(comboModel.parentId);\n\n    while (parentItem) {\n      var parentModel = parentItem.getModel();\n\n      if (parentModel.collapsed) {\n        console.warn(\"Fail to expand the combo since it's ancestor combo is collapsed.\");\n        parentItem = undefined;\n        return;\n      }\n\n      parentItem = this.findById(parentModel.parentId);\n    }\n\n    var collapsed = comboModel.collapsed; // \n\n    if (collapsed) {\n      this.expandCombo(combo);\n    } else {\n      this.collapseCombo(combo);\n    }\n\n    this.updateCombo(combo);\n  };\n  /**\n   *  comboTree  Combo  Combo \n   * @param {GraphData} data \n   */\n\n\n  AbstractGraph.prototype.sortCombos = function () {\n    var _this = this;\n\n    var comboSorted = this.get('comboSorted');\n    if (comboSorted) return;\n    this.set('comboSorted', true);\n    var depthMap = [];\n    var dataDepthMap = {};\n    var comboTrees = this.get('comboTrees');\n    (comboTrees || []).forEach(function (cTree) {\n      traverseTree(cTree, function (child) {\n        if (depthMap[child.depth]) depthMap[child.depth].push(child.id);else depthMap[child.depth] = [child.id];\n        dataDepthMap[child.id] = child.depth;\n        return true;\n      });\n    });\n    var edges = this.getEdges().concat(this.get('vedges'));\n    (edges || []).forEach(function (edgeItem) {\n      var edge = edgeItem.getModel();\n      var sourceDepth = dataDepthMap[edge.source] || 0;\n      var targetDepth = dataDepthMap[edge.target] || 0;\n      var depth = Math.max(sourceDepth, targetDepth);\n      if (depthMap[depth]) depthMap[depth].push(edge.id);else depthMap[depth] = [edge.id];\n    });\n    depthMap.forEach(function (array) {\n      if (!array || !array.length) return;\n\n      for (var i = array.length - 1; i >= 0; i--) {\n        var item = _this.findById(array[i]);\n\n        if (item) item.toFront();\n      }\n    });\n  };\n  /**\n   * \n   *\n   * @param {(string | INode)} node  ID \n   * @returns {INode[]}\n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNeighbors = function (node, type) {\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    return item.getNeighbors(type);\n  };\n  /**\n   *  node \n   *\n   * @param {(string | INode)} node  ID \n   * @param {('in' | 'out' | 'total' | 'all' | undefined)} in out total all \n   * @returns {Number | Object} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getNodeDegree = function (node, type, refresh) {\n    if (type === void 0) {\n      type = undefined;\n    }\n\n    if (refresh === void 0) {\n      refresh = false;\n    }\n\n    var item = node;\n\n    if (isString(node)) {\n      item = this.findById(node);\n    }\n\n    var degrees = this.get('degrees');\n\n    if (!degrees || refresh) {\n      degrees = getDegree(this.save());\n      this.set('degrees', degrees);\n    }\n\n    var nodeDegrees = degrees[item.getID()];\n    var res = 0; //  addItem  0\n\n    if (!nodeDegrees) {\n      return 0;\n    }\n\n    switch (type) {\n      case 'in':\n        res = nodeDegrees.inDegree;\n        break;\n\n      case 'out':\n        res = nodeDegrees.outDegree;\n        break;\n\n      case 'all':\n        res = nodeDegrees;\n        break;\n\n      default:\n        res = nodeDegrees.degree;\n        break;\n    }\n\n    return res;\n  };\n\n  AbstractGraph.prototype.getUndoStack = function () {\n    return this.undoStack;\n  };\n\n  AbstractGraph.prototype.getRedoStack = function () {\n    return this.redoStack;\n  };\n  /**\n   *  undo  redo \n   */\n\n\n  AbstractGraph.prototype.getStackData = function () {\n    if (!this.get('enabledStack')) {\n      return null;\n    }\n\n    return {\n      undoStack: this.undoStack.toArray(),\n      redoStack: this.redoStack.toArray()\n    };\n  };\n  /**\n   *  undo stack & redo stack\n   */\n\n\n  AbstractGraph.prototype.clearStack = function () {\n    if (this.get('enabledStack')) {\n      this.undoStack.clear();\n      this.redoStack.clear();\n    }\n  };\n  /**\n   * \n   * @param action \n   * @param data \n   * @param stackType \n   */\n\n\n  AbstractGraph.prototype.pushStack = function (action, data, stackType) {\n    if (action === void 0) {\n      action = 'update';\n    }\n\n    if (stackType === void 0) {\n      stackType = 'undo';\n    }\n\n    if (!this.get('enabledStack')) {\n      console.warn(' undo & redo  Graph  enabledStack: true !');\n      return;\n    }\n\n    var stackData = data ? clone(data) : {\n      before: {},\n      after: clone(this.save())\n    };\n\n    if (stackType === 'redo') {\n      this.redoStack.push({\n        action: action,\n        data: stackData\n      });\n    } else {\n      this.undoStack.push({\n        action: action,\n        data: stackData\n      });\n    }\n\n    this.emit('stackchange', {\n      undoStack: this.undoStack,\n      redoStack: this.redoStack\n    });\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getAdjMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    return currentAdjMatrix;\n  };\n  /**\n   * \n   *\n   * @param {boolean} cache \n   * @param {boolean} directed  graph.directed\n   * @returns {Matrix} \n   * @memberof IAbstractGraph\n   */\n\n\n  AbstractGraph.prototype.getShortestPathMatrix = function (cache, directed) {\n    if (cache === void 0) {\n      cache = true;\n    }\n\n    if (directed === undefined) directed = this.get('directed');\n    var currentAdjMatrix = this.get('adjMatrix');\n    var currentShourtestPathMatrix = this.get('shortestPathMatrix');\n\n    if (!currentAdjMatrix || !cache) {\n      currentAdjMatrix = getAdjacentMatrix(this.save(), directed);\n      this.set('adjMatrix', currentAdjMatrix);\n    }\n\n    if (!currentShourtestPathMatrix || !cache) {\n      currentShourtestPathMatrix = floydWarshall(this.save(), directed);\n      this.set('shortestPathMatrix', currentShourtestPathMatrix);\n    }\n\n    return currentShourtestPathMatrix;\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.on = function (eventName, callback, once) {\n    return _super.prototype.on.call(this, eventName, callback, once);\n  };\n  /**\n   * \n   */\n\n\n  AbstractGraph.prototype.destroy = function () {\n    this.clear();\n    clearAnimationFrame(this.timeIndex); // \n\n    this.clearStack();\n    this.get('itemController').destroy();\n    this.get('modeController').destroy();\n    this.get('viewController').destroy();\n    this.get('stateController').destroy();\n    this.get('canvas').destroy();\n    this.cfg = null;\n    this.destroyed = true;\n    this.redoStack = null;\n    this.undoStack = null;\n  };\n  /**\n   * \n   * @param cfg HullCfg \n   */\n\n\n  AbstractGraph.prototype.createHull = function (cfg) {\n    if (!cfg.members || cfg.members.length < 1) {\n      console.warn('Create hull failed! The members is empty.');\n      return;\n    }\n\n    var parent = this.get('hullGroup');\n    var hullMap = this.get('hullMap');\n\n    if (!hullMap) {\n      hullMap = {};\n      this.set('hullMap', hullMap);\n    }\n\n    if (!parent || parent.get('destroyed')) {\n      parent = this.get('group').addGroup({\n        id: 'hullGroup'\n      });\n      parent.toBack();\n      this.set('hullGroup', parent);\n    }\n\n    if (hullMap[cfg.id]) {\n      console.warn('Existed hull id.');\n      return hullMap[cfg.id];\n    }\n\n    var group = parent.addGroup({\n      id: \"\".concat(cfg.id, \"-container\")\n    });\n    var hull = new Hull(this, __assign(__assign({}, cfg), {\n      group: group\n    }));\n    var hullId = hull.id;\n    hullMap[hullId] = hull;\n    return hull;\n  };\n  /**\n   *  graph \n   * @return {[key: string]: Hull} Hull  maphullId  hull \n   */\n\n\n  AbstractGraph.prototype.getHulls = function () {\n    return this.get('hullMap');\n  };\n  /**\n   *  hullId  hull\n   * @return Hull\n   */\n\n\n  AbstractGraph.prototype.getHullById = function (hullId) {\n    return this.get('hullMap')[hullId];\n  };\n\n  AbstractGraph.prototype.removeHull = function (hull) {\n    var hullInstance;\n\n    if (isString(hull)) {\n      hullInstance = this.getHullById(hull);\n    } else {\n      hullInstance = hull;\n    }\n\n    var hullMap = this.get('hullMap');\n    delete hullMap[hullInstance.id];\n    hullInstance.destroy();\n  };\n\n  AbstractGraph.prototype.removeHulls = function () {\n    var hulls = this.getHulls();\n    if (!hulls || !Object.keys(hulls).length) return;\n    Object.keys(hulls).forEach(function (key) {\n      var hull = hulls[key];\n      hull.destroy();\n    });\n    this.set('hullMap', {});\n  };\n\n  AbstractGraph.prototype.onTick = function (timestamp) {\n    var layoutController = this.get('layoutController');\n\n    if (layoutController) {\n      layoutController.onTick(timestamp);\n      this.timeIndex = requestAnimationFrame(this.onTick.bind(this));\n    }\n  };\n\n  return AbstractGraph;\n}(EventEmitter);\n\nexport default AbstractGraph;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { __assign } from \"tslib\";\nimport Global from '../global';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix, each, mix, isBoolean, isPlainObject, clone } from '@antv/util';\nimport { cloneBesidesImg } from '../util/graphic';\nvar transform = ext.transform;\nvar CLS_SHAPE_SUFFIX = '-shape';\nvar CLS_LABEL_SUFFIX = '-label';\nvar ARROWS = ['startArrow', 'endArrow'];\nvar SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: undefined,\n  fill: undefined,\n  lineAppendWidth: 1,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  x: 0,\n  y: 0,\n  r: 10,\n  width: 20,\n  height: 20,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar PATH_SHAPE_DEFAULT_ATTRS = {\n  lineWidth: 1,\n  stroke: '#000',\n  lineDash: undefined,\n  startArrow: false,\n  endArrow: false,\n  opacity: undefined,\n  strokeOpacity: undefined,\n  fillOpacity: undefined,\n  shadowColor: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0\n};\nvar SHAPES_DEFAULT_ATTRS = {\n  edge: PATH_SHAPE_DEFAULT_ATTRS,\n  node: SHAPE_DEFAULT_ATTRS,\n  combo: SHAPE_DEFAULT_ATTRS\n};\nexport var CLS_LABEL_BG_SUFFIX = '-label-bg'; //  shape  label\n\nexport var shapeBase = {\n  // \n  options: {},\n  itemType: '',\n\n  /**\n   *  circleellipsepolyline...\n   */\n  type: '',\n  getCustomConfig: function getCustomConfig(cfg) {\n    return {};\n  },\n  getOptions: function getOptions(cfg) {\n    return deepMix({\n      // \n      labelCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      },\n      descriptionCfg: {\n        style: {\n          fontFamily: typeof window !== 'undefined' && window.getComputedStyle ? window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif' : 'Arial, sans-serif'\n        }\n      }\n    }, this.options, this.getCustomConfig(cfg) || {}, cfg);\n  },\n\n  /**\n   * /\n   * @override\n   * @param  {Object} cfg \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  draw: function draw(cfg, group) {\n    var shape = this.drawShape(cfg, group);\n    shape.set('className', this.itemType + CLS_SHAPE_SUFFIX);\n\n    if (cfg.label) {\n      var label = this.drawLabel(cfg, group);\n      label.set('className', this.itemType + CLS_LABEL_SUFFIX);\n    }\n\n    return shape;\n  },\n\n  /**\n   * \n   * @param cfg\n   * @param group\n   * @param keyShape\n   */\n  afterDraw: function afterDraw(cfg, group, keyShape) {},\n  drawShape: function drawShape(cfg, group) {\n    return null;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.getOptions(cfg).labelCfg; // imagenull\n\n    var labelCfg = defaultLabelCfg || {};\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      draggable: true,\n      className: 'text-shape',\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      var labelBBox = label.getBBox();\n      var labelMatrix = label.getMatrix();\n\n      if (!labelMatrix) {\n        labelMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      }\n\n      if (labelStyle.rotateCenter) {\n        switch (labelStyle.rotateCenter) {\n          case 'center':\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n\n          case 'lefttop':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n            break;\n\n          case 'leftcenter':\n            labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n            break;\n\n          default:\n            labelMatrix = transform(labelMatrix, [['t', -labelBBox.width / 2, -labelBBox.height / 2], ['r', rotate], ['t', labelBBox.width / 2, labelBBox.height / 2]]);\n            break;\n        }\n      } else {\n        labelMatrix = transform(labelMatrix, [['t', -labelStyle.x, -labelStyle.y - labelBBox.height / 2], ['r', rotate], ['t', labelStyle.x, labelStyle.y + labelBBox.height / 2]]);\n      }\n\n      label.setMatrix(labelMatrix);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = mix({}, defaultLabelCfg, cfg.labelCfg);\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    return rect;\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    return {\n      text: cfg.label\n    };\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    return {};\n  },\n\n  /**\n   * \n   * @param cfg \n   * @param labelCfg \n   * @param group label \n   */\n  getLabelStyle: function getLabelStyle(cfg, labelCfg, group) {\n    var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group);\n    var attrName = \"\".concat(this.itemType, \"Label\"); //  nodeLabeledgeLabel \n\n    var defaultStyle = Global[attrName] ? Global[attrName].style : null;\n\n    var labelStyle = __assign(__assign(__assign({}, defaultStyle), calculateStyle), labelCfg.style);\n\n    return labelStyle;\n  },\n\n  /**\n   * \n   * @param cfg\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    return cfg.style;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg /\n   * @param  {G6.Item} item /\n   */\n  update: function update(cfg, item) {\n    this.updateShapeStyle(cfg, item);\n    this.updateLabel(cfg, item);\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shape = item.getKeyShape();\n    var shapeStyle = mix({}, shape.attr(), cfg.style);\n\n    var _loop_1 = function _loop_1(key) {\n      var _a;\n\n      var style = shapeStyle[key];\n\n      if (isPlainObject(style)) {\n        // \n        var subShape = group.find(function (element) {\n          return element.get('name') === key;\n        });\n\n        if (subShape) {\n          subShape.attr(style);\n        }\n      } else {\n        shape.attr((_a = {}, _a[key] = style, _a));\n      }\n    };\n\n    for (var key in shapeStyle) {\n      _loop_1(key);\n    }\n  },\n  updateLabel: function updateLabel(cfg, item) {\n    var group = item.getContainer();\n    var defaultLabelCfg = this.getOptions({}).labelCfg;\n    var labelClassName = this.itemType + CLS_LABEL_SUFFIX;\n    var label = group.find(function (element) {\n      return element.get('className') === labelClassName;\n    });\n    var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n    var labelBg = group.find(function (element) {\n      return element.get('classname') === labelBgClassname;\n    }); //  cfg.label = \"\" \n\n    if (cfg.label || cfg.label === '') {\n      //  label labellabel \n      if (!label) {\n        //  label label\n        var newLabel = this.drawLabel(cfg, group);\n        newLabel.set('className', labelClassName);\n      } else {\n        //  label getLabelStyle  label \n        //  style position, offset, ...\n        var currentLabelCfg = {};\n\n        if (item.getModel) {\n          currentLabelCfg = item.getModel().labelCfg;\n        } // \n\n\n        var labelCfg = deepMix({}, defaultLabelCfg, currentLabelCfg, cfg.labelCfg); // \n\n        var calculateStyle = this.getLabelStyleByPosition(cfg, labelCfg, group); //  nodeLabeledgeLabel \n\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : undefined;\n        var cfgBgStyle = labelCfg.style && labelCfg.style.background; // \b label  label.attr()/ label \n\n        var labelStyle = __assign(__assign(__assign({}, label.attr()), calculateStyle), cfgStyle);\n\n        var rotate = labelStyle.rotate;\n        delete labelStyle.rotate; //  label \n\n        if (rotate) {\n          // if G 4.x define the rotateAtStart, use it directly instead of using the following codes\n          var rotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          rotateMatrix = transform(rotateMatrix, [['t', -labelStyle.x, -labelStyle.y], ['r', rotate], ['t', labelStyle.x, labelStyle.y]]);\n          label.resetMatrix();\n          label.attr(__assign(__assign({}, labelStyle), {\n            matrix: rotateMatrix\n          }));\n        } else {\n          label.resetMatrix();\n          label.attr(labelStyle);\n        }\n\n        if (!labelBg) {\n          if (labelStyle.background) {\n            labelBg = this.drawLabelBg(cfg, group, label);\n            labelBg.set('classname', labelBgClassname);\n            label.toFront();\n          }\n        } else if (labelStyle.background) {\n          var calculateBgStyle = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n\n          var labelBgStyle = __assign(__assign({}, calculateBgStyle), cfgBgStyle);\n\n          labelBg.resetMatrix();\n\n          if (rotate) {\n            var bgRotateMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            bgRotateMatrix = transform(bgRotateMatrix, [['t', -labelBgStyle.x, -labelBgStyle.y], ['r', rotate], ['t', labelBgStyle.x, labelBgStyle.y]]);\n            labelBgStyle.matrix = bgRotateMatrix;\n          }\n\n          labelBg.attr(labelBgStyle);\n        } else {\n          group.removeChild(labelBg);\n        }\n      }\n    }\n  },\n  // update(cfg, item) // \n  afterUpdate: function afterUpdate(cfg, item) {},\n\n  /**\n   *  draw \n   *  selectedactive \n   * @override\n   * @param  {String} name \n   * @param  {String | Boolean} value \n   * @param  {G6.Item} item \n   */\n  setState: function setState(name, value, item) {\n    var _a, _b;\n\n    var shape = item.get('keyShape');\n    if (!shape || shape.destroyed) return;\n    var type = item.getType();\n    var stateName = isBoolean(value) ? name : \"\".concat(name, \":\").concat(value);\n    var shapeStateStyle = this.getStateStyle(stateName, item);\n    var itemStateStyle = item.getStateStyle(stateName); // const originStyle = item.getOriginStyle();\n    // \n\n    if (!itemStateStyle && !shapeStateStyle) {\n      return;\n    } // \n    //  state  model.stateStyles \n\n\n    var styles = mix({}, itemStateStyle || shapeStateStyle);\n    var group = item.getContainer(); //  states \n\n    var keptAttrs = {\n      x: 1,\n      y: 1,\n      cx: 1,\n      cy: 1\n    };\n\n    if (type === 'combo') {\n      keptAttrs.r = 1;\n      keptAttrs.width = 1;\n      keptAttrs.height = 1;\n    }\n\n    if (value) {\n      var _loop_2 = function _loop_2(key) {\n        var _c;\n\n        var style = styles[key];\n\n        if (isPlainObject(style) && !ARROWS.includes(key)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === key;\n          });\n\n          if (subShape) {\n            subShape.attr(style);\n          }\n        } else {\n          //  keyShape \n          shape.attr((_c = {}, _c[key] = style, _c));\n        }\n      }; // style \n\n\n      for (var key in styles) {\n        _loop_2(key);\n      }\n    } else {\n      //  state \n      var enableStatesStyle = cloneBesidesImg(item.getCurrentStatesStyle());\n      var model = item.getModel(); // \n\n      var originStyle_1 = mix({}, model.style, cloneBesidesImg(item.getOriginStyle()));\n      var keyShapeName_1 = shape.get('name'); // cloning  shape.attr(), keys.forEach to avoid cloning the img attr, which leads to maximum clone heap #2383\n      // const keyShapeStyles = clone(shape.attr())\n\n      var shapeAttrs_1 = shape.attr();\n      var keyShapeStyles_1 = {};\n      Object.keys(shapeAttrs_1).forEach(function (key) {\n        if (key === 'img') return;\n        var attr = shapeAttrs_1[key];\n\n        if (attr && _typeof(attr) === 'object') {\n          keyShapeStyles_1[key] = clone(attr);\n        } else {\n          keyShapeStyles_1[key] = attr;\n        }\n      }); //  - \n\n      var filtetDisableStatesStyle = {};\n\n      var _loop_3 = function _loop_3(p) {\n        var style = styles[p];\n\n        if (isPlainObject(style) && !ARROWS.includes(p)) {\n          var subShape_1 = group.find(function (element) {\n            return element.get('name') === p;\n          });\n\n          if (subShape_1) {\n            var subShapeStyles_1 = clone(subShape_1.attr());\n            each(style, function (v, key) {\n              if (p === keyShapeName_1 && keyShapeStyles_1[key] && !keptAttrs[key]) {\n                delete keyShapeStyles_1[key];\n                var value_1 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                shape.attr(key, value_1);\n              } else if (subShapeStyles_1[key] || subShapeStyles_1[key] === 0) {\n                delete subShapeStyles_1[key];\n                var value_2 = originStyle_1[p][key] || SHAPES_DEFAULT_ATTRS[type][key];\n                subShape_1.attr(key, value_2);\n              }\n            });\n            filtetDisableStatesStyle[p] = subShapeStyles_1;\n          }\n        } else {\n          if (keyShapeStyles_1[p] && !keptAttrs[p]) {\n            delete keyShapeStyles_1[p];\n            var value_3 = originStyle_1[p] || (originStyle_1[keyShapeName_1] ? originStyle_1[keyShapeName_1][p] : undefined) || SHAPES_DEFAULT_ATTRS[type][p];\n            shape.attr(p, value_3);\n          }\n        }\n      }; // styles \n\n\n      for (var p in styles) {\n        _loop_3(p);\n      } //  states \n      //  keyShape  name  filtetDisableStatesStyle  { keyShapeName: {} }\n      // \n\n\n      if (!keyShapeName_1) {\n        mix(filtetDisableStatesStyle, keyShapeStyles_1);\n      } else {\n        filtetDisableStatesStyle[keyShapeName_1] = keyShapeStyles_1;\n      }\n\n      for (var key in enableStatesStyle) {\n        if (keptAttrs[key]) continue;\n        var enableStyle = enableStatesStyle[key];\n\n        if (!isPlainObject(enableStyle) || ARROWS.includes(key)) {\n          // mergekeyShape\n          if (!keyShapeName_1) {\n            mix(originStyle_1, (_a = {}, _a[key] = enableStyle, _a));\n          } else {\n            mix(originStyle_1[keyShapeName_1], (_b = {}, _b[key] = enableStyle, _b));\n            delete originStyle_1[key];\n          }\n\n          delete enableStatesStyle[key];\n        }\n      }\n\n      var originstyles = {};\n      deepMix(originstyles, originStyle_1, filtetDisableStatesStyle, enableStatesStyle);\n      var keyShapeSetted = false;\n\n      var _loop_4 = function _loop_4(originKey) {\n        var _d, _e;\n\n        var style = originstyles[originKey];\n\n        if (isPlainObject(style) && !ARROWS.includes(originKey)) {\n          var subShape = group.find(function (element) {\n            return element.get('name') === originKey;\n          });\n\n          if (subShape) {\n            if (originKey === keyShapeName_1) {\n              if (type === 'combo') {\n                delete style.r;\n                delete style.width;\n                delete style.height;\n              }\n\n              keyShapeSetted = true;\n            }\n\n            subShape.attr(style);\n          }\n        } else if (!keyShapeSetted) {\n          var value_4 = style || SHAPES_DEFAULT_ATTRS[type][originKey]; //  combo  keyShapeName  keyShape \n\n          if (type === 'combo') {\n            if (!keyShapeName_1) {\n              shape.attr((_d = {}, _d[originKey] = value_4, _d));\n            }\n          } else {\n            shape.attr((_e = {}, _e[originKey] = value_4, _e));\n          }\n        }\n      };\n\n      for (var originKey in originstyles) {\n        _loop_4(originKey);\n      }\n    }\n  },\n\n  /**\n   * \n   *\n   * @param {string} name \n   * @param {Item} item NodeEdge\n   * @return {object} \n   */\n  getStateStyle: function getStateStyle(name, item) {\n    var model = item.getModel();\n    var type = item.getType();\n\n    var _a = this.getOptions(model),\n        stateStyles = _a.stateStyles,\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b;\n\n    var modelStateStyle = model.stateStyles ? model.stateStyles[name] : stateStyles && stateStyles[name];\n\n    if (type === 'combo') {\n      return clone(modelStateStyle);\n    }\n\n    return mix({}, style, modelStateStyle);\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * \n   * @param  {Object} cfg \n   * @return {Array|null} , null\n   */\n  getAnchorPoints: function getAnchorPoints(cfg) {\n    var anchorPoints = this.getOptions(cfg).anchorPoints;\n    return anchorPoints;\n  }\n};","import { __assign } from \"tslib\";\nimport { isArray, isNil, mix } from '@antv/util';\nimport { formatPadding } from '../util/base';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleNode = {\n  itemType: 'node',\n  // \n  shapeType: 'single-node',\n\n  /**\n   * \n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  offset: Global.nodeLabel.offset,\n\n  /**\n   * \n   * @internal  [width, height] \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = cfg.size || this.getOptions({}).size || Global.defaultNode.size; // size 12\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  // \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    if (labelPosition === 'center') {\n      return {\n        x: 0,\n        y: 0,\n        text: cfg.label\n      };\n    }\n\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: 0 - height / 2 - offset,\n          textBaseline: 'bottom' // \n\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: height / 2 + offset,\n          textBaseline: 'top'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - width / 2 - offset,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n\n      default:\n        style = {\n          x: width / 2 + offset,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = formatPadding(backgroundStyle.padding);\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var offset = labelCfg.offset;\n\n    if (isNil(offset)) {\n      //  offset = 0  labelCfg.offset || Global.nodeLabel.offset\n      offset = this.offset; // \n    }\n\n    var style;\n    style = {\n      x: bbox.minX - padding[3],\n      y: bbox.minY - padding[0]\n    };\n    style = __assign(__assign(__assign({}, style), backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight\n    });\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'node-shape'\n    });\n    return shape;\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions(cfg).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints;\n\n    if (markLeft) {\n      currentLinkPoints = markLeft.attr();\n    }\n\n    if (markRight && !currentLinkPoints) {\n      currentLinkPoints = markRight.attr();\n    }\n\n    if (markTop && !currentLinkPoints) {\n      currentLinkPoints = markTop.attr();\n    }\n\n    if (markBottom && !currentLinkPoints) {\n      currentLinkPoints = markBottom.attr();\n    }\n\n    if (!currentLinkPoints) currentLinkPoints = defaultLinkPoints;\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        bottom = _a.bottom;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: -width / 2,\n          y: 0\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      }\n\n      markRight.attr(__assign(__assign({}, styles), {\n        x: width / 2,\n        y: 0\n      }));\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: width / 2,\n          y: 0\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      }\n\n      markTop.attr(__assign(__assign({}, styles), {\n        x: 0,\n        y: -height / 2\n      }));\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: -height / 2\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (markBottom) {\n      if (!bottom && bottom !== undefined) {\n        markBottom.remove();\n      } else {\n        markBottom.attr(__assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }));\n      }\n    } else if (bottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: height / 2\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle, hasIcon) {\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign({}, keyShapeStyle));\n    this.updateLabel(cfg, item); // special for some types of nodes\n\n    if (hasIcon) {\n      this.updateIcon(cfg, item);\n    }\n  },\n  updateIcon: function updateIcon(cfg, item) {\n    var _this = this;\n\n    var group = item.getContainer();\n    var icon = this.getOptions(cfg).icon;\n    var show = (cfg.icon ? cfg.icon : {\n      show: undefined\n    }).show;\n    var iconShape = group.find(function (element) {\n      return element.get('className') === \"\".concat(_this.type, \"-icon\");\n    });\n\n    if (iconShape) {\n      //  icon\n      if (show || show === undefined) {\n        //  show: true,  icon \n        var iconConfig = mix({}, iconShape.attr(), icon);\n        var w = iconConfig.width,\n            h = iconConfig.height;\n        iconShape.attr(__assign(__assign({}, iconConfig), {\n          x: -w / 2,\n          y: -h / 2\n        }));\n      } else {\n        //  show: false  icon\n        iconShape.remove();\n      }\n    } else if (show) {\n      //  icon show: true icon\n      var w = icon.width,\n          h = icon.height;\n      group.addShape('image', {\n        attrs: __assign(__assign({}, icon), {\n          x: -w / 2,\n          y: -h / 2\n        }),\n        className: \"\".concat(this.type, \"-icon\"),\n        name: \"\".concat(this.type, \"-icon\")\n      }); // to ensure the label is on the top of all the shapes\n\n      var labelShape = group.find(function (element) {\n        return element.get('className') === \"node-label\";\n      });\n\n      if (labelShape) {\n        labelShape.toFront();\n      }\n    }\n  }\n};\n\nvar singleNodeDef = __assign(__assign({}, shapeBase), singleNode);\n\nShape.registerNode('single-node', singleNodeDef);","/**\n * @fileOverview \n * @description  mixin \n */\nimport { __assign } from \"tslib\";\nimport { deepMix, mix, each, isNil, isNumber, isArray } from '@antv/util';\nimport { getLabelPosition, getLoopCfgs } from '../util/graphic';\nimport { distance, getCircleCenterByPoints } from '../util/math';\nimport { getControlPoint, getSpline } from '../util/path';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase, CLS_LABEL_BG_SUFFIX } from './shapeBase';\nvar CLS_SHAPE = 'edge-shape'; // start,end center \n\nfunction revertAlign(labelPosition) {\n  var textAlign = labelPosition;\n\n  if (labelPosition === 'start') {\n    textAlign = 'end';\n  } else if (labelPosition === 'end') {\n    textAlign = 'start';\n  }\n\n  return textAlign;\n}\n\nvar singleEdge = {\n  itemType: 'edge',\n\n  /**\n   * \n   * @type {String}\n   */\n  labelPosition: 'center',\n\n  /**\n   *  x \n   * @type {Number}\n   */\n  refX: 0,\n\n  /**\n   *  y \n   * @type {Number}\n   */\n  refY: 0,\n\n  /**\n   *  false\n   * @type {Boolean}\n   */\n  labelAutoRotate: false,\n  // \n  options: {\n    size: Global.defaultEdge.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n\n  /**\n   *  path\n   * @internal \n   * @param  {Array} points \n   * @return {Array}  path \n   */\n  getPath: function getPath(points) {\n    var path = [];\n    each(points, function (point, index) {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    return path;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = cfg.size || Global.defaultEdge.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var path = this.getPath(points);\n    var styles = mix({}, Global.defaultEdge.style, {\n      stroke: Global.defaultEdge.color,\n      lineWidth: size,\n      path: path\n    }, style);\n    return styles;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var routeCfg = {\n      radius: previousStyle.radius\n    };\n\n    if (!controlPoints) {\n      routeCfg = {\n        source: source,\n        target: target,\n        offset: previousStyle.offset,\n        radius: previousStyle.radius\n      };\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var path = this.getPath(points, routeCfg);\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg, group) {\n    var labelPosition = labelCfg.position || this.labelPosition; // \n\n    var style = {};\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX;\n      style.y = cfg.startPoint.y + offsetY;\n      style.text = cfg.label;\n      return style;\n    }\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX, offsetY, autoRotate);\n    style.x = offsetStyle.x;\n    style.y = offsetStyle.y;\n    style.rotate = offsetStyle.rotate;\n    style.textAlign = this._getTextAlign(labelPosition, offsetStyle.angle);\n    style.text = cfg.label;\n    return style;\n  },\n  getLabelBgStyleByPosition: function getLabelBgStyleByPosition(label, cfg, labelCfg, group) {\n    if (!label) {\n      return {};\n    }\n\n    var bbox = label.getBBox();\n    var backgroundStyle = labelCfg.style && labelCfg.style.background;\n\n    if (!backgroundStyle) {\n      return {};\n    }\n\n    var padding = backgroundStyle.padding;\n    var backgroundWidth = bbox.width + padding[1] + padding[3];\n    var backgroundHeight = bbox.height + padding[0] + padding[2];\n    var labelPosition = labelCfg.position || this.labelPosition;\n\n    var style = __assign(__assign({}, backgroundStyle), {\n      width: backgroundWidth,\n      height: backgroundHeight,\n      x: bbox.minX - padding[2],\n      y: bbox.minY - padding[0],\n      rotate: 0\n    });\n\n    var autoRotate;\n    if (isNil(labelCfg.autoRotate)) autoRotate = this.labelAutoRotate;else autoRotate = labelCfg.autoRotate;\n    var pathShape = group && group.find(function (element) {\n      return element.get('className') === CLS_SHAPE;\n    }); //  pathShape \n\n    var pointPercent;\n\n    if (labelPosition === 'start') {\n      pointPercent = 0;\n    } else if (labelPosition === 'end') {\n      pointPercent = 1;\n    } else {\n      pointPercent = 0.5;\n    } // \n\n\n    var offsetX = labelCfg.refX || this.refX;\n    var offsetY = labelCfg.refY || this.refY; // // label + \n\n    if (cfg.startPoint.x === cfg.endPoint.x && cfg.startPoint.y === cfg.endPoint.y) {\n      style.x = cfg.startPoint.x + offsetX - backgroundWidth / 2;\n      style.y = cfg.startPoint.y + offsetY - backgroundHeight / 2;\n      return style;\n    }\n\n    var offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX - backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    var rad = offsetStyle.angle;\n\n    if (rad > 1 / 2 * Math.PI && rad < 3 * 1 / 2 * Math.PI) {\n      offsetStyle = getLabelPosition(pathShape, pointPercent, offsetX + backgroundWidth / 2, offsetY + backgroundHeight / 2, autoRotate);\n    }\n\n    if (autoRotate) {\n      style.x = offsetStyle.x;\n      style.y = offsetStyle.y;\n    }\n\n    style.rotate = offsetStyle.rotate;\n    return style;\n  },\n  // \n  _getTextAlign: function _getTextAlign(labelPosition, angle) {\n    var textAlign = 'center';\n\n    if (!angle) {\n      return labelPosition;\n    }\n\n    angle = angle % (Math.PI * 2); // \n\n    if (labelPosition !== 'center') {\n      if (angle >= 0 && angle <= Math.PI / 2 || angle >= 3 / 2 * Math.PI && angle < 2 * Math.PI) {\n        textAlign = labelPosition;\n      } else {\n        textAlign = revertAlign(labelPosition);\n      }\n    }\n\n    return textAlign;\n  },\n\n  /**\n   * @internal \n   * @param  {Object} cfg \n   * @return {Array} \n   */\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n\n  /**\n   * @internal \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getPathPoints: function getPathPoints(cfg) {\n    return cfg;\n  },\n\n  /**\n   * \n   * @override\n   * @param  {Object} cfg   \n   * @param  {G.Group} group \n   * @return {IShape} \n   */\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    var shape = group.addShape('path', {\n      className: CLS_SHAPE,\n      name: CLS_SHAPE,\n      attrs: shapeStyle\n    });\n    return shape;\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var defaultFontFamily;\n    if (typeof window !== 'undefined' && typeof window.getComputedStyle !== 'undefined') defaultFontFamily = window.getComputedStyle(document.body, null).getPropertyValue('font-family') || 'Arial, sans-serif';else defaultFontFamily = 'Arial, sans-serif';\n    var labelCfg = deepMix({\n      fontFamily: defaultFontFamily\n    }, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    delete labelStyle.rotate;\n    var label = group.addShape('text', {\n      attrs: labelStyle,\n      name: 'text-shape'\n    });\n\n    if (rotate) {\n      label.rotateAtStart(rotate);\n    }\n\n    if (labelStyle.background) {\n      var rect = this.drawLabelBg(cfg, group, label);\n      var labelBgClassname = this.itemType + CLS_LABEL_BG_SUFFIX;\n      rect.set('classname', labelBgClassname);\n      label.toFront();\n    }\n\n    return label;\n  },\n  drawLabelBg: function drawLabelBg(cfg, group, label) {\n    var defaultLabelCfg = this.options.labelCfg;\n    var labelCfg = deepMix({}, defaultLabelCfg, cfg.labelCfg);\n    var labelStyle = this.getLabelStyle(cfg, labelCfg, group);\n    var rotate = labelStyle.rotate;\n    var style = this.getLabelBgStyleByPosition(label, cfg, labelCfg, group);\n    delete style.rotate;\n    var rect = group.addShape('rect', {\n      name: 'text-bg-shape',\n      attrs: style\n    });\n    if (rotate) rect.rotateAtStart(rotate);\n    return rect;\n  }\n};\n\nvar singleEdgeDef = __assign(__assign({}, shapeBase), singleEdge);\n\nShape.registerEdge('single-edge', singleEdgeDef); // , \n\nShape.registerEdge('line', {\n  // \n  getControlPoints: function getControlPoints() {\n    return undefined;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('spline', {\n  getPath: function getPath(points) {\n    var path = getSpline(points);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('arc', {\n  curveOffset: 20,\n  clockwise: 1,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var midPoint = {\n      x: (startPoint.x + endPoint.x) / 2,\n      y: (startPoint.y + endPoint.y) / 2\n    };\n    var center;\n    var arcPoint; // \n\n    if (cfg.controlPoints !== undefined) {\n      arcPoint = cfg.controlPoints[0];\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint); //  clockwise\n\n      if (startPoint.x <= endPoint.x && startPoint.y > endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 0 : 1;\n      } else if (startPoint.x <= endPoint.x && startPoint.y < endPoint.y) {\n        this.clockwise = center.x > arcPoint.x ? 1 : 0;\n      } else if (startPoint.x > endPoint.x && startPoint.y <= endPoint.y) {\n        this.clockwise = center.y < arcPoint.y ? 0 : 1;\n      } else {\n        this.clockwise = center.y < arcPoint.y ? 1 : 0;\n      } // \n\n\n      if ((arcPoint.x - startPoint.x) / (arcPoint.y - startPoint.y) === (endPoint.x - startPoint.x) / (endPoint.y - startPoint.y)) {\n        return [];\n      }\n    } else {\n      // \n      // \n      if (cfg.curveOffset === undefined) {\n        cfg.curveOffset = this.curveOffset;\n      }\n\n      if (isArray(cfg.curveOffset)) {\n        cfg.curveOffset = cfg.curveOffset[0];\n      }\n\n      if (cfg.curveOffset < 0) {\n        this.clockwise = 0;\n      } else {\n        this.clockwise = 1;\n      }\n\n      var vec = {\n        x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y\n      };\n      var edgeAngle = Math.atan2(vec.y, vec.x);\n      arcPoint = {\n        x: cfg.curveOffset * Math.cos(-Math.PI / 2 + edgeAngle) + midPoint.x,\n        y: cfg.curveOffset * Math.sin(-Math.PI / 2 + edgeAngle) + midPoint.y\n      };\n      center = getCircleCenterByPoints(startPoint, arcPoint, endPoint);\n    }\n\n    var radius = distance(startPoint, center);\n    var controlPoints = [{\n      x: radius,\n      y: radius\n    }];\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]); // \n\n    if (points.length === 2) {\n      path.push(['L', points[1].x, points[1].y]);\n    } else {\n      path.push(['A', points[1].x, points[1].y, 0, 0, this.clockwise, points[2].x, points[2].y]);\n    }\n\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('quadratic', {\n  curvePosition: 0.5,\n  curveOffset: -20,\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; // controlPoints\n\n    if (!controlPoints || !controlPoints.length) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n      if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n      if (isArray(this.curveOffset)) cfg.curveOffset = cfg.curveOffset[0];\n      if (isArray(this.curvePosition)) cfg.curvePosition = cfg.curveOffset[0];\n      var innerPoint = getControlPoint(startPoint, endPoint, cfg.curvePosition, cfg.curveOffset);\n      controlPoints = [innerPoint];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['Q', points[1].x, points[1].y, points[2].x, points[2].y]);\n    return path;\n  }\n}, 'single-edge');\nShape.registerEdge('cubic', {\n  curvePosition: [1 / 2, 1 / 2],\n  curveOffset: [-20, 20],\n  getControlPoints: function getControlPoints(cfg) {\n    var controlPoints = cfg.controlPoints; //  controlPoints\n\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n\n    if (!controlPoints || !controlPoints.length || controlPoints.length < 2) {\n      var startPoint = cfg.startPoint,\n          endPoint = cfg.endPoint;\n      var innerPoint1 = getControlPoint(startPoint, endPoint, cfg.curvePosition[0], cfg.curveOffset[0]);\n      var innerPoint2 = getControlPoint(startPoint, endPoint, cfg.curvePosition[1], cfg.curveOffset[1]);\n      controlPoints = [innerPoint1, innerPoint2];\n    }\n\n    return controlPoints;\n  },\n  getPath: function getPath(points) {\n    var path = [];\n    path.push(['M', points[0].x, points[0].y]);\n    path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    return path;\n  }\n}, 'single-edge'); // \n\nShape.registerEdge('cubic-vertical', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var yDist = endPoint.y - startPoint.y;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(yDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x,\n      y: startPoint.y + yDist * this.curvePosition[0] + curveOffset[0]\n    };\n    var innerPoint2 = {\n      x: endPoint.x,\n      y: endPoint.y - yDist * this.curvePosition[1] + curveOffset[1]\n    };\n    return [innerPoint1, innerPoint2];\n  }\n}, 'cubic'); // \n\nShape.registerEdge('cubic-horizontal', {\n  curvePosition: [1 / 2, 1 / 2],\n  minCurveOffset: [0, 0],\n  curveOffset: undefined,\n  getControlPoints: function getControlPoints(cfg) {\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    if (cfg.curvePosition === undefined) cfg.curvePosition = this.curvePosition;\n    if (cfg.curveOffset === undefined) cfg.curveOffset = this.curveOffset;\n    if (cfg.minCurveOffset === undefined) cfg.minCurveOffset = this.minCurveOffset;\n    if (isNumber(cfg.curveOffset)) cfg.curveOffset = [cfg.curveOffset, -cfg.curveOffset];\n    if (isNumber(cfg.minCurveOffset)) cfg.minCurveOffset = [cfg.minCurveOffset, -cfg.minCurveOffset];\n    if (isNumber(cfg.curvePosition)) cfg.curvePosition = [cfg.curvePosition, 1 - cfg.curvePosition];\n    var xDist = endPoint.x - startPoint.x;\n    var curveOffset = [0, 0];\n\n    if (cfg.curveOffset) {\n      curveOffset = cfg.curveOffset;\n    } else if (Math.abs(xDist) < Math.abs(cfg.minCurveOffset[0])) {\n      curveOffset = cfg.minCurveOffset;\n    }\n\n    var innerPoint1 = {\n      x: startPoint.x + xDist * this.curvePosition[0] + curveOffset[0],\n      y: startPoint.y\n    };\n    var innerPoint2 = {\n      x: endPoint.x - xDist * this.curvePosition[1] + curveOffset[1],\n      y: endPoint.y\n    };\n    var controlPoints = [innerPoint1, innerPoint2];\n    return controlPoints;\n  }\n}, 'cubic');\nShape.registerEdge('loop', {\n  getPathPoints: function getPathPoints(cfg) {\n    return getLoopCfgs(cfg);\n  },\n  getControlPoints: function getControlPoints(cfg) {\n    return cfg.controlPoints;\n  },\n  afterDraw: function afterDraw(cfg) {\n    cfg.controlPoints = undefined;\n  },\n  afterUpdate: function afterUpdate(cfg) {\n    cfg.controlPoints = undefined;\n  }\n}, 'cubic');","import { __assign } from \"tslib\";\nimport { isArray, isNil, clone } from '@antv/util';\nimport Global from '../global';\nimport Shape from './shape';\nimport { shapeBase } from './shapeBase';\nvar singleCombo = {\n  itemType: 'combo',\n  // \n  shapeType: 'single-combo',\n\n  /**\n   * Combo  top\n   *  top, bottom, left, right, center\n   * @type {String}\n   */\n  labelPosition: 'top',\n\n  /**\n   *  labelPosition  center \n   * @type {Number}\n   */\n  refX: Global.comboLabel.refX,\n  refY: Global.comboLabel.refY,\n  options: {\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n\n  /**\n   *  Combo \n   * @internal  Combo  [width, height] \n   * @param  {Object} cfg Combo \n   * @return {Array} \n   */\n  getSize: function getSize(cfg) {\n    var size = clone(cfg.size || this.options.size || Global.defaultCombo.size); // size  1 2\n\n    if (isArray(size) && size.length === 1) {\n      size = [size[0], size[0]];\n    } // size \n\n\n    if (!isArray(size)) {\n      size = [size, size];\n    }\n\n    return size;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refX\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var size = this.getSize(cfg);\n    var r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    var dis = r + padding;\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0,\n          y: -dis - refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: dis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: -dis + refX,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: dis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      draggable: true,\n      name: 'combo-shape'\n    });\n    return shape;\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item); // special for some types of nodes\n  }\n};\n\nvar singleComboDef = __assign(__assign({}, shapeBase), singleCombo);\n\nShape.registerCombo('single-combo', singleComboDef);","import { __assign } from \"tslib\";\nimport Global from '../../global';\nimport Shape from '../shape';\nimport { isNumber, clone, mix, isArray } from '@antv/util'; //  Combo\n\nShape.registerCombo('circle', {\n  // \n  options: {\n    size: [Global.defaultCombo.size[0], Global.defaultCombo.size[0]],\n    padding: Global.defaultCombo.padding[0],\n    animate: true,\n    style: {\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      },\n      refX: 0,\n      refY: 0\n    },\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    delete style.height;\n    delete style.width;\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: 'circle-combo',\n      name: 'circle-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   *  Combo  Combo \n   * @param {Object} cfg Combo \n   * @return {Object} Combo \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      var size = this.getSize(cfg);\n      if (!isNumber(style.r) || isNaN(style.r)) r = size[0] / 2 || Global.defaultCombo.style.r;else r = Math.max(style.r, size[0] / 2) || size[0] / 2;\n    }\n\n    style.r = r + padding;\n\n    var styles = __assign({\n      x: 0,\n      y: 0\n    }, style);\n\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isArray(padding)) padding = padding[0];\n    var cfgStyle = clone(cfg.style);\n    var r;\n\n    if (cfg.fixSize) {\n      r = isNumber(cfg.fixSize) ? cfg.fixSize : cfg.fixSize[0];\n    } else {\n      r = Math.max(cfgStyle.r, size[0] / 2) || size[0] / 2;\n    }\n\n    cfgStyle.r = r + padding;\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.r = cfgStyle.r;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n    if (cfg.style) cfg.style.r = r;else {\n      cfg.style = {\n        r: r\n      };\n    }\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { mix, isNumber, clone, isNil } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerCombo('rect', {\n  //  Combo \n  options: {\n    size: [40, 5],\n    padding: [25, 20, 15, 20],\n    animate: true,\n    style: {\n      radius: 0,\n      stroke: Global.defaultCombo.style.stroke,\n      fill: Global.defaultCombo.style.fill,\n      lineWidth: Global.defaultCombo.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.comboLabel.style.fill,\n        fontSize: Global.comboLabel.style.fontSize\n      }\n    },\n    // \n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.comboStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'top',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: 'rect-combo',\n      name: 'rect-combo',\n      draggable: true\n    });\n    return keyShape;\n  },\n  //  Combo \n  getLabelStyleByPosition: function getLabelStyleByPosition(cfg, labelCfg) {\n    var labelPosition = labelCfg.position || this.labelPosition;\n    var cfgStyle = cfg.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var refX = labelCfg.refX,\n        refY = labelCfg.refY; //  refX  refY = 0  labelCfg.refX || Global.nodeLabel.refY\n\n    if (isNil(refX)) {\n      refX = this.refX; // \n    }\n\n    if (isNil(refY)) {\n      refY = this.refY; // \n    }\n\n    var leftDis = cfgStyle.width / 2 + padding[3];\n    var topDis = cfgStyle.height / 2 + padding[0];\n    var style;\n\n    switch (labelPosition) {\n      case 'top':\n        style = {\n          x: 0 - leftDis + refX,\n          y: 0 - topDis + refY,\n          textBaseline: 'top',\n          textAlign: 'left'\n        };\n        break;\n\n      case 'bottom':\n        style = {\n          x: 0,\n          y: topDis + refY,\n          textBaseline: 'bottom',\n          textAlign: 'center'\n        };\n        break;\n\n      case 'left':\n        style = {\n          x: 0 - leftDis + refY,\n          y: 0,\n          textAlign: 'left'\n        };\n        break;\n\n      case 'center':\n        style = {\n          x: 0,\n          y: 0,\n          text: cfg.label,\n          textAlign: 'center'\n        };\n        break;\n\n      default:\n        style = {\n          x: leftDis + refX,\n          y: 0,\n          textAlign: 'right'\n        };\n        break;\n    }\n\n    style.text = cfg.label;\n    return style;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    var size = this.getSize(cfg);\n    var width;\n    var height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      if (!isNumber(style.width) || isNaN(style.width)) width = size[0] || Global.defaultCombo.style.width;else width = Math.max(style.width, size[0]) || size[0];\n      if (!isNumber(style.height) || isNaN(style.height)) height = size[1] || Global.defaultCombo.style.height;else height = Math.max(style.height, size[1]) || size[1];\n    }\n\n    var x = -width / 2 - padding[3];\n    var y = -height / 2 - padding[0];\n    style.width = width + padding[1] + padding[3];\n    style.height = height + padding[0] + padding[2];\n\n    var styles = __assign({\n      x: x,\n      y: y\n    }, style);\n\n    if (!cfg.style) {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    } else {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    }\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg);\n    var padding = cfg.padding || this.options.padding;\n    if (isNumber(padding)) padding = [padding, padding, padding, padding];\n    var cfgStyle = clone(cfg.style);\n    var width, height;\n    var fixSize = cfg.collapsed && cfg.fixCollapseSize ? cfg.fixCollapseSize : cfg.fixSize;\n\n    if (fixSize) {\n      if (isNumber(fixSize)) {\n        width = fixSize;\n        height = fixSize;\n      } else {\n        width = fixSize[0];\n        height = fixSize[1];\n      }\n    } else {\n      width = Math.max(cfgStyle.width, size[0]) || size[0];\n      height = Math.max(cfgStyle.height, size[1]) || size[1];\n    }\n\n    cfgStyle.width = width + padding[1] + padding[3];\n    cfgStyle.height = height + padding[0] + padding[2];\n    var itemCacheSize = item.get('sizeCache');\n\n    if (itemCacheSize) {\n      itemCacheSize.width = cfgStyle.width;\n      itemCacheSize.height = cfgStyle.height;\n    }\n\n    cfgStyle.x = -width / 2 - padding[3];\n    cfgStyle.y = -height / 2 - padding[0]; //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, keyShape.attr(), strokeStyle, cfgStyle);\n\n    if (cfg.style) {\n      cfg.style.width = width;\n      cfg.style.height = height;\n    } else {\n      cfg.style = {\n        width: width,\n        height: height\n      };\n    }\n\n    this.updateShape(cfg, item, style, false);\n  },\n  updateShape: function updateShape(cfg, item, keyShapeStyle) {\n    var keyShape = item.get('keyShape');\n    var animate = cfg.animate === undefined ? this.options.animate : cfg.animate;\n\n    if (animate && keyShape.animate) {\n      keyShape.animate(keyShapeStyle, {\n        duration: 200,\n        easing: 'easeLinear'\n      });\n    } else {\n      keyShape.attr(__assign({}, keyShapeStyle));\n    }\n\n    this.updateLabel(cfg, item);\n  }\n}, 'single-combo');","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // \n\nShape.registerNode('simple-circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape';\nShape.registerNode('simple-rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'simple-rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    return keyShape;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport Shape from '../shape';\n/**\n * \n */\n\nShape.registerNode('image', {\n  options: {\n    img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ',\n    size: 200,\n    clipCfg: {\n      show: false,\n      type: 'circle',\n      // circle\n      r: 50,\n      // ellipse\n      rx: 50,\n      ry: 35,\n      // rect\n      width: 50,\n      height: 35,\n      // polygon\n      points: [[30, 12], [12, 30], [30, 48], [48, 30]],\n      // path\n      path: [['M', 25, 25], ['L', 50, 25], ['A', 12.5, 12.5, 0, 1, 1, 50, 50], ['A', 12.5, 12.5, 0, 1, 0, 50, 50], ['L', 25, 75], ['Z']],\n      // \n      x: 0,\n      y: 0 // clip \n      // style: {\n      //   lineWidth: 1\n      // },\n\n    }\n  },\n  shapeType: 'image',\n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var shapeType = this.shapeType; // || this.type shapeType\n\n    var style = this.getShapeStyle(cfg);\n    delete style.fill;\n    var shape = group.addShape(shapeType, {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    this.drawClip(cfg, shape);\n    return shape;\n  },\n  drawClip: function drawClip(cfg, shape) {\n    var clip = this.getOptions(cfg).clipCfg;\n\n    if (!clip.show) {\n      return;\n    } //  circlerectellipsePolygon  path clip\n\n\n    var type = clip.type,\n        x = clip.x,\n        y = clip.y,\n        style = clip.style;\n\n    if (type === 'circle') {\n      var r = clip.r;\n      shape.setClip({\n        type: 'circle',\n        attrs: __assign({\n          r: r,\n          x: x,\n          y: y\n        }, style)\n      });\n    } else if (type === 'rect') {\n      var width = clip.width,\n          height = clip.height;\n      var rectX = x - width / 2;\n      var rectY = y - height / 2;\n      shape.setClip({\n        type: 'rect',\n        attrs: __assign({\n          x: rectX,\n          y: rectY,\n          width: width,\n          height: height\n        }, style)\n      });\n    } else if (type === 'ellipse') {\n      var rx = clip.rx,\n          ry = clip.ry;\n      shape.setClip({\n        type: 'ellipse',\n        attrs: __assign({\n          x: x,\n          y: y,\n          rx: rx,\n          ry: ry\n        }, style)\n      });\n    } else if (type === 'polygon') {\n      var points = clip.points;\n      shape.setClip({\n        type: 'polygon',\n        attrs: __assign({\n          points: points\n        }, style)\n      });\n    } else if (type === 'path') {\n      var path = clip.path;\n      shape.setClip({\n        type: 'path',\n        attrs: __assign({\n          path: path\n        }, style)\n      });\n    }\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var size = this.getSize(cfg);\n    var img = this.getOptions(cfg).img;\n    var width = size[0];\n    var height = size[1];\n\n    if (defaultStyle) {\n      width = defaultStyle.width || size[0];\n      height = defaultStyle.height || size[1];\n    }\n\n    var style = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height,\n      img: img\n    }, defaultStyle);\n\n    return style;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    var shapeClassName = \"\".concat(this.itemType, \"-shape\");\n    var shape = group.find(function (element) {\n      return element.get('className') === shapeClassName;\n    }) || item.getKeyShape();\n    var shapeStyle = this.getShapeStyle(cfg);\n\n    if (shape) {\n      shape.attr(shapeStyle);\n    }\n  }\n}, 'single-node');","export default {\n  triangle: function triangle(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + length, \",-\").concat(width / 2, \" L \").concat(begin + length, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  vee: function vee(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 20;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + length, \",-\").concat(width / 2, \"\\n        L \").concat(begin + 2 * length / 3, \",0 L \").concat(begin + length, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  circle: function circle(r, d) {\n    if (r === void 0) {\n      r = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \", 0\\n            a \").concat(r, \",\").concat(r, \" 0 1,0 \").concat(r * 2, \",0\\n            a \").concat(r, \",\").concat(r, \" 0 1,0 \").concat(-r * 2, \",0\");\n    return path;\n  },\n  rect: function rect(width, length, d) {\n    if (width === void 0) {\n      width = 10;\n    }\n\n    if (length === void 0) {\n      length = 10;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",\").concat(width / 2, \" \\n        L \").concat(begin, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  diamond: function diamond(width, length, d) {\n    if (width === void 0) {\n      width = 15;\n    }\n\n    if (length === void 0) {\n      length = 15;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var path = \"M \".concat(begin, \",0 \\n        L \").concat(begin + length / 2, \",\").concat(-width / 2, \" \\n        L \").concat(begin + length, \",0 \\n        L \").concat(begin + length / 2, \",\").concat(width / 2, \" Z\");\n    return path;\n  },\n  triangleRect: function triangleRect(tWidth, tLength, rWidth, rLength, gap, d) {\n    if (tWidth === void 0) {\n      tWidth = 15;\n    }\n\n    if (tLength === void 0) {\n      tLength = 15;\n    }\n\n    if (rWidth === void 0) {\n      rWidth = 15;\n    }\n\n    if (rLength === void 0) {\n      rLength = 3;\n    }\n\n    if (gap === void 0) {\n      gap = 5;\n    }\n\n    if (d === void 0) {\n      d = 0;\n    }\n\n    var begin = d * 2;\n    var rectBegin = begin + tLength + gap;\n    var path = \"M \".concat(begin, \",0 L \").concat(begin + tLength, \",-\").concat(tWidth / 2, \" L \").concat(begin + tLength, \",\").concat(tWidth / 2, \" Z\\n            M \").concat(rectBegin, \", -\").concat(rWidth / 2, \"\\n            L \").concat(rectBegin + rLength, \" -\").concat(rWidth / 2, \"\\n            L \").concat(rectBegin + rLength, \" \").concat(rWidth / 2, \"\\n            L \").concat(rectBegin, \" \").concat(rWidth / 2, \"\\n            Z\");\n    return path;\n  }\n};","export * from '../interface'; // Behavior type file\n\nexport var G6Event;\n\n(function (G6Event) {\n  // common events\n  G6Event[\"CLICK\"] = \"click\";\n  G6Event[\"DBLCLICK\"] = \"dblclick\";\n  G6Event[\"TAP\"] = \"tap\";\n  G6Event[\"DBLTAP\"] = \"dbltap\";\n  G6Event[\"DRAGSTART\"] = \"dragstart\";\n  G6Event[\"DRAGEND\"] = \"dragend\";\n  G6Event[\"DRAG\"] = \"drag\";\n  G6Event[\"DRAGENTER\"] = \"dragenter\";\n  G6Event[\"DRAGLEAVE\"] = \"dragleave\";\n  G6Event[\"DRAGOVER\"] = \"dragover\";\n  G6Event[\"DRAGOUT\"] = \"dragout\";\n  G6Event[\"DDROP\"] = \"drop\";\n  G6Event[\"PINCHSTART\"] = \"pinchstart\";\n  G6Event[\"PINCHMOVE\"] = \"pinchmove\";\n  G6Event[\"PANSTART\"] = \"panstart\";\n  G6Event[\"PANMOVE\"] = \"panmove\";\n  G6Event[\"PANEND\"] = \"panend\";\n  G6Event[\"PRESS\"] = \"press\";\n  G6Event[\"ACTION_END\"] = \"actionend\"; // touch events\n\n  G6Event[\"TOUCHSTART\"] = \"touchstart\";\n  G6Event[\"TOUCHMOVE\"] = \"touchmove\";\n  G6Event[\"TOUCHEND\"] = \"touchend\";\n  G6Event[\"CANVAS_TOUCHSTART\"] = \"canvas:touchstart\";\n  G6Event[\"CANVAS_TOUCHMOVE\"] = \"canvas:touchmove\";\n  G6Event[\"CANVAS_TOUCHEND\"] = \"canvas:touchend\";\n  G6Event[\"NODE_TOUCHSTART\"] = \"node:touchstart\";\n  G6Event[\"NODE_TOUCHMOVE\"] = \"node:touchmove\";\n  G6Event[\"NODE_TOUCHEND\"] = \"node:touchend\";\n  G6Event[\"COMBO_TOUCHSTART\"] = \"combo:touchstart\";\n  G6Event[\"COMBO_TOUCHMOVE\"] = \"combo:touchmove\";\n  G6Event[\"COMBO_TOUCHEND\"] = \"combo:touchend\";\n  G6Event[\"EDGE_TOUCHSTART\"] = \"edge:touchstart\";\n  G6Event[\"EDGE_TOUCHMOVE\"] = \"edge:touchmove\";\n  G6Event[\"EDGE_TOUCHEND\"] = \"edge:touchend\"; // node events\n\n  G6Event[\"NODE_CLICK\"] = \"node:click\";\n  G6Event[\"NODE_DBLCLICK\"] = \"node:dblclick\";\n  G6Event[\"NODE_DROP\"] = \"node:drop\";\n  G6Event[\"NODE_DRAGOVER\"] = \"node:dragover\";\n  G6Event[\"NODE_DRAGENTER\"] = \"node:dragenter\";\n  G6Event[\"NODE_DRAGLEAVE\"] = \"node:dragleave\";\n  G6Event[\"NODE_DRAGSTART\"] = \"node:dragstart\";\n  G6Event[\"NODE_DRAG\"] = \"node:drag\";\n  G6Event[\"NODE_DRAGEND\"] = \"node:dragend\";\n  G6Event[\"NODE_TAP\"] = \"node:tap\";\n  G6Event[\"NODE_DBLTAP\"] = \"node:dbltap\";\n  G6Event[\"NODE_PANSTART\"] = \"node:panstart\";\n  G6Event[\"NODE_PANMOVE\"] = \"node:panmove\";\n  G6Event[\"NODE_PANEND\"] = \"node:panend\";\n  G6Event[\"NODE_PRESS\"] = \"node:press\"; // combo, extends from nodes\n\n  G6Event[\"COMBO_CLICK\"] = \"combo:click\";\n  G6Event[\"COMBO_DBLCLICK\"] = \"combo:dblclick\";\n  G6Event[\"COMBO_DROP\"] = \"combo:drop\";\n  G6Event[\"COMBO_DRAGOVER\"] = \"combo:dragover\";\n  G6Event[\"COMBO_DRAGENTER\"] = \"combo:dragenter\";\n  G6Event[\"COMBO_DRAGLEAVE\"] = \"combo:dragleave\";\n  G6Event[\"COMBO_DRAGSTART\"] = \"combo:dragstart\";\n  G6Event[\"COMBO_DRAG\"] = \"combo:drag\";\n  G6Event[\"COMBO_DRAGEND\"] = \"combo:dragend\";\n  G6Event[\"COMBO_TAP\"] = \"combo:tap\";\n  G6Event[\"COMBO_DBLTAP\"] = \"combo:dbltap\";\n  G6Event[\"COMBO_PANSTART\"] = \"combo:panstart\";\n  G6Event[\"COMBO_PANMOVE\"] = \"combo:panmove\";\n  G6Event[\"COMBO_PANEND\"] = \"combo:panend\";\n  G6Event[\"COMBO_PRESS\"] = \"combo:press\"; // edge events\n\n  G6Event[\"EDGE_CLICK\"] = \"edge:click\";\n  G6Event[\"EDGE_DBLCLICK\"] = \"edge:dblclick\";\n  G6Event[\"EDGE_DROP\"] = \"edge:drop\";\n  G6Event[\"EDGE_DRAGOVER\"] = \"edge:dragover\";\n  G6Event[\"EDGE_DRAGENTER\"] = \"edge:dragenter\";\n  G6Event[\"EDGE_DRAGLEAVE\"] = \"edge:dragleave\";\n  G6Event[\"EDGE_TAP\"] = \"edge:tap\";\n  G6Event[\"EDGE_DBLTAP\"] = \"edge:dbltap\";\n  G6Event[\"EDGE_PRESS\"] = \"edge:press\"; // canvas events\n\n  G6Event[\"CANVAS_CLICK\"] = \"canvas:click\";\n  G6Event[\"CANVAS_DBLCLICK\"] = \"canvas:dblclick\";\n  G6Event[\"CANVAS_DROP\"] = \"canvas:drop\";\n  G6Event[\"CANVAS_DRAGENTER\"] = \"canvas:dragenter\";\n  G6Event[\"CANVAS_DRAGLEAVE\"] = \"canvas:dragleave\";\n  G6Event[\"CANVAS_DRAGSTART\"] = \"canvas:dragstart\";\n  G6Event[\"CANVAS_DRAG\"] = \"canvas:drag\";\n  G6Event[\"CANVAS_DRAGEND\"] = \"canvas:dragend\";\n  G6Event[\"CANVAS_TAP\"] = \"canvas:tap\";\n  G6Event[\"CANVAS_DBLTAP\"] = \"canvas:dbltap\";\n  G6Event[\"CANVAS_PANSTART\"] = \"canvas:panstart\";\n  G6Event[\"CANVAS_PANMOVE\"] = \"canvas:panmove\";\n  G6Event[\"CANVAS_PANEND\"] = \"canvas:panend\";\n  G6Event[\"CANVAS_PRESS\"] = \"canvas:press\"; // timing events\n\n  G6Event[\"BEFORERENDER\"] = \"beforerender\";\n  G6Event[\"AFTERRENDER\"] = \"afterrender\";\n  G6Event[\"BEFOREADDITEM\"] = \"beforeadditem\";\n  G6Event[\"AFTERADDITEM\"] = \"afteradditem\";\n  G6Event[\"BEFOREREMOVEITEM\"] = \"beforeremoveitem\";\n  G6Event[\"AFTERREMOVEITEM\"] = \"afterremoveitem\";\n  G6Event[\"BEFOREUPDATEITEM\"] = \"beforeupdateitem\";\n  G6Event[\"AFTERUPDATEITEM\"] = \"afterupdateitem\";\n  G6Event[\"BEFOREITEMVISIBILITYCHANGE\"] = \"beforeitemvisibilitychange\";\n  G6Event[\"AFTERITEMVISIBILITYCHANGE\"] = \"afteritemvisibilitychange\";\n  G6Event[\"BEFOREITEMSTATECHANGE\"] = \"beforeitemstatechange\";\n  G6Event[\"AFTERITEMSTATECHANGE\"] = \"afteritemstatechange\";\n  G6Event[\"BEFOREITEMREFRESH\"] = \"beforeitemrefresh\";\n  G6Event[\"AFTERITEMREFRESH\"] = \"afteritemrefresh\";\n  G6Event[\"BEFOREITEMSTATESCLEAR\"] = \"beforeitemstatesclear\";\n  G6Event[\"AFTERITEMSTATESCLEAR\"] = \"afteritemstatesclear\";\n  G6Event[\"BEFOREMODECHANGE\"] = \"beforemodechange\";\n  G6Event[\"AFTERMODECHANGE\"] = \"aftermodechange\";\n  G6Event[\"BEFORELAYOUT\"] = \"beforelayout\";\n  G6Event[\"AFTERLAYOUT\"] = \"afterlayout\";\n  G6Event[\"BEFORECREATEEDGE\"] = \"beforecreateedge\";\n  G6Event[\"AFTERCREATEEDGE\"] = \"aftercreateedge\";\n  G6Event[\"BEFOREGRAPHREFRESHPOSITION\"] = \"beforegraphrefreshposition\";\n  G6Event[\"AFTERGRAPHREFRESHPOSITION\"] = \"aftergraphrefreshposition\";\n  G6Event[\"BEFOREGRAPHREFRESH\"] = \"beforegraphrefresh\";\n  G6Event[\"AFTERGRAPHREFRESH\"] = \"aftergraphrefresh\";\n  G6Event[\"BEFOREANIMATE\"] = \"beforeanimate\";\n  G6Event[\"AFTERANIMATE\"] = \"afteranimate\";\n  G6Event[\"BEFOREPAINT\"] = \"beforepaint\";\n  G6Event[\"AFTERPAINT\"] = \"afterpaint\";\n  G6Event[\"BEFORECOLLAPSEEXPANDCOMBO\"] = \"beforecollapseexpandcombo\";\n  G6Event[\"AFTERCOLLAPSEEXPANDCOMBO\"] = \"aftercollapseexpandcombo\";\n  G6Event[\"GRAPHSTATECHANGE\"] = \"graphstatechange\";\n  G6Event[\"AFTERACTIVATERELATIONS\"] = \"afteractivaterelations\";\n  G6Event[\"NODESELECTCHANGE\"] = \"nodeselectchange\";\n  G6Event[\"TOOLTIPCHANGE\"] = \"tooltipchange\";\n  G6Event[\"WHEELZOOM\"] = \"wheelzoom\";\n  G6Event[\"VIEWPORTCHANGE\"] = \"viewportchange\";\n  G6Event[\"DRAGNODEEND\"] = \"dragnodeend\";\n  G6Event[\"STACKCHANGE\"] = \"stackchange\";\n})(G6Event || (G6Event = {}));","export default {\n  collapse: function collapse(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x + r - 4, y]];\n  },\n  expand: function expand(x, y, r) {\n    return [['M', x - r, y], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0], ['M', x - r + 4, y], ['L', x - r + 2 * r - 4, y], ['M', x - r + r, y - r + 4], ['L', x, y + r - 4]];\n  },\n  upTriangle: function upTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y + l2], ['L', x + l1, y + l2], ['L', x, y - r], ['Z']];\n  },\n  downTriangle: function downTriangle(x, y, r) {\n    var l1 = r * Math.cos(Math.PI / 6);\n    var l2 = r * Math.sin(Math.PI / 6);\n    return [['M', x - l1, y - l2], ['L', x + l1, y - l2], ['L', x, y + r], ['Z']];\n  }\n};","import Shape from './shape';\nimport './node';\nimport './edge';\nimport './combo';\nimport './combos';\nimport './nodes';\nexport { default as Arrow } from './arrow';\nexport { default as Marker } from './marker';\nexport default Shape;","export var defaultSubjectColors = ['#5F95FF', '#61DDAA', '#65789B', '#F6BD16', '#7262FD', '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4'];","import { __assign } from \"tslib\";\nimport * as MathUtil from './math';\nimport * as GraphicUtil from './graphic';\nimport * as PathUtil from './path';\nimport * as BaseUtil from './base';\nimport * as ColorUtil from './color';\nimport { ext, mat3 } from '@antv/matrix-util';\nvar transform = ext.transform;\n\nvar Util = __assign(__assign(__assign(__assign(__assign(__assign({}, BaseUtil), GraphicUtil), PathUtil), MathUtil), ColorUtil), {\n  transform: transform,\n  mat3: mat3\n});\n\nexport default Util;","import { __assign, __rest } from \"tslib\";\nimport { isFunction, groupBy } from '@antv/util';\nimport { isNaN, calculationItemsBBox } from '../../util/base';\n\nvar LayoutController =\n/** @class */\nfunction () {\n  function LayoutController(graph) {\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n    this.layoutMethods = [];\n    this.initLayout();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.initLayout = function () {// no data before rendering\n  };\n\n  LayoutController.prototype.getLayoutType = function () {\n    return this.getLayoutCfgType(this.layoutCfg);\n  };\n\n  LayoutController.prototype.getLayoutCfgType = function (layoutCfg) {\n    var type = layoutCfg.type; // type should be top priority\n\n    if (type) {\n      return type;\n    }\n\n    var pipes = layoutCfg.pipes;\n\n    if (Array.isArray(pipes)) {\n      return pipes.map(function (pipe) {\n        return (pipe === null || pipe === void 0 ? void 0 : pipe.type) || '';\n      });\n    }\n\n    return null;\n  };\n\n  LayoutController.prototype.isLayoutTypeSame = function (cfg) {\n    var current = this.getLayoutCfgType(cfg); // already has pipes\n\n    if (Array.isArray(this.layoutType)) {\n      return this.layoutType.every(function (type, index) {\n        return type === current[index];\n      });\n    }\n\n    return (cfg === null || cfg === void 0 ? void 0 : cfg.type) === this.layoutType;\n  }; // \n\n\n  LayoutController.prototype.refreshLayout = function () {\n    var graph = this.graph;\n    if (!graph) return;\n\n    if (graph.get('animate')) {\n      graph.positionsAnimate();\n    } else {\n      graph.refreshPositions();\n    }\n  }; // \n\n\n  LayoutController.prototype.changeLayout = function (cfg) {\n    this.layoutCfg = cfg;\n    this.destoryLayoutMethods();\n    this.layout();\n  }; // \n\n\n  LayoutController.prototype.changeData = function () {\n    this.destoryLayoutMethods();\n    this.layout();\n  };\n\n  LayoutController.prototype.destoryLayoutMethods = function () {\n    var layoutMethods = this.layoutMethods;\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod) {\n      layoutMethod.destroy();\n    });\n    this.layoutMethods = [];\n  }; //  this.destroy controller \n\n\n  LayoutController.prototype.destroyLayout = function () {\n    var graph = this.graph;\n    this.destoryLayoutMethods();\n    graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n  }; //  this.graph \n\n\n  LayoutController.prototype.setDataFromGraph = function () {\n    var nodes = [];\n    var hiddenNodes = [];\n    var edges = [];\n    var hiddenEdges = [];\n    var comboEdges = [];\n    var combos = [];\n    var hiddenCombos = [];\n    var nodeItems = this.graph.getNodes();\n    var edgeItems = this.graph.getEdges();\n    var comboItems = this.graph.getCombos();\n    var nodeLength = nodeItems.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var nodeItem = nodeItems[i];\n      if (!nodeItem || nodeItem.destroyed) continue;\n      var model = nodeItem.getModel();\n\n      if (!nodeItem.isVisible()) {\n        hiddenNodes.push(model);\n        continue;\n      }\n\n      nodes.push(model);\n    }\n\n    var edgeLength = edgeItems.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edgeItem = edgeItems[i];\n      if (!edgeItem || edgeItem.destroyed) continue;\n      var model = edgeItem.getModel();\n\n      if (!edgeItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      if (!model.isComboEdge) edges.push(model);else comboEdges.push(model);\n    }\n\n    var comboLength = comboItems.length;\n\n    for (var i = 0; i < comboLength; i++) {\n      var comboItem = comboItems[i];\n      if (comboItem.destroyed) continue;\n      var model = comboItem.getModel();\n\n      if (!comboItem.isVisible()) {\n        hiddenEdges.push(model);\n        continue;\n      }\n\n      combos.push(model);\n    }\n\n    return {\n      nodes: nodes,\n      hiddenNodes: hiddenNodes,\n      edges: edges,\n      hiddenEdges: hiddenEdges,\n      combos: combos,\n      hiddenCombos: hiddenCombos,\n      comboEdges: comboEdges\n    };\n  };\n\n  LayoutController.prototype.reLayoutMethod = function (layoutMethod, layoutCfg) {\n    var _this = this;\n\n    return new Promise(function (reslove, reject) {\n      var graph = _this.graph;\n      var layoutType = layoutCfg === null || layoutCfg === void 0 ? void 0 : layoutCfg.type; // \n\n      layoutCfg.onLayoutEnd = function () {\n        graph.emit('aftersublayout', {\n          type: layoutType\n        });\n        reslove();\n      };\n\n      layoutMethod.init(_this.data);\n\n      if (layoutType === 'force') {\n        layoutMethod.ticking = false;\n        layoutMethod.forceSimulation.stop();\n      }\n\n      graph.emit('beforesublayout', {\n        type: layoutType\n      });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }; // \n\n\n  LayoutController.prototype.relayout = function (reloadData) {\n    var _this = this;\n\n    var _a = this,\n        graph = _a.graph,\n        layoutMethods = _a.layoutMethods,\n        layoutCfg = _a.layoutCfg;\n\n    if (reloadData) {\n      this.data = this.setDataFromGraph();\n      var nodes = this.data.nodes;\n\n      if (!nodes) {\n        return false;\n      }\n\n      this.initPositions(layoutCfg.center, nodes);\n    }\n\n    graph.emit('beforelayout');\n    var start = Promise.resolve();\n    layoutMethods === null || layoutMethods === void 0 ? void 0 : layoutMethods.forEach(function (layoutMethod, index) {\n      var currentCfg = layoutCfg[index];\n      start = start.then(function () {\n        return _this.reLayoutMethod(layoutMethod, currentCfg);\n      });\n    });\n    start.then(function () {\n      if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n    }).catch(function (error) {\n      console.warn('relayout failed', error);\n    });\n  }; // nodesedges\n\n\n  LayoutController.prototype.filterLayoutData = function (data, cfg) {\n    var nodes = data.nodes,\n        edges = data.edges,\n        rest = __rest(data, [\"nodes\", \"edges\"]);\n\n    if (!nodes) {\n      return data;\n    }\n\n    var nodesFilter;\n    var edegsFilter;\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.nodesFilter)) {\n      nodesFilter = cfg.nodesFilter;\n    } else {\n      nodesFilter = function nodesFilter() {\n        return true;\n      };\n    }\n\n    if (isFunction(cfg === null || cfg === void 0 ? void 0 : cfg.edgesFilter)) {\n      edegsFilter = cfg.edgesFilter;\n    } else {\n      var nodesMap_1 = nodes.reduce(function (acc, cur) {\n        acc[cur.id] = true;\n        return acc;\n      }, {});\n\n      edegsFilter = function edegsFilter(edge) {\n        return nodesMap_1[edge.source] && nodesMap_1[edge.target];\n      };\n    }\n\n    return __assign({\n      nodes: nodes.filter(nodesFilter),\n      edges: edges.filter(edegsFilter)\n    }, rest);\n  };\n\n  LayoutController.prototype.getLayoutBBox = function (nodes) {\n    var graph = this.graph;\n    var graphGroupNodes = groupBy(graph.getNodes(), function (n) {\n      return n.getModel().layoutOrder;\n    });\n    var layoutNodes = Object.values(graphGroupNodes).map(function (value) {\n      var bbox = calculationItemsBBox(value);\n      bbox.size = [bbox.width, bbox.height];\n      return bbox;\n    });\n    var groupNodes = Object.values(groupBy(nodes, 'layoutOrder'));\n    return {\n      groupNodes: groupNodes,\n      layoutNodes: layoutNodes\n    };\n  }; // \n  // eslint-disable-next-line class-methods-use-this\n\n\n  LayoutController.prototype.layoutAnimate = function () {}; // \n\n\n  LayoutController.prototype.moveToZero = function () {\n    var graph = this.graph;\n    var data = graph.get('data');\n    var nodes = data.nodes;\n\n    if (nodes[0].x === undefined || nodes[0].x === null || isNaN(nodes[0].x)) {\n      return;\n    }\n\n    var meanCenter = [0, 0];\n    var nodeLength = nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      meanCenter[0] += node.x;\n      meanCenter[1] += node.y;\n    }\n\n    meanCenter[0] /= nodes.length;\n    meanCenter[1] /= nodes.length;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n      node.x -= meanCenter[0];\n      node.y -= meanCenter[1];\n    }\n  }; //  center \n\n\n  LayoutController.prototype.initPositions = function (center, nodes) {\n    var graph = this.graph;\n\n    if (!nodes) {\n      return false;\n    }\n\n    var nodeLength = nodes ? nodes.length : 0;\n    if (!nodeLength) return;\n    var width = graph.get('width') * 0.85;\n    var height = graph.get('height') * 0.85;\n    var horiNum = Math.ceil(Math.sqrt(nodeLength) * (width / height));\n    var vertiNum = Math.ceil(nodeLength / horiNum);\n    var horiGap = width / (horiNum - 1);\n    var vertiGap = height / (vertiNum - 1);\n    if (!isFinite(horiGap) || !horiGap) horiGap = 0;\n    if (!isFinite(vertiGap) || !horiGap) vertiGap = 0;\n    var beginX = center[0] - width / 2;\n    var beginY = center[1] - height / 2;\n    var allHavePos = true;\n\n    for (var i = 0; i < nodeLength; i++) {\n      var node = nodes[i];\n\n      if (isNaN(node.x)) {\n        allHavePos = false;\n        node.x = i % horiNum * horiGap + beginX;\n      }\n\n      if (isNaN(node.y)) {\n        allHavePos = false;\n        node.y = Math.floor(i / horiNum) * vertiGap + beginY;\n      }\n    }\n\n    return allHavePos;\n  };\n\n  LayoutController.prototype.destroy = function () {\n    this.graph = null;\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n  };\n\n  LayoutController.prototype.onTick = function (timestamp) {\n    var _a;\n\n    (_a = this.layoutMethods) === null || _a === void 0 ? void 0 : _a.forEach(function (layoutMethod) {\n      var _a;\n\n      (_a = layoutMethod === null || layoutMethod === void 0 ? void 0 : layoutMethod.onTick) === null || _a === void 0 ? void 0 : _a.call(layoutMethod, timestamp);\n    });\n  };\n\n  return LayoutController;\n}();\n\nexport default LayoutController;","var EventController =\n/** @class */\nfunction () {\n  function EventController(graph) {\n    this.graph = graph;\n    this.destroyed = false;\n    this.initEvents();\n  }\n\n  return EventController;\n}();\n\nexport default EventController;","import Behavior from './behavior';\nimport AbstractGraph from './graph/graph';\nimport Shape, { Arrow, Marker } from './element';\nimport Global from './global';\nimport Util from './util'; //  PC  Mobile  layout  updateLayoutCfg \n\nimport AbstractLayout from './graph/controller/layout';\nimport AbstractEvent from './graph/controller/event';\nimport Node from './item/node';\nimport Edge from './item/edge';\nimport Hull from './item/hull';\nimport Combo from './item/combo';\nvar registerNode = Shape.registerNode;\nvar registerEdge = Shape.registerEdge;\nvar registerCombo = Shape.registerCombo;\nvar registerBehavior = Behavior.registerBehavior;\nvar BaseGlobal = Global;\nexport * from './types';\nexport { Arrow, Shape, Node, Edge, Combo, Hull, Marker, registerNode, registerCombo, AbstractGraph, Util, registerEdge, registerBehavior, AbstractLayout, AbstractEvent, BaseGlobal };\nexport default {\n  version: Global.version,\n  AbstractGraph: AbstractGraph,\n  BaseGlobal: BaseGlobal,\n  Util: Util,\n  Shape: Shape,\n  Node: Node,\n  Edge: Edge,\n  Combo: Combo,\n  Hull: Hull,\n  registerNode: Shape.registerNode,\n  registerEdge: Shape.registerEdge,\n  registerCombo: Shape.registerCombo,\n  registerBehavior: Behavior.registerBehavior,\n  Arrow: Arrow,\n  Marker: Marker,\n  AbstractLayout: AbstractLayout,\n  AbstractEvent: AbstractEvent\n};",null,null,null,null,null,null,null,"import { Layout, Layouts } from '@antv/layout/lib/layout/layout';\nimport { registerLayout, unRegisterLayout } from '@antv/layout/lib/registy';\nimport { RandomLayout } from '@antv/layout/lib/layout/random';\n\n//  random \nregisterLayout('random', RandomLayout);\n\nexport { Layout, Layouts, registerLayout, unRegisterLayout };\n","var adjMatrix = function adjMatrix(graphData, directed) {\n  var nodes = graphData.nodes,\n      edges = graphData.edges;\n  var matrix = []; // map node with index in data.nodes\n\n  var nodeMap = {};\n\n  if (!nodes) {\n    throw new Error(\"invalid nodes data!\");\n  }\n\n  if (nodes) {\n    nodes.forEach(function (node, i) {\n      nodeMap[node.id] = i;\n      var row = [];\n      matrix.push(row);\n    });\n  }\n\n  if (edges) {\n    edges.forEach(function (edge) {\n      var source = edge.source,\n          target = edge.target;\n      var sIndex = nodeMap[source];\n      var tIndex = nodeMap[target];\n      if (!sIndex && sIndex !== 0 || !tIndex && tIndex !== 0) return;\n      matrix[sIndex][tIndex] = 1;\n\n      if (!directed) {\n        matrix[tIndex][sIndex] = 1;\n      }\n    });\n  }\n\n  return matrix;\n};\n\nexport default adjMatrix;","var defaultComparator = function defaultComparator(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * \n */\n\n\nvar LinkedListNode =\n/** @class */\nfunction () {\n  function LinkedListNode(value, next) {\n    if (next === void 0) {\n      next = null;\n    }\n\n    this.value = value;\n    this.next = next;\n  }\n\n  LinkedListNode.prototype.toString = function (callback) {\n    return callback ? callback(this.value) : \"\".concat(this.value);\n  };\n\n  return LinkedListNode;\n}();\n\nexport { LinkedListNode };\n\nvar LinkedList =\n/** @class */\nfunction () {\n  function LinkedList(comparator) {\n    if (comparator === void 0) {\n      comparator = defaultComparator;\n    }\n\n    this.head = null;\n    this.tail = null;\n    this.compare = comparator;\n  }\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.prepend = function (value) {\n    // \n    var newNode = new LinkedListNode(value, this.head);\n    this.head = newNode;\n\n    if (!this.tail) {\n      this.tail = newNode;\n    }\n\n    return this;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  LinkedList.prototype.append = function (value) {\n    var newNode = new LinkedListNode(value); // \n\n    if (!this.head) {\n      this.head = newNode;\n      this.tail = newNode;\n      return this;\n    } // \n\n\n    this.tail.next = newNode;\n    this.tail = newNode;\n    return this;\n  };\n  /**\n   * \n   * @param value \n   */\n\n\n  LinkedList.prototype.delete = function (value) {\n    if (!this.head) {\n      return null;\n    }\n\n    var deleteNode = null; // next\n\n    while (this.head && this.compare(this.head.value, value)) {\n      deleteNode = this.head;\n      this.head = this.head.next;\n    }\n\n    var currentNode = this.head;\n\n    if (currentNode !== null) {\n      // next\n      while (currentNode.next) {\n        if (this.compare(currentNode.next.value, value)) {\n          deleteNode = currentNode.next;\n          currentNode.next = currentNode.next.next;\n        } else {\n          currentNode = currentNode.next;\n        }\n      }\n    } // \n\n\n    if (this.compare(this.tail.value, value)) {\n      this.tail = currentNode;\n    }\n\n    return deleteNode;\n  };\n  /**\n   * \n   * @param param0\n   */\n\n\n  LinkedList.prototype.find = function (_a) {\n    var _b = _a.value,\n        value = _b === void 0 ? undefined : _b,\n        _c = _a.callback,\n        callback = _c === void 0 ? undefined : _c;\n\n    if (!this.head) {\n      return null;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode) {\n      //  callback callback \n      if (callback && callback(currentNode.value)) {\n        return currentNode;\n      } //  value value \n\n\n      if (value !== undefined && this.compare(currentNode.value, value)) {\n        return currentNode;\n      }\n\n      currentNode = currentNode.next;\n    }\n\n    return null;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteTail = function () {\n    var deletedTail = this.tail;\n\n    if (this.head === this.tail) {\n      // \n      this.head = null;\n      this.tail = null;\n      return deletedTail;\n    }\n\n    var currentNode = this.head;\n\n    while (currentNode.next) {\n      if (!currentNode.next.next) {\n        currentNode.next = null;\n      } else {\n        currentNode = currentNode.next;\n      }\n    }\n\n    this.tail = currentNode;\n    return deletedTail;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.deleteHead = function () {\n    if (!this.head) {\n      return null;\n    }\n\n    var deletedHead = this.head;\n\n    if (this.head.next) {\n      this.head = this.head.next;\n    } else {\n      this.head = null;\n      this.tail = null;\n    }\n\n    return deletedHead;\n  };\n  /**\n   * \n   * @param values \n   */\n\n\n  LinkedList.prototype.fromArray = function (values) {\n    var _this = this;\n\n    values.forEach(function (value) {\n      return _this.append(value);\n    });\n    return this;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.toArray = function () {\n    var nodes = [];\n    var currentNode = this.head;\n\n    while (currentNode) {\n      nodes.push(currentNode);\n      currentNode = currentNode.next;\n    }\n\n    return nodes;\n  };\n  /**\n   * \n   */\n\n\n  LinkedList.prototype.reverse = function () {\n    var currentNode = this.head;\n    var prevNode = null;\n    var nextNode = null;\n\n    while (currentNode) {\n      // \n      nextNode = currentNode.next; // \n\n      currentNode.next = prevNode; //  prevNode  currentNode \n\n      prevNode = currentNode;\n      currentNode = nextNode;\n    }\n\n    this.tail = this.head;\n    this.head = prevNode;\n  };\n\n  LinkedList.prototype.toString = function (callback) {\n    if (callback === void 0) {\n      callback = undefined;\n    }\n\n    return this.toArray().map(function (node) {\n      return node.toString(callback);\n    }).toString();\n  };\n\n  return LinkedList;\n}();\n\nexport default LinkedList;","import LinkedList from './linked-list';\n\nvar Queue =\n/** @class */\nfunction () {\n  function Queue() {\n    this.linkedList = new LinkedList();\n  }\n  /**\n   * \n   */\n\n\n  Queue.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   *  \n   */\n\n\n  Queue.prototype.peek = function () {\n    if (!this.linkedList.head) {\n      return null;\n    }\n\n    return this.linkedList.head.value;\n  };\n  /**\n   * \n   * @param value\n   */\n\n\n  Queue.prototype.enqueue = function (value) {\n    this.linkedList.append(value);\n  };\n  /**\n   *  null\n   */\n\n\n  Queue.prototype.dequeue = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Queue.prototype.toString = function (callback) {\n    return this.linkedList.toString(callback);\n  };\n\n  return Queue;\n}();\n\nexport default Queue;","/**\n * \n * @param nodeId  ID\n * @param edges \n * @param type \n */\nexport var getNeighbors = function getNeighbors(nodeId, edges, type) {\n  if (edges === void 0) {\n    edges = [];\n  }\n\n  var currentEdges = edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n\n  if (type === 'target') {\n    //  source\n    var neighhborsConverter_1 = function neighhborsConverter_1(edge) {\n      return edge.source === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_1).map(function (edge) {\n      return edge.target;\n    });\n  }\n\n  if (type === 'source') {\n    //  target\n    var neighhborsConverter_2 = function neighhborsConverter_2(edge) {\n      return edge.target === nodeId;\n    };\n\n    return currentEdges.filter(neighhborsConverter_2).map(function (edge) {\n      return edge.source;\n    });\n  } //  type \n\n\n  var neighhborsConverter = function neighhborsConverter(edge) {\n    return edge.source === nodeId ? edge.target : edge.source;\n  };\n\n  return currentEdges.map(neighhborsConverter);\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getOutEdgesNodeId = function getOutEdgesNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId;\n  });\n};\n/**\n * \n * @param nodeId  ID\n * @param edges \n */\n\nexport var getEdgesByNodeId = function getEdgesByNodeId(nodeId, edges) {\n  return edges.filter(function (edge) {\n    return edge.source === nodeId || edge.target === nodeId;\n  });\n};\n/**\n *  ID + \n * @param index \n */\n\nexport var uniqueId = function uniqueId(index) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  var random1 = \"\".concat(Math.random()).split('.')[1].substr(0, 5);\n  var random2 = \"\".concat(Math.random()).split('.')[1].substr(0, 5);\n  return \"\".concat(index, \"-\").concat(random1).concat(random2);\n};","import Queue from './structs/queue';\nimport { getNeighbors } from './util';\n/**\n *\n * @param callbacks\n * allowTraversal:  BFS \n * enterNode:  BFS \n * leaveNode:  BFS \n */\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n      var id = next;\n\n      if (!seen[id]) {\n        seen[id] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * \n * @param graph Graph \n * @param startNode \n * @param originalCallbacks \n */\n\n\nvar breadthFirstSearch = function breadthFirstSearch(graphData, startNodeId, originalCallbacks, directed) {\n  if (directed === void 0) {\n    directed = true;\n  }\n\n  var callbacks = initCallbacks(originalCallbacks);\n  var nodeQueue = new Queue();\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a; // \n\n  nodeQueue.enqueue(startNodeId);\n  var previousNode = '';\n\n  var _loop_1 = function _loop_1() {\n    var currentNode = nodeQueue.dequeue();\n    callbacks.enter({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    getNeighbors(currentNode, edges, directed ? 'target' : undefined).forEach(function (nextNode) {\n      if (callbacks.allowTraversal({\n        previous: previousNode,\n        current: currentNode,\n        next: nextNode\n      })) {\n        nodeQueue.enqueue(nextNode);\n      }\n    });\n    callbacks.leave({\n      current: currentNode,\n      previous: previousNode\n    }); // \n\n    previousNode = currentNode;\n  }; // \n\n\n  while (!nodeQueue.isEmpty()) {\n    _loop_1();\n  }\n};\n\nexport default breadthFirstSearch;","import { getNeighbors } from \"./util\";\n/**\n * Generate all connected components for an undirected graph\n * @param graph\n */\n\nexport var detectConnectedComponents = function detectConnectedComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var allComponents = [];\n  var visited = {};\n  var nodeStack = [];\n\n  var getComponent = function getComponent(node) {\n    nodeStack.push(node);\n    visited[node.id] = true;\n    var neighbors = getNeighbors(node.id, edges);\n\n    var _loop_1 = function _loop_1(i) {\n      var neighbor = neighbors[i];\n\n      if (!visited[neighbor]) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === neighbor;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        }\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; ++i) {\n      _loop_1(i);\n    }\n  };\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n\n    if (!visited[node.id]) {\n      // dfs\n      getComponent(node);\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        component.push(nodeStack.pop());\n      }\n\n      allComponents.push(component);\n    }\n  }\n\n  return allComponents;\n};\n/**\n * Tarjan's Algorithm   O(|V|+|E|)\n * For directed graph only\n * a directed graph is said to be strongly connected if \"every vertex is reachable from every other vertex\".\n * refer: http://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm\n * @param graph\n * @return a list of strongly connected components\n */\n\nexport var detectStrongConnectComponents = function detectStrongConnectComponents(graphData) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeStack = [];\n  var inStack = {}; // stack\n\n  var indices = {};\n  var lowLink = {};\n  var allComponents = [];\n  var index = 0;\n\n  var getComponent = function getComponent(node) {\n    // Set the depth index for v to the smallest unused index\n    indices[node.id] = index;\n    lowLink[node.id] = index;\n    index += 1;\n    nodeStack.push(node);\n    inStack[node.id] = true; // \n\n    var neighbors = getNeighbors(node.id, edges, 'target').filter(function (n) {\n      return nodes.map(function (node) {\n        return node.id;\n      }).indexOf(n) > -1;\n    });\n\n    var _loop_2 = function _loop_2(i) {\n      var targetNodeID = neighbors[i];\n\n      if (!indices[targetNodeID] && indices[targetNodeID] !== 0) {\n        var targetNode = nodes.filter(function (node) {\n          return node.id === targetNodeID;\n        });\n\n        if (targetNode.length > 0) {\n          getComponent(targetNode[0]);\n        } // tree edge\n\n\n        lowLink[node.id] = Math.min(lowLink[node.id], lowLink[targetNodeID]);\n      } else if (inStack[targetNodeID]) {\n        // back edge, target node is in the current SCC\n        lowLink[node.id] = Math.min(lowLink[node.id], indices[targetNodeID]);\n      }\n    };\n\n    for (var i = 0; i < neighbors.length; i++) {\n      _loop_2(i);\n    } // If node is a root node, generate an SCC\n\n\n    if (lowLink[node.id] === indices[node.id]) {\n      var component = [];\n\n      while (nodeStack.length > 0) {\n        var tmpNode = nodeStack.pop();\n        inStack[tmpNode.id] = false;\n        component.push(tmpNode);\n        if (tmpNode === node) break;\n      }\n\n      if (component.length > 0) {\n        allComponents.push(component);\n      }\n    }\n  };\n\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n\n    if (!indices[node.id] && indices[node.id] !== 0) {\n      getComponent(node);\n    }\n  }\n\n  return allComponents;\n};\nexport default function getConnectedComponents(graphData, directed) {\n  if (directed) return detectStrongConnectComponents(graphData);\n  return detectConnectedComponents(graphData);\n}","var degree = function degree(graphData) {\n  var degrees = {};\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  nodes.forEach(function (node) {\n    degrees[node.id] = {\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n  });\n  edges.forEach(function (edge) {\n    degrees[edge.source].degree++;\n    degrees[edge.source].outDegree++;\n    degrees[edge.target].degree++;\n    degrees[edge.target].inDegree++;\n  });\n  return degrees;\n};\n\nexport default degree;\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getInDegree = function getInDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].inDegree;\n  }\n\n  return 0;\n};\n/**\n * \n * @param graphData \n * @param nodeId ID\n */\n\nexport var getOutDegree = function getOutDegree(graphData, nodeId) {\n  var nodeDegree = degree(graphData);\n\n  if (nodeDegree[nodeId]) {\n    return degree(graphData)[nodeId].outDegree;\n  }\n\n  return 0;\n};","import { getNeighbors } from './util';\n\nfunction initCallbacks(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var initiatedCallback = callbacks;\n\n  var stubCallback = function stubCallback() {};\n\n  var allowTraversalCallback = function () {\n    var seen = {};\n    return function (_a) {\n      var next = _a.next;\n\n      if (!seen[next]) {\n        seen[next] = true;\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  initiatedCallback.allowTraversal = callbacks.allowTraversal || allowTraversalCallback;\n  initiatedCallback.enter = callbacks.enter || stubCallback;\n  initiatedCallback.leave = callbacks.leave || stubCallback;\n  return initiatedCallback;\n}\n/**\n * @param {Graph} graph\n * @param {GraphNode} currentNode\n * @param {GraphNode} previousNode\n * @param {Callbacks} callbacks\n */\n\n\nfunction depthFirstSearchRecursive(graphData, currentNode, previousNode, callbacks) {\n  callbacks.enter({\n    current: currentNode,\n    previous: previousNode\n  });\n  var _a = graphData.edges,\n      edges = _a === void 0 ? [] : _a;\n  getNeighbors(currentNode, edges, 'target').forEach(function (nextNode) {\n    if (callbacks.allowTraversal({\n      previous: previousNode,\n      current: currentNode,\n      next: nextNode\n    })) {\n      depthFirstSearchRecursive(graphData, nextNode, currentNode, callbacks);\n    }\n  });\n  callbacks.leave({\n    current: currentNode,\n    previous: previousNode\n  });\n}\n/**\n * \n * @param data GraphData \n * @param startNodeId  ID\n * @param originalCallbacks \n */\n\n\nexport default function depthFirstSearch(graphData, startNodeId, callbacks) {\n  depthFirstSearchRecursive(graphData, startNodeId, '', initCallbacks(callbacks));\n}","import dfs from './dfs';\nimport getConnectedComponents, { detectStrongConnectComponents } from './connected-component';\nimport { getNeighbors } from './util';\n\nvar detectDirectedCycle = function detectDirectedCycle(graphData) {\n  var cycle = null;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a;\n  var dfsParentMap = {}; // \n\n  var unvisitedSet = {}; // \n\n  var visitingSet = {}; // \n\n  var visitedSet = {}; //  unvisitedSet\n\n  nodes.forEach(function (node) {\n    unvisitedSet[node.id] = node;\n  });\n  var callbacks = {\n    enter: function enter(_a) {\n      var currentNode = _a.current,\n          previousNode = _a.previous;\n\n      if (visitingSet[currentNode]) {\n        // \n        cycle = {};\n        var currentCycleNode = currentNode;\n        var previousCycleNode = previousNode;\n\n        while (previousCycleNode !== currentNode) {\n          cycle[currentCycleNode] = previousCycleNode;\n          currentCycleNode = previousCycleNode;\n          previousCycleNode = dfsParentMap[previousCycleNode];\n        }\n\n        cycle[currentCycleNode] = previousCycleNode;\n      } else {\n        // \n        visitingSet[currentNode] = currentNode;\n        delete unvisitedSet[currentNode]; //  DSF parents \n\n        dfsParentMap[currentNode] = previousNode;\n      }\n    },\n    leave: function leave(_a) {\n      var currentNode = _a.current; // \n      // \n\n      visitedSet[currentNode] = currentNode;\n      delete visitingSet[currentNode];\n    },\n    allowTraversal: function allowTraversal(_a) {\n      var nextNode = _a.next; // \n\n      if (cycle) {\n        return false;\n      } // visitedSet \n\n\n      return !visitedSet[nextNode];\n    }\n  }; // \n\n  while (Object.keys(unvisitedSet).length) {\n    //  DFS \n    var firsetUnVisitedKey = Object.keys(unvisitedSet)[0];\n    dfs(graphData, firsetUnVisitedKey, callbacks);\n  }\n\n  return cycle;\n};\n/**\n * Base cycles\n * refer: https://www.codeproject.com/Articles/1158232/Enumerating-All-Cycles-in-an-Undirected-Graph\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}] base cycles\n */\n\n\nexport var detectAllUndirectedCycle = function detectAllUndirectedCycle(graphData, nodeIds, include) {\n  var _a, _b;\n\n  if (include === void 0) {\n    include = true;\n  }\n\n  var allCycles = [];\n  var components = getConnectedComponents(graphData, false); // loop through all connected components\n\n  for (var _i = 0, components_1 = components; _i < components_1.length; _i++) {\n    var component = components_1[_i];\n    if (!component.length) continue;\n    var root = component[0];\n    var rootId = root.id;\n    var stack = [root];\n    var parent_1 = (_a = {}, _a[rootId] = root, _a);\n    var used = (_b = {}, _b[rootId] = new Set(), _b); // walk a spanning tree to find cycles\n\n    while (stack.length > 0) {\n      var curNode = stack.pop();\n      var curNodeId = curNode.id;\n      var neighbors = getNeighbors(curNodeId, graphData.edges);\n\n      var _loop_1 = function _loop_1(i) {\n        var _c;\n\n        var neighborId = neighbors[i];\n        var neighbor = graphData.nodes.find(function (node) {\n          return node.id === neighborId;\n        }); // const neighborId = neighbor.get('id');\n\n        if (neighborId === curNodeId) {\n          // \n          allCycles.push((_c = {}, _c[neighborId] = curNode, _c));\n        } else if (!(neighborId in used)) {\n          // visit a new node\n          parent_1[neighborId] = curNode;\n          stack.push(neighbor);\n          used[neighborId] = new Set([curNode]);\n        } else if (!used[curNodeId].has(neighbor)) {\n          // a cycle found\n          var cycleValid = true;\n          var cyclePath = [neighbor, curNode];\n          var p = parent_1[curNodeId];\n\n          while (used[neighborId].size && !used[neighborId].has(p)) {\n            cyclePath.push(p);\n            if (p === parent_1[p.id]) break;else p = parent_1[p.id];\n          }\n\n          cyclePath.push(p);\n\n          if (nodeIds && include) {\n            // \n            cycleValid = false;\n\n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = true;\n            }\n          } else if (nodeIds && !include) {\n            // \n            if (cyclePath.findIndex(function (node) {\n              return nodeIds.indexOf(node.id) > -1;\n            }) > -1) {\n              cycleValid = false;\n            }\n          } //  node list  cycle \n\n\n          if (cycleValid) {\n            var cycle = {};\n\n            for (var index = 1; index < cyclePath.length; index += 1) {\n              cycle[cyclePath[index - 1].id] = cyclePath[index];\n            }\n\n            if (cyclePath.length) {\n              cycle[cyclePath[cyclePath.length - 1].id] = cyclePath[0];\n            }\n\n            allCycles.push(cycle);\n          }\n\n          used[neighborId].add(curNode);\n        }\n      };\n\n      for (var i = 0; i < neighbors.length; i += 1) {\n        _loop_1(i);\n      }\n    }\n  }\n\n  return allCycles;\n};\n/**\n * Johnson's algorithm,  O((V + E)(C + 1))$ and space bounded by O(V + E)\n * refer: https://www.cs.tufts.edu/comp/150GA/homeworks/hw1/Johnson%2075.PDF\n * refer: https://networkx.github.io/documentation/stable/_modules/networkx/algorithms/cycles.html#simple_cycles\n * @param graph\n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: INode}]  simple cycles\n */\n\nexport var detectAllDirectedCycle = function detectAllDirectedCycle(graphData, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  var path = []; // stack of nodes in current path\n\n  var blocked = new Set();\n  var B = []; // remember portions of the graph that yield no elementary circuit\n\n  var allCycles = [];\n  var idx2Node = {};\n  var node2Idx = {}; //  unblock all blocked nodes\n\n  var unblock = function unblock(thisNode) {\n    var stack = [thisNode];\n\n    while (stack.length > 0) {\n      var node = stack.pop();\n\n      if (blocked.has(node)) {\n        blocked.delete(node);\n        B[node.id].forEach(function (n) {\n          stack.push(n);\n        });\n        B[node.id].clear();\n      }\n    }\n  };\n\n  var circuit = function circuit(node, start, adjList) {\n    var closed = false; // whether a path is closed\n\n    if (nodeIds && include === false && nodeIds.indexOf(node.id) > -1) return closed;\n    path.push(node);\n    blocked.add(node);\n    var neighbors = adjList[node.id];\n\n    for (var i = 0; i < neighbors.length; i += 1) {\n      var neighbor = idx2Node[neighbors[i]];\n\n      if (neighbor === start) {\n        var cycle = {};\n\n        for (var index = 1; index < path.length; index += 1) {\n          cycle[path[index - 1].id] = path[index];\n        }\n\n        if (path.length) {\n          cycle[path[path.length - 1].id] = path[0];\n        }\n\n        allCycles.push(cycle);\n        closed = true;\n      } else if (!blocked.has(neighbor)) {\n        if (circuit(neighbor, start, adjList)) {\n          closed = true;\n        }\n      }\n    }\n\n    if (closed) {\n      unblock(node);\n    } else {\n      for (var i = 0; i < neighbors.length; i += 1) {\n        var neighbor = idx2Node[neighbors[i]];\n\n        if (!B[neighbor.id].has(node)) {\n          B[neighbor.id].add(node);\n        }\n      }\n    }\n\n    path.pop();\n    return closed;\n  };\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a; // Johnson's algorithm \n\n  for (var i = 0; i < nodes.length; i += 1) {\n    var node = nodes[i];\n    var nodeId = node.id;\n    node2Idx[nodeId] = i;\n    idx2Node[i] = node;\n  } // \n\n\n  if (nodeIds && include) {\n    var _loop_2 = function _loop_2(i) {\n      var nodeId = nodeIds[i];\n      node2Idx[nodes[i].id] = node2Idx[nodeId];\n      node2Idx[nodeId] = 0;\n      idx2Node[0] = nodes.find(function (node) {\n        return node.id === nodeId;\n      });\n      idx2Node[node2Idx[nodes[i].id]] = nodes[i];\n    };\n\n    for (var i = 0; i < nodeIds.length; i++) {\n      _loop_2(i);\n    }\n  } //   >= nodeOrder adjList\n\n\n  var getMinComponentAdj = function getMinComponentAdj(components) {\n    var _a;\n\n    var minCompIdx;\n    var minIdx = Infinity; // Find least component and the lowest node\n\n    for (var i = 0; i < components.length; i += 1) {\n      var comp = components[i];\n\n      for (var j = 0; j < comp.length; j++) {\n        var nodeIdx_1 = node2Idx[comp[j].id];\n\n        if (nodeIdx_1 < minIdx) {\n          minIdx = nodeIdx_1;\n          minCompIdx = i;\n        }\n      }\n    }\n\n    var component = components[minCompIdx];\n    var adjList = [];\n\n    for (var i = 0; i < component.length; i += 1) {\n      var node = component[i];\n      adjList[node.id] = [];\n\n      for (var _i = 0, _b = getNeighbors(node.id, graphData.edges, 'target').filter(function (n) {\n        return component.map(function (c) {\n          return c.id;\n        }).indexOf(n) > -1;\n      }); _i < _b.length; _i++) {\n        var neighbor = _b[_i]; //  () adjList\n\n        if (neighbor === node.id && !(include === false && nodeIds.indexOf(node.id) > -1)) {\n          allCycles.push((_a = {}, _a[node.id] = node, _a));\n        } else {\n          adjList[node.id].push(node2Idx[neighbor]);\n        }\n      }\n    }\n\n    return {\n      component: component,\n      adjList: adjList,\n      minIdx: minIdx\n    };\n  };\n\n  var nodeIdx = 0;\n\n  while (nodeIdx < nodes.length) {\n    var subgraphNodes = nodes.filter(function (n) {\n      return node2Idx[n.id] >= nodeIdx;\n    });\n    var sccs = detectStrongConnectComponents({\n      nodes: subgraphNodes,\n      edges: graphData.edges\n    }).filter(function (component) {\n      return component.length > 1;\n    });\n    if (sccs.length === 0) break;\n    var scc = getMinComponentAdj(sccs);\n    var minIdx = scc.minIdx,\n        adjList = scc.adjList,\n        component = scc.component;\n\n    if (component.length > 1) {\n      component.forEach(function (node) {\n        B[node.id] = new Set();\n      });\n      var startNode = idx2Node[minIdx]; // startNode \n\n      if (nodeIds && include && nodeIds.indexOf(startNode.id) === -1) return allCycles;\n      circuit(startNode, startNode, adjList);\n      nodeIdx = minIdx + 1;\n    } else {\n      break;\n    }\n  }\n\n  return allCycles;\n};\n/**\n * \n * @param graph\n * @param directed \n * @param nodeIds  ID \n * @param include \n * @return [{[key: string]: Node}] Objectkeyidvalue\n */\n\nexport var detectAllCycles = function detectAllCycles(graphData, directed, nodeIds, include) {\n  if (include === void 0) {\n    include = true;\n  }\n\n  if (directed) return detectAllDirectedCycle(graphData, nodeIds, include);\n  return detectAllUndirectedCycle(graphData, nodeIds, include);\n};\nexport default detectDirectedCycle;","import { __spreadArray } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { getOutEdgesNodeId, getEdgesByNodeId } from './util';\n\nvar minVertex = function minVertex(D, nodes, marks) {\n  // \n  var minDis = Infinity;\n  var minNode;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var nodeId = nodes[i].id;\n\n    if (!marks[nodeId] && D[nodeId] <= minDis) {\n      minDis = D[nodeId];\n      minNode = nodes[i];\n    }\n  }\n\n  return minNode;\n};\n\nvar dijkstra = function dijkstra(graphData, source, directed, weightPropertyName) {\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodeIds = [];\n  var marks = {};\n  var D = {};\n  var prevs = {}; // key: , value: \n\n  nodes.forEach(function (node, i) {\n    var id = node.id;\n    nodeIds.push(id);\n    D[id] = Infinity;\n    if (id === source) D[id] = 0;\n  });\n  var nodeNum = nodes.length;\n\n  var _loop_1 = function _loop_1(i) {\n    // Process the vertices\n    var minNode = minVertex(D, nodes, marks);\n    var minNodeId = minNode.id;\n    marks[minNodeId] = true;\n    if (D[minNodeId] === Infinity) return \"continue\"; // Unreachable vertices cannot be the intermediate point\n\n    var relatedEdges = [];\n    if (directed) relatedEdges = getOutEdgesNodeId(minNodeId, edges);else relatedEdges = getEdgesByNodeId(minNodeId, edges);\n    relatedEdges.forEach(function (edge) {\n      var edgeTarget = edge.target;\n      var edgeSource = edge.source;\n      var w = edgeTarget === minNodeId ? edgeSource : edgeTarget;\n      var weight = weightPropertyName && edge[weightPropertyName] ? edge[weightPropertyName] : 1;\n\n      if (D[w] > D[minNode.id] + weight) {\n        D[w] = D[minNode.id] + weight;\n        prevs[w] = [minNode.id];\n      } else if (D[w] === D[minNode.id] + weight) {\n        prevs[w].push(minNode.id);\n      }\n    });\n  };\n\n  for (var i = 0; i < nodeNum; i++) {\n    _loop_1(i);\n  }\n\n  prevs[source] = [source]; // \n\n  var paths = {};\n\n  for (var target in D) {\n    if (D[target] !== Infinity) {\n      findAllPaths(source, target, prevs, paths);\n    }\n  } // \n\n\n  var path = {};\n\n  for (var target in paths) {\n    path[target] = paths[target][0];\n  }\n\n  return {\n    length: D,\n    path: path,\n    allPath: paths\n  };\n};\n\nexport default dijkstra;\n\nfunction findAllPaths(source, target, prevs, foundPaths) {\n  if (source === target) {\n    return [source];\n  }\n\n  if (foundPaths[target]) {\n    return foundPaths[target];\n  }\n\n  var paths = [];\n\n  for (var _i = 0, _a = prevs[target]; _i < _a.length; _i++) {\n    var prev = _a[_i];\n    var prevPaths = findAllPaths(source, prev, prevs, foundPaths);\n    if (!prevPaths) return;\n\n    for (var _b = 0, prevPaths_1 = prevPaths; _b < prevPaths_1.length; _b++) {\n      var prePath = prevPaths_1[_b];\n      if (isArray(prePath)) paths.push(__spreadArray(__spreadArray([], prePath, true), [target], false));else paths.push([prePath, target]);\n    }\n  }\n\n  foundPaths[target] = paths;\n  return foundPaths[target];\n}","import dijkstra from './dijkstra';\nimport { getNeighbors } from './util';\nexport var findShortestPath = function findShortestPath(graphData, start, end, directed, weightPropertyName) {\n  var _a = dijkstra(graphData, start, directed, weightPropertyName),\n      length = _a.length,\n      path = _a.path,\n      allPath = _a.allPath;\n\n  return {\n    length: length[end],\n    path: path[end],\n    allPath: allPath[end]\n  };\n};\nexport var findAllPath = function findAllPath(graphData, start, end, directed) {\n  var _a;\n\n  if (start === end) return [[start]];\n  var _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var visited = [start];\n  var isVisited = (_a = {}, _a[start] = true, _a);\n  var stack = []; // \n\n  var allPath = [];\n  var neighbors = directed ? getNeighbors(start, edges, 'target') : getNeighbors(start, edges);\n  stack.push(neighbors);\n\n  while (visited.length > 0 && stack.length > 0) {\n    var children = stack[stack.length - 1];\n\n    if (children.length) {\n      var child = children.shift();\n\n      if (child) {\n        visited.push(child);\n        isVisited[child] = true;\n        neighbors = directed ? getNeighbors(child, edges, 'target') : getNeighbors(child, edges);\n        stack.push(neighbors.filter(function (neighbor) {\n          return !isVisited[neighbor];\n        }));\n      }\n    } else {\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n      continue;\n    }\n\n    if (visited[visited.length - 1] === end) {\n      var path = visited.map(function (node) {\n        return node;\n      });\n      allPath.push(path);\n      var node = visited.pop();\n      isVisited[node] = false;\n      stack.pop();\n    }\n  }\n\n  return allPath;\n};","export var DistanceType;\n\n(function (DistanceType) {\n  DistanceType[\"EuclideanDistance\"] = \"euclideanDistance\";\n})(DistanceType || (DistanceType = {}));","import getAdjMatrix from \"./adjacent-matrix\";\n\nvar floydWarshall = function floydWarshall(graphData, directed) {\n  var adjacentMatrix = getAdjMatrix(graphData, directed);\n  var dist = [];\n  var size = adjacentMatrix.length;\n\n  for (var i = 0; i < size; i += 1) {\n    dist[i] = [];\n\n    for (var j = 0; j < size; j += 1) {\n      if (i === j) {\n        dist[i][j] = 0;\n      } else if (adjacentMatrix[i][j] === 0 || !adjacentMatrix[i][j]) {\n        dist[i][j] = Infinity;\n      } else {\n        dist[i][j] = adjacentMatrix[i][j];\n      }\n    }\n  } // floyd\n\n\n  for (var k = 0; k < size; k += 1) {\n    for (var i = 0; i < size; i += 1) {\n      for (var j = 0; j < size; j += 1) {\n        if (dist[i][j] > dist[i][k] + dist[k][j]) {\n          dist[i][j] = dist[i][k] + dist[k][j];\n        }\n      }\n    }\n  }\n\n  return dist;\n};\n\nexport default floydWarshall;","import getAdjMatrix from './adjacent-matrix';\nimport { uniqueId } from './util';\n/**\n * \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param maxIteration \n */\n\nvar labelPropagation = function labelPropagation(graphData, directed, weightPropertyName, maxIteration) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (maxIteration === void 0) {\n    maxIteration = 1000;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = uniqueId();\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {};\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n    });\n    ks.push(k);\n  });\n  var iter = 0;\n\n  var _loop_1 = function _loop_1() {\n    var changed = false;\n    nodes.forEach(function (node) {\n      var neighborClusters = {};\n      Object.keys(neighbors[node.id]).forEach(function (neighborId) {\n        var neighborWeight = neighbors[node.id][neighborId];\n        var neighborNode = nodeMap[neighborId].node;\n        var neighborClusterId = neighborNode.clusterId;\n        if (!neighborClusters[neighborClusterId]) neighborClusters[neighborClusterId] = 0;\n        neighborClusters[neighborClusterId] += neighborWeight;\n      }); // find the cluster with max weight\n\n      var maxWeight = -Infinity;\n      var bestClusterIds = [];\n      Object.keys(neighborClusters).forEach(function (clusterId) {\n        if (maxWeight < neighborClusters[clusterId]) {\n          maxWeight = neighborClusters[clusterId];\n          bestClusterIds = [clusterId];\n        } else if (maxWeight === neighborClusters[clusterId]) {\n          bestClusterIds.push(clusterId);\n        }\n      });\n      if (bestClusterIds.length === 1 && bestClusterIds[0] === node.clusterId) return;\n      var selfClusterIdx = bestClusterIds.indexOf(node.clusterId);\n      if (selfClusterIdx >= 0) bestClusterIds.splice(selfClusterIdx, 1);\n\n      if (bestClusterIds && bestClusterIds.length) {\n        changed = true; // remove from origin cluster\n\n        var selfCluster = clusters[node.clusterId];\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node);\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // move the node to the best cluster\n\n        var randomIdx = Math.floor(Math.random() * bestClusterIds.length);\n        var bestCluster = clusters[bestClusterIds[randomIdx]];\n        bestCluster.nodes.push(node);\n        node.clusterId = bestCluster.id;\n      }\n    });\n    if (!changed) return \"break\";\n    iter++;\n  };\n\n  while (iter < maxIteration) {\n    var state_1 = _loop_1();\n\n    if (state_1 === \"break\") break;\n  } // delete the empty clusters\n\n\n  Object.keys(clusters).forEach(function (clusterId) {\n    var cluster = clusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete clusters[clusterId];\n    }\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(clusters).forEach(function (clusterId) {\n    clustersArray.push(clusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default labelPropagation;","/**\n * \n */\nimport { clone } from '@antv/util';\n\nvar Vector =\n/** @class */\nfunction () {\n  function Vector(arr) {\n    this.arr = arr;\n  }\n\n  Vector.prototype.getArr = function () {\n    return this.arr || [];\n  };\n\n  Vector.prototype.add = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return new Vector(otherArr);\n    }\n\n    if (!(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return new Vector(this.arr);\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = [];\n\n      for (var index in this.arr) {\n        res[index] = this.arr[index] + otherArr[index];\n      }\n\n      return new Vector(res);\n    }\n  };\n\n  Vector.prototype.subtract = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return new Vector(otherArr);\n    }\n\n    if (!(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return new Vector(this.arr);\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = [];\n\n      for (var index in this.arr) {\n        res[index] = this.arr[index] - otherArr[index];\n      }\n\n      return new Vector(res);\n    }\n  };\n\n  Vector.prototype.avg = function (length) {\n    var res = [];\n\n    if (length !== 0) {\n      for (var index in this.arr) {\n        res[index] = this.arr[index] / length;\n      }\n    }\n\n    return new Vector(res);\n  };\n\n  Vector.prototype.negate = function () {\n    var res = [];\n\n    for (var index in this.arr) {\n      res[index] = -this.arr[index];\n    }\n\n    return new Vector(res);\n  }; // \n\n\n  Vector.prototype.squareEuclideanDistance = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += Math.pow(this.arr[index] - otherVector.arr[index], 2);\n      }\n\n      return res;\n    }\n  }; // \n\n\n  Vector.prototype.euclideanDistance = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += Math.pow(this.arr[index] - otherVector.arr[index], 2);\n      }\n\n      return Math.sqrt(res);\n    } else {\n      console.error('The two vectors are unequal in length.');\n    }\n  }; // \n\n\n  Vector.prototype.normalize = function () {\n    var res = [];\n    var cloneArr = clone(this.arr);\n    cloneArr.sort(function (a, b) {\n      return a - b;\n    });\n    var max = cloneArr[cloneArr.length - 1];\n    var min = cloneArr[0];\n\n    for (var index in this.arr) {\n      res[index] = (this.arr[index] - min) / (max - min);\n    }\n\n    return new Vector(res);\n  }; // 2 or \n\n\n  Vector.prototype.norm2 = function () {\n    var _a;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length)) {\n      return 0;\n    }\n\n    var res = 0;\n\n    for (var index in this.arr) {\n      res += Math.pow(this.arr[index], 2);\n    }\n\n    return Math.sqrt(res);\n  }; // \n\n\n  Vector.prototype.dot = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (!((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) || !(otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return 0;\n    }\n\n    if (this.arr.length === otherArr.length) {\n      var res = 0;\n\n      for (var index in this.arr) {\n        res += this.arr[index] * otherVector.arr[index];\n      }\n\n      return res;\n    } else {\n      console.error('The two vectors are unequal in length.');\n    }\n  }; // \n\n\n  Vector.prototype.equal = function (otherVector) {\n    var _a;\n\n    var otherArr = otherVector.arr;\n\n    if (((_a = this.arr) === null || _a === void 0 ? void 0 : _a.length) !== (otherArr === null || otherArr === void 0 ? void 0 : otherArr.length)) {\n      return false;\n    }\n\n    for (var index in this.arr) {\n      if (this.arr[index] !== otherArr[index]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return Vector;\n}();\n\nexport default Vector;","import { secondReg, dateReg } from '../constants/time'; // \n\nexport var getAllSortProperties = function getAllSortProperties(nodes, n) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  if (n === void 0) {\n    n = 100;\n  }\n\n  var propertyKeyInfo = {};\n  nodes.forEach(function (node) {\n    if (!node.properties) {\n      return;\n    }\n\n    Object.keys(node.properties).forEach(function (propertyKey) {\n      // , todo: one-hotembedding\n      if (propertyKey === 'id' || !\"\".concat(node.properties[propertyKey]).match(secondReg) && !\"\".concat(node.properties[propertyKey]).match(dateReg) && isNaN(Number(node.properties[propertyKey]))) {\n        if (propertyKeyInfo.hasOwnProperty(propertyKey)) {\n          delete propertyKeyInfo[propertyKey];\n        }\n\n        return;\n      }\n\n      if (propertyKeyInfo.hasOwnProperty(propertyKey)) {\n        propertyKeyInfo[propertyKey] += 1;\n      } else {\n        propertyKeyInfo[propertyKey] = 1;\n      }\n    });\n  }); // top50\n\n  var sortKeys = Object.keys(propertyKeyInfo).sort(function (a, b) {\n    return propertyKeyInfo[b] - propertyKeyInfo[a];\n  });\n  return sortKeys.length < n ? sortKeys : sortKeys.slice(0, n);\n};\n\nvar processProperty = function processProperty(properties, propertyKeys) {\n  return propertyKeys.map(function (key) {\n    if (properties.hasOwnProperty(key)) {\n      // \n      if (!isNaN(Number(properties[key]))) {\n        return Number(properties[key]);\n      } // \n\n\n      if (properties[key].match(secondReg) || properties[key].match(dateReg)) {\n        // @ts-ignore\n        return Number(Date.parse(new Date(properties[key]))) / 1000;\n      }\n    }\n\n    return 0;\n  });\n}; // \n\n\nexport var getPropertyWeight = function getPropertyWeight(nodes) {\n  var propertyKeys = getAllSortProperties(nodes);\n  var allPropertiesWeight = [];\n\n  for (var i = 0; i < nodes.length; i++) {\n    allPropertiesWeight[i] = processProperty(nodes[i].properties, propertyKeys);\n  }\n\n  return allPropertiesWeight;\n}; // \n\nexport var getAllProperties = function getAllProperties(nodes, key) {\n  if (key === void 0) {\n    key = undefined;\n  }\n\n  var allProperties = [];\n  nodes.forEach(function (node) {\n    if (key === undefined) {\n      allProperties.push(node);\n    }\n\n    if (node[key] !== undefined) {\n      allProperties.push(node[key]);\n    }\n  });\n  return allProperties;\n};\nexport default {\n  getAllSortProperties: getAllSortProperties,\n  getPropertyWeight: getPropertyWeight,\n  getAllProperties: getAllProperties\n};","import { uniq } from '@antv/util';\nimport { DistanceType } from '../types';\nimport Vector from './vector';\n/**\n * \n * @param dataList \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nexport var getAllKeyValueMap = function getAllKeyValueMap(dataList, involvedKeys, uninvolvedKeys) {\n  var keys = []; // keyskeys\n\n  if (involvedKeys === null || involvedKeys === void 0 ? void 0 : involvedKeys.length) {\n    keys = involvedKeys;\n  } else {\n    // keyskey\n    dataList.forEach(function (data) {\n      keys = keys.concat(Object.keys(data));\n    });\n    keys = uniq(keys);\n  } // keyvalue\n\n\n  var allKeyValueMap = {};\n  keys.forEach(function (key) {\n    var value = [];\n    dataList.forEach(function (data) {\n      if (data[key] !== undefined && data[key] !== '') {\n        value.push(data[key]);\n      }\n    });\n\n    if (value.length && !(uninvolvedKeys === null || uninvolvedKeys === void 0 ? void 0 : uninvolvedKeys.includes(key))) {\n      allKeyValueMap[key] = uniq(value);\n    }\n  });\n  return allKeyValueMap;\n};\n/**\n * one-hot\n * @param dataList \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nexport var oneHot = function oneHot(dataList, involvedKeys, uninvolvedKeys) {\n  // \n  var allKeyValueMap = getAllKeyValueMap(dataList, involvedKeys, uninvolvedKeys);\n  var oneHotCode = [];\n\n  if (!Object.keys(allKeyValueMap).length) {\n    return oneHotCode;\n  } // one-hot\n\n\n  dataList.forEach(function (data, index) {\n    var code = [];\n\n    if (Object.keys(allKeyValueMap).length === 1) {\n      // \n      var key = Object.keys(allKeyValueMap)[0];\n      var keyValue = allKeyValueMap[key];\n\n      if (keyValue.every(function (value) {\n        return !isNaN(Number(value));\n      })) {\n        code = [data[key]];\n      }\n    } else {\n      Object.keys(allKeyValueMap).forEach(function (key) {\n        var keyValue = data[key];\n        var allKeyValue = allKeyValueMap[key];\n        var valueIndex = allKeyValue.findIndex(function (value) {\n          return keyValue === value;\n        });\n        var subCode = [];\n\n        for (var i = 0; i < allKeyValue.length; i++) {\n          if (i === valueIndex) {\n            subCode.push(1);\n          } else {\n            subCode.push(0);\n          }\n        }\n\n        code = code.concat(subCode);\n      });\n    }\n\n    oneHotCode[index] = code;\n  });\n  return oneHotCode;\n};\n/**\n * getDistance\n * @param item\n * @param otherItem\n * @param distanceType \n * @param graphData \n */\n\nexport var getDistance = function getDistance(item, otherItem, distanceType, graphData) {\n  if (distanceType === void 0) {\n    distanceType = DistanceType.EuclideanDistance;\n  }\n\n  var distance = 0;\n\n  switch (distanceType) {\n    case DistanceType.EuclideanDistance:\n      distance = new Vector(item).euclideanDistance(new Vector(otherItem));\n      break;\n\n    default:\n      break;\n  }\n\n  return distance;\n};\nexport default {\n  getAllKeyValueMap: getAllKeyValueMap,\n  oneHot: oneHot,\n  getDistance: getDistance\n};","import { clone } from '@antv/util';\nimport getAdjMatrix from './adjacent-matrix';\nimport Vector from './utils/vector';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot } from './utils/data-preprocessing';\n\nvar getModularity = function getModularity(nodes, adjMatrix, ks, m) {\n  var length = adjMatrix.length;\n  var param = 2 * m;\n  var modularity = 0;\n\n  for (var i = 0; i < length; i++) {\n    var clusteri = nodes[i].clusterId;\n\n    for (var j = 0; j < length; j++) {\n      var clusterj = nodes[j].clusterId;\n      if (clusteri !== clusterj) continue;\n      var entry = adjMatrix[i][j] || 0;\n      var ki = ks[i] || 0;\n      var kj = ks[j] || 0;\n      modularity += entry - ki * kj / param;\n    }\n  }\n\n  modularity *= 1 / param;\n  return modularity;\n}; // \n\n\nvar getInertialModularity = function getInertialModularity(nodes, allPropertiesWeight) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  var length = nodes.length;\n  var totalProperties = new Vector([]);\n\n  for (var i = 0; i < length; i++) {\n    totalProperties = totalProperties.add(new Vector(allPropertiesWeight[i]));\n  } // \n\n\n  var avgProperties = totalProperties.avg(length);\n  avgProperties.normalize(); // : v\n\n  var variance = 0;\n\n  for (var i = 0; i < length; i++) {\n    var propertiesi = new Vector(allPropertiesWeight[i]);\n    var squareEuclideanDistance = propertiesi.squareEuclideanDistance(avgProperties);\n    variance += squareEuclideanDistance;\n  } // \n\n\n  var squareEuclideanDistanceInfo = [];\n  nodes.forEach(function () {\n    squareEuclideanDistanceInfo.push([]);\n  });\n\n  for (var i = 0; i < length; i++) {\n    var propertiesi = new Vector(allPropertiesWeight[i]);\n    nodes[i]['clusterInertial'] = 0;\n\n    for (var j = 0; j < length; j++) {\n      if (i === j) {\n        squareEuclideanDistanceInfo[i][j] = 0;\n        continue;\n      }\n\n      var propertiesj = new Vector(allPropertiesWeight[j]);\n      squareEuclideanDistanceInfo[i][j] = propertiesi.squareEuclideanDistance(propertiesj);\n      nodes[i]['clusterInertial'] += squareEuclideanDistanceInfo[i][j];\n    }\n  } // \n\n\n  var inertialModularity = 0;\n  var param = 2 * length * variance;\n\n  for (var i = 0; i < length; i++) {\n    var clusteri = nodes[i].clusterId;\n\n    for (var j = 0; j < length; j++) {\n      var clusterj = nodes[j].clusterId;\n      if (i === j || clusteri !== clusterj) continue;\n      var inertial = nodes[i].clusterInertial * nodes[j].clusterInertial / Math.pow(param, 2) - squareEuclideanDistanceInfo[i][j] / param;\n      inertialModularity += inertial;\n    }\n  }\n\n  return Number(inertialModularity.toFixed(4));\n};\n/**\n *  louvain \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param threshold \n * @param inertialModularity \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param inertialWeight \n */\n\n\nvar louvain = function louvain(graphData, directed, weightPropertyName, threshold, inertialModularity, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.0001;\n  }\n\n  if (inertialModularity === void 0) {\n    inertialModularity = false;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (inertialWeight === void 0) {\n    inertialWeight = 1;\n  } // the origin data\n\n\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var allPropertiesWeight = [];\n\n  if (inertialModularity) {\n    nodes.forEach(function (node, index) {\n      node.properties = node.properties || {};\n      node.originIndex = index;\n    });\n    var nodeTypeInfo_1 = [];\n\n    if (nodes.every(function (node) {\n      return node.hasOwnProperty('nodeType');\n    })) {\n      nodeTypeInfo_1 = Array.from(new Set(nodes.map(function (node) {\n        return node.nodeType;\n      })));\n      nodes.forEach(function (node) {\n        node.properties.nodeType = nodeTypeInfo_1.findIndex(function (nodeType) {\n          return nodeType === node.nodeType;\n        });\n      });\n    } // \n\n\n    var properties = getAllProperties(nodes, propertyKey); // one-hot\n\n    allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys);\n  }\n\n  var uniqueId = 1;\n  var clusters = {};\n  var nodeMap = {}; // init the clusters and nodeMap\n\n  nodes.forEach(function (node, i) {\n    var cid = String(uniqueId++);\n    node.clusterId = cid;\n    clusters[cid] = {\n      id: cid,\n      nodes: [node]\n    };\n    nodeMap[node.id] = {\n      node: node,\n      idx: i\n    };\n  }); // the adjacent matrix of calNodes inside clusters\n\n  var adjMatrix = getAdjMatrix(graphData, directed); // the sum of each row in adjacent matrix\n\n  var ks = [];\n  /**\n   * neighbor nodes (id for key and weight for value) for each node\n   * neighbors = {\n   *  id(node_id): { id(neighbor_1_id): weight(weight of the edge), id(neighbor_2_id): weight(weight of the edge), ... },\n   *  ...\n   * }\n   */\n\n  var neighbors = {}; // the sum of the weights of all edges in the graph\n\n  var m = 0;\n  adjMatrix.forEach(function (row, i) {\n    var k = 0;\n    var iid = nodes[i].id;\n    neighbors[iid] = {};\n    row.forEach(function (entry, j) {\n      if (!entry) return;\n      k += entry;\n      var jid = nodes[j].id;\n      neighbors[iid][jid] = entry;\n      m += entry;\n    });\n    ks.push(k);\n  });\n  m /= 2;\n  var totalModularity = Infinity;\n  var previousModularity = Infinity;\n  var iter = 0;\n  var finalNodes = [];\n  var finalClusters = {};\n\n  while (true) {\n    if (inertialModularity && nodes.every(function (node) {\n      return node.hasOwnProperty('properties');\n    })) {\n      totalModularity = getModularity(nodes, adjMatrix, ks, m) + getInertialModularity(nodes, allPropertiesWeight) * inertialWeight;\n    } else {\n      totalModularity = getModularity(nodes, adjMatrix, ks, m);\n    } // previousModularity\n\n\n    if (iter === 0) {\n      previousModularity = totalModularity;\n      finalNodes = nodes;\n      finalClusters = clusters;\n    }\n\n    var increaseWithinThreshold = totalModularity > 0 && totalModularity > previousModularity && totalModularity - previousModularity < threshold; // \n\n    if (totalModularity > previousModularity) {\n      finalNodes = nodes.map(function (node) {\n        return {\n          node: node,\n          clusterId: node.clusterId\n        };\n      });\n      finalClusters = clone(clusters);\n      previousModularity = totalModularity;\n    } // whether to terminate the iterations\n\n\n    if (increaseWithinThreshold || iter > 100) {\n      break;\n    }\n\n    ;\n    iter++; // pre compute some values for current clusters\n\n    Object.keys(clusters).forEach(function (clusterId) {\n      // sum of weights of edges to nodes in cluster\n      var sumTot = 0;\n      edges.forEach(function (edge) {\n        var source = edge.source,\n            target = edge.target;\n        var sourceClusterId = nodeMap[source].node.clusterId;\n        var targetClusterId = nodeMap[target].node.clusterId;\n\n        if (sourceClusterId === clusterId && targetClusterId !== clusterId || targetClusterId === clusterId && sourceClusterId !== clusterId) {\n          sumTot = sumTot + (edge[weightPropertyName] || 1);\n        }\n      });\n      clusters[clusterId].sumTot = sumTot;\n    }); // move the nodes to increase the delta modularity\n\n    nodes.forEach(function (node, i) {\n      var selfCluster = clusters[node.clusterId];\n      var bestIncrease = 0;\n      var bestCluster;\n      var commonParam = ks[i] / (2 * m); // sum of weights of edges from node to nodes in cluster\n\n      var kiin = 0;\n      var selfClusterNodes = selfCluster.nodes;\n      selfClusterNodes.forEach(function (scNode) {\n        var scNodeIdx = nodeMap[scNode.id].idx;\n        kiin += adjMatrix[i][scNodeIdx] || 0;\n      }); // the modurarity for **removing** the node i from the origin cluster of node i\n\n      var removeModurarity = kiin - selfCluster.sumTot * commonParam; // nodes for **removing** node i into this neighbor cluster\n\n      var selfClusterNodesAfterRemove = selfClusterNodes.filter(function (scNode) {\n        return scNode.id !== node.id;\n      });\n      var propertiesWeightRemove = [];\n      selfClusterNodesAfterRemove.forEach(function (nodeRemove, index) {\n        propertiesWeightRemove[index] = allPropertiesWeight[nodeRemove.originIndex];\n      }); // the inertialModularity for **removing** the node i from the origin cluster of node i\n\n      var removeInertialModularity = getInertialModularity(selfClusterNodesAfterRemove, allPropertiesWeight) * inertialWeight; // the neightbors of the node\n\n      var nodeNeighborIds = neighbors[node.id];\n      Object.keys(nodeNeighborIds).forEach(function (neighborNodeId) {\n        var neighborNode = nodeMap[neighborNodeId].node;\n        var neighborClusterId = neighborNode.clusterId; // if the node and the neighbor of node are in the same cluster, reutrn\n\n        if (neighborClusterId === node.clusterId) return;\n        var neighborCluster = clusters[neighborClusterId];\n        var clusterNodes = neighborCluster.nodes; // if the cluster is empty, remove the cluster and return\n\n        if (!clusterNodes || !clusterNodes.length) return; // sum of weights of edges from node to nodes in cluster\n\n        var neighborClusterKiin = 0;\n        clusterNodes.forEach(function (cNode) {\n          var cNodeIdx = nodeMap[cNode.id].idx;\n          neighborClusterKiin += adjMatrix[i][cNodeIdx] || 0;\n        }); // the modurarity for **adding** node i into this neighbor cluster\n\n        var addModurarity = neighborClusterKiin - neighborCluster.sumTot * commonParam; // nodes for **adding** node i into this neighbor cluster\n\n        var clusterNodesAfterAdd = clusterNodes.concat([node]);\n        var propertiesWeightAdd = [];\n        clusterNodesAfterAdd.forEach(function (nodeAdd, index) {\n          propertiesWeightAdd[index] = allPropertiesWeight[nodeAdd.originIndex];\n        }); // the inertialModularity for **adding** node i into this neighbor cluster\n\n        var addInertialModularity = getInertialModularity(clusterNodesAfterAdd, allPropertiesWeight) * inertialWeight; // the increase modurarity is the difference between addModurarity and removeModurarity\n\n        var increase = addModurarity - removeModurarity;\n\n        if (inertialModularity) {\n          increase = addModurarity + addInertialModularity - (removeModurarity + removeInertialModularity);\n        } // find the best cluster to move node i into\n\n\n        if (increase > bestIncrease) {\n          bestIncrease = increase;\n          bestCluster = neighborCluster;\n        }\n      }); // if found a best cluster to move into\n\n      if (bestIncrease > 0) {\n        bestCluster.nodes.push(node);\n        var previousClusterId_1 = node.clusterId;\n        node.clusterId = bestCluster.id; // move the node to the best cluster\n\n        var nodeInSelfClusterIdx = selfCluster.nodes.indexOf(node); // remove from origin cluster\n\n        selfCluster.nodes.splice(nodeInSelfClusterIdx, 1); // update sumTot for clusters\n        // sum of weights of edges to nodes in cluster\n\n        var neighborClusterSumTot_1 = 0;\n        var selfClusterSumTot_1 = 0;\n        edges.forEach(function (edge) {\n          var source = edge.source,\n              target = edge.target;\n          var sourceClusterId = nodeMap[source].node.clusterId;\n          var targetClusterId = nodeMap[target].node.clusterId;\n\n          if (sourceClusterId === bestCluster.id && targetClusterId !== bestCluster.id || targetClusterId === bestCluster.id && sourceClusterId !== bestCluster.id) {\n            neighborClusterSumTot_1 = neighborClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n\n          if (sourceClusterId === previousClusterId_1 && targetClusterId !== previousClusterId_1 || targetClusterId === previousClusterId_1 && sourceClusterId !== previousClusterId_1) {\n            selfClusterSumTot_1 = selfClusterSumTot_1 + (edge[weightPropertyName] || 1);\n          }\n        }); // the nodes of the clusters to move into and remove are changed, update their sumTot\n\n        bestCluster.sumTot = neighborClusterSumTot_1;\n        selfCluster.sumTot = selfClusterSumTot_1;\n      }\n    });\n  } // delete the empty clusters, assign increasing clusterId\n\n\n  var newClusterIdMap = {};\n  var clusterIdx = 0;\n  Object.keys(finalClusters).forEach(function (clusterId) {\n    var cluster = finalClusters[clusterId];\n\n    if (!cluster.nodes || !cluster.nodes.length) {\n      delete finalClusters[clusterId];\n      return;\n    }\n\n    var newId = String(clusterIdx + 1);\n\n    if (newId === clusterId) {\n      return;\n    }\n\n    cluster.id = newId;\n    cluster.nodes = cluster.nodes.map(function (item) {\n      return {\n        id: item.id,\n        clusterId: newId\n      };\n    });\n    finalClusters[newId] = cluster;\n    newClusterIdMap[clusterId] = newId;\n    delete finalClusters[clusterId];\n    clusterIdx++;\n  }); // restore node clusterId\n\n  finalNodes.forEach(function (nodeInfo) {\n    var node = nodeInfo.node,\n        clusterId = nodeInfo.clusterId;\n    node.clusterId = clusterId;\n    if (node.clusterId && newClusterIdMap[node.clusterId]) node.clusterId = newClusterIdMap[node.clusterId];\n  }); // get the cluster edges\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var source = edge.source,\n        target = edge.target;\n    var weight = edge[weightPropertyName] || 1;\n    var sourceClusterId = nodeMap[source].node.clusterId;\n    var targetClusterId = nodeMap[target].node.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].weight += weight;\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        weight: weight,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  var clustersArray = [];\n  Object.keys(finalClusters).forEach(function (clusterId) {\n    clustersArray.push(finalClusters[clusterId]);\n  });\n  return {\n    clusters: clustersArray,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default louvain;","import louvain from './louvain';\n/**\n *  i-louvain  + \n * @param graphData \n * @param directed  false\n * @param weightPropertyName \n * @param threshold \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param inertialWeight \n */\n\nvar iLouvain = function iLouvain(graphData, directed, weightPropertyName, threshold, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight) {\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (weightPropertyName === void 0) {\n    weightPropertyName = 'weight';\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.0001;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (inertialWeight === void 0) {\n    inertialWeight = 1;\n  }\n\n  return louvain(graphData, directed, weightPropertyName, threshold, true, propertyKey, involvedKeys, uninvolvedKeys, inertialWeight);\n};\n\nexport default iLouvain;","import { clone } from '@antv/util';\nimport degree from './degree';\n/**\n *  k-core \n * @param graphData \n * @param k \n */\n\nvar kCore = function kCore(graphData, k) {\n  var _a;\n\n  if (k === void 0) {\n    k = 1;\n  }\n\n  var data = clone(graphData);\n  var _b = data.nodes,\n      nodes = _b === void 0 ? [] : _b;\n  var _c = data.edges,\n      edges = _c === void 0 ? [] : _c;\n\n  var _loop_1 = function _loop_1() {\n    // \n    var degrees = degree({\n      nodes: nodes,\n      edges: edges\n    });\n    var nodeIds = Object.keys(degrees); // \n\n    nodeIds.sort(function (a, b) {\n      var _a, _b;\n\n      return ((_a = degrees[a]) === null || _a === void 0 ? void 0 : _a.degree) - ((_b = degrees[b]) === null || _b === void 0 ? void 0 : _b.degree);\n    });\n    var minIndexId = nodeIds[0];\n\n    if (!nodes.length || ((_a = degrees[minIndexId]) === null || _a === void 0 ? void 0 : _a.degree) >= k) {\n      return \"break\";\n    }\n\n    var originIndex = nodes.findIndex(function (node) {\n      return node.id === minIndexId;\n    }); // k\n\n    nodes.splice(originIndex, 1); // k\n\n    edges = edges.filter(function (edge) {\n      return !(edge.source === minIndexId || edge.target === minIndexId);\n    });\n  };\n\n  while (true) {\n    var state_1 = _loop_1();\n\n    if (state_1 === \"break\") break;\n  }\n\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n\nexport default kCore;","import { isEqual, uniq } from '@antv/util';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot, getDistance } from './utils/data-preprocessing';\nimport Vector from './utils/vector';\nimport { DistanceType } from './types'; // \n\nvar getCentroid = function getCentroid(distanceType, allPropertiesWeight, index) {\n  var centroid = [];\n\n  switch (distanceType) {\n    case DistanceType.EuclideanDistance:\n      centroid = allPropertiesWeight[index];\n      break;\n\n    default:\n      centroid = [];\n      break;\n  }\n\n  return centroid;\n};\n/**\n *  k-means K\n * @param data \n * @param k \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n * @param distanceType  \n */\n\n\nvar kMeans = function kMeans(data, k, propertyKey, involvedKeys, uninvolvedKeys, distanceType) {\n  if (k === void 0) {\n    k = 3;\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = ['id'];\n  }\n\n  if (distanceType === void 0) {\n    distanceType = DistanceType.EuclideanDistance;\n  }\n\n  var _a = data.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = data.edges,\n      edges = _b === void 0 ? [] : _b;\n  var defaultClusterInfo = {\n    clusters: [{\n      id: \"0\",\n      nodes: nodes\n    }],\n    clusterEdges: []\n  }; // return\n\n  if (distanceType === DistanceType.EuclideanDistance && !nodes.every(function (node) {\n    return node.hasOwnProperty(propertyKey);\n  })) {\n    return defaultClusterInfo;\n  } // \n\n\n  var properties = []; // one-hot\n\n  var allPropertiesWeight = [];\n\n  if (distanceType === DistanceType.EuclideanDistance) {\n    properties = getAllProperties(nodes, propertyKey);\n    allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys);\n  }\n\n  if (!allPropertiesWeight.length) {\n    return defaultClusterInfo;\n  }\n\n  var allPropertiesWeightUniq = uniq(allPropertiesWeight.map(function (item) {\n    return item.join('');\n  })); // kk\n\n  var finalK = Math.min(k, nodes.length, allPropertiesWeightUniq.length); // indexallPropertiesWeight\n\n  for (var i = 0; i < nodes.length; i++) {\n    nodes[i].originIndex = i;\n  } // \n\n\n  var centroids = [];\n  var centroidIndexList = [];\n  var clusters = [];\n\n  for (var i = 0; i < finalK; i++) {\n    if (i === 0) {\n      // \n      var randomIndex = Math.floor(Math.random() * nodes.length);\n\n      switch (distanceType) {\n        case DistanceType.EuclideanDistance:\n          centroids[i] = allPropertiesWeight[randomIndex];\n          break;\n\n        default:\n          centroids[i] = [];\n          break;\n      }\n\n      centroidIndexList.push(randomIndex);\n      clusters[i] = [nodes[randomIndex]];\n      nodes[randomIndex].clusterId = String(i);\n    } else {\n      var maxDistance = -Infinity;\n      var maxDistanceNodeIndex = 0;\n\n      var _loop_1 = function _loop_1(m) {\n        if (!centroidIndexList.includes(m)) {\n          var totalDistance = 0;\n\n          for (var j = 0; j < centroids.length; j++) {\n            // \n            var distance = 0;\n\n            switch (distanceType) {\n              case DistanceType.EuclideanDistance:\n                distance = getDistance(allPropertiesWeight[nodes[m].originIndex], centroids[j], distanceType);\n                break;\n\n              default:\n                break;\n            }\n\n            totalDistance += distance;\n          } // \n\n\n          var avgDistance = totalDistance / centroids.length; // \n\n          if (avgDistance > maxDistance && !centroids.find(function (centroid) {\n            return isEqual(centroid, getCentroid(distanceType, allPropertiesWeight, nodes[m].originIndex));\n          })) {\n            maxDistance = avgDistance;\n            maxDistanceNodeIndex = m;\n          }\n        }\n      }; // \n\n\n      for (var m = 0; m < nodes.length; m++) {\n        _loop_1(m);\n      }\n\n      centroids[i] = getCentroid(distanceType, allPropertiesWeight, maxDistanceNodeIndex);\n      centroidIndexList.push(maxDistanceNodeIndex);\n      clusters[i] = [nodes[maxDistanceNodeIndex]];\n      nodes[maxDistanceNodeIndex].clusterId = String(i);\n    }\n  }\n\n  var iterations = 0;\n\n  while (true) {\n    for (var i = 0; i < nodes.length; i++) {\n      var minDistanceIndex = 0;\n      var minDistance = Infinity;\n\n      if (!(iterations === 0 && centroidIndexList.includes(i))) {\n        for (var j = 0; j < centroids.length; j++) {\n          // \n          var distance = 0;\n\n          switch (distanceType) {\n            case DistanceType.EuclideanDistance:\n              distance = getDistance(allPropertiesWeight[i], centroids[j], distanceType);\n              break;\n\n            default:\n              break;\n          } // \n\n\n          if (distance < minDistance) {\n            minDistance = distance;\n            minDistanceIndex = j;\n          }\n        } // \n\n\n        if (nodes[i].clusterId !== undefined) {\n          for (var n = clusters[Number(nodes[i].clusterId)].length - 1; n >= 0; n--) {\n            if (clusters[Number(nodes[i].clusterId)][n].id === nodes[i].id) {\n              clusters[Number(nodes[i].clusterId)].splice(n, 1);\n            }\n          }\n        } // \n\n\n        nodes[i].clusterId = String(minDistanceIndex);\n        clusters[minDistanceIndex].push(nodes[i]);\n      }\n    } // \n\n\n    var centroidsEqualAvg = false;\n\n    for (var i = 0; i < clusters.length; i++) {\n      var clusterNodes = clusters[i];\n      var totalVector = new Vector([]);\n\n      for (var j = 0; j < clusterNodes.length; j++) {\n        totalVector = totalVector.add(new Vector(allPropertiesWeight[clusterNodes[j].originIndex]));\n      } // \n\n\n      var avgVector = totalVector.avg(clusterNodes.length); // \n\n      if (!avgVector.equal(new Vector(centroids[i]))) {\n        centroidsEqualAvg = true; // /\n\n        centroids[i] = avgVector.getArr();\n      }\n    }\n\n    iterations++; // 1000\n\n    if (nodes.every(function (node) {\n      return node.clusterId !== undefined;\n    }) && centroidsEqualAvg || iterations >= 1000) {\n      break;\n    }\n  } // get the cluster edges\n\n\n  var clusterEdges = [];\n  var clusterEdgeMap = {};\n  edges.forEach(function (edge) {\n    var _a, _b;\n\n    var source = edge.source,\n        target = edge.target;\n    var sourceClusterId = (_a = nodes.find(function (node) {\n      return node.id === source;\n    })) === null || _a === void 0 ? void 0 : _a.clusterId;\n    var targetClusterId = (_b = nodes.find(function (node) {\n      return node.id === target;\n    })) === null || _b === void 0 ? void 0 : _b.clusterId;\n    var newEdgeId = \"\".concat(sourceClusterId, \"---\").concat(targetClusterId);\n\n    if (clusterEdgeMap[newEdgeId]) {\n      clusterEdgeMap[newEdgeId].count++;\n    } else {\n      var newEdge = {\n        source: sourceClusterId,\n        target: targetClusterId,\n        count: 1\n      };\n      clusterEdgeMap[newEdgeId] = newEdge;\n      clusterEdges.push(newEdge);\n    }\n  });\n  return {\n    clusters: clusters,\n    clusterEdges: clusterEdges\n  };\n};\n\nexport default kMeans;","import Vector from './utils/vector';\n/**\n * cosine-similarity \n * @param item \n * @param targetItem \n */\n\nvar cosineSimilarity = function cosineSimilarity(item, targetItem) {\n  // \n  var targetItemVector = new Vector(targetItem); // \n\n  var targetNodeNorm2 = targetItemVector.norm2(); // \n\n  var itemVector = new Vector(item); // \n\n  var itemNorm2 = itemVector.norm2(); // \n\n  var dot = targetItemVector.dot(itemVector);\n  var norm2Product = targetNodeNorm2 * itemNorm2; // \n\n  var cosineSimilarity = norm2Product ? dot / norm2Product : 0;\n  return cosineSimilarity;\n};\n\nexport default cosineSimilarity;","import { clone } from '@antv/util';\nimport { getAllProperties } from './utils/node-properties';\nimport { oneHot } from './utils/data-preprocessing';\nimport cosineSimilarity from './cosine-similarity';\n/**\n *  nodes-cosine-similarity ()\n * @param nodes \n * @param seedNode \n * @param propertyKey \n * @param involvedKeys key\n * @param uninvolvedKeys key\n */\n\nvar nodesCosineSimilarity = function nodesCosineSimilarity(nodes, seedNode, propertyKey, involvedKeys, uninvolvedKeys) {\n  if (nodes === void 0) {\n    nodes = [];\n  }\n\n  if (propertyKey === void 0) {\n    propertyKey = undefined;\n  }\n\n  if (involvedKeys === void 0) {\n    involvedKeys = [];\n  }\n\n  if (uninvolvedKeys === void 0) {\n    uninvolvedKeys = [];\n  }\n\n  var similarNodes = clone(nodes.filter(function (node) {\n    return node.id !== seedNode.id;\n  }));\n  var seedNodeIndex = nodes.findIndex(function (node) {\n    return node.id === seedNode.id;\n  }); // \n\n  var properties = getAllProperties(nodes, propertyKey); // one-hot\n\n  var allPropertiesWeight = oneHot(properties, involvedKeys, uninvolvedKeys); // \n\n  var seedNodeProperties = allPropertiesWeight[seedNodeIndex];\n  var allCosineSimilarity = [];\n  similarNodes.forEach(function (node, index) {\n    if (node.id !== seedNode.id) {\n      // \n      var nodeProperties = allPropertiesWeight[index]; // \n\n      var cosineSimilarityValue = cosineSimilarity(nodeProperties, seedNodeProperties);\n      allCosineSimilarity.push(cosineSimilarityValue);\n      node.cosineSimilarity = cosineSimilarityValue;\n    }\n  }); // \n\n  similarNodes.sort(function (a, b) {\n    return b.cosineSimilarity - a.cosineSimilarity;\n  });\n  return {\n    allCosineSimilarity: allCosineSimilarity,\n    similarNodes: similarNodes\n  };\n};\n\nexport default nodesCosineSimilarity;","/**\n *  Disjoint set to support quick union\n */\nvar UnionFind =\n/** @class */\nfunction () {\n  function UnionFind(items) {\n    this.count = items.length;\n    this.parent = {};\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var i = items_1[_i];\n      this.parent[i] = i;\n    }\n  } // find the root of the item\n\n\n  UnionFind.prototype.find = function (item) {\n    while (this.parent[item] !== item) {\n      item = this.parent[item];\n    }\n\n    return item;\n  };\n\n  UnionFind.prototype.union = function (a, b) {\n    var rootA = this.find(a);\n    var rootB = this.find(b);\n    if (rootA === rootB) return; // make the element with smaller root the parent\n\n    if (rootA < rootB) {\n      if (this.parent[b] !== b) this.union(this.parent[b], a);\n      this.parent[b] = this.parent[a];\n    } else {\n      if (this.parent[a] !== a) this.union(this.parent[a], b);\n      this.parent[a] = this.parent[b];\n    }\n  }; // whether a and b are connected, i.e. a and b have the same root\n\n\n  UnionFind.prototype.connected = function (a, b) {\n    return this.find(a) === this.find(b);\n  };\n\n  return UnionFind;\n}();\n\nexport default UnionFind;","var defaultCompare = function defaultCompare(a, b) {\n  return a - b;\n};\n\nvar MinBinaryHeap =\n/** @class */\nfunction () {\n  function MinBinaryHeap(compareFn) {\n    if (compareFn === void 0) {\n      compareFn = defaultCompare;\n    }\n\n    this.compareFn = compareFn;\n    this.list = [];\n  }\n\n  MinBinaryHeap.prototype.getLeft = function (index) {\n    return 2 * index + 1;\n  };\n\n  MinBinaryHeap.prototype.getRight = function (index) {\n    return 2 * index + 2;\n  };\n\n  MinBinaryHeap.prototype.getParent = function (index) {\n    if (index === 0) {\n      return null;\n    }\n\n    return Math.floor((index - 1) / 2);\n  };\n\n  MinBinaryHeap.prototype.isEmpty = function () {\n    return this.list.length <= 0;\n  };\n\n  MinBinaryHeap.prototype.top = function () {\n    return this.isEmpty() ? undefined : this.list[0];\n  };\n\n  MinBinaryHeap.prototype.delMin = function () {\n    var top = this.top();\n    var bottom = this.list.pop();\n\n    if (this.list.length > 0) {\n      this.list[0] = bottom;\n      this.moveDown(0);\n    }\n\n    return top;\n  };\n\n  MinBinaryHeap.prototype.insert = function (value) {\n    if (value !== null) {\n      this.list.push(value);\n      var index = this.list.length - 1;\n      this.moveUp(index);\n      return true;\n    }\n\n    return false;\n  };\n\n  MinBinaryHeap.prototype.moveUp = function (index) {\n    var parent = this.getParent(index);\n\n    while (index && index > 0 && this.compareFn(this.list[parent], this.list[index]) > 0) {\n      // swap\n      var tmp = this.list[parent];\n      this.list[parent] = this.list[index];\n      this.list[index] = tmp; // [this.list[index], this.list[parent]] = [this.list[parent], this.list[index]]\n\n      index = parent;\n      parent = this.getParent(index);\n    }\n  };\n\n  MinBinaryHeap.prototype.moveDown = function (index) {\n    var _a;\n\n    var element = index;\n    var left = this.getLeft(index);\n    var right = this.getRight(index);\n    var size = this.list.length;\n\n    if (left !== null && left < size && this.compareFn(this.list[element], this.list[left]) > 0) {\n      element = left;\n    } else if (right !== null && right < size && this.compareFn(this.list[element], this.list[right]) > 0) {\n      element = right;\n    }\n\n    if (index !== element) {\n      _a = [this.list[element], this.list[index]], this.list[index] = _a[0], this.list[element] = _a[1];\n      this.moveDown(element);\n    }\n  };\n\n  return MinBinaryHeap;\n}();\n\nexport default MinBinaryHeap;","import UnionFind from './structs/union-find';\nimport MinBinaryHeap from './structs/binary-heap';\nimport { getEdgesByNodeId } from './util';\n/**\n * Prim algorithmuse priority queue O(E+V*logV), V: E: \n * refer: https://en.wikipedia.org/wiki/Prim%27s_algorithm\n * @param graph\n * @param weight \n */\n\nvar primMST = function primMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // nodes[0]\n\n\n  var currNode = nodes[0];\n  var visited = new Set();\n  visited.add(currNode); // \n\n  var compareWeight = function compareWeight(a, b) {\n    if (weight) {\n      return a.weight - b.weight;\n    }\n\n    return 0;\n  };\n\n  var edgeQueue = new MinBinaryHeap(compareWeight);\n  getEdgesByNodeId(currNode.id, edges).forEach(function (edge) {\n    edgeQueue.insert(edge);\n  });\n\n  while (!edgeQueue.isEmpty()) {\n    // \n    var currEdge = edgeQueue.delMin();\n    var source = currEdge.source;\n    var target = currEdge.target;\n    if (visited.has(source) && visited.has(target)) continue;\n    selectedEdges.push(currEdge);\n\n    if (!visited.has(source)) {\n      visited.add(source);\n      getEdgesByNodeId(source, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n\n    if (!visited.has(target)) {\n      visited.add(target);\n      getEdgesByNodeId(target, edges).forEach(function (edge) {\n        edgeQueue.insert(edge);\n      });\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * Kruskal algorithm O(E*logE), E: \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @return IEdge[] MST\n */\n\n\nvar kruskalMST = function kruskalMST(graphData, weight) {\n  var selectedEdges = [];\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n\n  if (nodes.length === 0) {\n    return selectedEdges;\n  } // weight\n\n\n  var weightEdges = edges.map(function (edge) {\n    return edge;\n  });\n\n  if (weight) {\n    weightEdges.sort(function (a, b) {\n      return a.weight - b.weight;\n    });\n  }\n\n  var disjointSet = new UnionFind(nodes.map(function (n) {\n    return n.id;\n  })); // G\n  // \n\n  while (weightEdges.length > 0) {\n    var curEdge = weightEdges.shift();\n    var source = curEdge.source;\n    var target = curEdge.target;\n\n    if (!disjointSet.connected(source, target)) {\n      selectedEdges.push(curEdge);\n      disjointSet.union(source, target);\n    }\n  }\n\n  return selectedEdges;\n};\n/**\n * \n * refer: https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\n * @param graph\n * @param weight \n * @param algo 'prim' | 'kruskal' \n * @return EdgeConfig[] MST\n */\n\n\nvar minimumSpanningTree = function minimumSpanningTree(graphData, weight, algo) {\n  var algos = {\n    prim: primMST,\n    kruskal: kruskalMST\n  };\n  if (!algo) return kruskalMST(graphData, weight);\n  return algos[algo](graphData, weight);\n};\n\nexport default minimumSpanningTree;","import degree from './degree';\nimport { getNeighbors } from \"./util\";\n/**\n * PageRank https://en.wikipedia.org/wiki/PageRank\n * refer: https://github.com/anvaka/ngraph.pagerank\n * @param graph\n * @param epsilon  0.000001\n * @param linkProb dumping factor 0.85\n */\n\nvar pageRank = function pageRank(graphData, epsilon, linkProb) {\n  if (typeof epsilon !== 'number') epsilon = 0.000001;\n  if (typeof linkProb !== 'number') linkProb = 0.85;\n  var distance = 1;\n  var leakedRank = 0;\n  var maxIterations = 1000;\n  var _a = graphData.nodes,\n      nodes = _a === void 0 ? [] : _a,\n      _b = graphData.edges,\n      edges = _b === void 0 ? [] : _b;\n  var nodesCount = nodes.length;\n  var currentRank;\n  var curRanks = {};\n  var prevRanks = {}; // Initialize pageranks \n\n  for (var j = 0; j < nodesCount; ++j) {\n    var node = nodes[j];\n    var nodeId = node.id;\n    curRanks[nodeId] = 1 / nodesCount;\n    prevRanks[nodeId] = 1 / nodesCount;\n  }\n\n  var nodeDegree = degree(graphData);\n\n  while (maxIterations > 0 && distance > epsilon) {\n    leakedRank = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = 0;\n\n      if (nodeDegree[node.id].inDegree === 0) {\n        curRanks[nodeId] = 0;\n      } else {\n        var neighbors = getNeighbors(nodeId, edges, 'source');\n\n        for (var i = 0; i < neighbors.length; ++i) {\n          var neighbor = neighbors[i];\n          var outDegree = nodeDegree[neighbor].outDegree;\n          if (outDegree > 0) currentRank += prevRanks[neighbor] / outDegree;\n        }\n\n        curRanks[nodeId] = linkProb * currentRank;\n        leakedRank += curRanks[nodeId];\n      }\n    }\n\n    leakedRank = (1 - leakedRank) / nodesCount;\n    distance = 0;\n\n    for (var j = 0; j < nodesCount; ++j) {\n      var node = nodes[j];\n      var nodeId = node.id;\n      currentRank = curRanks[nodeId] + leakedRank;\n      distance += Math.abs(currentRank - prevRanks[nodeId]);\n      prevRanks[nodeId] = currentRank;\n    }\n\n    maxIterations -= 1;\n  }\n\n  return prevRanks;\n};\n\nexport default pageRank;","export var VACANT_EDGE_ID = -1;\nexport var VACANT_NODE_ID = -1;\nexport var VACANT_EDGE_LABEL = \"-1\";\nexport var VACANT_NODE_LABEL = \"-1\";\nexport var VACANT_GRAPH_ID = -1;\nexport var AUTO_EDGE_ID = \"-1\";\n\nvar Edge =\n/** @class */\nfunction () {\n  function Edge(id, from, to, label) {\n    if (id === void 0) {\n      id = VACANT_EDGE_ID;\n    }\n\n    if (from === void 0) {\n      from = VACANT_NODE_ID;\n    }\n\n    if (to === void 0) {\n      to = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_EDGE_LABEL;\n    }\n\n    this.id = id;\n    this.from = from;\n    this.to = to;\n    this.label = label;\n  }\n\n  return Edge;\n}();\n\nexport { Edge };\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id, label) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (label === void 0) {\n      label = VACANT_NODE_LABEL;\n    }\n\n    this.id = id;\n    this.label = label;\n    this.edges = [];\n    this.edgeMap = {};\n  }\n\n  Node.prototype.addEdge = function (edge) {\n    this.edges.push(edge);\n    this.edgeMap[edge.id] = edge;\n  };\n\n  return Node;\n}();\n\nexport { Node };\n\nvar Graph =\n/** @class */\nfunction () {\n  function Graph(id, edgeIdAutoIncrease, directed) {\n    if (id === void 0) {\n      id = VACANT_NODE_ID;\n    }\n\n    if (edgeIdAutoIncrease === void 0) {\n      edgeIdAutoIncrease = true;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    this.id = id;\n    this.edgeIdAutoIncrease = edgeIdAutoIncrease;\n    this.edges = [];\n    this.nodes = [];\n    this.nodeMap = {};\n    this.edgeMap = {};\n    this.nodeLabelMap = {};\n    this.edgeLabelMap = {};\n    this.counter = 0;\n    this.directed = directed;\n  }\n\n  Graph.prototype.getNodeNum = function () {\n    return this.nodes.length;\n  };\n\n  Graph.prototype.addNode = function (id, label) {\n    if (this.nodeMap[id]) return;\n    var node = new Node(id, label);\n    this.nodes.push(node);\n    this.nodeMap[id] = node;\n    if (!this.nodeLabelMap[label]) this.nodeLabelMap[label] = [];\n    this.nodeLabelMap[label].push(id);\n  };\n\n  Graph.prototype.addEdge = function (id, from, to, label) {\n    if (this.edgeIdAutoIncrease || id === undefined) id = this.counter++;\n    if (this.nodeMap[from] && this.nodeMap[to] && this.nodeMap[to].edgeMap[id]) return;\n    var edge = new Edge(id, from, to, label);\n    this.edges.push(edge);\n    this.edgeMap[id] = edge;\n    this.nodeMap[from].addEdge(edge);\n    if (!this.edgeLabelMap[label]) this.edgeLabelMap[label] = [];\n    this.edgeLabelMap[label].push(edge);\n\n    if (!this.directed) {\n      var rEdge = new Edge(id, to, from, label);\n      this.nodeMap[to].addEdge(rEdge);\n      this.edgeLabelMap[label].push(rEdge);\n    }\n  };\n\n  return Graph;\n}();\n\nexport { Graph };","import { clone } from \"@antv/util\";\nimport { Graph, VACANT_NODE_LABEL, VACANT_GRAPH_ID, VACANT_EDGE_LABEL } from \"./struct\";\n\nvar DFSedge =\n/** @class */\nfunction () {\n  function DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.fromNode = fromNode;\n    this.toNode = toNode;\n    this.nodeEdgeNodeLabel = {\n      nodeLabel1: fromNodeLabel || VACANT_NODE_LABEL,\n      edgeLabel: edgeLabel || VACANT_EDGE_LABEL,\n      nodeLabel2: toNodeLabel || VACANT_NODE_LABEL\n    };\n  }\n\n  DFSedge.prototype.equalTo = function (other) {\n    return this.fromNode === other.formNode && this.toNode === other.toNode && this.nodeEdgeNodeLabel === other.nodeEdgeNodeLabel;\n  };\n\n  DFSedge.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n\n  return DFSedge;\n}(); // DFScode  DESedge \n\n\nvar DFScode =\n/** @class */\nfunction () {\n  function DFScode() {\n    this.rmpath = [];\n    this.dfsEdgeList = [];\n  }\n\n  DFScode.prototype.equalTo = function (other) {\n    var aLength = this.dfsEdgeList.length;\n    var bLength = other.length;\n    if (aLength !== bLength) return false;\n\n    for (var i = 0; i < aLength; i++) {\n      if (this.dfsEdgeList[i] !== other[i]) return false;\n    }\n\n    return true;\n  };\n\n  DFScode.prototype.notEqualTo = function (other) {\n    return !this.equalTo(other);\n  };\n  /**  edge  DFScode */\n\n\n  DFScode.prototype.pushBack = function (fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel) {\n    this.dfsEdgeList.push(new DFSedge(fromNode, toNode, fromNodeLabel, edgeLabel, toNodeLabel));\n    return this.dfsEdgeList;\n  };\n  /**  dfs  */\n\n\n  DFScode.prototype.toGraph = function (graphId, directed) {\n    if (graphId === void 0) {\n      graphId = VACANT_GRAPH_ID;\n    }\n\n    if (directed === void 0) {\n      directed = false;\n    }\n\n    var graph = new Graph(graphId, true, directed);\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      var fromNodeId = dfsEdge.fromNode;\n      var toNodeId = dfsEdge.toNode;\n      var _a = dfsEdge.nodeEdgeNodeLabel,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n      if (nodeLabel1 !== VACANT_NODE_LABEL) graph.addNode(fromNodeId, nodeLabel1);\n      if (nodeLabel2 !== VACANT_NODE_LABEL) graph.addNode(toNodeId, nodeLabel2);\n      if (nodeLabel1 !== VACANT_NODE_LABEL && nodeLabel2 !== nodeLabel1) graph.addEdge(undefined, fromNodeId, toNodeId, edgeLabel);\n    });\n    return graph;\n  }; //  rightmost path\n\n\n  DFScode.prototype.buildRmpath = function () {\n    this.rmpath = [];\n    var oldFrom = undefined;\n    var selfLength = this.dfsEdgeList.length;\n\n    for (var i = selfLength - 1; i >= 0; i--) {\n      var dfsEdge = this.dfsEdgeList[i];\n      var fromNodeIdx = dfsEdge.fromNode;\n      var toNodeIdx = dfsEdge.toNode;\n\n      if (fromNodeIdx < toNodeIdx && (oldFrom === undefined || toNodeIdx === oldFrom)) {\n        this.rmpath.push(i);\n        oldFrom = fromNodeIdx;\n      }\n    }\n\n    return this.rmpath;\n  };\n\n  DFScode.prototype.getNodeNum = function () {\n    var nodeMap = {};\n    this.dfsEdgeList.forEach(function (dfsEdge) {\n      if (!nodeMap[dfsEdge.fromNode]) nodeMap[dfsEdge.fromNode] = true;\n      if (!nodeMap[dfsEdge.toNode]) nodeMap[dfsEdge.toNode] = true;\n    });\n    return Object.keys(nodeMap).length;\n  };\n\n  return DFScode;\n}();\n\nvar History =\n/** @class */\nfunction () {\n  function History(pdfs) {\n    this.his = {};\n    this.nodesUsed = {};\n    this.edgesUsed = {};\n    this.edges = [];\n    if (!pdfs) return;\n\n    while (pdfs) {\n      var e = pdfs.edge;\n      this.edges.push(e);\n      this.nodesUsed[e.from] = 1;\n      this.nodesUsed[e.to] = 1;\n      this.edgesUsed[e.id] = 1;\n      pdfs = pdfs.preNode;\n    } // \n\n\n    this.edges = this.edges.reverse();\n  }\n\n  History.prototype.hasNode = function (node) {\n    return this.nodesUsed[node.id] === 1;\n  };\n\n  History.prototype.hasEdge = function (edge) {\n    return this.edgesUsed[edge.id] === 1;\n  };\n\n  return History;\n}();\n\nvar GSpan =\n/** @class */\nfunction () {\n  function GSpan(_a) {\n    var graphs = _a.graphs,\n        _b = _a.minSupport,\n        minSupport = _b === void 0 ? 2 : _b,\n        _c = _a.minNodeNum,\n        minNodeNum = _c === void 0 ? 1 : _c,\n        _d = _a.maxNodeNum,\n        maxNodeNum = _d === void 0 ? 4 : _d,\n        _e = _a.top,\n        top = _e === void 0 ? 10 : _e,\n        _f = _a.directed,\n        directed = _f === void 0 ? false : _f,\n        _g = _a.verbose,\n        verbose = _g === void 0 ? false : _g; // -------- -------\n\n    this.graphs = graphs;\n    this.dfsCode = new DFScode();\n    this.support = 0;\n    this.frequentSize1Subgraphs = [];\n    this.frequentSubgraphs = [];\n    this.minSupport = minSupport;\n    this.top = top;\n    this.directed = directed;\n    this.counter = 0; // TODO? timestamp = {}\n\n    this.maxNodeNum = maxNodeNum;\n    this.minNodeNum = minNodeNum;\n    this.verbose = verbose;\n    if (this.maxNodeNum < this.minNodeNum) this.maxNodeNum = this.minNodeNum;\n    this.reportDF = []; // matrix\n  } // Line 352\n\n\n  GSpan.prototype.findForwardRootEdges = function (graph, fromNode) {\n    var _this = this;\n\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    fromNode.edges.forEach(function (edge) {\n      if (_this.directed || fromNode.label <= nodeMap[edge.to].label) result.push(edge);\n    });\n    return result;\n  };\n\n  GSpan.prototype.findBackwardEdge = function (graph, edge1, edge2, history) {\n    if (!this.directed && edge1 === edge2) return null;\n    var nodeMap = graph.nodeMap;\n    var edge2To = nodeMap[edge2.to];\n    var edge2ToEdges = edge2To.edges;\n    var edgeLength = edge2ToEdges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edge2ToEdges[i];\n      if (history.hasEdge(edge) || edge.to !== edge1.from) continue;\n\n      if (!this.directed) {\n        if (edge1.label < edge.label || edge1.label === edge.label && nodeMap[edge1.to].label <= nodeMap[edge2.to].label) {\n          return edge;\n        }\n      } else {\n        if (nodeMap[edge1.from].label < nodeMap[edge2.to].label || nodeMap[edge1.from].label === nodeMap[edge2.to].label && edge1.label <= edge.label) {\n          return edge;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  GSpan.prototype.findForwardPureEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var rightmostEdgeToId = rightmostEdge.to;\n    var edges = graph.nodeMap[rightmostEdgeToId].edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var toNode = graph.nodeMap[edge.to];\n\n      if (minNodeLabel <= toNode.label && !history.hasNode(toNode)) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.findForwardRmpathEdges = function (graph, rightmostEdge, minNodeLabel, history) {\n    var result = [];\n    var nodeMap = graph.nodeMap;\n    var toNodeLabel = nodeMap[rightmostEdge.to].label;\n    var fromNode = nodeMap[rightmostEdge.from];\n    var edges = fromNode.edges;\n    var edgeLength = edges.length;\n\n    for (var i = 0; i < edgeLength; i++) {\n      var edge = edges[i];\n      var newToNodeLabel = nodeMap[edge.to].label;\n\n      if (rightmostEdge.to === edge.to || minNodeLabel > newToNodeLabel || history.hasNode(nodeMap[edge.to])) {\n        continue;\n      }\n\n      if (rightmostEdge.label < edge.label || rightmostEdge.label === edge.label && toNodeLabel <= newToNodeLabel) {\n        result.push(edge);\n      }\n    }\n\n    return result;\n  };\n\n  GSpan.prototype.getSupport = function (projected) {\n    var graphMap = {};\n    projected.forEach(function (pro) {\n      if (!graphMap[pro.graphId]) graphMap[pro.graphId] = true;\n    });\n    return Object.keys(graphMap).length;\n  };\n\n  GSpan.prototype.findMinLabel = function (obj) {\n    var minLabel = undefined;\n    Object.keys(obj).forEach(function (nodeEdgeNodeLabel) {\n      var _a = obj[nodeEdgeNodeLabel],\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      if (!minLabel) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n        return;\n      }\n\n      if (nodeLabel1 < minLabel.nodeLabel1 || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel < minLabel.edgeLabel || nodeLabel1 === minLabel.nodeLabel1 && edgeLabel === minLabel.edgeLabel && nodeLabel2 < minLabel.nodeLabel2) {\n        minLabel = {\n          nodeLabel1: nodeLabel1,\n          edgeLabel: edgeLabel,\n          nodeLabel2: nodeLabel2\n        };\n      }\n    });\n    return minLabel;\n  };\n\n  GSpan.prototype.isMin = function () {\n    var _this = this;\n\n    var dfsCode = this.dfsCode;\n    if (this.verbose) console.log(\"isMin checking\", dfsCode);\n    if (dfsCode.dfsEdgeList.length === 1) return true;\n    var directed = this.directed;\n    var graph = dfsCode.toGraph(VACANT_GRAPH_ID, directed);\n    var nodeMap = graph.nodeMap;\n    var dfsCodeMin = new DFScode();\n    var root = {};\n    graph.nodes.forEach(function (node) {\n      var forwardEdges = _this.findForwardRootEdges(graph, node);\n\n      forwardEdges.forEach(function (edge) {\n        var otherNode = nodeMap[edge.to];\n        var nodeEdgeNodeLabel = \"\".concat(node.label, \"-\").concat(edge.label, \"-\").concat(otherNode.label);\n        if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n          projected: [],\n          nodeLabel1: node.label,\n          edgeLabel: edge.label,\n          nodeLabel2: otherNode.label\n        };\n        var pdfs = {\n          graphId: graph.id,\n          edge: edge,\n          preNode: null\n        };\n        root[nodeEdgeNodeLabel].projected.push(pdfs);\n      });\n    }); //  root  nodeEdgeNodeLabel  nodeLabel1edgeLabenodeLabel2 \n\n    var minLabel = this.findMinLabel(root); // line 419\n\n    if (!minLabel) return;\n    dfsCodeMin.dfsEdgeList.push(new DFSedge(0, 1, minLabel.nodeLabel1, minLabel.edgeLabel, minLabel.nodeLabel2)); // line 423\n\n    var projectIsMin = function projectIsMin(projected) {\n      // right most path\n      var rmpath = dfsCodeMin.buildRmpath();\n      var minNodeLabel = dfsCodeMin.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n      var maxToC = dfsCodeMin.dfsEdgeList[rmpath[0]].toNode; // node id\n\n      var backwardRoot = {};\n      var flag = false,\n          newTo = 0;\n      var end = directed ? -1 : 0; //  1  0\n\n      var _loop_1 = function _loop_1(i) {\n        if (flag) return \"break\"; // line 435\n\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n          if (backwardEdge) {\n            // Line 441\n            if (!backwardRoot[backwardEdge.label]) {\n              backwardRoot[backwardEdge.label] = {\n                projected: [],\n                edgeLabel: backwardEdge.label\n              };\n            }\n\n            backwardRoot[backwardEdge.label].projected.push({\n              graphId: graph.id,\n              edge: backwardRoot,\n              preNode: p\n            });\n            newTo = dfsCodeMin.dfsEdgeList[rmpath[i]].fromNode;\n            flag = true;\n          }\n        });\n      };\n\n      for (var i = rmpath.length - 1; i > end; i--) {\n        var state_1 = _loop_1(i);\n\n        if (state_1 === \"break\") break;\n      }\n\n      if (flag) {\n        var minBackwardEdgeLabel = _this.findMinLabel(backwardRoot);\n\n        dfsCodeMin.dfsEdgeList.push(new DFSedge(maxToC, newTo, VACANT_NODE_LABEL, minBackwardEdgeLabel.edgeLabel, VACANT_NODE_LABEL));\n        var idx_1 = dfsCodeMin.dfsEdgeList.length - 1;\n        if (_this.dfsCode.dfsEdgeList[idx_1] !== dfsCodeMin.dfsEdgeList[idx_1]) return false;\n        return projectIsMin(backwardRoot[minBackwardEdgeLabel.edgeLabel].projected);\n      }\n\n      var forwardRoot = {};\n      flag = false;\n      var newFrom = 0;\n      projected.forEach(function (p) {\n        var history = new History(p);\n\n        var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n        if (forwardPureEdges.length > 0) {\n          flag = true;\n          newFrom = maxToC;\n          forwardPureEdges.forEach(function (edge) {\n            var key = \"\".concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n            if (!forwardRoot[key]) forwardRoot[key] = {\n              projected: [],\n              edgeLabel: edge.label,\n              nodeLabel2: nodeMap[edge.to].label\n            };\n            forwardRoot[key].projected.push({\n              graphId: graph.id,\n              edge: edge,\n              preNode: p\n            });\n          });\n        }\n      });\n      var pathLength = rmpath.length;\n\n      var _loop_2 = function _loop_2(i) {\n        if (flag) return \"break\";\n        var value = rmpath[i];\n        projected.forEach(function (p) {\n          var history = new History(p);\n\n          var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[value], minNodeLabel, history);\n\n          if (forwardRmpathEdges.length > 0) {\n            flag = true;\n            newFrom = dfsCodeMin.dfsEdgeList[value].fromNode;\n            forwardRmpathEdges.forEach(function (edge) {\n              var key = \"\".concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n              if (!forwardRoot[key]) forwardRoot[key] = {\n                projected: [],\n                edgeLabel: edge.label,\n                nodeLabel2: nodeMap[edge.to].label\n              };\n              forwardRoot[key].projected.push({\n                graphId: graph.id,\n                edge: edge,\n                preNode: p\n              });\n            });\n          }\n        });\n      };\n\n      for (var i = 0; i < pathLength; i++) {\n        var state_2 = _loop_2(i);\n\n        if (state_2 === \"break\") break;\n      }\n\n      if (!flag) return true;\n\n      var forwardMinEdgeNodeLabel = _this.findMinLabel(forwardRoot);\n\n      dfsCodeMin.dfsEdgeList.push(new DFSedge(newFrom, maxToC + 1, VACANT_NODE_LABEL, forwardMinEdgeNodeLabel.edgeLabel, forwardMinEdgeNodeLabel.nodeLabel2));\n      var idx = dfsCodeMin.dfsEdgeList.length - 1;\n      if (dfsCode.dfsEdgeList[idx] !== dfsCodeMin.dfsEdgeList[idx]) return false;\n      return projectIsMin(forwardRoot[\"\".concat(forwardMinEdgeNodeLabel.edgeLabel, \"-\").concat(forwardMinEdgeNodeLabel.nodeLabel2)].projected);\n    };\n\n    var key = \"\".concat(minLabel.nodeLabel1, \"-\").concat(minLabel.edgeLabel, \"-\").concat(minLabel.nodeLabel2);\n    return projectIsMin(root[key].projected);\n  };\n\n  GSpan.prototype.report = function () {\n    if (this.dfsCode.getNodeNum() < this.minNodeNum) return;\n    this.counter++;\n    var graph = this.dfsCode.toGraph(this.counter, this.directed);\n    this.frequentSubgraphs.push(clone(graph));\n  };\n\n  GSpan.prototype.subGraphMining = function (projected) {\n    var _this = this;\n\n    var support = this.getSupport(projected);\n    if (support < this.minSupport) return;\n    if (!this.isMin()) return;\n    this.report();\n    var nodeNum = this.dfsCode.getNodeNum();\n    var rmpath = this.dfsCode.buildRmpath();\n    var maxToC = this.dfsCode.dfsEdgeList[rmpath[0]].toNode;\n    var minNodeLabel = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1;\n    var forwardRoot = {};\n    var backwardRoot = {};\n    projected.forEach(function (p) {\n      var graph = _this.graphs[p.graphId];\n      var nodeMap = graph.nodeMap;\n      var history = new History(p); // backward Line 526\n\n      for (var i = rmpath.length - 1; i >= 0; i--) {\n        var backwardEdge = _this.findBackwardEdge(graph, history.edges[rmpath[i]], history.edges[rmpath[0]], history);\n\n        if (backwardEdge) {\n          var key = \"\".concat(_this.dfsCode.dfsEdgeList[rmpath[i]].fromNode, \"-\").concat(backwardEdge.label);\n          if (!backwardRoot[key]) backwardRoot[key] = {\n            projected: [],\n            toNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: backwardEdge.label\n          };\n          backwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: backwardEdge,\n            preNode: p\n          });\n        }\n      } // pure forward\n\n\n      if (nodeNum >= _this.maxNodeNum) return;\n\n      var forwardPureEdges = _this.findForwardPureEdges(graph, history.edges[rmpath[0]], minNodeLabel, history);\n\n      forwardPureEdges.forEach(function (edge) {\n        var key = \"\".concat(maxToC, \"-\").concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n        if (!forwardRoot[key]) forwardRoot[key] = {\n          projected: [],\n          fromNodeId: maxToC,\n          edgeLabel: edge.label,\n          nodeLabel2: nodeMap[edge.to].label\n        };\n        forwardRoot[key].projected.push({\n          graphId: p.graphId,\n          edge: edge,\n          preNode: p\n        });\n      });\n\n      var _loop_3 = function _loop_3(i) {\n        var forwardRmpathEdges = _this.findForwardRmpathEdges(graph, history.edges[rmpath[i]], minNodeLabel, history);\n\n        forwardRmpathEdges.forEach(function (edge) {\n          var key = \"\".concat(_this.dfsCode.dfsEdgeList[rmpath[i]].fromNode, \"-\").concat(edge.label, \"-\").concat(nodeMap[edge.to].label);\n          if (!forwardRoot[key]) forwardRoot[key] = {\n            projected: [],\n            fromNodeId: _this.dfsCode.dfsEdgeList[rmpath[i]].fromNode,\n            edgeLabel: edge.label,\n            nodeLabel2: nodeMap[edge.to].label\n          };\n          forwardRoot[key].projected.push({\n            graphId: p.graphId,\n            edge: edge,\n            preNode: p\n          });\n        });\n      }; // rmpath forward\n\n\n      for (var i = 0; i < rmpath.length; i++) {\n        _loop_3(i);\n      }\n    }); // backward\n\n    Object.keys(backwardRoot).forEach(function (key) {\n      var _a = backwardRoot[key],\n          toNodeId = _a.toNodeId,\n          edgeLabel = _a.edgeLabel;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(maxToC, toNodeId, \"-1\", edgeLabel, \"-1\"));\n\n      _this.subGraphMining(backwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    }); // forward\n\n    Object.keys(forwardRoot).forEach(function (key) {\n      var _a = forwardRoot[key],\n          fromNodeId = _a.fromNodeId,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(fromNodeId, maxToC + 1, VACANT_NODE_LABEL, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(forwardRoot[key].projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  GSpan.prototype.generate1EdgeFrequentSubGraphs = function () {\n    var graphs = this.graphs;\n    var directed = this.directed;\n    var minSupport = this.minSupport;\n    var frequentSize1Subgraphs = this.frequentSize1Subgraphs;\n    var nodeLabelCounter = {},\n        nodeEdgeNodeCounter = {}; //  mapkey  graphKey-node\n\n    var nodeLableCounted = {}; //  mapkey  graphKey-fromNode-edge-toNode\n\n    var nodeEdgeNodeLabelCounted = {};\n    Object.keys(graphs).forEach(function (key) {\n      // Line 271\n      var graph = graphs[key];\n      var nodeMap = graph.nodeMap; //    label  nodeLableCounted\n\n      graph.nodes.forEach(function (node, i) {\n        // Line 272\n        var nodeLabel = node.label;\n        var graphNodeKey = \"\".concat(key, \"-\").concat(nodeLabel);\n\n        if (!nodeLableCounted[graphNodeKey]) {\n          var counter = nodeLabelCounter[nodeLabel] || 0;\n          counter++;\n          nodeLabelCounter[nodeLabel] = counter;\n        }\n\n        nodeLableCounted[graphNodeKey] = {\n          graphKey: key,\n          label: nodeLabel\n        }; //  nodeEdgeNodeLabelCounted. Line 276\n\n        node.edges.forEach(function (edge) {\n          var nodeLabel1 = nodeLabel;\n          var nodeLabel2 = nodeMap[edge.to].label;\n\n          if (!directed && nodeLabel1 > nodeLabel2) {\n            var tmp = nodeLabel2;\n            nodeLabel2 = nodeLabel1;\n            nodeLabel1 = tmp;\n          }\n\n          var edgeLabel = edge.label;\n          var graphNodeEdgeNodeKey = \"\".concat(key, \"-\").concat(nodeLabel1, \"-\").concat(edgeLabel, \"-\").concat(nodeLabel2);\n          var nodeEdgeNodeKey = \"\".concat(nodeLabel1, \"-\").concat(edgeLabel, \"-\").concat(nodeLabel2);\n\n          if (!nodeEdgeNodeCounter[nodeEdgeNodeKey]) {\n            var counter = nodeEdgeNodeCounter[nodeEdgeNodeKey] || 0;\n            counter++;\n            nodeEdgeNodeCounter[nodeEdgeNodeKey] = counter; // Line281\n          }\n\n          nodeEdgeNodeLabelCounted[graphNodeEdgeNodeKey] = {\n            graphId: key,\n            nodeLabel1: nodeLabel1,\n            edgeLabel: edgeLabel,\n            nodeLabel2: nodeLabel2\n          };\n        });\n      });\n    }); // \n\n    Object.keys(nodeLabelCounter).forEach(function (label) {\n      var count = nodeLabelCounter[label];\n      if (count < minSupport) return;\n      var g = {\n        nodes: [],\n        edges: []\n      };\n      g.nodes.push({\n        id: \"0\",\n        label: label\n      });\n      frequentSize1Subgraphs.push(g); // if (minNodeNum <= 1) reportSize1 TODO\n    });\n    return frequentSize1Subgraphs;\n  };\n\n  GSpan.prototype.run = function () {\n    var _this = this; // -------- , _generate_1edge_frequent_subgraphs-------\n\n\n    this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs();\n    if (this.maxNodeNum < 2) return;\n    var graphs = this.graphs;\n    var directed = this.directed; // PDFS  map Line 304\n\n    var root = {};\n    Object.keys(graphs).forEach(function (graphId) {\n      var graph = graphs[graphId];\n      var nodeMap = graph.nodeMap; // Line 306\n\n      graph.nodes.forEach(function (node) {\n        var forwardRootEdges = _this.findForwardRootEdges(graph, node); // Line 308\n\n\n        forwardRootEdges.forEach(function (edge) {\n          var toNode = nodeMap[edge.to];\n          var nodeEdgeNodeLabel = \"\".concat(node.label, \"-\").concat(edge.label, \"-\").concat(toNode.label);\n          if (!root[nodeEdgeNodeLabel]) root[nodeEdgeNodeLabel] = {\n            projected: [],\n            nodeLabel1: node.label,\n            edgeLabel: edge.label,\n            nodeLabel2: toNode.label\n          };\n          var pdfs = {\n            graphId: graphId,\n            edge: edge,\n            preNode: null\n          };\n          root[nodeEdgeNodeLabel].projected.push(pdfs);\n        });\n      });\n    }); // Line 313\n\n    Object.keys(root).forEach(function (nodeEdgeNodeLabel) {\n      var _a = root[nodeEdgeNodeLabel],\n          projected = _a.projected,\n          nodeLabel1 = _a.nodeLabel1,\n          edgeLabel = _a.edgeLabel,\n          nodeLabel2 = _a.nodeLabel2;\n\n      _this.dfsCode.dfsEdgeList.push(new DFSedge(0, 1, nodeLabel1, edgeLabel, nodeLabel2));\n\n      _this.subGraphMining(projected);\n\n      _this.dfsCode.dfsEdgeList.pop();\n    });\n  };\n\n  return GSpan;\n}();\n\nvar formatGraphs = function formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp) {\n  var result = {};\n  Object.keys(graphs).forEach(function (key, i) {\n    var graph = graphs[key];\n    var fGraph = new Graph(i, true, directed);\n    var nodeIdxMap = {};\n    graph.nodes.forEach(function (node, j) {\n      fGraph.addNode(j, node[nodeLabelProp]);\n      nodeIdxMap[node.id] = j;\n    });\n    graph.edges.forEach(function (edge, k) {\n      var sourceIdx = nodeIdxMap[edge.source];\n      var targetIdx = nodeIdxMap[edge.target];\n      fGraph.addEdge(-1, sourceIdx, targetIdx, edge[edgeLabelProp]);\n    });\n    if (fGraph && fGraph.getNodeNum()) result[fGraph.id] = fGraph;\n  });\n  return result;\n};\n\nvar toGraphDatas = function toGraphDatas(graphs, nodeLabelProp, edgeLabelProp) {\n  var result = [];\n  graphs.forEach(function (graph) {\n    var graphData = {\n      nodes: [],\n      edges: []\n    };\n    graph.nodes.forEach(function (node) {\n      var _a;\n\n      graphData.nodes.push((_a = {\n        id: \"\".concat(node.id)\n      }, _a[nodeLabelProp] = node.label, _a));\n    });\n    graph.edges.forEach(function (edge) {\n      var _a;\n\n      graphData.edges.push((_a = {\n        source: \"\".concat(edge.from),\n        target: \"\".concat(edge.to)\n      }, _a[edgeLabelProp] = edge.label, _a));\n    });\n    result.push(graphData);\n  });\n  return result;\n};\n\nvar DEFAULT_LABEL_NAME = \"cluster\";\n/**\n * gSpan frequent graph mining\n * @param params \n */\n\nvar gSpan = function gSpan(params) {\n  // -------  GraphData  map  -------\n  var graphs = params.graphs,\n      _a = params.directed,\n      directed = _a === void 0 ? false : _a,\n      _b = params.nodeLabelProp,\n      nodeLabelProp = _b === void 0 ? DEFAULT_LABEL_NAME : _b,\n      _c = params.edgeLabelProp,\n      edgeLabelProp = _c === void 0 ? DEFAULT_LABEL_NAME : _c;\n  var formattedGraphs = formatGraphs(graphs, directed, nodeLabelProp, edgeLabelProp);\n  var minSupport = params.minSupport,\n      maxNodeNum = params.maxNodeNum,\n      minNodeNum = params.minNodeNum,\n      verbose = params.verbose,\n      top = params.top; // -------  -------\n\n  var algoParams = {\n    graphs: formattedGraphs,\n    minSupport: minSupport,\n    maxNodeNum: maxNodeNum,\n    minNodeNum: minNodeNum,\n    top: top,\n    verbose: verbose,\n    directed: directed\n  };\n  var calculator = new GSpan(algoParams);\n  calculator.run();\n  var result = toGraphDatas(calculator.frequentSubgraphs, nodeLabelProp, edgeLabelProp);\n  return result;\n};\n\nexport default gSpan;","import { __spreadArray } from \"tslib\";\nimport floydWarshall from './floydWarshall';\nimport gSpan from './gSpan/gSpan';\nimport dijkstra from './dijkstra';\nimport { uniqueId } from './util';\n/**\n *  graphData \n * @param graphData\n * @param spm\n * @param nodeLabelProp\n * @param k k-\n */\n\nvar findKNeighborUnits = function findKNeighborUnits(graphData, spm, nodeLabelProp, k) {\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (k === void 0) {\n    k = 2;\n  }\n\n  var units = [];\n  var nodes = graphData.nodes;\n  spm.forEach(function (row, i) {\n    units.push(findKNeighborUnit(nodes, row, i, nodeLabelProp, k));\n  });\n  return units;\n};\n\nvar findKNeighborUnit = function findKNeighborUnit(nodes, row, i, nodeLabelProp, k) {\n  var unitNodeIdxs = [i];\n  var neighbors = [];\n  var labelCountMap = {};\n  row.forEach(function (v, j) {\n    if (v <= k && i !== j) {\n      unitNodeIdxs.push(j);\n      neighbors.push(nodes[j]);\n      var label = nodes[j][nodeLabelProp];\n      if (!labelCountMap[label]) labelCountMap[label] = {\n        count: 1,\n        dists: [v]\n      };else {\n        labelCountMap[label].count++;\n        labelCountMap[label].dists.push(v);\n      }\n    }\n  }); //  labelCountMap  dists \n\n  Object.keys(labelCountMap).forEach(function (label) {\n    labelCountMap[label].dists = labelCountMap[label].dists.sort(function (a, b) {\n      return a - b;\n    });\n  });\n  return {\n    nodeIdx: i,\n    nodeId: nodes[i].id,\n    nodeIdxs: unitNodeIdxs,\n    neighbors: neighbors,\n    neighborNum: unitNodeIdxs.length - 1,\n    nodeLabelCountMap: labelCountMap\n  };\n};\n/**\n *  k\n * @param k  k k-\n * @param nodeNum  length\n * @param maxNodePairNum  maxNodePairNum\n * @param spm \n */\n\n\nvar findNodePairsRandomly = function findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm) {\n  // \n  var nodePairNumEachNode = Math.ceil(maxNodePairNum / nodeNum);\n  var nodePairMap = {};\n  var foundNodePairCount = 0; //  nodePairNumEachNode  k maxNodePairNum \n\n  kNeighborUnits.forEach(function (unit, i) {\n    //  nodePairNumEachNode(2 * nodeNum)\n    var nodePairForICount = 0;\n    var outerLoopCount = 0;\n    var neighbors = unit.nodeIdxs; // the first one is the center node\n\n    var neighborNum = unit.neighborNum - 1;\n\n    while (nodePairForICount < nodePairNumEachNode) {\n      //  index\n      var oidx = neighbors[1 + Math.floor(Math.random() * neighborNum)];\n      var innerLoopCount = 0; //  idx  random k\n\n      while (nodePairMap[\"\".concat(i, \"-\").concat(oidx)] || nodePairMap[\"\".concat(oidx, \"-\").concat(i)]) {\n        oidx = Math.floor(Math.random() * nodeNum);\n        innerLoopCount++;\n        if (innerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n      }\n\n      if (innerLoopCount < 2 * nodeNum) {\n        // \n        nodePairMap[\"\".concat(i, \"-\").concat(oidx)] = {\n          start: i,\n          end: oidx,\n          distance: spm[i][oidx]\n        };\n        nodePairForICount++;\n        foundNodePairCount++; // \n\n        if (foundNodePairCount >= maxNodePairNum) return nodePairMap;\n      }\n\n      outerLoopCount++;\n      if (outerLoopCount > 2 * nodeNum) break; // (2 * nodeNum)\n    } //  nodePairNumEachNode  nodePairNumEachNode\n\n\n    if (nodePairForICount < nodePairNumEachNode) {\n      var gap = nodePairNumEachNode - nodePairForICount;\n      nodePairNumEachNode = (nodePairNumEachNode + gap) / (nodeNum - i - 1);\n    }\n  });\n  return nodePairMap;\n};\n/**\n *  nodePairMap \n * @param nodePairMap  mapkey  node1.id-node2.idvalue  { startNodeIdx, endNodeIdx, distance }\n * @param neighborUnits \n * @param graphData \n * @param edgeMap  map\n * @param cachedInducedGraphMap  key \n */\n\n\nvar getIntersectNeighborInducedGraph = function getIntersectNeighborInducedGraph(nodePairMap, neighborUnits, graphData, cachedInducedGraphMap) {\n  var nodes = graphData.nodes;\n  if (!cachedInducedGraphMap) cachedInducedGraphMap = {};\n  Object.keys(nodePairMap).forEach(function (key) {\n    var _a, _b;\n\n    if (cachedInducedGraphMap && cachedInducedGraphMap[key]) return;\n    cachedInducedGraphMap[key] = {\n      nodes: [],\n      edges: []\n    };\n    var pair = nodePairMap[key];\n    var startUnitNodeIds = (_a = neighborUnits[pair.start]) === null || _a === void 0 ? void 0 : _a.nodeIdxs;\n    var endUnitNodeIds = (_b = neighborUnits[pair.end]) === null || _b === void 0 ? void 0 : _b.nodeIdxs;\n    if (!startUnitNodeIds || !endUnitNodeIds) return; // \n\n    var endSet = new Set(endUnitNodeIds);\n    var intersect = startUnitNodeIds.filter(function (x) {\n      return endSet.has(x);\n    }); //  1580 + 6 nodes full-connected \n\n    if (!intersect || !intersect.length) return; // \n\n    var intersectIdMap = {};\n    var intersectLength = intersect.length;\n\n    for (var i = 0; i < intersectLength; i++) {\n      var node = nodes[intersect[i]];\n      cachedInducedGraphMap[key].nodes.push(node); // \n\n      intersectIdMap[node.id] = true;\n    } // \n\n\n    graphData.edges.forEach(function (edge) {\n      if (intersectIdMap[edge.source] && intersectIdMap[edge.target]) cachedInducedGraphMap[key].edges.push(edge);\n    });\n  });\n  return cachedInducedGraphMap;\n};\n/**\n *  strcutre  graph \n * @param graph \n * @param structure \n * @param nodeLabelProp \n * @param edgeLabelProp \n */\n\n\nvar getMatchedCount = function getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp) {\n  var _a, _b;\n\n  var nodeMap = {};\n  graph.nodes.forEach(function (node) {\n    nodeMap[node.id] = node;\n  });\n  var count = 0;\n  if (!((_a = structure === null || structure === void 0 ? void 0 : structure.edges) === null || _a === void 0 ? void 0 : _a.length) || ((_b = structure === null || structure === void 0 ? void 0 : structure.nodes) === null || _b === void 0 ? void 0 : _b.length) < 2) return 0;\n  graph.edges.forEach(function (e) {\n    var sourceLabel = nodeMap[e.source][nodeLabelProp];\n    var targetLabel = nodeMap[e.target][nodeLabelProp];\n    var strNodeLabel1 = structure === null || structure === void 0 ? void 0 : structure.nodes[0][nodeLabelProp];\n    var strNodeLabel2 = structure === null || structure === void 0 ? void 0 : structure.nodes[1][nodeLabelProp];\n    var strEdgeLabel = structure === null || structure === void 0 ? void 0 : structure.edges[0][edgeLabelProp];\n    if (e[edgeLabelProp] !== strEdgeLabel) return;\n\n    if (sourceLabel === strNodeLabel1 && targetLabel === strNodeLabel2 || sourceLabel === strNodeLabel2 && targetLabel === strNodeLabel1) {\n      count++;\n    }\n  });\n  return count;\n};\n/**\n * structures  matchedCountMap \n * @param matchedCountMap  structure  { [strcture.idx]: { [interInducedGraphKey]: count } }\n * @param structureNum strcuture  matchedCountMap.length \n * @param structures\n */\n\n\nvar findRepresentStructure = function findRepresentStructure(matchedCountMap, structureNum, structures) {\n  var maxOffset = Infinity,\n      representClusterType = 0;\n\n  var _loop_1 = function _loop_1(i) {\n    //  mapkey  intGraph  keyvalue  structures[i] \n    var countMapI = matchedCountMap[i]; //  value  keys \n\n    var sortedGraphKeys = Object.keys(countMapI).sort(function (a, b) {\n      return countMapI[a] - countMapI[b];\n    }); //  100  graphKeys graphKeys  groupNum \n\n    var groupNum = 10;\n    var clusters = []; //  groupNum \n\n    sortedGraphKeys.forEach(function (key, j) {\n      if (!clusters[j % groupNum]) clusters[j % groupNum] = {\n        graphs: [],\n        totalCount: 0,\n        aveCount: 0\n      };\n      clusters[j % groupNum].graphs.push(key);\n      clusters[j % groupNum].totalCount += countMapI[key];\n    }); //  cluster  cluster  innerDist cluster  intraDist\n\n    var aveIntraDist = 0; // \n\n    var aveCounts = []; // \n\n    clusters.forEach(function (graphsInCluster) {\n      // \n      var aveCount = graphsInCluster.totalCount / graphsInCluster.graphs.length;\n      graphsInCluster.aveCount = aveCount;\n      aveCounts.push(aveCount); // \n\n      var aveIntraPerCluster = 0;\n      var graphsNum = graphsInCluster.length;\n      graphsInCluster.graphs.forEach(function (graphKey1, j) {\n        var graph1Count = countMapI[graphKey1];\n        graphsInCluster.graphs.forEach(function (graphKey2, k) {\n          if (j === k) return;\n          aveIntraPerCluster += Math.abs(graph1Count - countMapI[graphKey2]);\n        });\n      });\n      aveIntraPerCluster /= graphsNum * (graphsNum - 1) / 2;\n      aveIntraDist += aveIntraPerCluster;\n    });\n    aveIntraDist /= clusters.length; // \n\n    var aveInterDist = 0; // \n\n    aveCounts.forEach(function (aveCount1, j) {\n      aveCounts.forEach(function (aveCount2, k) {\n        if (j === k) return;\n        aveInterDist += Math.abs(aveCount1 - aveCount2);\n      });\n      aveInterDist /= aveCounts.length * (aveCounts.length - 1) / 2;\n    }); //  (-)  structure  DS(G)\n\n    var offset = aveInterDist - aveIntraDist;\n\n    if (maxOffset < offset) {\n      maxOffset = offset;\n      representClusterType = i;\n    }\n  };\n\n  for (var i = 0; i < structureNum; i++) {\n    _loop_1(i);\n  }\n\n  return {\n    structure: structures[representClusterType],\n    structureCountMap: matchedCountMap[representClusterType]\n  };\n};\n\nvar getNodeMaps = function getNodeMaps(nodes, nodeLabelProp) {\n  var nodeMap = {},\n      nodeLabelMap = {};\n  nodes.forEach(function (node, i) {\n    nodeMap[node.id] = {\n      idx: i,\n      node: node,\n      degree: 0,\n      inDegree: 0,\n      outDegree: 0\n    };\n    var label = node[nodeLabelProp];\n    if (!nodeLabelMap[label]) nodeLabelMap[label] = [];\n    nodeLabelMap[label].push(node);\n  });\n  return {\n    nodeMap: nodeMap,\n    nodeLabelMap: nodeLabelMap\n  };\n};\n\nvar getEdgeMaps = function getEdgeMaps(edges, edgeLabelProp, nodeMap) {\n  var edgeMap = {},\n      edgeLabelMap = {};\n  edges.forEach(function (edge, i) {\n    edgeMap[\"\".concat(uniqueId)] = {\n      idx: i,\n      edge: edge\n    };\n    var label = edge[edgeLabelProp];\n    if (!edgeLabelMap[label]) edgeLabelMap[label] = [];\n    edgeLabelMap[label].push(edge);\n    var sourceNode = nodeMap[edge.source];\n\n    if (sourceNode) {\n      sourceNode.degree++;\n      sourceNode.outDegree++;\n    }\n\n    var targetNode = nodeMap[edge.target];\n\n    if (targetNode) {\n      targetNode.degree++;\n      targetNode.inDegree++;\n    }\n  });\n  return {\n    edgeMap: edgeMap,\n    edgeLabelMap: edgeLabelMap\n  };\n};\n/**\n *  mapkey  sourceNode.id-targetNode.idvalue \n * @param nodes\n * @param spm\n * @param directed\n */\n\n\nvar getSpmMap = function getSpmMap(nodes, spm, directed) {\n  var length = spm.length;\n  var map = {};\n  spm.forEach(function (row, i) {\n    var start = directed ? 0 : i + 1;\n    var iId = nodes[i].id;\n\n    for (var j = start; j < length; j++) {\n      if (i === j) continue;\n      var jId = nodes[j].id;\n      var dist = row[j];\n      map[\"\".concat(iId, \"-\").concat(jId)] = dist;\n      if (!directed) map[\"\".concat(jId, \"-\").concat(iId)] = dist;\n    }\n  });\n  return map;\n};\n/**\n * node1node2 NDS \n * @param graph \n * @param node1\n * @param node2\n */\n\n\nvar getNDSDist = function getNDSDist(graph, node1, node2, nodeMap, spDist, kNeighborUnits, structure, nodeLabelProp, edgeLabelProp, cachedNDSMap, cachedInterInducedGraph) {\n  var _a;\n\n  var key = \"\".concat(node1.id, \"-\").concat(node2.id);\n  if (cachedNDSMap && cachedNDSMap[key]) return cachedNDSMap[key];\n  var interInducedGraph = cachedInterInducedGraph ? cachedInterInducedGraph[key] : undefined; // \n\n  if (!interInducedGraph) {\n    var pairMap = (_a = {}, _a[key] = {\n      start: nodeMap[node1.id].idx,\n      end: nodeMap[node2.id].idx,\n      distance: spDist\n    }, _a);\n    cachedInterInducedGraph = getIntersectNeighborInducedGraph(pairMap, kNeighborUnits, graph, cachedInterInducedGraph);\n    interInducedGraph = cachedInterInducedGraph[key];\n  }\n\n  return getMatchedCount(interInducedGraph, structure, nodeLabelProp, edgeLabelProp);\n};\n/**\n *  pattern  minPatternNodeLabelDegreeMap\n */\n\n\nvar stashPatternNodeLabelDegreeMap = function stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, neighborLabel, patternNodeMap, patternNodeLabelMap) {\n  var _a, _b, _c;\n\n  var minPatternNodeLabelDegree = (_a = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _a === void 0 ? void 0 : _a.degree;\n  var minPatternNodeLabelInDegree = (_b = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _b === void 0 ? void 0 : _b.inDegree;\n  var minPatternNodeLabelOutDegree = (_c = minPatternNodeLabelDegreeMap[neighborLabel]) === null || _c === void 0 ? void 0 : _c.outDegree;\n\n  if (minPatternNodeLabelDegreeMap[neighborLabel] === undefined) {\n    minPatternNodeLabelDegree = Infinity;\n    minPatternNodeLabelInDegree = Infinity;\n    minPatternNodeLabelOutDegree = Infinity;\n    patternNodeLabelMap[neighborLabel].forEach(function (patternNodeWithLabel) {\n      var patternNodeDegree = patternNodeMap[patternNodeWithLabel.id].degree;\n      if (minPatternNodeLabelDegree > patternNodeDegree) minPatternNodeLabelDegree = patternNodeDegree;\n      var patternNodeInDegree = patternNodeMap[patternNodeWithLabel.id].inDegree;\n      if (minPatternNodeLabelInDegree > patternNodeInDegree) minPatternNodeLabelInDegree = patternNodeInDegree;\n      var patternNodeOutDegree = patternNodeMap[patternNodeWithLabel.id].outDegree;\n      if (minPatternNodeLabelOutDegree > patternNodeOutDegree) minPatternNodeLabelOutDegree = patternNodeOutDegree;\n    });\n    minPatternNodeLabelDegreeMap[neighborLabel] = {\n      degree: minPatternNodeLabelDegree,\n      inDegree: minPatternNodeLabelInDegree,\n      outDegree: minPatternNodeLabelOutDegree\n    };\n  }\n\n  return {\n    minPatternNodeLabelDegree: minPatternNodeLabelDegree,\n    minPatternNodeLabelInDegree: minPatternNodeLabelInDegree,\n    minPatternNodeLabelOutDegree: minPatternNodeLabelOutDegree\n  };\n};\n/**\n * GADDI \n * @param graphData \n * @param pattern \n * @param directed  false\n * @param k  k k-\n * @param length  length\n * @param nodeLabelProp  cluster\n * @param edgeLabelProp  cluster\n */\n\n\nvar GADDI = function GADDI(graphData, pattern, directed, k, length, nodeLabelProp, edgeLabelProp) {\n  var _a;\n\n  if (directed === void 0) {\n    directed = false;\n  }\n\n  if (nodeLabelProp === void 0) {\n    nodeLabelProp = 'cluster';\n  }\n\n  if (edgeLabelProp === void 0) {\n    edgeLabelProp = 'cluster';\n  }\n\n  if (!graphData || !graphData.nodes) return; // \n  // 0. /\n  // 1.  graphData 1~5 \n  // 2. \n  // console.log(\"----- stage-pre: preprocessing -------\");\n  // -------- /-------\n\n  var nodeNum = graphData.nodes.length;\n  if (!nodeNum) return; // console.log(\"----- stage-pre.1: calc shortest path matrix for graph -------\");\n\n  var spm = floydWarshall(graphData, directed); // console.log(\n  //   \"----- stage-pre.2: calc shortest path matrix for pattern -------\"\n  // );\n\n  var patternSpm = floydWarshall(pattern, directed); // console.log(\n  //   \"----- stage-pre.3: calc shortest path matrix map for graph -------\"\n  // );\n\n  var spmMap = getSpmMap(graphData.nodes, spm, directed); // console.log(\n  //   \"----- stage-pre.4: calc shortest path matrix map for pattern -------\"\n  // );\n\n  var patternSpmMap = getSpmMap(pattern.nodes, patternSpm, directed); // console.log(\"----- stage-pre.5: establish maps -------\");\n  //  map id  id \n\n  var _b = getNodeMaps(graphData.nodes, nodeLabelProp),\n      nodeMap = _b.nodeMap,\n      nodeLabelMap = _b.nodeLabelMap;\n\n  var _c = getNodeMaps(pattern.nodes, nodeLabelProp),\n      patternNodeMap = _c.nodeMap,\n      patternNodeLabelMap = _c.nodeLabelMap; // \n\n\n  getEdgeMaps(graphData.edges, edgeLabelProp, nodeMap);\n  var patternEdgeLabelMap = getEdgeMaps(pattern.edges, edgeLabelProp, patternNodeMap).edgeLabelMap; //  length pattern \n\n  var patternSpmSpread = [];\n  patternSpm === null || patternSpm === void 0 ? void 0 : patternSpm.forEach(function (row) {\n    patternSpmSpread = patternSpmSpread.concat(row);\n  });\n  if (!length) length = Math.max.apply(Math, __spreadArray(__spreadArray([], patternSpmSpread, false), [2], false));\n  if (!k) k = length; // console.log(\"params\", directed, length, k);\n  // console.log(\"----- stage-pre.6: calc k neighbor units -------\");\n  //  k \n\n  var kNeighborUnits = findKNeighborUnits(graphData, spm, nodeLabelProp, k);\n  var patternKNeighborUnits = findKNeighborUnits(pattern, patternSpm, nodeLabelProp, k); // console.log(\n  //   \"----- stage0: going to processing graph and find intersect neighbor induced graphs -------\"\n  // );\n  // console.log(\"----- stage0.1: going to select random node pairs -------\");\n  // --------  graphData-------\n  // 1.1.  100  Length  k\n  //  graphData  20  100  n(n-1)/2 \n\n  var maxNodePairNum = Math.min(100, nodeNum * (nodeNum - 1) / 2);\n  var nodePairsMap = findNodePairsRandomly(k, nodeNum, maxNodePairNum, kNeighborUnits, spm); // console.log(\n  //   \"----- stage0.2: going to calculate intersect neighbor induced graphs -------\"\n  // );\n  // 1.2.  {'beginNodeIdx-endNodeIdx': {nodes: [], edges: []}}\n\n  var intGMap = getIntersectNeighborInducedGraph(nodePairsMap, kNeighborUnits, graphData); // 1.3.  gSpan frequent graph mining ISIntG  10 3-4\n\n  var top = 10,\n      minSupport = 1,\n      minNodeNum = 1,\n      maxNodeNum = 4;\n  var params = {\n    graphs: intGMap,\n    nodeLabelProp: nodeLabelProp,\n    edgeLabelProp: edgeLabelProp,\n    minSupport: minSupport,\n    minNodeNum: minNodeNum,\n    maxNodeNum: maxNodeNum,\n    directed: directed\n  }; // console.log(\n  //   \"----- stage1: (gSpan) going to find frequent structure dsG -------\"\n  // );\n  // console.log(\"----- stage1.1: going to run gSpan -------\");\n  //  sub structure \n\n  var freStructures = gSpan(params).slice(0, top); // structureNum  top\n\n  var structureNum = freStructures.length; // 1.4.  10  intGMap \n\n  var matchedCountMap = [];\n  freStructures.forEach(function (structure, i) {\n    matchedCountMap[i] = {};\n    Object.keys(intGMap).forEach(function (key) {\n      var graph = intGMap[key];\n      var subStructureCount = getMatchedCount(graph, structure, nodeLabelProp, edgeLabelProp);\n      matchedCountMap[i][key] = subStructureCount;\n    });\n  }); // console.log(\n  //   \"----- stage1.1: going to find the most represent strucutre -------\"\n  // );\n  // 1.5.  intGMap  structureNum \n  //  DS(G)\n\n  var _d = findRepresentStructure(matchedCountMap, structureNum, freStructures),\n      dsG = _d.structure,\n      ndsDist = _d.structureCountMap; // -------- -------\n  // 2.1  Q  G  G \n\n\n  var beginPNode = pattern.nodes[0],\n      candidates = [],\n      label = (_a = pattern.nodes[0]) === null || _a === void 0 ? void 0 : _a[nodeLabelProp],\n      maxNodeNumWithSameLabel = -Infinity;\n  pattern.nodes.forEach(function (node) {\n    var pLabel = node[nodeLabelProp];\n    var nodesWithSameLabel = nodeLabelMap[pLabel];\n\n    if ((nodesWithSameLabel === null || nodesWithSameLabel === void 0 ? void 0 : nodesWithSameLabel.length) > maxNodeNumWithSameLabel) {\n      maxNodeNumWithSameLabel = nodesWithSameLabel.length;\n      candidates = nodesWithSameLabel;\n      label = pLabel;\n      beginPNode = node;\n    }\n  }); // console.log(\"----- stage2: going to find candidates -------\");\n  // \n\n  var minPatternNodeLabelDegreeMap = {}; // key  labelvalue  label \n\n  var patternIntGraphMap = {},\n      patternNDSDist = {},\n      // key  node.id-node.id\n  patternNDSDistMap = {}; // key  node.id-label2value nds node2\n  // 2.2.2  Q  k  node  NDS \n\n  var patternSpDist = {};\n  var patternSpDistBack = {};\n  Object.keys(patternNodeLabelMap).forEach(function (label2, j) {\n    patternSpDist[label2] = [];\n\n    if (directed) {\n      patternSpDistBack[label2] = [];\n    }\n\n    var maxDist = -Infinity;\n    var patternNodesWithLabel2 = patternNodeLabelMap[label2];\n    var patternNodePairMap = {};\n    patternNodesWithLabel2.forEach(function (nodeWithLabel2) {\n      var dist = patternSpmMap[\"\".concat(beginPNode.id, \"-\").concat(nodeWithLabel2.id)];\n      dist && patternSpDist[label2].push(dist);\n      if (maxDist < dist) maxDist = dist;\n      patternNodePairMap[\"\".concat(beginPNode.id, \"-\").concat(nodeWithLabel2.id)] = {\n        start: 0,\n        end: patternNodeMap[nodeWithLabel2.id].idx,\n        distance: dist\n      };\n\n      if (directed) {\n        var distBack = patternSpmMap[\"\".concat(nodeWithLabel2.id, \"-\").concat(beginPNode.id)];\n        distBack && patternSpDistBack[label2].push(distBack);\n      }\n    }); // spDist[label2] \n\n    patternSpDist[label2] = patternSpDist[label2].sort(function (a, b) {\n      return a - b;\n    });\n    if (directed) patternSpDistBack[label2] = patternSpDistBack[label2].sort(function (a, b) {\n      return a - b;\n    }); //  Q  label2  beginPNode  NDS \n    //  label2  beginPNode \n    // key: node1.id-node2.id\n\n    patternIntGraphMap = getIntersectNeighborInducedGraph(patternNodePairMap, patternKNeighborUnits, pattern, patternIntGraphMap); // pattern  beginNode  label2   NDS \n\n    var currentPatternNDSDistArray = [];\n    Object.keys(patternNodePairMap).forEach(function (key) {\n      if (patternNDSDist[key]) {\n        currentPatternNDSDistArray.push(patternNDSDist[key]);\n        return; // \n      }\n\n      var patternIntGraph = patternIntGraphMap[key];\n      patternNDSDist[key] = getMatchedCount(patternIntGraph, dsG, nodeLabelProp, edgeLabelProp);\n      currentPatternNDSDistArray.push(patternNDSDist[key]);\n    }); //  currentPatternNDSDist \n\n    currentPatternNDSDistArray = currentPatternNDSDistArray.sort(function (a, b) {\n      return b - a;\n    });\n    patternNDSDistMap[\"\".concat(beginPNode.id, \"-\").concat(label2)] = currentPatternNDSDistArray;\n    if (label2 === label) return;\n    var candidatesNum = (candidates === null || candidates === void 0 ? void 0 : candidates.length) || 0;\n\n    var _loop_4 = function _loop_4(m) {\n      var cNode = candidates[m]; // prune1 candidates  cNode  kNeighborUnits  label2  pattern  label2 \n\n      var graphNeighborUnit = kNeighborUnits[nodeMap[cNode.id].idx];\n      var graphNeighborUnitCountMap = graphNeighborUnit.nodeLabelCountMap[label2];\n      var patternLabel2Num = patternNodeLabelMap[label2].length;\n\n      if (!graphNeighborUnitCountMap || graphNeighborUnitCountMap.count < patternLabel2Num) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune2 candidates  cNode  kNeighborUnits  label2  patternSpDist[label2]\n      // (prune2 candidate  spDist[label2].length  patternSpDist[label2]  G > Q  candidate)\n\n\n      var prune2Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (graphNeighborUnitCountMap.dists[n] > patternSpDist[label2][n]) {\n          prune2Invalid = true;\n          break;\n        }\n      }\n\n      if (prune2Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      } // prune3 candidates  cNode  kNeighborUnits  label2  NDS  patternNDSDist[beginNode.id-label2]\n      // TODOprune3currentPatternNDSDistArray  currentNDSDist \n      //  G  label2  cNode  NDS \n      //  label2  cNode \n\n\n      var cNodePairMap = {};\n      graphNeighborUnit.neighbors.forEach(function (neighborNode) {\n        var dist = spmMap[\"\".concat(cNode.id, \"-\").concat(neighborNode.id)];\n        cNodePairMap[\"\".concat(cNode.id, \"-\").concat(neighborNode.id)] = {\n          start: nodeMap[cNode.id].idx,\n          end: nodeMap[neighborNode.id].idx,\n          distance: dist\n        };\n      }); //  intGMap\n\n      intGMap = getIntersectNeighborInducedGraph(cNodePairMap, kNeighborUnits, graphData, intGMap); // candidate  label2  NDS , key  node.id-node.id\n\n      var currentNDSDistArray = [];\n      Object.keys(cNodePairMap).forEach(function (key) {\n        if (ndsDist[key]) {\n          currentNDSDistArray.push(ndsDist[key]);\n          return; // \n        }\n\n        var intGraph = intGMap[key];\n        ndsDist[key] = getMatchedCount(intGraph, dsG, nodeLabelProp, edgeLabelProp);\n        currentNDSDistArray.push(ndsDist[key]);\n      }); //  currentNDSDistArray \n\n      currentNDSDistArray = currentNDSDistArray.sort(function (a, b) {\n        return b - a;\n      });\n      var prune3Invalid = false;\n\n      for (var n = 0; n < patternLabel2Num; n++) {\n        if (currentNDSDistArray[n] < currentPatternNDSDistArray[n]) {\n          prune3Invalid = true;\n          break;\n        }\n      }\n\n      if (prune3Invalid) {\n        candidates.splice(m, 1);\n        return \"continue\";\n      }\n    };\n\n    for (var m = candidatesNum - 1; m >= 0; m--) {\n      _loop_4(m);\n    }\n  });\n  var candidateGraphs = []; // console.log(\n  //   \"----- stage3: going to splice neighbors for each candidate graph -------\"\n  // );\n  // candidates  candidate  Length-neighbor \n  //  Q  Q  label label  candidate  QNDS  Q\n\n  candidates === null || candidates === void 0 ? void 0 : candidates.forEach(function (candidate) {\n    var nodeIdx = nodeMap[candidate.id].idx;\n    var lengthNeighborUnit = findKNeighborUnit(graphData.nodes, spm[nodeIdx], nodeIdx, nodeLabelProp, length);\n    var neighborNodes = lengthNeighborUnit.neighbors; // \n\n    var neighborNum = neighborNodes.length;\n    var unmatched = false;\n\n    for (var i = neighborNum - 1; i >= 0; i--) {\n      //  candidate \n      if (neighborNodes.length + 1 < pattern.nodes.length) {\n        unmatched = true;\n        return;\n      }\n\n      var neighborNode = neighborNodes[i];\n      var neighborLabel = neighborNode[nodeLabelProp]; // prune1:  label  pattern \n\n      if (!patternNodeLabelMap[neighborLabel] || !patternNodeLabelMap[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        continue;\n      } // prune2:  candidate  label  beginPNode \n      // prune2.1:  beginPNode  pattern  beginPNode  label label \n\n\n      if (!patternSpDist[neighborLabel] || !patternSpDist[neighborLabel].length) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n\n      var key = \"\".concat(candidate.id, \"-\").concat(neighborNode.id); // prune2.2\n\n      var distToCandidate = spmMap[key];\n      var idx = patternSpDist[neighborLabel].length - 1;\n      var maxDistWithLabelInPattern = patternSpDist[neighborLabel][idx]; // patternSpDist[neighborLabel] \n\n      if (distToCandidate > maxDistWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n\n      if (directed) {\n        var keyBack = \"\".concat(neighborNode.id, \"-\").concat(candidate.id);\n        var distFromCandidate = spmMap[keyBack];\n        idx = patternSpDistBack[neighborLabel].length - 1;\n        var maxBackDistWithLabelInPattern = patternSpDistBack[neighborLabel][idx];\n\n        if (distFromCandidate > maxBackDistWithLabelInPattern) {\n          neighborNodes.splice(i, 1);\n          continue;\n        }\n      } // prune3:  candidate  NDS  label  beginPNode  NDS \n\n\n      var ndsToCandidate = ndsDist[key] ? ndsDist[key] : getNDSDist(graphData, candidate, neighborNode, nodeMap, distToCandidate, kNeighborUnits, dsG, nodeLabelProp, edgeLabelProp, ndsDist, intGMap);\n      var patternKey = \"\".concat(beginPNode.id, \"-\").concat(neighborLabel);\n      var minNdsWithLabelInPattern = patternNDSDistMap[patternKey][patternNDSDistMap[patternKey].length - 1]; // patternNDSDist[key] \n\n      if (ndsToCandidate < minNdsWithLabelInPattern) {\n        neighborNodes.splice(i, 1);\n        continue;\n      } // prune4:  pattern  label \n\n\n      var _a = stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, neighborLabel, patternNodeMap, patternNodeLabelMap),\n          minPatternNodeLabelDegree = _a.minPatternNodeLabelDegree,\n          minPatternNodeLabelInDegree = _a.minPatternNodeLabelInDegree,\n          minPatternNodeLabelOutDegree = _a.minPatternNodeLabelOutDegree;\n\n      if (nodeMap[neighborNode.id].degree < minPatternNodeLabelDegree) {\n        neighborNodes.splice(i, 1);\n        continue;\n      }\n    } //  pattern \n\n\n    if (!unmatched) {\n      candidateGraphs.push({\n        nodes: [candidate].concat(neighborNodes)\n      });\n    }\n  }); // console.log(\n  //   \"----- stage4: going to splice edges and neighbors for each candidate graph -------\"\n  // );\n\n  var undirectedLengthsToBeginPNode = dijkstra(pattern, beginPNode.id, false).length;\n  var undirectedLengthsToBeginPNodeLabelMap = {};\n\n  if (directed) {\n    Object.keys(undirectedLengthsToBeginPNode).forEach(function (nodeId) {\n      var nodeLabel = patternNodeMap[nodeId].node[nodeLabelProp];\n      if (!undirectedLengthsToBeginPNodeLabelMap[nodeLabel]) undirectedLengthsToBeginPNodeLabelMap[nodeLabel] = [undirectedLengthsToBeginPNode[nodeId]];else undirectedLengthsToBeginPNodeLabelMap[nodeLabel].push(undirectedLengthsToBeginPNode[nodeId]);\n    });\n    Object.keys(undirectedLengthsToBeginPNodeLabelMap).forEach(function (pLabel) {\n      undirectedLengthsToBeginPNodeLabelMap[pLabel].sort(function (a, b) {\n        return a - b;\n      });\n    });\n  } else {\n    undirectedLengthsToBeginPNodeLabelMap = patternSpDist;\n  } //  candidateGraphs \n\n\n  var candidateGraphNum = candidateGraphs.length;\n\n  var _loop_2 = function _loop_2(i) {\n    var candidateGraph = candidateGraphs[i];\n    var candidate = candidateGraph.nodes[0];\n    var candidateNodeLabelCountMap = {};\n    var candidateNodeMap = {};\n    candidateGraph.nodes.forEach(function (node, q) {\n      candidateNodeMap[node.id] = {\n        idx: q,\n        node: node,\n        degree: 0,\n        inDegree: 0,\n        outDegree: 0\n      };\n      var cNodeLabel = node[nodeLabelProp];\n      if (!candidateNodeLabelCountMap[cNodeLabel]) candidateNodeLabelCountMap[cNodeLabel] = 1;else candidateNodeLabelCountMap[cNodeLabel]++;\n    }); //  candidate  neighborNodes  G \n    //  graphData  candidateGraph.nodes  candidateEdges\n\n    var candidateEdges = [];\n    var edgeLabelCountMap = {};\n    graphData.edges.forEach(function (edge) {\n      if (candidateNodeMap[edge.source] && candidateNodeMap[edge.target]) {\n        candidateEdges.push(edge);\n        if (!edgeLabelCountMap[edge[edgeLabelProp]]) edgeLabelCountMap[edge[edgeLabelProp]] = 1;else edgeLabelCountMap[edge[edgeLabelProp]]++;\n        candidateNodeMap[edge.source].degree++;\n        candidateNodeMap[edge.target].degree++;\n        candidateNodeMap[edge.source].outDegree++;\n        candidateNodeMap[edge.target].inDegree++;\n      }\n    }); // prune edgeLabel  candidateGraph  pattern\n\n    var pattenrEdgeLabelNum = Object.keys(patternEdgeLabelMap).length;\n    var prunedByEdgeLabel = false;\n\n    for (var e = 0; e < pattenrEdgeLabelNum; e++) {\n      var label_1 = Object.keys(patternEdgeLabelMap)[e];\n\n      if (!edgeLabelCountMap[label_1] || edgeLabelCountMap[label_1] < patternEdgeLabelMap[label_1].length) {\n        prunedByEdgeLabel = true;\n        break;\n      }\n    }\n\n    if (prunedByEdgeLabel) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } //  candidateEdges\n\n\n    var candidateEdgeNum = candidateEdges.length; // prune\n\n    if (candidateEdgeNum < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"break\";\n    }\n\n    var candidateGraphInvalid = false;\n\n    var _loop_5 = function _loop_5(e) {\n      var edge = candidateEdges[e];\n      var edgeLabel = edge[edgeLabelProp];\n      var patternEdgesWithLabel = patternEdgeLabelMap[edgeLabel]; // prune 1:  label  pattern  label \n\n      if (!patternEdgesWithLabel || !patternEdgesWithLabel.length) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        candidateNodeMap[edge.source].outDegree--;\n        candidateNodeMap[edge.target].inDegree--;\n        return \"continue\";\n      } // prune 2:  label + label  pattern \n\n\n      var sourceLabel = candidateNodeMap[edge.source].node[nodeLabelProp];\n      var targetLabel = candidateNodeMap[edge.target].node[nodeLabelProp];\n      var edgeMatched = false;\n      patternEdgesWithLabel.forEach(function (patternEdge) {\n        var patternSource = patternNodeMap[patternEdge.source].node;\n        var patternTarget = patternNodeMap[patternEdge.target].node;\n        if (patternSource[nodeLabelProp] === sourceLabel && patternTarget[nodeLabelProp] === targetLabel) edgeMatched = true;\n        if (!directed && patternSource[nodeLabelProp] === targetLabel && patternTarget[nodeLabelProp] === sourceLabel) edgeMatched = true;\n      });\n\n      if (!edgeMatched) {\n        edgeLabelCountMap[edgeLabel]--; //  label  count  label \n\n        if (patternEdgesWithLabel && edgeLabelCountMap[edgeLabel] < patternEdgesWithLabel.length) {\n          candidateGraphInvalid = true;\n          return \"break\";\n        }\n\n        candidateEdges.splice(e, 1);\n        candidateNodeMap[edge.source].degree--;\n        candidateNodeMap[edge.target].degree--;\n        candidateNodeMap[edge.source].outDegree--;\n        candidateNodeMap[edge.target].inDegree--;\n        return \"continue\";\n      }\n    };\n\n    for (var e = candidateEdgeNum - 1; e >= 0; e--) {\n      var state_2 = _loop_5(e);\n\n      if (state_2 === \"break\") break;\n    } // prune2: / label \n\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    candidateGraph.edges = candidateEdges;\n    var lengthsToCandidate = dijkstra(candidateGraph, candidateGraph.nodes[0].id, false).length;\n    Object.keys(lengthsToCandidate).reverse().forEach(function (targetId) {\n      if (targetId === candidateGraph.nodes[0].id || candidateGraphInvalid) return; // prune4:  candidate\n\n      if (lengthsToCandidate[targetId] === Infinity) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n        return;\n      } // prune5:   pattern  label  beginNode \n\n\n      var nLabel = nodeMap[targetId].node[nodeLabelProp];\n\n      if (!undirectedLengthsToBeginPNodeLabelMap[nLabel] || !undirectedLengthsToBeginPNodeLabelMap[nLabel].length || lengthsToCandidate[targetId] > undirectedLengthsToBeginPNodeLabelMap[nLabel][undirectedLengthsToBeginPNodeLabelMap[nLabel].length - 1]) {\n        var targetNodeLabel = candidateNodeMap[targetId].node[nodeLabelProp];\n        candidateNodeLabelCountMap[targetNodeLabel]--;\n\n        if (candidateNodeLabelCountMap[targetNodeLabel] < patternNodeLabelMap[targetNodeLabel].length) {\n          candidateGraphInvalid = true;\n          return;\n        }\n\n        var idx = candidateGraph.nodes.indexOf(candidateNodeMap[targetId].node);\n        candidateGraph.nodes.splice(idx, 1);\n        candidateNodeMap[targetId] = undefined;\n      }\n    });\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n\n    var degreeChanged = true;\n    var loopCount = 0;\n\n    while (degreeChanged && !candidateGraphInvalid) {\n      degreeChanged = false; // candidate \n\n      var condition = directed ? candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree || candidateNodeMap[candidate.id].inDegree < patternNodeMap[beginPNode.id].inDegree || candidateNodeMap[candidate.id].outDegree < patternNodeMap[beginPNode.id].outDegree : candidateNodeMap[candidate.id].degree < patternNodeMap[beginPNode.id].degree;\n\n      if (condition) {\n        candidateGraphInvalid = true;\n        break;\n      } // candidate label \n\n\n      if (candidateNodeLabelCountMap[candidate[nodeLabelProp]] < patternNodeLabelMap[candidate[nodeLabelProp]].length) {\n        candidateGraphInvalid = true;\n        break;\n      } // prune6\n\n\n      var currentCandidateNodeNum = candidateGraph.nodes.length;\n\n      for (var o = currentCandidateNodeNum - 1; o >= 0; o--) {\n        var cgNode = candidateGraph.nodes[o];\n        var nodeDegree = candidateNodeMap[cgNode.id].degree;\n        var nodeInDegree = candidateNodeMap[cgNode.id].inDegree;\n        var nodeOutDegree = candidateNodeMap[cgNode.id].outDegree;\n        var cNodeLabel = cgNode[nodeLabelProp];\n\n        var _e = stashPatternNodeLabelDegreeMap(minPatternNodeLabelDegreeMap, cNodeLabel, patternNodeMap, patternNodeLabelMap),\n            minPatternNodeLabelDegree = _e.minPatternNodeLabelDegree,\n            minPatternNodeLabelInDegree = _e.minPatternNodeLabelInDegree,\n            minPatternNodeLabelOutDegree = _e.minPatternNodeLabelOutDegree;\n\n        var deleteCondition = directed ? nodeDegree < minPatternNodeLabelDegree || nodeInDegree < minPatternNodeLabelInDegree || nodeOutDegree < minPatternNodeLabelOutDegree : nodeDegree < minPatternNodeLabelDegree;\n\n        if (deleteCondition) {\n          candidateNodeLabelCountMap[cgNode[nodeLabelProp]]--; //  label \n\n          if (candidateNodeLabelCountMap[cgNode[nodeLabelProp]] < patternNodeLabelMap[cgNode[nodeLabelProp]].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          candidateGraph.nodes.splice(o, 1);\n          candidateNodeMap[cgNode.id] = undefined;\n          degreeChanged = true;\n        }\n      }\n\n      if (candidateGraphInvalid || !degreeChanged && loopCount !== 0) break; //  prune5  candidateGraph \n\n      candidateEdgeNum = candidateEdges.length;\n\n      for (var y = candidateEdgeNum - 1; y >= 0; y--) {\n        var cedge = candidateEdges[y];\n\n        if (!candidateNodeMap[cedge.source] || !candidateNodeMap[cedge.target]) {\n          candidateEdges.splice(y, 1);\n          var edgeLabel = cedge[edgeLabelProp];\n          edgeLabelCountMap[edgeLabel]--;\n\n          if (candidateNodeMap[cedge.source]) {\n            candidateNodeMap[cedge.source].degree--;\n            candidateNodeMap[cedge.source].outDegree--;\n          }\n\n          if (candidateNodeMap[cedge.target]) {\n            candidateNodeMap[cedge.target].degree--;\n            candidateNodeMap[cedge.target].inDegree--;\n          } //  label \n\n\n          if (patternEdgeLabelMap[edgeLabel] && edgeLabelCountMap[edgeLabel] < patternEdgeLabelMap[edgeLabel].length) {\n            candidateGraphInvalid = true;\n            break;\n          }\n\n          degreeChanged = true;\n        }\n      }\n\n      loopCount++;\n    }\n\n    if (candidateGraphInvalid) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    } // prune: // label \n\n\n    if (candidateGraphInvalid || candidateGraph.nodes.length < pattern.nodes.length || candidateEdges.length < pattern.edges.length) {\n      candidateGraphs.splice(i, 1);\n      return \"continue\";\n    }\n  };\n\n  for (var i = candidateGraphNum - 1; i >= 0; i--) {\n    var state_1 = _loop_2(i);\n\n    if (state_1 === \"break\") break;\n  } //  candidateGraphs\n  // console.log(\n  //   \"----- stage5: going to splice dulplicated candidate graphs -------\"\n  // );\n  //  candidateGraphs  node-node-edgeLabel  key value\n\n\n  var currentLength = candidateGraphs.length;\n\n  var _loop_3 = function _loop_3(i) {\n    var cg1 = candidateGraphs[i];\n    var cg1EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n    cg1.edges.forEach(function (edge) {\n      var key = \"\".concat(edge.source, \"-\").concat(edge.target, \"-\").concat(edge.label);\n      if (!cg1EdgeMap[key]) cg1EdgeMap[key] = 1;else cg1EdgeMap[key]++;\n    });\n\n    var _loop_6 = function _loop_6(j) {\n      var cg2 = candidateGraphs[j];\n      var cg2EdgeMap = {}; // [node1.id-node2.id-edge.label]: count\n\n      cg2.edges.forEach(function (edge) {\n        var key = \"\".concat(edge.source, \"-\").concat(edge.target, \"-\").concat(edge.label);\n        if (!cg2EdgeMap[key]) cg2EdgeMap[key] = 1;else cg2EdgeMap[key]++;\n      });\n      var same = true;\n\n      if (Object.keys(cg2EdgeMap).length !== Object.keys(cg1EdgeMap).length) {\n        same = false;\n      } else {\n        Object.keys(cg1EdgeMap).forEach(function (key) {\n          if (cg2EdgeMap[key] !== cg1EdgeMap[key]) same = false;\n        });\n      }\n\n      if (same) {\n        candidateGraphs.splice(j, 1);\n      }\n    };\n\n    for (var j = currentLength - 1; j > i; j--) {\n      _loop_6(j);\n    }\n\n    currentLength = candidateGraphs.length;\n  };\n\n  for (var i = 0; i <= currentLength - 1; i++) {\n    _loop_3(i);\n  }\n\n  return candidateGraphs;\n};\n\nexport default GADDI;","import LinkedList from './linked-list';\n\nvar Stack =\n/** @class */\nfunction () {\n  function Stack(maxStep) {\n    if (maxStep === void 0) {\n      maxStep = 10;\n    }\n\n    this.linkedList = new LinkedList();\n    this.maxStep = maxStep;\n  }\n\n  Object.defineProperty(Stack.prototype, \"length\", {\n    get: function get() {\n      return this.linkedList.toArray().length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * \n   */\n\n  Stack.prototype.isEmpty = function () {\n    return !this.linkedList.head;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.isMaxStack = function () {\n    return this.toArray().length >= this.maxStep;\n  };\n  /**\n   * \n   */\n\n\n  Stack.prototype.peek = function () {\n    if (this.isEmpty()) {\n      return null;\n    } // \n\n\n    return this.linkedList.head.value;\n  };\n\n  Stack.prototype.push = function (value) {\n    this.linkedList.prepend(value);\n\n    if (this.length > this.maxStep) {\n      this.linkedList.deleteTail();\n    }\n  };\n\n  Stack.prototype.pop = function () {\n    var removeHead = this.linkedList.deleteHead();\n    return removeHead ? removeHead.value : null;\n  };\n\n  Stack.prototype.toArray = function () {\n    return this.linkedList.toArray().map(function (node) {\n      return node.value;\n    });\n  };\n\n  Stack.prototype.clear = function () {\n    while (!this.isEmpty()) {\n      this.pop();\n    }\n  };\n\n  return Stack;\n}();\n\nexport default Stack;","import getAdjMatrix from './adjacent-matrix';\nimport breadthFirstSearch from './bfs';\nimport connectedComponent from './connected-component';\nimport getDegree from './degree';\nimport { getInDegree, getOutDegree } from './degree';\nimport detectCycle, { detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle } from './detect-cycle';\nimport depthFirstSearch from './dfs';\nimport dijkstra from './dijkstra';\nimport { findAllPath, findShortestPath } from './find-path';\nimport floydWarshall from './floydWarshall';\nimport labelPropagation from './label-propagation';\nimport louvain from './louvain';\nimport iLouvain from './i-louvain';\nimport kCore from './k-core';\nimport kMeans from './k-means';\nimport cosineSimilarity from './cosine-similarity';\nimport nodesCosineSimilarity from './nodes-cosine-similarity';\nimport minimumSpanningTree from './mts';\nimport pageRank from './pageRank';\nimport GADDI from './gaddi';\nimport Stack from './structs/stack';\nimport { getNeighbors } from './util';\nvar detectDirectedCycle = detectCycle;\nexport { getAdjMatrix, breadthFirstSearch, connectedComponent, getDegree, getInDegree, getOutDegree, detectCycle, detectDirectedCycle, detectAllCycles, detectAllDirectedCycle, detectAllUndirectedCycle, depthFirstSearch, dijkstra, findAllPath, findShortestPath, floydWarshall, labelPropagation, louvain, iLouvain, kCore, kMeans, cosineSimilarity, nodesCosineSimilarity, minimumSpanningTree, pageRank, getNeighbors, Stack, GADDI };\nexport default {\n  getAdjMatrix: getAdjMatrix,\n  breadthFirstSearch: breadthFirstSearch,\n  connectedComponent: connectedComponent,\n  getDegree: getDegree,\n  getInDegree: getInDegree,\n  getOutDegree: getOutDegree,\n  detectCycle: detectCycle,\n  detectDirectedCycle: detectDirectedCycle,\n  detectAllCycles: detectAllCycles,\n  detectAllDirectedCycle: detectAllDirectedCycle,\n  detectAllUndirectedCycle: detectAllUndirectedCycle,\n  depthFirstSearch: depthFirstSearch,\n  dijkstra: dijkstra,\n  findAllPath: findAllPath,\n  findShortestPath: findShortestPath,\n  floydWarshall: floydWarshall,\n  labelPropagation: labelPropagation,\n  louvain: louvain,\n  iLouvain: iLouvain,\n  kCore: kCore,\n  kMeans: kMeans,\n  cosineSimilarity: cosineSimilarity,\n  nodesCosineSimilarity: nodesCosineSimilarity,\n  minimumSpanningTree: minimumSpanningTree,\n  pageRank: pageRank,\n  getNeighbors: getNeighbors,\n  Stack: Stack,\n  GADDI: GADDI\n};",null,"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.hammer=e():t.hammer=e()}(self,(function(){return function(){\"use strict\";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};function n(t,e){return void 0===t?e:t}t.r(e),t.d(e,{default:function(){return ke}});var r,o,i=Math.round,u=Math.abs,c=Date.now,a=\"compute\",s=\"auto\",f=\"manipulation\",l=\"none\",p=\"pan-x\",y=\"pan-y\",h=(r={},[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach((function(t){return r[t]=!0})),r),v=\"touch\",b=[\"x\",\"y\"],d=[\"clientX\",\"clientY\"],m=32;o=\"function\"!=typeof Object.assign?function(t){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var g=o,O=1;function w(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function T(t,e,n){return!!Array.isArray(t)&&(w(t,n[e],n),!0)}function j(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},P(t)}function _(t,e){return\"function\"===P(t)?t.apply(e&&e[0]||void 0,e):t}function E(t,e){var n=e.manager;return n?n.get(t):t}function R(t){return 16&t?\"cancel\":8&t?\"end\":4&t?\"move\":2&t?\"start\":\"\"}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=g({},this.defaults,e||{}),this.id=O++,this.manager=null,this.options.enable=n(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}var e,r;return e=t,(r=[{key:\"set\",value:function(t){return g(this.options,t),this.manager&&this.manager.touchAction.update(),this}},{key:\"recognizeWith\",value:function(t){if(T(t,\"recognizeWith\",this))return this;var e=this.simultaneous;return e[(t=E(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this}},{key:\"dropRecognizeWith\",value:function(t){return T(t,\"dropRecognizeWith\",this)||(t=E(t,this),delete this.simultaneous[t.id]),this}},{key:\"requireFailure\",value:function(t){if(T(t,\"requireFailure\",this))return this;var e=this.requireFail;return-1===j(e,t=E(t,this))&&(e.push(t),t.requireFailure(this)),this}},{key:\"dropRequireFailure\",value:function(t){if(T(t,\"dropRequireFailure\",this))return this;t=E(t,this);var e=j(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this}},{key:\"hasRequireFailures\",value:function(){return this.requireFail.length>0}},{key:\"canRecognizeWith\",value:function(t){return!!this.simultaneous[t.id]}},{key:\"emit\",value:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+R(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+R(n))}},{key:\"tryEmit\",value:function(t){if(this.canEmit())return this.emit(t);this.state=m}},{key:\"canEmit\",value:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0}},{key:\"recognize\",value:function(t){var e=g({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=m);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)}},{key:\"process\",value:function(t){}},{key:\"getTouchAction\",value:function(){}},{key:\"reset\",value:function(){}}])&&S(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function x(t){return x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},x(t)}function D(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}function C(t,e){if(e&&(\"object\"===x(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}k.prototype.defaults={};var N=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(r);if(o){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function u(){return D(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"attrTest\",value:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e}},{key:\"process\",value:function(t){var e=this.state,n=t.eventType,r=6&e,o=this.attrTest(t);return r&&(8&n||!o)?16|e:r||o?4&n?8|e:2&e?4|e:2:m}}])&&A(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function X(t){return X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},X(t)}function Y(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(){return B=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=M(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},B.apply(this,arguments)}function M(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function L(t,e){if(e&&(\"object\"===X(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}N.prototype.defaults={pointers:1};var U=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&q(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return L(this,t)});function u(){return Y(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[l]}},{key:\"attrTest\",value:function(t){return B(W(u.prototype),\"attrTest\",this).call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}])&&F(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function V(t){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},V(t)}function H(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(){return Z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=$(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Z.apply(this,arguments)}function $(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}function J(t,e){return J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J(t,e)}function K(t,e){if(e&&(\"object\"===V(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}U.prototype.defaults={event:\"rotate\",threshold:0,pointers:2};var tt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(r);if(o){var n=Q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return K(this,t)});function u(){return H(this,u),i.apply(this,arguments)}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[l]}},{key:\"attrTest\",value:function(t){return Z(Q(u.prototype),\"attrTest\",this).call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)}},{key:\"emit\",value:function(t){if(1!==t.scale){var e=t.scale<1?\"in\":\"out\";t.additionalEvent=this.options.event+e}Z(Q(u.prototype),\"emit\",this).call(this,t)}}])&&G(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function et(t){return 16===t?\"down\":8===t?\"up\":2===t?\"left\":4===t?\"right\":\"\"}function nt(t){return nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},nt(t)}function rt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(){return it=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ut(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},it.apply(this,arguments)}function ut(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}function ct(t,e){return ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ct(t,e)}function at(t,e){if(e&&(\"object\"===nt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}tt.prototype.defaults={event:\"pinch\",threshold:0,pointers:2};var ft=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ct(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=st(r);if(o){var n=st(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return at(this,t)});function u(){var t;return rt(this,u),(t=i.apply(this,arguments)).pX=null,t.pY=null,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){var t=this.options.direction,e=[];return 6&t&&e.push(y),24&t&&e.push(p),e}},{key:\"directionTest\",value:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,u=t.deltaY;return o&e.direction||(6&e.direction?(o=0===i?1:i<0?2:4,n=i!==this.pX,r=Math.abs(t.deltaX)):(o=0===u?1:u<0?8:16,n=u!==this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction}},{key:\"attrTest\",value:function(t){return N.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))}},{key:\"emit\",value:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),it(st(u.prototype),\"emit\",this).call(this,t)}}])&&ot(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(N);function lt(t){return lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},lt(t)}function pt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(){return ht=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=vt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ht.apply(this,arguments)}function vt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function bt(t,e){return bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bt(t,e)}function dt(t,e){if(e&&(\"object\"===lt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}ft.prototype.defaults={event:\"pan\",threshold:10,pointers:1,direction:30};var gt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&bt(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(r);if(o){var n=mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dt(this,t)});function c(){return pt(this,c),i.apply(this,arguments)}return e=c,(n=[{key:\"getTouchAction\",value:function(){return ft.prototype.getTouchAction.call(this)}},{key:\"attrTest\",value:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),ht(mt(c.prototype),\"attrTest\",this).call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&u(e)>this.options.velocity&&4&t.eventType}},{key:\"emit\",value:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}])&&yt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),c}(N);function Ot(t,e){return function(){return t.apply(e,arguments)}}function wt(t,e,n){return setTimeout(Ot(t,n),e)}function Tt(t,e,n){n||(n=b);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function jt(t){return jt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},jt(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Et(t,e)}function Rt(t,e){if(e&&(\"object\"===jt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}gt.prototype.defaults={event:\"swipe\",threshold:10,velocity:.3,direction:30,pointers:1};var kt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Et(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rt(this,t)});function u(){var t;return Pt(this,u),(t=i.apply(this,arguments)).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[f]}},{key:\"process\",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(o&&i&&r){if(4!==t.eventType)return this.failTimeout();var u=!this.pTime||t.timeStamp-this.pTime<n.interval,c=!this.pCenter||Tt(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,c&&u?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=wt((function(){e.state=8,e.tryEmit()}),n.interval,this),2):8}return m}},{key:\"failTimeout\",value:function(){var t=this;return this._timer=wt((function(){t.state=m}),this.options.interval,this),m}},{key:\"reset\",value:function(){clearTimeout(this._timer),this._timer=null}},{key:\"emit\",value:function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}])&&_t(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function xt(t){return xt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},xt(t)}function Dt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},It(t,e)}function Ct(t,e){if(e&&(\"object\"===xt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(t)}kt.prototype.defaults={event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10};var Nt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&It(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zt(r);if(o){var n=zt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ct(this,t)});function u(){var t;return Dt(this,u),(t=i.apply(this,arguments))._timer=null,t._input=null,t}return e=u,(n=[{key:\"getTouchAction\",value:function(){return[s]}},{key:\"process\",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime>n.time;if(this._input=t,!o||!r||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=wt((function(){e.state=8,e.tryEmit()}),n.time,this);else if(4&t.eventType)return 8;return m}},{key:\"reset\",value:function(){clearTimeout(this._timer),this._timer=null}},{key:\"emit\",value:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(\"\".concat(this.options.event,\"up\"),t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}])&&At(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(k);function Xt(t,e){return t.indexOf(e)>-1}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Nt.prototype.defaults={event:\"press\",pointers:1,time:251,threshold:9};var Ft=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.manager=e,this.set(n)}var e,n;return e=t,(n=[{key:\"set\",value:function(t){t===a&&(t=this.compute()),this.actions=t.toLowerCase().trim()}},{key:\"update\",value:function(){this.set(this.manager.options.touchAction)}},{key:\"compute\",value:function(){var t=[];return w(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Xt(t,l))return l;var e=Xt(t,p),n=Xt(t,y);return e&&n?l:e||n?e?p:y:Xt(t,f)?f:s}(t.join(\" \"))}},{key:\"preventDefaults\",value:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,o=Xt(r,l)&&!h.none,i=Xt(r,y)&&!h[\"pan-y\"],u=Xt(r,p)&&!h[\"pan-x\"];if(o){var c=1===t.pointers.length,a=t.distance<2,s=t.deltaTime<250;if(c&&a&&s)return}if(!u||!i)return o||i&&6&n||u&&24&n?this.preventSrc(e):void 0}}},{key:\"preventSrc\",value:function(t){this.manager.session.prevented=!0,t.preventDefault()}}])&&Yt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function Bt(t){var e=t.length;if(1===e)return{x:i(t[0].clientX),y:i(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:i(n/e),y:i(r/e)}}function Mt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:i(t.pointers[n].clientX),clientY:i(t.pointers[n].clientY)},n++;return{timeStamp:c(),pointers:e,center:Bt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function qt(t,e,n){n||(n=b);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function Lt(t,e){return t===e?1:u(t)>=u(e)?t<0?2:4:e<0?8:16}function Wt(t,e,n){return{x:e/t||0,y:n/t||0}}function Ut(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&e&&r-o==0,a=12&e&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=Mt(e)),o>1&&!n.firstMultiple?n.firstMultiple=Mt(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,f=e.center=Bt(r);e.timeStamp=c(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=qt(s,f),e.distance=Tt(s,f),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};1!==e.eventType&&4!==i.eventType||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=Lt(e.deltaX,e.deltaY);var l,p,y=Wt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=y.x,e.overallVelocityY=y.y,e.overallVelocity=u(y.x)>u(y.y)?y.x:y.y,e.scale=a?(l=a.pointers,Tt((p=r)[0],p[1],d)/Tt(l[0],l[1],d)):1,e.rotation=a?function(t,e){return qt(e[1],e[0],d)+qt(t[1],t[0],d)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,i,c=t.lastInterval||e,a=e.timeStamp-c.timeStamp;if(8!==e.eventType&&(a>25||void 0===c.velocity)){var s=e.deltaX-c.deltaX,f=e.deltaY-c.deltaY,l=Wt(a,s,f);r=l.x,o=l.y,n=u(l.x)>u(l.y)?l.x:l.y,i=Lt(s,f),t.lastInterval=e}else n=c.velocity,r=c.velocityX,o=c.velocityY,i=c.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}(n,e)}(t,n),t.emit(\"hammer.input\",n),t.recognize(n),t.session.prevInput=n}function Vt(t){return t.trim().split(/\\s+/g)}function Ht(t,e,n){w(Vt(e),(function(e){t.addEventListener(e,n,!1)}))}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=this;this.manager=e,this.callback=n,this.eventHandler=function(t){_(e.options.enable,[e])&&r.handler(t)},this.init()}var e,n;return e=t,(n=[{key:\"handler\",value:function(){}},{key:\"init\",value:function(){var t,e,n;t=this.manager,e=this.events||\"\",n=this.eventHandler,w(Vt(e),(function(e){t.on(\"origin_input:\".concat(e),n)}))}},{key:\"destroy\",value:function(){removeManagerListeners(this.manager,this.events||\"\",this.eventHandler)}}])&&Gt(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function $t(t){return Array.prototype.slice.call(t,0)}function Jt(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var u=e?t[i][e]:t[i];j(o,u)<0&&r.push(t[i]),o[i]=u,i++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function Kt(t){return Kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Kt(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ee(t,e)}function ne(t,e){if(e&&(\"object\"===Kt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function re(t){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},re(t)}var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ie=\"touchstart touchmove touchend touchcancel\",ue=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ee(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=re(r);if(o){var n=re(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ne(this,t)});function u(){var t;return Qt(this,u),u.prototype.evTarget=ie,u.prototype.targetIds={},u.prototype.events=ie,(t=i.apply(this,arguments)).evTarget=ie,t.targetIds={},t}return e=u,(n=[{key:\"handler\",value:function(t){var e=oe[t.type],n=ce.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:v,srcEvent:t})}}])&&te(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(Zt);function ce(t,e){var n,r,o=$t(t.touches),i=this.targetIds;if(3&e&&1===o.length)return i[o[0].identifier]=!0,[o,o];var u=$t(t.changedTouches),c=[];if(this.target,r=o,1===e)for(n=0;n<r.length;)i[r[n].identifier]=!0,n++;for(n=0;n<u.length;)i[u[n].identifier]&&c.push(u[n]),12&e&&delete i[u[n].identifier],n++;return c.length?[Jt(r.concat(c),\"identifier\",!0),c]:void 0}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var se=function(){function t(e){var n,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=g({},pe.defaults,e||{}),this.handlers={},this.filters=[],this.session={},this.recognizers=[],this.input=(n=ue,this.options.inputClass&&(n=inputClass),new n(this,Ut)),this.touchAction=new Ft(this,this.options.touchAction),w(this.options.recognizers,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e,n;return e=t,(n=[{key:\"set\",value:function(t){return g(this.options,t),t.touchAction&&this.touchAction.update(),this}},{key:\"stop\",value:function(t){this.session.stopped=t?2:1}},{key:\"addFilter\",value:function(t){if(\"function\"!=typeof t)throw new Error(\"filter must be a function\");this.filters.push(t)}},{key:\"recognize\",value:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!==o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),i++}}},{key:\"get\",value:function(t){if(t instanceof k)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null}},{key:\"add\",value:function(t){if(T(t,\"add\",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t}},{key:\"remove\",value:function(t){if(T(t,\"remove\",this))return this;if(t=this.get(t)){var e=this.recognizers,n=j(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this}},{key:\"on\",value:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return w(Vt(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}}},{key:\"off\",value:function(t,e){if(void 0!==t){var n=this.handlers;return w(Vt(t),(function(t){e?n[t]&&n[t].splice(j(n[t],e),1):delete n[t]})),this}}},{key:\"emit\",value:function(t,e){var n=this.handlers[t]&&this.handlers[t].slice();if(this.filters,n&&n.length){t.startsWith(\"origin_input\")||(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault&&e.srcEvent.preventDefault()});for(var r=0;r<n.length;)n[r](e),r++}}},{key:\"destroy\",value:function(){this.handlers={},this.filters=[],this.session={},this.input.destroy()}}])&&ae(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e,n){return e&&fe(t.prototype,e),n&&fe(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}var pe=le((function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=e||{}).recognizers=n(e.recognizers,t.defaults.preset),new se(e)}));function ye(t){return ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ye(t)}function he(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},be(t,e)}function de(t,e){if(e&&(\"object\"===ye(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}pe.defaults={domEvents:!1,touchAction:a,enable:!0,inputClass:null,preset:[[U,{enable:!1}],[tt,{enable:!1},[\"rotate\"]],[gt,{direction:6}],[ft,{direction:6},[\"swipe\"]],[kt],[kt,{event:\"doubletap\",taps:2},[\"tap\"]],[Nt]]};var ge={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Oe={2:v,3:\"pen\",4:\"mouse\",5:\"kinect\"},we=\"pointerdown\",Te=\"pointermove pointerup pointercancel\",je=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&be(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(r);if(o){var n=me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return de(this,t)});function u(){var t;return he(this,u),u.prototype.events=\"\".concat(we,\" \").concat(Te),(t=i.apply(this,arguments)).evEl=we,t.evWin=Te,t.store=t.manager.session.pointerEvents=[],t}return e=u,(n=[{key:\"handler\",value:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace(\"ms\",\"\"),o=ge[r],i=Oe[t.pointerType]||t.pointerType,u=i===v,c=j(e,t.pointerId,\"pointerId\");1&o&&(0===t.button||u)?c<0&&(e.push(t),c=e.length-1):12&o&&(n=!0),c<0||(e[c]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(c,1))}}])&&ve(e.prototype,n),Object.defineProperty(e,\"prototype\",{writable:!1}),u}(Zt);function Pe(t,e,n){w(Vt(e),(function(e){t.removeEventListener(e,n,!1)}))}function _e(t,e,n){var r=\"DEPRECATED METHOD: \".concat(e,\"\\n\").concat(n,\" AT \\n\");return function(){var e=new Error(\"get-stack-trace\"),n=e&&e.stack?e.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",o=console.warn;return o&&o(r,n),t.apply(this,arguments)}}var Ee=_e((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&void 0===t[r[o]])&&(t[r[o]]=e[r[o]]),o++;return t}),\"extend\",\"Use `assign`.\"),Re=Ee,Se=_e((function(t,e){return Re(t,e,!0)}),\"merge\",\"Use `assign`.\"),ke=g(pe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:m,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:se,Input:Zt,TouchAction:Ft,TouchInput:ue,PointerEventInput:je,Recognizer:k,AttrRecognizer:N,Tap:kt,Pan:ft,Swipe:gt,Pinch:tt,Rotate:U,Press:Nt,on:Ht,off:Pe,each:w,merge:Se,extend:Re,assign:g,inherit:function(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&g(r,n)},bindFn:Ot,toArray:$t,inArray:j,uniqueArray:Jt,splitStr:Vt,boolOrFn:_,hasParent:function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},addEventListeners:Ht,removeEventListeners:Pe});return e}()}));\n//# sourceMappingURL=hammer.min.js.map","import { IPoint, TreeGraphData, Util } from '@antv/f6-core';\nimport { isNumber } from '@antv/util';\n\nconst { traverseTree } = Util;\n\n/**\n *  number | Function  return number  Function\n * @param  {number | Function}  value \n * @param  {number}  defaultV \n * @return {Function} \n */\nexport const proccessToFunc = (\n  value: number | Function,\n  defaultV?: number,\n): ((d?: any) => number) => {\n  let func;\n  if (!value) {\n    func = (d) => {\n      return defaultV || 1;\n    };\n  } else if (isNumber(value)) {\n    func = (d) => {\n      return value;\n    };\n  } else {\n    func = value;\n  }\n  return func;\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureData = (\n  nodes,\n  edges,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i];\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = dests.length;\n    maxEdgePerVetex = Math.max(maxEdgePerVetex, dests.length);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithOneEdgeAttr = (\n  nodes,\n  edges,\n  attrs: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs(e)); // \n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs(e)); // \n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    dataArray[i * 4 + 2] = offset;\n    dataArray[i * 4 + 3] = len / 2; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 2);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n\n/**\n *  GPU  maxEdgePerVetex\n * @param  {NodeConfig[]}  nodes \n * @param  {EdgeConfig[]}  edges \n * @param  {Function}  attrs \n * @return {Object}  maxEdgePerVetex \n */\nexport const buildTextureDataWithTwoEdgeAttr = (\n  nodes,\n  edges,\n  attrs1: Function,\n  attrs2: Function,\n): {\n  array: Float32Array;\n  maxEdgePerVetex: number;\n} => {\n  const dataArray = [];\n  const nodeDict = [];\n  const mapIdPos = {};\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const n = nodes[i];\n    mapIdPos[n.id] = i;\n    dataArray.push(n.x);\n    dataArray.push(n.y);\n    dataArray.push(0);\n    dataArray.push(0);\n    nodeDict.push([]);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.source]].push(attrs1(e));\n    nodeDict[mapIdPos[e.source]].push(attrs2(e));\n    nodeDict[mapIdPos[e.source]].push(0);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    nodeDict[mapIdPos[e.target]].push(attrs1(e));\n    nodeDict[mapIdPos[e.target]].push(attrs2(e));\n    nodeDict[mapIdPos[e.target]].push(0);\n  }\n\n  let maxEdgePerVetex = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const offset = dataArray.length;\n    const dests = nodeDict[i]; // dest  id  id\n    const len = dests.length;\n    // dataArray[i * 4 + 2] = offset;\n    // dataArray[i * 4 + 3] = len / 4; // \n    // pack offset & length into float32: offset 20bit, length 12bit\n    dataArray[i * 4 + 2] = offset + (1048576 * len) / 4;\n    dataArray[i * 4 + 3] = 0; // \n    maxEdgePerVetex = Math.max(maxEdgePerVetex, len / 4);\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      dataArray.push(+dest);\n    }\n  }\n\n  //  4  0\n  while (dataArray.length % 4 !== 0) {\n    dataArray.push(0);\n  }\n  return {\n    array: new Float32Array(dataArray),\n    maxEdgePerVetex,\n  };\n};\n/**\n * transform the extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @param  {ModelConfig[]}  items the items to be read\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const attributesToTextureData = (\n  attributeNames: string[],\n  items,\n): { array: Float32Array; count: number } => {\n  const dataArray = [];\n  const attributeNum = attributeNames.length;\n  const attributteStringMap = {};\n  items.forEach((item) => {\n    attributeNames.forEach((name, i) => {\n      if (attributteStringMap[item[name]] === undefined) {\n        attributteStringMap[item[name]] = Object.keys(attributteStringMap).length;\n      }\n      dataArray.push(attributteStringMap[item[name]]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  });\n  return {\n    array: new Float32Array(dataArray),\n    count: Object.keys(attributteStringMap).length,\n  };\n};\n\n/**\n * transform the number array format of extended attributes of nodes or edges to a texture array\n * @param  {string[]}  attributeNames attributes' name to be read from items and put into output array\n * @return {Float32Array} the attributes' value array to be read by GPU\n */\nexport const arrayToTextureData = (valueArrays: number[][]): Float32Array => {\n  const dataArray = [];\n  const attributeNum = valueArrays.length;\n  const itemNum = valueArrays[0].length;\n  for (let j = 0; j < itemNum; j++) {\n    valueArrays.forEach((valueArray, i) => {\n      dataArray.push(valueArray[j]);\n      // insure each node's attributes take inter number of grids\n      if (i === attributeNum - 1) {\n        while (dataArray.length % 4 !== 0) {\n          dataArray.push(0);\n        }\n      }\n    });\n  }\n\n  return new Float32Array(dataArray);\n};\n\nexport type TreeGraphDataWithPosition = TreeGraphData & {\n  x: number;\n  y: number;\n  children?: TreeGraphDataWithPosition[];\n};\n\n/**\n *\n * @param data Tree graph data\n * @param layout\n */\nexport const radialLayout = (\n  data: TreeGraphDataWithPosition,\n  layout?: string,\n): TreeGraphDataWithPosition => {\n  //  H / V / LR / RL / TB / BT\n  const VERTICAL_LAYOUTS: string[] = ['V', 'TB', 'BT'];\n  const min: IPoint = {\n    x: Infinity,\n    y: Infinity,\n  };\n\n  const max: IPoint = {\n    x: -Infinity,\n    y: -Infinity,\n  };\n  // TBxradyr\n  let rScale: 'x' | 'y' = 'x';\n  let radScale: 'x' | 'y' = 'y';\n  if (layout && VERTICAL_LAYOUTS.indexOf(layout) >= 0) {\n    // yradxr\n    radScale = 'x';\n    rScale = 'y';\n  }\n  let count = 0;\n  traverseTree(data, (node: TreeGraphDataWithPosition) => {\n    count++;\n    if (node.x > max.x) {\n      max.x = node.x;\n    }\n    if (node.x < min.x) {\n      min.x = node.x;\n    }\n    if (node.y > max.y) {\n      max.y = node.y;\n    }\n    if (node.y < min.y) {\n      min.y = node.y;\n    }\n    return true;\n  });\n  const avgRad = (Math.PI * 2) / count;\n  const radDiff = max[radScale] - min[radScale];\n  if (radDiff === 0) {\n    return data;\n  }\n\n  traverseTree(data, (node) => {\n    const radial = ((node[radScale] - min[radScale]) / radDiff) * (Math.PI * 2 - avgRad) + avgRad;\n    const r = Math.abs(rScale === 'x' ? node.x - data.x : node.y - data.y);\n    node.x = r * Math.cos(radial);\n    node.y = r * Math.sin(radial);\n    return true;\n  });\n  return data;\n};\n","import * as ColorUtil from './color';\nimport * as LayoutUtil from './layout';\nimport { Util } from '@antv/f6-core';\n\nconst G6Util: any = { ...Util, ...ColorUtil, ...LayoutUtil };\n\nexport default G6Util;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { deepMix } from '@antv/util'; // \n\nregisterNode('circle', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: r,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: r,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = deepMix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var r = size[0] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      r: r\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var size = this.getSize(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      r: size[0] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = deepMix({}, keyShape.attr(), strokeStyle, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('rect', {\n  // \n  options: {\n    size: [100, 30],\n    style: {\n      radius: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]],\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'rect',\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var keyShape = item.get('keyShape');\n\n    if (!cfg.size) {\n      size[0] = keyShape.attr('width') || defaultStyle.width;\n      size[1] = keyShape.attr('height') || defaultStyle.height;\n    } //  cfg  cfg \n\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      x: -size[0] / 2,\n      y: -size[1] / 2,\n      width: size[0],\n      height: size[1]\n    }; //  getShapeStyle update  style \n\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, false);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util';\n/**\n * \n */\n\nregisterNode('ellipse', {\n  // \n  options: {\n    size: [80, 40],\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'ellipse',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('ellipse', {\n      attrs: style,\n      className: 'ellipse-keyShape',\n      name: 'ellipse-keyShape',\n      draggable: true\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: rx,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: ry,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var rx = size[0] / 2;\n    var ry = size[1] / 2;\n\n    var styles = __assign({\n      x: 0,\n      y: 0,\n      rx: rx,\n      ry: ry\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var size = this.getSize(cfg);\n    var strokeStyle = {\n      stroke: cfg.color,\n      rx: size[0] / 2,\n      ry: size[1] / 2\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('diamond', {\n  // \n  options: {\n    size: [80, 80],\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'diamond',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var path = [['M', 0, -height / 2], ['L', width / 2, 0], ['L', 0, height / 2], ['L', -width / 2, 0], ['Z'] // \n    ];\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // \n\nregisterNode('triangle', {\n  // \n  options: {\n    size: 40,\n    direction: 'up',\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      },\n      offset: 15\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20,\n      offset: 6\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'triangle',\n  // \n  labelPosition: 'bottom',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.icon,\n        icon = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var style = this.getShapeStyle(cfg);\n    var direction = cfg.direction || defaultDirection;\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        offset = icon.offset,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        var iconW = -w / 2;\n        var iconH = -h / 2;\n\n        if (direction === 'up' || direction === 'down') {\n          iconH += offset;\n        }\n\n        if (direction === 'left' || direction === 'right') {\n          iconW += offset;\n        }\n\n        group.addShape('image', {\n          attrs: __assign({\n            x: iconW,\n            y: iconH\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.linkPoints,\n        linkPoints = _b === void 0 ? {} : _b,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n\n    if (left) {\n      // up down left right \n      var leftPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        leftPos = [-r, diffY];\n      } else if (direction === 'down') {\n        leftPos = [-r, -diffY];\n      } else if (direction === 'left') {\n        leftPos = [-r, r - diffY];\n      }\n\n      if (leftPos) {\n        // left circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: leftPos[0],\n            y: leftPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left'\n        });\n      }\n    }\n\n    if (right) {\n      // right circle\n      // up down left right \n      var rightPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        rightPos = [r, diffY];\n      } else if (direction === 'down') {\n        rightPos = [r, -diffY];\n      } else if (direction === 'right') {\n        rightPos = [r, r - diffY];\n      }\n\n      if (rightPos) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: rightPos[0],\n            y: rightPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right'\n        });\n      }\n    }\n\n    if (top) {\n      // up down left right \n      var topPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'up') {\n        topPos = [r - diffY, -diffY];\n      } else if (direction === 'left') {\n        topPos = [r, -diffY];\n      } else if (direction === 'right') {\n        topPos = [-r, -diffY];\n      }\n\n      if (topPos) {\n        // top circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: topPos[0],\n            y: topPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top'\n        });\n      }\n    }\n\n    if (bottom) {\n      // up down left right \n      var bottomPos = null;\n      var diffY = len * Math.sin(1 / 3 * Math.PI);\n      var r = len * Math.sin(1 / 3 * Math.PI);\n\n      if (direction === 'down') {\n        bottomPos = [-r + diffY, diffY];\n      } else if (direction === 'left') {\n        bottomPos = [r, diffY];\n      } else if (direction === 'right') {\n        bottomPos = [-r, diffY];\n      }\n\n      if (bottomPos) {\n        // bottom circle\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, markStyle), {\n            x: bottomPos[0],\n            y: bottomPos[1],\n            r: markSize / 2 || markR || 5\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom'\n        });\n      }\n    }\n  },\n  getPath: function getPath(cfg) {\n    var defaultDirection = this.getOptions(cfg).direction;\n    var direction = cfg.direction || defaultDirection;\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n    var path = [['M', -r, diffY], ['L', 0, -diffY], ['L', r, diffY], ['Z'] // \n    ];\n\n    if (direction === 'down') {\n      path = [['M', -r, -diffY], ['L', r, -diffY], ['L', 0, diffY], ['Z'] // \n      ];\n    } else if (direction === 'left') {\n      path = [['M', -r, r - diffY], ['L', r, -r], ['L', r, r], ['Z'] // \n      ];\n    } else if (direction === 'right') {\n      path = [['M', r, r - diffY], ['L', -r, r], ['L', -r, -r], ['Z'] // \n      ];\n    }\n\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var _a = this.getOptions({}),\n        defaultLinkPoints = _a.linkPoints,\n        defaultDirection = _a.direction;\n\n    var direction = cfg.direction || defaultDirection;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _b = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined\n    },\n        left = _b.left,\n        right = _b.right,\n        top = _b.top,\n        bottom = _b.bottom;\n\n    var size = this.getSize(cfg);\n    var len = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var leftPos = null;\n    var diffY = len * Math.sin(1 / 3 * Math.PI);\n    var r = len * Math.sin(1 / 3 * Math.PI);\n\n    if (direction === 'up') {\n      leftPos = [-r, diffY];\n    } else if (direction === 'down') {\n      leftPos = [-r, -diffY];\n    } else if (direction === 'left') {\n      leftPos = [-r, r - diffY];\n    }\n\n    if (leftPos) {\n      if (markLeft) {\n        if (!left && left !== undefined) {\n          markLeft.remove();\n        } else {\n          markLeft.attr(__assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }));\n        }\n      } else if (left) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: leftPos[0],\n            y: leftPos[1]\n          }),\n          className: 'link-point-left',\n          name: 'link-point-left',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var rightPos = null;\n\n    if (direction === 'up') {\n      rightPos = [r, diffY];\n    } else if (direction === 'down') {\n      rightPos = [r, -diffY];\n    } else if (direction === 'right') {\n      rightPos = [r, r - diffY];\n    }\n\n    if (rightPos) {\n      if (markRight) {\n        if (!right && right !== undefined) {\n          markRight.remove();\n        } else {\n          markRight.attr(__assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }));\n        }\n      } else if (right) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: rightPos[0],\n            y: rightPos[1]\n          }),\n          className: 'link-point-right',\n          name: 'link-point-right',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var topPos = null;\n\n    if (direction === 'up') {\n      topPos = [r - diffY, -diffY];\n    } else if (direction === 'left') {\n      topPos = [r, -diffY];\n    } else if (direction === 'right') {\n      topPos = [-r, -diffY];\n    }\n\n    if (topPos) {\n      if (markTop) {\n        if (!top && top !== undefined) {\n          markTop.remove();\n        } else {\n          // top circle\n          markTop.attr(__assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }));\n        }\n      } else if (top) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: topPos[0],\n            y: topPos[1]\n          }),\n          className: 'link-point-top',\n          name: 'link-point-top',\n          isAnchorPoint: true\n        });\n      }\n    }\n\n    var bottomPos = null;\n\n    if (direction === 'down') {\n      bottomPos = [-r + diffY, diffY];\n    } else if (direction === 'left') {\n      bottomPos = [r, diffY];\n    } else if (direction === 'right') {\n      bottomPos = [-r, diffY];\n    }\n\n    if (bottomPos) {\n      if (markBottom) {\n        if (!bottom && bottom !== undefined) {\n          markBottom.remove();\n        } else {\n          markBottom.attr(__assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }));\n        }\n      } else if (bottom) {\n        group.addShape('circle', {\n          attrs: __assign(__assign({}, styles), {\n            x: bottomPos[0],\n            y: bottomPos[1]\n          }),\n          className: 'link-point-bottom',\n          name: 'link-point-bottom',\n          isAnchorPoint: true\n        });\n      }\n    }\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { mix, isString } from '@antv/util';\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nregisterNode('modelRect', {\n  // \n  options: {\n    size: [185, 70],\n    style: {\n      radius: 5,\n      stroke: '#69c0ff',\n      fill: '#ffffff',\n      lineWidth: Global.defaultNode.style.lineWidth,\n      fillOpacity: 1\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: '#595959',\n        fontSize: 14\n      },\n      offset: 30 //  offset y \n\n    },\n    descriptionCfg: {\n      style: {\n        fontSize: 12,\n        fill: '#bfbfbf'\n      },\n      paddingTop: 0\n    },\n    preRect: {\n      show: true,\n      width: 4,\n      fill: '#40a9ff',\n      radius: 2\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: 10,\n      lineWidth: 1,\n      fill: '#72CC4A',\n      stroke: '#72CC4A'\n    },\n    // icon\n    logoIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: 0\n    },\n    // icon\n    stateIcon: {\n      // icon false icon\n      show: true,\n      x: 0,\n      y: 0,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',\n      width: 16,\n      height: 16,\n      // \n      offset: -5\n    },\n    // \n    // anchorPoints: [{ x: 0, y: 0.5 }, { x: 1, y: 0.5 }]\n    anchorPoints: [[0, 0.5], [1, 0.5]]\n  },\n  shapeType: 'modelRect',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).preRect,\n        preRect = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = group.addShape('rect', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n\n    var preRectShow = preRect.show,\n        preRectStyle = __rest(preRect, [\"show\"]);\n\n    if (preRectShow) {\n      group.addShape('rect', {\n        attrs: __assign({\n          x: -width / 2,\n          y: -height / 2,\n          height: height\n        }, preRectStyle),\n        className: 'pre-rect',\n        name: 'pre-rect',\n        draggable: true\n      });\n    }\n\n    this.drawLogoIcon(cfg, group);\n    this.drawStateIcon(cfg, group);\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * logo\n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawLogoIcon: function drawLogoIcon(cfg, group) {\n    var _a = this.getOptions(cfg).logoIcon,\n        logoIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (logoIcon.show) {\n      var w = logoIcon.width,\n          h = logoIcon.height,\n          x = logoIcon.x,\n          y = logoIcon.y,\n          offset = logoIcon.offset,\n          text = logoIcon.text,\n          logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, logoIconStyle),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, logoIconStyle), {\n            x: x || -width / 2 + w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-logo-icon',\n          name: 'rect-logo-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @param {Group} group Group\n   */\n  drawStateIcon: function drawStateIcon(cfg, group) {\n    var _a = this.getOptions(cfg).stateIcon,\n        stateIcon = _a === void 0 ? {} : _a;\n    var size = this.getSize(cfg);\n    var width = size[0];\n\n    if (stateIcon.show) {\n      var w = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          offset = stateIcon.offset,\n          text = stateIcon.text,\n          iconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\", \"text\"]);\n\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, iconStyle),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign(__assign({}, iconStyle), {\n            x: x || width / 2 - w + offset,\n            y: y || -h / 2,\n            width: w,\n            height: h\n          }),\n          className: 'rect-state-icon',\n          name: 'rect-state-icon',\n          draggable: true\n        });\n      }\n    }\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        bottom = linkPoints.bottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"bottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n\n    if (left) {\n      // left circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: -width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    if (right) {\n      // right circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: width / 2,\n          y: 0,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    if (top) {\n      // top circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: -height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    if (bottom) {\n      // bottom circle\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: 0,\n          y: height / 2,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-bottom',\n        name: 'link-point-bottom',\n        isAnchorPoint: true\n      });\n    }\n  },\n  drawLabel: function drawLabel(cfg, group) {\n    var _a = this.getOptions(cfg),\n        _b = _a.labelCfg,\n        labelCfg = _b === void 0 ? {} : _b,\n        _c = _a.logoIcon,\n        logoIcon = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var label = null;\n    var show = logoIcon.show,\n        w = logoIcon.width;\n    var offsetX = -width / 2 + labelCfg.offset;\n\n    if (show) {\n      offsetX = -width / 2 + w + labelCfg.offset;\n    }\n\n    var fontStyle = labelCfg.style;\n    var descriptionStyle = descriptionCfg.style,\n        descriptionPaddingTop = descriptionCfg.paddingTop;\n\n    if (isString(cfg.description)) {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: -5,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n      group.addShape('text', {\n        attrs: __assign(__assign({}, descriptionStyle), {\n          x: offsetX,\n          y: 17 + (descriptionPaddingTop || 0),\n          text: cfg.description\n        }),\n        className: 'rect-description',\n        name: 'rect-description',\n        draggable: true\n      });\n    } else {\n      label = group.addShape('text', {\n        attrs: __assign(__assign({}, fontStyle), {\n          x: offsetX,\n          y: 7,\n          text: cfg.label\n        }),\n        className: 'text-shape',\n        name: 'text-shape',\n        draggable: true\n      });\n    }\n\n    return label;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // colorstroke\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var size = this.getSize(cfg);\n    var width = style.width || size[0];\n    var height = style.height || size[1];\n\n    var styles = __assign({\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var _a = this.getOptions(cfg),\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b,\n        _c = _a.labelCfg,\n        labelCfg = _c === void 0 ? {} : _c,\n        _d = _a.descriptionCfg,\n        descriptionCfg = _d === void 0 ? {} : _d;\n\n    var size = this.getSize(cfg);\n    var width = size[0];\n    var height = size[1];\n    var keyShape = item.get('keyShape');\n    keyShape.attr(__assign(__assign({}, style), {\n      x: -width / 2,\n      y: -height / 2,\n      width: width,\n      height: height\n    }));\n    var group = item.getContainer();\n    var logoIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-logo-icon';\n    });\n    var currentLogoIconAttr = logoIconShape ? logoIconShape.attr() : {};\n    var logoIcon = mix({}, currentLogoIconAttr, cfg.logoIcon);\n    var w = logoIcon.width;\n\n    if (w === undefined) {\n      w = this.options.logoIcon.width;\n    }\n\n    var show = cfg.logoIcon ? cfg.logoIcon.show : undefined;\n    var offset = labelCfg.offset;\n    var offsetX = -width / 2 + w + offset;\n\n    if (!show && show !== undefined) {\n      offsetX = -width / 2 + offset;\n    }\n\n    var label = group.find(function (element) {\n      return element.get('className') === 'node-label';\n    });\n    var description = group.find(function (element) {\n      return element.get('className') === 'rect-description';\n    });\n\n    if (cfg.label) {\n      if (!label) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            x: offsetX,\n            y: cfg.description ? -5 : 7,\n            text: cfg.label\n          }),\n          className: 'node-label',\n          name: 'node-label',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.labelCfg ? cfg.labelCfg.style : {};\n        var labelStyle = mix({}, label.attr(), cfgStyle);\n        if (cfg.label) labelStyle.text = cfg.label;\n        labelStyle.x = offsetX;\n        if (isString(cfg.description)) labelStyle.y = -5;\n\n        if (description) {\n          description.resetMatrix();\n          description.attr({\n            x: offsetX\n          });\n        }\n\n        label.resetMatrix();\n        label.attr(labelStyle);\n      }\n    }\n\n    if (isString(cfg.description)) {\n      var paddingTop = descriptionCfg.paddingTop;\n\n      if (!description) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, descriptionCfg.style), {\n            x: offsetX,\n            y: 17 + (paddingTop || 0),\n            text: cfg.description\n          }),\n          className: 'rect-description',\n          name: 'rect-description',\n          draggable: true\n        });\n      } else {\n        var cfgStyle = cfg.descriptionCfg ? cfg.descriptionCfg.style : {};\n        var descriptionStyle = mix({}, description.attr(), cfgStyle);\n        if (isString(cfg.description)) descriptionStyle.text = cfg.description;\n        descriptionStyle.x = offsetX;\n        description.resetMatrix();\n        description.attr(__assign(__assign({}, descriptionStyle), {\n          y: 17 + (paddingTop || 0)\n        }));\n      }\n    }\n\n    var preRectShape = group.find(function (element) {\n      return element.get('className') === 'pre-rect';\n    });\n\n    if (preRectShape) {\n      var preRect = mix({}, preRectShape.attr(), cfg.preRect);\n      preRectShape.attr(__assign(__assign({}, preRect), {\n        x: -width / 2,\n        y: -height / 2,\n        height: height\n      }));\n    }\n\n    if (logoIconShape) {\n      if (!show && show !== undefined) {\n        logoIconShape.remove();\n      } else {\n        var logoW = logoIcon.width,\n            h = logoIcon.height,\n            x = logoIcon.x,\n            y = logoIcon.y,\n            logoOffset = logoIcon.offset,\n            logoIconStyle = __rest(logoIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n        logoIconShape.attr(__assign(__assign({}, logoIconStyle), {\n          x: x || -width / 2 + logoW + logoOffset,\n          y: y || -h / 2,\n          width: logoW,\n          height: h\n        }));\n      }\n    } else if (show) {\n      this.drawLogoIcon(cfg, group);\n    }\n\n    var stateIconShape = group.find(function (element) {\n      return element.get('className') === 'rect-state-icon';\n    });\n    var currentStateIconAttr = stateIconShape ? stateIconShape.attr() : {};\n    var stateIcon = mix({}, currentStateIconAttr, cfg.stateIcon);\n\n    if (stateIconShape) {\n      if (!stateIcon.show && stateIcon.show !== undefined) {\n        stateIconShape.remove();\n      }\n\n      var stateW = stateIcon.width,\n          h = stateIcon.height,\n          x = stateIcon.x,\n          y = stateIcon.y,\n          stateOffset = stateIcon.offset,\n          stateIconStyle = __rest(stateIcon, [\"width\", \"height\", \"x\", \"y\", \"offset\"]);\n\n      stateIconShape.attr(__assign(__assign({}, stateIconStyle), {\n        x: x || width / 2 - stateW + stateOffset,\n        y: y || -h / 2,\n        width: stateW,\n        height: h\n      }));\n    } else if (stateIcon.show) {\n      this.drawStateIcon(cfg, group);\n    }\n\n    this.updateLinkPoints(cfg, group);\n  }\n}, 'single-node');","import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/f6-core';\nimport { mix } from '@antv/util'; // shape\n\nregisterNode('star', {\n  // \n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * LinkPoints\n   * @param {Object} cfg data\n   * @param {Group} group Group\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right \n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * \n   * @param {Object} cfg \n   * @return {Object} \n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // color stroke  cfg  stroke \n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); //  cfg  cfg.style \n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); //  cfg  cfg \n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; //  getShapeStyle update  style \n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * linkPoints\n   * @param {Object} cfg \n   * @param {Group} group Itemgroup\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","import { __assign } from \"tslib\";\nimport { registerNode, BaseGlobal as Global, Util } from '@antv/f6-core';\nimport { deepMix, isNumber } from '@antv/util';\nvar defaultSubjectColors = Util.defaultSubjectColors; // \n\nregisterNode('donut', {\n  // \n  options: {\n    size: Global.defaultNode.size,\n    style: {\n      x: 0,\n      y: 0,\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize\n      }\n    },\n    // circle\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // icon\n    icon: {\n      // icon false icon\n      show: false,\n      // icon\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'circle',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        defaultIcon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var icon = deepMix({}, defaultIcon, cfg.icon);\n    var keyShape = group.addShape('circle', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true,\n      name: \"\".concat(this.type, \"-keyShape\")\n    });\n    var width = icon.width,\n        height = icon.height,\n        show = icon.show,\n        text = icon.text;\n\n    if (show) {\n      if (text) {\n        group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group.addShape('image', {\n          attrs: __assign({\n            x: -width / 2,\n            y: -height / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n\n    var donutR = keyShape.attr('r');\n    var innerR = 0.6 * donutR; // \n\n    var arcR = (donutR + innerR) / 2; // \n\n    var _b = cfg,\n        _c = _b.donutAttrs,\n        donutAttrs = _c === void 0 ? {} : _c,\n        _d = _b.donutColorMap,\n        donutColorMap = _d === void 0 ? {} : _d;\n    var attrNum = Object.keys(donutAttrs).length;\n\n    if (donutAttrs && attrNum > 1) {\n      var attrs_1 = [];\n      var totalValue_1 = 0;\n      Object.keys(donutAttrs).forEach(function (name) {\n        var value = donutAttrs[name] || 0;\n        if (!isNumber(value)) return;\n        attrs_1.push({\n          key: name,\n          value: value,\n          color: donutColorMap[name]\n        });\n        totalValue_1 += value;\n      });\n\n      if (totalValue_1) {\n        var lineWidth_1 = donutR - innerR;\n\n        if (attrNum === 1) {\n          group.addShape('circle', {\n            attrs: {\n              r: arcR,\n              x: 0,\n              y: 0,\n              stroke: attrs_1[0].color || defaultSubjectColors[0],\n              lineWidth: lineWidth_1\n            },\n            name: \"fan-shape-0\"\n          });\n          return;\n        }\n\n        var arcBegin_1 = [arcR, 0];\n        var beginAngle_1 = 0;\n        attrs_1.forEach(function (attr, i) {\n          var percent = attr.value / totalValue_1;\n          if (percent < 0.001) return;\n          if (percent > 0.999) percent = 1;\n\n          if (percent === 1) {\n            group.addShape('circle', {\n              attrs: {\n                r: arcR,\n                x: 0,\n                y: 0,\n                stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length],\n                lineWidth: lineWidth_1\n              },\n              name: \"fan-shape-\".concat(i)\n            });\n            return;\n          }\n\n          attr.percent = percent;\n          attr.angle = percent * Math.PI * 2;\n          attr.beginAgnle = beginAngle_1;\n          beginAngle_1 += attr.angle;\n          attr.endAngle = beginAngle_1;\n          attr.arcBegin = arcBegin_1;\n          attr.arcEnd = [arcR * Math.cos(attr.endAngle), -arcR * Math.sin(attr.endAngle)];\n          var isBig = attr.angle > Math.PI ? 1 : 0;\n          var path = [['M', attr.arcBegin[0], attr.arcBegin[1]], ['A', arcR, arcR, 0, isBig, 0, attr.arcEnd[0], attr.arcEnd[1]], ['L', attr.arcEnd[0], attr.arcEnd[1]]];\n          group.addShape('path', {\n            attrs: {\n              path: path,\n              lineWidth: lineWidth_1,\n              stroke: attr.color || defaultSubjectColors[i % defaultSubjectColors.length]\n            },\n            name: \"fan-shape-\".concat(i)\n          });\n          arcBegin_1 = attr.arcEnd;\n        });\n      }\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  update: undefined\n}, 'circle');","export var getBBoxFromPoint = function getBBoxFromPoint(point) {\n  var x = point.x,\n      y = point.y;\n  return {\n    x: x,\n    y: y,\n    centerX: x,\n    centerY: y,\n    minX: x,\n    minY: y,\n    maxX: x,\n    maxY: y,\n    height: 0,\n    width: 0\n  };\n};\nexport var getBBoxFromPoints = function getBBoxFromPoints(points) {\n  if (points === void 0) {\n    points = [];\n  }\n\n  var xs = [];\n  var ys = [];\n  points.forEach(function (p) {\n    xs.push(p.x);\n    ys.push(p.y);\n  });\n  var minX = Math.min.apply(Math, xs);\n  var maxX = Math.max.apply(Math, xs);\n  var minY = Math.min.apply(Math, ys);\n  var maxY = Math.max.apply(Math, ys);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    maxX: maxX,\n    maxY: maxY,\n    minX: minX,\n    minY: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var isBBoxesOverlapping = function isBBoxesOverlapping(b1, b2) {\n  return Math.abs(b1.centerX - b2.centerX) * 2 < b1.width + b2.width && Math.abs(b1.centerY - b2.centerY) * 2 < b1.height + b2.height;\n};\nexport var filterConnectPoints = function filterConnectPoints(points) {\n  // pre-process: remove duplicated points\n  var result = [];\n  var pointsMap = {};\n  var pointsLength = points.length;\n\n  for (var i = pointsLength - 1; i >= 0; i--) {\n    var p = points[i];\n    p.id = \"\".concat(p.x, \"|||\").concat(p.y);\n    pointsMap[p.id] = p;\n    result.push(p);\n  }\n\n  return result;\n};\nexport var simplifyPolyline = function simplifyPolyline(points) {\n  return filterConnectPoints(points);\n};\nexport var getSimplePolyline = function getSimplePolyline(sPoint, tPoint) {\n  return [sPoint, {\n    x: sPoint.x,\n    y: tPoint.y\n  }, tPoint];\n};\nexport var getExpandedBBox = function getExpandedBBox(bbox, offset) {\n  if (bbox.width || bbox.height) {\n    return {\n      centerX: bbox.centerX,\n      centerY: bbox.centerY,\n      minX: bbox.minX - offset,\n      minY: bbox.minY - offset,\n      maxX: bbox.maxX + offset,\n      maxY: bbox.maxY + offset,\n      height: bbox.height + 2 * offset,\n      width: bbox.width + 2 * offset\n    };\n  } // when it is a point\n\n\n  return bbox;\n};\nexport var isHorizontalPort = function isHorizontalPort(port, bbox) {\n  var dx = Math.abs(port.x - bbox.centerX);\n  var dy = Math.abs(port.y - bbox.centerY);\n  if (dx === 0 && dy === 0) return 0;\n  return dx / bbox.width > dy / bbox.height;\n};\nexport var getExpandedBBoxPoint = function getExpandedBBoxPoint(bbox, //  bbox  offset  bbox gridSize \npoint, //  gridSize anchorPoint\nanotherPoint) {\n  var isHorizontal = isHorizontalPort(point, bbox);\n\n  if (isHorizontal === 0) {\n    // linkCenter: true\n    var x = bbox.centerX;\n    var y = bbox.centerY;\n\n    if (anotherPoint.y < point.y) {\n      // /\n      y = bbox.minY;\n    } else if (anotherPoint.x > point.x) {\n      // \n      x = bbox.maxX;\n    } else if (anotherPoint.x < point.x) {\n      // \n      x = bbox.minX;\n    } else if (anotherPoint.x === point.x) {\n      // \n      y = bbox.maxY;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  if (isHorizontal) {\n    return {\n      x: point.x > bbox.centerX ? bbox.maxX : bbox.minX,\n      y: point.y\n    };\n  }\n\n  return {\n    x: point.x,\n    y: point.y > bbox.centerY ? bbox.maxY : bbox.minY\n  };\n};\n/**\n *\n * @param b1\n * @param b2\n */\n\nexport var mergeBBox = function mergeBBox(b1, b2) {\n  var minX = Math.min(b1.minX, b2.minX);\n  var minY = Math.min(b1.minY, b2.minY);\n  var maxX = Math.max(b1.maxX, b2.maxX);\n  var maxY = Math.max(b1.maxY, b2.maxY);\n  return {\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n};\nexport var getPointsFromBBox = function getPointsFromBBox(bbox) {\n  // anticlockwise\n  // const { minX, minY, maxX, maxY } = bbox;\n  return [{\n    x: bbox.minX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.minY\n  }, {\n    x: bbox.maxX,\n    y: bbox.maxY\n  }, {\n    x: bbox.minX,\n    y: bbox.maxY\n  }];\n};\nexport var isPointOutsideBBox = function isPointOutsideBBox(point, bbox) {\n  var x = point.x,\n      y = point.y;\n  return x < bbox.minX || x > bbox.maxX || y < bbox.minY || y > bbox.maxY;\n};\nexport var getBBoxXCrossPoints = function getBBoxXCrossPoints(bbox, x) {\n  if (x < bbox.minX || x > bbox.maxX) {\n    return [];\n  }\n\n  return [{\n    x: x,\n    y: bbox.minY\n  }, {\n    x: x,\n    y: bbox.maxY\n  }];\n};\nexport var getBBoxYCrossPoints = function getBBoxYCrossPoints(bbox, y) {\n  if (y < bbox.minY || y > bbox.maxY) {\n    return [];\n  }\n\n  return [{\n    x: bbox.minX,\n    y: y\n  }, {\n    x: bbox.maxX,\n    y: y\n  }];\n};\nexport var getBBoxCrossPointsByPoint = function getBBoxCrossPointsByPoint(bbox, point) {\n  return getBBoxXCrossPoints(bbox, point.x).concat(getBBoxYCrossPoints(bbox, point.y));\n};\n/**\n * \n */\n\nexport var distance = function distance(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n/**\n *  points  x  p  -2y \n *  points  / \n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var _costByPoints = function _costByPoints(p, points) {\n  var offset = -2;\n  var result = 0;\n  points.forEach(function (point) {\n    if (point) {\n      if (p.x === point.x) {\n        result += offset;\n      }\n\n      if (p.y === point.y) {\n        result += offset;\n      }\n    }\n  });\n  return result;\n};\n/**\n * ps  p  pt \n */\n\nexport var heuristicCostEstimate = function heuristicCostEstimate(p, ps, pt, source, target) {\n  return distance(p, ps) + distance(p, pt) + _costByPoints(p, [ps, pt, source, target]);\n};\nexport var reconstructPath = function reconstructPath(pathPoints, pointById, cameFrom, currentId, iterator) {\n  if (iterator === void 0) {\n    iterator = 0;\n  }\n\n  pathPoints.unshift(pointById[currentId]);\n\n  if (cameFrom[currentId] && cameFrom[currentId] !== currentId && iterator <= 100) {\n    reconstructPath(pathPoints, pointById, cameFrom, cameFrom[currentId], iterator + 1);\n  }\n};\n/**\n *  arr  item\n */\n\nexport var removeFrom = function removeFrom(arr, item) {\n  var index = arr.indexOf(item);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\nexport var isSegmentsIntersected = function isSegmentsIntersected(p0, p1, p2, p3) {\n  var v1x = p2.x - p0.x;\n  var v1y = p2.y - p0.y;\n  var v2x = p3.x - p0.x;\n  var v2y = p3.y - p0.y;\n  var v3x = p2.x - p1.x;\n  var v3y = p2.y - p1.y;\n  var v4x = p3.x - p1.x;\n  var v4y = p3.y - p1.y;\n  var pd1 = v1x * v2y - v1y * v2x;\n  var pd2 = v3x * v4y - v3y * v4x;\n  var pd3 = v1x * v3y - v1y * v3x;\n  var pd4 = v2x * v4y - v2y * v4x;\n  return pd1 * pd2 <= 0 && pd3 * pd4 <= 0;\n};\nexport var isSegmentCrossingBBox = function isSegmentCrossingBBox(p1, p2, bbox) {\n  if (bbox.width || bbox.height) {\n    var _a = getPointsFromBBox(bbox),\n        pa = _a[0],\n        pb = _a[1],\n        pc = _a[2],\n        pd = _a[3];\n\n    return isSegmentsIntersected(p1, p2, pa, pb) || isSegmentsIntersected(p1, p2, pa, pd) || isSegmentsIntersected(p1, p2, pb, pc) || isSegmentsIntersected(p1, p2, pc, pd);\n  }\n\n  return false;\n};\n/**\n *  points  x  y  point  x  y  point  bbox1  bbox2 \n */\n\nexport var getNeighborPoints = function getNeighborPoints(points, point, bbox1, bbox2) {\n  var neighbors = [];\n  points.forEach(function (p) {\n    if (p === point) return;\n\n    if (p.x === point.x || p.y === point.y) {\n      if (isSegmentCrossingBBox(p, point, bbox1) || isSegmentCrossingBBox(p, point, bbox2)) return;\n      neighbors.push(p);\n    }\n  });\n  return filterConnectPoints(neighbors);\n};\nexport var pathFinder = function pathFinder(points, start, goal, sBBox, tBBox, os, ot) {\n  // A-Star Algorithm\n  var closedSet = [];\n  var openSet = [start];\n  var cameFrom = {};\n  var gScore = {}; // all default values are Infinity\n\n  var fScore = {}; // all default values are Infinity\n\n  gScore[start.id] = 0;\n  fScore[start.id] = heuristicCostEstimate(start, goal, start);\n  var pointById = {};\n  points.forEach(function (p) {\n    pointById[p.id] = p;\n  });\n  var current, lowestFScore;\n\n  while (openSet.length) {\n    current = undefined;\n    lowestFScore = Infinity; //  openSet  fScore \n\n    openSet.forEach(function (p) {\n      if (fScore[p.id] <= lowestFScore) {\n        lowestFScore = fScore[p.id];\n        current = p;\n      }\n    }); //  openSet  fScore \n\n    if (current === goal) {\n      // ending condition\n      var pathPoints = [];\n      reconstructPath(pathPoints, pointById, cameFrom, goal.id);\n      return pathPoints;\n    }\n\n    removeFrom(openSet, current);\n    closedSet.push(current);\n    getNeighborPoints(points, current, sBBox, tBBox).forEach(function (neighbor) {\n      if (closedSet.indexOf(neighbor) !== -1) {\n        return;\n      }\n\n      if (openSet.indexOf(neighbor) === -1) {\n        openSet.push(neighbor);\n      }\n\n      var tentativeGScore = fScore[current.id] + distance(current, neighbor); // + distance(neighbor, goal);\n\n      if (gScore[neighbor.id] && tentativeGScore >= gScore[neighbor.id]) {\n        return;\n      }\n\n      cameFrom[neighbor.id] = current.id;\n      gScore[neighbor.id] = tentativeGScore;\n      fScore[neighbor.id] = gScore[neighbor.id] + heuristicCostEstimate(neighbor, goal, start, os, ot);\n    });\n  } // throw new Error('Cannot find path');\n\n\n  return [start, goal];\n};\nexport var isBending = function isBending(p0, p1, p2) {\n  return !(p0.x === p1.x && p1.x === p2.x || p0.y === p1.y && p1.y === p2.y);\n};\nexport var getBorderRadiusPoints = function getBorderRadiusPoints(p0, p1, p2, r) {\n  var d0 = distance(p0, p1);\n  var d1 = distance(p2, p1);\n\n  if (d0 < r) {\n    r = d0;\n  }\n\n  if (d1 < r) {\n    r = d1;\n  }\n\n  var ps = {\n    x: p1.x - r / d0 * (p1.x - p0.x),\n    y: p1.y - r / d0 * (p1.y - p0.y)\n  };\n  var pt = {\n    x: p1.x - r / d1 * (p1.x - p2.x),\n    y: p1.y - r / d1 * (p1.y - p2.y)\n  };\n  return [ps, pt];\n};\nexport var getPathWithBorderRadiusByPolyline = function getPathWithBorderRadiusByPolyline(points, borderRadius) {\n  var pathSegments = [];\n  var startPoint = points[0];\n  pathSegments.push(\"M\".concat(startPoint.x, \" \").concat(startPoint.y));\n  points.forEach(function (p, i) {\n    var p1 = points[i + 1];\n    var p2 = points[i + 2];\n\n    if (p1 && p2) {\n      if (isBending(p, p1, p2)) {\n        var _a = getBorderRadiusPoints(p, p1, p2, borderRadius),\n            ps = _a[0],\n            pt = _a[1];\n\n        pathSegments.push(\"L\".concat(ps.x, \" \").concat(ps.y));\n        pathSegments.push(\"Q\".concat(p1.x, \" \").concat(p1.y, \" \").concat(pt.x, \" \").concat(pt.y));\n        pathSegments.push(\"L\".concat(pt.x, \" \").concat(pt.y));\n      } else {\n        pathSegments.push(\"L\".concat(p1.x, \" \").concat(p1.y));\n      }\n    } else if (p1) {\n      pathSegments.push(\"L\".concat(p1.x, \" \").concat(p1.y));\n    }\n  });\n  return pathSegments.join('');\n};\nexport var getPolylinePoints = function getPolylinePoints(start, end, sNode, tNode, offset) {\n  var sBBox, tBBox;\n\n  if (!sNode || !sNode.getType()) {\n    sBBox = getBBoxFromPoint(start);\n  } else if (sNode.getType() === 'combo') {\n    var sNodeKeyShape = sNode.getKeyShape();\n    sBBox = sNodeKeyShape.getCanvasBBox() || getBBoxFromPoint(start);\n    sBBox.centerX = (sBBox.minX + sBBox.maxX) / 2;\n    sBBox.centerY = (sBBox.minY + sBBox.maxY) / 2;\n  } else {\n    sBBox = sNode.getBBox();\n  }\n\n  if (!tNode || !tNode.getType()) {\n    tBBox = getBBoxFromPoint(end);\n  } else if (tNode.getType() === 'combo') {\n    var tKeyShapeBBox = tNode.getKeyShape().getBBox();\n\n    if (tKeyShapeBBox) {\n      var _a = tNode.getModel(),\n          tx = _a.x,\n          ty = _a.y;\n\n      tBBox = {\n        x: tx,\n        y: ty,\n        width: tKeyShapeBBox.width,\n        height: tKeyShapeBBox.height,\n        minX: tKeyShapeBBox.minX + tx,\n        maxX: tKeyShapeBBox.maxX + tx,\n        minY: tKeyShapeBBox.minY + ty,\n        maxY: tKeyShapeBBox.maxY + ty\n      };\n      tBBox.centerX = (tBBox.minX + tBBox.maxX) / 2;\n      tBBox.centerY = (tBBox.minY + tBBox.maxY) / 2;\n    } else {\n      tBBox = getBBoxFromPoint(end);\n    }\n  } else {\n    tBBox = tNode && tNode.getBBox();\n  } // if (isBBoxesOverlapping(sBBox, tBBox)) {\n  //   // source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n\n  var sxBBox = getExpandedBBox(sBBox, offset);\n  var txBBox = getExpandedBBox(tBBox, offset); // if (isBBoxesOverlapping(sxBBox, txBBox)) {\n  //   // the expanded bounding boxes of source and target nodes are overlapping\n  //   return simplifyPolyline(getSimplePolyline(start, end));\n  // }\n\n  var sPoint = getExpandedBBoxPoint(sxBBox, start, end);\n  var tPoint = getExpandedBBoxPoint(txBBox, end, start);\n  var lineBBox = getBBoxFromPoints([sPoint, tPoint]);\n  var sMixBBox = mergeBBox(sxBBox, lineBBox);\n  var tMixBBox = mergeBBox(txBBox, lineBBox);\n  var connectPoints = [];\n  connectPoints = connectPoints.concat(getPointsFromBBox(sMixBBox)).concat(getPointsFromBBox(tMixBBox));\n  var centerPoint = {\n    x: (start.x + end.x) / 2,\n    y: (start.y + end.y) / 2\n  };\n  [lineBBox, sMixBBox, tMixBBox].forEach(function (bbox) {\n    connectPoints = connectPoints.concat(getBBoxCrossPointsByPoint(bbox, centerPoint).filter(function (p) {\n      return isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox);\n    }));\n  });\n  [{\n    x: sPoint.x,\n    y: tPoint.y\n  }, {\n    x: tPoint.x,\n    y: sPoint.y\n  }].forEach(function (p) {\n    // impossible!!\n    if (isPointOutsideBBox(p, sxBBox) && isPointOutsideBBox(p, txBBox) // &&\n    // isPointInsideBBox(p, sMixBBox) && isPointInsideBBox(p, tMixBBox)\n    ) {\n      connectPoints.push(p);\n    }\n  });\n  connectPoints.unshift(sPoint);\n  connectPoints.push(tPoint); // filter out dulplicated points in connectPoints\n\n  connectPoints = filterConnectPoints(connectPoints); // , sxBBox, txBBox, outerBBox\n\n  var pathPoints = pathFinder(connectPoints, sPoint, tPoint, sBBox, tBBox, start, end);\n  pathPoints.unshift(start);\n  pathPoints.push(end);\n  return simplifyPolyline(pathPoints);\n};","/**\n *  costFunc, distFunc, constraints  router\n * generalRouter: \n * orthogonal: 4\n * octolinearRouter: 8\n */\nimport { Util } from '@antv/f6-core';\nimport { deepMix } from '@antv/util';\nimport { getExpandedBBox, getExpandedBBoxPoint, getPolylinePoints, simplifyPolyline, isSegmentCrossingBBox } from './polyline-util';\n\nvar manhattanDist = function manhattanDist(p1, p2) {\n  return Math.abs(p1.x - p2.x) + Math.abs(p1.y - p2.y);\n};\n\nvar eucliDist = function eucliDist(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n};\n\nvar straightPath = function straightPath(start, end) {\n  // console.warn('fallbackRoute: straight path');\n  return [start, end];\n};\n\nvar simplePolyline = function simplePolyline(start, end, startNode, endNode, cfg) {\n  return simplifyPolyline(getPolylinePoints(start, end, startNode, endNode, cfg.offset));\n}; // getPolylinePoints\n\n\nvar defaultCfg = {\n  offset: 20,\n  maxAllowedDirectionChange: Math.PI / 2,\n  maximumLoops: 2000,\n  gridSize: 10,\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: -1\n  } // top\n  ],\n\n  get penalties() {\n    return {\n      0: 0,\n      45: this.gridSize / 2,\n      90: this.gridSize / 2\n    };\n  },\n\n  distFunc: manhattanDist,\n  fallbackRoute: simplePolyline\n};\nexport var octolinearCfg = {\n  maxAllowedDirectionChange: Math.PI / 4,\n  // 8 :  + 45\n  directions: [{\n    stepX: 1,\n    stepY: 0\n  }, {\n    stepX: 1,\n    stepY: 1\n  }, {\n    stepX: 0,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 1\n  }, {\n    stepX: -1,\n    stepY: 0\n  }, {\n    stepX: -1,\n    stepY: -1\n  }, {\n    stepX: 0,\n    stepY: -1\n  }, {\n    stepX: 1,\n    stepY: -1\n  }],\n  distFunc: eucliDist,\n  fallbackRoute: straightPath\n};\n\nvar pos2GridIx = function pos2GridIx(pos, gridSize) {\n  var gridIx = Math.round(Math.abs(pos / gridSize));\n  var sign = pos < 0 ? -1 : 1;\n  return gridIx < 0 ? 0 : sign * gridIx;\n};\n\nvar getObstacleMap = function getObstacleMap(items, gridSize, offset) {\n  var map = {};\n  items.forEach(function (item) {\n    // create-edge  polyline  endNode  null\n    if (!item) return;\n    var bbox = getExpandedBBox(item.getBBox(), offset);\n\n    for (var x = pos2GridIx(bbox.minX, gridSize); x <= pos2GridIx(bbox.maxX, gridSize); x += 1) {\n      for (var y = pos2GridIx(bbox.minY, gridSize); y <= pos2GridIx(bbox.maxY, gridSize); y += 1) {\n        map[\"\".concat(x, \"|||\").concat(y)] = true;\n      }\n    }\n  });\n  return map;\n};\n/**\n *  p1  p2 0\n * @param p1 PolyPoint\n * @param p2 PolyPoint\n */\n\n\nvar getDirectionAngle = function getDirectionAngle(p1, p2) {\n  var deltaX = p2.x - p1.x;\n  var deltaY = p2.y - p1.y;\n\n  if (deltaX || deltaY) {\n    return Math.atan2(deltaY, deltaX);\n  }\n\n  return 0;\n};\n/**\n * 180\n * @param angle1\n * @param angle2\n */\n\n\nvar getAngleDiff = function getAngleDiff(angle1, angle2) {\n  var directionChange = Math.abs(angle1 - angle2);\n  return directionChange > Math.PI ? 2 * Math.PI - directionChange : directionChange; // return directionChange > 180 ? 360 - directionChange : directionChange;\n}; // Path finder //\n\n\nvar estimateCost = function estimateCost(from, endPoints, distFunc) {\n  var min = Infinity;\n\n  for (var i = 0, len = endPoints.length; i < len; i++) {\n    var cost = distFunc(from, endPoints[i]);\n\n    if (cost < min) {\n      min = cost;\n    }\n  }\n\n  return min;\n}; //  offset  BBox \n\n\nvar getBoxPoints = function getBoxPoints(point, //  gridSize anchorPoint\noriPoint, //  gridSize anchorPoint\nnode, //  bbox\nanotherPoint, //  gridSize \ncfg) {\n  var points = []; // create-edge endNode  null\n\n  if (!node) {\n    return [point];\n  }\n\n  var directions = cfg.directions,\n      offset = cfg.offset;\n  var bbox = node.getBBox();\n  var isInside = oriPoint.x > bbox.minX && oriPoint.x < bbox.maxX && oriPoint.y > bbox.minY && oriPoint.y < bbox.maxY;\n  var expandBBox = getExpandedBBox(bbox, offset);\n\n  for (var i in expandBBox) {\n    expandBBox[i] = pos2GridIx(expandBBox[i], cfg.gridSize);\n  }\n\n  if (isInside) {\n    //  anchorPoint \n    for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {\n      var dir = directions_1[_i];\n      var bounds = [[{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.maxX,\n        y: expandBBox.minY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }], [{\n        x: expandBBox.minX,\n        y: expandBBox.maxY\n      }, {\n        x: expandBBox.maxX,\n        y: expandBBox.maxY\n      }]];\n\n      for (var i = 0; i < 4; i++) {\n        var boundLine = bounds[i];\n        var insterctP_1 = Util.getLineIntersect(point, {\n          x: point.x + dir.stepX * expandBBox.width,\n          y: point.y + dir.stepY * expandBBox.height\n        }, boundLine[0], boundLine[1]);\n\n        if (insterctP_1 && !isSegmentCrossingBBox(point, insterctP_1, bbox)) {\n          insterctP_1.id = \"\".concat(insterctP_1.x, \"|||\").concat(insterctP_1.y);\n          points.push(insterctP_1);\n        }\n      }\n    }\n\n    return points;\n  } //  anchorPoint \n\n\n  var insterctP = getExpandedBBoxPoint(expandBBox, point, anotherPoint);\n  insterctP.id = \"\".concat(insterctP.x, \"|||\").concat(insterctP.y);\n  return [insterctP];\n};\n\nvar getDirectionChange = function getDirectionChange(current, neighbor, cameFrom, scaleStartPoint) {\n  var directionAngle = getDirectionAngle(current, neighbor);\n\n  if (!cameFrom[current.id]) {\n    var startAngle = getDirectionAngle(scaleStartPoint, current);\n    return getAngleDiff(startAngle, directionAngle);\n  }\n\n  var prevDirectionAngle = getDirectionAngle({\n    x: cameFrom[current.id].x,\n    y: cameFrom[current.id].y\n  }, current);\n  return getAngleDiff(prevDirectionAngle, directionAngle);\n};\n\nvar getControlPoints = function getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize) {\n  var controlPoints = [endPoint];\n  var currentId = current.id;\n  var currentX = current.x;\n  var currentY = current.y;\n  var lastPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  };\n\n  if (getDirectionChange(lastPoint, scaleEndPoint, cameFrom, scaleStartPoint)) {\n    // if (scaleEndPoint.x === endPoint.x && scaleEndPoint.y === endPoint.y)\n    //   controlPoints.unshift({\n    //     x: endPoint.x,\n    //     y: endPoint.y\n    //   })\n    // else\n    //   controlPoints.unshift({\n    //     x: lastPoint.x * gridSize,\n    //     y: lastPoint.y * gridSize,\n    //   });\n    controlPoints.unshift({\n      x: scaleEndPoint.x === endPoint.x ? endPoint.x : lastPoint.x * gridSize,\n      y: scaleEndPoint.y === endPoint.y ? endPoint.y : lastPoint.y * gridSize\n    });\n  }\n\n  while (cameFrom[currentId] && cameFrom[currentId].id !== currentId) {\n    var point = {\n      x: currentX,\n      y: currentY,\n      id: currentId\n    };\n    var preId = cameFrom[currentId].id;\n    var preX = cameFrom[currentId].x;\n    var preY = cameFrom[currentId].y;\n    var prePoint = {\n      x: preX,\n      y: preY,\n      id: preId\n    };\n    var directionChange = getDirectionChange(prePoint, point, cameFrom, scaleStartPoint);\n\n    if (directionChange) {\n      // if (prePoint.x === point.x && prePoint.y === point.y)\n      //   controlPoints.unshift({\n      //     x: controlPoints[0].x,\n      //     y: controlPoints[0].y\n      //   })\n      // else\n      //   controlPoints.unshift({\n      //     x: prePoint.x * gridSize,\n      //     y: prePoint.y * gridSize,\n      //   });\n      controlPoints.unshift({\n        x: prePoint.x === point.x ? controlPoints[0].x : prePoint.x * gridSize,\n        y: prePoint.y === point.y ? controlPoints[0].y : prePoint.y * gridSize\n      });\n    }\n\n    currentId = preId;\n    currentX = preX;\n    currentY = preY;\n  } // startNode\n\n\n  var firstPoint = {\n    x: currentX,\n    y: currentY,\n    id: currentId\n  }; // if (firstPoint.x === scaleStartPoint.x && firstPoint.y === scaleStartPoint.y) {\n  //   controlPoints[0].x = startPoint.x;\n  //   controlPoints[0].y = startPoint.y;\n  // }\n\n  controlPoints[0].x = firstPoint.x === scaleStartPoint.x ? startPoint.x : controlPoints[0].x;\n  controlPoints[0].y = firstPoint.y === scaleStartPoint.y ? startPoint.y : controlPoints[0].y;\n  controlPoints.unshift(startPoint);\n  return controlPoints;\n};\n\nexport var pathFinder = function pathFinder(startPoint, endPoint, startNode, endNode, routerCfg) {\n  if (isNaN(startPoint.x) || isNaN(endPoint.x)) return [];\n  var cfg = deepMix(defaultCfg, routerCfg);\n  cfg.obstacles = cfg.obstacles || [];\n  var gridSize = cfg.gridSize;\n  var map = getObstacleMap(cfg.obstacles.concat([startNode, endNode]), gridSize, cfg.offset);\n  var scaleStartPoint = {\n    x: pos2GridIx(startPoint.x, gridSize),\n    y: pos2GridIx(startPoint.y, gridSize)\n  };\n  var scaleEndPoint = {\n    x: pos2GridIx(endPoint.x, gridSize),\n    y: pos2GridIx(endPoint.y, gridSize)\n  };\n  startPoint.id = \"\".concat(scaleStartPoint.x, \"|||\").concat(scaleStartPoint.y);\n  endPoint.id = \"\".concat(scaleEndPoint.x, \"|||\").concat(scaleEndPoint.y);\n  var startPoints = getBoxPoints(scaleStartPoint, startPoint, startNode, scaleEndPoint, cfg);\n  var endPoints = getBoxPoints(scaleEndPoint, endPoint, endNode, scaleStartPoint, cfg);\n  startPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  endPoints.forEach(function (point) {\n    delete map[point.id];\n  });\n  var openSet = {};\n  var closedSet = {};\n  var cameFrom = {}; //  cost, default: Infinity\n\n  var gScore = {}; //  cost, default: Infinity\n\n  var fScore = {}; // initialize\n\n  for (var i = 0; i < startPoints.length; i++) {\n    var firstStep = startPoints[i];\n    openSet[firstStep.id] = firstStep; // cameFrom[firstStep.id] = startPoint.id;\n\n    gScore[firstStep.id] = 0;\n    fScore[firstStep.id] = estimateCost(firstStep, endPoints, cfg.distFunc);\n  }\n\n  var remainLoops = cfg.maximumLoops;\n  var penalties = cfg.penalties;\n  var current, curCost, direction, neighbor, neighborCost, costFromStart, directionChange;\n\n  while (Object.keys(openSet).length > 0 && remainLoops > 0) {\n    current = undefined;\n    curCost = Infinity; //  openSet  fScore \n\n    Object.keys(openSet).forEach(function (key) {\n      var id = openSet[key].id;\n\n      if (fScore[id] <= curCost) {\n        curCost = fScore[id];\n        current = openSet[id];\n      }\n    });\n    if (!current) break; //  fScore \n\n    if (endPoints.findIndex(function (point) {\n      return point.x === current.x && point.y === current.y;\n    }) > -1) {\n      return getControlPoints(current, cameFrom, scaleStartPoint, endPoint, startPoint, scaleEndPoint, gridSize);\n    }\n\n    delete openSet[current.id];\n    closedSet[current.id] = true; // \n    // \n\n    for (var i = 0; i < cfg.directions.length; i++) {\n      direction = cfg.directions[i];\n      neighbor = {\n        x: current.x + direction.stepX,\n        y: current.y + direction.stepY,\n        id: \"\".concat(Math.round(current.x) + direction.stepX, \"|||\").concat(Math.round(current.y) + direction.stepY)\n      };\n      if (closedSet[neighbor.id]) continue;\n      directionChange = getDirectionChange(current, neighbor, cameFrom, scaleStartPoint);\n      if (directionChange > cfg.maxAllowedDirectionChange) continue;\n      if (map[neighbor.id]) continue; // \n      //  openSet,  cost\n\n      if (!openSet[neighbor.id]) {\n        openSet[neighbor.id] = neighbor;\n      }\n\n      neighborCost = cfg.distFunc(current, neighbor) + (isNaN(penalties[directionChange]) ? gridSize : penalties[directionChange]);\n      costFromStart = gScore[current.id] + neighborCost;\n\n      if (gScore[neighbor.id] && costFromStart >= gScore[neighbor.id]) {\n        continue;\n      }\n\n      cameFrom[neighbor.id] = current;\n      gScore[neighbor.id] = costFromStart;\n      fScore[neighbor.id] = costFromStart + estimateCost(neighbor, endPoints, cfg.distFunc);\n    }\n\n    remainLoops -= 1;\n  }\n\n  return cfg.fallbackRoute(startPoint, endPoint, startNode, endNode, cfg);\n};","import { __assign } from \"tslib\";\nimport { mix, each, isArray, isString } from '@antv/util';\nimport { registerEdge, Util, BaseGlobal as Global } from '@antv/f6-core';\nimport { getPathWithBorderRadiusByPolyline, getPolylinePoints } from './polyline-util';\nimport { pathFinder } from './router'; // \n\nregisterEdge('polyline', {\n  options: {\n    color: Global.defaultEdge.color,\n    size: Global.defaultEdge.size,\n    style: {\n      radius: 0,\n      offset: 15,\n      x: 0,\n      y: 0,\n      stroke: Global.defaultEdge.style.stroke,\n      lineAppendWidth: Global.defaultEdge.style.lineAppendWidth\n    },\n    // \n    labelCfg: {\n      style: {\n        fill: Global.edgeLabel.style.fill,\n        fontSize: Global.edgeLabel.style.fontSize\n      }\n    },\n    routeCfg: {\n      obstacles: [],\n      maxAllowedDirectionChange: Math.PI,\n      maximumLoops: 500,\n      gridSize: 10 // \n\n    },\n    stateStyles: __assign({}, Global.edgeStateStyles)\n  },\n  shapeType: 'polyline',\n  // \n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var shapeStyle = this.getShapeStyle(cfg);\n    if (shapeStyle.radius === 0) delete shapeStyle.radius;\n    var keyShape = group.addShape('path', {\n      className: 'edge-shape',\n      name: 'edge-shape',\n      attrs: shapeStyle\n    });\n    return keyShape;\n  },\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.options.style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var style = mix({}, defaultStyle, strokeStyle, cfg.style);\n    cfg = this.getPathPoints(cfg);\n    this.radius = style.radius;\n    this.offset = style.offset;\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg);\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = style.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = style.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    var attrs = mix({}, Global.defaultEdge.style, style, {\n      lineWidth: cfg.size,\n      path: path\n    });\n    return attrs;\n  },\n  updateShapeStyle: function updateShapeStyle(cfg, item) {\n    var group = item.getContainer();\n    if (!item.isVisible()) return;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    var shape = group.find(function (element) {\n      return element.get('className') === 'edge-shape';\n    }) || item.getKeyShape();\n    var size = cfg.size;\n    cfg = this.getPathPoints(cfg);\n    var startPoint = cfg.startPoint,\n        endPoint = cfg.endPoint;\n    var controlPoints = this.getControlPoints(cfg); // || cfg.controlPoints;\n\n    var points = [startPoint]; // \n    // \n\n    if (controlPoints) {\n      points = points.concat(controlPoints);\n    } // \n\n\n    points.push(endPoint);\n    var currentAttr = shape.attr();\n    var previousStyle = mix({}, strokeStyle, currentAttr, cfg.style);\n    var source = cfg.sourceNode;\n    var target = cfg.targetNode;\n    var radius = previousStyle.radius;\n    var defaultRouteCfg = this.options.routeCfg;\n    var routeCfg = mix({}, defaultRouteCfg, cfg.routeCfg);\n    routeCfg.offset = previousStyle.offset;\n    var path = this.getPath(points, source, target, radius, routeCfg);\n\n    if (isArray(path) && path.length <= 1 || isString(path) && path.indexOf('L') === -1) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (isNaN(startPoint.x) || isNaN(startPoint.y) || isNaN(endPoint.x) || isNaN(endPoint.y)) {\n      path = 'M0 0, L0 0';\n    }\n\n    if (currentAttr.endArrow && previousStyle.endArrow === false) {\n      cfg.style.endArrow = {\n        path: ''\n      };\n    }\n\n    if (currentAttr.startArrow && previousStyle.startArrow === false) {\n      cfg.style.startArrow = {\n        path: ''\n      };\n    }\n\n    var style = mix(strokeStyle, shape.attr(), {\n      lineWidth: size,\n      path: path\n    }, cfg.style);\n\n    if (shape) {\n      shape.attr(style);\n    }\n  },\n  getPath: function getPath(points, source, target, radius, routeCfg) {\n    var offset = routeCfg.offset,\n        simple = routeCfg.simple; // \n\n    if (!offset || points.length > 2) {\n      if (radius) {\n        return getPathWithBorderRadiusByPolyline(points, radius);\n      }\n\n      var pathArray_1 = [];\n      each(points, function (point, index) {\n        if (index === 0) {\n          pathArray_1.push(['M', point.x, point.y]);\n        } else {\n          pathArray_1.push(['L', point.x, point.y]);\n        }\n      });\n      return pathArray_1;\n    } // \n\n\n    var polylinePoints = simple ? getPolylinePoints(points[points.length - 1], points[0], target, source, offset) : pathFinder(points[0], points[points.length - 1], source, target, routeCfg);\n    if (!polylinePoints || !polylinePoints.length) return 'M0 0, L0 0';\n\n    if (radius) {\n      var res_1 = getPathWithBorderRadiusByPolyline(polylinePoints, radius);\n      return res_1;\n    }\n\n    var res = Util.pointsToPolygon(polylinePoints);\n    return res;\n  }\n}, 'single-edge');","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\n\nconst { cloneEvent, isNaN } = Util;\n\nconst { abs } = Math;\nconst DRAG_OFFSET = 10;\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      direction: 'both',\n      enableOptimize: false,\n      // drag-canvas  0\n      //  0 \n      //  0 \n      // https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n      scalableRange: 0,\n      allowDragOnItem: false,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      dragstart: 'onDragStart',\n      drag: 'onDragMove',\n      dragend: 'onDragEnd',\n    };\n  },\n  updateViewport(e: IG6GraphEvent) {\n    const { origin } = this;\n    const clientX = +e.clientX;\n    const clientY = +e.clientY;\n\n    if (isNaN(clientX) || isNaN(clientY)) {\n      return;\n    }\n    let dx = clientX - origin.x;\n    let dy = clientY - origin.y;\n\n    if (this.get('direction') === 'x') {\n      dy = 0;\n    } else if (this.get('direction') === 'y') {\n      dx = 0;\n    }\n    this.origin = {\n      x: clientX,\n      y: clientY,\n    };\n    const width = this.graph.get('width');\n    const height = this.graph.get('height');\n    const graphCanvasBBox = this.graph.get('canvas').getCanvasBBox();\n\n    if (\n      (graphCanvasBBox.minX <= width + this.scalableRange &&\n        graphCanvasBBox.minX + dx > width + this.scalableRange) ||\n      (graphCanvasBBox.maxX + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxX + this.scalableRange + dx < 0)\n    ) {\n      dx = 0;\n    }\n    if (\n      (graphCanvasBBox.minY <= height + this.scalableRange &&\n        graphCanvasBBox.minY + dy > height + this.scalableRange) ||\n      (graphCanvasBBox.maxY + this.scalableRange >= 0 &&\n        graphCanvasBBox.maxY + this.scalableRange + dy < 0)\n    ) {\n      dy = 0;\n    }\n    this.graph.translate(dx, dy);\n  },\n  onDragStart(e: IG6GraphEvent) {\n    const self = this as any;\n    const event = e.originalEvent as Event;\n    if (!this.shouldBegin.call(this, e)) {\n      return;\n    }\n\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    self.origin = { x: e.clientX, y: e.clientY };\n    self.dragging = false;\n\n    if (this.enableOptimize) {\n      //  canvas label\n      const graph: IGraph = this.graph;\n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          shape.set('ori-visibility', shape.get('ori-visibility') || shape.get('visible'));\n          shape.hide();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            child.set('ori-visibility', child.get('ori-visibility') || child.get('visible'));\n            child.hide();\n          }\n        }\n      }\n    }\n  },\n\n  onDragMove(e: IG6GraphEvent) {\n    const { graph } = this;\n    const target = e.target;\n    const targetIsCanvas = target && target.isCanvas && target.isCanvas();\n    if (!this.allowDragOnItem && !targetIsCanvas) return;\n\n    e = cloneEvent(e);\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.dragging) {\n      if (abs(this.origin.x - e.clientX) + abs(this.origin.y - e.clientY) < DRAG_OFFSET) {\n        return;\n      }\n      if (this.shouldBegin.call(this, e)) {\n        e.type = 'dragstart';\n        this.dragging = true;\n      }\n    }\n    if (this.shouldUpdate.call(this, e)) {\n      this.updateViewport(e);\n    }\n  },\n  onDragEnd(e: IG6GraphEvent) {\n    const { graph } = this;\n\n    if (this.enableOptimize) {\n      // \n      const edges = graph.getEdges();\n      for (let i = 0, len = edges.length; i < len; i++) {\n        const shapes = edges[i].get('group').get('children');\n        if (!shapes) continue;\n        shapes.forEach((shape) => {\n          const oriVis = shape.get('ori-visibility');\n          if (oriVis) shape.show();\n        });\n      }\n      const nodes = graph.getNodes();\n      for (let j = 0, nodeLen = nodes.length; j < nodeLen; j++) {\n        const container = nodes[j].getContainer();\n        const children = container.get('children');\n        for (const child of children) {\n          const isKeyShape = child.get('isKeyShape');\n          if (!isKeyShape) {\n            const oriVis = child.get('ori-visibility');\n            if (oriVis) child.show();\n          }\n        }\n      }\n    }\n\n    if (!this.dragging) {\n      this.origin = null;\n      return;\n    }\n\n    e = cloneEvent(e);\n\n    if (this.shouldEnd.call(this, e)) {\n      this.updateViewport(e);\n    }\n    e.type = 'dragend';\n    // graph.emit('canvas:dragend', e);\n    this.endDrag();\n  },\n  endDrag() {\n    this.origin = null;\n    this.dragging = false;\n    this.dragbegin = false;\n  },\n};\n","/*\n * @Author: moyee\n * @Date: 2019-06-27 18:12:06\n * @LastEditors: moyee\n * @LastEditTime: 2019-08-22 18:41:45\n * @Description: Behavior\n */\nimport { Point } from '@antv/g-base';\nimport { deepMix, clone } from '@antv/util';\nimport { G6Event, IG6GraphEvent, Item, NodeConfig, INode, ICombo } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Global from '../global';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      updateEdge: true,\n      delegateStyle: {},\n      // delegate\n      enableDelegate: false,\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      comboActiveState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:dragstart': 'onDragStart',\n      'node:drag': 'onDrag',\n      'node:dragend': 'onDragEnd',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n      'combo:drop': 'onDropCombo',\n      'node:drop': 'onDropNode',\n      'canvas:drop': 'onDropCanvas',\n    };\n  },\n  validationCombo(item: ICombo) {\n    if (!this.origin || !item || item.destroyed) {\n      return false;\n    }\n\n    const type = item.getType();\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  /**\n   * \n   * @param evt\n   */\n  onDragStart(evt: IG6GraphEvent) {\n    if (!this.shouldBegin.call(this, evt)) {\n      return;\n    }\n\n    const item: INode = evt.item as INode;\n    if (!item || item.destroyed || item.hasLocked()) {\n      return;\n    }\n\n    // target linkPoints / anchorPoints \n    const { target } = evt;\n    if (target) {\n      const isAnchorPoint = target.get('isAnchorPoint');\n      if (isAnchorPoint) {\n        return;\n      }\n    }\n\n    const { graph } = this;\n\n    this.targets = [];\n\n    //  Combo\n    this.targetCombo = null;\n\n    // \n    const nodes = graph.findAllByState('node', this.selectedState);\n\n    const currentNodeId = item.get('id');\n\n    // \n    const dragNodes = nodes.filter((node) => {\n      const nodeId = node.get('id');\n      return currentNodeId === nodeId;\n    });\n\n    // \n    if (dragNodes.length === 0) {\n      this.targets.push(item);\n    } else if (nodes.length > 1) {\n      // \n      nodes.forEach((node) => {\n        const locked = node.hasLocked();\n        if (!locked) {\n          this.targets.push(node);\n        }\n      });\n    } else {\n      this.targets.push(item);\n    }\n    const beforeDragNodes = [];\n    this.targets.forEach((t) => {\n      beforeDragNodes.push(clone(t.getModel()));\n    });\n    this.set('beforeDragNodes', beforeDragNodes);\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.point = {};\n    this.originPoint = {};\n  },\n\n  /**\n   * \n   * @param evt\n   */\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return;\n    }\n\n    if (this.get('enableDelegate')) {\n      this.updateDelegate(evt);\n    } else {\n      this.targets.map((target) => {\n        this.update(target, evt);\n      });\n    }\n  },\n  /**\n   * capturetrue combo combo \n   * @param evt\n   */\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.origin || !this.shouldEnd.call(this, evt)) {\n      return;\n    }\n\n    //  group  capture  true\n    const item = evt.item as INode;\n    if (item) {\n      const group = item.getContainer();\n      group.set('capture', true);\n    }\n\n    if (this.delegateRect) {\n      this.delegateRect.remove();\n      this.delegateRect = null;\n    }\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    // \n    if (graph.get('enabledStack')) {\n      const stackData = {\n        before: { nodes: this.get('beforeDragNodes'), edges: [], combos: [] },\n        after: { nodes: [], edges: [], combos: [] },\n      };\n\n      this.targets.forEach((target) => {\n        stackData.after.nodes.push(target.getModel());\n      });\n      graph.pushStack('update', clone(stackData));\n    }\n\n    // emitnull\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: null,\n    });\n\n    this.point = {};\n    this.origin = null;\n    this.originPoint = {};\n    this.targets.length = 0;\n    this.targetCombo = null;\n  },\n  /**\n   *  combo \n   * @param evt\n   */\n  onDropCombo(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n\n    this.targetCombo = item;\n\n    //  Combo  Combo \n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      const targetComboModel = item.getModel();\n      this.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (nodeModel.comboId !== targetComboModel.id) {\n          graph.updateComboTree(node, targetComboModel.id);\n        }\n      });\n      graph.updateCombo(item as ICombo);\n    }\n\n    //  combo emit combo\n    graph.emit('dragnodeend', {\n      items: this.targets,\n      targetItem: this.targetCombo,\n    });\n  },\n\n  onDropCanvas(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    if (this.onlyChangeComboSize) {\n      //  Combo \n      graph.updateCombos();\n    } else {\n      this.targets.map((node: INode) => {\n        //  comboId combo \n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n  },\n\n  /**\n   *  combo  node \n   * @param evt\n   */\n  onDropNode(evt: IG6GraphEvent) {\n    const self = this;\n    if (!self.targets || self.targets.length === 0) return;\n    const item = evt.item as INode;\n    self.updatePositions(evt);\n    const graph: IGraph = self.graph;\n\n    const comboId = item.getModel().comboId as string;\n\n    if (comboId) {\n      const combo = graph.findById(comboId);\n      if (self.comboActiveState) {\n        graph.setItemState(combo, self.comboActiveState, false);\n      }\n      self.targets.map((node: INode) => {\n        const nodeModel = node.getModel();\n        if (comboId !== nodeModel.comboId) {\n          graph.updateComboTree(node, comboId);\n        }\n      });\n      graph.updateCombo(combo as ICombo);\n    } else {\n      self.targets.map((node: INode) => {\n        const model = node.getModel();\n        if (model.comboId) {\n          graph.updateComboTree(node);\n        }\n      });\n    }\n\n    // emit \n    graph.emit('dragnodeend', {\n      items: self.targets,\n      targetItem: item,\n    });\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragEnter(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, true);\n    }\n  },\n  /**\n   *  Combo \n   * @param evt\n   */\n  onDragLeave(evt: IG6GraphEvent) {\n    const item = evt.item as ICombo;\n    if (!this.validationCombo(item)) return;\n\n    const graph: IGraph = this.graph;\n    if (this.comboActiveState) {\n      graph.setItemState(item, this.comboActiveState, false);\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    //  delegate \n    if (this.get('enableDelegate')) {\n      this.targets.map((node) => this.update(node, evt));\n    }\n  },\n  /**\n   * \n   * @param item \n   * @param evt\n   */\n  update(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const model: NodeConfig = item.get('model');\n    const nodeId: string = item.get('id');\n    if (!this.point[nodeId]) {\n      this.point[nodeId] = {\n        x: model.x || 0,\n        y: model.y || 0,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[nodeId].x;\n    const y: number = evt.y - origin.y + this.point[nodeId].y;\n\n    const pos: Point = { x, y };\n\n    if (this.get('updateEdge')) {\n      this.graph.updateItem(item, pos, false);\n    } else {\n      item.updatePosition(pos);\n    }\n  },\n  /**\n   * delegate\n   * @param {Event} e \n   * @param {number} x x\n   * @param {number} y y\n   */\n  updateDelegate(e) {\n    const { graph } = this;\n    if (!this.delegateRect) {\n      // \n      const parent = this.graph.get('group');\n      const attrs = deepMix({}, Global.delegateStyle, this.delegateStyle);\n\n      const { x: cx, y: cy, width, height, minX, minY } = this.calculationGroupPosition(e);\n      this.originPoint = { x: cx, y: cy, width, height, minX, minY };\n      // modelx, ydelegateShapegx,y\n      this.delegateRect = parent.addShape('rect', {\n        attrs: {\n          width,\n          height,\n          x: cx,\n          y: cy,\n          ...attrs,\n        },\n        name: 'rect-delegate-shape',\n      });\n      // this.delegateRect.set('capture', false);\n    } else {\n      const clientX = e.x - this.origin.x + this.originPoint.minX;\n      const clientY = e.y - this.origin.y + this.originPoint.minY;\n      this.delegateRect.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n  /**\n   * delegate\n   * @memberof ItemGroup\n   * @return {object} delegate\n   */\n  calculationGroupPosition(evt: IG6GraphEvent) {\n    const { graph } = this;\n\n    const nodes = graph.findAllByState('node', this.selectedState);\n    if (nodes.length === 0) {\n      nodes.push(evt.item);\n    }\n\n    let minx = Infinity;\n    let maxx = -Infinity;\n    let miny = Infinity;\n    let maxy = -Infinity;\n\n    // x y\n    for (let i = 0; i < nodes.length; i++) {\n      const element = nodes[i];\n      const bbox = element.getBBox();\n      const { minX, minY, maxX, maxY } = bbox;\n      if (minX < minx) {\n        minx = minX;\n      }\n\n      if (minY < miny) {\n        miny = minY;\n      }\n\n      if (maxX > maxx) {\n        maxx = maxX;\n      }\n\n      if (maxY > maxy) {\n        maxy = maxY;\n      }\n    }\n\n    const x = Math.floor(minx);\n    const y = Math.floor(miny);\n    const width = Math.ceil(maxx) - Math.floor(minx);\n    const height = Math.ceil(maxy) - Math.floor(miny);\n\n    return {\n      x,\n      y,\n      width,\n      height,\n      minX: minx,\n      minY: miny,\n    };\n  },\n};\n","import { each } from '@antv/util';\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      multiple: true,\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n\n    return {\n      'node:tap': 'onClick',\n      'combo:tap': 'onClick',\n      'canvas:tap': 'onCanvasClick',\n    };\n  },\n  onClick(evt: IG6GraphEvent) {\n    const self = this;\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n    const { graph, multiple, shouldUpdate, shouldBegin } = self;\n    if (!shouldBegin.call(self, evt)) {\n      return;\n    }\n\n    // allow to select multiple nodes but did not press a key || do not allow the select multiple nodes\n    if (!multiple) {\n      const selected = graph.findAllByState(type, self.selectedState);\n      each(selected, (combo) => {\n        if (combo !== item) {\n          graph.setItemState(combo, self.selectedState, false);\n        }\n      });\n    }\n\n    if (item.hasState(self.selectedState)) {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, false);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: false,\n      });\n    } else {\n      if (shouldUpdate.call(self, evt)) {\n        graph.setItemState(item, self.selectedState, true);\n      }\n      const selectedNodes = graph.findAllByState('node', self.selectedState);\n      const selectedCombos = graph.findAllByState('combo', self.selectedState);\n      graph.emit('nodeselectchange', {\n        target: item,\n        selectedItems: {\n          nodes: selectedNodes,\n          combos: selectedCombos,\n        },\n        select: true,\n      });\n    }\n  },\n  onCanvasClick() {\n    const { graph } = this;\n    const selected = graph.findAllByState('node', this.selectedState);\n    each(selected, (node) => {\n      graph.setItemState(node, this.selectedState, false);\n    });\n\n    const selectedCombos = graph.findAllByState('combo', this.selectedState);\n    each(selectedCombos, (combo) => {\n      graph.setItemState(combo, this.selectedState, false);\n    });\n    graph.emit('nodeselectchange', {\n      selectedItems: { nodes: [], edges: [], combos: [] },\n      select: false,\n    });\n  },\n};\n","import { G6Event } from '@antv/f6-core';\n\nexport default {\n  firstScale: null,\n  getDefaultCfg(): object {\n    return {\n      originScale: 1,\n      sensitivity: 2,\n      minZoom: undefined,\n      maxZoom: undefined,\n      enableOptimize: false,\n      optimizeZoom: 0.1,\n      fixSelectedItems: {\n        fixAll: false,\n        fixLineWidth: false,\n        fixLabel: false,\n        fixState: 'selected',\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const { fixSelectedItems } = this;\n\n    if (!fixSelectedItems.fixState) fixSelectedItems.fixState = 'selected';\n    if (fixSelectedItems.fixAll) {\n      fixSelectedItems.fixLineWidth = true;\n      fixSelectedItems.fixLabel = true;\n    }\n\n    return {\n      pinchstart: 'onPinch',\n      pinchmove: 'onPinch',\n    };\n  },\n  onPinch(evt) {\n    if (evt.preventDefault) evt.preventDefault();\n    if (evt.originalEvent.preventDefault) evt.originalEvent.preventDefault();\n\n    const pointers = evt.originalEvent.pointers;\n    if (pointers.length < 2) return;\n\n    if (evt.type === 'pinchstart') {\n      this.firstScale = this.graph.getZoom();\n    }\n\n    const scale = evt.originalEvent.scale || evt.originalEvent.srcEvent.extra.scale;\n\n    // \n    const zoom = this.firstScale * scale;\n\n    // \n    this.currentScale = zoom;\n\n    const minZoom = this.get('minZoom') || this.graph.get('minZoom');\n    const maxZoom = this.get('maxZoom') || this.graph.get('maxZoom');\n\n    if (zoom > maxZoom || zoom < minZoom) {\n      return;\n    }\n    const canvas = this.graph.get('canvas');\n\n    const posA = { x: pointers[0].clientX, y: pointers[0].clientY };\n    const posB = { x: pointers[1].clientX, y: pointers[1].clientY };\n    // \n    const point = canvas.getPointByClient((posA.x + posB.x) / 2, (posA.y + posB.y) / 2);\n    this.graph.zoomTo(zoom, { x: point.x, y: point.y });\n  },\n};\n","import { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'dbltap'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      /**\n       * /\n       */\n      trigger: DEFAULT_TRIGGER,\n      onChange() {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      ({ trigger } = this);\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior collapse-expand  trigger  'click'  'dblclick'\");\n    }\n    return {\n      [`node:${trigger}`]: 'onNodeTap',\n      // \n      touchstart: 'onNodeTap',\n    };\n  },\n  onNodeTap(e: IG6GraphEvent) {\n    const { item } = e;\n\n    // model  merge model \n    const sourceData = this.graph.findDataById(item.get('id'));\n    if (!sourceData) {\n      return;\n    }\n\n    const { children } = sourceData;\n    // \n    if (!children || children.length === 0) {\n      return;\n    }\n    const collapsed = !sourceData.collapsed;\n    if (!this.shouldBegin(e, collapsed)) {\n      return;\n    }\n    sourceData.collapsed = collapsed;\n    item.getModel().collapsed = collapsed;\n    this.graph.emit('itemcollapsed', { item: e.item, collapsed });\n    if (!this.shouldUpdate(e, collapsed)) {\n      return;\n    }\n    try {\n      this.onChange(item, collapsed);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n    this.graph.layout();\n  },\n};\n","/*\n * @Author: moyee\n * @LastEditors: moyee\n * @Description:  Combo\n */\nimport { each } from '@antv/util';\nimport { IGroup } from '@antv/g-base';\nimport { G6Event, IG6GraphEvent, Item, ComboConfig, ICombo, INode } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\nimport Util from '../util';\nimport Global from '../global';\n\nconst { calculationItemsBBox } = Util;\n\n/**\n *  Combo  Combo\n * @param data  Combo\n * @param fn\n */\nconst traverseCombo = (data, fn: (param: any) => boolean) => {\n  if (fn(data) === false) {\n    return;\n  }\n\n  if (data) {\n    const combos = data.get('combos');\n    if (combos.length === 0) {\n      return false;\n    }\n    each(combos, (child) => {\n      traverseCombo(child, fn);\n    });\n  }\n};\n\nexport default {\n  getDefaultCfg() {\n    return {\n      enableDelegate: false,\n      delegateStyle: {},\n      //  Combo \n      onlyChangeComboSize: false,\n      //  combo \n      activeState: '',\n      selectedState: 'selected',\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'combo:dragstart': 'onDragStart',\n      'combo:drag': 'onDrag',\n      'combo:dragend': 'onDragEnd',\n      'combo:drop': 'onDrop',\n      'node:drop': 'onNodeDrop',\n      'combo:dragenter': 'onDragEnter',\n      'combo:dragleave': 'onDragLeave',\n    };\n  },\n  validationCombo(evt: IG6GraphEvent) {\n    const { item } = evt;\n    if (!item || item.destroyed) {\n      return false;\n    }\n\n    if (!this.shouldUpdate(this, evt)) {\n      return false;\n    }\n\n    const type = item.getType();\n\n    if (type !== 'combo') {\n      return false;\n    }\n    return true;\n  },\n  onDragStart(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    const { item } = evt;\n\n    if (!this.validationCombo(evt)) return;\n\n    this.targets = [];\n\n    //  Combo\n    const combos = graph.findAllByState('combo', this.selectedState);\n\n    const currentCombo = item.get('id');\n\n    const dragCombos = combos.filter((combo) => {\n      const comboId = combo.get('id');\n      return currentCombo === comboId;\n    });\n\n    if (dragCombos.length === 0) {\n      this.targets.push(item);\n    } else {\n      this.targets = combos;\n    }\n\n    if (this.activeState) {\n      this.targets.map((combo: ICombo) => {\n        const model = combo.getModel() as ComboConfig;\n        if (model.parentId) {\n          const parentCombo = graph.findById(model.parentId);\n          if (parentCombo) {\n            graph.setItemState(parentCombo, this.activeState, true);\n          }\n        }\n      });\n    }\n\n    this.point = {};\n    this.originPoint = {};\n\n    this.origin = {\n      x: evt.x,\n      y: evt.y,\n    };\n\n    this.currentItemChildCombos = [];\n\n    traverseCombo(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      const model = param.getModel();\n      this.currentItemChildCombos.push(model.id);\n      return true;\n    });\n  },\n  onDrag(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    if (this.enableDelegate) {\n      this.updateDelegate(evt);\n    } else {\n      if (this.activeState) {\n        const graph: IGraph = this.graph;\n        const item: Item = evt.item;\n        const model = item.getModel();\n        // \n        const combos = graph.getCombos();\n        const sourceBBox = item.getBBox();\n\n        const { centerX, centerY, width } = sourceBBox;\n\n        //  Combo\n        // 1 combo \n        // 2 combo  parent\n        // 3 Combo  children\n\n        const calcCombos = combos.filter((combo) => {\n          const cmodel = combo.getModel() as ComboConfig;\n          //  Combo parent\n          if (!model.parentId) {\n            return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n          }\n          return cmodel.id !== model.id && !this.currentItemChildCombos.includes(cmodel.id);\n        });\n\n        calcCombos.map((combo) => {\n          const { centerX: cx, centerY: cy, width: w } = combo.getBBox();\n\n          //  combo  combo \n          const disX = centerX - cx;\n          const disY = centerY - cy;\n          // \n          const distance = 2 * Math.sqrt(disX * disX + disY * disY);\n\n          if (width + w - distance > 0.8 * width) {\n            graph.setItemState(combo, this.activeState, true);\n          } else {\n            graph.setItemState(combo, this.activeState, false);\n          }\n        });\n      }\n\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  updatePositions(evt: IG6GraphEvent) {\n    //  delegate  combo\n    if (this.enableDelegate) {\n      each(this.targets, (item) => {\n        this.updateCombo(item, evt);\n      });\n    }\n  },\n\n  onDrop(evt: IG6GraphEvent) {\n    //  combo\n    const { item } = evt;\n    if (!item || !this.targets || item.destroyed) {\n      return;\n    }\n    this.updatePositions(evt);\n\n    const graph: IGraph = this.graph;\n\n    const targetModel = item.getModel();\n\n    this.targets.map((combo: ICombo) => {\n      const model = combo.getModel();\n      if (model.parentId !== targetModel.id) {\n        if (this.activeState) {\n          graph.setItemState(item, this.activeState, false);\n        }\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo, targetModel.id);\n        } else {\n          graph.updateCombo(combo);\n        }\n      } else {\n        graph.updateCombo(item as ICombo);\n      }\n    });\n\n    this.end(item, evt);\n\n    // \n    this.endComparison = true;\n  },\n  onNodeDrop(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    this.updatePositions(evt);\n    const graph: IGraph = this.graph;\n\n    const item = evt.item as INode;\n    const comboId = item.getModel().comboId as string;\n    let droppedCombo;\n    //  comboId comboId  combo  id  comboId\n    if (comboId) {\n      if (this.activeState) {\n        const combo = graph.findById(comboId);\n        graph.setItemState(combo, this.activeState, false);\n      }\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          if (comboId !== combo.getID()) {\n            droppedCombo = graph.findById(comboId);\n            if (comboId !== combo.getModel().parentId) graph.updateComboTree(combo, comboId);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    } else {\n      //  comboId combo  id undefined\n      this.targets.map((combo: ICombo) => {\n        if (!this.onlyChangeComboSize) {\n          const model = combo.getModel();\n          if (model.comboId) {\n            graph.updateComboTree(combo);\n          }\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    // \n    this.endComparison = true;\n    this.end(droppedCombo, evt);\n  },\n  onDragEnter(evt: IG6GraphEvent) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const { item } = evt;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, true);\n    }\n  },\n  onDragLeave(evt) {\n    if (!this.origin) {\n      return;\n    }\n\n    if (!this.validationCombo(evt)) return;\n\n    const item = evt.item as ICombo;\n    const graph: IGraph = this.graph;\n    if (this.activeState) {\n      graph.setItemState(item, this.activeState, false);\n    }\n  },\n  onDragEnd(evt: IG6GraphEvent) {\n    if (!this.targets || this.targets.length === 0) return;\n    const item = evt.item;\n    this.updatePositions(evt);\n    const parentCombo = this.getParentCombo(item.getModel().parentId);\n    const graph: IGraph = this.graph;\n    if (parentCombo && this.activeState) {\n      graph.setItemState(parentCombo, this.activeState, false);\n    }\n    this.end(undefined, evt);\n  },\n\n  end(comboDropedOn: ICombo | undefined, evt: IG6GraphEvent) {\n    if (!this.origin) return;\n    const graph: IGraph = this.graph;\n\n    // delegate shape\n    if (this.delegateShape) {\n      const delegateGroup = graph.get('delegateGroup');\n      delegateGroup.clear();\n      this.delegateShape = null;\n    }\n\n    if (comboDropedOn && this.activeState) {\n      graph.setItemState(comboDropedOn, this.activeState, false);\n    }\n    //  combo\n    if (!comboDropedOn) {\n      this.targets.map((combo: ICombo) => {\n        //  Combo  Combo  onlyChangeComboSize  false  Combo \n        if (!this.onlyChangeComboSize) {\n          graph.updateComboTree(combo);\n        } else {\n          graph.updateCombo(combo);\n        }\n      });\n    }\n\n    this.point = [];\n    this.origin = null;\n    this.originPoint = null;\n    this.targets.length = 0;\n  },\n\n  /**\n   *  comboTree node  combo\n   * @param data\n   * @param fn\n   */\n  traverse<T extends Item>(data: T, fn: (param: T) => boolean) {\n    if (fn(data) === false) {\n      return;\n    }\n\n    if (data) {\n      const combos = data.get('combos');\n      each(combos, (child) => {\n        this.traverse(child, fn);\n      });\n\n      const nodes = data.get('nodes');\n      each(nodes, (child) => {\n        this.traverse(child, fn);\n      });\n    }\n  },\n\n  updateCombo(item: ICombo, evt: IG6GraphEvent) {\n    this.traverse(item, (param) => {\n      if (param.destroyed) {\n        return false;\n      }\n      this.updateSignleItem(param, evt);\n      return true;\n    });\n  },\n\n  /**\n   *\n   * @param item \n   * @param evt\n   */\n  updateSignleItem(item: Item, evt: IG6GraphEvent) {\n    const { origin } = this;\n    const graph: IGraph = this.graph;\n    const model = item.getModel() as ComboConfig;\n    const itemId = item.get('id');\n\n    if (!this.point[itemId]) {\n      this.point[itemId] = {\n        x: model.x,\n        y: model.y,\n      };\n    }\n\n    const x: number = evt.x - origin.x + this.point[itemId].x;\n    const y: number = evt.y - origin.y + this.point[itemId].y;\n\n    graph.updateItem(item, { x, y });\n  },\n\n  /**\n   *  ID  Combo\n   * @param parentId  Combo ID\n   */\n  getParentCombo(parentId: string): ICombo | undefined {\n    const graph: IGraph = this.graph;\n    if (!parentId) {\n      return undefined;\n    }\n\n    const parentCombo = graph.findById(parentId) as ICombo;\n    if (!parentCombo) {\n      return undefined;\n    }\n\n    return parentCombo;\n  },\n\n  updateDelegate(evt: IG6GraphEvent) {\n    const graph: IGraph = this.graph;\n    //  delegate shape \n    if (!this.delegateShape) {\n      const delegateGroup: IGroup = graph.get('delegateGroup');\n\n      let bbox = null;\n      if (this.targets.length > 1) {\n        bbox = calculationItemsBBox(this.targets);\n      } else {\n        bbox = this.targets[0].getBBox();\n      }\n\n      const { x, y, width, height, minX, minY } = bbox;\n\n      this.originPoint = { x, y, width, height, minX, minY };\n\n      const attrs = { ...Global.delegateStyle, ...this.delegateStyle };\n\n      this.delegateShape = delegateGroup.addShape('rect', {\n        attrs: {\n          width: bbox.width,\n          height: bbox.height,\n          x: bbox.x,\n          y: bbox.y,\n          ...attrs,\n        },\n        name: 'combo-delegate-shape',\n      });\n    } else {\n      const clientX = evt.x - this.origin.x + this.originPoint.minX;\n      const clientY = evt.y - this.origin.y + this.originPoint.minY;\n\n      this.delegateShape.attr({\n        x: clientX,\n        y: clientY,\n      });\n    }\n  },\n};\n","/*\n * @Author: Shiwu\n * @Description:  Combo\n */\n\nimport { G6Event, IG6GraphEvent } from '@antv/f6-core';\n\nconst DEFAULT_TRIGGER = 'dblclick';\nconst ALLOW_EVENTS = ['click', 'dblclick'];\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      relayout: true,\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    let trigger: string;\n    // \n    if (ALLOW_EVENTS.includes(this.trigger)) {\n      trigger = this.trigger;\n    } else {\n      trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior collapse-expand-group  trigger  'click'  'dblclick'\",\n      );\n    }\n    return {\n      [`combo:${trigger}`]: 'onComboClick',\n    };\n  },\n  onComboClick(evt: IG6GraphEvent) {\n    const { item } = evt;\n    const { graph, relayout } = this;\n\n    if (!item || item.destroyed || item.getType() !== 'combo') return;\n    const model = item.getModel();\n    const comboId = model.id;\n    if (!comboId) {\n      return;\n    }\n    graph.collapseExpandCombo(comboId);\n    if (relayout && graph.get('layout')) graph.layout();\n    else graph.refreshPositions();\n  },\n};\n","import { G6Event, IG6GraphEvent, EdgeConfig } from '@antv/f6-core';\nimport { IGraph } from '../interface/graph';\n\nconst DEFAULT_TRIGGER = 'tap';\nconst ALLOW_EVENTS = ['tap', 'drag'];\nconst DEFAULT_KEY = undefined;\nconst ALLOW_KEYS = ['shift', 'ctrl', 'control', 'alt', 'meta', undefined];\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      trigger: DEFAULT_TRIGGER,\n      key: DEFAULT_KEY,\n      edgeConfig: {},\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    const self = this as any;\n    // \n    if (!(ALLOW_EVENTS.indexOf(self.trigger.toLowerCase()) > -1)) {\n      self.trigger = DEFAULT_TRIGGER;\n      // eslint-disable-next-line no-console\n      console.warn(\"Behavior create-edge  trigger  'click''drag'\");\n    }\n    if (self.key && ALLOW_KEYS.indexOf(self.key.toLowerCase()) === -1) {\n      self.trigger = DEFAULT_KEY;\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Behavior create-edge  key  'shift''ctrl''alt''control' undefined\",\n      );\n    }\n    let events;\n    if (self.trigger === 'drag') {\n      events = {\n        'node:dragstart': 'onClick',\n        'combo:dragstart': 'onClick',\n        drag: 'updateEndPoint',\n        'node:drop': 'onClick',\n        'combo:drop': 'onClick',\n        dragend: 'onDragEnd',\n      };\n    } else if (self.trigger === 'click') {\n      events = {\n        'node:tap': 'onClick', // The event is node:click, the responsing function is onClick\n        mousemove: 'updateEndPoint', // The event is mousemove, the responsing function is onMousemove\n        'edge:tap': 'cancelCreating', // The event is edge:click, the responsing function is onEdgeClick\n        'canvas:tap': 'cancelCreating',\n        'combo:tap': 'onClick',\n      };\n    }\n    if (self.key) {\n      events.keydown = 'onKeyDown';\n      events.keyup = 'onKeyUp';\n    }\n    return events;\n  },\n  onDragEnd(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const { item } = ev;\n    if (!item || item.getID() === self.source || item.getType() !== 'node')\n      self.cancelCreating({\n        item: self.edge,\n        x: ev.x,\n        y: ev.y,\n      });\n  },\n  // \n  onClick(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const node = ev.item;\n    const graph: IGraph = self.graph;\n    const model = node.getModel();\n    // \n    if (self.addingEdge && self.edge) {\n      if (!self.shouldEnd.call(self, ev)) return;\n      const updateCfg: EdgeConfig = {\n        target: model.id,\n      };\n      if (self.source === model.id) {\n        updateCfg.type = 'loop';\n      }\n\n      graph.emit('beforecreateedge', {});\n\n      graph.updateItem(self.edge, updateCfg);\n\n      graph.emit('aftercreateedge', {\n        edge: self.edge,\n      });\n\n      //  capture  true\n      self.edge.getKeyShape().set('capture', true);\n\n      self.edge = null;\n      self.addingEdge = false;\n    } else {\n      // \n      if (!self.shouldBegin.call(self, ev)) return;\n      self.edge = graph.addItem(\n        'edge',\n        {\n          source: model.id,\n          target: model.id,\n          ...self.edgeConfig,\n        },\n        false,\n      );\n      self.source = model.id;\n      self.addingEdge = true;\n      //  capture  false\n      self.edge.getKeyShape().set('capture', false);\n    }\n  },\n  // \n  updateEndPoint(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const point = { x: ev.x, y: ev.y };\n\n    //  source \n    if (!self.graph.findById(self.source)) {\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.updateItem(\n        self.edge,\n        {\n          target: point,\n        },\n        false,\n      );\n    }\n  },\n  // \n  cancelCreating(ev: IG6GraphEvent) {\n    const self = this;\n    if (self.key && !self.keydown) return;\n    const graph: IGraph = self.graph;\n    const currentEdge = ev.item;\n    if (self.addingEdge && ev.target && ev.target.isCanvas && ev.target.isCanvas()) {\n      graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n      return;\n    }\n    if (self.addingEdge && self.edge === currentEdge) {\n      let cancelEdge = true;\n      // !graph.get('groupByTypes')  click \n      if (!graph.get('groupByTypes')) {\n        // \n        const { x, y } = ev;\n        const nodes = graph.getNodes();\n        const length = nodes.length;\n        for (let i = 0; i < length; i++) {\n          const node = nodes[i];\n          const model = node.getModel();\n          const nodeBBox = node.getBBox();\n          if (\n            x <= nodeBBox.maxX &&\n            x >= nodeBBox.minX &&\n            y <= nodeBBox.maxY &&\n            y >= nodeBBox.minY\n          ) {\n            if (\n              !self.shouldEnd.call(self, {\n                x: ev.x,\n                y: ev.y,\n                canvasX: ev.canvasX,\n                canvasY: ev.canvasY,\n                clientX: ev.clientX,\n                clientY: ev.clientY,\n                item: node,\n              })\n            ) {\n              return;\n            }\n\n            graph.emit('beforecreateedge', {});\n\n            graph.updateItem(self.edge, {\n              target: model.id,\n            });\n            graph.emit('aftercreateedge', {\n              edge: self.edge,\n            });\n            cancelEdge = false;\n            break;\n          }\n        }\n      }\n      if (cancelEdge) graph.removeItem(self.edge, false);\n      self.edge = null;\n      self.addingEdge = false;\n    }\n  },\n\n  onKeyDown(e: IG6GraphEvent) {\n    const self = this;\n    const code = e.key;\n    if (!code) {\n      return;\n    }\n    if (code.toLowerCase() === self.key.toLowerCase()) {\n      self.keydown = true;\n    } else {\n      self.keydown = false;\n    }\n  },\n  onKeyUp() {\n    const self = this;\n    if (self.addingEdge && self.edge) {\n      // \n      self.graph.removeItem(self.edge, false);\n      self.addingEdge = false;\n      self.edge = null;\n    }\n    this.keydown = false;\n  },\n};\n","import { each } from '@antv/util';\nimport { IAbstractGraph, G6Event } from '@antv/f6-core';\n\nexport default {\n  /**\n   * auto bind events when register behavior\n   * @param graph Graph instance\n   */\n  bind(graph: IAbstractGraph) {\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', true);\n    }\n    const { events } = this;\n    this.graph = graph;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.on(event, handler);\n    });\n  },\n\n  unbind(graph: IAbstractGraph) {\n    const { events } = this;\n    if (this.type === 'drag-canvas') {\n      graph.get('canvas').set('draggable', false);\n    }\n    this.graph = null;\n    each(events, (handler: () => void, event: G6Event) => {\n      graph.off(event, handler);\n    });\n  },\n};\n","import { each } from '@antv/util';\nimport { registerBehavior } from '@antv/f6-core';\nimport DragCanvas from './drag-canvas';\nimport DragNode from './drag-node';\nimport ActivateRelations from './activate-relations';\nimport ClickSelect from './click-select';\nimport ZoomCanvas from './zoom-canvas';\nimport CollapseExpand from './collapse-expand';\nimport DragCombo from './drag-combo';\nimport CollapseExpandCombo from './collapse-expand-combo';\nimport CreateEdge from './create-edge';\nimport mobileBehavior from './mobile-behavior';\n\nconst behaviors = {\n  'drag-canvas': DragCanvas,\n  'zoom-canvas': ZoomCanvas,\n  'drag-node': DragNode,\n  'activate-relations': ActivateRelations,\n  'click-select': ClickSelect,\n  'collapse-expand': CollapseExpand,\n  'drag-combo': DragCombo,\n  'collapse-expand-combo': CollapseExpandCombo,\n  'create-edge': CreateEdge,\n};\n\neach(behaviors, (behavior, type: string) => {\n  registerBehavior(type, { ...behavior, ...mobileBehavior });\n});\n\n// export default Behavior;\n","import { G6Event, IG6GraphEvent, INode } from '@antv/f6-core';\n\nexport default {\n  getDefaultCfg(): object {\n    return {\n      activeState: 'active',\n      inactiveState: 'inactive',\n      resetSelected: false,\n      shouldUpdate() {\n        return true;\n      },\n    };\n  },\n  getEvents(): { [key in G6Event]?: string } {\n    return {\n      'node:tap': 'setAllItemStates',\n      'canvas:tap': 'clearAllItemStates',\n    };\n  },\n  setAllItemStates(e: IG6GraphEvent) {\n    const self = this;\n    const item: INode = e.item as INode;\n    const graph = self.graph;\n    self.item = item;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'activate' })) {\n      return;\n    }\n    const activeState = self.activeState;\n    const inactiveState = self.inactiveState;\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      const hasSelected = node.hasState('selected');\n      if (self.resetSelected) {\n        if (hasSelected) {\n          graph.setItemState(node, 'selected', false);\n        }\n      }\n      graph.setItemState(node, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(node, inactiveState, true);\n      }\n    }\n\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.setItemState(edge, activeState, false);\n      if (inactiveState) {\n        graph.setItemState(edge, inactiveState, true);\n      }\n    }\n\n    if (inactiveState) {\n      graph.setItemState(item, inactiveState, false);\n    }\n    graph.setItemState(item, activeState, true);\n\n    const rEdges = item.getEdges();\n    const rEdgeLegnth = rEdges.length;\n    for (let i = 0; i < rEdgeLegnth; i++) {\n      const edge = rEdges[i];\n      let otherEnd;\n      if (edge.getSource() === item) {\n        otherEnd = edge.getTarget();\n      } else {\n        otherEnd = edge.getSource();\n      }\n      if (inactiveState) {\n        graph.setItemState(otherEnd, inactiveState, false);\n      }\n      graph.setItemState(otherEnd, activeState, true);\n      graph.setItemState(edge, inactiveState, false);\n      graph.setItemState(edge, activeState, true);\n      edge.toFront();\n    }\n    graph.emit('afteractivaterelations', { item: e.item, action: 'activate' });\n  },\n  clearActiveState(e: any) {\n    const self = this;\n    const graph = self.get('graph');\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const autoPaint = graph.get('autoPaint');\n    graph.setAutoPaint(false);\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n    graph.paint();\n    graph.setAutoPaint(autoPaint);\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n  clearAllItemStates(e: any) {\n    const self = this;\n    const graph = self.graph;\n    if (!self.shouldUpdate(e.item, { event: e, action: 'deactivate' })) {\n      return;\n    }\n\n    const activeState = this.activeState;\n    const inactiveState = this.inactiveState;\n\n    const nodes = graph.getNodes();\n    const edges = graph.getEdges();\n    const nodeLength = nodes.length;\n    const edgeLength = edges.length;\n\n    for (let i = 0; i < nodeLength; i++) {\n      const node = nodes[i];\n      graph.clearItemStates(node, [activeState, inactiveState]);\n    }\n    for (let i = 0; i < edgeLength; i++) {\n      const edge = edges[i];\n      graph.clearItemStates(edge, [activeState, inactiveState, 'deactivate']);\n    }\n\n    graph.emit('afteractivaterelations', {\n      item: e.item || self.get('item'),\n      action: 'deactivate',\n    });\n  },\n};\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,"\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var colorString=require(\"color-string\"),convert=require(\"color-convert\"),_slice=[].slice,skippedModels=[\"keyword\",\"gray\",\"hex\"],hashedModelKeys={};Object.keys(convert).forEach((function(t){hashedModelKeys[_slice.call(convert[t].labels).sort().join(\"\")]=t}));var limiters={};function Color(t,r){if(!(this instanceof Color))return new Color(t,r);if(r&&r in skippedModels&&(r=null),r&&!(r in convert))throw new Error(\"Unknown model: \"+r);var o,e,n,l,i,a,s,h,c;if(null==t)this.model=\"rgb\",this.color=[0,0,0],this.valpha=1;else if(t instanceof Color)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(\"string\"==typeof t){if(null===(e=colorString.get(t)))throw new Error(\"Unable to parse color from string: \"+t);this.model=e.model,c=convert[this.model].channels,this.color=e.value.slice(0,c),this.valpha=\"number\"==typeof e.value[c]?e.value[c]:1}else if(t.length)this.model=r||\"rgb\",c=convert[this.model].channels,n=_slice.call(t,0,c),this.color=zeroArray(n,c),this.valpha=\"number\"==typeof t[c]?t[c]:1;else if(\"number\"==typeof t)t&=16777215,this.model=\"rgb\",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{if(this.valpha=1,l=Object.keys(t),\"alpha\"in t&&(l.splice(l.indexOf(\"alpha\"),1),this.valpha=\"number\"==typeof t.alpha?t.alpha:0),!((i=l.sort().join(\"\"))in hashedModelKeys))throw new Error(\"Unable to parse color from object: \"+JSON.stringify(t));for(this.model=hashedModelKeys[i],a=convert[this.model].labels,s=[],o=0;o<a.length;o++)s.push(t[a[o]]);this.color=zeroArray(s)}if(limiters[this.model])for(c=convert[this.model].channels,o=0;o<c;o++)(h=limiters[this.model][o])&&(this.color[o]=h(this.color[o]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function roundTo(t,r){return Number(t.toFixed(r))}function roundToPlace(t){return function(r){return roundTo(r,t)}}function getset(t,r,o){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(limiters[t]||(limiters[t]=[]))[r]=o})),t=t[0],function(e){var n;return arguments.length?(o&&(e=o(e)),(n=this[t]()).color[r]=e,n):(n=this[t]().color[r],o&&(n=o(n)),n)}}function maxfn(t){return function(r){return Math.max(0,Math.min(t,r))}}function assertArray(t){return Array.isArray(t)?t:[t]}function zeroArray(t,r){var o;for(o=0;o<r;o++)\"number\"!=typeof t[o]&&(t[o]=0);return t}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var r=this.model in colorString.to?this:this.rgb(),o=1===(r=r.round(\"number\"==typeof t?t:1)).valpha?r.color:r.color.concat(this.valpha);return colorString.to[r.model](o)},percentString:function(t){var r=this.rgb().round(\"number\"==typeof t?t:1),o=1===r.valpha?r.color:r.color.concat(this.valpha);return colorString.to.rgb.percent(o)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){var t,r={},o=convert[this.model].channels,e=convert[this.model].labels;for(t=0;t<o;t++)r[e[t]]=this.color[t];return 1!==this.valpha&&(r.alpha=this.valpha),r},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new Color(this.color.map(roundToPlace(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new Color(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:getset(\"rgb\",0,maxfn(255)),green:getset(\"rgb\",1,maxfn(255)),blue:getset(\"rgb\",2,maxfn(255)),hue:getset([\"hsl\",\"hsv\",\"hsl\",\"hwb\",\"hcg\"],0,(function(t){return(t%360+360)%360})),saturationl:getset(\"hsl\",1,maxfn(100)),lightness:getset(\"hsl\",2,maxfn(100)),saturationv:getset(\"hsv\",1,maxfn(100)),value:getset(\"hsv\",2,maxfn(100)),chroma:getset(\"hcg\",1,maxfn(100)),gray:getset(\"hcg\",2,maxfn(100)),white:getset(\"hwb\",1,maxfn(100)),wblack:getset(\"hwb\",2,maxfn(100)),cyan:getset(\"cmyk\",0,maxfn(100)),magenta:getset(\"cmyk\",1,maxfn(100)),yellow:getset(\"cmyk\",2,maxfn(100)),black:getset(\"cmyk\",3,maxfn(100)),x:getset(\"xyz\",0,maxfn(100)),y:getset(\"xyz\",1,maxfn(100)),z:getset(\"xyz\",2,maxfn(100)),l:getset(\"lab\",0,maxfn(100)),a:getset(\"lab\",1),b:getset(\"lab\",2),keyword:function(t){return arguments.length?new Color(t):convert[this.model].keyword(this.color)},hex:function(t){return arguments.length?new Color(t):colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){var t,r,o=this.rgb().color,e=[];for(t=0;t<o.length;t++)r=o[t]/255,e[t]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var r=this.luminosity(),o=t.luminosity();return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},level:function(t){var r=this.contrast(t);return r>=7.1?\"AAA\":r>=4.5?\"AA\":\"\"},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){var t,r=this.rgb();for(t=0;t<3;t++)r.color[t]=255-r.color[t];return r},lighten:function(t){var r=this.hsl();return r.color[2]+=r.color[2]*t,r},darken:function(t){var r=this.hsl();return r.color[2]-=r.color[2]*t,r},saturate:function(t){var r=this.hsl();return r.color[1]+=r.color[1]*t,r},desaturate:function(t){var r=this.hsl();return r.color[1]-=r.color[1]*t,r},whiten:function(t){var r=this.hwb();return r.color[1]+=r.color[1]*t,r},blacken:function(t){var r=this.hwb();return r.color[2]+=r.color[2]*t,r},grayscale:function(){var t=this.rgb().color,r=.3*t[0]+.59*t[1]+.11*t[2];return Color.rgb(r,r,r)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var r=this.hsl(),o=r.color[0];return o=(o=(o+t)%360)<0?360+o:o,r.color[0]=o,r},mix:function(t,r){if(!t||!t.rgb)throw new Error('Argument to \"mix\" was not a Color instance, but rather an instance of '+_typeof(t));var o=t.rgb(),e=this.rgb(),n=void 0===r?.5:r,l=2*n-1,i=o.alpha()-e.alpha(),a=((l*i==-1?l:(l+i)/(1+l*i))+1)/2,s=1-a;return Color.rgb(a*o.red()+s*e.red(),a*o.green()+s*e.green(),a*o.blue()+s*e.blue(),o.alpha()*n+e.alpha()*(1-n))}},Object.keys(convert).forEach((function(t){if(-1===skippedModels.indexOf(t)){var r=convert[t].channels;Color.prototype[t]=function(){if(this.model===t)return new Color(this);if(arguments.length)return new Color(arguments,t);var o=\"number\"==typeof arguments[r]?r:this.valpha;return new Color(assertArray(convert[this.model][t].raw(this.color)).concat(o),t)},Color[t]=function(o){return\"number\"==typeof o&&(o=zeroArray(_slice.call(arguments),r)),new Color(o,t)}}})),module.exports=Color;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","\"use strict\";var __extends=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getLayoutByName=exports.unRegisterLayout=exports.registerLayout=void 0;var base_1=require(\"../layout/base\"),util_1=require(\"../util/index\"),map=new Map,registerLayout=function(t,e){var r;map.get(t)&&console.warn(\"The layout with the name \"+t+\" exists already, it will be overridden\"),util_1.isObject(e)?(r=function(t){function r(r){var o=t.call(this)||this,n=o,a={},u=n.getDefaultCfg();return Object.assign(a,u,e,r),Object.keys(a).forEach((function(t){var e=a[t];n[t]=e})),o}return __extends(r,t),r}(base_1.Base),map.set(t,r)):map.set(t,e)};exports.registerLayout=registerLayout;var unRegisterLayout=function(t){map.has(t)&&map.delete(t)};exports.unRegisterLayout=unRegisterLayout;var getLayoutByName=function(t){return map.has(t)?map.get(t):null};exports.getLayoutByName=getLayoutByName;","\"use strict\";var __extends=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.RandomLayout=void 0;var base_1=require(\"./base\"),RandomLayout=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return __extends(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return\"random\"},e}(base_1.Base);exports.RandomLayout=RandomLayout;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Base=void 0;var Base=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return\"base\"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();exports.Base=Base;",null,null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport { each, wrapBehavior } from '@antv/util';\nimport { AbstractEvent, IG6GraphEvent, Matrix, Item, Util } from '@antv/f6-core';\nimport Graph from '../graph';\n\nconst { cloneEvent, isViewportChanged } = Util;\n\ntype Fun = () => void;\n\nexport default class EventController extends AbstractEvent {\n  protected extendEvents: any[] = [];\n\n  protected canvasHandler!: Fun;\n\n  protected dragging: boolean = false;\n\n  protected preItem: Item | null = null;\n\n  public destroyed: boolean;\n\n  constructor(graph: Graph) {\n    super(graph);\n    this.graph = graph;\n    this.destroyed = false;\n  }\n\n  //  G6 \n  protected initEvents() {\n    const { graph, extendEvents = [] } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    this.canvasHandler = wrapBehavior(this, 'onCanvasEvents') as Fun;\n    canvas.off('*').on('*', this.canvasHandler);\n  }\n\n  //  shape  item \n  private static getItemRoot<T extends IShape>(shape: any): T {\n    while (shape && !shape.get('item')) {\n      shape = shape.get('parent');\n    }\n    return shape;\n  }\n\n  /**\n   *  canvas \n   * @param evt \n   */\n  protected onCanvasEvents(evt: IG6GraphEvent) {\n    const { graph } = this;\n    const canvas = graph.get('canvas');\n    const { target } = evt;\n    const eventType = evt.type;\n\n    /**\n     * (clientX, clientY): \n     * (canvasX, canvasY):  <canvas> \n     * (x, y): ,  model  x, y \n     */\n    evt.canvasX = evt.x;\n    evt.canvasY = evt.y;\n    let point = { x: evt.canvasX, y: evt.canvasY };\n\n    const group: IGroup = graph.get('group');\n    let matrix: Matrix = group.getMatrix();\n\n    if (!matrix) {\n      matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n\n    if (isViewportChanged(matrix)) {\n      point = graph.getPointByClient(evt.clientX, evt.clientY);\n    }\n\n    evt.x = point.x;\n    evt.y = point.y;\n\n    evt.currentTarget = graph;\n\n    if (target === canvas) {\n      if (eventType === 'panmove') {\n        this.handleTouchMove(evt, 'canvas');\n      }\n      evt.target = canvas;\n      evt.item = null;\n\n      graph.emit(eventType, evt);\n      graph.emit(`canvas:${eventType}`, evt);\n      return;\n    }\n\n    const itemShape: IShape = EventController.getItemRoot(target);\n    if (!itemShape) {\n      graph.emit(eventType, evt);\n      return;\n    }\n\n    const item = itemShape.get('item');\n    if (item.destroyed) {\n      return;\n    }\n\n    const type = item.getType();\n\n    // targetShapeitemitem\n    evt.target = target;\n    evt.item = item;\n    if (evt.canvasX === evt.x && evt.canvasY === evt.y) {\n      const canvasPoint = graph.getCanvasByPoint(evt.x, evt.y);\n      evt.canvasX = canvasPoint.x;\n      evt.canvasY = canvasPoint.y;\n    }\n\n    graph.emit(eventType, evt);\n    if (evt.name && !evt.name.includes(':')) {\n      graph.emit(`${type}:${eventType}`, evt);\n    } else {\n      graph.emit(evt.name, evt);\n    }\n\n    if (eventType === 'dragstart') {\n      this.dragging = true;\n    }\n    if (eventType === 'dragend') {\n      this.dragging = false;\n    }\n    if (eventType === 'panmove') {\n      this.handleTouchMove(evt, type);\n    }\n  }\n\n  /**\n   * \n   * @param evt \n   */\n  protected onExtendEvents(evt: IG6GraphEvent) {\n    this.graph.emit(evt.type, evt);\n  }\n\n  /**\n   *  graph  emit \n   * @param itemType item \n   * @param eventType \n   * @param evt \n   */\n  private emitCustomEvent(itemType: string, eventType: string, evt: IG6GraphEvent) {\n    evt.type = eventType;\n    this.graph.emit(`${itemType}:${eventType}`, evt);\n  }\n\n  public destroy() {\n    const { graph, canvasHandler, extendEvents } = this;\n    const canvas: ICanvas = graph.get('canvas');\n\n    // each(EVENTS, event => {\n    //   canvas.off(event, canvasHandler);\n    // });\n\n    canvas.off('*', canvasHandler);\n\n    each(extendEvents, (event) => {\n      event.remove();\n    });\n\n    this.dragging = false;\n    this.preItem = null;\n    this.extendEvents.length = 0;\n    (this.canvasHandler as Fun | null) = null;\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param evt \n   * @param type item \n   */\n  private handleTouchMove(evt: IG6GraphEvent, type: string) {\n    const { graph, preItem } = this;\n    const canvas: ICanvas = graph.get('canvas');\n    const item = (evt.target as any) === canvas ? null : evt.item;\n\n    evt = cloneEvent(evt) as IG6GraphEvent;\n\n    // itemitemitemleave\n    if (preItem && preItem !== item && !preItem.destroyed) {\n      evt.item = preItem;\n      this.emitCustomEvent(preItem.getType(), 'touchleave', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(preItem.getType(), 'dragleave', evt);\n      }\n    }\n\n    // itemcanvasitemitementer\n    if (item && preItem !== item) {\n      evt.item = item;\n      this.emitCustomEvent(type, 'touchenter', evt);\n      if (this.dragging) {\n        this.emitCustomEvent(type, 'dragenter', evt);\n      }\n    }\n\n    this.preItem = item;\n  }\n}\n","import { AbstractLayout, GraphData } from '@antv/f6-core';\nimport { Layout } from '../../layout';\nimport { mix, clone } from '@antv/util';\n\nimport { IGraph } from '../../interface/graph';\n\nconst LayoutPipesAdjustNames = ['force', 'grid', 'circular'];\nexport default class LayoutController extends AbstractLayout {\n  public graph: IGraph;\n\n  public destroyed: boolean;\n\n  constructor(graph: IGraph) {\n    super(graph);\n    this.graph = graph;\n    this.layoutCfg = graph.get('layout') || {};\n    this.layoutType = this.getLayoutType();\n  }\n\n  // \n  public updateLayoutCfg(cfg) {\n    const { graph, layoutMethods } = this;\n    const layoutCfg = mix({}, this.layoutCfg, cfg);\n    this.layoutCfg = layoutCfg;\n\n    if (!layoutMethods?.length) {\n      this.layout();\n      return;\n    }\n    this.data = this.setDataFromGraph();\n\n    graph.emit('beforelayout');\n\n    let start = Promise.resolve();\n    if (layoutMethods.length === 1) {\n      start = start.then(() => this.updateLayoutMethod(layoutMethods[0], layoutCfg));\n    } else {\n      layoutMethods?.forEach((layoutMethod, index) => {\n        const currentCfg = layoutCfg.pipes[index];\n        start = start.then(() => this.updateLayoutMethod(layoutMethod, currentCfg));\n      });\n    }\n    this.data = this.setDataFromGraph();\n\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n      })\n      .catch((error) => {\n        console.warn('layout failed', error);\n      });\n  }\n\n  /**\n   * @param {function} success callback\n   * @return {boolean} web worker\n   */\n  public layout(success?: () => void): boolean {\n    const { graph } = this;\n\n    this.data = this.setDataFromGraph();\n    const { nodes, hiddenNodes } = this.data;\n\n    if (!nodes) {\n      return false;\n    }\n    const width = graph.get('width');\n    const height = graph.get('height');\n    const layoutCfg: any = {};\n    Object.assign(\n      layoutCfg,\n      {\n        width,\n        height,\n        center: [width / 2, height / 2],\n      },\n      this.layoutCfg,\n    );\n    this.layoutCfg = layoutCfg;\n\n    this.destoryLayoutMethods();\n\n    graph.emit('beforelayout');\n    this.initPositions(layoutCfg.center, nodes);\n    // init hidden ndoes\n    this.initPositions(layoutCfg.center, hiddenNodes);\n\n    //  onAllLayoutEnd  onLayoutEnd afterlayoutfitView/fitCenter afterrender\n    const { onLayoutEnd, layoutEndFormatted, adjust } = layoutCfg;\n\n    if (!layoutEndFormatted) {\n      layoutCfg.layoutEndFormatted = true;\n\n      layoutCfg.onAllLayoutEnd = async () => {\n        //  onLayoutEnd\n        if (onLayoutEnd) {\n          onLayoutEnd();\n        }\n\n        // \n        this.refreshLayout();\n\n        // \n        if (adjust && layoutCfg.pipes) {\n          await this.adjustPipesBox(this.data, adjust);\n          this.refreshLayout();\n        }\n\n        //  afterlayout\n        graph.emit('afterlayout');\n      };\n    }\n\n    let start = Promise.resolve();\n    if (layoutCfg.type) {\n      start = start.then(() => this.execLayoutMethod(layoutCfg, 0));\n    } else if (layoutCfg.pipes) {\n      layoutCfg.pipes.forEach((cfg, index) => {\n        start = start.then(() => this.execLayoutMethod(cfg, index));\n      });\n    }\n\n    // onAllLayoutEnd\n    start\n      .then(() => {\n        if (layoutCfg.onAllLayoutEnd) layoutCfg.onAllLayoutEnd();\n        //  execute  success timeBar  throttle timeBar  afterrender  changeData  layout\n        //  force  fitView  onLayoutEnd \n        if (success) success();\n      })\n      .catch((error) => {\n        console.warn('graph layout failed,', error);\n      });\n\n    return false;\n  }\n\n  private execLayoutMethod(layoutCfg, order): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const isForce = layoutType === 'force' || layoutType === 'g6force' || layoutType === 'gForce';\n      if (isForce) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutCfg.tick = tick;\n      } else if (layoutCfg.type === 'comboForce') {\n        layoutCfg.comboTrees = graph.get('comboTrees');\n      }\n\n      let enableTick = false;\n      let layoutMethod;\n\n      try {\n        layoutMethod = new Layout(layoutCfg);\n      } catch (e) {\n        console.warn(`The layout method: '${layoutType}' does not exist! Please specify it first.`);\n        reject();\n      }\n\n      // \n      enableTick = layoutMethod.enableTick;\n      if (enableTick) {\n        const { onTick } = layoutCfg;\n        const tick = () => {\n          if (onTick) {\n            onTick();\n          }\n          graph.refreshPositions();\n        };\n        layoutMethod.tick = tick;\n      }\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      addLayoutOrder(layoutData, order);\n      layoutMethod.init(layoutData);\n      //  layout initPositions  random  random \n      //  layout\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n      this.layoutMethods.push(layoutMethod);\n    });\n  }\n\n  private updateLayoutMethod(layoutMethod, layoutCfg): Promise<void> {\n    return new Promise((reslove, reject) => {\n      const { graph } = this;\n      const layoutType = layoutCfg?.type;\n\n      // \n      layoutCfg.onLayoutEnd = () => {\n        graph.emit('aftersublayout', { type: layoutType });\n        reslove();\n      };\n\n      const layoutData = this.filterLayoutData(this.data, layoutCfg);\n      layoutMethod.init(layoutData);\n      layoutMethod.updateCfg(layoutCfg);\n      graph.emit('beforesublayout', { type: layoutType });\n      layoutMethod.execute();\n      if (layoutMethod.isCustomLayout && layoutCfg.onLayoutEnd) layoutCfg.onLayoutEnd();\n    });\n  }\n\n  protected adjustPipesBox(data, adjust: string): Promise<void> {\n    return new Promise((resolve) => {\n      const { nodes } = data;\n      if (!nodes?.length) {\n        resolve();\n      }\n\n      if (!LayoutPipesAdjustNames.includes(adjust)) {\n        console.warn(\n          `The adjust type ${adjust} is not supported yet, please assign it with 'force', 'grid', or 'circular'.`,\n        );\n        resolve();\n      }\n\n      const layoutCfg = {\n        center: this.layoutCfg.center,\n        nodeSize: (d) => Math.max(d.height, d.width),\n        preventOverlap: true,\n        onLayoutEnd: () => {},\n      };\n\n      // \n      const { groupNodes, layoutNodes } = this.getLayoutBBox(nodes);\n      const preNodes = clone(layoutNodes);\n\n      // nodes\n      layoutCfg.onLayoutEnd = () => {\n        layoutNodes?.forEach((ele, index) => {\n          const dx = ele.x - preNodes[index]?.x;\n          const dy = ele.y - preNodes[index]?.y;\n          groupNodes[index]?.forEach((n: any) => {\n            n.x += dx;\n            n.y += dy;\n          });\n        });\n        resolve();\n      };\n      const layoutMethod = new Layout(layoutCfg);\n      layoutMethod.layout({ nodes: layoutNodes });\n    });\n  }\n\n  public destroy() {\n    this.destoryLayoutMethods();\n    this.destroyed = true;\n\n    this.graph.set('layout', undefined);\n    this.layoutCfg = undefined;\n    this.layoutType = undefined;\n    this.layoutMethods = undefined;\n    this.graph = null;\n  }\n}\n\nfunction addLayoutOrder(data, order) {\n  if (!data?.nodes?.length) {\n    return;\n  }\n  const { nodes } = data;\n  nodes.forEach((node) => {\n    node.layoutOrder = order;\n  });\n}\n","import { Canvas as GMobileCanvas } from '@antv/g-mobile';\nimport { IGroup } from '@antv/g-base';\nimport { mat3 } from '@antv/matrix-util';\nimport { clone, deepMix, each, isString, isNumber } from '@antv/util';\nimport { IGraph, DataUrlType } from '../interface/graph';\nimport { AbstractGraph, GraphOptions } from '@antv/f6-core';\n\nimport { WaterMarkerConfig } from '../types';\nimport Global from '../global';\nimport { LayoutController, EventController } from './controller';\nimport PluginBase from '../plugin/base';\nimport { createDom } from '@antv/dom-util';\n\nexport const registerGraph = (graphName: string, GraphFunction: any, G6: Object): Object => {\n  if (G6[graphName]) {\n    console.warn(`The graph with the name ${graphName} exists already, it will be overridden`);\n  }\n  G6[graphName] = GraphFunction(G6);\n  return G6;\n};\nexport default class Graph extends AbstractGraph implements IGraph {\n  // private cfg: GraphOptions & { [key: string]: any };\n\n  public destroyed: boolean;\n\n  constructor(cfg: GraphOptions) {\n    super(cfg);\n\n    if (this.get('renderer').startsWith('mini')) {\n      this.set('context', (cfg as any).context);\n    }\n\n    super.init();\n    const defaultNode = this.get('defaultNode');\n    if (!defaultNode) {\n      this.set('defaultNode', { type: 'circle' });\n    }\n    if (!defaultNode.type) {\n      defaultNode.type = 'circle';\n      this.set('defaultNode', defaultNode);\n    }\n    this.destroyed = false;\n  }\n\n  // deepmix\n  protected init() {}\n\n  public emitEvent(event) {\n    const canvas: GMobileCanvas = this.get('canvas');\n    event.type = event.type.toLowerCase();\n    canvas.registerEventCallback(event);\n  }\n\n  protected initLayoutController() {\n    const layoutController = new LayoutController(this);\n    this.set({\n      layoutController,\n    });\n  }\n\n  protected initEventController() {\n    const eventController = new EventController(this);\n    this.set({\n      eventController,\n    });\n\n    if (this.get('renderer').startsWith('mini')) {\n      return;\n    }\n\n    const canvas: GMobileCanvas = this.get('canvas');\n    const canvasDom = canvas.get('el');\n    'touchstart touchmove touchend touchcancel'.split(' ').forEach((key) => {\n      canvasDom.addEventListener(key, canvas.registerEventCallback.bind(canvas), false);\n    });\n  }\n\n  protected initCanvas() {\n    let container: string | HTMLElement | Element | null = this.get('container');\n    if (container !== null && typeof container === 'string') {\n      container = document.getElementById(container);\n      this.set('container', container);\n    }\n\n    const renderer: string = this.get('renderer');\n\n    if (!container && !renderer.startsWith('mini')) {\n      throw new Error('invalid container');\n    }\n\n    const width: number = this.get('width');\n    const height: number = this.get('height');\n    const context: string = this.get('context');\n    const fitView: boolean = this.get('fitView');\n\n    const canvasCfg: any = {\n      container, // native canvas  requestAnimationFrame, clearAnimationFrame \n      context,\n      width,\n      height,\n      renderer,\n      fitView,\n    };\n\n    const pixelRatio = this.get('pixelRatio');\n\n    if (pixelRatio) {\n      canvasCfg.pixelRatio = pixelRatio;\n    }\n\n    const canvas = new GMobileCanvas(canvasCfg);\n\n    this.set('canvas', canvas);\n  }\n\n  protected initPlugins(): void {\n    const self = this;\n    each(self.get('plugins'), (plugin) => {\n      if (!plugin.destroyed && plugin.initPlugin) {\n        plugin.initPlugin(self);\n      }\n    });\n  }\n\n  /**\n   *  dataUrl\n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   * @return {string}  dataURL\n   */\n  public toDataURL(type?: DataUrlType, backgroundColor?: string): string {\n    const canvas: GMobileCanvas = this.get('canvas');\n    const renderer = canvas.getRenderer();\n    const canvasDom = canvas.get('el');\n\n    if (!type) type = 'image/png';\n\n    let dataURL = '';\n    if (renderer === 'svg') {\n      const cloneNode = canvasDom.cloneNode(true);\n      const svgDocType = document.implementation.createDocumentType(\n        'svg',\n        '-//W3C//DTD SVG 1.1//EN',\n        'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n      );\n      const svgDoc = document.implementation.createDocument(\n        'http://www.w3.org/2000/svg',\n        'svg',\n        svgDocType,\n      );\n      svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n      const svgData = new XMLSerializer().serializeToString(svgDoc);\n      dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n    } else {\n      let imageData;\n      const context = canvasDom.getContext('2d');\n      const width = this.get('width');\n      const height = this.get('height');\n      let compositeOperation;\n      if (backgroundColor) {\n        const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n        imageData = context.getImageData(0, 0, width * pixelRatio, height * pixelRatio);\n        compositeOperation = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-over';\n        context.fillStyle = backgroundColor;\n        context.fillRect(0, 0, width, height);\n      }\n      dataURL = canvasDom.toDataURL(type);\n      if (backgroundColor) {\n        context.clearRect(0, 0, width, height);\n        context.putImageData(imageData, 0, 0);\n        context.globalCompositeOperation = compositeOperation;\n      }\n    }\n    return dataURL;\n  }\n\n  /**\n   *  dataUrl\n   * @param {Function} callback  dataUrl  dataUrl \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public toFullDataURL(\n    callback: (res: string) => any,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ) {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n      quickHit: true,\n    };\n\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    let dataURL = '';\n    if (!type) type = 'image/png';\n\n    setTimeout(() => {\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n      if (callback) callback(dataURL);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {Object} imageConfig  padding\n   */\n  public downloadFullImage(\n    name?: string,\n    type?: DataUrlType,\n    imageConfig?: { backgroundColor?: string; padding?: number | number[] },\n  ): void {\n    const bbox = this.get('group').getCanvasBBox();\n    const height = bbox.height;\n    const width = bbox.width;\n    const renderer = this.get('renderer');\n    const vContainerDOM: HTMLDivElement = createDom('<id=\"virtual-image\"></div>');\n\n    const backgroundColor = imageConfig ? imageConfig.backgroundColor : undefined;\n    let padding = imageConfig ? imageConfig.padding : undefined;\n    if (!padding) padding = [0, 0, 0, 0];\n    else if (isNumber(padding)) padding = [padding, padding, padding, padding];\n\n    const vHeight = height + padding[0] + padding[2];\n    const vWidth = width + padding[1] + padding[3];\n    const canvasOptions = {\n      container: vContainerDOM,\n      height: vHeight,\n      width: vWidth,\n    };\n    const vCanvas = new GMobileCanvas(canvasOptions);\n\n    const group = this.get('group');\n    const vGroup = group.clone();\n\n    let matrix = clone(vGroup.getMatrix());\n    if (!matrix) matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    const centerX = (bbox.maxX + bbox.minX) / 2;\n    const centerY = (bbox.maxY + bbox.minY) / 2;\n    mat3.translate(matrix, matrix, [-centerX, -centerY]);\n    mat3.translate(matrix, matrix, [width / 2 + padding[3], height / 2 + padding[0]]);\n\n    vGroup.resetMatrix();\n    vGroup.setMatrix(matrix);\n    vCanvas.add(vGroup);\n\n    const vCanvasEl = vCanvas.get('el');\n\n    if (!type) type = 'image/png';\n    setTimeout(() => {\n      let dataURL = '';\n      if (renderer === 'svg') {\n        const cloneNode = vCanvasEl.cloneNode(true);\n        const svgDocType = document.implementation.createDocumentType(\n          'svg',\n          '-//W3C//DTD SVG 1.1//EN',\n          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',\n        );\n        const svgDoc = document.implementation.createDocument(\n          'http://www.w3.org/2000/svg',\n          'svg',\n          svgDocType,\n        );\n        svgDoc.replaceChild(cloneNode, svgDoc.documentElement);\n        const svgData = new XMLSerializer().serializeToString(svgDoc);\n        dataURL = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgData)}`;\n      } else {\n        let imageData;\n        const context = vCanvasEl.getContext('2d');\n        let compositeOperation;\n        if (backgroundColor) {\n          const pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio : 1;\n          imageData = context.getImageData(0, 0, vWidth * pixelRatio, vHeight * pixelRatio);\n          compositeOperation = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-over';\n          context.fillStyle = backgroundColor;\n          context.fillRect(0, 0, vWidth, vHeight);\n        }\n        dataURL = vCanvasEl.toDataURL(type);\n        if (backgroundColor) {\n          context.clearRect(0, 0, vWidth, vHeight);\n          context.putImageData(imageData, 0, 0);\n          context.globalCompositeOperation = compositeOperation;\n        }\n      }\n\n      const link: HTMLAnchorElement = document.createElement('a');\n      const fileName: string =\n        (name || 'graph') + (renderer === 'svg' ? '.svg' : `.${type.split('/')[1]}`);\n\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  /**\n   * \n   * @param {String} name \n   * @param {String} type \"image/png\" | \"image/jpeg\" | \"image/webp\" | \"image/bmp\"\n   * @param {string} backgroundColor \n   */\n  public downloadImage(name?: string, type?: DataUrlType, backgroundColor?: string): void {\n    const self = this;\n\n    if (self.isAnimating()) {\n      self.stopAnimate();\n    }\n\n    const canvas = self.get('canvas');\n    const renderer = canvas.getRenderer();\n    if (!type) type = 'image/png';\n    const fileName: string = (name || 'graph') + (renderer === 'svg' ? '.svg' : type.split('/')[1]);\n    const link: HTMLAnchorElement = document.createElement('a');\n    setTimeout(() => {\n      const dataURL = self.toDataURL(type, backgroundColor);\n      this.dataURLToImage(dataURL, renderer, link, fileName);\n\n      const e = document.createEvent('MouseEvents');\n      e.initEvent('click', false, false);\n      link.dispatchEvent(e);\n    }, 16);\n  }\n\n  private dataURLToImage(dataURL: string, renderer: string, link, fileName) {\n    if (typeof window !== 'undefined') {\n      if (window.Blob && window.URL && renderer !== 'svg') {\n        const arr = dataURL.split(',');\n        let mime = '';\n        if (arr && arr.length > 0) {\n          const match = arr[0].match(/:(.*?);/);\n          // eslint-disable-next-line prefer-destructuring\n          if (match && match.length >= 2) mime = match[1];\n        }\n\n        const bstr = atob(arr[1]);\n        let n = bstr.length;\n        const u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        const blobObj = new Blob([u8arr], { type: mime });\n\n        if (window.navigator['msSaveBlob']) {\n          window.navigator['msSaveBlob'](blobObj, fileName);\n        } else {\n          link.addEventListener('click', () => {\n            link.download = fileName;\n            link.href = window.URL.createObjectURL(blobObj);\n          });\n        }\n      } else {\n        link.addEventListener('click', () => {\n          link.download = fileName;\n          link.href = dataURL;\n        });\n      }\n    }\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public addPlugin(plugin: PluginBase): void {\n    const self = this;\n    if (plugin.destroyed) {\n      return;\n    }\n    self.get('plugins').push(plugin);\n    plugin.initPlugin(self);\n  }\n\n  /**\n   * \n   * @param {object} plugin \n   */\n  public removePlugin(plugin: PluginBase): void {\n    const plugins = this.get('plugins');\n    const index = plugins.indexOf(plugin);\n    if (index >= 0) {\n      plugin.destroyPlugin();\n      plugins.splice(index, 1);\n    }\n  }\n\n  private isMiniNative() {\n    return this.get('renderer') === 'mini-native';\n  }\n\n  private isMini() {\n    return this.get('renderer').startsWith('mini');\n  }\n\n  private isBrowser() {\n    return this.get('renderer') === 'canvas';\n  }\n\n  /**\n   * \n   * @param {string} imgURL url\n   * @param {WaterMarkerConfig} config \n   * @param {any} waterCanvas canvas\n   */\n  public setImageWaterMarker(imgURL: string, config: WaterMarkerConfig, waterCanvas?: any) {\n    //\n    const waterMarkerConfig = deepMix({}, Global.imageWaterMarkerConfig, config);\n    const { width, height, image } = waterMarkerConfig;\n    const { rotate, x, y, width: imgWidth, height: imgHeight } = image;\n    //mini\n    if (this.isMini() && !this.isMiniNative()) {\n      //\n    }\n    //mini-native\n    if (this.isMiniNative()) {\n      //canvas\n      waterCanvas.width = width ? width : this.get('width');\n      waterCanvas.height = height ? height : this.get('height');\n      //context\n      const waterCanvasContext = waterCanvas.getContext('2d');\n\n      const { createImage } = this.get('extra');\n\n      const img = createImage();\n      img.crossOrigin = 'anonymous';\n      img.src = imgURL;\n      img.onload = () => {\n        if (this.destroyed) return;\n        //\n        const scaleX = imgWidth / img.width;\n        const scaleY = imgHeight / img.height;\n\n        //\n        waterCanvasContext.rotate(-(rotate * Math.PI) / 180);\n\n        //\n        const pattern = waterCanvasContext.createPattern(img, 'repeat');\n        waterCanvasContext.fillStyle = pattern;\n        waterCanvasContext.scale(scaleX, scaleY);\n        //\n        waterCanvasContext.fillRect(\n          -this.get('width') * 2,\n          -this.get('height'),\n          this.get('width') * 10,\n          this.get('height') * 10,\n        );\n        this.get('waterGroup').addShape('image', {\n          attrs: {\n            img: waterCanvas,\n          },\n        });\n      };\n    }\n    //render\n    if (this.isBrowser()) {\n      const waterCanvas = document.createElement('canvas');\n\n      //\n      waterCanvas.width = width ? width : this.get('width');\n      waterCanvas.height = height ? height : this.get('height');\n      const context = waterCanvas.getContext('2d');\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.src = imgURL;\n      img.onload = () => {\n        if (this.destroyed) return;\n\n        //\n        const scaleX = imgWidth / img.width;\n        const scaleY = imgHeight / img.height;\n\n        //\n        context.rotate(-(rotate * Math.PI) / 180);\n        //\n        const pattern = context.createPattern(img, 'repeat');\n        context.fillStyle = pattern;\n        context.scale(scaleX, scaleY);\n        //\n        context.fillRect(\n          -this.get('width') * 2,\n          -this.get('height'),\n          this.get('width') * 10,\n          this.get('height') * 10,\n        );\n\n        const water_img_url = waterCanvas.toDataURL();\n        this.get('waterGroup').addShape('image', {\n          attrs: {\n            img: water_img_url,\n          },\n        });\n      };\n    }\n  }\n\n  /**\n   * \n   * @param {string[]} texts \n   * @param {WaterMarkerConfig} config \n   */\n  public setTextWaterMarker(texts: string[], config?: WaterMarkerConfig) {\n    let container: string | HTMLElement | null = this.get('container');\n    if (isString(container)) {\n      container = document.getElementById(container);\n    }\n\n    if (!container.style.position) {\n      container.style.position = 'relative';\n    }\n\n    let canvas = this.get('graphWaterMarker');\n\n    const waterMarkerConfig: WaterMarkerConfig = deepMix({}, Global.textWaterMarkerConfig, config);\n    const { width, height, compatible, text } = waterMarkerConfig;\n\n    if (!canvas) {\n      const canvasCfg: any = {\n        container,\n        width,\n        height,\n        capture: false,\n      };\n      const pixelRatio = this.get('pixelRatio');\n      if (pixelRatio) {\n        canvasCfg.pixelRatio = pixelRatio;\n      }\n      canvas = new GMobileCanvas(canvasCfg);\n      this.set('graphWaterMarker', canvas);\n    }\n    canvas.get('el').style.display = 'none';\n    const ctx = canvas.get('context');\n\n    const { rotate, fill, fontFamily, fontSize, baseline, x, y, lineHeight } = text;\n    // 20\n    ctx.rotate((-rotate * Math.PI) / 180);\n\n    // \n    ctx.font = `${fontSize}px ${fontFamily}`;\n\n    // \n    ctx.fillStyle = fill;\n\n    ctx.textBaseline = baseline;\n\n    for (let i = texts.length - 1; i >= 0; i--) {\n      // \n      ctx.fillText(texts[i], x, y + i * lineHeight);\n    }\n\n    // \n    ctx.rotate((rotate * Math.PI) / 180);\n\n    // \n    if (!compatible) {\n      let box = document.querySelector('.g6-graph-watermarker') as HTMLElement;\n      if (!box) {\n        box = document.createElement('div');\n        box.className = 'g6-graph-watermarker';\n      }\n      box.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL(\n          'image/png',\n        )});background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;`;\n      container.appendChild(box);\n    } else {\n      //  pointer-events compatible  true\n      container.style.cssText = `background-image: url(${canvas\n        .get('el')\n        .toDataURL('image/png')});background-repeat:repeat;`;\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    each(this.get('plugins'), (plugin) => {\n      plugin.destroyPlugin();\n    });\n\n    // destroy tooltip doms, removed when upgrade G6 4.0\n    const tooltipDOMs = this.get('tooltips');\n    if (tooltipDOMs) {\n      for (let i = 0; i < tooltipDOMs.length; i++) {\n        const container = tooltipDOMs[i];\n        if (!container) continue;\n        const parent = container.parentElement;\n        if (!parent) continue;\n        parent.removeChild(container);\n      }\n    }\n\n    this.get('eventController').destroy();\n    this.get('layoutController').destroy();\n\n    if (this.get('graphWaterMarker')) {\n      this.get('graphWaterMarker').destroy();\n    }\n\n    if (\n      typeof document !== 'undefined' &&\n      document.querySelector &&\n      document.querySelector('.g6-graph-watermarker')\n    ) {\n      document.querySelector('.g6-graph-watermarker').remove();\n    }\n\n    super.destroy();\n  }\n\n  //  Group\n  protected initGroups(): void {\n    const canvas: GMobileCanvas = this.get('canvas');\n\n    const group: IGroup = canvas.addGroup({\n      id: 'root',\n      className: Global.rootContainerClassName,\n    });\n\n    const waterGroup: IGroup = canvas.addGroup({\n      id: 'water',\n      className: Global.waterContainerClassName,\n    });\n\n    if (this.get('groupByTypes')) {\n      const edgeGroup: IGroup = group.addGroup({\n        id: 'edge',\n        className: Global.edgeContainerClassName,\n      });\n\n      const nodeGroup: IGroup = group.addGroup({\n        id: 'node',\n        className: Global.nodeContainerClassName,\n      });\n\n      const comboGroup: IGroup = group.addGroup({\n        id: 'combo',\n        className: Global.comboContainerClassName,\n      });\n\n      // \n      comboGroup.toBack();\n\n      this.set({ nodeGroup, edgeGroup, comboGroup });\n    }\n\n    const uiGroup: IGroup = canvas.addGroup({\n      id: 'uiGroup',\n      className: Global.uiContainerClassName,\n    });\n\n    const delegateGroup: IGroup = group.addGroup({\n      id: 'delegate',\n      className: Global.delegateContainerClassName,\n    });\n    this.set({ delegateGroup });\n    this.set('group', group);\n    this.set('uiGroup', uiGroup);\n    this.set('waterGroup', waterGroup);\n  }\n}\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return \"\".concat(Number(n) * 100, \"%\");\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\".concat(CSS_NUMBER, \")|(?:\").concat(CSS_INTEGER, \")\");\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%)\") : \"hsva(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\") : \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\") : \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return \"\".concat(Math.round(bound01(x, 255) * 100), \"%\"); };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%)\")\n            : \"rgba(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        return new TinyColor({\n            r: bg.r + (fg.r - bg.r) * fg.a,\n            g: bg.g + (fg.g - bg.g) * fg.a,\n            b: bg.b + (fg.b - bg.b) * fg.a,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import { TinyColor } from '@ctrl/tinycolor';\n\nvar hueStep = 2; // \n\nvar saturationStep = 0.16; // \n\nvar saturationStep2 = 0.05; // \n\nvar brightnessStep1 = 0.05; // \n\nvar brightnessStep2 = 0.15; // \n\nvar lightColorCount = 5; // \n\nvar darkColorCount = 4; // \n// \n\nvar darkColorMap = [{\n  index: 7,\n  opacity: 0.15\n}, {\n  index: 6,\n  opacity: 0.25\n}, {\n  index: 5,\n  opacity: 0.3\n}, {\n  index: 5,\n  opacity: 0.45\n}, {\n  index: 5,\n  opacity: 0.65\n}, {\n  index: 5,\n  opacity: 0.85\n}, {\n  index: 4,\n  opacity: 0.9\n}, {\n  index: 3,\n  opacity: 0.95\n}, {\n  index: 2,\n  opacity: 0.97\n}, {\n  index: 1,\n  opacity: 0.98\n}];\n\nfunction getHue(hsv, i, light) {\n  var hue; // \n\n  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\n    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\n  } else {\n    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\n  }\n\n  if (hue < 0) {\n    hue += 360;\n  } else if (hue >= 360) {\n    hue -= 360;\n  }\n\n  return hue;\n}\n\nfunction getSaturation(hsv, i, light) {\n  // grey color don't change saturation\n  if (hsv.h === 0 && hsv.s === 0) {\n    return hsv.s;\n  }\n\n  var saturation;\n\n  if (light) {\n    saturation = hsv.s - saturationStep * i;\n  } else if (i === darkColorCount) {\n    saturation = hsv.s + saturationStep;\n  } else {\n    saturation = hsv.s + saturationStep2 * i;\n  } // \n\n\n  if (saturation > 1) {\n    saturation = 1;\n  } //  s  0.06-0.1 \n\n\n  if (light && i === lightColorCount && saturation > 0.1) {\n    saturation = 0.1;\n  }\n\n  if (saturation < 0.06) {\n    saturation = 0.06;\n  }\n\n  return Number(saturation.toFixed(2));\n}\n\nfunction getValue(hsv, i, light) {\n  var value;\n\n  if (light) {\n    value = hsv.v + brightnessStep1 * i;\n  } else {\n    value = hsv.v - brightnessStep2 * i;\n  }\n\n  if (value > 1) {\n    value = 1;\n  }\n\n  return Number(value.toFixed(2));\n}\n\nfunction generate(color) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var patterns = [];\n  var pColor = new TinyColor(color);\n\n  for (var i = lightColorCount; i > 0; i -= 1) {\n    var hsv = pColor.toHsv();\n    var colorString = new TinyColor({\n      h: getHue(hsv, i, true),\n      s: getSaturation(hsv, i, true),\n      v: getValue(hsv, i, true)\n    }).toHexString();\n    patterns.push(colorString);\n  }\n\n  patterns.push(pColor.toHexString());\n\n  for (var _i = 1; _i <= darkColorCount; _i += 1) {\n    var _hsv = pColor.toHsv();\n\n    var _colorString = new TinyColor({\n      h: getHue(_hsv, _i),\n      s: getSaturation(_hsv, _i),\n      v: getValue(_hsv, _i)\n    }).toHexString();\n\n    patterns.push(_colorString);\n  } // dark theme patterns\n\n\n  if (opts.theme === 'dark') {\n    return darkColorMap.map(function (_ref) {\n      var index = _ref.index,\n          opacity = _ref.opacity;\n      var darkColorString = new TinyColor(opts.backgroundColor || '#141414').mix(patterns[index], opacity * 100).toHexString();\n      return darkColorString;\n    });\n  }\n\n  return patterns;\n}\n\nvar presetPrimaryColors = {\n  red: '#F5222D',\n  volcano: '#FA541C',\n  orange: '#FA8C16',\n  gold: '#FAAD14',\n  yellow: '#FADB14',\n  lime: '#A0D911',\n  green: '#52C41A',\n  cyan: '#13C2C2',\n  blue: '#1890FF',\n  geekblue: '#2F54EB',\n  purple: '#722ED1',\n  magenta: '#EB2F96',\n  grey: '#666666'\n};\nvar presetPalettes = {};\nvar presetDarkPalettes = {};\nObject.keys(presetPrimaryColors).forEach(function (key) {\n  presetPalettes[key] = generate(presetPrimaryColors[key]);\n  presetPalettes[key].primary = presetPalettes[key][5]; // dark presetPalettes\n\n  presetDarkPalettes[key] = generate(presetPrimaryColors[key], {\n    theme: 'dark',\n    backgroundColor: '#141414'\n  });\n  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];\n});\nvar red = presetPalettes.red;\nvar volcano = presetPalettes.volcano;\nvar gold = presetPalettes.gold;\nvar orange = presetPalettes.orange;\nvar yellow = presetPalettes.yellow;\nvar lime = presetPalettes.lime;\nvar green = presetPalettes.green;\nvar cyan = presetPalettes.cyan;\nvar blue = presetPalettes.blue;\nvar geekblue = presetPalettes.geekblue;\nvar purple = presetPalettes.purple;\nvar magenta = presetPalettes.magenta;\nvar grey = presetPalettes.grey;\n\nexport { blue, cyan, geekblue, generate, gold, green, grey, lime, magenta, orange, presetDarkPalettes, presetPalettes, presetPrimaryColors, purple, red, volcano, yellow };\n","import color from 'color';\nimport { generate } from '@ant-design/colors';\n\n/**\n * get the mix color of backColor and frontColor with alpah\n * @param backColor background color\n * @param frontColor foreground color\n * @param frontAlpha the opacity of foreground color\n */\nexport const mixColor = (backColor, frontColor, frontAlpha) => {\n  const bc = color(backColor);\n  const fc = color(frontColor);\n  return color([\n    (1 - frontAlpha) * bc.red() + frontAlpha * fc.red(),\n    (1 - frontAlpha) * bc.green() + frontAlpha * fc.green(),\n    (1 - frontAlpha) * bc.blue() + frontAlpha * fc.blue(),\n  ]).rgb();\n};\n\nconst getColorsWithDefaultTheme = (\n  subjectColor,\n  backColor = '#fff',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const subjectColor005 = mixColor(backColor, subjectColor, 0.05).rgb().toString();\n  const subjectColor01 = mixColor(backColor, subjectColor, 0.1).rgb().toString();\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor04 = mixColor(backColor, subjectColor, 0.4).rgb().toString();\n\n  const disableColor002 = mixColor(backColor, disableColor, 0.02).rgb().toString();\n  const disableColor005 = mixColor(backColor, disableColor, 0.05).rgb().toString();\n  const disableColor01 = mixColor(backColor, disableColor, 0.1).rgb().toString();\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, {\n    theme: 'default',\n    backgroundColor: backColor,\n  });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor,\n    mainFill: subjectColor01,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor005,\n\n    inactiveStroke: subjectColor04,\n    inactiveFill: subjectColor005,\n\n    selectedStroke: subjectColor,\n    selectedFill: backColor,\n\n    highlightStroke: deeperSubject,\n    highlightFill: subjectColor02,\n\n    disableStroke: disableColor03,\n    disableFill: disableColor005,\n\n    // for edges\n    edgeMainStroke: disableColor03,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor02,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor01,\n\n    // for combos\n    comboMainStroke: disableColor03,\n    comboMainFill: disableColor002,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: subjectColor005,\n\n    comboInactiveStroke: disableColor03,\n    comboInactiveFill: disableColor002,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor002,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor002,\n\n    comboDisableStroke: disableColor02,\n    comboDisableFill: disableColor005,\n  };\n};\n\nconst getColorsWithDarkTheme = (subjectColor, backColor = '#fff', disableColor = '#777') => {\n  const subjectColor02 = mixColor(backColor, subjectColor, 0.2).rgb().toString();\n  const subjectColor03 = mixColor(backColor, subjectColor, 0.3).rgb().toString();\n  const subjectColor06 = mixColor(backColor, subjectColor, 0.6).rgb().toString();\n  const subjectColor08 = mixColor(backColor, subjectColor, 0.8).rgb().toString();\n\n  const disableColor02 = mixColor(backColor, disableColor, 0.2).rgb().toString();\n  const disableColor025 = mixColor(backColor, disableColor, 0.25).rgb().toString();\n  const disableColor03 = mixColor(backColor, disableColor, 0.3).rgb().toString();\n  const disableColor04 = mixColor(backColor, disableColor, 0.4).rgb().toString();\n  const disableColor05 = mixColor(backColor, disableColor, 0.5).rgb().toString();\n\n  const paletteFromSubject = generate(subjectColor, { theme: 'dark', backgroundColor: backColor });\n  const subjectHex = color(subjectColor).hex().toLowerCase();\n  const subjectIdx = paletteFromSubject.indexOf(subjectHex);\n  let deeperSubject = subjectColor;\n  if (subjectIdx !== -1) {\n    deeperSubject = paletteFromSubject[subjectIdx + 1];\n  }\n  return {\n    // for nodes\n    mainStroke: subjectColor08,\n    mainFill: subjectColor02,\n\n    activeStroke: subjectColor,\n    activeFill: subjectColor03,\n\n    inactiveStroke: subjectColor08,\n    inactiveFill: subjectColor02,\n\n    selectedStroke: subjectColor,\n    selectedFill: subjectColor02,\n\n    highlightStroke: subjectColor,\n    highlightFill: subjectColor06,\n\n    disableStroke: disableColor05,\n    disableFill: disableColor025,\n\n    // for edges\n    edgeMainStroke: disableColor,\n    edgeActiveStroke: subjectColor,\n    edgeInactiveStroke: disableColor,\n    edgeSelectedStroke: subjectColor,\n    edgeHighlightStroke: subjectColor,\n    edgeDisableStroke: disableColor03,\n\n    // for combos\n    comboMainStroke: disableColor04,\n    comboMainFill: disableColor025,\n\n    comboActiveStroke: subjectColor,\n    comboActiveFill: disableColor02,\n\n    comboInactiveStroke: disableColor04,\n    comboInactiveFill: disableColor025,\n\n    comboSelectedStroke: subjectColor,\n    comboSelectedFill: disableColor02,\n\n    comboHighlightStroke: deeperSubject, // 'rgb(53, 119, 222)', // TODO: how to generate it ???\n    comboHighlightFill: disableColor025,\n\n    comboDisableStroke: disableColor04,\n    comboDisableFill: disableColor02,\n  };\n};\n\n/**\n * get the set of colors according to the subject color and background color\n * @param subjectColor the subject color\n * @param backColor background color\n * @param disableColor the color for disable state\n */\nexport const getColorsWithSubjectColor = (\n  subjectColor,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  if (theme === 'default')\n    return getColorsWithDefaultTheme(subjectColor, backColor, 'rgb(150, 150, 150)');\n  return getColorsWithDarkTheme(subjectColor, backColor, '#777');\n};\n\nexport const getColorSetsBySubjectColors = (\n  subjectColors,\n  backColor = '#fff',\n  theme: 'default' | 'dark' = 'default',\n  disableColor = 'rgb(150, 150, 150)',\n) => {\n  const sets = [];\n  subjectColors.forEach((sColor) => {\n    sets.push(getColorsWithSubjectColor(sColor, backColor, theme, disableColor));\n  });\n  return sets;\n};\n","\"use strict\";function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.clearAnimationFrame=clearAnimationFrame,exports.requestAnimationFrame=requestAnimationFrame,exports.setExtraFunction=setExtraFunction;var canvas={};function setExtraFunction(e){void 0===e&&(e={}),e=e}function requestAnimationFrame(e){return canvas.requestAnimationFrame?canvas.requestAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,16)})(e)}function clearAnimationFrame(e){return canvas.clearAnimationFrame?canvas.clearAnimationFrame(e):(\"object\"===(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&window.cancelAnimationFrame?window.cancelAnimationFrame:clearTimeout)(e)}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Layouts=exports.Layout=void 0;var registy_1=require(\"../registy/index\"),Layout=function(){function t(t){var e=registy_1.getLayoutByName(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.layoutInstance.init(t)},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();exports.Layout=Layout,exports.Layouts=new Proxy({},{get:function(t,e){return registy_1.getLayoutByName(e)},set:function(t,e,o){return registy_1.registerLayout(e,o),!0}});","import {\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Arrow,\n  Marker,\n  Shape,\n} from '@antv/f6-core';\nimport { ICanvas, IGroup, IShape } from '@antv/g-base';\nimport * as Algorithm from '@antv/algorithm';\nimport Graph, { registerGraph as oRegisterGraph } from './graph/graph';\nimport { Layout, Layouts, registerLayout, unRegisterLayout } from './layout';\nimport Global from './global';\nimport Util from './util';\nimport './element';\nimport './behavior';\n\nconst F6 = {\n  version: Global.version,\n  Graph,\n  Util,\n  Layout,\n  Layouts,\n  registerLayout,\n  unRegisterLayout,\n  Global,\n  registerBehavior,\n  registerCombo,\n  registerEdge,\n  registerNode,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n};\n\nfunction registerExtenderWrapper<T1, T2>(\n  registerExtender: (registerName: T1, registerFunction: T2, global: Object) => Object,\n): (registerName: T1, registerFunction: T2) => Object {\n  return function (...args) {\n    return registerExtender.apply(null, [...args, F6]);\n  };\n}\n\nconst registerGraph = registerExtenderWrapper(oRegisterGraph);\n\n(F6 as any).registerGraph = registerGraph;\n\nexport * from '@antv/f6-core';\nexport * from './types';\nexport * from './interface/graph';\n\nexport {\n  Graph,\n  Util,\n  Layout,\n  registerLayout,\n  registerGraph,\n  Global,\n  Algorithm,\n  Arrow,\n  Marker,\n  Shape,\n  //  G-Base \n  ICanvas,\n  IGroup,\n  IShape,\n};\n\nexport default F6;\n"],"sourceRoot":""}